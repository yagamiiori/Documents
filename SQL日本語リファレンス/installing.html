<html lang="ja"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>第 2 章 MySQL のインストールと更新</title><link rel="stylesheet" type="text/css" href="mvl.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="MySQL 5.6 リファレンスマニュアル"><link rel="up" href="index.html" title="MySQL 5.6 リファレンスマニュアル"><link rel="prev" href="introduction.html" title="第 1 章 一般情報"><link rel="next" href="tutorial.html" title="第 3 章 チュートリアル">
<script language="javascript" type="text/javascript">
  function addOnload(theFunc)
  {
    var previous = window.onload;
    if (typeof window.onload != 'function')
    {
      window.onload = theFunc;
    }
    else
    {
      window.onload = function()
      {
        previous();
        theFunc();
      }
    }
  }

  addOnload(function()
  {
    var base = new Date(1442918127*1000);
    var now = new Date();
    var diff = ((now-base)/1000)/(24*3600);

    if (diff > 90) {
      var nodes = document.getElementsByClassName('titlepage');
      nodes[0].innerHTML = '<p style="border: 5px #ff0000 solid; padding: 5px; margin 5px">' +
        'This copy of the manual is more than 90 days old. We encourage you to download a ' +
        'new version from <a href="http://dev.mysql.com">dev.mysql.com/doc</a>.</p>' + nodes[0].innerHTML;
    }
  });
</script>
<noscript></noscript>
</head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">第 2 章 MySQL のインストールと更新</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="introduction.html">前</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="tutorial.html">次へ</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="installing"></a>第 2 章 MySQL のインストールと更新</h1></div></div></div><div class="toc"><p><b>目次</b></p><dl class="toc"><dt><span class="section"><a href="installing.html#general-installation-issues">2.1 一般的なインストールガイド</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#supported-os">2.1.1 MySQL Community Server がサポートしているオペレーティングシステム</a></span></dt><dt><span class="section"><a href="installing.html#which-version">2.1.2 インストールする MySQL のバージョンと配布の選択</a></span></dt><dt><span class="section"><a href="installing.html#getting-mysql">2.1.3 MySQL の取得方法</a></span></dt><dt><span class="section"><a href="installing.html#verifying-package-integrity">2.1.4 MD5 チェックサムまたは GnuPG を用いたパッケージの完全性の確認</a></span></dt><dt><span class="section"><a href="installing.html#installation-layouts">2.1.5 インストールのレイアウト</a></span></dt><dt><span class="section"><a href="installing.html#compiler-characteristics">2.1.6 コンパイラ固有のビルドの特徴</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#binary-installation">2.2 一般的なバイナリを使用した MySQL の Unix/Linux へのインストール</a></span></dt><dt><span class="section"><a href="installing.html#windows-installation">2.3 Microsoft Windows に MySQL をインストールする</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#windows-installation-layout">2.3.1 Microsoft Windows 上での MySQL のインストールレイアウト</a></span></dt><dt><span class="section"><a href="installing.html#windows-choosing-package">2.3.2 インストール用パッケージの選択</a></span></dt><dt><span class="section"><a href="installing.html#mysql-installer">2.3.3 MySQL Installer を使用した MySQL の Microsoft Windows へのインストール</a></span></dt><dt><span class="section"><a href="installing.html#windows-notifier">2.3.4 MySQL Notifier</a></span></dt><dt><span class="section"><a href="installing.html#windows-install-archive">2.3.5 非インストール Zip アーカイブを使用して Microsoft Windows に MySQL をインストールする</a></span></dt><dt><span class="section"><a href="installing.html#windows-troubleshooting">2.3.6 Microsoft Windows MySQL Server インストールのトラブルシューティング</a></span></dt><dt><span class="section"><a href="installing.html#windows-upgrading">2.3.7 Windows 上の MySQL をアップグレードする</a></span></dt><dt><span class="section"><a href="installing.html#windows-postinstallation">2.3.8 Windows でのインストール後の手順</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#osx-installation">2.4 OS X に MySQL をインストールする</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#osx-installation-notes">2.4.1 OS X への MySQL のインストールに関する一般的な注記</a></span></dt><dt><span class="section"><a href="installing.html#osx-installation-pkg">2.4.2 ネイティブパッケージを使用して OS X に MySQL をインストールする</a></span></dt><dt><span class="section"><a href="installing.html#osx-installation-launchd">2.4.3 MySQL 起動デーモンのインストール</a></span></dt><dt><span class="section"><a href="installing.html#osx-installation-startupitem">2.4.4 MySQL 起動アイテムのインストール</a></span></dt><dt><span class="section"><a href="installing.html#osx-installation-prefpane">2.4.5 MySQL Preference Pane のインストールと使用</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#linux-installation">2.5 Linux に MySQL をインストールする</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#linux-installation-yum-repo">2.5.1 MySQL Yum リポジトリを使用して MySQL を Linux にインストールする</a></span></dt><dt><span class="section"><a href="installing.html#replace-third-party-yum">2.5.2 サードパーティーの MySQL 配布を MySQL Yum リポジトリを使用して置換する</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-apt-repo">2.5.3 MySQL APT リポジトリを使用して MySQL を Linux にインストールする</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-sles-repo">2.5.4 MySQL SLES リポジトリを使用して MySQL を Linux にインストールする</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-rpm">2.5.5 RPM パッケージを使用して MySQL を Linux にインストールする</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-debian">2.5.6 オラクルからの Debian パッケージを使用して MySQL を Linux にインストールする</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-native">2.5.7 ネイティブソフトウェアリポジトリから MySQL を Linux にインストールする</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#uln-installation">2.6 Unbreakable Linux Network (ULN) を使用した MySQL のインストール</a></span></dt><dt><span class="section"><a href="installing.html#solaris-installation">2.7 Solaris および OpenSolaris に MySQL をインストールする</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#solaris-installation-pkg">2.7.1 Solaris PKG を使用して Solaris に MySQL をインストールする</a></span></dt><dt><span class="section"><a href="installing.html#solaris-installation-opensolaris">2.7.2 IPS を使用して MySQL を OpenSolaris にインストールする</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#freebsd-installation">2.8 FreeBSD に MySQL をインストールする</a></span></dt><dt><span class="section"><a href="installing.html#source-installation">2.9 ソースから MySQL をインストールする</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#source-installation-layout">2.9.1 ソースインストールの MySQL のレイアウト</a></span></dt><dt><span class="section"><a href="installing.html#installing-source-distribution">2.9.2 標準ソース配布を使用して MySQL をインストールする</a></span></dt><dt><span class="section"><a href="installing.html#installing-development-tree">2.9.3 開発ソースツリーを使用して MySQL をインストールする</a></span></dt><dt><span class="section"><a href="installing.html#source-configuration-options">2.9.4 MySQL ソース構成オプション</a></span></dt><dt><span class="section"><a href="installing.html#compilation-problems">2.9.5 MySQL のコンパイルに関する問題</a></span></dt><dt><span class="section"><a href="installing.html#source-configuration-third-party">2.9.6 MySQL の構成とサードパーティーツール</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#postinstallation">2.10 インストール後のセットアップとテスト</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#unix-postinstallation">2.10.1 Unix 類似システムでのインストール後の手順</a></span></dt><dt><span class="section"><a href="installing.html#default-privileges">2.10.2 最初の MySQL アカウントのセキュリティー設定</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#upgrading-downgrading">2.11 MySQL のアップグレードとダウングレード</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#upgrading">2.11.1 MySQL のアップグレード</a></span></dt><dt><span class="section"><a href="installing.html#downgrading">2.11.2 MySQL のダウングレード</a></span></dt><dt><span class="section"><a href="installing.html#checking-table-incompatibilities">2.11.3 テーブルまたはインデックスの再構築が必要かどうかのチェック</a></span></dt><dt><span class="section"><a href="installing.html#rebuilding-tables">2.11.4 テーブルまたはインデックスの再作成または修復</a></span></dt><dt><span class="section"><a href="installing.html#copying-databases">2.11.5 MySQL データベースのほかのマシンへのコピー</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#environment-variables">2.12 環境変数</a></span></dt><dt><span class="section"><a href="installing.html#perl-support">2.13 Perl のインストールに関する注釈</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#perl-installation">2.13.1 Unix に Perl をインストールする</a></span></dt><dt><span class="section"><a href="installing.html#activestate-perl">2.13.2 Windows に ActiveState Perl をインストールする</a></span></dt><dt><span class="section"><a href="installing.html#perl-support-problems">2.13.3 Perl DBI/DBD インタフェース使用の問題</a></span></dt></dl></dd></dl></div><a class="indexterm" name="idm139979167189040"></a><p>
    この章では MySQL の取得とインストールの方法を説明します。最初に手順の概要を、後半のセクションで詳細を説明します。MySQL をはじめてインストールするのではなく、現行のバージョンの MySQL を新しいバージョンにアップグレードする場合は、<a class="xref" href="installing.html#upgrading" title="2.11.1 MySQL のアップグレード">セクション2.11.1「MySQL のアップグレード」</a> を参照してください。アップグレードの手順およびアップグレード前に考慮すべき問題点に関する情報を記載しています。
  </p><p>
    別のデータベースシステムから MySQL に移行する場合には <a class="xref" href="faqs.html#faqs-migration" title="A.8 MySQL 5.6 FAQ: 移行">セクションA.8「MySQL 5.6 FAQ: 移行」</a> を参照してください。この資料に中には、移行の問題に関する一般的な質問に対する解答が含まれています。
  </p><p>
    MySQL のインストールは、一般に次の手順に従います。
  </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
        <span class="bold"><strong>使用しているプラットフォームで MySQL が動作し、サポートされているかどうかを判断します。</strong></span>
      </p><p>
        どのプラットフォームも同じように MySQL の実行に適しているわけではありません。また、MySQL が動作するといわれているプラットフォームのすべてをオラクル社が公式にサポートしているわけでもありません。
      </p></li><li class="listitem"><p>
        <span class="bold"><strong>インストールする配布を選択します。</strong></span>
      </p><p>
        MySQL には使用可能なバージョンがいくつかあり、ほとんどが複数の配布形式で使用可能です。バイナリ (コンパイル済み) プログラムあるいはソースコードを含むパッケージ済み配布を選択できます。不確かな場合にはバイナリ配布をご使用ください。また、弊社の最新の開発に興味があり、新しいコードのテストにご協力頂ける方に最新のソースツリーを公開しています。どのバージョンのどの配布を選択したらよいかは <a class="xref" href="installing.html#which-version" title="2.1.2 インストールする MySQL のバージョンと配布の選択">セクション2.1.2「インストールする MySQL のバージョンと配布の選択」</a> を参照してください。
      </p></li><li class="listitem"><p>
        <span class="bold"><strong>インストールする配布をダウンロードします。</strong></span>
      </p><p>
        その手順は、<a class="xref" href="installing.html#getting-mysql" title="2.1.3 MySQL の取得方法">セクション2.1.3「MySQL の取得方法」</a> を参照してください。配布の完全性を確認するには、<a class="xref" href="installing.html#verifying-package-integrity" title="2.1.4 MD5 チェックサムまたは GnuPG を用いたパッケージの完全性の確認">セクション2.1.4「MD5 チェックサムまたは GnuPG を用いたパッケージの完全性の確認」</a> の指示に従ってください。
      </p></li><li class="listitem"><p>
        <span class="bold"><strong>配布をインストールします。</strong></span>
      </p><p>
        MySQL をバイナリの配布からインストールするには、<a class="xref" href="installing.html#binary-installation" title="2.2 一般的なバイナリを使用した MySQL の Unix/Linux へのインストール">セクション2.2「一般的なバイナリを使用した MySQL の Unix/Linux へのインストール」</a> を参照してください。
      </p><p>
        MySQL をソースの配布からインストールする、あるいは現在の開発ソースツリーからインストールする場合は、<a class="xref" href="installing.html#source-installation" title="2.9 ソースから MySQL をインストールする">セクション2.9「ソースから MySQL をインストールする」</a> を参照してください。
      </p></li><li class="listitem"><p>
        <span class="bold"><strong>インストール後のセットアップが必要な場合は実行します。</strong></span>
      </p><p>
        MySQL のインストール後に、MySQL サーバーが正しく動作していることを確認するには、<a class="xref" href="installing.html#postinstallation" title="2.10 インストール後のセットアップとテスト">セクション2.10「インストール後のセットアップとテスト」</a> を参照してください。<a class="xref" href="installing.html#default-privileges" title="2.10.2 最初の MySQL アカウントのセキュリティー設定">セクション2.10.2「最初の MySQL アカウントのセキュリティー設定」</a> の情報も参照してください。このセクションでは、MySQL 初期アカウントの安全性確保の方法を説明します。ユーザーがパスワードを割り当てるまで、このアカウントには<span class="emphasis"><em>パスワードがありません</em></span>。このセクションはバイナリ配布およびソース配布の MySQL のインストールの両方に適用されます。
      </p></li><li class="listitem"><p>
        MySQL のベンチマークスクリプトを実行する場合、Perl の MySQL サポートが必要になります。<a class="xref" href="installing.html#perl-support" title="2.13 Perl のインストールに関する注釈">セクション2.13「Perl のインストールに関する注釈」</a> を参照してください。
      </p></li></ol></div><p>
    さまざまなプラットフォームおよび環境での MySQL のインストール手順は、プラットフォーム別に提供されます。
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <span class="bold"><strong>Unix、Linux、FreeBSD</strong></span>
      </p><p>
        一般的なバイナリ (たとえば、<code class="filename">.tar.gz</code> パッケージ) を使用して MySQL をほとんどの Linux および Unix プラットフォームにインストールする手順は、<a class="xref" href="installing.html#binary-installation" title="2.2 一般的なバイナリを使用した MySQL の Unix/Linux へのインストール">セクション2.2「一般的なバイナリを使用した MySQL の Unix/Linux へのインストール」</a> を参照してください。
      </p><p>
        MySQL をすべてソースコード配布またはソースコードリポジトリからビルドする場合の詳細は、<a class="xref" href="installing.html#source-installation" title="2.9 ソースから MySQL をインストールする">セクション2.9「ソースから MySQL をインストールする」</a>を参照してください。
      </p><p>
        インストール、構成、およびソースからのビルドに関するプラットフォーム固有のヘルプは、対応するプラットフォームのセクションを参照してください。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
            Linux (配布固有の方法を含む) は、<a class="xref" href="installing.html#linux-installation" title="2.5 Linux に MySQL をインストールする">セクション2.5「Linux に MySQL をインストールする」</a> を参照してください。
          </p></li><li class="listitem"><p>
            Solaris および OpenSolaris (PKG および IPS 形式を含む) は、<a class="xref" href="installing.html#solaris-installation" title="2.7 Solaris および OpenSolaris に MySQL をインストールする">セクション2.7「Solaris および OpenSolaris に MySQL をインストールする」</a> を参照してください。
          </p></li><li class="listitem"><p>
            IBM AIX は、<a class="xref" href="installing.html#solaris-installation" title="2.7 Solaris および OpenSolaris に MySQL をインストールする">セクション2.7「Solaris および OpenSolaris に MySQL をインストールする」</a> を参照してください。
          </p></li><li class="listitem"><p>
            FreeBSD は、<a class="xref" href="installing.html#freebsd-installation" title="2.8 FreeBSD に MySQL をインストールする">セクション2.8「FreeBSD に MySQL をインストールする」</a> を参照してください。
          </p></li></ul></div></li><li class="listitem"><p>
        <span class="bold"><strong>Microsoft Windows</strong></span>
      </p><p>
        バイナリ zip または MSI パッケージを使用して、MySQL を Microsoft Windows にインストールする方法については、 <a class="xref" href="installing.html#windows-installation" title="2.3 Microsoft Windows に MySQL をインストールする">セクション2.3「Microsoft Windows に MySQL をインストールする」</a> を参照してください。
      </p><p>
        Microsoft Visual Studio を使用して MySQL をソースコードからビルドする方法の詳細は、<a class="xref" href="installing.html#source-installation" title="2.9 ソースから MySQL をインストールする">セクション2.9「ソースから MySQL をインストールする」</a> を参照してください。
      </p></li><li class="listitem"><p>
        <span class="bold"><strong>OS X</strong></span>
      </p><p>
        OS X のインストール (バイナリパッケージおよびネイティブ PKG 形式の両方の使用を含む) の詳細は、<a class="xref" href="installing.html#osx-installation" title="2.4 OS X に MySQL をインストールする">セクション2.4「OS X に MySQL をインストールする」</a> を参照してください。
      </p><p>
        MySQL 起動アイテムを使用して MySQL を自動的に起動および停止する方法の詳細は、<a class="xref" href="installing.html#osx-installation-startupitem" title="2.4.4 MySQL 起動アイテムのインストール">セクション2.4.4「MySQL 起動アイテムのインストール」</a> を参照してください。
      </p><p>
        MySQL Preference Pane については、<a class="xref" href="installing.html#osx-installation-prefpane" title="2.4.5 MySQL Preference Pane のインストールと使用">セクション2.4.5「MySQL Preference Pane のインストールと使用」</a> を参照してください。
      </p></li></ul></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="general-installation-issues"></a>2.1 一般的なインストールガイド</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#supported-os">2.1.1 MySQL Community Server がサポートしているオペレーティングシステム</a></span></dt><dt><span class="section"><a href="installing.html#which-version">2.1.2 インストールする MySQL のバージョンと配布の選択</a></span></dt><dt><span class="section"><a href="installing.html#getting-mysql">2.1.3 MySQL の取得方法</a></span></dt><dt><span class="section"><a href="installing.html#verifying-package-integrity">2.1.4 MD5 チェックサムまたは GnuPG を用いたパッケージの完全性の確認</a></span></dt><dt><span class="section"><a href="installing.html#installation-layouts">2.1.5 インストールのレイアウト</a></span></dt><dt><span class="section"><a href="installing.html#compiler-characteristics">2.1.6 コンパイラ固有のビルドの特徴</a></span></dt></dl></div><p>
    次の数セクションには、配布の選択、ダウンロード、および確認に必要な情報が含まれています。この章の次のセクション以降で、選択した配布のインストールの方法を説明します。バイナリ配布については、<a class="xref" href="installing.html#binary-installation" title="2.2 一般的なバイナリを使用した MySQL の Unix/Linux へのインストール">セクション2.2「一般的なバイナリを使用した MySQL の Unix/Linux へのインストール」</a> の指示、または使用しているプラットフォームに対応するセクションがあればそちらを参照してください。MySQL をソースからビルドするには、<a class="xref" href="installing.html#source-installation" title="2.9 ソースから MySQL をインストールする">セクション2.9「ソースから MySQL をインストールする」</a> を参照してください。
  </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="supported-os"></a>2.1.1 MySQL Community Server がサポートしているオペレーティングシステム</h3></div></div></div><a class="indexterm" name="idm139979167131408"></a><a class="indexterm" name="idm139979167129232"></a><a class="indexterm" name="idm139979167127824"></a><a class="indexterm" name="idm139979167126448"></a><a class="indexterm" name="idm139979167125072"></a><p>
      MySQL は、多数のオペレーティングシステムおよびプラットフォームで使用可能です。公式にサポートされているプラットフォームの詳細は、MySQL Web サイトの <a class="ulink" href="http://www.mysql.com/support/supportedplatforms/database.html" target="_top">http://www.mysql.com/support/supportedplatforms/database.html</a> を参照してください。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="which-version"></a>2.1.2 インストールする MySQL のバージョンと配布の選択</h3></div></div></div><p>
      MySQL のインストールを準備する際、使用するバージョン、およびインストールに使用する配布の形式 (バイナリまたはソース) を決定してください。
    </p><a class="indexterm" name="idm139979167118656"></a><a class="indexterm" name="idm139979167117184"></a><a class="indexterm" name="idm139979167115808"></a><a class="indexterm" name="idm139979167114448"></a><a class="indexterm" name="idm139979167112416"></a><p>
      まず、開発リリースまたは GA リリースのどちらをインストールするかを決定します。開発リリースには最新の機能がありますが、本番での使用は推奨されません。GA (一般提供) リリースは本番または安定リリースとも呼ばれ、本番での使用を意図しています。最新の GA リリースを使用することを推奨します。
    </p><a class="indexterm" name="idm139979167109328"></a><a class="indexterm" name="idm139979167107264"></a><p>
      MySQL 5.6 の命名スキームでは、<span class="bold"><strong>mysql-5.6.1-m1</strong></span> のように 3 つの数字とサフィクスで構成されるリリース名を使用します。リリース名の番号は次のように解釈されます。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          最初の (<span class="bold"><strong>5</strong></span>) はメジャーバージョンおよびファイル形式を表します。MySQL 5 のすべてのリリースのファイル形式は同じです。
        </p></li><li class="listitem"><p>
          2 番目の番号 (<span class="bold"><strong>6</strong></span>) はリリースレベルです。メジャーバージョン番号とリリースレベルは、合わせてリリースのシリーズ番号を表します。
        </p></li><li class="listitem"><p>
          3 番目の番号 (<span class="bold"><strong>1</strong></span>) はリリースシリーズ内でのバージョン番号です。これは新しいリリース毎に数が増えます。一般的には、選択したシリーズの最新のバージョンを使用します。
        </p></li></ul></div><p>
      マイナーな更新が行われるたびに、バージョン文字列の最後の数字が大きくなります。メジャーな機能の追加あるいは旧バージョンとのマイナーな非互換性が加えられた場合には、バージョン文字列の 2 番目の番号が大きくなります。ファイル形式が変更になった場合、最初の番号の値が増えます。
    </p><p>
      リリース名には、リリースの安定性を示すサフィクスが含まれる場合もあります。シリーズ内のリリースは、サフィクスが順に進展していくことで、安定性レベルの改善を示します。サフィクスには次のようなものがあります。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          サフィクスがない場合、そのリリースは一般提供 (GA) すなわち本番リリースを意味します。GA リリースは安定しており、それまでのリリース段階をすべて合格したもので、信頼性があり重大なバグのない、本番システムの使用に適したものだと認識されています。そのリリースには、重大なバグ修正のみが適用されます。
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>m<span class="emphasis"><em>N</em></span></strong></span> (<span class="bold"><strong>m1</strong></span>、<span class="bold"><strong>m2</strong></span>、<span class="bold"><strong>m3</strong></span>、など) は、マイルストーン番号を表します。MySQL の開発では、マイルストーンモデルを使用し、各マイルストーンは、徹底的にテストされた機能の小規模なサブセットにしっかりと焦点を当てた、少数のバージョンを進展していきます。あるマイルストーンのリリース後、開発は次の小規模な機能セット (これも徹底的にテストされます) に焦点を当てて、別の少数のリリースに進みます。マイルストーンリリース内の機能は、試作レベルの品質であるとみなされます。
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>rc</strong></span> はリリース候補を意味します。リリース候補は安定しているとみなされ、MySQL の社内のすべてのテストに合格したもので、すべての既知の致命的なランタイムのバグは修正されています。しかしながら、これらのリリースはすべてのバグが特定されたと確信するに足る広範な使用事例を経たものではありません。マイナーな修正のみが追加されています。
        </p></li></ul></div><p>
      インストールする MySQL のバージョンが決まったら、オペレーティングシステムに<span class="bold"><strong>インストールする配布</strong></span>を決定しなければなりません。ほとんどのユースケースでは、バイナリ配布を選択するのが適切です。バイナリ配布は、Linux の RPM パッケージや OS X の DMG パッケージなど、多くのプラットフォームでネイティブ形式が利用可能です。配布は、Zip アーカイブや圧縮 <span class="command"><strong>tar</strong></span> ファイルなど、より一般的な形式でも利用可能です。Windows では、<a class="link" href="installing.html#mysql-installer" title="2.3.3 MySQL Installer を使用した MySQL の Microsoft Windows へのインストール">MySQL Installer</a> を使用してバイナリ配布をインストールできます。
    </p><p>
      環境によっては、MySQL をソースの配布でインストールしたほうがよい場合もあります。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          MySQL を明示的な場所にインストールしたい場合。標準のバイナリの配布はインストールの場所にかかわらずすぐに動作しますが、MySQL コンポーネントを希望する場所に配置することで柔軟性をさらに向上させる必要に駆られる場合があります。
        </p></li><li class="listitem"><p>
          <span class="command"><strong>mysqld</strong></span> を、標準のバイナリの配布には含まれていない機能が確実に使用できるように構成したい場合。機能が確実に使用できるようにするためのもっとも一般的な予備オプションの一覧を次に示します。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              TCP ラッパーサポートのための <code class="option">-DWITH_LIBWRAP=1</code>。
            </p></li><li class="listitem"><p>
              圧縮に依存する機能のための <code class="option">-DWITH_ZLIB={system|bundled}</code>
            </p></li><li class="listitem"><p>
              デバッグサポートのための <code class="option">-DWITH_DEBUG=1</code>
            </p></li></ul></div><p>
          詳細は <a class="xref" href="installing.html#source-configuration-options" title="2.9.4 MySQL ソース構成オプション">セクション2.9.4「MySQL ソース構成オプション」</a> を参照してください。
        </p></li><li class="listitem"><p>
          <span class="command"><strong>mysqld</strong></span> を、標準のバイナリの配布に含まれる一部の機能を使用しないように構成する場合。たとえば、配布は通常すべての文字セットをサポートするようにコンパイルされています。小規模な MySQL Server を希望される場合、必要な文字セットのみのサポートで再コンパイルできます。
        </p></li><li class="listitem"><p>
          いずれかの Git リポジトリから最新のソースを使用して、現在のすべてのバグ修正にアクセスできるようにする場合。たとえば、バグが見つかりそれを MySQL の開発チームにレポートすると、バグ修正がソースのリポジトリにコミットされ、そこにアクセスできます。バグの修正は、リリースが実際に公開されるまでそのリリースには表示されません。
        </p></li><li class="listitem"><p>
          MySQL を構成する C および C++ コードを読んだり修正したりする場合。この目的のためには、ソースの配布を取得するとよいでしょう。
        </p></li><li class="listitem"><p>
          ソースの配布には、バイナリの配布より多くのテストおよび例が含まれています。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="getting-mysql"></a>2.1.3 MySQL の取得方法</h3></div></div></div><a class="indexterm" name="idm139979167064896"></a><a class="indexterm" name="idm139979167063472"></a><a class="indexterm" name="idm139979167062096"></a><a class="indexterm" name="idm139979167060064"></a><a class="indexterm" name="idm139979167058704"></a><a class="indexterm" name="idm139979167057360"></a><p>
      MySQL の最新バージョンおよびダウンロードの説明書については、ダウンロードページ <a class="ulink" href="http://dev.mysql.com/downloads/" target="_top">http://dev.mysql.com/downloads/</a> を参照してください。MySQL のダウンロードのミラーサイトの最新の完全なリストは、<a class="ulink" href="http://dev.mysql.com/downloads/mirrors.html" target="_top">http://dev.mysql.com/downloads/mirrors.html</a> を参照してください。そこには、MySQL ミラーサイトになる方法および不良ミラーおよび旧式ミラーのレポート方法に関する情報もあります。
    </p><p>
      パッケージ管理システムとして Yum を使用する RPM ベースの Linux プラットフォームでは、<a class="ulink" href="http://dev.mysql.com/downloads/repo/yum/" target="_top">MySQL Yum Repository</a> を使用して MySQL をインストールできます。詳細は、<a class="xref" href="installing.html#linux-installation-yum-repo" title="2.5.1 MySQL Yum リポジトリを使用して MySQL を Linux にインストールする">セクション2.5.1「MySQL Yum リポジトリを使用して MySQL を Linux にインストールする」</a> を参照してください。
    </p><p>
      多くの Debian ベースの Linux プラットフォームでは、<a class="ulink" href="http://dev.mysql.com/downloads/repo/apt/" target="_top">MySQL APT Repository</a> を使用して MySQL をインストールできます。詳細は、<a class="xref" href="installing.html#linux-installation-apt-repo" title="2.5.3 MySQL APT リポジトリを使用して MySQL を Linux にインストールする">セクション2.5.3「MySQL APT リポジトリを使用して MySQL を Linux にインストールする」</a> を参照してください。
    </p><p>
      SUSE Linux Enterprise Server (SLES) プラットフォームでは、<a class="ulink" href="http://dev.mysql.com/downloads/repo/suse/" target="_top">MySQL SLES Repository</a> を使用して MySQL をインストールできます。詳細は、<a class="xref" href="installing.html#linux-installation-sles-repo" title="2.5.4 MySQL SLES リポジトリを使用して MySQL を Linux にインストールする">セクション2.5.4「MySQL SLES リポジトリを使用して MySQL を Linux にインストールする」</a> を参照してください。
    </p><p>
      最新の開発ソースの取得については、<a class="xref" href="installing.html#installing-development-tree" title="2.9.3 開発ソースツリーを使用して MySQL をインストールする">セクション2.9.3「開発ソースツリーを使用して MySQL をインストールする」</a> を参照してください。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="verifying-package-integrity"></a>2.1.4 MD5 チェックサムまたは GnuPG を用いたパッケージの完全性の確認</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#verifying-md5-checksum">2.1.4.1 MD5 チェックサムの確認</a></span></dt><dt><span class="section"><a href="installing.html#checking-gpg-signature">2.1.4.2 GnuPG を使用した署名確認</a></span></dt><dt><span class="section"><a href="installing.html#checking-gpg-signature-windows">2.1.4.3 Gpg4win for Windows を使用した署名確認</a></span></dt><dt><span class="section"><a href="installing.html#checking-rpm-signature">2.1.4.4 RPM を使用した署名確認</a></span></dt></dl></div><p>
      お客様の要件に適した MySQL のパッケージをダウンロードしてインストールする前に、そのパッケージが元のままで改ざんされていないことを確認する必要があります。完全性の確認には 3 つの方法があります。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          MD5 チェックサム
        </p></li><li class="listitem"><p>
          <code class="literal">GnuPG</code> (GNU Privacy Guard) を使用した暗号署名
        </p></li><li class="listitem"><p>
          RPM パッケージの場合、内蔵 RPM 完全性確認メカニズム
        </p></li></ul></div><p>
      次のセクションではこれらの方法の使用方法について説明します。
    </p><p>
      MD5 チェックサムまたは GPG 署名が一致しない場合には、別のミラーサイトから対応するパッケージを再度ダウンロードします。
    </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="verifying-md5-checksum"></a>2.1.4.1 MD5 チェックサムの確認</h4></div></div></div><p>
        MySQL パッケージをダウンロードしたら、MD5 チェックサムが MySQL のダウンロードページのチェックサムと一致することを確認してください。各パッケージには固有のチェックサムがあり、ダウンロードしたパッケージに対して確認できます。各 MySQL 製品に対して、正しい MD5 チェックサムがダウンロードページに記載されているので、ダウンロードしたファイル (製品) の MD5 チェックサムと比較します。
      </p><p>
        各オペレーティングシステムおよびセットアップで、MD5 チェックサムをチェックするための独自のツールが提供されています。通常、このコマンドは <span class="command"><strong>md5sum</strong></span> という名前か、または <span class="command"><strong>md5</strong></span> という名前で、一部のオペレーティングシステムではまったく提供されていません。Linux の場合は <span class="bold"><strong>GNU テキストユーティリティー</strong></span>パッケージの一部で、さまざまなプラットフォームに利用できます。ソースコードを <a class="ulink" href="http://www.gnu.org/software/textutils/" target="_top">http://www.gnu.org/software/textutils/</a> からダウンロードすることもできます。OpenSSL がインストールされている場合は、代わりにコマンド <span class="command"><strong>openssl md5 <em class="replaceable"><code>package_name</code></em></strong></span> を使用できます。<span class="command"><strong>md5</strong></span> コマンド行ユーティリティーの Windows 実装は、<a class="ulink" href="http://www.fourmilab.ch/md5/" target="_top">http://www.fourmilab.ch/md5/</a> から入手できます。<span class="command"><strong>winMd5Sum</strong></span> はグラフィカルな MD5 チェックツールで、<a class="ulink" href="http://www.nullriver.com/index/products/winmd5sum" target="_top">http://www.nullriver.com/index/products/winmd5sum</a> から入手できます。Microsoft Windows の例では、名前は <span class="command"><strong>md5.exe</strong></span> であるものとします。
      </p><p>
        Linux および Microsoft Windows の例
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>md5sum mysql-standard-5.6.23-linux-i686.tar.gz</code></strong>
aaab65abbec64d5e907dcd41b8699945  mysql-standard-5.6.23-linux-i686.tar.gz
</pre><pre class="programlisting">
shell&gt; <strong class="userinput"><code>md5.exe mysql-installer-community-5.6.23.msi</code></strong>
aaab65abbec64d5e907dcd41b8699945  mysql-installer-community-5.6.23.msi
</pre><p>
        結果のチェックサム (16 進数の文字列) が、ダウンロードページの対応するパッケージの真下のチェックサムと一致していることを確認してください。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          アーカイブファイルの内部に含まれるファイルではなく、<span class="emphasis"><em>アーカイブファイル</em></span> (たとえば <code class="filename">.zip</code>、<code class="filename">.tar.gz</code>、または <code class="filename">.msi</code> ファイル) のチェックサムを必ず確認してください。つまり、内容を抽出する前のファイルを確認します。
        </p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="checking-gpg-signature"></a>2.1.4.2 GnuPG を使用した署名確認</h4></div></div></div><p>
        パッケージの完全性および信憑性を確認する別の方法は、暗号署名を使用するものです。これは、<a class="link" href="installing.html#verifying-md5-checksum" title="2.1.4.1 MD5 チェックサムの確認">MD5 チェックサム</a>を使用するより信頼性が高いですが、手間がかかります。
      </p><p>
        MySQL のダウンロード可能なパッケージは、<span class="command"><strong>GnuPG</strong></span> (GNU Privacy Guard) を使用して署名されます。<span class="command"><strong>GnuPG</strong></span> は、Phil Zimmerman 氏の周知の Pretty Good Privacy (<span class="command"><strong>PGP</strong></span>) のオープンソース版です。<span class="command"><strong>GnuPG</strong></span> の詳細とその取得およびシステムへのインストール方法については、<a class="ulink" href="http://www.gnupg.org/" target="_top">http://www.gnupg.org/</a> を参照してください。ほとんどの Linux の配布にはデフォルトで <span class="command"><strong>GnuPG</strong></span> がインストールされています。<span class="command"><strong>GnuPG</strong></span> の詳細は、<a class="ulink" href="http://www.openpgp.org/" target="_top">http://www.openpgp.org/</a> を参照してください。
      </p><p>
        特定のパッケージの署名を確認するには、まず公開 GPG ビルド鍵を取得する必要があります。これは <a class="ulink" href="http://pgp.mit.edu/" target="_top">http://pgp.mit.edu/</a> からダウンロードできます。取得する鍵は <code class="literal">mysql-build@oss.oracle.com</code> という名前です。また、次のテキストから直接鍵をカット&amp;ペーストできます。
      </p><pre class="programlisting">
-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: GnuPG v1.4.9 (SunOS)

mQGiBD4+owwRBAC14GIfUfCyEDSIePvEW3SAFUdJBtoQHH/nJKZyQT7h9bPlUWC3
RODjQReyCITRrdwyrKUGku2FmeVGwn2u2WmDMNABLnpprWPkBdCk96+OmSLN9brZ
fw2vOUgCmYv2hW0hyDHuvYlQA/BThQoADgj8AW6/0Lo7V1W9/8VuHP0gQwCgvzV3
BqOxRznNCRCRxAuAuVztHRcEAJooQK1+iSiunZMYD1WufeXfshc57S/+yeJkegNW
hxwR9pRWVArNYJdDRT+rf2RUe3vpquKNQU/hnEIUHJRQqYHo8gTxvxXNQc7fJYLV
K2HtkrPbP72vwsEKMYhhr0eKCbtLGfls9krjJ6sBgACyP/Vb7hiPwxh6rDZ7ITnE
kYpXBACmWpP8NJTkamEnPCia2ZoOHODANwpUkP43I7jsDmgtobZX9qnrAXw+uNDI
QJEXM6FSbi0LLtZciNlYsafwAPEOMDKpMqAK6IyisNtPvaLd8lH0bPAnWqcyefep
rv0sxxqUEMcM3o7wwgfN83POkDasDbs3pjwPhxvhz6//62zQJ7Q2TXlTUUwgUmVs
ZWFzZSBFbmdpbmVlcmluZyA8bXlzcWwtYnVpbGRAb3NzLm9yYWNsZS5jb20+iGkE
ExECACkCGyMGCwkIBwMCBBUCCAMEFgIDAQIeAQIXgAIZAQUCUwHUZgUJGmbLywAK
CRCMcY07UHLh9V+DAKCjS1gGwgVI/eut+5L+l2v3ybl+ZgCcD7ZoA341HtoroV3U
6xRD09fUgeq0O015U1FMIFBhY2thZ2Ugc2lnbmluZyBrZXkgKHd3dy5teXNxbC5j
b20pIDxidWlsZEBteXNxbC5jb20+iG8EMBECAC8FAk53Pa0oHSBidWlsZEBteXNx
bC5jb20gd2lsbCBzdG9wIHdvcmtpbmcgc29vbgAKCRCMcY07UHLh9bU9AJ9xDK0o
xJFL9vTl9OSZC4lX0K9AzwCcCrS9cnJyz79eaRjL0s2r/CcljdyIZQQTEQIAHQUC
R6yUtAUJDTBYqAULBwoDBAMVAwIDFgIBAheAABIJEIxxjTtQcuH1B2VHUEcAAQGu
kgCffz4GUEjzXkOi71VcwgCxASTgbe0An34LPr1j9fCbrXWXO14msIADfb5piEwE
ExECAAwFAj4+o9EFgwlmALsACgkQSVDhKrJykfIk4QCfWbEeKN+3TRspe+5xKj+k
QJSammIAnjUz0xFWPlVx0f8o38qNG1bq0cU9iEwEExECAAwFAj5CggMFgwliIokA
CgkQtvXNTca6JD+WkQCgiGmnoGjMojynp5ppvMXkyUkfnykAoK79E6h8rwkSDZou
iz7nMRisH8uyiEYEEBECAAYFAj+s468ACgkQr8UjSHiDdA/2lgCg21IhIMMABTYd
p/IBiUsP/JQLiEoAnRzMywEtujQz/E9ono7H1DkebDa4iEYEEBECAAYFAj+0Q3cA
CgkQhZavqzBzTmbGwwCdFqD1frViC7WRt8GKoOS7hzNN32kAnirlbwpnT7a6NOsQ
83nk11a2dePhiEYEEBECAAYFAkNbs+oACgkQi9gubzC5S1x/dACdELKoXQKkwJN0
gZztsM7kjsIgyFMAnRRMbHQ7V39XC90OIpaPjk3a01tgiEYEExECAAYFAkTxMyYA
CgkQ9knE9GCTUwwKcQCgibak/SwhxWH1ijRhgYCo5GtM4vcAnAhtzL57wcw1Kg1X
m7nVGetUqJ7fiEwEEBECAAwFAkGBywEFgwYi2YsACgkQGFnQH2d7oexCjQCcD8sJ
NDc/mS8m8OGDUOx9VMWcnGkAnj1YWOD+Qhxo3mI/Ul9oEAhNkjcfiEwEEBECAAwF
AkGByzQFgwYi2VgACgkQgcL36+ITtpIiIwCdFVNVUB8xe8mFXoPm4d9Z54PTjpMA
niSPA/ZsfJ3oOMLKar4F0QPPrdrGiEwEEBECAAwFAkGBy2IFgwYi2SoACgkQa3Ds
2V3D9HMJqgCbBYzr5GPXOXgP88jKzmdbjweqXeEAnRss4G2G/3qD7uhTL1SPT1SH
jWUXiEwEEBECAAwFAkHQkyQFgwXUEWgACgkQfSXKCsEpp8JiVQCghvWvkPqowsw8
w7WSseTcw1tflvkAni+vLHl/DqIly0LkZYn5jzK1dpvfiEwEEBECAAwFAkIrW7oF
gwV5SNIACgkQ5hukiRXruavzEwCgkzL5QkLSypcw9LGHcFSx1ya0VL4An35nXkum
g6cCJ1NP8r2I4NcZWIrqiEwEEhECAAwFAkAqWToFgwd6S1IACgkQPKEfNJT6+GEm
XACcD+A53A5OGM7w750W11ukq4iZ9ckAnRMvndAqn3YTOxxlLPj2UPZiSgSqiEwE
EhECAAwFAkA9+roFgwdmqdIACgkQ8tdcY+OcZZyy3wCgtDcwlaq20w0cNuXFLLNe
EUaFFTwAni6RHN80moSVAdDTRkzZacJU3M5QiEwEEhECAAwFAkEOCoQFgwaWmggA
CgkQOcor9D1qil/83QCeITZ9wIo7XAMjC6y4ZWUL4m+edZsAoMOhRIRi42fmrNFu
vNZbnMGej81viEwEEhECAAwFAkKApTQFgwUj/1gACgkQBA3AhXyDn6jjJACcD1A4
UtXk84J13JQyoH9+dy24714Aniwlsso/9ndICJOkqs2j5dlHFq6oiEwEExECAAwF
Aj5NTYQFgwlXVwgACgkQLbt2v63UyTMFDACglT5G5NVKf5Mj65bFSlPzb92zk2QA
n1uc2h19/IwwrsbIyK/9POJ+JMP7iEwEExECAAwFAkHXgHYFgwXNJBYACgkQZu/b
yM2C/T4/vACfXe67xiSHB80wkmFZ2krb+oz/gBAAnjR2ucpbaonkQQgnC3GnBqmC
vNaJiEwEExECAAwFAkIYgQ4FgwWMI34ACgkQdsEDHKIxbqGg7gCfQi2HcrHn+yLF
uNlH1oSOh48ZM0oAn3hKV0uIRJphonHaUYiUP1ttWgdBiGUEExECAB0FCwcKAwQD
FQMCAxYCAQIXgAUCS3AvygUJEPPzpwASB2VHUEcAAQEJEIxxjTtQcuH1sNsAniYp
YBGqy/HhMnw3WE8kXahOOR5KAJ4xUmWPGYP4l3hKxyNK9OAUbpDVYIh7BDARAgA7
BQJCdzX1NB0AT29wcy4uLiBzaG91bGQgaGF2ZSBiZWVuIGxvY2FsISBJJ20gKnNv
KiBzdHVwaWQuLi4ACgkQOcor9D1qil/vRwCdFo08f66oKLiuEAqzlf9iDlPozEEA
n2EgvCYLCCHjfGosrkrU3WK5NFVgiI8EMBECAE8FAkVvAL9IHQBTaG91bGQgaGF2
ZSBiZWVuIGEgbG9jYWwgc2lnbmF0dXJlLCBvciBzb21ldGhpbmcgLSBXVEYgd2Fz
IEkgdGhpbmtpbmc/AAoJEDnKK/Q9aopfoPsAn3BVqKOalJeF0xPSvLR90PsRlnmG
AJ44oisY7Tl3NJbPgZal8W32fbqgbIkCIgQQAQIADAUCQYHLhQWDBiLZBwAKCRCq
4+bOZqFEaKgvEACCErnaHGyUYa0wETjj6DLEXsqeOiXad4i9aBQxnD35GUgcFofC
/nCY4XcnCMMEnmdQ9ofUuU3OBJ6BNJIbEusAabgLooebP/3KEaiCIiyhHYU5jarp
ZAh+Zopgs3Oc11mQ1tIaS69iJxrGTLodkAsAJAeEUwTPq9fHFFzC1eGBysoyFWg4
bIjz/zClI+qyTbFA5g6tRoiXTo8ko7QhY2AA5UGEg+83Hdb6akC04Z2QRErxKAqr
phHzj8XpjVOsQAdAi/qVKQeNKROlJ+iq6+YesmcWGfzeb87dGNweVFDJIGA0qY27
pTb2lExYjsRFN4Cb13NfodAbMTOxcAWZ7jAPCxAPlHUG++mHMrhQXEToZnBFE4nb
nC7vOBNgWdjUgXcpkUCkop4b17BFpR+k8ZtYLSS8p2LLz4uAeCcSm2/msJxT7rC/
FvoH8428oHincqs2ICo9zO/Ud4HmmO0O+SsZdVKIIjinGyOVWb4OOzkAlnnhEZ3o
6hAHcREIsBgPwEYVTj/9ZdC0AO44Nj9cU7awaqgtrnwwfr/o4V2gl8bLSkltZU27
/29HeuOeFGjlFe0YrDd/aRNsxbyb2O28H4sG1CVZmC5uK1iQBDiSyA7Q0bbdofCW
oQzm5twlpKWnY8Oe0ub9XP5p/sVfck4FceWFHwv+/PC9RzSl33lQ6vM2wIkCIgQT
AQIADAUCQp8KHAWDBQWacAAKCRDYwgoJWiRXzyE+D/9uc7z6fIsalfOYoLN60ajA
bQbI/uRKBFugyZ5RoaItusn9Z2rAtn61WrFhu4uCSJtFN1ny2RERg40f56pTghKr
D+YEt+Nze6+FKQ5AbGIdFsR/2bUk+ZZRSt83e14Lcb6ii/fJfzkoIox9ltkifQxq
Y7Tvk4noKu4oLSc8O1Wsfc/y0B9sYUUCmUfcnq58DEmGie9ovUslmyt5NPnveXxp
5UeaRc5Rqt9tK2B4A+7/cqENrdZJbAMSunt2+2fkYiRunAFPKPBdJBsY1sxeL/A9
aKe0viKEXQdAWqdNZKNCi8rd/oOP99/9lMbFudAbX6nL2DSb1OG2Z7NWEqgIAzjm
pwYYPCKeVz5Q8R+if9/fe5+STY/55OaI33fJ2H3v+U435VjYqbrerWe36xJItcJe
qUzW71fQtXi1CTEl3w2ch7VF5oj/QyjabLnAlHgSlkSi6p7By5C2MnbCHlCfPnIi
nPhFoRcRGPjJe9nFwGs+QblvS/Chzc2WX3s/2SWm4gEUKRX4zsAJ5ocyfa/vkxCk
SxK/erWlCPf/J1T70+i5waXDN/E3enSet/WL7h94pQKpjz8OdGL4JSBHuAVGA+a+
dknqnPF0KMKLhjrgV+L7O84FhbmAP7PXm3xmiMPriXf+el5fZZequQoIagf8rdRH
HhRJxQgI0HNknkaOqs8dtrkCDQQ+PqMdEAgA7+GJfxbMdY4wslPnjH9rF4N2qfWs
EN/lxaZoJYc3a6M02WCnHl6ahT2/tBK2w1QI4YFteR47gCvtgb6O1JHffOo2HfLm
RDRiRjd1DTCHqeyX7CHhcghj/dNRlW2Z0l5QFEcmV9U0Vhp3aFfWC4Ujfs3LU+hk
AWzE7zaD5cH9J7yv/6xuZVw411x0h4UqsTcWMu0iM1BzELqX1DY7LwoPEb/O9Rkb
f4fmLe11EzIaCa4PqARXQZc4dhSinMt6K3X4BrRsKTfozBu74F47D8Ilbf5vSYHb
uE5p/1oIDznkg/p8kW+3FxuWrycciqFTcNz215yyX39LXFnlLzKUb/F5GwADBQf+
Lwqqa8CGrRfsOAJxim63CHfty5mUc5rUSnTslGYEIOCR1BeQauyPZbPDsDD9MZ1Z
aSafanFvwFG6Llx9xkU7tzq+vKLoWkm4u5xf3vn55VjnSd1aQ9eQnUcXiL4cnBGo
TbOWI39EcyzgslzBdC++MPjcQTcA7p6JUVsP6oAB3FQWg54tuUo0Ec8bsM8b3Ev4
2LmuQT5NdKHGwHsXTPtl0klk4bQk4OajHsiy1BMahpT27jWjJlMiJc+IWJ0mghkK
Ht926s/ymfdf5HkdQ1cyvsz5tryVI3Fx78XeSYfQvuuwqp2H139pXGEkg0n6KdUO
etdZWhe70YGNPw1yjWJT1IhUBBgRAgAMBQJOdz3tBQkT+wG4ABIHZUdQRwABAQkQ
jHGNO1By4fUUmwCbBYr2+bBEn/L2BOcnw9Z/QFWuhRMAoKVgCFm5fadQ3Afi+UQl
AcOphrnJ
=443I
-----END PGP PUBLIC KEY BLOCK-----
</pre><p>
        ビルド鍵を個人の公開 GPG 鍵リングにインポートするには、<span class="command"><strong>gpg --import</strong></span> を使用します。たとえば、鍵を <code class="filename">mysql_pubkey.asc</code> ファイルに保存した場合、インポートコマンドは次のようになります。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>gpg --import mysql_pubkey.asc</code></strong>
gpg: key 5072E1F5: public key "MySQL Release Engineering
&lt;mysql-build@oss.oracle.com&gt;" imported
gpg: Total number processed: 1
gpg:               imported: 1
gpg: no ultimately trusted keys found
</pre><p>
        公開鍵 ID の <code class="literal">5072E1F5</code> を使用して、公開鍵サーバーから鍵をダウンロードすることもできます。
      </p><pre class="programlisting">shell&gt; gpg --recv-keys 5072E1F5
gpg: requesting key 5072E1F5 from hkp server keys.gnupg.net
gpg: key 5072E1F5: "MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;"
1 new user ID
gpg: key 5072E1F5: "MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;"
53 new signatures
gpg: no ultimately trusted keys found
gpg: Total number processed: 1
gpg:           new user IDs: 1
gpg:         new signatures: 53
</pre><p>
        鍵を RPM 構成にインポートして RPM インストールパッケージを検証する場合、鍵を直接インポートできるはずです。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>rpm --import mysql_pubkey.asc</code></strong>
</pre><p>
        問題が生じた場合、または RPM 固有の情報が必要な場合は、<a class="xref" href="installing.html#checking-rpm-signature" title="2.1.4.4 RPM を使用した署名確認">セクション2.1.4.4「RPM を使用した署名確認」</a> を参照してください。
      </p><p>
        公開ビルド鍵をダウンロードしてインポートしたあと、所望の MySQL パッケージとそれに対応する署名をダウンロードします。これもダウンロードページで入手できます。次の表の例に示すように、署名ファイルの名前は配布ファイルと同じで、拡張子 <code class="filename">.asc</code> が付いています。
      </p><div class="table"><a name="idm139979166982768"></a><p class="title"><b>表 2.1 ソースファイルの MySQL パッケージと署名ファイル</b></p><div class="table-contents"><table summary="ソースファイルの MySQL パッケージと署名ファイル" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">ファイルタイプ</th><th scope="col">ファイル名</th></tr></thead><tbody><tr><td scope="row">配布ファイル</td><td><code class="literal">mysql-standard-5.6.23-linux-i686.tar.gz</code></td></tr><tr><td scope="row">署名ファイル</td><td><code class="literal">mysql-standard-5.6.23-linux-i686.tar.gz.asc</code></td></tr></tbody></table></div></div><br class="table-break"><p>
        両方のファイルが同じディレクトリにあることを確認してから、次のコマンドを実行して配布ファイルの署名を確認します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>gpg --verify <em class="replaceable"><code>package_name</code></em>.asc</code></strong>
</pre><p>
        ダウンロードしたパッケージが有効である場合は、次のように「Good signature」 (良好な署名) であることが示されます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>gpg --verify mysql-standard-5.6.23-linux-i686.tar.gz.asc</code></strong>
gpg: Signature made Tue 01 Feb 2011 02:38:30 AM CST using DSA key ID 5072E1F5
gpg: Good signature from "MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;"
</pre><p>
        <code class="literal">Good signature</code> メッセージは、ファイルの署名が弊社のサイトに記載されている署名と比較して有効であることを示します。しかし、次のような警告が表示される場合もあります。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>gpg --verify mysql-standard-5.6.23-linux-i686.tar.gz.asc</code></strong>
gpg: Signature made Wed 23 Jan 2013 02:25:45 AM PST using DSA key ID 5072E1F5
gpg: checking the trustdb
gpg: no ultimately trusted keys found
gpg: Good signature from "MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;"
gpg: WARNING: This key is not certified with a trusted signature!
gpg:          There is no indication that the signature belongs to the owner.
Primary key fingerprint: A4A9 4068 76FC BD3C 4567  70C8 8C71 8D3B 5072 E1F5
</pre><p>
        セットアップおよび構成に依存するので、これは正常です。これらの警告の説明は次のとおりです。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="emphasis"><em>gpg: no ultimately trusted keys found</em></span>: これは、特定の鍵がユーザーまたはユーザーの信頼する Web によって「最終的に信頼されて」いないことを意味します。これは、ファイルの署名を確認する目的に関しては問題ありません。
          </p></li><li class="listitem"><p>
            <span class="emphasis"><em>WARNING: This key is not certified with a trusted signature!There is no indication that the signature belongs to the owner.</em></span>: これは、ユーザーの所有している鍵が弊社の本当の公開鍵であることをどの程度信用しているかに言及しています。これは個人的な判断です。理想的なのは MySQL 開発者が鍵を直接手渡すことですが、一般的には鍵はダウンロードされます。ダウンロードは改ざんされていますか?おそらくそうではないでしょう。しかし、その判断はユーザー次第です。信頼網をセットアップするのが、信頼するための 1 つの方法です。
          </p></li></ul></div><p>
        公開鍵を処理する方法の詳細は GPG のドキュメントを参照してください。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="checking-gpg-signature-windows"></a>2.1.4.3 Gpg4win for Windows を使用した署名確認</h4></div></div></div><p>
        <a class="xref" href="installing.html#checking-gpg-signature" title="2.1.4.2 GnuPG を使用した署名確認">セクション2.1.4.2「GnuPG を使用した署名確認」</a> のセクションでは、GPG を使用して MySQL ダウンロードを確認する方法を説明しています。このガイドは Microsoft Windows にも適用されますが、もう 1 つの選択肢は <a class="ulink" href="http://www.gpg4win.org/" target="_top">Gpg4win</a> などの GUI ツールを使用することです。ほかのツールを使用してもかまいませんが、ここでの例は Gpg4win に基づいており、バンドルの <code class="literal">Kleopatra</code> GUI を利用しています。
      </p><p>
        Gpg4win をダウンロードしてインストールしてから Kleopatra をロードします。次のようなダイアログが表示されるはずです。
      </p><div class="figure"><a name="gnupg-kleopatra-home"></a><p class="title"><b>図 2.1 Kleopatra ロード後の初期画面</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/gnupg-kleopatra-home.png" width="682" height="436" alt="Kleopatra ロード後の初期画面"></div></div></div><br class="figure-break"><p>
        次に、MySQL Release Engineering 証明書を追加します。そのためには、<span class="guimenu">「File」</span>、<span class="guimenu">「Lookup Certificates on Server」</span>をクリックします。検索ボックスに「Mysql Release Engineering」と入力して<span class="guibutton">「Search」</span>をクリックします。
      </p><div class="figure"><a name="gnupg-kleopatra-find-certificate"></a><p class="title"><b>図 2.2 MySQL Release Engineering 証明書の検索</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/gnupg-kleopatra-find-certificate.png" width="854" height="330" alt="MySQL Release Engineering 証明書の検索"></div></div></div><br class="figure-break"><p>
        「MySQL Release Engineering」証明書を選択します。Fingerprint および Key-ID は「5072E1F5」でなければなりません。そうでない場合は、<span class="guibutton">「Details...」</span>を選択して証明書が有効であることを確認します。次に、<span class="guibutton">「Import」</span>をクリックしてインポートします。インポートダイアログが表示されます。<span class="guibutton">「Okay」</span>を選択すると、この証明書が<span class="guilabel">「Imported Certificates」</span>タブにリストされます。
      </p><p>
        次に、弊社の証明書の信頼レベルを構成します。弊社の証明書を選択して、メインメニューから<span class="guimenu">「Certificates」</span>、<span class="guimenu">「Change Owner Trust...」</span>を選択します。弊社の証明書に対して、<span class="guilabel">「I believe checks are very accurate」</span>を選択することを推奨します。そうしないと弊社の署名を確認することができません。<span class="guilabel">「I believe checks are very accurate」</span>を選択してから、<span class="guibutton">「OK」</span>を押します。
      </p><div class="figure"><a name="gnupg-kleopatra-change-trust"></a><p class="title"><b>図 2.3 信頼レベルの変更</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/gnupg-kleopatra-change-trust.png" width="656" height="472" alt="信頼レベルの変更"></div></div></div><br class="figure-break"><p>
        次に、ダウンロードした MySQL パッケージファイルを確認します。これには、パッケージファイルと署名の両方のファイルが必要です。次の表の例に示すように、署名ファイルの名前はパッケージファイルと同じで、拡張子 <code class="filename">.asc</code> が付いていなければなりません。署名は各 MySQL 製品のダウンロードページにリンクされています。この署名で <code class="literal">.asc</code> ファイルを作成しなければなりません。
      </p><div class="table"><a name="idm139979166919648"></a><p class="title"><b>表 2.2 MySQL Installer for Microsoft Windows の MySQL パッケージと署名ファイル</b></p><div class="table-contents"><table summary="MySQL Installer for Microsoft Windows の MySQL パッケージと署名ファイル" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">ファイルタイプ</th><th scope="col">ファイル名</th></tr></thead><tbody><tr><td scope="row">配布ファイル</td><td><code class="literal">mysql-installer-community-5.6.23.msi</code></td></tr><tr><td scope="row">署名ファイル</td><td><code class="literal">mysql-installer-community-5.6.23.msi.asc</code></td></tr></tbody></table></div></div><br class="table-break"><p>
        両方のファイルが同じディレクトリにあることを確認してから、次のコマンドを実行して配布ファイルの署名を確認します。署名 (<code class="filename">.asc</code>) ファイルを Kleopatra にドラッグ&amp;ドロップするか、<span class="guimenu">「File」</span>、<span class="guimenuitem">「Decrypt/Verify Files...」</span>からダイアログをロードしてから <code class="filename">.msi</code> ファイルまたは <code class="filename">.asc</code> ファイルのいずれかを選択します。
      </p><div class="figure"><a name="gnupg-kleopatra-decrypt-load"></a><p class="title"><b>図 2.4 「Decrypt/Verify Files」ダイアログ</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/gnupg-kleopatra-decrypt-load.png" width="576" height="425" alt="「Decrypt/Verify Files」ダイアログ"></div></div></div><br class="figure-break"><p>
        <span class="guibutton">「Decrypt/Verify」</span>をクリックしてファイルをチェックします。もっとも一般的な結果 2 つは次のように表示されます。黄色の警告は問題があるように見えますが、ファイルチェックが成功したことを意味します。このインストーラを実行できます。
      </p><div class="figure"><a name="gnupg-kleopatra-decrypt-okay-sig"></a><p class="title"><b>図 2.5 Decrypt/Verify の結果: OK</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/gnupg-kleopatra-decrypt-okay-sig.png" width="576" height="424" alt="Decrypt/Verify の結果: OK"></div></div></div><br class="figure-break"><p>
        「The signature is bad」というエラーが赤で表示された場合は、ファイルが無効であることを意味します。このエラーが表示された場合は、MSI ファイルを実行しないでください。
      </p><div class="figure"><a name="gnupg-kleopatra-decrypt-invalid-sig"></a><p class="title"><b>図 2.6 Decrypt/Verify の結果: NG</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/gnupg-kleopatra-decrypt-invalid-sig.png" width="656" height="518" alt="Decrypt/Verify の結果: NG"></div></div></div><br class="figure-break"><p>
        <a class="xref" href="installing.html#checking-gpg-signature" title="2.1.4.2 GnuPG を使用した署名確認">セクション2.1.4.2「GnuPG を使用した署名確認」</a> セクションでは、緑の<code class="literal">「Good signature」</code>という結果がおそらく表示されないであろう理由を説明します。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="checking-rpm-signature"></a>2.1.4.4 RPM を使用した署名確認</h4></div></div></div><p>
        RPM パッケージには、個別の署名はありません。RPM パッケージには内蔵の GPG 署名および MD5 チェックサムがあります。次のコマンドを実行してパッケージを確認できます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>rpm --checksig <em class="replaceable"><code>package_name</code></em>.rpm</code></strong>
</pre><p>
        例:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>rpm --checksig MySQL-server-5.6.23-0.linux_glibc2.5.i386.rpm</code></strong>
MySQL-server-5.6.23-0.linux_glibc2.5.i386.rpm: md5 gpg OK
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          RPM 4.1 を使用していて、<code class="literal">「(GPG) NOT OK (MISSING KEYS:GPG#5072e1f5)」</code>と表示された場合、MySQL 公開ビルド鍵を自分の GPG 鍵リングにインポートした場合でも、この鍵をまず RPM 鍵リングにインポートする必要があります。RPM 4.1 は、お客様個人の GPG 鍵リング (あるいは GPG そのもの) を使用しなくなりました。RPM はシステム全体にわたるアプリケーションであり、ユーザーの GPG 公開鍵リングはユーザー固有のファイルであるため、RPM はむしろ独立した鍵リングを保持します。MySQL 公開鍵を個人の RPM 鍵リングにインポートするには、まず鍵を取得してから、<span class="command"><strong>rpm --import</strong></span> を使用して鍵をインポートします。例:
        </p></div><pre class="programlisting">
shell&gt; gpg --export -a 5072e1f5 &gt; 5072e1f5.asc
shell&gt; rpm --import 5072e1f5.asc
</pre><p>
        あるいは、<span class="command"><strong>rpm</strong></span> は鍵を直接 URL からロードすることもサポートしていますので、このマニュアルページを使用できます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>rpm --import http://dev.mysql.com/doc/refman/5.6/en/checking-gpg-signature.html</code></strong>
</pre><p>
        MySQL 公開鍵を取得する必要がある場合には、<a class="xref" href="installing.html#checking-gpg-signature" title="2.1.4.2 GnuPG を使用した署名確認">セクション2.1.4.2「GnuPG を使用した署名確認」</a> を参照してください。
      </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="installation-layouts"></a>2.1.5 インストールのレイアウト</h3></div></div></div><a class="indexterm" name="idm139979166866000"></a><a class="indexterm" name="idm139979166864544"></a><a class="indexterm" name="idm139979166863168"></a><a class="indexterm" name="idm139979166861104"></a><p>
      インストールのレイアウトは、インストールの種類 (ネイティブパッケージ、バイナリ tarball、ソース tarball など) によって異なります。そのため、異なるシステムを管理する場合や異なるインストールソースを使用する場合に混乱しがちです。個々のレイアウトは、次に記載するように、対応するインストールの種類またはプラットフォームの章にあります。オラクル社以外のベンダーからのインストールのレイアウトは、これらのレイアウトと異なる場合がありますのでご注意ください。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="xref" href="installing.html#windows-installation-layout" title="2.3.1 Microsoft Windows 上での MySQL のインストールレイアウト">セクション2.3.1「Microsoft Windows 上での MySQL のインストールレイアウト」</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="installing.html#source-installation-layout" title="2.9.1 ソースインストールの MySQL のレイアウト">セクション2.9.1「ソースインストールの MySQL のレイアウト」</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="installing.html#binary-installation-layout" title="表 2.3 一般的な Unix/Linux バイナリパッケージの MySQL インストールのレイアウト">表2.3「一般的な Unix/Linux バイナリパッケージの MySQL インストールのレイアウト」</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="installing.html#mysql-installation-layout-linuxrpm" title="表 2.6 MySQL Developer Zone からの Linux RPM パッケージの MySQL インストールレイアウト">表2.6「MySQL Developer Zone からの Linux RPM パッケージの MySQL インストールレイアウト」</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="installing.html#mysql-installation-layout-osx" title="表 2.5 OS X 上での MySQL のインストールレイアウト">表2.5「OS X 上での MySQL のインストールレイアウト」</a>
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="compiler-characteristics"></a>2.1.6 コンパイラ固有のビルドの特徴</h3></div></div></div><a class="indexterm" name="idm139979166848512"></a><p>
      場合によっては、MySQL のビルドに使用するコンパイラによって、使用できる機能が影響を受けることがあります。このセクションのノートは、オラクル社が提供するバイナリ配布またはご自身でソースからコンパイルしたものに適用されます。
    </p><p>
      <span class="bold"><strong><span class="command"><strong>icc</strong></span> (Intel C++ コンパイラ) ビルド</strong></span>
    </p><p>
      <span class="command"><strong>icc</strong></span> でビルドされたサーバーは次の特徴があります。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          SSL のサポートは含まれません。
        </p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="binary-installation"></a>2.2 一般的なバイナリを使用した MySQL の Unix/Linux へのインストール</h2></div></div></div><a class="indexterm" name="idm139979166839904"></a><a class="indexterm" name="idm139979166837792"></a><p>
    オラクル社は、MySQL の一連のバイナリ配布を提供しています。これには、多数のプラットフォーム向けの圧縮 <span class="command"><strong>tar</strong></span> ファイル (<code class="filename">.tar.gz</code> 拡張子を持つファイル) の形式のバイナリ配布、および選ばれたプラットフォーム向けのプラットフォーム固有のパッケージ形式のバイナリが含まれます。
  </p><p>
    このセクションでは、圧縮 <span class="command"><strong>tar</strong></span> ファイルのバイナリ配布からの MySQL のインストールについて説明します。その他のプラットフォーム固有のパッケージについては、その他のプラットフォーム固有のセクションを参照してください。たとえば、Windows の配布は <a class="xref" href="installing.html#windows-installation" title="2.3 Microsoft Windows に MySQL をインストールする">セクション2.3「Microsoft Windows に MySQL をインストールする」</a> を参照してください。
  </p><p>
    MySQL を取得するには、<a class="xref" href="installing.html#getting-mysql" title="2.1.3 MySQL の取得方法">セクション2.1.3「MySQL の取得方法」</a> を参照してください。
  </p><p>
    MySQL の圧縮 <span class="command"><strong>tar</strong></span> ファイルのバイナリ配布は、<code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>-<em class="replaceable"><code>OS</code></em>.tar.gz</code> という形式の名前を持ちます。ここで、<code class="literal"><em class="replaceable"><code>VERSION</code></em></code> は数字 (<code class="literal">5.6.23</code> など)、<em class="replaceable"><code>OS</code></em> は配布が対象とするオペレーティングシステムのタイプ (<code class="literal">pc-linux-i686</code> または <code class="literal">winx64</code> など) です。
  </p><p>
    MySQL を圧縮 <span class="command"><strong>tar</strong></span> ファイルのバイナリ配布からインストールするには、配布を展開するための GNU <code class="literal">gunzip</code>、およびそれをアンパックするための妥当な <span class="command"><strong>tar</strong></span> がシステムになければなりません。使用している <span class="command"><strong>tar</strong></span> プログラムが <code class="literal">z</code> オプションをサポートする場合は、ファイルの展開とアンパックの両方を実行できます。
  </p><p>
    GNU <span class="command"><strong>tar</strong></span> が機能することが知られています。一部のオペレーティングシステムで提供される標準の <span class="command"><strong>tar</strong></span> は、MySQL 配布内の長いファイル名をアンパックできません。GNU <span class="command"><strong>tar</strong></span> をダウンロードしてインストールするか、プリインストールバージョンの GNU tar が利用可能であればそれを使用します。通常、これは <span class="command"><strong>gnutar</strong></span>、<span class="command"><strong>gtar</strong></span>、または <span class="command"><strong>tar</strong></span> という名前です (<code class="filename">/usr/sfw/bin</code> または <code class="filename">/usr/local/bin</code> などの GNU または Free Software ディレクトリ内)。GNU <span class="command"><strong>tar</strong></span> は、<a class="ulink" href="http://www.gnu.org/software/tar/" target="_top">http://www.gnu.org/software/tar/</a> から入手可能です。
  </p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">警告</div><p>
      <code class="literal">yum</code> または <code class="literal">apt-get</code> などの、使用しているオペレーティングシステムのネイティブパッケージ管理システムを使用して MySQL を以前にインストールしたことがある場合は、ネイティブバイナリを使用してインストールすると問題が生じる場合があります。(パッケージ管理システムを使用して) 以前の MySQL のインストールが完全に削除され、データファイルの古いバージョンなどの追加ファイルもすべて削除されていることを確認してください。<code class="filename">/etc/my.cnf</code> などの構成ファイルの存在や、<code class="filename">/etc/mysql</code> ディレクトリが削除されていることもチェックしてください。
    </p></div><a class="indexterm" name="idm139979166805840"></a><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">警告</div><p>
      MySQL には、<code class="literal">libaio</code> ライブラリへの依存関係があります。<span class="command"><strong>mysql_install_db</strong></span> および後続の <span class="command"><strong>mysqld_safe</strong></span> の手順は、このライブラリがローカルにインストールされていない場合は失敗します。必要に応じて、適切なパッケージマネージャーを使用してインストールします。たとえば、Yum ベースのシステムでは次のようにします。
    </p><pre class="programlisting">
shell&gt; <em class="replaceable"><code>yum search libaio</code></em>  # search for info
shell&gt; <em class="replaceable"><code>yum install libaio</code></em> # install library
</pre><p>
      または、<span class="command"><strong>apt-get</strong></span> ベースのシステムでは次のようにします。
    </p><pre class="programlisting">
shell&gt; <em class="replaceable"><code>apt-cache search libaio</code></em> # search for info
shell&gt; <em class="replaceable"><code>apt-get install libaio1</code></em> # install library
</pre></div><p>
    問題が発生してバグをレポートする必要が生じた場合には、<a class="xref" href="introduction.html#bug-reports" title="1.7 質問またはバグをレポートする方法">セクション1.7「質問またはバグをレポートする方法」</a> の手順に従ってください。
  </p><p>
    Unix では、圧縮 <span class="command"><strong>tar</strong></span> ファイルのバイナリ配布をインストールするには、選択したインストールの場所 (通常 <code class="filename">/usr/local/mysql</code>) でアンパックします。これにより、次の表に示すディレクトリが作成されます。
  </p><div class="table"><a name="binary-installation-layout"></a><p class="title"><b>表 2.3 一般的な Unix/Linux バイナリパッケージの MySQL インストールのレイアウト</b></p><div class="table-contents"><table summary="一般的な Unix/Linux バイナリパッケージの MySQL インストールのレイアウト" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">ディレクトリ</th><th scope="col">ディレクトリの内容</th></tr></thead><tbody><tr><td scope="row"><code class="filename">bin</code></td><td>クライアントプログラムおよび <span class="command"><strong>mysqld</strong></span> サーバー</td></tr><tr><td scope="row"><code class="filename">data</code></td><td>ログファイル、データベース</td></tr><tr><td scope="row"><code class="filename">docs</code></td><td>Info 形式のドキュメント</td></tr><tr><td scope="row"><code class="filename">man</code></td><td>Unix マニュアルページ</td></tr><tr><td scope="row"><code class="filename">include</code></td><td>インクルード (ヘッダー) ファイル</td></tr><tr><td scope="row"><code class="filename">lib</code></td><td>ライブラリ</td></tr><tr><td scope="row"><code class="filename">scripts</code></td><td><span class="command"><strong>mysql_install_db</strong></span></td></tr><tr><td scope="row"><code class="filename">share</code></td><td>エラーメッセージ、サンプル構成ファイル、データベースインストールのための SQL を含む種々のサポートファイル</td></tr><tr><td scope="row"><code class="filename">sql-bench</code></td><td>ベンチマーク</td></tr></tbody></table></div></div><br class="table-break"><p>
    <span class="command"><strong>mysqld</strong></span> バイナリのデバッグバージョンは、<span class="command"><strong>mysqld-debug</strong></span> として利用可能です。ソース配布から独自のデバッグバージョンの MySQL をコンパイルするには、適切な構成オプションを使用してデバッグのサポートを有効にします。ソースからのコンパイルの詳細は、<a class="xref" href="installing.html#source-installation" title="2.9 ソースから MySQL をインストールする">セクション2.9「ソースから MySQL をインストールする」</a> を参照してください。
  </p><a class="indexterm" name="idm139979166768592"></a><p>
    MySQL バイナリ配布をインストールして使用するには、基本的なコマンドシーケンスは次のようになります。
  </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>groupadd mysql</code></strong>
shell&gt; <strong class="userinput"><code>useradd -r -g mysql mysql</code></strong>
shell&gt; <strong class="userinput"><code>cd /usr/local</code></strong>
shell&gt; <strong class="userinput"><code>tar zxvf <em class="replaceable"><code>/path/to/mysql-VERSION-OS</code></em>.tar.gz</code></strong>
shell&gt; <strong class="userinput"><code>ln -s <em class="replaceable"><code>full-path-to-mysql-VERSION-OS</code></em> mysql</code></strong>
shell&gt; <strong class="userinput"><code>cd mysql</code></strong>
shell&gt; <strong class="userinput"><code>chown -R mysql .</code></strong>
shell&gt; <strong class="userinput"><code>chgrp -R mysql .</code></strong>
shell&gt; <strong class="userinput"><code>scripts/mysql_install_db --user=mysql</code></strong>
shell&gt; <strong class="userinput"><code>chown -R root .</code></strong>
shell&gt; <strong class="userinput"><code>chown -R mysql data</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong>
# Next command is optional
shell&gt; <strong class="userinput"><code>cp support-files/mysql.server /etc/init.d/mysql.server</code></strong>
</pre><p>
    <span class="command"><strong>mysql_install_db</strong></span> は、<code class="filename">my.cnf</code> という名前のデフォルトオプションファイルを基本インストールディレクトリに作成します。このファイルは <code class="filename">my-default.cnf</code> という名前の配布パッケージに含まれるテンプレートから作成されます。詳細は、<a class="xref" href="server-administration.html#server-default-configuration-file" title="5.1.2.2 サンプルのデフォルトサーバー構成ファイルの使用">セクション5.1.2.2「サンプルのデフォルトサーバー構成ファイルの使用」</a> を参照してください。
  </p><p>
    バイナリ配布のインストールに関する前述の説明を、次に詳細に説明します。
  </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
      この手順では、システムへの <code class="literal">root</code> (管理者) アクセスがあるものとします。あるいは、<span class="command"><strong>sudo</strong></span> (Linux) または <span class="command"><strong>pfexec</strong></span> (OpenSolaris) コマンドを使用して、各コマンドにプリフィクスを付けることができます。
    </p><p>
      手順では、MySQL アカウントにパスワードはセットアップしません。その手順のあとは、<a class="xref" href="installing.html#default-privileges" title="2.10.2 最初の MySQL アカウントのセキュリティー設定">セクション2.10.2「最初の MySQL アカウントのセキュリティー設定」</a> に進みます。
    </p></div><h3><a name="binary-installation-createsysuser"></a>mysql ユーザーおよびグループの作成</h3><p>
    使用しているシステムに、実行するための <span class="command"><strong>mysqld</strong></span> のユーザーおよびグループがまだない場合は、作成する必要があるでしょう。次のコマンドは、<code class="literal">mysql</code> グループおよび <code class="literal">mysql</code> ユーザーを作成します。ユーザーやグループを <code class="literal">mysql</code> のではなく別の名前に変更したい場合があります。その場合は、以降の説明では適切な名前に置き換えてください。<span class="command"><strong>useradd</strong></span> および <span class="command"><strong>groupadd</strong></span> の構文は、Unix のバージョンによって多少異なる場合があり、また <span class="command"><strong>adduser</strong></span> および <span class="command"><strong>addgroup</strong></span> などの別な名前を使用している場合もあります。
  </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>groupadd mysql</code></strong>
shell&gt; <strong class="userinput"><code>useradd -r -g mysql mysql</code></strong>
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
      このユーザーは、ログイン目的ではなく所有の目的で必要なだけであるため、<span class="command"><strong>useradd</strong></span> コマンドでは <code class="option">-r</code> オプションを使用して、サーバーホストへのログイン権限を持たないユーザーを作成します。ユーザーにログインを許可する場合 (または <span class="command"><strong>useradd</strong></span> がこのオプションをサポートしない場合) は、このオプションを省略します。
    </p></div><h3><a name="binary-installation-unpack"></a>配布の取得とアンパック</h3><p>
    配布をアンパックするディレクトリを選択してそこに移動します。この例では、配布を <code class="filename">/usr/local</code> の下にアンパックします。したがって、この説明では <code class="filename">/usr/local</code> にファイルおよびディレクトリを作成する許可があるものとします。そのディレクトリが保護されている場合は、インストールを <code class="literal">root</code> として実行する必要があります。
  </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cd /usr/local</code></strong>
</pre><p>
    配布ファイルを <a class="xref" href="installing.html#getting-mysql" title="2.1.3 MySQL の取得方法">セクション2.1.3「MySQL の取得方法」</a> の説明に従って取得します。所定のリリースでは、すべてのプラットフォームのバイナリの配布は同じ MySQL のソース配布でビルドされています。
  </p><p>
    配布をアンパックすると、インストールディレクトリが作成されます。次に、そのディレクトリへのシンボリックリンクを作成します。<span class="command"><strong>tar</strong></span> が <code class="literal">z</code> オプションをサポートする場合、配布の展開とアンパックを実行できます。
  </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>tar zxvf <em class="replaceable"><code>/path/to/mysql-VERSION-OS</code></em>.tar.gz</code></strong>
shell&gt; <strong class="userinput"><code>ln -s <em class="replaceable"><code>full-path-to-mysql-VERSION-OS</code></em> mysql</code></strong>
</pre><p>
    <span class="command"><strong>tar</strong></span> コマンドが <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>-<em class="replaceable"><code>OS</code></em></code> という名前のディレクトリを作成します。<code class="literal">ln</code> コマンドがそのディレクトリへのシンボリックリンクを作成します。これにより、インストールディレクトリを <code class="filename">/usr/local/mysql</code> として、より簡単に参照できるようになります。
  </p><p>
    <span class="command"><strong>tar</strong></span> が <code class="literal">z</code> オプションをサポートしない場合は、<span class="command"><strong>gunzip</strong></span> を使用して配布をパックし、<span class="command"><strong>tar</strong></span> を使用してアンパックします。前述の <span class="command"><strong>tar</strong></span> コマンドを次の代替コマンドに置き換えて、配布を展開して抽出します。
  </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>gunzip &lt; <em class="replaceable"><code>/path/to/mysql-VERSION-OS</code></em>.tar.gz | tar xvf -</code></strong>
</pre><h3><a name="binary-installation-postinstall"></a>インストール後のセットアップの実行</h3><p>
    インストールプロセスの残りの部分は、構成ファイルのセットアップ、コアデータベースの作成、および MySQL Server の開始などです。次の手順については、<a class="xref" href="installing.html#postinstallation" title="2.10 インストール後のセットアップとテスト">セクション2.10「インストール後のセットアップとテスト」</a> を参照してください。
  </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
      MySQL の付与テーブルにリストされているアカウントには、最初はパスワードがありません。サーバーの起動後に <a class="xref" href="installing.html#default-privileges" title="2.10.2 最初の MySQL アカウントのセキュリティー設定">セクション2.10.2「最初の MySQL アカウントのセキュリティー設定」</a> の説明に従ってパスワードをアカウントに設定する必要があります。
    </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="windows-installation"></a>2.3 Microsoft Windows に MySQL をインストールする</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#windows-installation-layout">2.3.1 Microsoft Windows 上での MySQL のインストールレイアウト</a></span></dt><dt><span class="section"><a href="installing.html#windows-choosing-package">2.3.2 インストール用パッケージの選択</a></span></dt><dt><span class="section"><a href="installing.html#mysql-installer">2.3.3 MySQL Installer を使用した MySQL の Microsoft Windows へのインストール</a></span></dt><dt><span class="section"><a href="installing.html#windows-notifier">2.3.4 MySQL Notifier</a></span></dt><dt><span class="section"><a href="installing.html#windows-install-archive">2.3.5 非インストール Zip アーカイブを使用して Microsoft Windows に MySQL をインストールする</a></span></dt><dt><span class="section"><a href="installing.html#windows-troubleshooting">2.3.6 Microsoft Windows MySQL Server インストールのトラブルシューティング</a></span></dt><dt><span class="section"><a href="installing.html#windows-upgrading">2.3.7 Windows 上の MySQL をアップグレードする</a></span></dt><dt><span class="section"><a href="installing.html#windows-postinstallation">2.3.8 Windows でのインストール後の手順</a></span></dt></dl></div><p>
    Microsoft Windows に MySQL をインストールするには、いくつかの方法があります。
  </p><h3><a name="idm139979166701200"></a>単純なインストール方法</h3><p>
    もっとも単純で推奨される方法は、MySQL Installer (for Windows) をダウンロードし、それを使用してすべての MySQL 製品をシステムにインストールして構成することです。次に方法を説明します。
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        MySQL Installer を <a class="ulink" href="http://dev.mysql.com/downloads/installer/" target="_top">http://dev.mysql.com/downloads/installer/</a> からダウンロードして実行します。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          標準の MySQL Installer とは異なり、より小さい「Web コミュニティー」バージョンには MySQL アプリケーションは一切バンドルされていませんが、インストールすることを選択した MySQL 製品がダウンロードされます。
        </p></div></li><li class="listitem"><p>
        システムに適した<span class="guilabel">「Setup Type」</span>を選択します。通常、<span class="guilabel">「Developer Default」</span>を選択して MySQL Server および MySQL の開発に関係する、MySQL Workbench などの有用なその他の MySQL ツールをインストールします。あるいは、<span class="guilabel">「Custom」</span>セットアップタイプを選択して、必要な MySQL 製品を手動で選択します。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          単一のシステムに複数のバージョンの MySQL Server が存在できます。1 つまたは複数のバージョンを選択できます。
        </p></div></li><li class="listitem"><p>
        MySQL インストールウィザードの指示に従って、インストールプロセスを完了します。これにより、いくつかの MySQL 製品がインストールされ、MySQL Server が起動されます。
      </p></li><li class="listitem"><p>
        MySQL がインストールされました。おそらく、システムを再起動するたびに MySQL Server を自動的に起動するサービスとして、MySQL を構成したでしょう。
      </p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
      また、MySQL Workbench および MySQL Notifier などのその他の有用な MySQL 製品もシステムにインストールしたでしょう。新しい MySQL Server 接続のチェック用に <a class="xref" href="workbench.html" title="第 26 章 MySQL Workbench">第26章「<i>MySQL Workbench</i>」</a> を、接続のステータスの表示用に <a class="xref" href="installing.html#windows-notifier" title="2.3.4 MySQL Notifier">セクション2.3.4「MySQL Notifier」</a> をロードすることを考慮してください。デフォルトでは、これら 2 つのプログラムは MySQL のインストール後自動的に起動します。
    </p></div><p>
    このプロセスでは、MySQL Installer アプリケーションもシステムにインストールされ、あとで MySQL Installer を使用して MySQL 製品のアップグレードや再構成を実行できます。
  </p><h3><a name="idm139979166685408"></a>インストールの追加情報</h3><p>
    MySQL は、32 ビットバージョンおよび 64 ビットバージョンの Microsoft Windows に対応しています。サポートされる Windows プラットフォームの情報については、<a class="ulink" href="http://www.mysql.com/support/supportedplatforms/database.html" target="_top">http://www.mysql.com/support/supportedplatforms/database.html</a> を参照してください。
  </p><p>
    MySQL は、標準アプリケーションまたは Windows サービスとして実行できます。サービスを使用することで、標準 Windows サービス管理ツールを介してサーバーの動作をモニターおよび制御できます。詳細については、<a class="xref" href="installing.html#windows-start-service" title="2.3.5.7 Windows のサービスとして MySQL を起動する">セクション2.3.5.7「Windows のサービスとして MySQL を起動する」</a>を参照してください。
  </p><p>
    一般的には、Windows に MySQL をインストールするには管理者権限のアカウントを使用する必要があります。そうでない場合、<code class="literal">PATH</code> 環境変数の編集あるいは <span class="command"><strong>サービス管理マネージャー</strong></span>にアクセスするなどの操作の場合に、問題が発生することがあります。インストール後の MySQL は、管理者権限を持つユーザーを使用して実行する必要はありません。
  </p><p>
    Windows プラットフォームで MySQL を使用する場合の制限のリストは、<a class="xref" href="restrictions.html#limits-windows" title="D.10.6 Windows プラットフォームの制限">セクションD.10.6「Windows プラットフォームの制限」</a> を参照してください。
  </p><p>
    MySQL Server パッケージのほかに、アプリケーションまたは開発環境で MySQL を使用するために、追加のコンポーネントが必要またはあると便利な場合があります。次のものが含まれますがこれに限りません。
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        ODBC を使用して MySQL Server に接続するには、Connector/ODBC ドライバが必要です。インストールおよび構成の説明を含む詳細情報は、<a class="ulink" href="http://dev.mysql.com/doc/connector-odbc/en/index.html" target="_top">MySQL Connector/ODBC Developer Guide</a> を参照してください。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL Installer が、Connector/ODBC のインストールおよび構成を行います。
        </p></div></li><li class="listitem"><p>
        MySQL Server を .NET アプリケーションとともに使用するには、Connector/Net ドライバが必要です。インストールおよび構成の説明を含む詳細情報は、<a class="ulink" href="http://dev.mysql.com/doc/connector-net/en/index.html" target="_top">MySQL Connector/Net Developer Guide</a> を参照してください。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL Installer が、Connector/NET のインストールおよび構成を行います。
        </p></div></li></ul></div><p>
    MySQL の Windows 版配布は、<a class="ulink" href="http://dev.mysql.com/downloads/" target="_top">http://dev.mysql.com/downloads/</a> からダウンロードできます。<a class="xref" href="installing.html#getting-mysql" title="2.1.3 MySQL の取得方法">セクション2.1.3「MySQL の取得方法」</a>を参照してください。
  </p><p>
    MySQL for Windows は複数の配布形式で利用可能です。次に詳細を説明します。一般的には、MySQL Installer を使用するとよいでしょう。以前の MSI よりも多くの機能と MySQL 製品を含み、ZIP ファイルよりも単純で使いやすく、MySQL を起動して実行するために追加のツールは不要です。MySQL Installer は、自動的に MySQL Server および追加の MySQL 製品をインストールし、オプションファイルを作成してサーバーを起動し、デフォルトのユーザーアカウントを作成できるようにします。パッケージ選択の詳細は、<a class="xref" href="installing.html#windows-choosing-package" title="2.3.2 インストール用パッケージの選択">セクション2.3.2「インストール用パッケージの選択」</a> を参照してください。
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        MySQL Installer の配布には MySQL Server、および MySQL Workbench、MySQL Notifier、MySQL for Excel などの追加の MySQL 製品が含まれます。MySQL Installer は、将来これらの製品をアップグレードするときにも使用できます。
      </p><p>
        MySQL Installer を使用して MySQL をインストールする方法の説明は、<a class="xref" href="installing.html#mysql-installer" title="2.3.3 MySQL Installer を使用した MySQL の Microsoft Windows へのインストール">セクション2.3.3「MySQL Installer を使用した MySQL の Microsoft Windows へのインストール」</a> を参照してください。
      </p></li><li class="listitem"><p>
        標準のバイナリ配布 (Zip ファイルとしてパッケージ化) にはすべての必要なファイルが含まれます。任意の場所にアンパックしてください。このパッケージには、完全な Windows MSI Installer パッケージ内のすべてのファイルが含まれますが、インストールプログラムは含まれません。
      </p><p>
        Zip ファイルを使用して MySQL をインストールする方法の説明は、<a class="xref" href="installing.html#windows-install-archive" title="2.3.5 非インストール Zip アーカイブを使用して Microsoft Windows に MySQL をインストールする">セクション2.3.5「非インストール Zip アーカイブを使用して Microsoft Windows に MySQL をインストールする」</a> を参照してください。
      </p></li><li class="listitem"><p>
        ソース配布形式には、Visual Studio コンパイラシステムを使用して実行可能ファイルをビルドするためのすべてのコードとサポートファイルが含まれます。
      </p><p>
        Windows 上で MySQL をソースからビルドする方法の詳細は、<a class="xref" href="installing.html#source-installation" title="2.9 ソースから MySQL をインストールする">セクション2.9「ソースから MySQL をインストールする」</a> を参照してください。
      </p></li></ul></div><p>
    <span class="bold"><strong>Windows 上の MySQL の考慮事項</strong></span>
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <span class="bold"><strong>大規模テーブルのサポート</strong></span>
      </p><p>
        4G バイト以上のテーブルが必要な場合、NTFS 以降のファイルシステムに MySQL をインストールします。テーブルの作成時には、必ず <code class="literal">MAX_ROWS</code> と <code class="literal">AVG_ROW_LENGTH</code> を使用します。<a class="xref" href="sql-syntax.html#create-table" title="13.1.17 CREATE TABLE 構文">セクション13.1.17「CREATE TABLE 構文」</a>を参照してください。
      </p></li><li class="listitem"><p>
        <span class="bold"><strong>MySQL およびウィルスチェックソフトウェア</strong></span>
      </p><p>
        MySQL のデータおよび一時テーブル含むディレクトリに、Norton/Symantec Anti-Virus などのウィルススキャンソフトウェアがあると、MySQL のパフォーマンス、およびウィルススキャンソフトウェアがファイルの内容をスパムを含むものと誤認するという問題が生じる可能性があります。これは、ウィルススキャンソフトウェアのフィンガープリント解析メカニズムと、MySQL がさまざまなファイルを高速で更新する方法が潜在的なセキュリティーリスクと認識される可能性があるということが原因です。
      </p><p>
        MySQL Server のインストール後、MySQL のテーブルデータを格納するために使用するメインディレクトリ (<code class="literal">datadir</code>) 上でのウィルススキャンを無効にすることが推奨されます。通常、ウィルススキャンソフトウェアには特定のディレクトリを無視するシステムが組み込まれており、有効にできます。
      </p><p>
        また、MySQL はデフォルトで、標準の Windows 一時ディレクトリに一時ファイルを作成します。一時ファイルがスキャンされることも避けるために、MySQL の一時ファイル用に独立した一時ディレクトリを構成し、このディレクトリをウィルススキャンの除外リストに追加します。これを行うには、<code class="option">tmpdir</code> パラメータの構成オプションを <code class="filename">my.ini</code> 構成ファイルに追加します。詳細については、<a class="xref" href="installing.html#windows-create-option-file" title="2.3.5.2 オプションファイルの作成">セクション2.3.5.2「オプションファイルの作成」</a> を参照してください。
      </p></li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="windows-installation-layout"></a>2.3.1 Microsoft Windows 上での MySQL のインストールレイアウト</h3></div></div></div><p>
      Windows 上の MySQL 5.6 では、デフォルトのインストールディレクトリは <code class="filename">C:\Program Files\MySQL\MySQL Server 5.6</code> です。Windows ユーザーの中には、以前デフォルトで使用されていたディレクトリである <code class="filename">C:\mysql</code> にインストールすることを好むユーザーもいます。しかし、サブディレクトリのレイアウトは同じです。
    </p><p>
      すべてのファイルは、次の表に示される構造を使用してこの親ディレクトリ内に配置されています。
    </p><div class="table"><a name="idm139979166637856"></a><p class="title"><b>表 2.4 Microsoft Windows の MySQL のデフォルトインストールレイアウト</b></p><div class="table-contents"><table summary="Microsoft Windows の MySQL のデフォルトインストールレイアウト" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">ディレクトリ</th><th scope="col">ディレクトリの内容</th><th scope="col">メモ</th></tr></thead><tbody><tr><td scope="row"><code class="filename">bin</code></td><td>クライアントプログラムおよび <span class="command"><strong>mysqld</strong></span> サーバー</td><td> </td></tr><tr><td scope="row"><code class="filename">%ALLUSERSPROFILE%\MySQL\MySQL Server 5.6\</code></td><td>ログファイル、データベース (Windows XP、Windows Server 2003)</td><td>Windows システム変数 <code class="varname">%ALLUSERSPROFILE%</code> のデフォルトは <code class="filename">C:\Documents and Settings\All Users\Application Data</code> です。</td></tr><tr><td scope="row"><code class="filename">%PROGRAMDATA%\MySQL\MySQL Server 5.6\</code></td><td>ログファイル、データベース (Vista、Windows 7、Windows Server 2008 以降)</td><td>Windows システム変数 <code class="varname">%PROGRAMDATA%</code> のデフォルトは <code class="filename">C:\ProgramData</code> です。</td></tr><tr><td scope="row"><code class="filename">examples</code></td><td>プログラムおよびスクリプト例</td><td> </td></tr><tr><td scope="row"><code class="filename">include</code></td><td>インクルード (ヘッダー) ファイル</td><td> </td></tr><tr><td scope="row"><code class="filename">lib</code></td><td>ライブラリ</td><td> </td></tr><tr><td scope="row"><code class="filename">scripts</code></td><td>ユーティリティースクリプト</td><td> </td></tr><tr><td scope="row"><code class="filename">share</code></td><td>エラーメッセージ、文字セットファイル、サンプル構成ファイル、データベースインストールのための SQL を含む種々のサポートファイル</td><td> </td></tr></tbody></table></div></div><br class="table-break"><p>
      MySQL Installer を使用して MySQL をインストールした場合、このパッケージはインストールされたサーバーが使用するデータディレクトリを作成してセットアップします。また、インストールディレクトリの下に <code class="filename">data</code> という名前の新しい<span class="quote">「<span class="quote">テンプレート</span>」</span>データディレクトリも作成します。このパッケージを使用してインストールを実行したあと、テンプレートデータディレクトリをコピーして追加の MySQL インスタンスをセットアップできます。<a class="xref" href="server-administration.html#multiple-servers" title="5.3 1 つのマシン上での複数の MySQL インスタンスの実行">セクション5.3「1 つのマシン上での複数の MySQL インスタンスの実行」</a> を参照してください。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="windows-choosing-package"></a>2.3.2 インストール用パッケージの選択</h3></div></div></div><p>
      MySQL 5.6 では、Windows 上に MySQL をインストールする際にインストールパッケージの形式を選択できます。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="bold"><strong>MySQL Installer</strong></span>: このパッケージは <code class="filename">mysql-installer-community-5.6.23.0.msi</code> または <code class="filename">mysql-installer-commercial-5.6.23.0.msi</code> のようなファイル名を持ち、MSI を利用して MySQL Server およびその他の製品を自動的にインストールします。自分自身およびインストールした各製品のアップデートをダウンロードして適用します。また、追加の非サーバー製品の構成も行います。
        </p><p>
          インストールされた製品は構成可能で、これにはサンプルと例を含むドキュメント、コネクタ (C、C++、J、NET、および ODBC など)、MySQL Workbench、MySQL Notifier、MySQL for Excel、および MySQL Server とそのコンポーネントが含まれます。
        </p><p>
          MySQL Installer は、MySQL がサポートするすべての Windows プラットフォームで実行できます (<a class="ulink" href="http://www.mysql.com/support/supportedplatforms/database.html" target="_top">http://www.mysql.com/support/supportedplatforms/database.html</a> を参照してください)。
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            MySQL Installer は Microsoft Windows のネイティブコンポーネントではなく .NET に依存するため、Windows Server 2008 の「Server Core」バージョンなどの最小インストールオプションでは動作しません。
          </p></div><p>
          MySQL Installer を使用して MySQL をインストールする方法の説明は、<a class="xref" href="installing.html#mysql-installer" title="2.3.3 MySQL Installer を使用した MySQL の Microsoft Windows へのインストール">セクション2.3.3「MySQL Installer を使用した MySQL の Microsoft Windows へのインストール」</a> を参照してください。
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>非インストールアーカイブ</strong></span>: このパッケージは <code class="filename">mysql-5.6.23-win32.zip</code> または <code class="filename">mysql-5.6.23-winx64.zip</code> のようなファイル名を持ち、完全なインストールパッケージ内にある、GUI を除くすべてのファイルを含みます。このパッケージには Automated Installer が含まれていないので、手動でインストールして構成する必要があります。
        </p></li></ul></div><p>
      ほとんどのユーザーには MySQL Installer を推奨します。
    </p><p>
      インストールのパッケージの選択によってインストールのプロセスが変わります。MySQL Installer を使用することを選択した場合は、<a class="xref" href="installing.html#mysql-installer" title="2.3.3 MySQL Installer を使用した MySQL の Microsoft Windows へのインストール">セクション2.3.3「MySQL Installer を使用した MySQL の Microsoft Windows へのインストール」</a> を参照してください。非インストールアーカイブを使用することを選択した場合は、<a class="xref" href="installing.html#windows-install-archive" title="2.3.5 非インストール Zip アーカイブを使用して Microsoft Windows に MySQL をインストールする">セクション2.3.5「非インストール Zip アーカイブを使用して Microsoft Windows に MySQL をインストールする」</a> を参照してください。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-installer"></a>2.3.3 MySQL Installer を使用した MySQL の Microsoft Windows へのインストール</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#mysql-installer-gui">2.3.3.1 MySQL Installer GUI</a></span></dt><dt><span class="section"><a href="installing.html#MySQLInstallerConsole">2.3.3.2 MySQL Installer Console</a></span></dt></dl></div><a class="indexterm" name="idm139979166590464"></a><a class="indexterm" name="idm139979166589152"></a><p>
    MySQL Installer を使用すると、MySQL 製品の Microsoft Windows へのインストールと更新が簡潔になります。この中心的なアプリケーションから、使用しているシステム上の MySQL 製品の表示、削除、更新、および再構成を実行できます。MySQL Installer では、プラグイン、ドキュメント、チュートリアル、およびサンプルデータベースのインストールも行えます。MySQL Installer が使用可能なのは Microsoft Windows のみで、GUI とコマンド行インタフェースの両方を含みます。
  </p><p>
    サポートされる製品は次のとおりです。
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <a class="ulink" href="http://dev.mysql.com/doc/" target="_top">MySQL Server</a> (1 つまたは複数のバージョン)
      </p></li><li class="listitem"><p>
        <a class="link" href="workbench.html" title="第 26 章 MySQL Workbench">MySQL Workbench</a>
      </p></li><li class="listitem"><p>
        <a class="ulink" href="http://dev.mysql.com/doc/index-connectors.html" target="_top">MySQL Connectors</a> (.Net / Python / ODBC / Java / C / C++)
      </p></li><li class="listitem"><p>
        <a class="link" href="installing.html#windows-notifier" title="2.3.4 MySQL Notifier">MySQL Notifier</a>
      </p></li><li class="listitem"><p>
        <a class="ulink" href="http://dev.mysql.com/doc/mysql-for-excel/en/index.html" target="_top">MySQL for Excel</a>
      </p></li><li class="listitem"><p>
        <a class="ulink" href="http://dev.mysql.com/doc/connector-net/en/connector-net-visual-studio.html" target="_top">MySQL for Visual Studio</a>
      </p></li><li class="listitem"><p>
        <a class="ulink" href="http://dev.mysql.com/doc/index-utils-fabric.html" target="_top">MySQL Utilities および MySQL Fabric</a>
      </p></li><li class="listitem"><p>
        MySQL のサンプルと例
      </p></li><li class="listitem"><p>
        MySQL ドキュメント
      </p></li><li class="listitem"><p>
        MySQL Installer もインストールされ、独立したアプリケーションとしてシステム上に残ります。
      </p></li></ul></div><h4><a name="idm139979166572112"></a>Installer パッケージのタイプ</h4><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <code class="literal">Full:</code> すべての MySQL 製品 (MySQL Server を含む) がバンドルされています。ファイルのサイズは 200MB を超え、名前は <code class="filename">mysql-installer-community-<em class="replaceable"><code>VERSION</code></em>.<em class="replaceable"><code>N</code></em>.msi</code> の形式です。ここで、<code class="literal">VERSION</code> は 5.6 などの MySQL Server のバージョン番号、<code class="literal">N</code> は 0 から始まるパッケージ番号です。
      </p></li><li class="listitem"><p>
        <code class="literal">Web:</code> Installer と構成ファイルのみを含み、インストールすることを選択した MySQL 製品のみをダウンロードします。このファイルのサイズは約 2MB です。ファイル名は <code class="filename">mysql-installer-community-<code class="literal">web</code>-<em class="replaceable"><code>VERSION</code></em>.<em class="replaceable"><code>N</code></em>.msi</code> の形式で、<code class="literal">VERSION</code> は 5.6 などの MySQL Server のバージョン番号、<code class="literal">N</code> は 0 から始まるパッケージ番号です。
      </p></li></ul></div><h4><a name="idm139979166560192"></a>Installer のエディション</h4><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <code class="literal">コミュニティーエディション:</code> <a class="ulink" href="http://dev.mysql.com/downloads/installer/" target="_top">http://dev.mysql.com/downloads/installer/</a> からダウンロードできます。これは、すべての MySQL 製品のコミュニティーエディションをインストールします。
      </p></li><li class="listitem"><p>
        <code class="literal">商用エディション:</code> <a class="ulink" href="https://support.oracle.com/" target="_top">My Oracle Support</a> (MOS) または <a class="ulink" href="https://edelivery.oracle.com/" target="_top">https://edelivery.oracle.com/</a> からダウンロードできます。これは、Workbench SE/EE を含むすべての MySQL 製品の商用バージョンをインストールします。MOS アカウントとも統合します。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          バンドルの MySQL 製品をインストールする際には MOS の資格情報の入力はオプションですが、MySQL Installer がダウンロードする必要のある、バンドルされていない MySQL 製品を選択する場合は視覚情報が必要です。
        </p></div></li></ul></div><p>
    MySQL Installer の各リリースの変更内容の詳細は、<a class="ulink" href="http://dev.mysql.com/doc/relnotes/mysql-installer/en/" target="_top">MySQL Installer リリースノート</a> を参照してください。
  </p><p>
    MySQL Installer は、前から存在するインストールと互換性があり、インストール済みコンポーネントのリストにそれらを追加します。標準の MySQL Installer は MySQL Server の特定のバージョンにバンドルされていますが、単独の MySQL Installer インスタンスで MySQL Server の複数のバージョンのインストールと管理が可能です。たとえば、単独の MySQL Installer インスタンスで 5.5、5.6、および 5.7 のバージョンをホストにインストール (および更新) 可能です。
  </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
      単独のホストに MySQL Server のコミュニティーエディションと商用エディションの両方をインストールすることはできません。たとえば、MySQL Server 5.5 と 5.6 の両方を単独のホストにインストールする場合、両方が同じエディションでなければなりません。
    </p></div><p>
    MySQL Installer はアプリケーションの初期構成およびセットアップを処理します。例:
  </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
        MySQL Workbench に MySQL Server の初期接続を作成します。
      </p></li><li class="listitem"><p>
        MySQL Server の構成に使用される構成ファイル (<code class="filename">my.ini</code>) を作成します。このファイルに書き込まれる値は、インストールのプロセスで選択した内容に影響されます。
      </p></li><li class="listitem"><p>
        オプションでサンプルデータベースをインポートできます。
      </p></li><li class="listitem"><p>
        オプションで、DB Administrator、DB Designer、および Backup Admin などの一般的なロールに基づいた構成可能な権限を持つ MySQL Server ユーザーアカウントを作成できます。オプションで、<code class="literal">MysqlSys</code> という名前の制限付き権限を持つ Windows ユーザーを作成し、このユーザーが MySQL Server を実行します。
      </p><p>
        MySQL Workbench でユーザーアカウントを追加して構成することもできます。
      </p></li><li class="listitem"><p>
        「Advanced Configuration」オプションをチェックした場合は、<span class="guilabel">「Logging Options」</span>も構成されます。これには、エラーログ、(クエリー実行に必要な秒数の構成を含む) スロークエリーログ、およびバイナリログのファイルパスの定義が含まれます。
      </p></li></ol></div><p>
    MySQL Installer では、オプションで更新されたコンポーネントをチェックしてダウンロードすることも可能です。
  </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-installer-gui"></a>2.3.3.1 MySQL Installer GUI</h4></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#mysql-installer-catalog">2.3.3.1.1 MySQL 製品カタログ</a></span></dt><dt><span class="section"><a href="installing.html#mysql-installer-remove">2.3.3.1.2 MySQL 製品の削除</a></span></dt><dt><span class="section"><a href="installing.html#mysql-installer-alter">2.3.3.1.3 MySQL 製品の変更</a></span></dt></dl></div><p>
      MySQL Installer をインストールすると、「スタート」メニューに<span class="guimenu">「MySQL」</span>グループへのリンクが追加されます。<span class="guimenu">「スタート」</span>、<span class="guimenu">「すべてのプログラム」</span>、<span class="guimenu">「MySQL」</span>、<span class="guimenu">「MySQL Installer」</span>をクリックして MySQL Installer GUI をリロードします。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        MySQL Installer によって生成されたファイルは、<code class="filename">my.ini</code> を含めて MySQL Installer を実行するユーザーにフルアクセス権を付与します。これは、<code class="literal">SYSTEM</code> が所有する <code class="literal">%ProgramData%</code> にある MySQL Server データディレクトリなど、固有の製品のファイルとディレクトリには該当しません。
      </p></div><p>
      MySQL Installer を最初に実行するためには、MySQL 製品をインストールする前にライセンス契約を受け入れる必要があります。
    </p><div class="figure"><a name="mysql-installer-license-agreement"></a><p class="title"><b>図 2.7 MySQL Installer - ライセンス契約</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-installation-license-agreement.png" width="790" height="589" alt="MySQL Installer - ライセンス契約"></div></div></div><br class="figure-break"><h5><a name="idm139979166520000"></a>新規パッケージのインストール</h5><p><a name="mysql-installer-choose-setup-type"></a>
      システムに適した<span class="guilabel">「Setup Type」</span>を選択します。選択したタイプによって、どの MySQL 製品がシステムにインストールされるかが決まります。あるいは、<span class="guilabel">「Custom」</span>を選択して個々の製品を手動で選択します。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="bold"><strong>Developer</strong></span>: MySQL でアプリケーションを開発するために必要なすべての製品をインストールします。これはデフォルトのオプションです。
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>Server only</strong></span>: MySQL Server のみをインストールします。
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>Client only</strong></span>: MySQL クライアント製品のみをインストールします。MySQL Server は含まれません。
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>Full</strong></span>: すべての MySQL 製品をインストールします。
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>Custom</strong></span>: インストールする MySQL 製品を手動で選択します。
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            初期インストールのあと、MySQL Installer を使用して、インストールまたは削除する MySQL 製品を手動で選択できます。つまり、MySQL Installer は MySQL 製品管理システムになります。
          </p></div></li></ul></div><div class="figure"><a name="mysql-installer-choose-setup-page-win"></a><p class="title"><b>図 2.8 MySQL Installer - セットアップタイプの選択</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-installation-choosing-setup-type.png" width="790" height="589" alt="MySQL Installer - セットアップタイプの選択"></div></div></div><br class="figure-break"><p>
      セットアップタイプを選択すると、MySQL Installer は、選択された各 MySQL 製品の必要な外部要件に関して、システムをチェックします。MySQL Installer は、足りないコンポーネントをダウンロードしてシステムにインストールするか、あるいはダウンロードの場所を指示して<span class="guilabel">「Status」</span>を「Manual」に設定します。
    </p><p>
      次のウィンドウは、インストールがスケジュールされている MySQL 製品をリストします。
    </p><div class="figure"><a name="mysql-installer-installation-progress-win"></a><p class="title"><b>図 2.9 MySQL Installer - インストールの進捗</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-installation-installation.png" width="790" height="589" alt="MySQL Installer - インストールの進捗"></div></div></div><br class="figure-break"><p>
      コンポーネントがインストールされると、その<span class="guilabel">「Status」</span>が進捗のパーセントから「Complete」に変わります。
    </p><p>
      すべてのコンポーネントがインストールされると、次のステップでは最近インストールされた MySQL 製品のいくつかが構成されます。<code class="literal">「Configuration Overview」</code>ウィンドウは、進捗を表示してから必要に応じて構成ウィンドウをロードします。この例では、MySQL Server 5.6.x を構成します。
    </p><h5><a name="idm139979166486000"></a>MySQL Server の構成</h5><p>
      MySQL Server の構成では、まずいくつかの<span class="guilabel">「Type and Networking」</span>オプションを定義します。
    </p><div class="figure"><a name="mysql-installer-initial-configuration-overview"></a><p class="title"><b>図 2.10 MySQL Installer - 構成概要</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-installation-product-configuration.png" width="790" height="589" alt="MySQL Installer - 構成概要"></div></div></div><br class="figure-break"><p>
      <span class="bold"><strong>Server の構成タイプ</strong></span>
    </p><p>
      セットアップを記述する MySQL Server の構成タイプを選択します。この設定により、MySQL Server インスタンスに割り当てられるシステムリソースの量が決まります。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="bold"><strong>Developer</strong></span>: ほかに多数のアプリケーションをホストするマシンで、通常ユーザーの個人的なワークステーションです。このオプションでは、MySQL が最小のメモリーを使用するように構成されます。
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>Server</strong></span>: このマシンでは、Web サーバーなど、ほかにいくつかのアプリケーションが実行されています。このオプションでは、MySQL が中程度のメモリーを使用するように構成されます。
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>Dedicated</strong></span>: MySQL Server 実行専用のマシンです。サーバーでは、ほかに Web サーバーのような主要なアプリケーションが実行されていないため、このオプションでは利用可能なすべてのメモリーを MySQL が使用するように構成されます。
        </p></li></ul></div><p>
      <span class="bold"><strong>接続性</strong></span>
    </p><p>
      接続性オプションは、MySQL への接続方法を制御します。次のようなオプションがあります。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="guilabel">TCP/IP</span>: TCP/IP ネットワークを有効にできます。そううしないとローカルホスト接続のみが許可されます。<span class="guilabel">「Port Number」</span>およびネットワークアクセス用にファイアウォールポートをオープンするかどうかも定義します。
        </p></li><li class="listitem"><p>
          <span class="guilabel">Named Pipe</span>: パイプを有効にしてパイプ名を定義します。<code class="literal">--enable-named-pipe</code> オプションを使用するのと同様です。
        </p></li><li class="listitem"><p>
          <span class="guilabel">Shared Memory</span>: メモリー名を有効にしてから定義します。<code class="literal">--shared-memory</code> オプションを使用するのと同様です。
        </p></li></ul></div><p>
      <span class="bold"><strong>高度な構成</strong></span>
    </p><p>
      「Advanced Configuration」オプションをチェックした場合は、構成する追加の<span class="guilabel">「Logging Options」</span>が提供されます。これには、エラーログ、(クエリー実行に必要な秒数の構成を含む) スロークエリーログ、およびバイナリログのファイルパスの定義が含まれます。
    </p><div class="figure"><a name="mysql-installer-mysql-server-configuration-choice"></a><p class="title"><b>図 2.11 MySQL Installer - MySQL Server の構成: タイプとネットワーク</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-installation-type-and-networking.png" width="790" height="589" alt="MySQL Installer - MySQL Server の構成: タイプとネットワーク"></div></div></div><br class="figure-break"><h5><a name="idm139979166448944"></a>アカウントとロール</h5><p>
      次に、MySQL のアカウント情報を定義します。ルートパスワードの割り当ては必須です。
    </p><p>
      オプションで、事前定義されたユーザーロールを持つ MySQL ユーザーアカウントを追加できます。「DB Admin」などの事前定義ロールは、それぞれ独自の権限セットで構成されています。たとえば、「DB Admin」ロールは「DB Designer」ロールより多くの権限を持っています。<span class="guilabel">「Role」</span>ドロップダウンをクリックするとロールの説明のリストが表示されます。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        MySQL Server がすでにインストールされている場合は、<code class="literal">現在の Root のパスワード</code>も入力しなければなりません。
      </p></div><div class="figure"><a name="mysql-installer-configuration-setup-win"></a><p class="title"><b>図 2.12 MySQL Installer - MySQL Server 構成: ユーザーアカウントとロール</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-installation-accounts-and-roles.png" width="790" height="589" alt="MySQL Installer - MySQL Server 構成: ユーザーアカウントとロール"></div></div></div><br class="figure-break"><div class="figure"><a name="mysql-installer-configuration-adding-a-new-user"></a><p class="title"><b>図 2.13 MySQL Installer - MySQL Server 構成: ユーザーアカウントとロール: ユーザーの追加</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-installation-accounts-and-roles-new-user.png" width="429" height="300" alt="MySQL Installer - MySQL Server 構成: ユーザーアカウントとロール: ユーザーの追加"></div></div></div><br class="figure-break"><h5><a name="idm139979166429264"></a>Windows サービス</h5><p>
      次に、<span class="guilabel">「Windows Service」</span>詳細を構成します。これには、サービス名、起動時に MySQL Server をロードするかどうか、および MySQL Server の Windows サービスの実行方法が含まれます。
    </p><div class="figure"><a name="mysql-installer-installation-configuration-win-service-details"></a><p class="title"><b>図 2.14 MySQL Installer - MySQL Server 構成: Windows サービス</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-installation-windows-service.png" width="790" height="589" alt="MySQL Installer - MySQL Server 構成: Windows サービス"></div></div></div><br class="figure-break"><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        <span class="guilabel">「Run Windows Services as ...」</span>を<span class="guilabel">「Custom User」</span>を使用して構成する場合は、Microsoft Windows にサービスとしてログインする権限をカスタムユーザーが持っていなければなりません。また、このユーザーがこれらのユーザー権限で構成されるまで、<span class="guibutton">「Next」</span>ボタンは無効です。
      </p><p>
        Microsoft Windows 7 では、これは, <code class="literal">「スタート」メニュー</code>、<code class="literal">「コントロール パネル」</code>、<code class="literal">「管理ツール」</code>、<code class="literal">「ローカル セキュリティ ポリシー」</code>、<code class="literal">「ローカル ポリシー」</code>、<code class="literal">「ユーザー権利の割り当て」</code>、<code class="literal">「サービスとしてログオン」</code>をロードすることで構成されます。ここで<code class="literal">「ユーザーまたはグループの追加」</code>を選択してカスタムユーザーを追加し、次に<span class="guibutton">「OK」</span>、<span class="guibutton">「OK」</span>を選択して保存します。
      </p></div><h5><a name="idm139979166408832"></a>高度なオプション</h5><p>
      次の構成手順は、<span class="guilabel">「Advanced Configuration」</span>オプションをチェックした場合に使用可能になります。このセクションでは、MySQL のログファイルに関係するオプションを説明します。
    </p><div class="figure"><a name="mysql-installer-installation-configuration-log-options"></a><p class="title"><b>図 2.15 MySQL Installer - MySQL Server 構成: ロギングオプション</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-installation-advanced-options.png" width="790" height="589" alt="MySQL Installer - MySQL Server 構成: ロギングオプション"></div></div></div><br class="figure-break"><p>
      すべてのリクエストした変更が適用される前に、<span class="guibutton">「Next」</span>をクリックして、最後のページに進みます。この<span class="guilabel">「Apply Server Configuration」</span>ページでは、実行される構成手順の詳細が示されます。
    </p><div class="figure"><a name="mysql-installer-installation-configuration-apply-server-configuration"></a><p class="title"><b>図 2.16 MySQL Installer - MySQL Server 構成: サーバー構成の適用</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-installation-apply-server-configuration.png" width="790" height="589" alt="MySQL Installer - MySQL Server 構成: サーバー構成の適用"></div></div></div><br class="figure-break"><p>
      <span class="guibutton">「Execute」</span>をクリックして構成手順を実行します。各手順が成功するとアイコンが白から緑に変わり、失敗するとプロセスは停止します。<span class="guimenu">「Log」</span>タブをクリックしてログを表示します。
    </p><p>
      MySQL Installer 構成プロセスが終了すると、MySQL Installer は開始ページをリロードし、そこでインストールおよび構成に関連するその他のアクションを実行できます。
    </p><p>
      MySQL Installer が Microsoft Windows の「スタート」メニューの<code class="literal">「MySQL」</code>グループに追加されます。MySQL Installer をオープンするとダッシュボードがロードされ、インストール済みの MySQL 製品がリストされます。また、その他の MySQL Installer のアクションが使用可能です。
    </p><div class="figure"><a name="mysql-installer-main-page"></a><p class="title"><b>図 2.17 MySQL Installer - メインダッシュボード</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-installation-main-page.png" width="797" height="596" alt="MySQL Installer - メインダッシュボード"></div></div></div><br class="figure-break"><h5><a name="idm139979166377648"></a>MySQL 製品の追加</h5><p>
      <span class="guibutton">「Add」</span>をクリックして新しい製品を追加します。これにより、<span class="guilabel">「Select Products and Features」</span>ページがロードされます。
    </p><div class="figure"><a name="mysql-installer-select-products-and-features"></a><p class="title"><b>図 2.18 MySQL Installer - 製品と機能の選択</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-installation-select-products-features.png" width="790" height="589" alt="MySQL Installer - 製品と機能の選択"></div></div></div><br class="figure-break"><p>
      ここで、インストールする MySQL 製品を左の<span class="guilabel">「Available Products」</span>ペインから選択してから、緑色の右矢印をクリックしてインストール用のキューに入れます。
    </p><p>
      オプションで、<span class="guibutton">「Edit」</span>をクリックして製品と機能の検索フィルタをオープンします。
    </p><div class="figure"><a name="mysql-installer-select-products-and-features-filter"></a><p class="title"><b>図 2.19 MySQL Installer - 製品と機能の選択フィルタ</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-installation-select-products-features-filter.png" width="790" height="589" alt="MySQL Installer - 製品と機能の選択フィルタ"></div></div></div><br class="figure-break"><p>
      たとえば、まだ GA ステータスに到達していないベータ製品などの、リリース前の製品を選択に含めることがあります。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        MySQL 製品のリリース前のバージョンをインストールする機能は、MySQL Installer 1.4.0 で加えられました。
      </p></div><p>
      インストールするすべての MySQL 製品を選択してから<span class="guibutton">「Next」</span>をクリックして続行し、次に<span class="guibutton">「Execute」</span>をクリックしてインストールプロセスを実行して、選択したすべての製品をインストールします。
    </p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="mysql-installer-catalog"></a>2.3.3.1.1 MySQL 製品カタログ</h5></div></div></div><p>
        MySQL Installer は MySQL 製品カタログを保管しています。このカタログは手動または自動で更新でき、カタログの変更履歴も利用できます。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL 製品カタログは MySQL Installer 1.4.0 で加えられました。
        </p></div><p>
        <span class="bold"><strong>手動更新</strong></span>
      </p><p>
        MySQL 製品カタログは、Installer のダッシュボードで<span class="guilabel">「Catalog」</span>をクリックすることでいつでも更新できます。
      </p><div class="figure"><a name="mysql-installer-open-catalog-figure"></a><p class="title"><b>図 2.20 MySQL Installer - MySQL 製品カタログのオープン</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-installation-dashboard-catalog.png" width="790" height="589" alt="MySQL Installer - MySQL 製品カタログのオープン"></div></div></div><br class="figure-break"><p>
        そこから、<span class="guibutton">「Execute」</span>をクリックして製品カタログを更新します。
      </p><p>
        <span class="bold"><strong>自動更新</strong></span>
      </p><p>
        MySQL 製品カタログを 1 日 1 度自動的に更新するように MySQL Installer を構成できます。この機能を有効にして更新時間を設定するには、Installer ダッシュボードのレンチアイコンをクリックします。
      </p><p>
        次のウィンドウで、<span class="guilabel">「Automatic Catalog Update」</span>を構成します。この機能を有効または無効にして時間も設定します。
      </p><div class="figure"><a name="mysql-installer-open-catalog-schedule-configure-figure"></a><p class="title"><b>図 2.21 MySQL Installer - カタログスケジューラの構成</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-installation-catalog-schedule-configure.png" width="506" height="283" alt="MySQL Installer - カタログスケジューラの構成"></div></div></div><br class="figure-break"><p>
        このオプションは Windows のタスクスケジューラを使用して「ManifestUpdate」という名前のタスクをスケジュールします。
      </p><p>
        <span class="bold"><strong>変更履歴</strong></span>
      </p><p>
        MySQL Installer はすべての MySQL 製品の変更履歴を追跡しています。ダッシュボードから<span class="guilabel">「Catalog」</span>をクリックし、オプションでカタログを更新し (または<span class="guilabel">「Do not update at this time」</span>チェックボックスを切り替え)、<span class="guibutton">「Next」</span>/<span class="guibutton">「Execute」</span>をクリックしてから変更履歴を表示します。
      </p><div class="figure"><a name="mysql-installer-change-history-figure"></a><p class="title"><b>図 2.22 MySQL Installer - カタログ変更履歴</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-installation-change-history.png" width="790" height="589" alt="MySQL Installer - カタログ変更履歴"></div></div></div><br class="figure-break"></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="mysql-installer-remove"></a>2.3.3.1.2 MySQL 製品の削除</h5></div></div></div><p>
        MySQL Installer では、MySQL 製品をシステムから削除することもできます。MySQL 製品を削除するには、Installer のダッシュボードから<span class="guilabel">「Remove」</span>をクリックします。これにより、ウィンドウが開いてインストール済みの MySQL 製品が表示されます。削除する (アンインストールする) MySQL 製品を選択してから、<span class="guibutton">「Execute」</span>をクリックすると削除プロセスが開始します。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          すべての MySQL 製品を選択するには、<span class="guilabel">「Product」</span>ラベルの左の <span class="guilabel">[ ]</span> チェックボックスをクリックします。
        </p></div><div class="figure"><a name="mysql-installer-remove-products-select-figure"></a><p class="title"><b>図 2.23 MySQL Installer - 製品の削除: 選択</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-installation-remove-products.png" width="790" height="589" alt="MySQL Installer - 製品の削除: 選択"></div></div></div><br class="figure-break"><div class="figure"><a name="mysql-installer-remove-products-executed-figure"></a><p class="title"><b>図 2.24 MySQL Installer - 製品の削除: 実行</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-installation-remove-products-executed.png" width="790" height="589" alt="MySQL Installer - 製品の削除: 実行"></div></div></div><br class="figure-break"></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="mysql-installer-alter"></a>2.3.3.1.3 MySQL 製品の変更</h5></div></div></div><p>
        MySQL Installer では、MySQL 製品のインストールを変更するいくつかのオプションがあります。
      </p><div class="simplesect"><div class="titlepage"><div><div><h6 class="title"><a name="mysql-installer-alter-upgrade"></a>アップグレード</h6></div></div></div><p>
          アップグレードが利用可能な MySQL 製品は、メインダッシュボード上で強調表示されます。アップグレードが利用可能な製品には、バージョン番号の隣にアップグレードアイコンがあります。
        </p><div class="figure"><a name="mysql-installer-dashboard-upgrade-viewable-figure"></a><p class="title"><b>図 2.25 MySQL Installer - MySQL 製品のアップグレード</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-installation-dashboard-upgrade-icon.png" width="790" height="589" alt="MySQL Installer - MySQL 製品のアップグレード"></div></div></div><br class="figure-break"><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            利用可能なアップグレードは、最新のカタログがあることで判断されます。MySQL 製品カタログを最新の状態に維持する方法については、<a class="xref" href="installing.html#mysql-installer-catalog" title="2.3.3.1.1 MySQL 製品カタログ">セクション2.3.3.1.1「MySQL 製品カタログ」</a>を参照してください。
          </p></div><p>
          <span class="guilabel">「Upgrade」</span>をクリックしてアップグレード可能な製品のリストを表示します。この例では、MySQL Server 5.6.19 をバージョン 5.6.20 にアップグレードできることが示されています。
        </p><div class="figure"><a name="mysql-installer-upgrade-select-products-to-upgrade-figure"></a><p class="title"><b>図 2.26 MySQL Installer - アップグレードする製品の選択</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-installation-select-products-to-upgrade.png" width="790" height="589" alt="MySQL Installer - アップグレードする製品の選択"></div></div></div><br class="figure-break"><p>
          アップグレードする製品を選択 (チェック) し、オプションで<span class="bold"><strong>「changes」</strong></span>リンクをクリックして製品のリリースノートをブラウザに表示します。<span class="guibutton">「Next」</span>をクリックしてアップグレードプロセスを開始します。
        </p><div class="figure"><a name="mysql-installer-upgrade-apply-updates-figure"></a><p class="title"><b>図 2.27 MySQL Installer - 更新の適用</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-installation-apply-updates.png" width="790" height="589" alt="MySQL Installer - 更新の適用"></div></div></div><br class="figure-break"><p>
          MySQL Server アップグレードでは、サーバーのデータベースもチェックしてアップグレードします。この手順はオプションですがお勧めしています。
        </p><div class="figure"><a name="mysql-installer-check-and-upgrade-database-figure"></a><p class="title"><b>図 2.28 MySQL Installer - データベースのチェックとアップグレード</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-installation-check-and-upgrade-database.png" width="790" height="589" alt="MySQL Installer - データベースのチェックとアップグレード"></div></div></div><br class="figure-break"><p>
          完了すると、製品がアップグレードされ使用できるようになります。MySQL Server アップグレードが、MySQL Server の再起動も行います。
        </p></div><div class="simplesect"><div class="titlepage"><div><div><h6 class="title"><a name="mysql-installer-alter-reconfigure"></a>再構成</h6></div></div></div><p>
          MySQL Server などの一部の MySQL 製品には、<span class="guilabel">「Reconfigure」</span>オプションがあります。その MySQL 製品がインストールされたときに設定した構成オプションと同じものが開き、現在の値が事前に移入されます。
        </p><p>
          実行するには、メインダッシュボードで、再構成する MySQL 製品の<span class="guilabel">「Quick Action」</span>カラムの<code class="literal">「Reconfigure」</code>リンクをクリックします。
        </p><div class="figure"><a name="mysql-installer-reconfigure-link-figure"></a><p class="title"><b>図 2.29 MySQL Installer - MySQL 製品の再構成</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-installation-dashboard-reconfigure.png" width="790" height="589" alt="MySQL Installer - MySQL 製品の再構成"></div></div></div><br class="figure-break"><p>
          MySQL Server の場合は、これにより見慣れた構成ウィザードが開きます。
        </p><div class="figure"><a name="mysql-installer-reconfigure-figure"></a><p class="title"><b>図 2.30 MySQL Installer - 再構成ウィザード</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-installation-product-configuration.png" width="790" height="589" alt="MySQL Installer - 再構成ウィザード"></div></div></div><br class="figure-break"></div><div class="simplesect"><div class="titlepage"><div><div><h6 class="title"><a name="mysql-installer-alter-modify"></a>変更</h6></div></div></div><p>
          多くの MySQL 製品には、追加または削除が可能な機能コンポーネントが含まれます。たとえば、<code class="literal">Debug binaries</code> および <code class="literal">Client Programs</code> は MySQL Server のサブコンポーネントです。
        </p><p>
          製品の機能を変更するには、メインダッシュボードで<span class="guilabel">「Modify」</span>をクリックします。
        </p><div class="figure"><a name="mysql-installer-modify-product-features-figure"></a><p class="title"><b>図 2.31 MySQL Installer - 製品の機能の変更</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-installation-modify-product-features.png" width="790" height="589" alt="MySQL Installer - 製品の機能の変更"></div></div></div><br class="figure-break"><p>
          <span class="guibutton">「Execute」</span>をクリックして変更リクエストを実行します。
        </p></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="MySQLInstallerConsole"></a>2.3.3.2 MySQL Installer Console</h4></div></div></div><a class="indexterm" name="idm139979166221312"></a><a class="indexterm" name="idm139979166219968"></a><a class="indexterm" name="idm139979166218480"></a><a class="indexterm" name="idm139979166216448"></a><p>
      <span class="command"><strong>MySQLInstallerConsole</strong></span> は、GUI バージョンの MySQL Installer と同様の機能を提供しますが、コマンド行から実行します。これは、MySQL Installer をはじめて実行した際にインストールされ、<code class="filename">MySQL Installer</code> ディレクトリ内で利用可能になります。通常これは <code class="filename">C:\Program Files (x86)\MySQL\MySQL Installer\</code> で、Console は管理者権限で実行しなければなりません。
    </p><p>
      使用するには、<span class="guimenu">「スタート」</span>、<span class="guimenu">「アクセサリ」</span>を選択してから<span class="guimenu">「コマンド プロンプト」</span>を右クリックし、<code class="literal">「管理者として実行」</code>を選択して、管理者権限でコマンドプロンプトを起動します。そして、オプションでコマンド行からディレクトリを <span class="command"><strong>MySQLInstallerConsole</strong></span> のある場所に変更します。
    </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>cd "C:\Program Files (x86)\MySQL\MySQL Installer"</code></strong>
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole.exe help</code></strong>

C:\Program Files (x86)\MySQL\MySQL Installer for Windows&gt;MySQLInstallerConsole.exe help

The following commands are available:

Configure - Configures one or more of your installed programs.
Help      - Provides list of available commands.
Install   - Install and configure one or more available MySQL programs.
List      - Provides an interactive way to list all products available.
Modify    - Modifies the features of installed products.
Remove    - Removes one or more products from your system.
Status    - Shows the status of all installed products.
Update    - Update the current product catalog.
Upgrade   - Upgrades one or more of your installed programs.
</pre><p>
      <span class="command"><strong>MySQLInstallerConsole</strong></span> は次のオプションをサポートします。これらはコマンド行で指定します。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="MySQLInstallerConsole-configure"></a>
          <a class="indexterm" name="idm139979166202000"></a> <a class="indexterm" name="idm139979166199856"></a> <code class="literal">configure</code> [product1]:[setting]=[value]; [product2]:[setting]=[value]; [...]
        </p><p>
          システム上の 1 つまたは複数の MySQL 製品を構成します。
        </p><p>
          次のようなスイッチがあります。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">-showsettings</code>: 製品名を <code class="literal">-showsettings</code> の後ろに渡すことによって、選択された製品の使用可能なオプションを表示します。
            </p></li><li class="listitem"><p>
              <code class="literal">-silent</code>: 確認プロンプトを無効にします。
            </p></li></ul></div><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>configure -showsettings server</code></em></code></strong>
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>configure server:port=3307</code></em></code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-help"></a>
          <a class="indexterm" name="idm139979166187616"></a> <a class="indexterm" name="idm139979166185440"></a> <code class="literal">help [command]</code>
        </p><p>
          ヘルプメッセージを使用例とともに表示して終了します。コマンドに固有のヘルプを受信するには、そのコマンドを渡します。
        </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>help</code></em></code></strong>
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>help install</code></em></code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-install"></a>
          <a class="indexterm" name="idm139979166178096"></a> <a class="indexterm" name="idm139979166175920"></a> <code class="literal">install</code> [product]:[features]:[config block]:[config block]:[config block]; [...]
        </p><p>
          システムに 1 つまたは複数の MySQL 製品をインストールします。
        </p><p>
          次のようなスイッチと構文オプションがあります。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">-type=[SetupType]</code>: 事前定義されたソフトウェアのセットをインストールします。「SetupType」は次のいずれかです。
            </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
                Custom 以外のセットアップタイプは、ほかに MySQL 製品がインストールされていない場合のみ選択できます。
              </p></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>
                  <span class="bold"><strong>Developer</strong></span>: 完全な開発環境をインストールします。
                </p></li><li class="listitem"><p>
                  <span class="bold"><strong>Server</strong></span>: 単一の MySQL Server をインストールします。
                </p></li><li class="listitem"><p>
                  <span class="bold"><strong>Client</strong></span>: クライアントプログラムとライブラリをインストールします。
                </p></li><li class="listitem"><p>
                  <span class="bold"><strong>Full</strong></span>: すべてをインストールします。
                </p></li><li class="listitem"><p>
                  <span class="bold"><strong>Custom</strong></span>: ユーザーが選択した製品をインストールします。これはデフォルトのオプションです。
                </p></li></ul></div></li><li class="listitem"><p>
              <code class="literal">-showsettings</code>: 製品名を <code class="literal">-showsettings</code> の後ろに渡すことによって、選択された製品の使用可能なオプションを表示します。
            </p></li><li class="listitem"><p>
              <code class="literal">-silent</code>: 確認プロンプトを無効にします。
            </p></li><li class="listitem"><p>
              <code class="literal">[config block]</code>: 1 つまたは複数の構成ブロックを指定できます。各構成ブロックは、セミコロンで区切られたキーと値のペアのリストです。ブロックには、「config」または「user」タイプのいずれかのキーを含むことができ、指定されない場合は「config」がデフォルトタイプです。
            </p><p>
              「config」タイプのブロックは製品あたり 1 つのみ定義できます。「user」ブロックは、製品のインストール中に作成された各ユーザーに対して定義してください。
            </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
                製品の再構成中のユーザーの追加はサポートされていません。
              </p></div></li><li class="listitem"><p>
              <code class="literal">[feature]</code>: 機能ブロックは、セミコロンで区切られた機能のリストまたは「*」 (全機能を選択) です。
            </p></li></ul></div><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>install server;5.6.22:*:port=3307;serverid=2:type=user;username=foo;password=bar;role=DBManager</code></em></code></strong>
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>install server;5.6.22;x64 -silent</code></em></code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-list"></a>
          <a class="indexterm" name="idm139979166146224"></a> <a class="indexterm" name="idm139979166144048"></a> <code class="literal">list</code>
        </p><p>
          利用可能なすべての MySQL 製品を検索できるインタラクティブなコンソールをリストします。<code class="literal">MySQLInstallerConsole list</code> を実行してコンソールを起動し、検索する部分文字列を入力します。
        </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>list</code></em></code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-modify"></a>
          <a class="indexterm" name="idm139979166136928"></a> <a class="indexterm" name="idm139979166134752"></a> <code class="literal">modify <em class="replaceable"><code>[product1:-removelist|+addlist] [product2:-removelist|+addlist] [...]</code></em></code>
        </p><p>
          以前にインストールされた MySQL 製品の機能を変更または表示します。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">-silent</code>: 確認プロンプトを無効にします。
            </p></li></ul></div><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>modify server</code></em></code></strong>
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>modify server:+documentation</code></em></code></strong>
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>modify server:-debug</code></em></code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-remove"></a>
          <a class="indexterm" name="idm139979166124256"></a> <a class="indexterm" name="idm139979166122080"></a> <code class="literal">remove <em class="replaceable"><code>[product1] [product2] [...]</code></em></code>
        </p><p>
          システム上から 1 つまたは複数の製品を削除します。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">*</code>: すべての MySQL 製品を削除するには <code class="literal">*</code> を渡します。
            </p></li><li class="listitem"><p>
              <code class="literal">-continue</code>: エラーが発生しても操作を継続します。
            </p></li><li class="listitem"><p>
              <code class="literal">-silent</code>: 確認プロンプトを無効にします。
            </p></li></ul></div><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>remove *</code></em></code></strong>
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>remove server</code></em></code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-status"></a>
          <a class="indexterm" name="idm139979166108784"></a> <a class="indexterm" name="idm139979166106608"></a> <code class="literal">status</code>
        </p><p>
          システムにインストールされている MySQL 製品の簡単な概要を提供します。情報には、製品名とバージョン、アーキテクチャー、インストール日、およびインストールの場所が含まれます。
        </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>status</code></em></code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-upgrade"></a>
          <a class="indexterm" name="idm139979166100144"></a> <a class="indexterm" name="idm139979166097968"></a> <code class="literal">upgrade [product1:version] [product2:version], [...]</code>
        </p><p>
          システム上の 1 つまたは複数の製品をアップグレードします。次のような構文オプションがあります。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">*</code> : すべての製品を最新のバージョンにアップグレードするには <code class="literal">*</code> を渡します。あるいは具体的な製品を渡します。
            </p></li><li class="listitem"><p>
              <code class="literal">!</code> : MySQL 製品を最新バージョンにアップグレードするには、バージョン番号として <code class="literal">!</code> を渡します。
            </p></li><li class="listitem"><p>
              <code class="literal">-silent</code>: 確認プロンプトを無効にします。
            </p></li></ul></div><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>upgrade *</code></em></code></strong>
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>upgrade workbench:6.2.2</code></em></code></strong>
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>upgrade workbench:!</code></em></code></strong>
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>upgrade workbench:6.2.2 excel:1.3.2</code></em></code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-update"></a>
          <a class="indexterm" name="idm139979166081760"></a> <a class="indexterm" name="idm139979166079584"></a> <code class="literal">update</code>
        </p><p>
          最新の MySQL 製品カタログをシステムにダウンロードします。成功すると、次に MySQLInstaller または MySQLInstallerConsole が実行されたときに、ダウンロードカタログが適用されます。
        </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>update</code></em></code></strong>
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            <span class="guilabel">「Automatic Catalog Update」</span> GUI オプションはこのコマンドを Windows のタスクスケジューラから実行します。
          </p></div></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="windows-notifier"></a>2.3.4 MySQL Notifier</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#windows-notifier-installation">2.3.4.1 リモートモニタリングのセットアップとインストール手順</a></span></dt></dl></div><a class="indexterm" name="idm139979166070624"></a><a class="indexterm" name="idm139979166069312"></a><p>
    MySQL Notifier は、システムトレイにあるインジケータを介して、ローカルおよびリモートの MySQL Server インスタンスのステータスをモニターおよび調整できるツールです。MySQL Notifier では、コンテキストメニューからいくつかの MySQL GUI ツール (MySQL Workbench など) にすばやくアクセスすることもできます。
  </p><p>
    MySQL Notifier は MySQL Installer によってインストールされ、(デフォルトでは) Microsoft Windows の起動時に起動します。
  </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
      インストールするには、<a class="ulink" href="http://dev.mysql.com/downloads/installer/" target="_top">MySQL Installer</a> をダウンロードして実行し、MySQL Notifier 製品が選択されていることを確認してからインストールに進みます。詳細は、<a class="link" href="installing.html#mysql-installer" title="2.3.3 MySQL Installer を使用した MySQL の Microsoft Windows へのインストール">MySQL Installer マニュアル</a> を参照してください。
    </p><p>
      MySQL Notifier の各リリースの変更内容の詳細は、<a class="ulink" href="http://dev.mysql.com/doc/relnotes/mysql-notifier/en/" target="_top">MySQL Notifier リリースノート</a> を参照してください。
    </p><p>
      MySQL Notifier の追加のヘルプとサポートは、<a class="ulink" href="http://forums.mysql.com/list.php?173" target="_top">MySQL Notifier フォーラム</a> にアクセスしてください。
    </p></div><p>
    次のような機能があります。
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        MySQL Server インスタンスの起動、停止、および再起動を行います。
      </p></li><li class="listitem"><p>
        新しい MySQL Server サービスを自動的に検出 (して追加) します。これらは<span class="guimenu">「Manage Monitored Items」</span>の下にリストされ、構成することもできます。
      </p></li><li class="listitem"><p>
        ステータスに応じてトレイアイコンが変化します。モニターされているすべての MySQL Server インスタンスが実行中であれば緑、少なくとも 1 つのサービスが停止している場合は赤です。この動作は、<span class="guilabel">「Update MySQL Notifier tray icon based on service status」</span>オプションで決まり、デフォルトでは各サービスに対して有効です。
      </p></li><li class="listitem"><p>
        MySQL Workbench、MySQL Installer、および MySQL Utilities などのその他のアプリケーションにリンクします。たとえば、<span class="guimenu">「Configure Instance」</span>を選択すると、そのインスタンスの MySQL Workbench の「Server Administration」ウィンドウがロードされます。
      </p></li><li class="listitem"><p>
        MySQL Workbench もインストールされている場合は、<span class="guimenu">「Configure Instance」</span> および <span class="guimenu">「SQL Editor」</span>オプションがローカルの MySQL インスタンスに対して利用可能です (リモートのインスタンスには利用できません)。
      </p></li><li class="listitem"><p>
        ローカルおよびリモートの MySQL インスタンスのモニタリング。
      </p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
      リモートモニタリングは MySQL Notifier 1.1.0 以降利用可能です。
    </p></div><p>
    MySQL Notifier はシステムトレイにあり、MySQL Server インスタンスのステータスの視覚的情報を提供します。現在の MySQL Server が実行中の場合は緑のアイコンが、サービスが停止している場合は赤のアイコンが、トレイアイコンの左上に表示されます。
  </p><p>
    MySQL Notifier は、ローカルマシンで検出された MySQL サービスを自動的に追加し、各サービスは保存されて構成可能です。デフォルトでは、<span class="guilabel">「Automatically add new services whose name contains」</span>オプションは有効で <code class="literal">mysql</code> に設定されています。関連する<span class="guilabel">「Notifications Options」</span>には、新しいサービスが発見された場合またはステータスが変化した場合に通知を受ける、などがあり、これらもデフォルトで有効です。また、サービスをアンインストールすると、そのサービスは MySQL Notifier からも削除されます。
  </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
      <span class="guilabel">「Automatically add new services whose name contains」</span>オプションのデフォルトは、Notifier 1.1.0 では「.*mysqld.*」から「mysql」に変更されました。
    </p></div><p>
    システムトレイアイコンをクリックすると、次のスクリーンショットに示すようにいくつかのオプションが表示されます。
  </p><p>
    「Service Instance」メニューは MySQL Notifier のメインウィンドウで、MySQL Server の停止、起動、および再起動が可能です。
  </p><div class="figure"><a name="windows-notifier-server-instance"></a><p class="title"><b>図 2.32 MySQL Notifier Service Instance メニュー</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/windows-notifier-server-instance.png" width="341" height="213" alt="MySQL Notifier Service Instance メニュー"></div></div></div><br class="figure-break"><p>
    <span class="guimenu">「Actions」</span>メニューには、外部アプリケーションへのいくつかのリンク (インストールされている場合) と、モニターされている (ローカルおよびリモートのコンピュータの) すべてのサービスと MySQL のステータスを手動でリフレッシュする<span class="guilabel">「Refresh Status」</span>オプションが含まれます。
  </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
      MySQL Notifier によってモニターされているサービスがない場合は、メインメニューには<span class="guimenu">「Actions」</span>メニューが表示されます。
    </p></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
      <span class="guilabel">「Refresh Status」</span>機能は MySQL Notifier 1.1.0 以降で利用可能です。
    </p></div><div class="figure"><a name="windows-notifier-actions"></a><p class="title"><b>図 2.33 MySQL Notifier Actions メニュー</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/windows-notifier-actions.png" width="503" height="225" alt="MySQL Notifier Actions メニュー"></div></div></div><br class="figure-break"><p>
    <span class="guimenu">「Actions」</span>、<span class="guimenu">「Options」</span>メニューは MySQL Notifier を構成し、次のようなオプションがあります。
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <span class="guilabel">Use colorful status icons</span>: MySQL Notifier のトレイのカラフルなスタイルを有効にします。
      </p></li><li class="listitem"><p>
        <span class="guilabel">Run at Windows Startup</span>: Microsoft Windows の起動時にアプリケーションがロードできるようにします。
      </p></li><li class="listitem"><p>
        <span class="guilabel">Automatically Check For Updates Every</span> # Weeks: MySQL Notifier の新しいバージョンをチェックします。このチェックは指定した週数ごとに実行します。
      </p></li><li class="listitem"><p>
        <span class="guilabel">Automatically add new services whose name contains</span>: サービスをフィルタするのに使用され、MySQL Notifier を実行しているモニター対象のローカルコンピュータのリスト、およびすでに Windows サービスをモニタリングしているリモートコンピュータに自動的にサービスを追加するためのテキスト。モニターされるサービス、および<span class="guilabel">「Add New Service」</span>ダイアログの Microsoft Windows サービスのリストもフィルタします。
      </p><p>
        バージョン 1.1.0 より前では、このオプションは「Automatically add new services that match this pattern」という名前でした。
      </p></li><li class="listitem"><p>
        <span class="guilabel">Notify me when a service is automatically added</span>: 新しく発見されたサービスがモニター対象のサービスのリストに追加されると、タスクバーから吹き出し通知を表示します。
      </p></li><li class="listitem"><p>
        <span class="guilabel">Notify me when a service changes status</span>: モニター対象のサービスのステータスが変更されると、タスクバーから吹き出し通知を表示します。
      </p></li></ul></div><div class="figure"><a name="windows-notifier-options"></a><p class="title"><b>図 2.34 MySQL Notifier Options メニュー</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/windows-notifier-options.png" width="428" height="480" alt="MySQL Notifier Options メニュー"></div></div></div><br class="figure-break"><p>
    <span class="guimenu">「Actions」</span>、<span class="guimenu">「Manage Monitored Items」</span>メニューにより、モニター対象のサービスおよび MySQL インスタンスを構成できます。まず、<span class="guilabel">「Services」</span>タブで次を開きます。
  </p><div class="figure"><a name="windows-notifier-manage-services"></a><p class="title"><b>図 2.35 MySQL Notifier Manage Services メニュー</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/windows-notifier-manage-services.png" width="602" height="529" alt="MySQL Notifier Manage Services メニュー"></div></div></div><br class="figure-break"><p>
    <span class="guilabel">「Instances」</span>タブは同様です。
  </p><div class="figure"><a name="windows-notifier-manage-instances"></a><p class="title"><b>図 2.36 MySQL Notifier Manage Instances メニュー</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/windows-notifier-manage-instances.png" width="602" height="529" alt="MySQL Notifier Manage Instances メニュー"></div></div></div><br class="figure-break"><p>
    サービスまたはインスタンスを追加 (<span class="guimenu">「Manage Monitored Items」</span>ウィンドウで<span class="guibutton">「Add」</span>をクリック) すると、実行中の Microsoft Windows サービスまたはインスタンス接続を選択して、MySQL Notifier がそれをモニターするように構成できます。リストからサービス名をクリックして新しいサービスまたはインスタンスを追加してから、<span class="guibutton">「OK」</span>をクリックして受け入れます。複数のサービスおよびインスタンスを選択できます。
  </p><div class="figure"><a name="windows-notifier-add-services"></a><p class="title"><b>図 2.37 MySQL Notifier 新しいサービスの追加</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/windows-notifier-manage-services-add.png" width="504" height="578" alt="MySQL Notifier 新しいサービスの追加"></div></div></div><br class="figure-break"><p>
    インスタンスの追加
  </p><div class="figure"><a name="windows-notifier-add-instances"></a><p class="title"><b>図 2.38 MySQL Notifier 新しいインスタンスの追加</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/windows-notifier-manage-instances-add.png" width="610" height="600" alt="MySQL Notifier 新しいインスタンスの追加"></div></div></div><br class="figure-break"><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
      <span class="guilabel">「Instances」</span>タブは MySQL Notifier 1.1.0 以降利用可能です。
    </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="windows-notifier-installation"></a>2.3.4.1 リモートモニタリングのセットアップとインストール手順</h4></div></div></div><p>
      MySQL Notifier は、Windows Management Instrumentation (WMI) を使用して、Windows XP 以降を実行しているリモートコンピュータのサービスの管理とモニターを行います。このガイドでは、その仕組み、およびシステムをセットアップしてリモート MySQL インスタンスをモニターする方法を説明します。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        リモートモニタリングは MySQL Notifier 1.1.0 以降利用可能です。
      </p></div><p>
      WMI を構成するためには、ベースとなる Distributed Component Object Model (DCOM) アーキテクチャーが WMI の作業を行なっていることを理解することが重要です。具体的には、MySQL Notifier は、リモート Microsoft Windows ホストの非同期通知クエリーを .NET イベントとして使用しています。これらのイベントは、MySQL Notifier を実行しているコンピュータに非同期コールバックを送信するため、MySQL Notifier はリモートコンピュータ上のサービスのステータスがいつ変更されたかを認識できます。非同期通知は、タイマーを使用する準同期通知または同期通知と比較して、パフォーマンスが優れています。
    </p><p>
      非同期通知では、リモートコンピュータがコールバックをクライアントコンピュータに送信する (したがって逆接続をオープンする) ことが必要なため、通信が正しく機能するためには、Windows ファイアウォールおよび DCOM が正しく構成されていなければなりません。
    </p><div class="figure"><a name="windows-notifier-installation-wmi"></a><p class="title"><b>図 2.39 MySQL Notifier Distributed Component Object Model (DCOM)</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/windows-notifier-wmi-diagram.png" width="661" height="193" alt="MySQL Notifier Distributed Component Object Model (DCOM)"></div></div></div><br class="figure-break"><p>
      非同期 WMI 通知によってスローされる一般的なエラーのほとんどは、Windows ファイアウォールが通信をブロックすること、または DCOM / WMI 設定が正しくセットアップされていないことに関係しています。一般的なエラーとその解決方法のリストは、<a class="xref" href="installing.html#windows-notifier-installation-errors" title="一般的なエラー">Common Errors</a>を参照してください。
    </p><p>
      次の手順は、WMI を機能させるために必須です。これらの手順は 2 つのマシン間にわかれてます。MySQL Notifier を実行する単独のホストコンピュータ (コンピュータ A) と、モニターされる複数のリモートマシン (コンピュータ B) です。
    </p><h5><a name="idm139979165943744"></a>MySQL Notifier を実行しているコンピュータ (コンピュータ A)</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          <span class="guilabel">「グループ ポリシー エディター」</span>を編集するか、または <code class="literal">NETSH</code> を使用して、リモート管理を有効にします。
        </p><p>
          <span class="guilabel">「グループ ポリシー エディター」</span> を使用する場合
        </p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>
              <span class="guibutton">「スタート」</span>をクリックしてから<span class="guibutton">「実行」</span>をクリックし、<code class="filename">「GPEDIT.MSC」</code>と入力してから<span class="guibutton">「OK」</span>をクリックします。
            </p></li><li class="listitem"><p>
              <span class="guilabel">「ローカル コンピュータ ポリシー」</span>見出しの<span class="guilabel">「コンピューターの構成」</span>をダブルクリックします。
            </p></li><li class="listitem"><p>
              <span class="guilabel">「管理用テンプレート」</span>、<span class="guilabel">「ネットワーク」</span>、<span class="guilabel">「ネットワーク接続」</span>、<span class="guilabel">「Windows ファイアウォール」</span>の順にダブルクリックします。
            </p></li><li class="listitem"><p>
              コンピュータがドメイン内にある場合は、<span class="guilabel">「ドメイン プロファイル」</span>をダブルクリックします。そうでない場合は<span class="guilabel">「標準プロファイル」</span>をダブルクリックします。
            </p></li><li class="listitem"><p>
              <span class="guilabel">「Windows ファイアウォール: 着信リモート管理の例外を許可する」</span>をクリックします。
            </p></li><li class="listitem"><p>
              「アクション」メニューで、<span class="guibutton">「編集」</span>を選択するか、前の手順で選択したものをダブルクリックします。
            </p></li><li class="listitem"><p>
              <span class="guibutton">「有効」</span>ラジオボタンをチェックして<span class="guibutton">「OK」</span>をクリックします。
            </p></li></ol></div><p>
          <code class="literal">NETSH</code> コマンドを使用する場合
        </p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>
              管理者権限でコマンドプロンプトウィンドウをオープンします (「コマンド プロンプト」アイコンを右クリックして<span class="guilabel">「管理者として実行」</span>をクリックします)。
            </p></li><li class="listitem"><p>
              次のコマンドを実行します。

</p><pre class="programlisting">
NETSH firewall set service RemoteAdmin enable
</pre><p>
            </p></li></ol></div></li><li class="listitem"><p>
          DCOM ポート TCP 135 のオープン
        </p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>
              管理者権限でコマンドプロンプトウィンドウをオープンします (「コマンド プロンプト」アイコンを右クリックして<span class="guilabel">「管理者として実行」</span>をクリックします)。
            </p></li><li class="listitem"><p>
              次のコマンドを実行します。

</p><pre class="programlisting">
NETSH firewall add portopening protocol=tcp port=135 name=DCOM_TCP135
</pre><p>
            </p></li></ol></div></li><li class="listitem"><p>
          コールバックのシンクを含むクライアントアプリケーションを (<code class="filename">MySqlNotifier.exe</code>) Windows ファイアウォールの例外リストに追加します (Windows ファイアウォール構成または <code class="literal">NETSH</code> を使用します)。
        </p><p>
          Windows ファイアウォール構成を使用する場合
        </p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>
              「コントロール パネル」で、<span class="guilabel">「Windows ファイアウォール」</span>をダブルクリックします。
            </p></li><li class="listitem"><p>
              「Windows ファイアウォール」ウィンドウの左のパネルで、<span class="guilabel">「Windows ファイアウォールを介したプログラムまたは機能を許可する」</span>をクリックします。
            </p></li><li class="listitem"><p>
              「許可されたプログラム」ウィンドウで<span class="guibutton">「設定の変更」</span>をクリックします。
            </p></li><li class="listitem"><p>
              <code class="filename">MySqlNotifier.exe</code> が許可されたプログラムと機能のリスト内にある場合は、コンピュータが接続するネットワークのタイプ (プライベート、パブリック、または両方) にチェックされていることを確認します。
            </p></li><li class="listitem"><p>
              <code class="filename">MySqlNotifier.exe</code> がリストにない場合は、<span class="guibutton">「別のプログラムの許可...」</span>をクリックします。
            </p></li><li class="listitem"><p>
              <span class="guilabel">「プログラムの追加」</span>ウィンドウで、<code class="filename">MySqlNotifier.exe</code> が「プログラム」リストにある場合は選択し、そうでない場合は「参照...」をクリックして <code class="filename">MySqlNotifier.exe</code> がインストールされたディレクトリに移動して選択してから、<span class="guibutton">「追加」</span>をクリックします。
            </p></li><li class="listitem"><p>
              <code class="filename">MySqlNotifier.exe</code> が、コンピュータが接続するネットワークのタイプ (プライベート、パブリック、または両方) にチェックされていることを確認します。
            </p></li></ol></div><p>
          <code class="literal">NETSH</code> コマンドを使用する場合
        </p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>
              管理者権限でコマンドプロンプトウィンドウをオープンします (「コマンド プロンプト」アイコンを右クリックして <span class="guibutton">「管理者として実行」</span>をクリックします)。
            </p></li><li class="listitem"><p>
              次のコマンドを実行します。このとき、「<em class="replaceable"><code>[YOUR_INSTALL_DIRECTORY]</code></em>」は変更します。
            </p><pre class="programlisting">
NETSH firewall add allowedprogram program=[YOUR_INSTALL_DIRECTORY]\MySqlNotifier.exe name=MySqlNotifier
</pre></li></ol></div></li><li class="listitem"><p>
          コンピュータ B が <code class="literal">WORKGROUP</code> のメンバーであるか、またはコンピュータ A によって信頼されていない別のドメインにある場合は、コールバック接続 (接続 2) が匿名接続として作成されます。匿名接続に DCOM リモートアクセス権限を付与するには:
        </p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>
              <span class="guibutton">「スタート」</span>、<span class="guibutton">「実行」</span>をクリックし、<code class="literal">「DCOMCNFG」</code>と入力してから<span class="guibutton">「OK」</span>をクリックします。
            </p></li><li class="listitem"><p>
              「コンポーネント サービス」ダイアログボックスで、「コンポーネント サービス」、「コンピューターの順に展開してから<span class="guilabel">「マイ コンピューター」</span>を右クリックし、<span class="guibutton">「プロパティ」</span>をクリックします。
            </p></li><li class="listitem"><p>
              「My Computer Properties」ダイアログボックスで<span class="guilabel">「COM セキュリティ」</span>タブをクリックします。
            </p></li><li class="listitem"><p>
              「アクセス許可」で、<span class="guibutton">「制限の編集」</span>をクリックします。
            </p></li><li class="listitem"><p>
              「アクセス許可」ダイアログボックスで、「グループ」または「ユーザー名」ボックスから<span class="guilabel">「ANONYMOUS LOGON 名」</span>を選択します。「ユーザー」の「アクセス許可」の「許可」カラムで、<span class="guilabel">「リモート アクセス」</span>を選択してから<span class="guibutton">「OK」</span>をクリックします。
            </p></li></ol></div></li></ol></div><h5><a name="idm139979165866800"></a>モニター対象のリモートコンピュータ (コンピュータ B)</h5><p>
      MySQL Notifier を実行しているコンピュータ (コンピュータ A) にログインしたユーザーアカウントがリモートコンピュータ (コンピュータ B) のローカル管理者である場合、すなわち同じアカウントがコンピュータ B では管理者である場合、「リモート管理の許可」手順までスキップできます。
    </p><p>
      管理者以外のユーザーがリモートでコンピュータにアクセスできるようにするための DCOM セキュリティーの設定
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          ユーザーまたはグループに「DCOM のリモート起動」と有効化の権限を付与します。
        </p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>
              <span class="guibutton">「スタート」</span>、<span class="guibutton">「実行」</span>をクリックし、<code class="literal">「DCOMCNFG」</code>と入力してから<span class="guibutton">「OK」</span>をクリックします。
            </p></li><li class="listitem"><p>
              「コンポーネント サービス」ダイアログボックスで、「コンポーネント サービス」、「コンピューターの順に展開してから<span class="guilabel">「マイ コンピューター」</span>を右クリックし、<span class="guibutton">「プロパティ」</span>をクリックします。
            </p></li><li class="listitem"><p>
              「My Computer Properties」ダイアログボックスで<span class="guilabel">「COM セキュリティ」</span>タブをクリックします。
            </p></li><li class="listitem"><p>
              「アクセス許可」で、<span class="guibutton">「制限の編集」</span>をクリックします。
            </p></li><li class="listitem"><p>
              「グループ」または「ユーザー名」のリストにご自分の名前またはグループが表示されない場合は、<span class="guilabel">「Launch Permission」</span>ダイアログボックスで次の手順に従ってください。
            </p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem"><p>
                  <span class="guilabel">「起動アクセス許可」</span>ダイアログボックスで、<span class="guibutton">「追加」</span>をクリックします。
                </p></li><li class="listitem"><p>
                  「Select Users, Computers, or Groups」ダイアログボックスで、「選択するオブジェクト名を入力してください」ボックスに自分の名前とグループを追加してから、<span class="guibutton">「OK」</span>をクリックします。
                </p></li></ol></div></li><li class="listitem"><p>
              <span class="guilabel">「Launch Permission」</span>ダイアログボックスで、「グループ」または「ユーザー名」ボックスから自分のユーザーおよびグループを選択します。「ユーザー」の「アクセス許可」の「許可」カラムで、<span class="guilabel">「リモートからの起動」</span>を選択し、<span class="guilabel">「リモートからのアクティブ化」</span>を選択してから<span class="guibutton">「OK」</span>をクリックします。
            </p></li></ol></div><p>
          DCOM リモートアクセス許可の付与
        </p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>
              <span class="guibutton">「スタート」</span>、<span class="guibutton">「実行」</span>をクリックし、<code class="literal">「DCOMCNFG」</code>と入力してから<span class="guibutton">「OK」</span>をクリックします。
            </p></li><li class="listitem"><p>
              「コンポーネント サービス」ダイアログボックスで、「コンポーネント サービス」、「コンピューターの順に展開してから<span class="guilabel">「マイ コンピューター」</span>を右クリックし、<span class="guibutton">「プロパティ」</span>をクリックします。
            </p></li><li class="listitem"><p>
              「My Computer Properties」ダイアログボックスで<span class="guilabel">「COM セキュリティ」</span>タブをクリックします。
            </p></li><li class="listitem"><p>
              「アクセス許可」で、<span class="guibutton">「制限の編集」</span>をクリックします。
            </p></li><li class="listitem"><p>
              「アクセス許可」ダイアログボックスで、「グループ」または「ユーザー名」ボックスから<span class="guilabel">「ANONYMOUS LOGON 名」</span>を選択します。「ユーザー」の「アクセス許可」の「許可」カラムで、<span class="guilabel">「リモート アクセス」</span>を選択してから<span class="guibutton">「OK」</span>をクリックします。
            </p></li></ol></div></li><li class="listitem"><p>
          管理者以外のユーザーへの特定の WMI 名前空間へのアクセス許可
        </p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>
              「コントロール パネル」で、<span class="guilabel">「管理ツール」</span>をダブルクリックします。
            </p></li><li class="listitem"><p>
              「管理ツール」ウィンドウで、<span class="guilabel">「コンピューターの管理」</span>をダブルクリックします。
            </p></li><li class="listitem"><p>
              「コンピューターの管理」ウィンドウで、<span class="guilabel">「サービスとアプリケーション」</span>ツリーを展開して<span class="guilabel">「WMI コントロール」</span>をダブルクリックします。
            </p></li><li class="listitem"><p>
              「WMI コントロール」アイコンを右クリックして、<span class="guilabel">「プロパティ」</span>を選択します。
            </p></li><li class="listitem"><p>
              「WMI Control Properties」ウィンドウで、<span class="guilabel">「セキュリティ」</span>タブをクリックします。
            </p></li><li class="listitem"><p>
              「セキュリティ」タブで、名前空間を選択して<span class="guilabel">「セキュリティ」</span>をクリックします。
            </p></li><li class="listitem"><p>
              適切なアカウントを探して<span class="guilabel">「Remote Enable in the Permissions list」</span>にチェックを付けます。
            </p></li></ol></div></li><li class="listitem"><p>
          <span class="guilabel">「グループ ポリシー エディター」</span>を編集するか、または <code class="literal">NETSH</code> を使用して、リモート管理を有効にします。
        </p><p>
          <span class="guilabel">「グループ ポリシー エディター」</span> を使用する場合
        </p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>
              <span class="guibutton">「スタート」</span>をクリックしてから<span class="guibutton">「実行」</span>をクリックし、<code class="filename">「GPEDIT.MSC」</code>と入力してから<span class="guibutton">「OK」</span>をクリックします。
            </p></li><li class="listitem"><p>
              「ローカル コンピュータ ポリシー」見出しの<span class="guilabel">「コンピューターの構成」</span>をダブルクリックします。
            </p></li><li class="listitem"><p>
              <span class="guilabel">「管理用テンプレート」</span>、<span class="guilabel">「ネットワーク」</span>、<span class="guilabel">「ネットワーク接続」</span>、<span class="guilabel">「Windows ファイアウォール」</span>の順にダブルクリックします。
            </p></li><li class="listitem"><p>
              コンピュータがドメイン内にある場合は、<span class="guilabel">「ドメイン プロファイル」</span>をダブルクリックします。そうでない場合は<span class="guilabel">「標準プロファイル」</span>をダブルクリックします。
            </p></li><li class="listitem"><p>
              <span class="guilabel">「Windows ファイアウォール: 着信リモート管理の例外を許可する」</span>をクリックします。
            </p></li><li class="listitem"><p>
              「アクション」メニューで、<span class="guibutton">「編集」</span>を選択するか、前の手順で選択したものをダブルクリックします。
            </p></li><li class="listitem"><p>
              <span class="guibutton">「有効」</span>ラジオボタンをチェックして<span class="guibutton">「OK」</span>をクリックします。
            </p></li></ol></div><p>
          <code class="literal">NETSH</code> コマンドを使用する場合
        </p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>
              管理者権限でコマンドプロンプトウィンドウをオープンします (「コマンド プロンプト」アイコンを右クリックして「管理者として実行」をクリックします)。
            </p></li><li class="listitem"><p>
              次のコマンドを実行します。

</p><pre class="programlisting">
NETSH firewall set service RemoteAdmin enable
</pre><p>
            </p></li></ol></div></li><li class="listitem"><p>
          ここで、<code class="literal">Full Name</code> 値ではなく <code class="literal">Name</code> 値を使用してログインしていることを確認します。
        </p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>
              <span class="guilabel">「コントロール パネル」</span>で、<span class="guilabel">「管理ツール」</span>をダブルクリックします。
            </p></li><li class="listitem"><p>
              <span class="guilabel">「管理ツール」</span>ウィンドウで、<span class="guilabel">「コンピューターの管理」</span>をダブルクリックします。
            </p></li><li class="listitem"><p>
              <span class="guilabel">「コンピューターの管理」</span>ウィンドウで、<span class="guilabel">「システム ツール」、「ローカル ユーザーとグループ」</span>の順に展開します。
            </p></li><li class="listitem"><p>
              <span class="guilabel">「ユーザー」</span>ノードをクリックし、右側のパネルで自分のユーザーを探し、接続に <span class="guilabel">Full Name</span> 値ではなく <span class="guilabel">Name</span> 値を使用していることを確認します。
            </p></li></ol></div></li><li class="listitem"><p>
          リモートコンピュータが <code class="literal">Windows XP Professional</code> 上で実行されている場合は、リモートログインが強制的にゲストアカウントユーザーに変更されていないことを確認します (<code class="literal">ForceGuest</code> とも呼ばれます)。これは、ドメインに接続されていないコンピュータではデフォルトで有効です。
        </p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>
              「スタート」をクリックしてから「実行」をクリックし、<code class="filename">「SECPOL.MSC」</code>と入力してから<span class="guibutton">「OK」</span>をクリックします。
            </p></li><li class="listitem"><p>
              <span class="guilabel">「ローカル ポリシー」</span>ノードで、<span class="guilabel">「セキュリティ オプション」</span>をダブルクリックします。
            </p></li><li class="listitem"><p>
              <span class="guilabel">「ネットワーク アクセス: ローカル アカウントの共有とセキュリティ モデル」</span>を選択して保存します。
            </p></li></ol></div></li></ol></div><h5><a name="windows-notifier-installation-errors"></a>一般的なエラー</h5><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">0x80070005</code>
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              DCOM セキュリティーが正しく構成されませんでした (コンピュータ B、<code class="literal">DCOM セキュリティーの設定...</code> の手順を参照してください)。
            </p></li><li class="listitem"><p>
              リモートコンピュータ (コンピュータ B) が、WORKGROUP のメンバーであるか、またはクライアント (コンピュータ A) によって信頼されていないドメインにあります (コンピュータ A、<code class="literal">匿名接続に DCOM リモートアクセス権限を付与するには</code>の手順を参照してください)。
            </p></li></ul></div></li><li class="listitem"><p>
          <code class="literal">0x8007000E</code>
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              リモートコンピュータ (コンピュータ B) が、WORKGROUP のメンバーであるか、またはクライアント (コンピュータ A) によって信頼されていないドメインにあります (コンピュータ A、<code class="literal">匿名接続に DCOM リモートアクセス権限を付与するには</code>の手順を参照してください)。
            </p></li></ul></div></li><li class="listitem"><p>
          <code class="literal">0x80041003</code>
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              リモート WMI 名前空間へのアクセスが正しく構成されませんでした (コンピュータ B、<code class="literal">管理者以外のユーザーへの特定の WMI 名前空間へのアクセス許可</code>の手順を参照してください)。
            </p></li></ul></div></li><li class="listitem"><p>
          <code class="literal">0x800706BA</code>
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              クライアントコンピュータ (コンピュータ A) のファイアウォールで DCOM ポートがオープンしていません。コンピュータ A の、<code class="literal">DCOM ポート TCP 135 のオープン</code>の手順を参照してください。
            </p></li><li class="listitem"><p>
              リモートコンピュータ (コンピュータ B) のネットワークの場所がパブリックに設定されているため、アクセスできません。Windows エクスプローラーを介してアクセスできることを確認してください。
            </p></li></ul></div></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="windows-install-archive"></a>2.3.5 非インストール Zip アーカイブを使用して Microsoft Windows に MySQL をインストールする</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#windows-extract-archive">2.3.5.1 インストールアーカイブを抽出する</a></span></dt><dt><span class="section"><a href="installing.html#windows-create-option-file">2.3.5.2 オプションファイルの作成</a></span></dt><dt><span class="section"><a href="installing.html#windows-select-server">2.3.5.3 MySQL サーバータイプの選択</a></span></dt><dt><span class="section"><a href="installing.html#windows-server-first-start">2.3.5.4 サーバーをはじめて起動する</a></span></dt><dt><span class="section"><a href="installing.html#windows-start-command-line">2.3.5.5 Windows のコマンド行からの MySQL の起動</a></span></dt><dt><span class="section"><a href="installing.html#mysql-installation-windows-path">2.3.5.6 MySQL ツールの PATH をカスタマイズする</a></span></dt><dt><span class="section"><a href="installing.html#windows-start-service">2.3.5.7 Windows のサービスとして MySQL を起動する</a></span></dt><dt><span class="section"><a href="installing.html#windows-testing">2.3.5.8 MySQL インストールのテスト</a></span></dt></dl></div><p>
      <code class="literal">非インストール</code>パッケージからインストールするユーザーは、このセクションの説明に従って手動で MySQL をインストールできます。MySQL を Zip アーカイブからインストールする手順は次のとおりです。
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          アーカイブを任意のインストールディレクトリに抽出する
        </p></li><li class="listitem"><p>
          オプションファイルを作成する
        </p></li><li class="listitem"><p>
          MySQL のサーバータイプを選択する
        </p></li><li class="listitem"><p>
          MySQL Server を起動する
        </p></li><li class="listitem"><p>
          デフォルトのユーザーアカウントをセキュアにする
        </p></li></ol></div><p>
      この手順はこのあとのセクションで説明します。
    </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="windows-extract-archive"></a>2.3.5.1 インストールアーカイブを抽出する</h4></div></div></div><p>
        MySQL を手動でインストールするには、次の手順に従います。
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            以前のバージョンからアップグレードする場合にはアップグレードの手順を始める前に <a class="xref" href="installing.html#windows-upgrading" title="2.3.7 Windows 上の MySQL をアップグレードする">セクション2.3.7「Windows 上の MySQL をアップグレードする」</a> を参照してください。
          </p></li><li class="listitem"><p>
            管理者権限を持つユーザーとしてログインしていることを確認します。
          </p></li><li class="listitem"><p>
            インストールの場所を選択します。通常、MySQL Server は <code class="filename">C:\mysql</code> にインストールされます。MySQL Installation Wizard が MySQL を <code class="filename">C:\Program Files\MySQL</code> にインストールします。MySQL を <code class="filename">C:\mysql</code> にインストールしない場合、起動時あるいはオプションファイルでインストールディレクトリへのパスを指定する必要があります。<a class="xref" href="installing.html#windows-create-option-file" title="2.3.5.2 オプションファイルの作成">セクション2.3.5.2「オプションファイルの作成」</a> を参照してください。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              MySQL Installer が MySQL を <code class="filename">C:\Program Files\MySQL</code> にインストールします。
            </p></div></li><li class="listitem"><p>
            任意の Zip アーカイブツールを使用して、インストールするアーカイブを選択したインストール場所に抽出します。ツールによっては、選択したインストール場所のフォルダにアーカイブを抽出します。その場合、そのサブフォルダの内容を、選択したインストール場所に移動します。
          </p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="windows-create-option-file"></a>2.3.5.2 オプションファイルの作成</h4></div></div></div><p>
        サーバーの起動時にスタートアップオプションを指定する必要がある場合には、それらをコマンド行で指示するかオプションファイルに配置します。サーバーの起動時に常に使用するオプションは、オプションファイルを使用して MySQL の構成を指定すると非常に便利です。これは次の状況に特に当てはまります。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            インストールまたはデータディレクトリの場所が、デフォルトの場所 (<code class="filename">C:\Program Files\MySQL\MySQL Server 5.6</code> および <code class="filename">C:\Program Files\MySQL\MySQL Server 5.6\data</code>) とは異なり場合。
          </p></li><li class="listitem"><p>
            メモリー、キャッシュ、InnoDB 構成情報などのサーバー設定を調整する必要がある場合。
          </p></li></ul></div><p>
        MySQL Server が Windows 上で起動する際、Windows ディレクトリ <code class="filename">C:\</code>、および MySQL インストールディレクトリなど、いくつかの場所にあるオプションファイルを検索します (場所の完全なリストについては、<a class="xref" href="programs.html#option-files" title="4.2.6 オプションファイルの使用">セクション4.2.6「オプションファイルの使用」</a> を参照してください)。通常、Windows ディレクトリの名前は、<code class="filename">C:\WINDOWS</code> のようになります。次のコマンドを使用して <code class="literal">WINDIR</code> 環境変数の値から正確な場所を割り出すことができます。
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>echo %WINDIR%</code></strong>
</pre><p>
        MySQL は、各場所の <code class="filename">my.ini</code> ファイル内のオプションを最初に検索し、次に <code class="filename">my.cnf</code> ファイルを調べます。ただし、混乱を避けるためにはファイルを 1 つだけ使用するのが最善です。お客様の PC が、<code class="filename">C:</code> がブートドライブではないブートローダーを使用している場合、<code class="filename">my.ini</code> ファイルしか使用できません。どちらのオプションファイルを使用するにしろ、プレーンテキストファイルでなければなりません。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL Installer を使用して MySQL Server をインストールする場合、<code class="filename">my.ini</code> はデフォルトの場所に作成されます。また、MySQL Server 5.5.27 では、MySQL Installer を実行するユーザーにはこの新しい <code class="filename">my.ini</code> への完全な許可が与えられます。
        </p><p>
          つまり、必ず MySQL Server ユーザーが <code class="filename">my.ini</code> ファイルを読み取る権限があるようにしてください。
        </p></div><p>
        MySQL 配布に含まれている参考例のオプションファイルを使用することもできます。詳細は <a class="xref" href="server-administration.html#server-configuration-defaults" title="5.1.2 サーバー構成のデフォルト値">セクション5.1.2「サーバー構成のデフォルト値」</a> を参照してください。
      </p><p>
        オプションファイルは、ノートパッドなどのテキストエディタで作成および変更ができます。たとえば、MySQL を <code class="filename">E:\mysql</code> にインストールし、データディレクトリが <code class="filename">E:\mydata\data</code> にある場合は、<code class="literal">[mysqld]</code> セクションを含むオプションファイルを作成して、<code class="option">basedir</code> および <code class="option">datadir</code> オプションの値を指定できます。
      </p><pre class="programlisting">
[mysqld]
# set basedir to your installation path
basedir=E:/mysql
# set datadir to the location of your data directory
datadir=E:/mydata/data
</pre><p>
        Microsoft Windows のパス名は、オプションファイル内でバックスラッシュではなく (フォワード) スラッシュを使用して指定されます。バックスラッシュを使用する場合は、2 つ使用します。
      </p><pre class="programlisting">
[mysqld]
# set basedir to your installation path
basedir=E:\\mysql
# set datadir to the location of your data directory
datadir=E:\\mydata\\data
</pre><p>
        オプションファイル値でのバックスラッシュの使用に関するルールは <a class="xref" href="programs.html#option-files" title="4.2.6 オプションファイルの使用">セクション4.2.6「オプションファイルの使用」</a> にあります。
      </p><p>
        データディレクトリは、MySQL を実行しているユーザーの <code class="filename">AppData</code> ディレクトリにあります。
      </p><p>
        データディレクトリを異なる場所で使用したい場合、<code class="filename">data</code> ディレクトリの内容全体を新しい場所にコピーしてください。たとえば、代わりに <code class="filename">E:\mydata</code> をデータディレクトリとして使用する場合は、次の 2 つのことを行う必要があります。
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            <code class="filename">data</code> ディレクトリおよびその内容すべてを、デフォルトの場所 (<code class="filename">C:\Program Files\MySQL\MySQL Server 5.6\data</code> など) から <code class="filename">E:\mydata</code> に移動します。
          </p></li><li class="listitem"><p>
            サーバーの起動時に常に新しいデータディレクトリの場所を指定するには <code class="option">--datadir</code> オプションを使用します。
          </p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="windows-select-server"></a>2.3.5.3 MySQL サーバータイプの選択</h4></div></div></div><p>
        次の表は、Windows で使用できる MySQL 5.6 のサーバーを示しています。
      </p><div class="informaltable"><table summary="この表は、Windows で使用できる MySQL 5.6 のサーバーを示しています。" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">バイナリ</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><span class="command"><strong>mysqld</strong></span></td><td>名前付きパイプのサポートがある最適化バイナリ</td></tr><tr><td scope="row"><span class="command"><strong>mysqld-debug</strong></span></td><td><span class="command"><strong>mysqld</strong></span> と同様ですが、完全なデバッグと自動メモリー割り当ての確認を行なってコンパイルされています</td></tr></tbody></table></div><p>
        以前のバイナリはすべて最新の Intel プロセッサに最適化されていますが、Intel i386 クラスあるいはそれ以上のプロセッサで動作するはずです。
      </p><p>
        配布内の各サーバーは、同じストレージエンジンセットをサポートします。<code class="literal">SHOW ENGINES</code> ステートメントは、指定されたサーバーがサポートするエンジンを表示します。
      </p><p>
        すべての Windows MySQL 5.6 Server は、データベースディレクトリのシンボリックリンクをサポートします。
      </p><a class="indexterm" name="idm139979165665312"></a><a class="indexterm" name="idm139979165663968"></a><p>
        MySQL はすべての Windows プラットフォームで TCP/IP をサポートしています。Windows 上の MySQL は、サーバーを <code class="option">--enable-named-pipe</code> オプション付きで起動した場合は名前付きパイプもサポートします。一部のユーザーで、名前付きパイプを使用した際に MySQL サーバーのシャットダウンに関する問題が生じたため、このオプションは明示的に使用する必要があります。多くの Windows 構成において、名前付きパイプは TCP/IP より遅いため、デフォルトではプラットフォームにかかわらず TCP/IP が使用されます。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="windows-server-first-start"></a>2.3.5.4 サーバーをはじめて起動する</h4></div></div></div><p>
        このセクションでは MySQL サーバーの起動に関する一般的な概要を説明します。次の数セクションでは、MySQL サーバーのコマンド行あるいは Windows のサービスとしての起動に関して、より具体的な情報を提供します。
      </p><p>
        ここに記載する情報は、MySQL を <code class="literal">非インストール</code> バージョンを使用してインストールした場合、あるいは MySQL を GUI ツールを使用しないで手動で構成してテストする場合に適用されます。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL Server は、MySQL Installer を使用したあと自動的に起動し、いつでも <a class="link" href="installing.html#windows-notifier" title="2.3.4 MySQL Notifier">MySQL Notifier</a> GUI を使用して起動/停止/再起動できます。
        </p></div><p>
        これらのセクションの例では、MySQL がデフォルトの場所の <code class="filename">C:\Program Files\MySQL\MySQL Server 5.6</code> にインストールされていることを前提とします。異なる場所に MySQL をインストールしている場合には例に示したパス名を調整してください。
      </p><p>
        クライアントには 2 つのオプションがあります。TCP/IP が使用でき、サーバーが名前付きパイプの接続をサポートしている場合には名前付きパイプも使用できます。
      </p><p>
        サーバーを <code class="option">--shared-memory</code> オプションで起動した場合、Windows 上の MySQL は共有メモリーの接続もサポートします。クライアントは <code class="option">--protocol=MEMORY</code> オプションを使用して共有メモリーで接続できます。
      </p><p>
        どのサーバーバイナリを実行するかについては、<a class="xref" href="installing.html#windows-select-server" title="2.3.5.3 MySQL サーバータイプの選択">セクション2.3.5.3「MySQL サーバータイプの選択」</a> を参照してください。
      </p><p>
        テストはコンソールウィンドウ (あるいは <span class="quote">「<span class="quote">DOS ウィンドウ</span>」</span>) のコマンドプロンプトで行います。これにより、ウィンドウにサーバーのステータスに関するメッセージが表示されますので、容易に確認できます。構成に何か問題があった場合には、これらのメッセージにより問題の特定と修正が容易になります。
      </p><p>
        サーバーを起動するには、次のコマンドを入力します。
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.6\bin\mysqld" --console</code></strong>
</pre><p>
        <code class="literal">InnoDB</code> サポートを含むサーバーでは、次のようなメッセージがサーバーの起動時に表示されます (パス名とサイズは異なる場合があります)。
      </p><pre class="programlisting">
InnoDB: The first specified datafile c:\ibdata\ibdata1 did not exist:
InnoDB: a new database to be created!
InnoDB: Setting file c:\ibdata\ibdata1 size to 209715200
InnoDB: Database physically writes the file full: wait...
InnoDB: Log file c:\iblogs\ib_logfile0 did not exist: new to be created
InnoDB: Setting log file c:\iblogs\ib_logfile0 size to 31457280
InnoDB: Log file c:\iblogs\ib_logfile1 did not exist: new to be created
InnoDB: Setting log file c:\iblogs\ib_logfile1 size to 31457280
InnoDB: Log file c:\iblogs\ib_logfile2 did not exist: new to be created
InnoDB: Setting log file c:\iblogs\ib_logfile2 size to 31457280
InnoDB: Doublewrite buffer not found: creating new
InnoDB: Doublewrite buffer created
InnoDB: creating foreign key constraint system tables
InnoDB: foreign key constraint system tables created
011024 10:58:25  InnoDB: Started
</pre><p>
        サーバーが起動シーケンスを終了すると、次のようなメッセージが表示されます。このメッセージが表示されると、サーバーのクライアント接続の用意が整ったことを意味します。
      </p><pre class="programlisting">
mysqld: ready for connections
Version: '5.6.23'  socket: ''  port: 3306
</pre><p>
        サーバーは、診断を生成して出力をコンソールに書き込み続けます。クライアントプログラムを実行する新しいコンソールウィンドウを開くことができます。
      </p><p>
        <code class="option">--console</code> オプションを省略すると、サーバーは診断の出力をデータディレクトリ (デフォルトでは <code class="filename">C:\Program Files\MySQL\MySQL Server 5.6\data</code>) のエラーログに出力します。エラーログは、<code class="filename">.err</code> 拡張子の付いたファイルで、<code class="option">--log-error</code> オプションを使用して設定できます。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL の付与テーブルにリストされているアカウントには、最初はパスワードがありません。サーバーの起動後に <a class="xref" href="installing.html#default-privileges" title="2.10.2 最初の MySQL アカウントのセキュリティー設定">セクション2.10.2「最初の MySQL アカウントのセキュリティー設定」</a> の説明に従ってパスワードをアカウントに設定する必要があります。
        </p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="windows-start-command-line"></a>2.3.5.5 Windows のコマンド行からの MySQL の起動</h4></div></div></div><p>
        MySQL Server はコマンド行から手動で起動できます。これは Windows のどのバージョンでもできます。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          <a class="link" href="installing.html#windows-notifier" title="2.3.4 MySQL Notifier">MySQL Notifier</a> GUI を使用して、MySQL Server を起動/停止/再起動することも可能です。
        </p></div><p>
        コマンド行から <span class="command"><strong>mysqld</strong></span> サーバーを起動するには、コンソールウィンドウ (あるいは <span class="quote">「<span class="quote">DOS ウィンドウ</span>」</span>) を開け、次のコマンドを入力します。
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.6\bin\mysqld"</code></strong>
</pre><p>
        <span class="command"><strong>mysqld</strong></span> へのパスはお客様のシステムの MySQL のインストール場所によって異なる場合があります。
      </p><p>
        MySQL Server を停止するには次のコマンドを実行します。
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.6\bin\mysqladmin" -u root shutdown</code></strong>
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL の <code class="literal">root</code> ユーザーアカウントにパスワードが設定されている場合は、<span class="command"><strong>mysqladmin</strong></span> を <code class="option">-p</code> オプションを使って起動し、要求されたらパスワードを入力する必要があります。
        </p></div><p>
        このコマンドは MySQL 管理ユーティリティー <span class="command"><strong>mysqladmin</strong></span> を起動してサーバーに接続し、サーバーにシャットダウンを命令します。そのコマンドは MySQL <code class="literal">root</code> ユーザーとして接続します。これは MySQL の許可システムのデフォルトの管理アカウントです。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL 許可システム内のユーザーは、Microsoft Windows のログインユーザーとは完全に独立しています。
        </p></div><p>
        <span class="command"><strong>mysqld</strong></span> が起動しない場合、エラーログを確認してサーバーがその問題の原因を示すメッセージを書き込んでいないか確認します。デフォルトでは、エラーログは <code class="filename">C:\Program Files\MySQL\MySQL Server 5.6\data</code> ディレクトリにあります。サフィクス <code class="filename">.err</code> の付いたファイルです。または、<code class="option">--log-error</code> オプションで渡して指定できます。あるいは、<code class="option">--console</code> オプションを使用してサーバーを起動することもできます。この場合、サーバーは問題の解決に役立つ有用な情報を画面に表示することがあります。
      </p><p>
        最後の選択肢は、<span class="command"><strong>mysqld</strong></span> を <code class="option">--standalone</code> および <code class="option">--debug</code> オプションで起動することです。この場合、<span class="command"><strong>mysqld</strong></span> がログファイル <code class="filename">C:\mysqld.trace</code> に書き出し、その中に <span class="command"><strong>mysqld</strong></span> が起動しない理由が含まれているはずです。<a class="xref" href="extending-mysql.html#dbug-package" title="24.4.3 DBUG パッケージ">セクション24.4.3「DBUG パッケージ」</a>を参照してください。
      </p><p>
        <span class="command"><strong>mysqld --verbose --help</strong></span> を使用して、<span class="command"><strong>mysqld</strong></span> がサポートするすべてのオプションを表示します。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-installation-windows-path"></a>2.3.5.6 MySQL ツールの PATH をカスタマイズする</h4></div></div></div><p>
        MySQL プログラムの起動を簡単にするために、MySQL の <code class="filename">bin</code> ディレクトリのパス名を Windows システムの <code class="literal">PATH</code> 環境変数に追加できます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Windows デスクトップで、<span class="guiicon">「マイコンピュータ」</span> アイコンを右クリックして<span class="guimenuitem">「プロパティ」</span>を選択します。
          </p></li><li class="listitem"><p>
            次に、表示された<span class="guimenu">「システムのプロパティ」</span>メニューから<span class="guimenuitem">「詳細設定」</span>タブを選択し、<span class="guibutton">「環境変数」</span>ボタンをクリックします。
          </p></li><li class="listitem"><p>
            <span class="guilabel">「システム環境変数」</span>で、<span class="guimenuitem">「Path」</span>を選択し、次に<span class="guibutton">「編集」</span>ボタンをクリックします。<span class="guimenu">「システム変数の編集」</span>のダイアログが表示されます。
          </p></li><li class="listitem"><p>
            <span class="guilabel">「変数値」</span>と示されたスペースに表示されたテキストの最後にカーソルを持って行きます。(<span class="keycap"><strong>「End」</strong></span>キーを使用して、カーソルが確実にそのスペースのテキストのいちばん後ろにあるようにします)。次に、MySQL <code class="filename">bin</code> ディレクトリの完全なパス名を入力します (<code class="literal">C:\Program Files\MySQL\MySQL Server 5.6\bin</code> など)。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              このフィールドにあるほかの値とこのパスを区切るために、セミコロンが必要です。
            </p></div><p>
            開いているダイアログがすべて閉じるまで、<span class="guibutton">「OK」</span>をクリックしてこのダイアログとその他のダイアログを順番に閉じます。この段階で、システムのどのディレクトリからでも、DOS プロンプトにパスを指定せずに MySQL の実行プログラム名を入力して、すべての MySQL 実行プログラムを呼び出すことができます。これにはサーバー、<span class="command"><strong>mysql</strong></span> クライアント、および <span class="command"><strong>mysqladmin</strong></span> と <span class="command"><strong>mysqldump</strong></span> などのすべての MySQL コマンド行ユーティリティーが含まれています。
          </p><p>
            同じマシンで複数の MySQL サーバーを動作させている場合には、MySQL <code class="filename">bin</code> ディレクトリを Windows <code class="literal">PATH</code> に追加しないでください。
          </p></li></ul></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">警告</div><p>
          システムの <code class="literal">PATH</code> を手動で編集する際には最大限の注意が必要です。既存の <code class="literal">PATH</code> の値の一部でも間違って削除したり変更したりすると、誤動作を引き起こしたりシステムが使用できなくなったりする場合があります。
        </p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="windows-start-service"></a>2.3.5.7 Windows のサービスとして MySQL を起動する</h4></div></div></div><p>
        Windows で MySQL を実行する場合、Windows の起動および停止時に MySQL が自動的に起動および停止するように、Windows サービスとしてインストールすることが推奨されています。MySQL Server をサービスとしてインストールすると、<span class="command"><strong>NET</strong></span> コマンドを使用してコマンド行から、あるいはグラフィカル <span class="command"><strong>Services</strong></span> ユーティリティーで管理することもできます。一般に、MySQL を Windows サービスとしてインストールするときは、管理者権限のあるアカウントを使ってログインするようにしてください。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          <a class="link" href="installing.html#windows-notifier" title="2.3.4 MySQL Notifier">MySQL Notifier</a> GUI を使用して、MySQL サービスのステータスをモニターすることも可能です。
        </p></div><p>
        <span class="command"><strong>Services</strong></span> ユーティリティー (Windows <span class="command"><strong>サービスコントロールマネージャー</strong></span>) は、Windows のコントロールパネル (Windows 2000、XP、Vista、および Server 2003 では <span class="guimenuitem">管理ツール</span>の下) にあります。競合を避けるために、サーバーのインストールまたはコマンド行からの削除操作の際には、<span class="command"><strong>Services</strong></span> ユーティリティーを閉じることを推奨します。
      </p><h5><a name="idm139979165565952"></a>サービスのインストール</h5><p>
        現在サーバーを実行中の場合は、MySQL を Windows のサービスとしてインストールする前に次のコマンドを使用して停止してください。
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.6\bin\mysqladmin"</code></strong>
          <strong class="userinput"><code>-u root shutdown</code></strong>
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL の <code class="literal">root</code> ユーザーアカウントにパスワードが設定されている場合は、<span class="command"><strong>mysqladmin</strong></span> を <code class="option">-p</code> オプションを使って起動し、要求されたらパスワードを入力する必要があります。
        </p></div><p>
        このコマンドは MySQL 管理ユーティリティー <span class="command"><strong>mysqladmin</strong></span> を起動してサーバーに接続し、サーバーにシャットダウンを命令します。そのコマンドは MySQL <code class="literal">root</code> ユーザーとして接続します。これは MySQL の許可システムのデフォルトの管理アカウントです。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL 許可システム内のユーザーは、Windows のログインユーザーとは完全に独立しています。
        </p></div><p>
        サーバーをこのコマンドを使用してサービスとしてインストールします。
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.6\bin\mysqld" --install</code></strong>
</pre><p>
        サービスのインストールコマンドはサーバーは起動しません。それについてはこのセクションで後述します。
      </p><p>
        MySQL プログラムの起動を簡単にするために、MySQL の <code class="filename">bin</code> ディレクトリのパス名を Windows システムの <code class="literal">PATH</code> 環境変数に追加できます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Windows デスクトップで、<span class="guiicon">「マイコンピュータ」</span> アイコンを右クリックして<span class="guimenuitem">「プロパティ」</span>を選択します。
          </p></li><li class="listitem"><p>
            次に、表示された<span class="guimenu">「システムのプロパティ」</span>メニューから<span class="guimenuitem">「詳細設定」</span>タブを選択し、<span class="guibutton">「環境変数」</span>ボタンをクリックします。
          </p></li><li class="listitem"><p>
            <span class="guilabel">「システム環境変数」</span>で、<span class="guimenuitem">「Path」</span>を選択し、次に<span class="guibutton">「編集」</span>ボタンをクリックします。<span class="guimenu">「システム変数の編集」</span>のダイアログが表示されます。
          </p></li><li class="listitem"><p>
            <span class="guilabel">「変数値」</span>と示されたスペースに表示されたテキストの最後にカーソルを持って行きます。(<span class="keycap"><strong>「End」</strong></span>キーを使用して、カーソルが確実にそのスペースのテキストのいちばん後ろにあるようにします)。次に、MySQL <code class="filename">bin</code> ディレクトリの完全なパス名を入力します (<code class="literal">C:\Program Files\MySQL\MySQL Server 5.6\bin</code> など)。このフィールドにあるほかの値とこのパスを区切るために、セミコロンが必要です。開いているダイアログがすべて閉じるまで、<span class="guibutton">「OK」</span>をクリックしてこのダイアログとその他のダイアログを順番に閉じます。この段階で、システムのどのディレクトリからでも、DOS プロンプトにパスを指定せずに MySQL の実行プログラム名を入力して、すべての MySQL 実行プログラムを呼び出すことができます。これにはサーバー、<span class="command"><strong>mysql</strong></span> クライアント、および <span class="command"><strong>mysqladmin</strong></span> と <span class="command"><strong>mysqldump</strong></span> などのすべての MySQL コマンド行ユーティリティーが含まれています。
          </p><p>
            同じマシンで複数の MySQL サーバーを動作させている場合には、MySQL <code class="filename">bin</code> ディレクトリを Windows <code class="literal">PATH</code> に追加しないでください。
          </p></li></ul></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">警告</div><p>
          システムの <code class="literal">PATH</code> を手動で編集する際には最大限の注意が必要です。既存の <code class="literal">PATH</code> の値の一部でも間違って削除したり変更したりすると、誤動作を引き起こしたりシステムが使用できなくなったりする場合があります。
        </p></div><p>
        サービスをインストールする際に、次の追加引数を使用できます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="option">--install</code> オプションの直後にサービス名を指定できます。デフォルトのサービス名は <code class="literal">MySQL</code> です。
          </p></li><li class="listitem"><p>
            サービス名を指定すると、そのあとに 1 つのオプションを指定できます。規則では、<code class="option">--defaults-file=<em class="replaceable"><code>file_name</code></em></code> でオプションファイル名を指定し、サーバーが起動時にそこからオプションを読み取ります。
          </p><p>
            <code class="option">--defaults-file</code> 以外に 1 つのオプションを使用することは可能ですが、お勧めできません。<code class="option">--defaults-file</code> を使用すると、指名したオプションファイルに複数のスタートアップオプションを指定できるので、より柔軟です。
          </p></li><li class="listitem"><p>
            サービス名のあとに <code class="option">--local-service</code> オプションも指定できます。これにより、システム権限の制限付き <code class="literal">LocalService</code> Windows アカウントを使用してサーバーを起動できます。このアカウントは Windows XP またはそれ以降でのみ利用できます。<code class="option">--defaults-file</code> および <code class="option">--local-service</code> の両方がサービス名のあとに指定される場合、どのような順序でもかまいません。
          </p></li></ul></div><p>
        MySQL Server を Windows のサービスとしてインストールした場合、サーバーが使用するサービス名およびオプションファイルは次のルールで決められます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            サービスインストールのコマンドで、<code class="option">--install</code> オプションのあとにサービス名を指名しないかデフォルトのサービス名 (<code class="literal">MySQL</code>) を指定した場合、サーバーは <code class="literal">MySQL</code> のサービス名を使用し、標準のオプションファイルの <code class="literal">[mysqld]</code> グループのオプションを読み取ります。
          </p></li><li class="listitem"><p>
            サービスインストールのコマンドで <code class="literal">MySQL</code> 以外のサービス名を <code class="option">--install</code> オプションのあとに指定した場合、サーバーはそのサービス名を使用します。標準のオプションファイルの <code class="literal">[mysqld]</code> グループと、サービスと名前が同じグループからオプションを読み取ります。これにより、<code class="literal">[mysqld]</code> グループをすべての MySQL サービスで使用すべきオプション用に、サービス名の付いたオプショングループをそのサービス名でインストールされたサーバー用に使用できます。
          </p></li><li class="listitem"><p>
            サービスインストールのコマンドでサービス名のあとに <code class="option">--defaults-file</code> オプションを指定した場合、サーバーは前の項目で説明したのと同じ方法でオプションを読み取りますが、名前付きのファイルからのみオプションを読み取り、標準のオプションファイルは無視します。
          </p></li></ul></div><p>
        さらに複雑な例として、次のコマンドがあります。
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.6\bin\mysqld"</code></strong>
          <strong class="userinput"><code>--install MySQL --defaults-file=C:\my-opts.cnf</code></strong>
</pre><p>
        ここでは、<code class="option">--install</code> オプションのあとにデフォルトのサービス名 (<code class="literal">MySQL</code>) が指定されています。<code class="option">--defaults-file</code> オプションが指定されていなければ、このコマンドによりサーバーは標準のオプションファイルから <code class="literal">[mysqld]</code> グループを読み取ります。しかし、<code class="option">--defaults-file</code> オプションが指定されているので、サーバーは <code class="literal">[mysqld]</code> オプショングループのオプションを、指名されたファイルのみから読み取ります。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          Windows では、サーバーが <code class="option">--defaults-file</code> および <code class="option">--install</code> オプションで起動される場合、<code class="option">--install</code> が最初でなければなりません。そうでないと、<code class="literal">mysqld.exe</code> は MySQL Server を起動しようとします。
        </p></div><p>
        MySQL サービスを実行する前に、Windows の <span class="command"><strong>Services</strong></span> ユーティリティーで Start パラメータとしてオプションを指定することもできます。
      </p><h5><a name="idm139979165490832"></a>サービスの開始</h5><p>
        MySQL サーバーをサービスとしてインストールすると、Windows が起動されるたびにサービスが自動的に起動されます。サービスは、<span class="command"><strong>Services</strong></span> ユーティリティーから、あるいは <span class="command"><strong>NET START MySQL</strong></span> コマンドを使用してすぐに実行することもできます。<span class="command"><strong>NET</strong></span> コマンドは大文字と小文字を区別しません。
      </p><p>
        サービスとして起動する場合、<span class="command"><strong>mysqld</strong></span> はコンソールウィンドウにアクセスできないので、メッセージは表示されません。<span class="command"><strong>mysqld</strong></span> が起動しない場合、サーバーがエラーログにその問題の原因を知らせるメッセージを書き込んでいないか確認します。エラーログは MySQL データディレクトリ (<code class="filename">C:\Program Files\MySQL\MySQL Server 5.6\data</code> など) にあります。<code class="filename">.err</code> のサフィクスが付いたファイルです。
      </p><p>
        MySQL Server をサービスとしてインストールした場合、サービスを実行しているときに Windows がシャットダウンすると Windows が自動的にサービスを停止します。サーバーは、<code class="literal">Services</code> ユーティリティー、<span class="command"><strong>NET STOP MySQL</strong></span> コマンド、あるいは <span class="command"><strong>mysqladmin shutdown</strong></span> コマンドを使用して手動で停止することもできます。
      </p><p>
        サービスがブートプロセスで自動的に実行されないように、サーバーをマニュアルサービスとしてインストールすることもできます。これには <code class="option">--install</code> オプションではなく <code class="option">--install-manual</code> オプションを使用します。
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.6\bin\mysqld" --install-manual</code></strong>
</pre><h5><a name="idm139979165476224"></a>サービスの削除</h5><p>
        サービスとしてインストールしたサーバーを削除するには、起動中の場合にはまず <span class="command"><strong>NET STOP MySQL</strong></span> を実行して停止します。次に <code class="option">--remove</code> オプションを使用して削除します。
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.6\bin\mysqld" --remove</code></strong>
</pre><p>
        <span class="command"><strong>mysqld</strong></span> をサービスとして実行していない場合は、コマンド行で起動できます。その手順は、<a class="xref" href="installing.html#windows-start-command-line" title="2.3.5.5 Windows のコマンド行からの MySQL の起動">セクション2.3.5.5「Windows のコマンド行からの MySQL の起動」</a> を参照してください。
      </p><p>
        インストール中に問題が生じた場合は、<a class="xref" href="installing.html#windows-troubleshooting" title="2.3.6 Microsoft Windows MySQL Server インストールのトラブルシューティング">セクション2.3.6「Microsoft Windows MySQL Server インストールのトラブルシューティング」</a> を参照してください。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="windows-testing"></a>2.3.5.8 MySQL インストールのテスト</h4></div></div></div><a class="indexterm" name="idm139979165467024"></a><a class="indexterm" name="idm139979165465712"></a><p>
        次のコマンドのいずれかを実行して、MySQL Server が動作しているかテストできます。
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.6\bin\mysqlshow"</code></strong>
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.6\bin\mysqlshow" -u root mysql</code></strong>
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.6\bin\mysqladmin" version status proc</code></strong>
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.6\bin\mysql" test</code></strong>
</pre><p>
        <span class="command"><strong>mysqld</strong></span> のクライアントプログラムから TCP/IP 接続への反応が鈍い場合、おそらくの DNS に問題があります。この場合、<span class="command"><strong>mysqld</strong></span> を <code class="option">--skip-name-resolve</code> オプションを使用して起動し、MySQL の付与テーブルの <code class="literal">Host</code> カラムの <code class="literal">localhost</code> および IP アドレスのみを使用します。
      </p><p>
        <code class="option">--pipe</code> あるいは <code class="option">--protocol=PIPE</code> オプションを指定するか、あるいは <code class="literal">.</code>(ピリオド) をホスト名として指定すると、MySQL クライアントに TCP/IP ではなく名前付けパイプ接続を強制的に使用させることができます。デフォルトのパイプ名を使用しない場合には <code class="option">--socket</code> オプションを使用してパイプ名を指定します。
      </p><p>
        <code class="literal">root</code> アカウントのパスワードを設定した場合、匿名アカウントを削除した場合、または新規ユーザーアカウントを作成した場合に MySQL Server に接続するには、前述のコマンドに適切な <code class="option">-u</code> および <code class="option">-p</code> オプションを使用しなければなりません。<a class="xref" href="programs.html#connecting" title="4.2.2 MySQL サーバーへの接続">セクション4.2.2「MySQL サーバーへの接続」</a> を参照してください。
      </p><p>
        <span class="command"><strong>mysqlshow</strong></span> に関する詳細は、<a class="xref" href="programs.html#mysqlshow" title="4.5.6 mysqlshow — データベース、テーブル、およびカラム情報の表示">セクション4.5.6「<span class="command"><strong>mysqlshow</strong></span> — データベース、テーブル、およびカラム情報の表示」</a> を参照してください。
      </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="windows-troubleshooting"></a>2.3.6 Microsoft Windows MySQL Server インストールのトラブルシューティング</h3></div></div></div><p>
      MySQL をインストールして最初に起動する際に、エラーが発生して MySQL サーバーが起動できない場合があります。このセクションは、エラーの診断と修正に役立ちます。
    </p><p>
      サーバーの問題のトラブルシューティングを行う際の、最初のリソースは <a class="link" href="glossary.html#glos_error_log" title="エラーログ">エラーログ</a>です。MySQL Server は、サーバーが起動しない原因となるエラーに関する情報を記録するのにエラーログを使用しています。エラーログは、<code class="filename">my.ini</code> ファイルで指定された <a class="link" href="glossary.html#glos_data_directory" title="データディレクトリ"> データディレクトリ</a>にあります。データディレクトリのデフォルトの場所は、Windows 7 および Windows Server 2008 では <code class="filename">C:\Program Files\MySQL\MySQL Server 5.6\data</code>、または <code class="filename">C:\ProgramData\Mysql</code> です。<code class="filename">C:\ProgramData</code> ディレクトリはデフォルトでは非表示です。ディレクトリと内容を表示するには、フォルダオプションを変更する必要があります。エラーログとその内容の理解については、<a class="xref" href="server-administration.html#error-log" title="5.2.2 エラーログ">セクション5.2.2「エラーログ」</a> を参照してください。
    </p><p>
      起こりうるエラーについては、MySQL サービスの起動中に表示されるコンソールメッセージも調べてください。<span class="command"><strong>mysqld</strong></span> をサービスとしてインストールしたあとに、コマンド行から <span class="command"><strong>NET START MySQL</strong></span> コマンドを使用して、MySQL Server のサービスとしての起動に関するエラーメッセージを表示します。<a class="xref" href="installing.html#windows-start-service" title="2.3.5.7 Windows のサービスとして MySQL を起動する">セクション2.3.5.7「Windows のサービスとして MySQL を起動する」</a>を参照してください。
    </p><p>
      MySQL をインストールしてサーバーを最初に起動する際によく生じる、その他の一般的なエラーメッセージを次の例に示します。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          MySQL Server が <code class="literal">mysql</code> 権限データベースまたはその他の重要なファイルを見つけられない場合、次のメッセージを表示します。
        </p><pre class="programlisting">
System error 1067 has occurred.
Fatal error: Can't open and lock privilege tables:
Table 'mysql.user' doesn't exist
</pre><p>
          これらのメッセージは、MySQL のベースディレクトリまたはデータディレクトリが、デフォルトの場所 (それぞれ <code class="filename">C:\Program Files\MySQL\MySQL Server 5.6</code> および <code class="filename">C:\Program Files\MySQL\MySQL Server 5.6\data</code>) と異なる場所にインストールされている場合によく生じます。
        </p><p>
          この状況は、MySQL をアップグレードして新しい場所にインストールしたが、構成ファイルが新しい場所を反映するように更新されていない場合に生じます。さらに、新旧の構成ファイルが対立している場合もあります。MySQL をアップグレードする際は必ず旧構成ファイルを削除するか名前を変更してください。
        </p><p>
          MySQL を <code class="filename">C:\Program Files\MySQL\MySQL Server 5.6</code> 以外のディレクトリにインストールした場合は、構成 (<code class="filename">my.ini</code>) ファイルを使用して MySQL Server がそのことを認識できるようにしてください。<code class="filename">my.ini</code> ファイルを Windows ディレクトリ (通常 <code class="filename">C:\WINDOWS</code>) に置きます。<code class="literal">WINDIR</code> 環境変数の値から正確な場所を割り出すためには、コマンドプロンプトから次のコマンドを発行します。
        </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>echo %WINDIR%</code></strong>
</pre><p>
          オプションファイルはノートパッドなどのテキストエディタで作成および変更できます。たとえば、MySQL が <code class="filename">E:\mysql</code> にインストールされていて、データディレクトリが <code class="filename">D:\MySQLdata</code> にある場合は、オプションファイルを作成して <code class="literal">[mysqld]</code> セクションを設定し、<code class="option">basedir</code> および <code class="option">datadir</code> オプションの値を指定できます。
        </p><pre class="programlisting">
[mysqld]
# set basedir to your installation path
basedir=E:/mysql
# set datadir to the location of your data directory
datadir=D:/MySQLdata
</pre><p>
          Microsoft Windows のパス名は、オプションファイル内でバックスラッシュではなく (フォワード) スラッシュを使用して指定されます。バックスラッシュを使用する場合は、2 つ使用します。
        </p><pre class="programlisting">
[mysqld]
# set basedir to your installation path
basedir=C:\\Program Files\\MySQL\\MySQL Server 5.6
# set datadir to the location of your data directory
datadir=D:\\MySQLdata
</pre><p>
          オプションファイル値でのバックスラッシュの使用に関するルールは <a class="xref" href="programs.html#option-files" title="4.2.6 オプションファイルの使用">セクション4.2.6「オプションファイルの使用」</a> にあります。
        </p><p>
          MySQL 構成ファイルの <code class="option">datadir</code> の値を変更する場合は、MySQL Server を再起動する前に既存の MySQL データディレクトリの内容を移動する必要があります。
        </p><p>
          <a class="xref" href="installing.html#windows-create-option-file" title="2.3.5.2 オプションファイルの作成">セクション2.3.5.2「オプションファイルの作成」</a> を参照してください。
        </p></li><li class="listitem"><p>
          まず既存の MySQL サービスを停止して削除してから MySQL Installer を使用して MySQL をインストールせずに、MySQL を再インストールまたはアップグレードすると、次のエラーが生じる場合があります。
        </p><pre class="programlisting">
Error: Cannot create Windows service for MySql. Error: 0
</pre><p>
          これは Configuration Wizard がサービスをインストールしようとしたときに既存のサービスが同じ名前で存在する場合に発生します。
        </p><p>
          この問題の解決方法の 1 つは、Configuration Wizard を使用する際に<code class="literal">mysql</code> 以外のサービス名を選択することです。これにより、新しいサービスが正しくインストールされ、古いサービスはそのままにできます。これは特に問題はありませんが、使用しない古いサービスは削除したほうがよいでしょう。
        </p><p>
          古い <code class="literal">mysql</code> サービスを完全に削除するには、管理者権限を持つユーザーとして、コマンド行で次のコマンドを実行します。
        </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>sc delete mysql</code></strong>
[SC] DeleteService SUCCESS
</pre><p>
          使用している Windows のバージョンで <code class="literal">sc</code> ユーティリティーが利用できない場合は、<code class="literal">delsrv</code> ユーティリティーを <a class="ulink" href="http://www.microsoft.com/windows2000/techinfo/reskit/tools/existing/delsrv-o.asp" target="_top">http://www.microsoft.com/windows2000/techinfo/reskit/tools/existing/delsrv-o.asp</a> からダウンロードして、<code class="literal">delsrv mysql</code> 構文を使用します。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="windows-upgrading"></a>2.3.7 Windows 上の MySQL をアップグレードする</h3></div></div></div><a class="indexterm" name="idm139979165397168"></a><p>
      Windows 上の MySQL をアップグレードするには、次の手順に従います。
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          <a class="xref" href="installing.html#upgrading" title="2.11.1 MySQL のアップグレード">セクション2.11.1「MySQL のアップグレード」</a> の、Windows に特化しない MySQL のアップグレードに関する詳細を参照してください。
        </p></li><li class="listitem"><p>
          アップグレードを実行する前に、必ず現在の MySQL インストールをバックアップしてください。<a class="xref" href="backup-and-recovery.html#backup-methods" title="7.2 データベースバックアップ方法">セクション7.2「データベースバックアップ方法」</a>を参照してください。
        </p></li><li class="listitem"><p>
          MySQL の最新の Windows 配布を <a class="ulink" href="http://dev.mysql.com/downloads/" target="_top">http://dev.mysql.com/downloads/</a> からダウンロードします。
        </p></li><li class="listitem"><p>
          MySQL をアップグレードする前に、サーバーを停止します。サーバーをサービスとしてインストールしている場合は、コマンドプロンプトから次のコマンドでサービスを停止します。
        </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>NET STOP MySQL</code></strong>
</pre><p>
          MySQL Server をサービスとして実行していない場合は、<span class="command"><strong>mysqladmin</strong></span> を使用して停止します。たとえば、MySQL 5.5 から 5.6 にアップグレードする前に、<span class="command"><strong>mysqladmin</strong></span> を MySQL 5.5 から次のように使用します。
        </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.5\bin\mysqladmin" -u root shutdown</code></strong>
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            MySQL の <code class="literal">root</code> ユーザーアカウントにパスワードが設定されている場合は、<span class="command"><strong>mysqladmin</strong></span> を <code class="option">-p</code> オプションを使って起動し、要求されたらパスワードを入力します。
          </p></div></li><li class="listitem"><p>
          MySQL 4.1.5 より前のバージョンから 5.6 へのアップグレード、または Zip アーカイブからインストールされた MySQL のバージョンから MySQL Installation Wizard でインストールされる MySQL のバージョンへのアップグレードの場合は、その前にまず手動で以前のインストールおよび MySQL サービス (サーバーがサービスとしてインストールされている場合) を削除しなければなりません。
        </p><p>
          MySQL サービスを削除するには次のコマンドを使用します。
        </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>C:\mysql\bin\mysqld --remove</code></strong>
</pre><p>
          <span class="bold"><strong>既存のサービスを削除しないと、MySQL Installation Wizard は新しい MySQL サービスを適切にインストールできない場合があります。</strong></span>
        </p></li><li class="listitem"><p>
          MySQL Installer を使用する場合は、<a class="xref" href="installing.html#mysql-installer" title="2.3.3 MySQL Installer を使用した MySQL の Microsoft Windows へのインストール">セクション2.3.3「MySQL Installer を使用した MySQL の Microsoft Windows へのインストール」</a> の説明に従って起動します。
        </p></li><li class="listitem"><p>
          MySQL を Zip アーカイブからアップグレードする場合は、アーカイブを抽出します。既存の MySQL のインストールを上書きする (通常 <code class="filename">C:\mysql</code> にあります) か、あるいは <code class="literal">C:\mysql5</code> などの異なるディレクトリにインストールします。既存のインストールの上書きをお勧めしています。しかし、(はじめてインストールする場合に対して) アップグレードの場合は、現在のデータファイルが置換されるのを避けるため、既存の MySQL インストールからデータディレクトリを削除しなければなりません。そのためには、次の手順に従います。
        </p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>
              Zip アーカイブを、現在の MySQL インストールとは別の場所に解凍します。
            </p></li><li class="listitem"><p>
              データディレクトリを削除します。
            </p></li><li class="listitem"><p>
              Zip アーカイブを再圧縮します。
            </p></li><li class="listitem"><p>
              変更した Zip アーカイブを既存のインストールの上に解凍します。
            </p></li></ol></div><p>
          別の方法
        </p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>
              Zip アーカイブを、現在の MySQL インストールとは別の場所に解凍します。
            </p></li><li class="listitem"><p>
              データディレクトリを削除します。
            </p></li><li class="listitem"><p>
              データディレクトリを、現在の MySQL インストールから今削除したデータディレクトリに移動します。
            </p></li><li class="listitem"><p>
              現在の MySQL インストールを削除します。
            </p></li><li class="listitem"><p>
              解凍したインストールを今削除したインストールの場所に移動します。
            </p></li></ol></div></li><li class="listitem"><p>
          MySQL を Windows のサービスとして使用していて、この手順で以前にサービスを削除した場合は、サービスを再インストールします。(<a class="xref" href="installing.html#windows-start-service" title="2.3.5.7 Windows のサービスとして MySQL を起動する">セクション2.3.5.7「Windows のサービスとして MySQL を起動する」</a> を参照してください。)
        </p></li><li class="listitem"><p>
          サーバーを再起動します。MySQL をサービスとして使用している場合は <span class="command"><strong>NET START MySQL</strong></span> などを使用するか、あるいは <span class="command"><strong>mysqld</strong></span> を直接実行します。
        </p></li><li class="listitem"><p>
          管理者として <span class="command"><strong>mysql_upgrade</strong></span> を実行してテーブルをチェックし、必要に応じて修復を試み、付与テーブルが変更されている場合は更新して新機能を利用できるようにします。<a class="xref" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — MySQL テーブルのチェックとアップグレード">セクション4.4.7「<span class="command"><strong>mysql_upgrade</strong></span> — MySQL テーブルのチェックとアップグレード」</a>を参照してください。
        </p></li><li class="listitem"><p>
          エラーが発生する場合は <a class="xref" href="installing.html#windows-troubleshooting" title="2.3.6 Microsoft Windows MySQL Server インストールのトラブルシューティング">セクション2.3.6「Microsoft Windows MySQL Server インストールのトラブルシューティング」</a> を参照します。
        </p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="windows-postinstallation"></a>2.3.8 Windows でのインストール後の手順</h3></div></div></div><p>
      後述のタスクのほとんどを実行する次のような GUI ツールがあります。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="link" href="installing.html#mysql-installer" title="2.3.3 MySQL Installer を使用した MySQL の Microsoft Windows へのインストール">MySQL Installer</a>: MySQL 製品のインストールとアップグレードに使用されます。
        </p></li><li class="listitem"><p>
          <a class="link" href="workbench.html" title="第 26 章 MySQL Workbench">MySQL Workbench</a>: MySQL Server の管理および SQL クエリーの編集を行います。
        </p></li><li class="listitem"><p>
          <a class="link" href="installing.html#windows-notifier" title="2.3.4 MySQL Notifier">MySQL Notifier</a>: MySQL Server の起動、停止、または再起動を行い、ステータスをモニターします。
        </p></li><li class="listitem"><p>
          <a class="ulink" href="http://dev.mysql.com/doc/mysql-for-excel/en/index.html" target="_top">MySQL for Excel</a>: Microsoft Excel で MySQL データを編集します。
        </p></li></ul></div><p>
      Windows では、データディレクトリおよび付与テーブルを作成する必要はありません。MySQL の Windows の配布には、データディレクトリの <code class="literal">mysql</code> データベースに初期化されたアカウントセットの付与テーブルが含まれています。パスワードに関しては、MySQL を MySQL Installer を使用してインストールした場合は、すでにパスワードをアカウントに割り当てた可能性があります。(<a class="xref" href="installing.html#mysql-installer" title="2.3.3 MySQL Installer を使用した MySQL の Microsoft Windows へのインストール">セクション2.3.3「MySQL Installer を使用した MySQL の Microsoft Windows へのインストール」</a> を参照してください)。そうでない場合には、<a class="xref" href="installing.html#default-privileges" title="2.10.2 最初の MySQL アカウントのセキュリティー設定">セクション2.10.2「最初の MySQL アカウントのセキュリティー設定」</a> にあるパスワード割り当て手順を使用します。
    </p><p>
      パスワードを設定する前にクライアントプログラムを実行して、サーバーに接続でき、サーバーが適切に動作していることを確認するとよいでしょう。サーバーが稼働していること (<a class="xref" href="installing.html#windows-server-first-start" title="2.3.5.4 サーバーをはじめて起動する">セクション2.3.5.4「サーバーをはじめて起動する」</a> 参照) を確認してから、次のコマンドを発行してサーバーから情報を取り出せることを確認します。コマンド行で、<code class="filename">C:\mysql\bin</code> とは異なるディレクトリを指定する必要がある場合があります。MySQL を MySQL Installer を使用してインストールした場合は、デフォルトディレクトリは <code class="filename">C:\Program Files\MySQL\MySQL Server 5.6</code> で、<span class="command"><strong>mysql</strong></span> および <span class="command"><strong>mysqlshow</strong></span> クライアントプログラムは<code class="filename">C:\Program Files\MySQL\MySQL Server 5.6\bin</code> にあります。詳細については、<a class="xref" href="installing.html#mysql-installer" title="2.3.3 MySQL Installer を使用した MySQL の Microsoft Windows へのインストール">セクション2.3.3「MySQL Installer を使用した MySQL の Microsoft Windows へのインストール」</a> を参照してください。
    </p><p>
      どのようなデータベースが存在するかを表示するには、<span class="command"><strong>mysqlshow</strong></span> を使用します。
    </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>C:\mysql\bin\mysqlshow</code></strong>
+--------------------+
|     Databases      |
+--------------------+
| information_schema |
| mysql              |
| test               |
+--------------------+
</pre><p>
      インストール済みのデータベースのリストは異なる場合がありますが、最低でも <code class="literal">mysql</code> および <code class="literal">information_schema</code> を含みます。多くの場合、<code class="literal">test</code> データベースも自動的にインストールされます。
    </p><p>
      前述のコマンド (および <span class="command"><strong>mysql</strong></span> などのその他の MySQL プログラムのコマンド) は、正しい MySQL アカウントが存在しないと機能しない場合があります。たとえば、プログラムがエラーで終了する場合やすべてのデータベースを表示できない場合があります。MySQL を MySQL Installer を使用してインストールした場合は、指定したパスワードで <code class="literal">root</code> ユーザーが自動的に作成されています。この場合、<code class="option">-u root</code> および <code class="option">-p</code> オプションを使用してください。(MySQL 初期アカウントをすでにセキュアにした場合も、<code class="option">-u root</code> および <code class="option">-p</code> オプションを使用する必要があります)。<code class="option">-p</code> を使用すると、<code class="literal">root</code> パスワードを求められます。例:
    </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>C:\mysql\bin\mysqlshow -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
+--------------------+
|     Databases      |
+--------------------+
| information_schema |
| mysql              |
| test               |
+--------------------+
</pre><p>
      データベース名を指定すると、<span class="command"><strong>mysqlshow</strong></span> はそのデータベース内のテーブルのリストを表示します。
    </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>C:\mysql\bin\mysqlshow mysql</code></strong>
Database: mysql
+---------------------------+
|          Tables           |
+---------------------------+
| columns_priv              |
| db                        |
| event                     |
| func                      |
| help_category             |
| help_keyword              |
| help_relation             |
| help_topic                |
| host                      |
| plugin                    |
| proc                      |
| procs_priv                |
| servers                   |
| tables_priv               |
| time_zone                 |
| time_zone_leap_second     |
| time_zone_name            |
| time_zone_transition      |
| time_zone_transition_type |
| user                      |
+---------------------------+
</pre><p>
      <span class="command"><strong>mysql</strong></span> プログラムを使用して、<code class="literal">mysql</code> データベース内のテーブルから情報を選択します。
    </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>C:\mysql\bin\mysql -e "SELECT Host,Db,User FROM mysql.db"</code></strong>
+------+--------+------+
| host | db     | user |
+------+--------+------+
| %    | test   |      |
| %    | test_% |      |
+------+--------+------+
</pre><p>
      <span class="command"><strong>mysqlshow</strong></span> および <span class="command"><strong>mysql</strong></span> の詳細は、<a class="xref" href="programs.html#mysqlshow" title="4.5.6 mysqlshow — データベース、テーブル、およびカラム情報の表示">セクション4.5.6「<span class="command"><strong>mysqlshow</strong></span> — データベース、テーブル、およびカラム情報の表示」</a> および <a class="xref" href="programs.html#mysql" title="4.5.1 mysql — MySQL コマンド行ツール">セクション4.5.1「<span class="command"><strong>mysql</strong></span> — MySQL コマンド行ツール」</a> を参照してください。
    </p><p>
      サービスをサポートする Windows のバージョンを実行している場合は、MySQL Server を Windows の起動時に自動的に実行するようにセットアップできます。<a class="xref" href="installing.html#windows-start-service" title="2.3.5.7 Windows のサービスとして MySQL を起動する">セクション2.3.5.7「Windows のサービスとして MySQL を起動する」</a>を参照してください。
    </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="osx-installation"></a>2.4 OS X に MySQL をインストールする</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#osx-installation-notes">2.4.1 OS X への MySQL のインストールに関する一般的な注記</a></span></dt><dt><span class="section"><a href="installing.html#osx-installation-pkg">2.4.2 ネイティブパッケージを使用して OS X に MySQL をインストールする</a></span></dt><dt><span class="section"><a href="installing.html#osx-installation-launchd">2.4.3 MySQL 起動デーモンのインストール</a></span></dt><dt><span class="section"><a href="installing.html#osx-installation-startupitem">2.4.4 MySQL 起動アイテムのインストール</a></span></dt><dt><span class="section"><a href="installing.html#osx-installation-prefpane">2.4.5 MySQL Preference Pane のインストールと使用</a></span></dt></dl></div><a class="indexterm" name="idm139979165302224"></a><a class="indexterm" name="idm139979165300112"></a><p>
    MySQL Server がサポートする OS X のバージョンのリストについては、<a class="ulink" href="http://www.mysql.com/support/supportedplatforms/database.html" target="_top">http://www.mysql.com/support/supportedplatforms/database.html</a>を参照してください。
  </p><p>
    MySQL for OS X は複数の形式で利用可能です。
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        ネイティブパッケージインストーラ形式。これはネイティブ OS X インストーラ (DMG) を使用して、MySQL のインストール全体をガイドします。詳細は、<a class="xref" href="installing.html#osx-installation-pkg" title="2.4.2 ネイティブパッケージを使用して OS X に MySQL をインストールする">セクション2.4.2「ネイティブパッケージを使用して OS X に MySQL をインストールする」</a>を参照してください。OS X のパッケージインストーラを使用できます。インストールの実行に使用するユーザーは、管理者権限を持っていなければなりません。
      </p></li><li class="listitem"><p>
        tar パッケージ形式。これは Unix の <span class="command"><strong>tar</strong></span> コマンドと <span class="command"><strong>gzip</strong></span> コマンドを使用してパッケージ化されたファイルを使用します。この方法を使用するには、<span class="command"><strong>ターミナル</strong></span>ウィンドウを開く必要があります。この方法を使用して、MySQL Server をどこにでもインストールできるため、この方法を使用する場合、管理者権限は必要ありません。この方法の使用については、tarball の使用に関する一般的な説明<a class="xref" href="installing.html#binary-installation" title="2.2 一般的なバイナリを使用した MySQL の Unix/Linux へのインストール">セクション2.2「一般的なバイナリを使用した MySQL の Unix/Linux へのインストール」</a>を使用できます。
      </p><p>
        Package Installer には、コアインストールに加えて<a class="xref" href="installing.html#osx-installation-startupitem" title="2.4.4 MySQL 起動アイテムのインストール">セクション2.4.4「MySQL 起動アイテムのインストール」</a>および<a class="xref" href="installing.html#osx-installation-prefpane" title="2.4.5 MySQL Preference Pane のインストールと使用">セクション2.4.5「MySQL Preference Pane のインストールと使用」</a>が含まれます。いずれもインストールの管理が簡潔になります。
      </p></li></ul></div><p>
    OS X での MySQL の使用に関する追加情報は、<a class="xref" href="installing.html#osx-installation-notes" title="2.4.1 OS X への MySQL のインストールに関する一般的な注記">セクション2.4.1「OS X への MySQL のインストールに関する一般的な注記」</a>を参照してください。
  </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="osx-installation-notes"></a>2.4.1 OS X への MySQL のインストールに関する一般的な注記</h3></div></div></div><p>
      次の問題と注記に留意してください。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          起動アイテムは、起動デーモンを優先するため OS X 10.4 で非推奨になりました。OS X 10.10 (Yosemite) では起動アイテムは機能しません。このため、起動アイテムよりも起動デーモンを使用することが推奨されます。
        </p></li><li class="listitem"><p>
          MySQL ディレクトリおよびデータを所有する特定の <code class="literal">mysql</code> ユーザーの作成が必要となる (またはしたほうがよい) 場合があります。これは、<span class="command"><strong> ディレクトリユーティリティー</strong></span>を通じて実行可能であり、<code class="literal">mysql</code> ユーザーがすでに存在している必要があります。シングルユーザーモードで使用するには、<code class="literal">_mysql</code> (アンダースコアのプリフィクスに注意してください) のエントリが <code class="filename">/etc/passwd</code> システムファイルにすでに存在している必要があります。
        </p></li><li class="listitem"><p>
          MySQL の起動時に<span class="quote">「<span class="quote">insecure startup item disabled</span>」</span>エラーが生じる場合は、次の手順に従ってください。パス名はシステムに合わせて適切に調整してください。
        </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
              次のコマンドを使用して <span class="command"><strong>mysql.script</strong></span> を変更します (1 行に入力します)。
            </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo /Applications/TextEdit.app/Contents/MacOS/TextEdit</code></strong>
  <strong class="userinput"><code>/usr/local/mysql/support-files/mysql.server</code></strong>
</pre></li><li class="listitem"><p>
              <code class="literal">basedir</code> の値を定義しているオプションファイルを探し、次の行を含むように変更します。
            </p><pre class="programlisting">
basedir=/usr/local/mysql
datadir=/usr/local/mysql/data
</pre><p>
              <code class="filename">/Library/StartupItems/MySQLCOM/</code> ディレクトリで、グループ ID を次のように <code class="literal">staff</code> から <code class="literal">wheel</code> に変更します。
            </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo chgrp wheel MySQLCOM StartupParameters.plist</code></strong>
</pre></li><li class="listitem"><p>
              「システム環境設定」または Terminal.app からサーバーを起動します。
            </p></li></ol></div></li><li class="listitem"><p>
          MySQL Package Installer は、MySQL のコンテンツをバージョンとプラットフォームに固有のディレクトリにインストールするため、これを利用して、アップグレードしてバージョン間でデータベースの移行を実行できます。<code class="filename">data</code> ディレクトリを古いバージョンから新しいバージョンにコピーするか、あるいは代替の <code class="option">datadir</code> 値を指定してデータディレクトリの場所を設定することが必要になります。デフォルトでは、MySQL ディレクトリは <code class="filename">/usr/local/</code> の下にインストールされます。
        </p></li><li class="listitem"><p>
          シェルのリソースファイルにエイリアスを追加すると、コマンド行から <span class="command"><strong>mysql</strong></span> および <span class="command"><strong>mysqladmin</strong></span> などのよく使用するプログラムに容易にアクセスできます。<span class="command"><strong>bash</strong></span> での構文は次のようになります。
        </p><pre class="programlisting">
alias mysql=/usr/local/mysql/bin/mysql
alias mysqladmin=/usr/local/mysql/bin/mysqladmin
</pre><p>
          <span class="command"><strong>tcsh</strong></span> では次を使用します。
        </p><pre class="programlisting">
alias mysql /usr/local/mysql/bin/mysql
alias mysqladmin /usr/local/mysql/bin/mysqladmin
</pre><p>
          <code class="literal">/usr/local/mysql/bin</code> to your <code class="literal">PATH</code> 環境変数を追加するとさらによいでしょう。これを行うには、シェルの適切な起動ファイルを変更します。詳細については、<a class="xref" href="programs.html#invoking-programs" title="4.2.1 MySQL プログラムの起動">セクション4.2.1「MySQL プログラムの起動」</a>を参照してください。
        </p></li><li class="listitem"><p>
          古いインストールからの MySQL データベースファイルのコピーが終了して新しいサーバーの起動が完了したら、ディスクスペースを節約するために古いインストールファイルを削除するとよいでしょう。さらに、<code class="filename">/Library/Receipts/mysql-<em class="replaceable"><code>VERSION</code></em>.pkg</code> にある、古いバージョンのパッケージを入れたディレクトリも削除する必要があります。
        </p></li><li class="listitem"><p>
          OS X 10.7 より前では、MySQL Server は OS X Server にバンドルされていました。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="osx-installation-pkg"></a>2.4.2 ネイティブパッケージを使用して OS X に MySQL をインストールする</h3></div></div></div><p>
      パッケージは、ディスクイメージ (<code class="literal">.dmg</code>) ファイルにあり、最初に Finder でそのアイコンをダブルクリックしてマウントする必要があります。すると、イメージがマウントされ、そのコンテンツが表示されます。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        インストールに進む前に、MySQL Manager Application (OS X Server 上で) またはコマンド行で <span class="command"><strong>mysqladmin shutdown</strong></span> を使用して、実行中の MySQL Server インスタンスを必ずすべて停止してください。
      </p></div><p>
      パッケージバージョンからインストールする場合、MySQL Preference Pane もインストールできます。これにより、MySQL Server の起動と実行を「システム環境設定」から管理できるようになります。詳細については、<a class="xref" href="installing.html#osx-installation-prefpane" title="2.4.5 MySQL Preference Pane のインストールと使用">セクション2.4.5「MySQL Preference Pane のインストールと使用」</a>を参照してください。
    </p><p>
      Package Installer を使用してインストールする場合、ファイルは <code class="filename">/usr/local</code> 内の、インストールするバージョンとプラットフォームに一致する名前のディレクトリにインストールされます。たとえば、インストーラファイル <code class="filename">mysql-5.6-<em class="replaceable"><code>osx10.8-x86_64.dmg</code></em></code> は、MySQL を <code class="filename">/usr/local/mysql-5.6-osx10.8-x86_64/ </code> にインストールします。次の表は、インストールディレクトリのレイアウトを示しています。
    </p><div class="table"><a name="mysql-installation-layout-osx"></a><p class="title"><b>表 2.5 OS X 上での MySQL のインストールレイアウト</b></p><div class="table-contents"><table summary="OS X 上での MySQL のインストールレイアウト" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">ディレクトリ</th><th scope="col">ディレクトリの内容</th></tr></thead><tbody><tr><td scope="row"><code class="filename">bin</code></td><td>クライアントプログラムおよび <span class="command"><strong>mysqld</strong></span> サーバー</td></tr><tr><td scope="row"><code class="filename">data</code></td><td>ログファイル、データベース</td></tr><tr><td scope="row"><code class="filename">docs</code></td><td>リリースノートおよびビルド情報などのヘルパードキュメント</td></tr><tr><td scope="row"><code class="filename">include</code></td><td>インクルード (ヘッダー) ファイル</td></tr><tr><td scope="row"><code class="filename">lib</code></td><td>ライブラリ</td></tr><tr><td scope="row"><code class="filename">man</code></td><td>Unix マニュアルページ</td></tr><tr><td scope="row"><code class="filename">mysql-test</code></td><td>MySQL テスト項目</td></tr><tr><td scope="row"><code class="filename">scripts</code></td><td><span class="command"><strong>mysql_install_db</strong></span></td></tr><tr><td scope="row"><code class="filename">share</code></td><td>エラーメッセージ、サンプル構成ファイル、データベースインストールのための SQL を含む種々のサポートファイル</td></tr><tr><td scope="row"><code class="filename">sql-bench</code></td><td>ベンチマーク</td></tr><tr><td scope="row"><code class="filename">support-files</code></td><td>スクリプトとサンプル構成ファイル</td></tr><tr><td scope="row"><code class="filename">/tmp/mysql.sock</code></td><td>MySQL Unix ソケットの場所</td></tr></tbody></table></div></div><br class="table-break"><p>
      Package Installer のプロセス中に、<code class="filename">/usr/local/mysql</code> から、インストール中に作成されたバージョン/プラットフォーム固有のディレクトリへのシンボリックリンクが自動的に作成されます。
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          MySQL Package Installer をダウンロードして開きます。これは、メインの MySQL インストールパッケージファイルを含むディスクイメージ (<code class="filename">.dmg</code>) にあります。ディスクイメージをダブルクリックして開きます。
        </p><div class="figure"><a name="mac-installer-dmg-contents"></a><p class="title"><b>図 2.40 MySQL Package Installer: DMG のコンテンツ</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mac-installer-dmg-contents.png" width="400" height="336" alt="MySQL Package Installer: DMG のコンテンツ"></div></div></div><br class="figure-break"></li><li class="listitem"><p>
          MySQL Installer パッケージをダブルクリックします。ダウンロードした MySQL のバージョンに従って命名されます。たとえば、MySQL Server 5.6.23 をダウンロードした場合は、<code class="filename">mysql-5.6.23-osx-<em class="replaceable"><code>10.8-x86_64</code></em>.pkg</code> をダブルクリックします。
        </p></li><li class="listitem"><p>
          インストーラのオープニングダイアログが表示されます。<span class="guibutton">「Continue」</span>をクリックしてインストールを開始します。
        </p><div class="figure"><a name="mac-installer-dmg-introduction"></a><p class="title"><b>図 2.41 MySQL Package Installer: Introduction</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mac-installer-dmg-introduction.png" width="800" height="601" alt="MySQL Package Installer: Introduction"></div></div></div><br class="figure-break"></li><li class="listitem"><p>
          MySQL のコミュニティーバージョンをダウンロードした場合は、関連する GNU General Public License のコピーが表示されます。<span class="guibutton">「Continue」</span>、<span class="guibutton">「Agree」</span>の順にクリックして続行します。
        </p></li><li class="listitem"><p>
          <span class="guilabel">「Installation Type」</span>ページから、<span class="guibutton">「Install」</span>をクリックしてすべてデフォルトを使用してインストールウィザードを実行するか、<span class="guibutton">「Customize」</span>をクリックしてインストールするコンポーネントを変更するか (MySQL Server、Startup Item、Preference Pane は、デフォルトではすべて有効です)、または<span class="guibutton">「Change Installation Location」</span>をクリックして、インストールのタイプをすべてのユーザー、インストーラを実行しているユーザーのみ、またはカスタム場所の定義に変更できます。
        </p><div class="figure"><a name="mac-installer-installation-type-main"></a><p class="title"><b>図 2.42 MySQL Package Installer: Installation Type</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mac-installer-installation-type.png" width="800" height="601" alt="MySQL Package Installer: Installation Type"></div></div></div><br class="figure-break"><div class="figure"><a name="mac-installer-installation-destination-select"></a><p class="title"><b>図 2.43 MySQL Package Installer: Destination Select (インストール場所の変更)</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mac-installer-installation-destination.png" width="800" height="600" alt="MySQL Package Installer: Destination Select (インストール場所の変更)"></div></div></div><br class="figure-break"><div class="figure"><a name="mac-installer-installation-customize-main"></a><p class="title"><b>図 2.44 MySQL Package Installer: カスタマイズ</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mac-installer-installation-customize.png" width="800" height="600" alt="MySQL Package Installer: カスタマイズ"></div></div></div><br class="figure-break"></li><li class="listitem"><p>
          <span class="guibutton">「Install」</span>をクリックしてインストールプロセスを開始します。
        </p></li><li class="listitem"><p>
          インストールが正常に完了すると、<span class="guilabel">「Install Succeeded」</span>メッセージが短いサマリーとともに表示されます。ここで、ウィザードを<span class="guibutton">「Close」</span>して MySQL Server の使用を開始します。
        </p><div class="figure"><a name="mac-installer-installation-summary"></a><p class="title"><b>図 2.45 MySQL Package Installer: Summary</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mac-installer-summary.png" width="800" height="600" alt="MySQL Package Installer: Summary"></div></div></div><br class="figure-break"></li></ol></div><p>
      利便性のため、起動デーモンと Preference Pane をインストールしてもよいでしょう。<a class="xref" href="installing.html#osx-installation-launchd" title="2.4.3 MySQL 起動デーモンのインストール">セクション2.4.3「MySQL 起動デーモンのインストール」</a>、<a class="xref" href="installing.html#osx-installation-prefpane" title="2.4.5 MySQL Preference Pane のインストールと使用">セクション2.4.5「MySQL Preference Pane のインストールと使用」</a>を参照してください。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="osx-installation-launchd"></a>2.4.3 MySQL 起動デーモンのインストール</h3></div></div></div><p>
      OS X は、起動デーモンを使用して、MySQL などのプロセスやアプリケーションの起動、停止、および管理を自動的に行います。OS X では、起動アイテムよりも起動デーモンを使用することが推奨されます。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        起動アイテムは、起動デーモンを優先するため OS X 10.4 で非推奨になりました。OS X 10.10 (Yosemite) では起動アイテムは機能しません。このため、起動アイテムよりも起動デーモンを使用することが推奨されます。
      </p></div><p>
      MySQL を起動する <span class="bold"><strong>launchd</strong></span> サンプルファイルを次に示します。
    </p><pre class="programlisting">

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" 
"http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;
&lt;plist version="1.0"&gt;
  &lt;dict&gt;
    &lt;key&gt;KeepAlive&lt;/key&gt;
    &lt;true/&gt;
    &lt;key&gt;Label&lt;/key&gt;
    &lt;string&gt;com.mysql.mysqld&lt;/string&gt;
    &lt;key&gt;ProgramArguments&lt;/key&gt;
    &lt;array&gt;
    &lt;string&gt;/usr/local/mysql/bin/mysqld_safe&lt;/string&gt;
    &lt;string&gt;--user=mysql&lt;/string&gt;
    &lt;/array&gt;
  &lt;/dict&gt;
&lt;/plist&gt;

   </pre><p>
      <span class="emphasis"><em>ProgramArguments</em></span> 配列はシステムに合わせて調整します。たとえば <code class="filename">mysqld_safe</code> へのパスが異なる場合があります。適切に調整したら、次を行います。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          XML を <code class="filename">/Library/LaunchDaemons/com.mysql.mysql.plist</code> という名前のファイルとして保存します。
        </p></li><li class="listitem"><p>
          ファイルアクセス許可を、Apple 推奨の所有者「root」、所有グループ「wheel」、ファイルアクセス許可「644」を使用して調整します。
        </p><pre class="programlisting">
shell&gt; sudo chown root:wheel /Library/LaunchDaemons/com.mysql.mysql.plist
shell&gt; sudo chmod 644 /Library/LaunchDaemons/com.mysql.mysql.plist
</pre></li><li class="listitem"><p>
          この新しい MySQL サービスを有効にします。
        </p><pre class="programlisting">
shell&gt; sudo launchctl load -w /Library/LaunchDaemons/com.mysql.mysql.plist
</pre></li></ul></div><p>
      MySQL デーモンが実行され、システムがリブートされると自動的に起動します。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="osx-installation-startupitem"></a>2.4.4 MySQL 起動アイテムのインストール</h3></div></div></div><p>
      MySQL インストールパッケージには、MySQL の自動起動および停止に使用できる起動アイテムが含まれています。
    </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
        起動アイテムは、起動デーモンを優先するため非推奨になりました。追加情報については<a class="xref" href="installing.html#osx-installation-launchd" title="2.4.3 MySQL 起動デーモンのインストール">セクション2.4.3「MySQL 起動デーモンのインストール」</a>を参照してください。
      </p></div><p>
      MySQL 起動アイテムをインストールするには:
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          MySQL Package Installer をダウンロードして開きます。これは、メインの MySQL インストールパッケージを含むディスクイメージ (<code class="filename">.dmg</code>) にあります。
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            以前は、OS X パッケージには個別の <code class="filename">MySQLStartupItem.pkg</code> および <code class="filename">MySQL.prefPane</code> ファイルが含まれていました。それ以降、これらはメインパッケージファイルにマージされています。
          </p></div><div class="figure"><a name="mac-installer-dmg-contents-startup"></a><p class="title"><b>図 2.46 MySQL Package Installer: DMG のコンテンツ</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mac-installer-dmg-contents.png" width="400" height="336" alt="MySQL Package Installer: DMG のコンテンツ"></div></div></div><br class="figure-break"></li><li class="listitem"><p>
          MySQL Server のインストールプロセスを、<a class="xref" href="installing.html#osx-installation-pkg" title="2.4.2 ネイティブパッケージを使用して OS X に MySQL をインストールする">セクション2.4.2「ネイティブパッケージを使用して OS X に MySQL をインストールする」</a>のドキュメントの記述に従って実行します。
        </p></li><li class="listitem"><p>
          <span class="guilabel">「Installation Type」</span>の手順で、<span class="guibutton">「Customize」</span>をクリックします。「Startup Item」オプションがそこに表示され、デフォルトで有効です。
        </p><div class="figure"><a name="mac-startup-installer-customize-startup-item"></a><p class="title"><b>図 2.47 OS X の MySQL Installer: カスタマイズ</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mac-installer-installation-customize.png" width="800" height="600" alt="OS X の MySQL Installer: カスタマイズ"></div></div></div><br class="figure-break"></li><li class="listitem"><p>
          MySQL Server インストールプロセスを完了します。
        </p></li></ol></div><p>
      MySQL の起動アイテムは <code class="filename">/Library/StartupItems/MySQLCOM</code> にインストールされます。起動アイテムのインストールにより、変数 <code class="literal">MYSQLCOM=-YES-</code> がシステム構成ファイル <code class="filename">/etc/hostconfig</code> に追加されます。MySQL の自動起動を無効にする場合は、この変数を <code class="literal">MYSQLCOM=-NO-</code> に変更します。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        <a class="link" href="installing.html#osx-installation-prefpane" title="2.4.5 MySQL Preference Pane のインストールと使用">MySQL Preference Pane</a> から <span class="guilabel">「Automatically Start MySQL Server on Startup」</span> の選択を解除すると、<code class="varname">MYSQLCOM</code> 変数が <span class="bold"><strong>-NO-</strong></span>. に設定されます。
      </p></div><p>
      インストール後、<a class="link" href="installing.html#osx-installation-prefpane" title="2.4.5 MySQL Preference Pane のインストールと使用">MySQL Preference Pane</a> から (推奨)、または次のコマンドをターミナルウィンドウで実行することにより、MySQL Server を起動および停止できます。これらのタスクを実行するには管理者権限が必要で、パスワードを要求される場合があります。
    </p><p>
      起動アイテムをインストールした場合は、次のコマンドを使用してサーバーを開始します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo /Library/StartupItems/MySQLCOM/MySQLCOM start</code></strong>
</pre><p>
      起動アイテムをインストールした場合は、次のコマンドを使用してサーバーを停止します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo /Library/StartupItems/MySQLCOM/MySQLCOM stop</code></strong>
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="osx-installation-prefpane"></a>2.4.5 MySQL Preference Pane のインストールと使用</h3></div></div></div><p>
      MySQL Installation Package には、MySQL インストールのブート中に MySQL の起動、停止、および自動起動の制御を可能にする MySQL Preference Pane が含まれます。
    </p><p>
      MySQL Preference Pane をインストールするには:
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          MySQL Package Installer をダウンロードして開きます。これは、メインの MySQL インストールパッケージを含むディスクイメージ (<code class="filename">.dmg</code>) にあります。
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            以前は、OS X パッケージには個別の <code class="filename">MySQLStartupItem.pkg</code> および <code class="filename">MySQL.prefPane</code> ファイルが含まれていました。それ以降、これらはメインパッケージファイルにマージされています。
          </p></div><div class="figure"><a name="mac-installer-dmg-contents-prefpane"></a><p class="title"><b>図 2.48 MySQL Package Installer: DMG のコンテンツ</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mac-installer-dmg-contents.png" width="400" height="336" alt="MySQL Package Installer: DMG のコンテンツ"></div></div></div><br class="figure-break"></li><li class="listitem"><p>
          MySQL Server のインストールプロセスを、<a class="xref" href="installing.html#osx-installation-pkg" title="2.4.2 ネイティブパッケージを使用して OS X に MySQL をインストールする">セクション2.4.2「ネイティブパッケージを使用して OS X に MySQL をインストールする」</a>のドキュメントの記述に従って実行します。
        </p></li><li class="listitem"><p>
          <span class="guilabel">「Installation Type」</span>の手順で、<span class="guibutton">「Customize」</span>をクリックします。「Preference Pane」オプションがそこに表示され、デフォルトで有効です。
        </p><div class="figure"><a name="mac-startup-installer-customize-prefpane"></a><p class="title"><b>図 2.49 OS X の MySQL Installer: カスタマイズ</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mac-installer-installation-customize.png" width="800" height="600" alt="OS X の MySQL Installer: カスタマイズ"></div></div></div><br class="figure-break"></li><li class="listitem"><p>
          MySQL Server インストールプロセスを完了します。
        </p></li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        MySQL Preference Pane は、デフォルトの場所にインストールされた MySQL パッケージインストールからインストールされた MySQL インストールのみを起動および停止します。
      </p></div><p>
      MySQL Preference Pane がインストールされると、Preference Pane を使用して MySQL Server インスタンスを制御できます。Preference Pane を使用するには、<span class="guilabel">「システム環境設定...」</span>を Apple メニューから開きます。プリファレンスペインのリストの<span class="guilabel">下の</span>セクションにある MySQL ロゴをクリックして MySQL Preference Pane を選択します。
    </p><div class="figure"><a name="mac-installer-preference-pane-location"></a><p class="title"><b>図 2.50 MySQL Preference Pane: 場所</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mac-installer-preference-pane-location.png" width="800" height="746" alt="MySQL Preference Pane: 場所"></div></div></div><br class="figure-break"><p>
      MySQL Preference Pane は、MySQL Server の現在のステータスを表示します。サーバーが実行していない場合は (赤で) <span class="guilabel">「stopped」</span> 、サーバーがすでに起動している場合は (緑で) <span class="guilabel">「running」</span> と表示します。Preference Pane は、MySQL Server が自動的に起動するように設定されているかどうかに関する現在の設定も表示します。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="bold"><strong>MySQL Server を Preference Pane を使用して起動するには: </strong></span>
        </p><p>
          <span class="guibutton">「Start MySQL Server」</span>をクリックします。MySQL Server を起動するために、管理者権限を持つユーザーのユーザー名とパスワードを要求される場合があります。
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>MySQL Server を Preference Pane を使用して停止するには: </strong></span>
        </p><p>
          <span class="guibutton">「Stop MySQL Server」</span>をクリックします。MySQL Server を停止するために、管理者権限を持つユーザーのユーザー名とパスワードを要求される場合があります。
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>システムのブート時に自動的に MySQL Server を起動するには:</strong></span>
        </p><p>
          <span class="guilabel">「Automatically Start MySQL Server on Startup」</span>の隣のチェックボックスにチェックを付けます。
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>システムブート時の MySQL Server の自動起動を無効にするには:</strong></span>
        </p><p>
          <span class="guilabel">「Automatically Start MySQL Server on Startup」</span>の隣のチェックボックスのチェックをオフにします。
        </p></li></ul></div><p>
      設定が完了したら、<span class="command"><strong>「システム環境設定...」</strong></span>ウィンドウを閉じます。
    </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="linux-installation"></a>2.5 Linux に MySQL をインストールする</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#linux-installation-yum-repo">2.5.1 MySQL Yum リポジトリを使用して MySQL を Linux にインストールする</a></span></dt><dt><span class="section"><a href="installing.html#replace-third-party-yum">2.5.2 サードパーティーの MySQL 配布を MySQL Yum リポジトリを使用して置換する</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-apt-repo">2.5.3 MySQL APT リポジトリを使用して MySQL を Linux にインストールする</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-sles-repo">2.5.4 MySQL SLES リポジトリを使用して MySQL を Linux にインストールする</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-rpm">2.5.5 RPM パッケージを使用して MySQL を Linux にインストールする</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-debian">2.5.6 オラクルからの Debian パッケージを使用して MySQL を Linux にインストールする</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-native">2.5.7 ネイティブソフトウェアリポジトリから MySQL を Linux にインストールする</a></span></dt></dl></div><p>
    Linux は、MySQL をインストールするための何種類かのソリューションをサポートします。オラクルからの配布のいずれかを使用することを推奨します。いくつかのインストール方法が使用可能です。
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <a class="ulink" href="http://dev.mysql.com/downloads/repo/yum/" target="_top">MySQL Yum リポジトリ</a> を使用して、Yum でインストールします。詳細は、<a class="xref" href="installing.html#linux-installation-yum-repo" title="2.5.1 MySQL Yum リポジトリを使用して MySQL を Linux にインストールする">セクション2.5.1「MySQL Yum リポジトリを使用して MySQL を Linux にインストールする」</a>を参照してください。
      </p></li><li class="listitem"><p>
        <a class="ulink" href="http://dev.mysql.com/downloads/repo/apt/" target="_top">MySQL APT リポジトリ</a> を使用して、APT でインストールします。詳細は、<a class="xref" href="installing.html#linux-installation-apt-repo" title="2.5.3 MySQL APT リポジトリを使用して MySQL を Linux にインストールする">セクション2.5.3「MySQL APT リポジトリを使用して MySQL を Linux にインストールする」</a>を参照してください。
      </p></li><li class="listitem"><p>
        <a class="ulink" href="http://dev.mysql.com/downloads/repo/suse/" target="_top">MySQL SLES リポジトリ</a> を使用して、Zypper でインストールします。詳細は、<a class="xref" href="installing.html#linux-installation-sles-repo" title="2.5.4 MySQL SLES リポジトリを使用して MySQL を Linux にインストールする">セクション2.5.4「MySQL SLES リポジトリを使用して MySQL を Linux にインストールする」</a>を参照してください。
      </p></li><li class="listitem"><p>
        プリコンパイル済み RPM パッケージを使用してインストールします。詳細は、<a class="xref" href="installing.html#linux-installation-rpm" title="2.5.5 RPM パッケージを使用して MySQL を Linux にインストールする">セクション2.5.5「RPM パッケージを使用して MySQL を Linux にインストールする」</a>を参照してください。
      </p></li><li class="listitem"><p>
        プリコンパイル済み Debian パッケージを使用してインストールします。詳細は、<a class="xref" href="installing.html#linux-installation-debian" title="2.5.6 オラクルからの Debian パッケージを使用して MySQL を Linux にインストールする">セクション2.5.6「オラクルからの Debian パッケージを使用して MySQL を Linux にインストールする」</a>を参照してください。
      </p></li><li class="listitem"><p>
        <code class="filename">.tar.gz</code> 形式の一般的なバイナリパッケージからインストールします。詳細は、<a class="xref" href="installing.html#binary-installation" title="2.2 一般的なバイナリを使用した MySQL の Unix/Linux へのインストール">セクション2.2「一般的なバイナリを使用した MySQL の Unix/Linux へのインストール」</a>を参照してください。
      </p></li><li class="listitem"><p>
        オラクルの Unbreakable Linux Network (ULN) を使用してインストールします。詳細は、<a class="xref" href="installing.html#uln-installation" title="2.6 Unbreakable Linux Network (ULN) を使用した MySQL のインストール">セクション2.6「Unbreakable Linux Network (ULN) を使用した MySQL のインストール」</a>を参照してください。
      </p></li><li class="listitem"><p>
        MySQL をソース配布から抽出してコンパイルします。詳細な手順については、<a class="xref" href="installing.html#source-installation" title="2.9 ソースから MySQL をインストールする">セクション2.9「ソースから MySQL をインストールする」</a>を参照してください。
      </p></li></ul></div><p>
    代わりにシステムのパッケージマネージャーを使用して、Linux 配布のネイティブソフトウェアリポジトリからのパッケージで、MySQL を自動的にダウンロードしてインストールできます。これらのネイティブパッケージは多くの場合、使用可能な最新のリリースから数バージョン遅れています。また、開発マイルストーンリリース (DMR) は、通常ネイティブリポジトリで使用可能にはならないため、これらをインストールすることも通常できません。ネイティブパッケージインストーラの使用の詳細は、<a class="xref" href="installing.html#linux-installation-native" title="2.5.7 ネイティブソフトウェアリポジトリから MySQL を Linux にインストールする">セクション2.5.7「ネイティブソフトウェアリポジトリから MySQL を Linux にインストールする」</a>を参照してください。
  </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
      多くの Linux インストールでは、マシンが起動するときに自動的に MySQL を起動するように設定するとよいでしょう。多くのネイティブパッケージインストールではこの操作は自動的に行われますが、ソース、バイナリ、および RPM ソリューションでは個別の設定が必要になる場合があります。必要なスクリプト <span class="command"><strong>mysql.server</strong></span> は、MySQL インストールディレクトリの下の <code class="filename">support-files</code> ディレクトリ、または MySQL ソースツリーにあります。自動的に起動およびシャットダウンするには、それを <code class="filename">/etc/init.d/mysql</code> としてインストールします。<a class="xref" href="installing.html#automatic-start" title="2.10.1.2 MySQL を自動的に起動および停止する">セクション2.10.1.2「MySQL を自動的に起動および停止する」</a>を参照してください。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="linux-installation-yum-repo"></a>2.5.1 MySQL Yum リポジトリを使用して MySQL を Linux にインストールする</h3></div></div></div><a class="indexterm" name="idm139979165010528"></a><a class="indexterm" name="idm139979165009088"></a><p>
      MySQL は、Yum スタイルのソフトウェアリポジトリを次の Linux プラットフォームで提供します。

      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            EL5、EL6、および EL7 ベースのプラットフォーム (Red Hat Enterprise Linux、Oracle Linux、および CentOS の対応するバージョンなど)
          </p></li><li class="listitem"><p>
            Fedora 20 および 21
          </p></li></ul></div><p>

      現在、前述のプラットフォームの <a class="ulink" href="http://dev.mysql.com/downloads/repo/yum/" target="_top">MySQL Yum リポジトリ</a> は、MySQL Server、クライアント、MySQL Workbench、MySQL Utilities (EL5 ベースのプラットフォームでは利用できません)、Connector/ODBC、および Connector/Python (EL5 ベースのプラットフォームでは利用できません) をインストールするための RPM パッケージを提供しています。
    </p><h4><a name="idm139979165003136"></a>開始する前に</h4><p>
      MySQL は、広く使用されるオープンソースのソフトウェアとして、オリジナルの形式または再パッケージされた形式で、さまざまなダウンロードサイトやソフトウェアリポジトリなどのさまざまなソースから、多くのシステムに広くインストールされています。次の説明では、システムには (オラクルまたはそれ以外から配布される) どのバージョンの MySQL もインストールされていないことを前提とします。そうでない場合は、<a class="xref" href="installing.html#updating-yum-repo" title="2.11.1.1 MySQL Yum リポジトリを使用する MySQL のアップグレード">セクション2.11.1.1「MySQL Yum リポジトリを使用する MySQL のアップグレード」</a>または<a class="xref" href="installing.html#replace-third-party-yum" title="2.5.2 サードパーティーの MySQL 配布を MySQL Yum リポジトリを使用して置換する">セクション2.5.2「サードパーティーの MySQL 配布を MySQL Yum リポジトリを使用して置換する」</a>を参照してください。
    </p><h4><a name="idm139979164999856"></a>MySQL のインストールを最初から実行する手順</h4><p>
      MySQL の最新の GA バージョンを MySQL Yum リポジトリでインストールするには、次の手順に従ってください。
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><h4><a name="yum-repo-setup"></a>MySQL Yum リポジトリの追加</h4><p>
          まず、MySQL Yum リポジトリをシステムのリポジトリリストに追加します。この操作は一度だけ必要で、MySQL が提供する RPM をインストールすることで実行できます。次の手順に従います。

          </p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>
                MySQL Developer Zone の「Download MySQL Yum Repository」ページ (<a class="ulink" href="http://dev.mysql.com/downloads/repo/yum/" target="_top">http://dev.mysql.com/downloads/repo/yum/</a>) に移動します。
              </p></li><li class="listitem"><p>
                使用しているプラットフォーム用のリリースパッケージを選択してダウンロードします。
              </p></li><li class="listitem"><p>
                ダウンロードしたリリースパッケージを、次のコマンドでインストールします (EL5 ベースのシステムを除きます)。このとき、<em class="replaceable"><code>platform-and-version-specific-package-name</code></em> をダウンロードした RPM パッケージの名前に変更します。

</p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo yum localinstall <em class="replaceable"><code>platform-and-version-specific-package-name</code></em>.rpm</code></strong>
</pre><p>
              </p><p>
                EL6 ベースのシステムでは、コマンドは次の形式です。

</p><pre class="programlisting">
shell&gt; sudo yum localinstall mysql-community-release-el6-<em class="replaceable"><code>{version-number}</code></em>.noarch.rpm  
</pre><p>
              </p><p>
                EL7 ベースのシステムの場合:

</p><pre class="programlisting">
shell&gt; sudo yum localinstall mysql-community-release-el7-<em class="replaceable"><code>{version-number}</code></em>.noarch.rpm  
</pre><p>
              </p><p>
                Fedora 20 の場合:

</p><pre class="programlisting">
shell&gt; sudo yum localinstall mysql-community-release-fc20-<em class="replaceable"><code>{version-number}</code></em>.noarch.rpm
</pre><p>
              </p><p>
                Fedora 21 の場合:

</p><pre class="programlisting">
shell&gt; sudo yum localinstall mysql-community-release-fc21-<em class="replaceable"><code>{version-number}</code></em>.noarch.rpm
</pre><p>
              </p><p>
                EL5 ベースのシステムでは、代わりに次のコマンドを使用します。

</p><pre class="programlisting">
shell&gt; sudo rpm -Uvh mysql-community-release-el5-<em class="replaceable"><code>{version-number}</code></em>.noarch.rpm
</pre><p>
              </p><p>
                インストールコマンドにより、MySQL Yum リポジトリがシステムのリポジトリリストに追加され、ソフトウェアパッケージの完全性をチェックするために GnuPG 鍵がダウンロードされます。GnuPG 鍵チェックの詳細は、<a class="xref" href="installing.html#checking-gpg-signature" title="2.1.4.2 GnuPG を使用した署名確認">セクション2.1.4.2「GnuPG を使用した署名確認」</a>を参照してください。
              </p><p>
                MySQL Yum リポジトリが正常に追加されたことは、次のコマンドでチェックできます。

</p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>yum repolist enabled | grep "mysql.*-community.*"</code></strong>
</pre><p>
              </p></li></ol></div><p>
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            システムで MySQL Yum リポジトリが有効になると、<span class="command"><strong>yum update</strong></span> コマンドによるシステム全体の更新によって、システム上の MySQL パッケージがアップグレードされ、ネイティブのサードパーティーパッケージがある場合は、Yum が MySQL Yum リポジトリ中に代替を検索できればそれらで置換されます。<a class="xref" href="installing.html#updating-yum-repo" title="2.11.1.1 MySQL Yum リポジトリを使用する MySQL のアップグレード">セクション2.11.1.1「MySQL Yum リポジトリを使用する MySQL のアップグレード」</a>を参照してください。また、システムへの影響の可能性に関する議論については、<a class="xref" href="installing.html#updating-yum-repo-client-lib" title="共有クライアントライブラリのアップグレード">Upgrading to the Shared Client Libraries</a>を参照してください。
          </p></div></li><li class="listitem"><h4><a name="yum-repo-select-series"></a>リリースシリーズの選択</h4><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            MySQL Yum リポジトリを使用する場合、インストールにはデフォルトで MySQL の最新の GA リリースが選択されます。それでよい場合は、次の手順の<a class="xref" href="installing.html#yum-repo-installing-mysql" title="Yum での MySQL のインストール">Yum での MySQL のインストール</a>に進んでください。
          </p></div><p>
          MySQL Yum リポジトリ内では、MySQL Community Server の異なるリリースシリーズが、異なるサブリポジトリにホストされています。最新の GA シリーズ (現在は 5.6) のサブリポジトリは

          

          デフォルトで有効であり、その他のすべてのシリーズ (たとえば、現在まだデベロッパマイルストーンリリース (DMR) ステータスの 5.7 シリーズなど) のサブリポジトリはデフォルトで無効です。次のコマンドを使用して、MySQL Yum リポジトリのすべてのサブリポジトリを表示し、どれが有効でどれが無効かを確認します。

</p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>yum repolist all | grep mysql</code></strong>
</pre><p>
        </p><p>
          最新の GA シリーズの最新のリリースをインストールする場合は、構成は不要です。最新の GA シリーズ以外の特定のシリーズの最新リリースをインストールするには、インストールコマンドを実行する前に、最新の GA シリーズのサブリポジトリを無効にし、その特定のシリーズのサブリポジトリを有効にします。使用しているプラットフォームで <span class="command"><strong>yum-config-manager</strong></span> がサポートされている場合は、次のコマンドを発行することで実行できます。このコマンドは、5.6 シリーズのサブリポジトリを無効にし、5.7 シリーズのサブリポジトリを有効にします。

</p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo yum-config-manager --disable mysql56-community</code></strong>
shell&gt; <strong class="userinput"><code>sudo yum-config-manager --enable mysql57-community-dmr</code></strong>
</pre><p>
        </p><p>
          <span class="command"><strong>yum-config-manager</strong></span> を使用する以外に、<code class="filename">/etc/yum.repos.d/mysql-community.repo</code> ファイルを手動で編集してリリースシリーズを選択することもできます。ファイル内の、リリースシリーズのサブリポジトリの典型的なエントリを次に示します。

</p><pre class="programlisting">
# Enable to use MySQL 5.6
[mysql56-community]
name=MySQL 5.6 Community Server
baseurl=//repo.mysql.com/yum/mysql-5.6-community/el/5/$basearch/
enabled=1
gpgcheck=1
gpgkey=file:/etc/pki/rpm-gpg/RPM-GPG-KEY-mysql </pre><p>

          構成したいサブリポジトリのエントリを探し、<code class="option">enabled</code> オプションを編集します。<code class="option">enabled=0</code> を指定してサブリポジトリを無効にするか、<code class="option">enabled=1</code> を指定してサブリポジトリを有効にします。たとえば、最新の 5.7 DMR をインストールするには、前述の MySQL 5.6 のサブリポジトリのエントリを <code class="option">enabled=0</code> に設定し、5.7 シリーズのエントリを <code class="option">enabled=1</code> にしたことを確認します。
        </p><pre class="programlisting">
# Note: MySQL 5.7 is currently in development. For use at your own risk.
# Please read with sub pages: https://dev.mysql.com/doc/relnotes/mysql/5.7/en/
[mysql57-community-dmr]
name=MySQL 5.7 Community Server Development Milestone Release
baseurl=http://repo.mysql.com/yum/mysql-5.7-community/el/6/$basearch/
enabled=1
gpgcheck=1
gpgkey=file:/etc/pki/rpm-gpg/RPM-GPG-KEY-mysql
</pre><p></p><p>
          一度に有効にするサブリポジトリは、 1 つのリリースシリーズのもののみにしてください。複数のリリースシリーズのサブリポジトリが有効になっている場合は、Yum はもっとも新しいシリーズを使用します。
        </p><p>
          次のコマンドを実行して出力をチェックして、サブリポジトリが正しく有効または無効にされていることを確認します。

</p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>yum repolist enabled | grep mysql</code></strong>
</pre><p>
        </p></li><li class="listitem"><h4><a name="yum-repo-installing-mysql"></a>Yum での MySQL のインストール</h4><p>
          次のコマンドで MySQL をインストールします。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo yum install mysql-community-server</code></strong> 
</pre><p>
          これにより、MySQL Server (<code class="filename">mysql-community-server</code>)、クライアントのパッケージ (<code class="filename">mysql-community-client</code>)、クライアントとサーバー用の一般的なエラーメッセージと文字セット (<code class="filename">mysql-community-common</code>)、および共有クライアントライブラリ (<code class="filename">mysql-community-libs</code>) など、サーバーを実行するために必要なコンポーネントのパッケージがインストールされます。
        </p></li><li class="listitem"><h4><a name="yum-repo-starting-and-stopping-server"></a>MySQL サーバーの起動と停止</h4><p>
          次のコマンドで MySQL Server を起動します。

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo service mysqld start</code></strong></pre><p>
        </p><p>
          前述のコマンドの出力例を次に示します。

</p><pre class="programlisting">Starting mysqld:[ OK ]</pre><p>
        </p><p>
          次のコマンドで MySQL Server のステータスをチェックできます。

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo service mysqld status</code></strong></pre><p>
        </p><p>
          前述のコマンドの出力例を次に示します。

</p><pre class="programlisting">mysqld (pid 3066) is running.</pre><p>
        </p><p>
          次のコマンドで MySQL Server を停止します。

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo service mysqld stop</code></strong></pre><p>
        </p></li><li class="listitem"><h4><a name="yum-repo-securing-mysql-installation"></a>MySQL インストールのセキュリティー設定</h4><p>
          プログラム <span class="command"><strong>mysql_secure_installation</strong></span> を使用すると、ルートパスワードの設定、匿名ユーザーの削除など、重要な操作を実行できます。必ず実行して MySQL インストールをセキュアにしてください。

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql_secure_installation</code></strong></pre><p>
        </p><p>
          設定したルートパスワードを記憶しておくことが重要です。詳細は、<a class="xref" href="programs.html#mysql-secure-installation" title="4.4.5 mysql_secure_installation — MySQL インストールのセキュリティー改善">セクション4.4.5「<span class="command"><strong>mysql_secure_installation</strong></span> — MySQL インストールのセキュリティー改善」</a>を参照してください。
        </p></li></ol></div><p>
      インストール後の手順については、<a class="xref" href="installing.html#postinstallation" title="2.10 インストール後のセットアップとテスト">セクション2.10「インストール後のセットアップとテスト」</a>を参照してください。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p><a name="yum-install-compatibility-el7"></a>
        <span class="emphasis"><em>EL7 ベースのプラットフォームの互換性情報:</em></span> プラットフォームのネイティブソフトウェアリポジトリからの次の RPM パッケージは、MySQL Server をインストールする MySQL Yum リポジトリからのパッケージとは互換性がありません。MySQL Yum リポジトリを使用して MySQL をインストールすると、これらのパッケージはインストールできなくなります (その逆も同様です)。

        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              akonadi-mysql
            </p></li><li class="listitem"><p>
              ocsinventory
            </p></li></ul></div><p>
      </p></div><h4><a name="yum-install-components"></a>追加の MySQL 製品およびコンポーネントの Yum でのインストール</h4><p>
      Yum を使用して、MySQL の個々のコンポーネントのインストールおよび管理を実行できます。これらのコンポーネントの一部は、MySQL Yum リポジトリのサブリポジトリにホストされています。たとえば、MySQL Connectors は MySQL Connectors Community サブリポジトリ、MySQL Workbench は MySQL Tools Community にあります。

      

      次のコマンドを使用して、使用しているプラットフォームで、MySQL Yum リポジトリから使用可能な MySQL コンポーネントのすべてのパッケージをリストできます。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo yum --disablerepo=\* --enablerepo='mysql*-community*' list available</code></strong>
</pre><p>
      次のコマンドで <em class="replaceable"><code>package-name</code></em> をパッケージ名に置換して、任意のパッケージをインストールします。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo yum install <em class="replaceable"><code>package-name</code></em></code></strong> 
</pre><p>
      たとえば MySQL Workbench をインストールするには:

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo yum install mysql-workbench-community</code></strong></pre><p>
    </p><p>
      共有クライアントライブラリをインストールするには:

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo yum install mysql-community-libs</code></strong></pre><p>
    </p><h4><a name="idm139979164907440"></a>Yum での MySQL の更新</h4><p>
      インストールのほかに、MySQL 製品およびコンポーネントの更新も、MySQL Yum リポジトリを使用して実行できます。詳細は、<a class="xref" href="installing.html#updating-yum-repo" title="2.11.1.1 MySQL Yum リポジトリを使用する MySQL のアップグレード">セクション2.11.1.1「MySQL Yum リポジトリを使用する MySQL のアップグレード」</a>を参照してください。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="replace-third-party-yum"></a>2.5.2 サードパーティーの MySQL 配布を MySQL Yum リポジトリを使用して置換する</h3></div></div></div><a class="indexterm" name="idm139979164904048"></a><a class="indexterm" name="idm139979164902608"></a><p>
      サポートされる Yum ベースのプラットフォーム (リストについては<a class="xref" href="installing.html#linux-installation-yum-repo" title="2.5.1 MySQL Yum リポジトリを使用して MySQL を Linux にインストールする">セクション2.5.1「MySQL Yum リポジトリを使用して MySQL を Linux にインストールする」</a>を参照してください) では、MySQL Yum リポジトリを使用して、サードパーティーの MySQL 配布を MySQL からの最新の GA リリースに置換できます。サードパーティーの MySQL 配布がインストールされた方法によって、手順が異なります。
    </p><h4><a name="replace-third-party-yum-native"></a>ネイティブのサードパーティーの MySQL 配布の置換</h4><p>
      サードパーティーの MySQL 配布をネイティブソフトウェアリポジトリ (つまり、ご自分の Linux 配布で提供されたソフトウェアリポジトリ) からインストールした場合は、次の手順に従います。
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><h4><a name="idm139979164896112"></a>データベースのバックアップ</h4><p>
          データの損失を避けるため、MySQL Yum リポジトリを使用して MySQL インストールを置換する前に、必ずデータベースをバックアップしてください。データベースのバックアップの方法については、<a class="xref" href="backup-and-recovery.html" title="第 7 章 バックアップとリカバリ">第7章「<i>バックアップとリカバリ</i>」</a>を参照してください。
        </p></li><li class="listitem"><h4><a name="idm139979164893280"></a>MySQL Yum リポジトリの追加</h4><p>
          <a class="xref" href="installing.html#yum-repo-setup" title="MySQL Yum リポジトリの追加">Adding the MySQL Yum Repository</a>に記載の説明に従って、MySQL Yum リポジトリをシステムのリポジトリリストに追加します。
        </p></li><li class="listitem"><h4><a name="idm139979164890848"></a>Yum アップデートでのネイティブのサードパーティーの配布の置換</h4><p>
          設計により、<span class="command"><strong>yum update</strong></span> または <span class="command"><strong>yum update mysql-server</strong></span> コマンドをシステムで実行すると、MySQL Yum リポジトリはネイティブのサードパーティー MySQL を置換します。
        </p></li></ol></div><p>
      Yum リポジトリを使用して MySQL を更新したあとも、古いバージョンの共有クライアントライブラリを使用してコンパイルされたアプリケーションは機能するはずです。しかし、<span class="emphasis"><em>アプリケーションを再コンパイルして、更新されたライブラリに動的にリンクする場合は</em></span>、特に考慮するべき点について<a class="xref" href="installing.html#updating-yum-repo-client-lib" title="共有クライアントライブラリのアップグレード">Upgrading to the Shared Client Libraries</a>を参照してください。
    </p><h4><a name="replace-third-party-yum-nonnative"></a>ネイティブ以外のサードパーティーの MySQL 配布の置換</h4><p>
      サードパーティーの MySQL 配布をネイティブでないソフトウェアリポジトリ (つまり、ご自分の Linux 配布で提供されていないソフトウェアリポジトリ) からインストールした場合は、次の手順に従います。
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><h4><a name="idm139979164881968"></a>データベースのバックアップ</h4><p>
          データの損失を避けるため、MySQL Yum リポジトリを使用して MySQL インストールを置換する前に、必ずデータベースをバックアップしてください。データベースのバックアップの方法については、<a class="xref" href="backup-and-recovery.html" title="第 7 章 バックアップとリカバリ">第7章「<i>バックアップとリカバリ</i>」</a>を参照してください。
        </p></li><li class="listitem"><h4><a name="stop-third-party"></a>Yum による、サードパーティーのネイティブでないリポジトリからの MySQL パッケージの受信を停止</h4><p>
          MySQL をインストールするために MySQL Yum リポジトリを使用する前に、システムがサードパーティーのネイティブでない Yum リポジトリから MySQL パッケージを受信するのを停止する必要があります。
        </p><p>
          たとえば、MariaDB をそのソフトウェアリポジトリからインストールした場合は、次のコマンドを使用して、インストール済みの MariaDB パッケージのリストを取得します。

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>yum list installed mariadb\*</code></strong></pre><p>

          コマンドの出力例を次に示します。

</p><pre class="programlisting">
MariaDB-common.i686                      10.0.4-1                       @mariadb
MariaDB-compat.i686                      10.0.4-1                       @mariadb
MariaDB-server.i686                      10.0.4-1                       @mariadb
</pre><p>

          コマンド出力から、インストール済みのパッケージ (<code class="literal">MariaDB-common</code>、<code class="literal">MariaDB-compat</code>、および <code class="literal">MariaDB-server</code>) およびそのソース (<code class="literal">mariadb</code> という名前のネイティブでないソフトウェアリポジトリ) を特定できます。
        </p><p>
          別の例として、Percona をそのソフトウェアリポジトリからインストールした場合は、次のコマンドを使用して、インストール済みの Percona パッケージのリストを取得します。

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>yum list installed Percona\*</code></strong></pre><p>

          コマンドの出力例を次に示します。

</p><pre class="programlisting">
Percona-Server-client-55.i686     5.5.39-rel36.0.el6          @percona-release-i386         
Percona-Server-server-55.i686     5.5.39-rel36.0.el6          @percona-release-i386         
Percona-Server-shared-55.i686     5.5.39-rel36.0.el6          @percona-release-i386  
percona-release.noarch            0.1-3                       @/percona-release-0.1-3.noarch
</pre><p>

          コマンド出力から、インストール済みのパッケージ (<code class="literal">Percona-Server-client</code>、<code class="literal">Percona-Server-server</code>、<code class="literal">Percona-Server-shared</code>、および <code class="literal">percona-release.noarch</code>) およびそのソース (<code class="literal">percona-release</code> という名前のネイティブでないソフトウェアリポジトリ) を特定できます。
        </p><p>
          どのサードパーティーの MySQL フォークをインストールしたかはっきりしない場合は、このコマンドでそれがわかります。インストール済みの RPM パッケージおよびパッケージを提供しているサードパーティーリポジトリがリストされます。

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>yum --disablerepo=\* provides mysql\*</code></strong></pre><p>
        </p><p>
          次の手順は、Yum がサードパーティーのネイティブでないリポジトリからパッケージを受信するのを停止することです。使用しているプラットフォームで <span class="command"><strong>yum-config-manager</strong></span> ユーティリティーがサポートされている場合は、たとえば MariaDB では次のコマンドを使用できます。

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo yum-config-manager --disable mariadb</code></strong></pre><p>

          また、Percona では次のコマンドを使用します。

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo yum-config-manager --disable percona-release</code></strong></pre><p>

          <code class="filename">/etc/yum.repos.d/</code> ディレクトリにあるリポジトリファイルの 1 つに存在するソフトウェアリポジトリのエントリを削除することで、同じタスクを実行できます。MariaDB での通常のエントリを次に示します。

</p><pre class="programlisting">
[mariadb] name = MariaDB
 baseurl = <em class="replaceable"><code>[base URL for repository]</code></em>
 gpgkey = <em class="replaceable"><code>[URL for GPG key]</code></em>
 gpgcheck =1 </pre><p>

          エントリは通常、MariaDB では <code class="filename">/etc/yum.repos.d/MariaDB.repo</code> にあります。ファイルを削除するか、そのファイルから (またはエントリが見つかったファイルから) エントリを削除します。
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            Yum リポジトリリリースパッケージ (Percona など) を使用して構成されたインストールでは、次の手順 3 の Percona のアンインストールコマンドのように、リリースパッケージ (Percona の場合 <code class="filename">percona-release.noarch</code>) を削除する予定である場合は、この手順は不要です。
          </p></div></li><li class="listitem"><h4><a name="idm139979164849488"></a>ネイティブ以外のサードパーティーの MySQL 配布のアンインストール</h4><p>
          MySQL Yum リポジトリを使用して MySQL をインストールする前に、ネイティブでないサードパーティーの MySQL 配布をアンインストールする必要があります。前記の手順 2 の MariaDB パッケージの場合、次のコマンドでアンインストールします。

</p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo yum remove MariaDB-common MariaDB-compat MariaDB-server</code></strong></pre><p>

          前記の手順 2 の Percona パッケージの場合:

</p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo yum remove Percona-Server-client-55 Percona-Server-server-55 \
  Percona-Server-shared-55.i686 percona-release</code></strong></pre><p>
        </p></li><li class="listitem"><h4><a name="idm139979164844528"></a>MySQL Yum リポジトリを使用する MySQL のインストール</h4><p>
          次に、<a class="xref" href="installing.html#linux-installation-yum-repo" title="2.5.1 MySQL Yum リポジトリを使用して MySQL を Linux にインストールする">セクション2.5.1「MySQL Yum リポジトリを使用して MySQL を Linux にインストールする」</a>に示す手順に従って、MySQL を MySQL Yum リポジトリを使用してインストールします。

          </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                  サードパーティーの MySQL 配布を MySQL Yum リポジトリからの新しいバージョンの MySQL に置換する場合は、サーバーの起動後に <span class="command"><strong>mysql_upgrade</strong></span> を実行して、古いデータとアップグレードされたソフトウェアとの間の非互換性をチェックし、あれば解決します。<span class="command"><strong>mysql_upgrade</strong></span> はその他の機能も実行します。詳細は、<a class="xref" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — MySQL テーブルのチェックとアップグレード">セクション4.4.7「<span class="command"><strong>mysql_upgrade</strong></span> — MySQL テーブルのチェックとアップグレード」</a>を参照してください。
                </p></li><li class="listitem"><p>
                  <span class="emphasis"><em>EL7 ベースのプラットフォームの場合:</em></span> <a class="xref" href="installing.html#yum-install-compatibility-el7">Compatibility Information for EL7-based platforms</a>を参照してください。
                </p></li></ul></div></div><p>
        </p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="linux-installation-apt-repo"></a>2.5.3 MySQL APT リポジトリを使用して MySQL を Linux にインストールする</h3></div></div></div><a class="indexterm" name="idm139979164834256"></a><a class="indexterm" name="idm139979164832096"></a><p>
      MySQL APT リポジトリは、MySQL Server、クライアント、その他のコンポーネントを次の Linux プラットフォームにインストールして管理するために、<code class="filename">deb</code> パッケージを提供します。

      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Debian 7.x (<span class="quote">「<span class="quote">wheezy</span>」</span>)
          </p></li><li class="listitem"><p>
            Ubuntu 12.04 LTS (<span class="quote">「<span class="quote">Precise Pangolin</span>」</span>)
          </p></li><li class="listitem"><p>
            Ubuntu 14.04 LTS (<span class="quote">「<span class="quote">Trusty Tahr</span>」</span>)
          </p></li><li class="listitem"><p>
            Ubuntu 14.10 (<span class="quote">「<span class="quote">Utopic Unicorn</span>」</span>)
          </p></li></ul></div><p>
    </p><p>
      MySQL APT リポジトリの使用に関する説明は、<a class="ulink" href="http://dev.mysql.com/doc/mysql-apt-repo-quick-guide/en/" target="_top">A Quick Guide to Using the MySQL APT Repository</a>にあります。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        MySQL APT リポジトリは現在開発リリースです。ご試用の上フィードバックをお聞かせください。バグまたは不整合にお気づきの場合は、<a class="ulink" href="http://bugs.mysql.com" target="_top">バグデータベース</a>で報告してください。
      </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="linux-installation-sles-repo"></a>2.5.4 MySQL SLES リポジトリを使用して MySQL を Linux にインストールする</h3></div></div></div><a class="indexterm" name="idm139979164818704"></a><a class="indexterm" name="idm139979164816544"></a><p>
      MySQL SLES リポジトリは、MySQL Server、クライアント、その他のコンポーネントを SUSE Enterprise Linux Server にインストールして管理するために、RPM パッケージを提供します。
    </p><p>
      MySQL SLES リポジトリの使用に関する説明は、<a class="ulink" href="http://dev.mysql.com/doc/mysql-sles-repo-quick-guide/en/" target="_top">A Quick Guide to Using the MySQL SLES Repository</a>にあります。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        MySQL SLES リポジトリは現在開発リリースです。ご試用の上フィードバックをお聞かせください。バグまたは不整合にお気づきの場合は、<a class="ulink" href="http://bugs.mysql.com" target="_top">バグデータベース</a>で報告してください。
      </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="linux-installation-rpm"></a>2.5.5 RPM パッケージを使用して MySQL を Linux にインストールする</h3></div></div></div><a class="indexterm" name="idm139979164809792"></a><a class="indexterm" name="idm139979164808352"></a><a class="indexterm" name="idm139979164806928"></a><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        MySQL 5.6.11 のインストールまたはアップグレードを行うには、このセクションの最後にある特記事項を必ずお読みください。
      </p></div><p>
      <code class="literal">glibc</code> を使用する RPM ベースの Linux 配布に MySQL をインストールするために推奨される方法は、MySQL が提供する RPM パッケージを使用することです。RPM パッケージの Community バージョンを取得するには 2 つのソースがあります。

      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            次のプラットフォームでは、MySQL ソフトウェアリポジトリから:

            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  EL5、EL6、または EL7 ベースのプラットフォームおよび Fedora 20 または 21 では、MySQL Yum リポジトリを使用します (詳細は<a class="xref" href="installing.html#linux-installation-yum-repo" title="2.5.1 MySQL Yum リポジトリを使用して MySQL を Linux にインストールする">セクション2.5.1「MySQL Yum リポジトリを使用して MySQL を Linux にインストールする」</a>を参照してください)。
                </p></li><li class="listitem"><p>
                  SUSE Enterprise Linux Server では、MySQL SLES リポジトリを使用します (詳細は<a class="xref" href="installing.html#linux-installation-sles-repo" title="2.5.4 MySQL SLES リポジトリを使用して MySQL を Linux にインストールする">セクション2.5.4「MySQL SLES リポジトリを使用して MySQL を Linux にインストールする」</a>を参照してください)。
                </p></li></ul></div><p>
          </p></li><li class="listitem"><p>
            <a class="ulink" href="http://dev.mysql.com/" target="_top">MySQL Developer Zone</a> の <a class="ulink" href="http://dev.mysql.com/downloads/" target="_top">MySQL Downloads ページ</a> から。ここでは、異なるプラットフォームで機能するさまざまな RPM パッケージを提供しています。
          </p></li></ul></div><p>
    </p><p></p><p>
      <span class="emphasis"><em>このセクションの議論は、MySQL Developer Zone から直接ダウンロードした RPM パッケージのみに適用されます。</em></span>これらのパッケージで作成されたインストールは、次の表に示すシステムディレクトリのファイルになります。
    </p><div class="table"><a name="mysql-installation-layout-linuxrpm"></a><p class="title"><b>表 2.6 MySQL Developer Zone からの Linux RPM パッケージの MySQL インストールレイアウト</b></p><div class="table-contents"><table summary="MySQL Developer Zone からの Linux RPM パッケージの MySQL インストールレイアウト" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">ディレクトリ</th><th scope="col">ディレクトリの内容</th></tr></thead><tbody><tr><td scope="row"><code class="filename">/usr/bin</code></td><td>クライアントプログラムおよびスクリプト</td></tr><tr><td scope="row"><code class="filename">/usr/sbin</code></td><td><span class="command"><strong>mysqld</strong></span> サーバー</td></tr><tr><td scope="row"><code class="filename">/var/lib/mysql</code></td><td>ログファイル、データベース</td></tr><tr><td scope="row"><code class="filename">/usr/share/info</code></td><td>Info 形式のドキュメント</td></tr><tr><td scope="row"><code class="filename">/usr/share/man</code></td><td>Unix マニュアルページ</td></tr><tr><td scope="row"><code class="filename">/usr/include/mysql</code></td><td>インクルード (ヘッダー) ファイル</td></tr><tr><td scope="row"><code class="filename">/usr/lib/mysql</code></td><td>ライブラリ</td></tr><tr><td scope="row"><code class="filename">/usr/share/mysql</code></td><td>エラーメッセージ、文字セットファイル、サンプル構成ファイル、データベースインストールのための SQL を含む種々のサポートファイル</td></tr><tr><td scope="row"><code class="filename">/usr/share/sql-bench</code></td><td>ベンチマーク</td></tr></tbody></table></div></div><br class="table-break"><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        MySQL の RPM 配布はほかのベンダーからも提供されています。それらは、弊社によってビルドされたものとは (通信セットアップなどの) 機能や規則が異なる場合があり、それらのインストールにはこのマニュアルの説明が必ずしも適用されないことに注意してください。代わりに、ベンダーの説明書を参照してください。これらの違いのため、弊社がビルドした RPM パッケージは、ほかのベンダーによってビルドされたこのような RPM がインストールされているかどうかをチェックします。その場合、RPM はインストールを実行せず、そのことを説明するメッセージを生成します。
      </p><p>
        ほかのベンダーからの RPM がすでにインストールされている場合、どのファイルがサーバーに属し、どれがクライアントライブラリに属するかに関するベンダーの表記が、Oracle パッケージで使用される内訳と異なるなどの不一致が生じる場合があります。このような場合は、Oracle RPM を <span class="command"><strong>rpm -i</strong></span> でインストールしようとすると、インストールされる RPM 内のファイルが、インストール済みのパッケージ (次の段落では <code class="literal">mysql-libs</code> と表されます) と不一致であるというメッセージになります。
      </p><p>
        弊社は、MySQL の各リリースに <code class="literal">MySQL-shared-compat</code> パッケージを提供します。このパッケージは <code class="literal">mysql-libs</code> に代わるものであり、古い MySQL シリーズに置換可能な互換クライアントライブラリを提供します。<code class="literal">MySQL-shared-compat</code> は、<code class="literal">mysql-libs</code> を無効にするようにセットアップされていますが、<span class="command"><strong>rpm</strong></span> は、(<code class="option">-U</code> とは異なり) <code class="option">-i</code> とともに起動された場合は無効パッケージを置換することを明示的に拒否します。<span class="command"><strong>rpm -i</strong></span> によるインストールが不一致を生ずるのはこのためです。
      </p><p>
        <code class="literal">MySQL-shared-compat</code> は、ライブラリが別の場所にインストールされるため、<code class="literal">mysql-libs</code> とともに安全にインストールできます。したがって、shared-compat を先にインストールしてから、インストールを続行する前に手動で <code class="literal">mysql-libs</code> を削除できます。mysql-libs が削除されたあと、ダイナミックリンカーは <code class="literal">mysql-libs</code> がクライアントライブラリを配置する場所でそれらを探すのを停止し、<code class="literal">MySQL-shared-compat</code> パッケージによって提供されるライブラリが引き継ぎます。
      </p><p>
        もう 1 つの選択肢は、<span class="command"><strong>yum</strong></span> を使用してパッケージをインストールすることです。MySQL リリースのすべての RPM パッケージを含むディレクトリで、<span class="command"><strong>yum install MySQL*rpm</strong></span> を実行すると、一度で不一致なくそれらを正しい順序でインストールし、<code class="literal">mysql-libs</code> を削除します。
      </p></div><p>
      ほとんどの場合、機能する MySQL インストールを取得するためにインストールする必要があるのは <code class="literal">MySQL-server</code> および <code class="literal">MySQL-client</code> パッケージのみです。その他のパッケージは、標準インストールには必要ありません。
    </p><a class="indexterm" name="idm139979164749952"></a><p>
      MySQL 5.6.8 では、RPM の (アップグレードではなく) インストール操作は、<span class="command"><strong>mysql_install_db</strong></span> をよりセキュアな MySQL インストールを提供する <code class="option">--random-passwords</code> オプションで起動します。<code class="option">--random-passwords</code> を付けて <span class="command"><strong>mysql_install_db</strong></span> を呼び出すと、ランダムなパスワードを MySQL <code class="literal">root</code> アカウントに割り当て、これらのアカウントについて<span class="quote">「<span class="quote">パスワードが期限切れである</span>」</span>ことを示すフラグを設定し、匿名ユーザー MySQL アカウントを作成しません。インストール後、サーバーを起動して <code class="filename">$HOME/.mysql_secret</code> ファイルに書き込まれたパスワードを使用して <code class="literal">root</code> として接続し、新しい <code class="literal">root</code> パスワードを割り当てることが必要になります。これを行うまで、<code class="literal">root</code> はそれ以外何もできません。これは、使用するすべての <code class="literal">root</code> アカウントについて実行する必要があります。パスワードを変更するには、<code class="literal">SET PASSWORD</code> ステートメントを (たとえば <span class="command"><strong>mysql</strong></span> クライアントとともに) 使用します。<span class="command"><strong>mysqladmin</strong></span> または <span class="command"><strong>mysql_secure_installation</strong></span> も使用できます。追加情報については<a class="xref" href="programs.html#mysql-install-db" title="4.4.3 mysql_install_db — MySQL データディレクトリの初期化">セクション4.4.3「<span class="command"><strong>mysql_install_db</strong></span> — MySQL データディレクトリの初期化」</a>を参照してください。(Unbreakable Linux Network での RPM を使用したインストール操作は <span class="command"><strong>mysql_install_db</strong></span> を使用しないため、影響されません。)
    </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p><b>MySQL クラスタ用の RPM </b>
          MySQL によってビルドされた標準の MySQL Server RPM は、<code class="literal">NDBCLUSTER</code> ストレージエンジンをサポートしません。RPM から MySQL Cluster をインストールする方法の詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-installation" title="18.2 MySQL Cluster のインストール">セクション18.2「MySQL Cluster のインストール」</a>を参照してください。
        </p><p>
        MySQL Cluster RPM インストールをアップグレードするときは、<code class="literal">サーバー</code>および<code class="literal">クライアント</code>の RPM を含め、インストールした<span class="emphasis"><em>すべての</em></span> RPM をアップグレードする必要があります。
      </p></div><p>
      もともと複数の RPM パッケージをインストールして作成されたインストールの場合は、アップグレードでは、一部だけでなくすべてのパッケージをアップグレードするのが最善です。たとえば、以前にサーバーおよびクライアントの RPM をインストールした場合は、サーバーの RPM だけをアップグレードすることはしないでください。
    </p><p>
      RPM インストール時にデータディレクトリが存在する場合は、インストールプロセスは既存のデータを変更しません。これは、たとえば付与テーブル内のアカウントがアカウントのデフォルトセットに初期化されないという効果があります。
    </p><p>
      MySQL パッケージをインストールしようとして依存関係エラーが生じる場合は (たとえば、<code class="literal">error: removing these packages would break dependencies: libmysqlclient.so.10 is needed by ...</code>)、<code class="literal">MySQL-shared-compat</code> パッケージもインストールしてください。これには後方互換性のための古いリリースの共有ライブラリが含まれます。
    </p><p>
      次のリストに示す RPM パッケージが利用できます。ここに示した名前は、<code class="filename">.linux_glibc2.5.i386.rpm</code> というサフィクスを使用しますが、特定のパッケージではサフィクスが異なる場合があります。以降で説明します。複数の RPM パッケージをインストールする計画の場合は、RPM バンドル <span class="command"><strong>tar</strong></span> ファイルを代わりにダウンロードするとよいでしょう。これには複数の RPM パッケージが含まれるため、個別にダウンロードする必要がありません。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">MySQL-server-<em class="replaceable"><code>VERSION</code></em>.linux_glibc2.5.i386.rpm</code>
        </p><p>
          MySQL Server。別のマシンで動作している MySQL サーバーに接続するのみでなければ、これが必要です。
        </p></li><li class="listitem"><p>
          <code class="literal">MySQL-client-<em class="replaceable"><code>VERSION</code></em>.linux_glibc2.5.i386.rpm</code>
        </p><p>
          標準の MySQL クライアントプログラム。通常は、このパッケージをインストールします。
        </p></li><li class="listitem"><p>
          <code class="literal">MySQL-devel-<em class="replaceable"><code>VERSION</code></em>.linux_glibc2.5.i386.rpm</code>
        </p><p>
          Perl モジュールなど、ほかの MySQL クライアントをコンパイルする場合に必要なライブラリおよびインクルードファイル。C API アプリケーションをコンパイルする予定である場合はこの RPM をインストールします。
        </p></li><li class="listitem"><p>
          <code class="literal">MySQL-shared-<em class="replaceable"><code>VERSION</code></em>.linux_glibc2.5.i386.rpm</code>
        </p><p>
          このパッケージには、MySQL を動的にロードして使用するために、一部の言語およびアプリケーションが必要とする共有ライブラリ (<code class="literal">libmysqlclient.so*</code>) が含まれます。それにはシングルスレッドとスレッドセーフのライブラリが含まれます。共有クライアントライブラリに依存する C API アプリケーションをコンパイルして実行する予定である場合はこの RPM をインストールします。
        </p></li><li class="listitem"><p>
          <code class="literal">MySQL-shared-compat-<em class="replaceable"><code>VERSION</code></em>.linux_glibc2.5.i386.rpm</code>
        </p><p>
          このパッケージは古いリリースの共有ライブラリを含みますが、現在のリリースのライブラリは含みません。それにはシングルスレッドとスレッドセーフのライブラリが含まれます。古いバージョンの MySQL にダイナミックリンクするアプリケーションをインストールしていて、ライブラリの依存関係を壊すことなく最新バージョンにアップグレードする場合には、このパッケージをインストールします。
        </p><p>
          MySQL 5.6.5 では、<code class="literal">MySQL-shared-compat</code> RPM パッケージにより、Red Hat が提供する <code class="literal">mysql-*-5.1</code> RPM パッケージのユーザーが、オラクルが提供する <code class="literal">MySQL-*-5.5</code> パッケージに移行できます。<code class="literal">MySQL-shared-compat</code> は、後者のパッケージの <code class="filename">libmysqlclient.so</code> ファイルを置換して、<code class="literal">mysql-libs</code> へのほかのパッケージの依存関係を満たすことによって、Red Hat <code class="literal">mysql-libs</code> パッケージを置換します。この変更は、Red Hat (または Red Hat 互換の) RPM パッケージのユーザーのみに影響します。Oracle RPM パッケージのユーザーにとっては何も変更はありません。
        </p></li><li class="listitem"><p>
          <code class="literal">MySQL-embedded-<em class="replaceable"><code>VERSION</code></em>.linux_glibc2.5.i386.rpm</code>
        </p><p>
          組み込み MySQL サーバーライブラリ。
        </p></li><li class="listitem"><p>
          <code class="literal">MySQL-test-<em class="replaceable"><code>VERSION</code></em>.linux_glibc2.5.i386.rpm</code>
        </p><p>
          このパッケージには、MySQL のテストスイートが含まれています。
        </p></li><li class="listitem"><p>
          <code class="literal">MySQL-<em class="replaceable"><code>VERSION</code></em>.src.rpm</code>
        </p><p>
          これにはすべての旧パッケージのソースコードが含まれています。ほかのアーキテクチャー (たとえば、Alpha あるいは SPARC) で RPM をビルドする際にも使用できます。
        </p></li></ul></div><p>
      RPM パッケージ名のサフィクス (<em class="replaceable"><code>VERSION</code></em> 値に続く) の構文は次のとおりです。
    </p><pre class="programlisting">
.<em class="replaceable"><code>PLATFORM</code></em>.<em class="replaceable"><code>CPU</code></em>.rpm
</pre><p>
      <em class="replaceable"><code>PLATFORM</code></em> および <em class="replaceable"><code>CPU</code></em> 値は、パッケージのビルド対象になっているシステムのタイプを示します。<em class="replaceable"><code>PLATFORM</code></em> はプラットフォームを示し、<em class="replaceable"><code>CPU</code></em> はプロセッサのタイプまたはファミリを示します。
    </p><p>
      すべてのパッケージは <code class="literal">glibc</code> 2.5 にダイナミックリンクされます。<em class="replaceable"><code>PLATFORM</code></em> 値は、次の表に示すように、パッケージがプラットフォームから独立しているか、または特定のプラットフォームを目的としているかを示します。
    </p><div class="table"><a name="idm139979164683136"></a><p class="title"><b>表 2.7 MySQL Linux インストールパッケージ</b></p><div class="table-contents"><table summary="MySQL Linux インストールパッケージ" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col"><em class="replaceable"><code>PLATFORM</code></em> 値</th><th scope="col">使用目的</th></tr></thead><tbody><tr><td scope="row"><code class="literal">linux_glibc25</code></td><td>プラットフォームから独立。<code class="literal">glibc</code> 2.5 をサポートする任意の Linux 配布で動作します。</td></tr><tr><td scope="row"><code class="literal">rhel5</code>、<code class="literal">rhel6</code></td><td>Red Hat Enterprise Linux 5 または 6</td></tr><tr><td scope="row"><code class="literal">el6</code>、<code class="literal">el7</code></td><td>Enterprise Linux 6 または 7</td></tr><tr><td scope="row"><code class="literal">sles10</code>、<code class="literal">sles11</code></td><td>SUSE Linux Enterprise Server 10 または 11</td></tr></tbody></table></div></div><br class="table-break"><p>
      MySQL 5.6 では、現在 <code class="literal">linux_glibc2.5</code> パッケージのみ使用可能です。
    </p><p>
      <em class="replaceable"><code>CPU</code></em> 値は、パッケージのビルド対象になっているプロセッサのタイプまたはファミリを示します。
    </p><div class="table"><a name="idm139979164666432"></a><p class="title"><b>表 2.8 Linux 用 MySQL インストールパッケージの CPU 識別子</b></p><div class="table-contents"><table summary="Linux 用 MySQL インストールパッケージの CPU 識別子" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col"><em class="replaceable"><code>CPU</code></em> 値</th><th scope="col">対象のプロセッサタイプまたはファミリ</th></tr></thead><tbody><tr><td scope="row"><code class="literal">i386</code>、<code class="literal">i586</code>、<code class="literal">i686</code></td><td>Pentium プロセッサ以上、32 ビット</td></tr><tr><td scope="row"><code class="literal">x86_64</code></td><td>64 ビットの x86 プロセッサ</td></tr><tr><td scope="row"><code class="literal">ia64</code></td><td>Itanium (IA-64) プロセッサ</td></tr></tbody></table></div></div><br class="table-break"><p>
      RPM パッケージ (<code class="literal">MySQL-server</code> RPM など) のすべてのファイルを表示するには、次のようなコマンドを実行します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>rpm -qpl MySQL-server-<em class="replaceable"><code>VERSION</code></em>.linux_glibc2.5.i386.rpm</code></strong>
</pre><p>
      標準の最低限のインストールには、サーバーとクライアント RPM をインストールします。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>rpm -i MySQL-server-<em class="replaceable"><code>VERSION</code></em>.linux_glibc2.5.i386.rpm</code></strong>
shell&gt; <strong class="userinput"><code>rpm -i MySQL-client-<em class="replaceable"><code>VERSION</code></em>.linux_glibc2.5.i386.rpm</code></strong>
</pre><p>
      クライアントプログラムのみをインストールする場合は、クライアント RPM のみインストールします。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>rpm -i MySQL-client-<em class="replaceable"><code>VERSION</code></em>.linux_glibc2.5.i386.rpm</code></strong>
</pre><p>
      RPM には、インストールするパッケージの完全性および信憑性を検証する機能があります。この機能の詳細は、<a class="xref" href="installing.html#verifying-package-integrity" title="2.1.4 MD5 チェックサムまたは GnuPG を用いたパッケージの完全性の確認">セクション2.1.4「MD5 チェックサムまたは GnuPG を用いたパッケージの完全性の確認」</a>を参照してください。
    </p><p>
      サーバー RPM はデータを <code class="filename">/var/lib/mysql</code> ディレクトリに格納します。RPM はまた、MySQL Server を実行するために使用するユーザー <code class="literal">mysql</code> という名前のログインアカウントを作成し (存在しない場合)、サーバーがブート時に自動的に起動するように適切なエントリを <code class="filename">/etc/init.d/</code> に作成します。(これは、以前にインストールを実行し、スタートアップスクリプトに変更を加えた場合、新しい RPM をインストールするときにスクリプトを失わないように、コピーをとる方がよいことを意味します。)システム起動時に MySQL を自動的に起動する方法の詳細は、<a class="xref" href="installing.html#automatic-start" title="2.10.1.2 MySQL を自動的に起動および停止する">セクション2.10.1.2「MySQL を自動的に起動および停止する」</a>を参照してください。
    </p><p>
      MySQL 5.6 では、新規インストール中にサーバーブートスクリプトがインストールされますが、MySQL Server はインストールの最後には起動されません。これは、無人インストール中のサーバーのステータスがわからないためです。
    </p><p>
      MySQL 5.6 では、RPM パッケージを使用するアップグレードインストール中に、アップグレードが行われたときに MySQL Server が実行中である場合は、MySQL Server は停止され、アップグレードが実行され、MySQL Server が再起動されます。RPM アップグレードの実行時に MySQL Server がすでに実行中ではなかった場合は、インストールの最後に MySQL Server は起動されません。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        MySQL のコミュニティーバージョンから商用バージョンにアップグレードする場合は (これは実際には、まずコミュニティーバージョンをアンインストールしてから商用バージョンをインストールする必要があります)、アップグレード後に手動でサーバーを再起動する必要があります。
      </p></div><p>
      うまくいかない場合には、バイナリのインストールのセクションに詳細情報があります。<a class="xref" href="installing.html#binary-installation" title="2.2 一般的なバイナリを使用した MySQL の Unix/Linux へのインストール">セクション2.2「一般的なバイナリを使用した MySQL の Unix/Linux へのインストール」</a>を参照してください。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        MySQL の付与テーブルにリストされているアカウントには、最初はパスワードがありません。サーバーの起動後に、<a class="xref" href="installing.html#postinstallation" title="2.10 インストール後のセットアップとテスト">セクション2.10「インストール後のセットアップとテスト」</a>の説明に従って、それらにパスワードを設定する必要があります。
      </p></div><p>
      RPM のインストール時に、<code class="literal">mysql</code> というユーザーと <code class="literal">mysql</code> というグループがシステムに作成されます。これは、<span class="command"><strong>useradd</strong></span>、<span class="command"><strong>groupadd</strong></span>、および <span class="command"><strong>usermod</strong></span> コマンドを使用して行われます。これらのコマンドは適切な管理者権限を必要とします。これは、<code class="literal">root</code> によって実行される RPM インストールプロセスによってローカルに管理されるユーザーおよびグループ (<code class="filename">/etc/passwd</code> および <code class="filename">/etc/group</code> ファイルにリストされています) に必要です。
    </p><p>
      <code class="literal">mysql</code> ユーザーとしてログインすると、MySQL が<span class="quote">「<span class="quote">Invalid (old?) table or database name</span>」</span>エラーを表示し、<code class="filename">.mysqlgui</code>、<code class="filename">lost+found</code>、<code class="filename">.mysqlgui</code>、<code class="filename">.bash_history</code>、<code class="filename">.fonts.cache-1</code>、<code class="filename">.lesshst</code>、<code class="filename">.mysql_history</code>、<code class="filename">.profile</code>、<code class="filename">.viminfo</code>、および MySQL またはオペレーティングシステムのユーティリティーによって作成された同様のファイルが示されます。これらのエラーメッセージは無視しても、エラーメッセージの原因となっているファイルまたはディレクトリが不要であれば削除しても、安全です。
    </p><p>
      ローカル以外のユーザー管理 (LDAP、NIS、など) では、管理ツールが追加の認証 (パスワードなど) を要求することがあり、インストールを行うユーザーがその認証情報を提供しない場合は失敗します。失敗しても、RPM インストールは中止されずに正常に行われます。これは意図したものです。失敗した場合は意図した所有権の移動の一部が実行されておらず、システム管理者は、適切なユーザーおよびグループが存在することを手動で確認し、RPM spec ファイルのアクションに従って所有権を手動で移動することが推奨されます。
    </p><p>
      MySQL 5.6.11 では RPM spec ファイルが更新され、次のような影響があります。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          アップグレードでないインストール (既存の MySQL バージョンはインストールされていない) の場合、MySQL を <span class="command"><strong>yum</strong></span> を使用してインストールできます。
        </p></li><li class="listitem"><p>
          アップグレードの場合、それまでの MySQL インストールがあればクリーンアップする必要があります。実際には、アップデートは古いインストールを削除して新しいものをインストールすることによって実行されます。
        </p></li></ul></div><p>
      追加の詳細は、あとの方で説明します。
    </p><p>
      MySQL 5.6.11 以降のアップグレードでないインストールの場合、MySQL を <span class="command"><strong>yum</strong></span> を使用してインストールできます。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>yum install MySQL-server-<em class="replaceable"><code>NEWVERSION</code></em>.linux_glibc2.5.i386.rpm</code></strong>
</pre><p>
      MySQL 5.6.11 以降へのアップグレードの場合、アップグレードは古いインストールを削除して新しいものをインストールすることによって実行されます。そうするには、次の手順に従います。
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          既存の 5.6.<em class="replaceable"><code>X</code></em> インストールを削除します。<em class="replaceable"><code>OLDVERSION</code></em> は削除するバージョンです。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>rpm -e MySQL-server-<em class="replaceable"><code>OLDVERSION</code></em>.linux_glibc2.5.i386.rpm</code></strong>
</pre><p>
          この手順をすべてのインストール済み MySQL RPM に対して繰り返します。
        </p></li><li class="listitem"><p>
          新しいバージョンをインストールします。<em class="replaceable"><code>NEWVERSION</code></em> はインストールするバージョンです。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>rpm -ivh MySQL-server-<em class="replaceable"><code>NEWVERSION</code></em>.linux_glibc2.5.i386.rpm</code></strong>
</pre></li></ol></div><p>
      あるいは、削除とインストールは <span class="command"><strong>yum</strong></span> を使用して実行できます。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>yum remove MySQL-server-<em class="replaceable"><code>OLDVERSION</code></em>.linux_glibc2.5.i386.rpm</code></strong>
shell&gt; <strong class="userinput"><code>yum install MySQL-server-<em class="replaceable"><code>NEWVERSION</code></em>.linux_glibc2.5.i386.rpm</code></strong>
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="linux-installation-debian"></a>2.5.6 オラクルからの Debian パッケージを使用して MySQL を Linux にインストールする</h3></div></div></div><p>
      オラクルは、MySQL を Debian や Debian のと類似の Linux システムにインストールするための Debian パッケージを提供します。このパッケージは 2 種類のチャネルから入手可能です。

      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <a class="ulink" href="http://dev.mysql.com/downloads/repo/apt/" target="_top">MySQL APT Repository</a>。Debian 7、Ubuntu 12、および Ubuntu 14 の各プラットフォームをサポートします。詳細は、<a class="xref" href="installing.html#linux-installation-apt-repo" title="2.5.3 MySQL APT リポジトリを使用して MySQL を Linux にインストールする">セクション2.5.3「MySQL APT リポジトリを使用して MySQL を Linux にインストールする」</a>を参照してください。
          </p></li><li class="listitem"><p>
            <a class="ulink" href="http://dev.mysql.com/downloads/" target="_top">MySQL Developer Zone のダウンロード領域</a>。詳細は、<a class="xref" href="installing.html#getting-mysql" title="2.1.3 MySQL の取得方法">セクション2.1.3「MySQL の取得方法」</a>を参照してください。そこで入手可能な Debian パッケージと、インストールの手順についての情報を次に示します。

            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  <a class="indexterm" name="idm139979164585744"></a> <code class="literal">libaio</code> ライブラリがシステムにない場合は、それもインストールする必要がある場合があります。
                </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo apt-get install libaio1</code></strong>
</pre></li><li class="listitem"><p>
                  <span class="emphasis"><em>Debian 7、Ubuntu 12、および Ubuntu 14 の場合</em></span>:

                  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>
                        MySQL のさまざまなコンポーネントをインストールするために、MySQL Developer Zone ではさまざまな Debian パッケージが提供されています。推奨される方法は tarball バンドルを使用するものです。これには MySQL の基本的なセットアップに必要なパッケージが含まれます。tarball バンドルは、<code class="filename">mysql-server_<em class="replaceable"><code>MVER</code></em>-<em class="replaceable"><code>DVER</code></em>_<em class="replaceable"><code>CPU</code></em>.deb-bundle.tar</code> という形式の名前を持ちます。<em class="replaceable"><code>MVER</code></em> は MySQL のバージョン、<em class="replaceable"><code>DVER</code></em> は Linux 配布のバージョンです。次の表に示すように、<em class="replaceable"><code>CPU</code></em> 値は、パッケージのビルド対象になっているプロセッサのタイプまたはファミリを示します。

                        </p><div class="table"><a name="idm139979164575440"></a><p class="title"><b>表 2.9 MySQL Debian 7 および Ubuntu インストールパッケージの CPU 識別子</b></p><div class="table-contents"><table summary="MySQL Debian 7 および Ubuntu インストールパッケージの CPU 識別子" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col"><em class="replaceable"><code>CPU</code></em> 値</th><th scope="col">対象のプロセッサタイプまたはファミリ</th></tr></thead><tbody><tr><td scope="row"><code class="literal">i386</code></td><td>Pentium プロセッサ以上、32 ビット</td></tr><tr><td scope="row"><code class="literal">amd64</code></td><td>64 ビットの x86 プロセッサ</td></tr></tbody></table></div></div><p><br class="table-break">
                      </p></li><li class="listitem"><p>
                        tarball のダウンロード後、次のコマンドでアンパックします。

</p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>tar -xvf mysql-server_<em class="replaceable"><code>MVER</code></em>-<em class="replaceable"><code>DVER</code></em>_<em class="replaceable"><code>CPU</code></em>.deb-bundle.tar</code></strong>
</pre><p>
                      </p></li><li class="listitem"><p>
                        一般的には、次のコマンドで tarball からアンパックした <code class="filename">deb</code> パッケージをインストールします (サーバーパッケージのインストールに必要な追加の手順は、次の説明を参照してください)。

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo dpkg -i <em class="replaceable"><code>package-name</code></em>.deb</code></strong></pre><p>

                        4 つのパッケージをインストールします。

                        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                              データベースの共通ファイル (このパッケージはほかのものより前にインストールします):

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo dpkg -i mysql-common_<em class="replaceable"><code>MVER</code></em>-<em class="replaceable"><code>DVER</code></em>_<em class="replaceable"><code>CPU</code></em>.deb</code></strong></pre><p>
                            </p></li><li class="listitem"><p>
                              MySQL Server:
                            </p><p>
                              まず、データベースの共通ファイルのパッケージをインストールし (直前の行頭記号を参照してください)てから、次のコマンドでサーバーインストールを事前構成します。

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>dpkg-preconfigure mysql-community-server_<em class="replaceable"><code>MVER</code></em>-<em class="replaceable"><code>DVER</code></em>_<em class="replaceable"><code>CPU</code></em>.deb</code></strong></pre><p>

                              次に、2 つのリクエストがあります。

                              </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                                    MySQL インストールの root ユーザーのパスワードを提供します。

                                    </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
                                        設定した root パスワードを必ず記憶してください。あとでパスワードを設定するユーザーは、ダイアログボックスの <span class="guilabel">password</span> フィールドをブランクのままにして、<span class="guibutton">「OK」</span>のみを押します。ただし、データベースの root アカウントをパスワードでセキュアにするまで、MySQL Server への匿名でのアクセスが可能なため、プログラム <a class="link" href="programs.html#mysql-secure-installation" title="4.4.5 mysql_secure_installation — MySQL インストールのセキュリティー改善">mysql_secure_installation</a> を使用してすぐにパスワードを設定することが非常に重要です。
                                      </p></div><p>
                                  </p></li><li class="listitem"><p>
                                    テストデータベースをインストールするかどうかを、<span class="quote">「<span class="quote">Yes</span>」</span>または<span class="quote">「<span class="quote">No</span>」</span>で示します。本番環境では、テストデータベースをインストールすることが推奨されます。
                                  </p></li></ul></div><p>

                              次に、次のコマンドでサーバーパッケージをインストールします。

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo dpkg -i mysql-community-server_<em class="replaceable"><code>MVER</code></em>-<em class="replaceable"><code>DVER</code></em>_<em class="replaceable"><code>CPU</code></em>.deb</code></strong></pre><p>
                            </p></li><li class="listitem"><p>
                              MySQL クライアント:

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo dpkg -i mysql-community-client_<em class="replaceable"><code>MVER</code></em>-<em class="replaceable"><code>DVER</code></em>_<em class="replaceable"><code>CPU</code></em>.deb</code></strong></pre><p>
                            </p></li><li class="listitem"><p>
                              MySQL 共有クライアントライブラリ:

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo dpkg -i libmysqlclient18_<em class="replaceable"><code>MVER</code></em>-<em class="replaceable"><code>DVER</code></em>_<em class="replaceable"><code>CPU</code></em>.deb</code></strong></pre><p>
                            </p></li></ul></div><p>

                        ファイルがシステムにインストールされる場所は次のとおりです。

                        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                              すべての構成ファイル (<code class="filename">my.cnf</code> など) は <code class="filename">/etc</code> の下
                            </p></li><li class="listitem"><p>
                              すべてのバイナリ、ライブラリ、ヘッダーなどは <code class="filename">/usr</code> の下
                            </p></li><li class="listitem"><p>
                              データディレクトリは <code class="filename">/var</code> の下
                            </p></li></ul></div><p>
                      </p></li></ul></div><p>
                </p></li><li class="listitem"><p>
                  <span class="emphasis"><em>Debian 6 の場合:</em></span>

                  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>
                        MySQL Developer Zone から直接ダウンロードされた Debian パッケージファイルは、<code class="filename">mysql-<em class="replaceable"><code>MVER</code></em>-<em class="replaceable"><code>DVER</code></em>-<em class="replaceable"><code>CPU</code></em>.deb</code> という形式の名前を持ちます。<em class="replaceable"><code>MVER</code></em> は MySQL のバージョン、<em class="replaceable"><code>DVER</code></em> は Debian のバージョンです。次の表に示すように、<em class="replaceable"><code>CPU</code></em> 値は、パッケージのビルド対象になっているプロセッサのタイプまたはファミリを示します。

                        </p><div class="table"><a name="idm139979164519968"></a><p class="title"><b>表 2.10 MySQL Debian 6 インストールパッケージの CPU 識別子</b></p><div class="table-contents"><table summary="MySQL Debian 6 インストールパッケージの CPU 識別子" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col"><em class="replaceable"><code>CPU</code></em> 値</th><th scope="col">対象のプロセッサタイプまたはファミリ</th></tr></thead><tbody><tr><td scope="row"><code class="literal">i686</code></td><td>Pentium プロセッサ以上、32 ビット</td></tr><tr><td scope="row"><code class="literal">x86_64</code></td><td>64 ビットの x86 プロセッサ</td></tr></tbody></table></div></div><p><br class="table-break">
                      </p></li><li class="listitem"><p>
                        Debian パッケージのダウンロード後、次のコマンドでインストールします。
                      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>dpkg -i mysql-<em class="replaceable"><code>MVER</code></em>-<em class="replaceable"><code>DVER</code></em>-<em class="replaceable"><code>CPU</code></em>.deb</code></strong>
</pre><p>
                        Debian パッケージは、ファイルを <code class="option">/opt/mysql/server-5.6</code> ディレクトリにインストールします。
                      </p></li></ul></div><p>
                </p></li></ul></div><p>
          </p></li></ul></div><p>
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        MySQL の Debian 配布はほかのベンダーからも提供されています。それらは、オラクルによってビルドされたものとは (通信セットアップなどの) 機能や規則が異なる場合があり、それらのインストールにはこのマニュアルの説明が必ずしも適用されないことに注意してください。代わりに、ベンダーの説明書を参照してください。
      </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="linux-installation-native"></a>2.5.7 ネイティブソフトウェアリポジトリから MySQL を Linux にインストールする</h3></div></div></div><p>
      

      多くの Linux 配布は、ネイティブソフトウェアリポジトリの中に 1 つのバージョンの MySQL Server、クライアントツール、および開発コンポーネントを含み、プラットフォームの標準パッケージ管理システムでインストールできます。このセクションでは、これらのパッケージ管理システムを使用して MySQL をインストールするための基本的な手順を説明します。
    </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
        ネイティブパッケージは多くの場合、使用可能な最新のリリースから数バージョン遅れています。また、開発マイルストーンリリース (DMR) は、通常ネイティブリポジトリで使用可能にはならないため、これらをインストールすることも通常できません。次に進む前に、<a class="xref" href="installing.html#linux-installation" title="2.5 Linux に MySQL をインストールする">セクション2.5「Linux に MySQL をインストールする」</a>に記述されているその他のインストールオプションを確認することが推奨されます。

        
      </p></div><p>
      配布固有の手順を次に示します。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="bold"><strong>Red Hat Linux、Fedora、CentOS</strong></span>
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            EL5、EL6、または EL7 ベースの Linux プラットフォームおよび Fedora 20 または 21 では、プラットフォームのネイティブソフトウェアリポジトリの代わりに MySQL Yum リポジトリを使用して MySQL をインストールできます。詳細は、<a class="xref" href="installing.html#linux-installation-yum-repo" title="2.5.1 MySQL Yum リポジトリを使用して MySQL を Linux にインストールする">セクション2.5.1「MySQL Yum リポジトリを使用して MySQL を Linux にインストールする」</a> を参照してください。

            
          </p></div><p>
          Red Hat および同様の配布では、MySQL 配布はいくつかの個別のパッケージ (クライアントツール用の <code class="literal">mysql</code>、サーバーおよび関連ツール用の <code class="literal">mysql-server</code>、およびライブラリ用の <code class="literal">mysql-libs</code>) にわかれています。Perl や Python など、異なる言語および環境からの接続性を提供する場合は、ライブラリは必須です。
        </p><p>
          インストールするには、<span class="command"><strong>yum</strong></span> コマンドを使用してインストールするパッケージを指定します。例:
        </p><pre class="programlisting">
root-shell&gt; yum install mysql mysql-server mysql-libs mysql-server
Loaded plugins: presto, refresh-packagekit
Setting up Install Process
Resolving Dependencies
--&gt; Running transaction check
---&gt; Package mysql.x86_64 0:5.1.48-2.fc13 set to be updated
---&gt; Package mysql-libs.x86_64 0:5.1.48-2.fc13 set to be updated
---&gt; Package mysql-server.x86_64 0:5.1.48-2.fc13 set to be updated
--&gt; Processing Dependency: perl-DBD-MySQL for package: mysql-server-5.1.48-2.fc13.x86_64
--&gt; Running transaction check
---&gt; Package perl-DBD-MySQL.x86_64 0:4.017-1.fc13 set to be updated
--&gt; Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package               Arch          Version               Repository      Size
================================================================================
Installing:
 mysql                 x86_64        5.1.48-2.fc13         updates        889 k
 mysql-libs            x86_64        5.1.48-2.fc13         updates        1.2 M
 mysql-server          x86_64        5.1.48-2.fc13         updates        8.1 M
Installing for dependencies:
 perl-DBD-MySQL        x86_64        4.017-1.fc13          updates        136 k

Transaction Summary
================================================================================
Install       4 Package(s)
Upgrade       0 Package(s)

Total download size: 10 M
Installed size: 30 M
Is this ok [y/N]: y
Downloading Packages:
Setting up and reading Presto delta metadata
Processing delta metadata
Package(s) data still to download: 10 M
(1/4): mysql-5.1.48-2.fc13.x86_64.rpm                    | 889 kB     00:04     
(2/4): mysql-libs-5.1.48-2.fc13.x86_64.rpm               | 1.2 MB     00:06     
(3/4): mysql-server-5.1.48-2.fc13.x86_64.rpm             | 8.1 MB     00:40     
(4/4): perl-DBD-MySQL-4.017-1.fc13.x86_64.rpm            | 136 kB     00:00     
--------------------------------------------------------------------------------
Total                                           201 kB/s |  10 MB     00:52     
Running rpm_check_debug
Running Transaction Test
Transaction Test Succeeded
Running Transaction
  Installing     : mysql-libs-5.1.48-2.fc13.x86_64                          1/4 
  Installing     : mysql-5.1.48-2.fc13.x86_64                               2/4 
  Installing     : perl-DBD-MySQL-4.017-1.fc13.x86_64                       3/4 
  Installing     : mysql-server-5.1.48-2.fc13.x86_64                        4/4 

Installed:
  mysql.x86_64 0:5.1.48-2.fc13            mysql-libs.x86_64 0:5.1.48-2.fc13    
  mysql-server.x86_64 0:5.1.48-2.fc13    

Dependency Installed:
  perl-DBD-MySQL.x86_64 0:4.017-1.fc13                                          

Complete!
</pre><p>
          MySQL および MySQL Server はすでにインストールされています。サンプル構成ファイルは <code class="filename">/etc/my.cnf</code> にインストールされます。サーバーの起動および停止のための init スクリプトは、<code class="filename">/etc/init.d/mysqld</code> にインストールされています。MySQL Server の起動には <span class="command"><strong>service</strong></span> を使用します。
        </p><pre class="programlisting">
root-shell&gt; service mysqld start
</pre><p>
          ブート中にサーバーを自動的に起動および停止できるようにするには、<span class="command"><strong>chkconfig</strong></span> を使用します。
        </p><pre class="programlisting">
root-shell&gt; chkconfig --levels 235 mysqld on
</pre><p>
          これにより、MySQL Server が指定した実行レベルで自動的に起動 (および停止) されます。
        </p><p>
          データベーステーブルがまだ存在していない場合は、自動的に作成されます。ただし、サーバーで <span class="command"><strong>mysql_secure_installation</strong></span> を実行して root のパスワードを設定してください。
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>Debian、Ubuntu、Kubuntu</strong></span>
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            Debian 7、Ubuntu 12、および Ubuntu 14 では、プラットフォームのネイティブソフトウェアリポジトリの代わりに <a class="ulink" href="http://dev.mysql.com/downloads/repo/apt/" target="_top">MySQL APT リポジトリ</a>を使用して MySQL をインストールできます。詳細は、<a class="xref" href="installing.html#linux-installation-apt-repo" title="2.5.3 MySQL APT リポジトリを使用して MySQL を Linux にインストールする">セクション2.5.3「MySQL APT リポジトリを使用して MySQL を Linux にインストールする」</a> を参照してください。
          </p></div><p>
          Debian および関連する配布では、ソフトウェアリポジトリに MySQL のパッケージが <code class="literal">mysql-client</code> と <code class="literal">mysql-server</code> の 2 つあります。それぞれクライアントコンポーネントとサーバーコンポーネントです。希望するバージョンの MySQL を確実にインストールするため、<code class="literal">mysql-client-5.1</code> のように明示的にバージョンを指定するとよいでしょう。
        </p><p>
          依存関係を含めてダウンロードしてインストールするには、インストールするパッケージを指定して <span class="command"><strong>apt-get</strong></span> コマンドを使用します。
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            入手可能な最新バージョンを確実にダウンロードするために、インストールの前に <code class="literal">apt-get</code> インデックスファイルを更新してください。
          </p></div><p>
          MySQL パッケージのサンプルインストールは次のようになります (わかりやすくするため一部のセクションは省略しています)。
        </p><pre class="programlisting">
root-shell&gt; apt-get install mysql-client-5.1 mysql-server-5.1
Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following packages were automatically installed and are no longer required:
  linux-headers-2.6.28-11 linux-headers-2.6.28-11-generic
Use 'apt-get autoremove' to remove them.
The following extra packages will be installed:
  bsd-mailx libdbd-mysql-perl libdbi-perl libhtml-template-perl
  libmysqlclient15off libmysqlclient16 libnet-daemon-perl libplrpc-perl mailx
  mysql-common postfix
Suggested packages:
  dbishell libipc-sharedcache-perl tinyca procmail postfix-mysql postfix-pgsql
  postfix-ldap postfix-pcre sasl2-bin resolvconf postfix-cdb
The following NEW packages will be installed
  bsd-mailx libdbd-mysql-perl libdbi-perl libhtml-template-perl
  libmysqlclient15off libmysqlclient16 libnet-daemon-perl libplrpc-perl mailx
  mysql-client-5.1 mysql-common mysql-server-5.1 postfix
0 upgraded, 13 newly installed, 0 to remove and 182 not upgraded.
Need to get 1907kB/25.3MB of archives.
After this operation, 59.5MB of additional disk space will be used.
Do you want to continue [Y/n]? Y
Get: 1 http://gb.archive.ubuntu.com jaunty-updates/main mysql-common 5.1.30really5.0.75-0ubuntu10.5 [63.6kB]
Get: 2 http://gb.archive.ubuntu.com jaunty-updates/main libmysqlclient15off 5.1.30really5.0.75-0ubuntu10.5 [1843kB]
Fetched 1907kB in 9s (205kB/s)                                                 
Preconfiguring packages ...
Selecting previously deselected package mysql-common.
(Reading database ... 121260 files and directories currently installed.)
...
Processing 1 added doc-base file(s)...
Registering documents with scrollkeeper...
Setting up libnet-daemon-perl (0.43-1) ...
Setting up libplrpc-perl (0.2020-1) ...
Setting up libdbi-perl (1.607-1) ...
Setting up libmysqlclient15off (5.1.30really5.0.75-0ubuntu10.5) ...

Setting up libdbd-mysql-perl (4.008-1) ...
Setting up libmysqlclient16 (5.1.31-1ubuntu2) ...

Setting up mysql-client-5.1 (5.1.31-1ubuntu2) ...

Setting up mysql-server-5.1 (5.1.31-1ubuntu2) ...
 * Stopping MySQL database server mysqld
   ...done.
100825 11:46:15  InnoDB: Started; log sequence number 0 46409
100825 11:46:15  InnoDB: Starting shutdown...
100825 11:46:17  InnoDB: Shutdown completed; log sequence number 0 46409
100825 11:46:17 [Warning] Forcing shutdown of 1 plugins
 * Starting MySQL database server mysqld
   ...done.
 * Checking for corrupt, not cleanly closed and upgrade needing tables.
...
Processing triggers for libc6 ...
ldconfig deferred processing now taking place
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            <span class="command"><strong>apt-get</strong></span> コマンドは、典型的なツールおよびアプリケーション環境を提供するために、MySQL Server をはじめとするいくつかのパッケージをインストールします。これは、メインの MySQL パッケージに加えて多数のパッケージをインストールするということを意味します。
          </p></div><p>
          インストール中、初期データベースが作成され、MySQL root のパスワード (および確認) を求められます。構成ファイルが <code class="filename">/etc/mysql/my.cnf</code> に作成されています。init スクリプトが <code class="filename">/etc/init.d/mysql</code> に作成されています。
        </p><p>
          サーバーはすでに起動されています。次を使用してサーバーを自動的に起動および停止できます。
        </p><pre class="programlisting">
root-shell&gt; service mysql [start|stop]
</pre><p>
          このサービスは自動的に 2、3、および 4 の実行レベルに追加され、stop スクリプトは単独のシャットダウンおよび再起動レベルにあります。
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>Gentoo Linux</strong></span>
        </p><p>
          ソースベースの配布として、Gentoo への MySQL のインストールには、ソースのダウンロード、Gentoo 固有のパッチの適用、および MySQL Server のコンパイルとインストールが含まれます。このプロセスは、<span class="command"><strong>emerge</strong></span> コマンドにより自動的に処理されます。インストールする MySQL のバージョンによっては、選択したプラットフォームの固有のバージョンをマスク解除する必要がある場合があります。
        </p><p>
          MySQL Server およびクライアントツールは、単一のパッケージ <code class="literal">dev-db/mysql</code> で提供されます。インストールに使用できるバージョンのリストは、パッケージの portage ディレクトリを見ることで取得できます。
        </p><pre class="programlisting">
root-shell&gt; ls /usr/portage/dev-db/mysql/mysql-5.1*
mysql-5.1.39-r1.ebuild
mysql-5.1.44-r1.ebuild
mysql-5.1.44-r2.ebuild
mysql-5.1.44-r3.ebuild
mysql-5.1.44.ebuild
mysql-5.1.45-r1.ebuild
mysql-5.1.45.ebuild
mysql-5.1.46.ebuild
</pre><p>
          特定の MySQL バージョンをインストールするには、アトム全体を指定する必要があります。例:
        </p><pre class="programlisting">
root-shell&gt; emerge =dev-db/mysql-5.1.46
</pre><p>
          より簡単な方法は、<code class="literal">virtual/mysql-5.1</code> パッケージを使用することで、最新のバージョンがインストールされます。
        </p><pre class="programlisting">
root-shell&gt; emerge =virtual/mysql-5.1
</pre><p>
          パッケージが (現在のプラットフォームに対してテストまたは認証されていないため) マスクされている場合は、<code class="literal">ACCEPT_KEYWORDS</code> 環境変数を使用します。例:
        </p><pre class="programlisting">
root-shell&gt; ACCEPT_KEYWORDS="~x86" emerge =virtual/mysql-5.1
</pre><p>
          インストール後、<span class="command"><strong>mysql_install_db</strong></span> を使用して新規データベースを作成し、MySQL の root ユーザーのパスワードを設定してください。構成インタフェースを使用してパスワードを設定し、初期データベースを作成できます。
        </p><pre class="programlisting">
root-shell&gt; emerge --config =dev-db/mysql-5.1.46
</pre><p>
          サンプル構成ファイルが、自動的に <code class="filename">/etc/mysql/my.cnf</code> に作成され、init スクリプトが <code class="filename">/etc/init.d/mysql</code> に作成されています。
        </p><p>
          MySQL を、通常の (デフォルト) 実行レベルで自動的に起動できるようにするには、次を使用できます。
        </p><pre class="programlisting">
root-shell&gt; rc-update add mysql default
</pre></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="uln-installation"></a>2.6 Unbreakable Linux Network (ULN) を使用した MySQL のインストール</h2></div></div></div><p>
    <a class="xref" href="installing.html#linux-installation" title="2.5 Linux に MySQL をインストールする">セクション2.5「Linux に MySQL をインストールする」</a>で説明するように、Linux は、MySQL をインストールするための何種類かのソリューションをサポートします。1 つの方法はこのセクションで説明しますが、オラクルの Unbreakable Linux Network (ULN) からインストールすることです。Oracle Linux および ULN の詳細は、<a class="ulink" href="http://linux.oracle.com/" target="_top">http://linux.oracle.com/</a>にあります。
  </p><p>
    ULN を使用するには、ULN ログインを取得し、ULN でのインストールに使用するマシンを登録する必要があります。これは、<a class="ulink" href="https://linux.oracle.com/uln_faq.html" target="_top">ULN FAQ</a> で詳細に説明しています。このページでは、パッケージのインストールと更新の方法も説明しています。MySQL パッケージは、ULN の、使用しているシステムアーキテクチャーの <span class="quote">「<span class="quote">MySQL for Oracle Linux 6</span>」</span> および <span class="quote">「<span class="quote">MySQL for Oracle Linux 7</span>」</span> のチャネルにあります。
  </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
      本書の記述の時点では、ULN は Oracle Linux 6 および Oracle Linux 7 の MySQL 5.6 を提供します。
    </p></div><p>
    ULN を使用して MySQL をインストールしたあと、<a class="link" href="installing.html#linux-installation-native" title="2.5.7 ネイティブソフトウェアリポジトリから MySQL を Linux にインストールする">このセクション</a>、特に<a class="xref" href="installing.html#linux-installation-rpm" title="2.5.5 RPM パッケージを使用して MySQL を Linux にインストールする">セクション2.5.5「RPM パッケージを使用して MySQL を Linux にインストールする」</a>に、サーバーの起動および停止に関する情報があります。
  </p><p>
    既存の MySQL インストールを ULN を使用するインストールに更新している場合は、<span class="command"><strong>mysqldump</strong></span> を使用してデータをエクスポートし、既存のインストールを削除し、MySQL を ULN からインストールし、エクスポートしたデータを新しくインストールされた MySQL にロードするという手順が推奨されます。
  </p><p>
    アップグレードしようとしている既存の MySQL インストールが以前のリリースシリーズ (MySQL 5.6 より前) である場合は、MySQL のアップグレードに関するセクション、<a class="xref" href="installing.html#upgrading" title="2.11.1 MySQL のアップグレード">セクション2.11.1「MySQL のアップグレード」</a>を必ずお読みください。
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="solaris-installation"></a>2.7 Solaris および OpenSolaris に MySQL をインストールする</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#solaris-installation-pkg">2.7.1 Solaris PKG を使用して Solaris に MySQL をインストールする</a></span></dt><dt><span class="section"><a href="installing.html#solaris-installation-opensolaris">2.7.2 IPS を使用して MySQL を OpenSolaris にインストールする</a></span></dt></dl></div><a class="indexterm" name="idm139979164415040"></a><a class="indexterm" name="idm139979164412928"></a><a class="indexterm" name="idm139979164410912"></a><a class="indexterm" name="idm139979164408832"></a><a class="indexterm" name="idm139979164407392"></a><a class="indexterm" name="idm139979164405296"></a><a class="indexterm" name="idm139979164403280"></a><a class="indexterm" name="idm139979164401216"></a><a class="indexterm" name="idm139979164399840"></a><p>
    Solaris および OpenSolaris の MySQL は、さまざまな形式で使用可能です。
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        ネイティブの Solaris PKG 形式を使用するインストールの詳細は、<a class="xref" href="installing.html#solaris-installation-pkg" title="2.7.1 Solaris PKG を使用して Solaris に MySQL をインストールする">セクション2.7.1「Solaris PKG を使用して Solaris に MySQL をインストールする」</a>を参照してください。
      </p></li><li class="listitem"><p>
        OpenSolaris では、SMF 管理コマンドを使用してインストールを制御できるように、標準パッケージリポジトリに、Service Management Framework (SMF) のエントリを含む OpenSolaris 用に特別にビルドされた MySQL パッケージが含まれます。詳細については、<a class="xref" href="installing.html#solaris-installation-opensolaris" title="2.7.2 IPS を使用して MySQL を OpenSolaris にインストールする">セクション2.7.2「IPS を使用して MySQL を OpenSolaris にインストールする」</a>を参照してください。
      </p></li><li class="listitem"><p>
        標準の <code class="literal">tar</code> バイナリインストールを使用するには、<a class="xref" href="installing.html#binary-installation" title="2.2 一般的なバイナリを使用した MySQL の Unix/Linux へのインストール">セクション2.2「一般的なバイナリを使用した MySQL の Unix/Linux へのインストール」</a>の注記を参照してください。インストール前後に必要となる可能性のある、Solaris 固有の注記については、このセクションの最後の注記およびヒントをチェックしてください。
      </p></li></ul></div><p>
    tarball または PKG 形式の Solaris 用のバイナリ MySQL 配布を取得するには、<a class="ulink" href="http://dev.mysql.com/downloads/mysql/5.6.html" target="_top">http://dev.mysql.com/downloads/mysql/5.6.html</a> にアクセスしてください。
  </p><p>
    MySQL を Solaris にインストールして使用する上で知っておくべき追加の注記:
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        MySQL を <code class="literal">mysql</code> ユーザーおよびグループで使用する場合は、<span class="command"><strong>groupadd</strong></span> コマンドおよび <span class="command"><strong>useradd</strong></span> コマンドを使用します。
      </p><pre class="programlisting">
groupadd mysql
useradd -g mysql mysql
</pre></li><li class="listitem"><p>
        MySQL をバイナリの tarball 配布で Solaris にインストールする場合、MySQL の配布をアンパックする前にすでに問題が生じることがあります。これは Solaris の <span class="command"><strong>tar</strong></span> が長いファイル名を扱えないためです。これは、MySQL をアンパックするときにエラーが表示される場合があることを意味します。
      </p><p>
        これが発生したら、GNU <span class="command"><strong>tar</strong></span> (<span class="command"><strong>gtar</strong></span>) を使用して配布をアンパックする必要があります。Solaris 10 および OpenSolaris では、<span class="command"><strong>gtar</strong></span> は通常 <code class="filename">/usr/sfw/bin/gtar</code> に置かれていますが、デフォルトのパス定義に含まれていない場合があります。
      </p></li><li class="listitem"><p>
        Solaris 10 を x86_64 で使用する場合、<code class="literal">InnoDB</code> ファイルを <code class="literal">forcedirectio</code> オプションで保持するファイルシステムをマウントするようにしてください。(デフォルトではこのオプションなしでマウントされます。)そうしないと <code class="literal">InnoDB</code> ストレージエンジンをこのプラットフォームで使用した場合性能が大幅に劣化します。
      </p></li><li class="listitem"><p>
        MySQL を自動的に起動する場合は、<code class="filename">support-files/mysql.server</code> を <code class="filename">/etc/init.d</code> にコピーして、それに <code class="filename">/etc/rc3.d/S99mysql.server</code> という名前のシンボリックリンクを作成します。
      </p></li><li class="listitem"><p>
        あまりにも多くのプロセスが急激に <span class="command"><strong>mysqld</strong></span> に接続を試みた場合、MySQL ログに次のエラーが記録されます。
      </p><pre class="programlisting">
Error in accept: Protocol error
</pre><p>
        この問題の回避策としてサーバーを <code class="option">--back_log=50</code> オプションで起動するとよいでしょう。
      </p></li><li class="listitem"><p>
        Solaris でコアファイルの生成を構成するには、<span class="command"><strong>coreadm</strong></span> コマンドを使用します。<code class="literal">setuid()</code> アプリケーションでコアを生成するとセキュリティー上の問題があるため、デフォルトでは Solaris は <code class="literal">setuid()</code> プログラムではコアファイルをサポートしません。ただし、この動作は <span class="command"><strong>coreadm</strong></span> を使用して変更できます。現在のユーザーに対して <code class="literal">setuid()</code> コアファイルを有効にすると、モード 600 を使用して生成され、スーパーユーザーによって所有されます。
      </p></li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="solaris-installation-pkg"></a>2.7.1 Solaris PKG を使用して Solaris に MySQL をインストールする</h3></div></div></div><p>
      バイナリ tarball 配布ではなく、ネイティブの Solaris PKG 形式を使用して、バイナリパッケージを使用して MySQL を Solaris および OpenSolaris にインストールできます。
    </p><p>
      このパッケージを使用するには、対応する <code class="filename">mysql-VERSION-solaris10-PLATFORM.pkg.gz</code> ファイルをダウンロードしてから圧縮解除します。例:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>gunzip mysql-<em class="replaceable"><code>5.6.23</code></em>-solaris10-x86_64.pkg.gz</code></strong>
</pre><p>
      新しいパッケージをインストールするには、<span class="command"><strong>pkgadd</strong></span> を使用して画面の指示に従います。この操作を実行するにはルート権限が必要です。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>pkgadd -d mysql-<em class="replaceable"><code>5.6.23</code></em>-solaris10-x86_64.pkg</code></strong>

The following packages are available:
  1  mysql     MySQL Community Server (GPL)
               (i86pc) 5.6.23

Select package(s) you wish to process (or 'all' to process
all packages). (default: all) [?,??,q]: 
</pre><p>
      PKG インストーラは、必要なすべてのファイルおよびツールをインストールし、そのあとデータベースが存在しない場合はデータベースを初期化します。インストールを完了するには、インストールの最後の指示に示されるように、MySQL のルートパスワードを設定してください。あるいは、インストールに同梱されている <span class="command"><strong>mysql_secure_installation</strong></span> スクリプトを実行することもできます。
    </p><p>
      デフォルトでは、PKG パッケージは MySQL をルートパス <code class="filename">/opt/mysql</code> にインストールします。インストールのルートパスを変更できるのは <span class="command"><strong>pkgadd</strong></span> を使用している場合のみで、これを使用すると MySQL を異なる Solaris ゾーンにインストールできます。特定のディレクトリにインストールする必要がある場合は、バイナリの <span class="command"><strong>tar</strong></span> ファイルの配布を使用してください。
    </p><p>
      <code class="literal">pkg</code> インストーラは、適切な MySQL スタートアップスクリプトを <code class="literal">/etc/init.d/mysql</code> にコピーします。MySQL を自動的にスタートアップおよびシャットダウンできるようにするためには、このファイルと init スクリプトディレクトリとの間にリンクを作成してください。たとえば、MySQL の安全なスタートアップおよびシャットダウンを確実にするには、次のコマンドを使用して適切なリンクを追加します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ln /etc/init.d/mysql /etc/rc3.d/S91mysql</code></strong>
shell&gt; <strong class="userinput"><code>ln /etc/init.d/mysql /etc/rc0.d/K02mysql</code></strong>
</pre><p>
      MySQL を削除する場合、インストールされるパッケージ名は <code class="literal">mysql</code> です。これを <span class="command"><strong>pkgrm</strong></span> コマンドと合わせて使用してインストールを削除できます。
    </p><p>
      Solaris パッケージファイル形式を使用している場合にアップグレードするには、更新パッケージをインストールする前に既存のインストールを削除する必要があります。パッケージを削除しても既存のデータベース情報は削除されません。サーバー、バイナリ、およびサポートファイルのみが削除されます。したがって、通常のアップグレード手順は次のようになります。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqladmin shutdown</code></strong>
shell&gt; <strong class="userinput"><code>pkgrm mysql</code></strong>
shell&gt; <strong class="userinput"><code>pkgadd -d mysql-<em class="replaceable"><code>5.6.23</code></em>-solaris10-x86_64.pkg</code></strong>
shell&gt; <strong class="userinput"><code>mysqld_safe &amp;</code></strong>
shell&gt; <strong class="userinput"><code>mysql_upgrade</code></strong>
</pre><p>
      アップグレードを実行する前に、<a class="xref" href="installing.html#upgrading-downgrading" title="2.11 MySQL のアップグレードとダウングレード">セクション2.11「MySQL のアップグレードとダウングレード」</a>の注記を確認してください。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="solaris-installation-opensolaris"></a>2.7.2 IPS を使用して MySQL を OpenSolaris にインストールする</h3></div></div></div><p>
      OpenSolaris では、MySQL の標準パッケージはコアリポジトリにあります。MySQL パッケージは MySQL の特定のリリースに基づいており、定期的に更新されます。最新のリリースは、ネイティブの Solaris PKG、<code class="literal">tar</code>、またはソースインストールを使用する必要があります。ネイティブ OpenSolaris パッケージは、ネイティブサービス管理ツールを使用して、自動スタートアップおよびリカバリなど MySQL インストールを容易に制御できるように、SMF ファイルを含みます。
    </p><p>
      MySQL を OpenSolaris にインストールするには、<span class="command"><strong>pkg</strong></span> コマンドを使用します。root としてログインする必要があります。あるいは、次の例に示すように <span class="command"><strong>pfexec</strong></span> ツールを使用します。
    </p><pre class="programlisting">shell&gt; pfexec pkg install SUNWmysql56</pre><p>
      パッケージセットは、MySQL クライアントライブラリを含む <code class="literal">SUNWmysql56lib</code>、SMF および構成ファイルなどのルートコンポーネントを含む <code class="literal">SUNWmysql56r</code>、およびスクリプト、バイナリツール、およびその他のファイルを含む <code class="literal">SUNWmysql56u</code> の、3 つの個別のパッケージをインストールします。これらのパッケージは、対応するコンポーネントのみが必要な場合は個別にインストールできます。
    </p><p>
      MySQL ファイルは <code class="filename">/usr/mysql</code> にインストールされ、サブディレクトリ (<code class="filename">bin</code>、<code class="filename">lib</code>、など.) をバージョン固有のディレクトリにシンボリックリンクします。MySQL 5.6 では、完全なインストールは <code class="filename">/usr/mysql/5.6</code> に置かれます。デフォルトのデータディレクトリは <code class="filename">/var/mysql/5.6/data</code> です。構成ファイルは <code class="filename">/etc/mysql/5.6/my.cnf</code> にインストールされます。このレイアウトにより、MySQL の複数のバージョンを、ほかのバージョンからのデータおよびバイナリを上書きすることなくインストールできます。
    </p><p>
      インストールが終了したら、<span class="command"><strong>mysql_install_db</strong></span> を実行してデータベースを初期化し、<span class="command"><strong>mysql_secure_installation</strong></span> を使用してインストールをセキュアにします。
    </p><h4><a name="idm139979164315728"></a>SMF を使用する MySQL インストールの管理</h4><p>
      インストールが終了したら、インストール済みの SMF 構成を使用して MySQL Server を起動および停止できます。サービス名は <code class="literal">mysql</code>、あるいは複数のバージョンをインストールしている場合は、<code class="literal">mysql:version_56</code> のようにフルバージョン名を使用してください。MySQL を起動して、ブート時に起動できるようにするには:
    </p><pre class="programlisting">shell&gt; svcadm enable mysql</pre><p>
      ブート時の MySQL の起動を無効にし、MySQL Server が実行している場合はシャットダウンするには、次を使用します。
    </p><pre class="programlisting">shell&gt; svcadm disable mysql</pre><p>
      たとえば構成ファイルの変更後などに MySQL を再起動するには、<code class="literal">restart</code> オプションを使用します。
    </p><pre class="programlisting">shell&gt; svcadm restart mysql</pre><p>
      SMF を使用してデータディレクトリを構成し、フル 64 ビットモードを有効にすることも可能です。たとえば、MySQL が使用するデータディレクトリを設定するには:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>svccfg </code></strong>
svc:&gt; <strong class="userinput"><code>select mysql:version_56 </code></strong>
<strong class="userinput"><code>svc:/application/database/mysql:version_56&gt; setprop mysql/data=/data0/mysql</code></strong>
  </pre><p>
      デフォルトでは、32 ビットバイナリが使用されます。64 ビットプラットフォームで 64 ビットサーバーを有効にするには、<code class="literal">enable_64bit</code> パラメータを設定します。例:
    </p><pre class="programlisting">svc:/application/database/mysql:version_56&gt; setprop mysql/enable_64bit=1 </pre><p>
      これらのオプションの設定後、SMF のリフレッシュが必要です。
    </p><pre class="programlisting">shell&gt; svcadm refresh mysql</pre></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="freebsd-installation"></a>2.8 FreeBSD に MySQL をインストールする</h2></div></div></div><p>
    このセクションでは、FreeBSD Unix のバリアントへの MySQL のインストールに関する情報を提供します。
  </p><p>
    オラクルが提供するバイナリ配布を使用して、MySQL を FreeBSD にインストールできます。詳細については、<a class="xref" href="installing.html#binary-installation" title="2.2 一般的なバイナリを使用した MySQL の Unix/Linux へのインストール">セクション2.2「一般的なバイナリを使用した MySQL の Unix/Linux へのインストール」</a>を参照してください。
  </p><p>
    MySQL のインストールでもっとも容易な (かつ推奨される) 方法は <span class="command"><strong>mysql-server</strong></span> ポートおよび <code class="literal">mysql-client</code> ポートを使用することです。それらは <a class="ulink" href="http://www.freebsd.org/" target="_top">http://www.freebsd.org/</a> で入手できます。これらのポートを使用することで次のメリットがあります。
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        使用している FreeBSD バージョンで動作することが知られている、すべての最適化を行なった実働可能な MySQL。
      </p></li><li class="listitem"><p>
        自動構成およびビルド。
      </p></li><li class="listitem"><p>
        <code class="filename">/usr/local/etc/rc.d</code> にインストールされたスタートアップスクリプト。
      </p></li><li class="listitem"><p>
        どのファイルがインストールされているかを確認するための <code class="literal">pkg_info -L</code> の使用。
      </p></li><li class="listitem"><p>
        使用しているマシンで MySQL が必要でなくなった場合にそれを削除できる <code class="literal">pkg_delete</code> の使用。
      </p></li></ul></div><p>
    MySQL ビルドプロセスが機能するには GNU make (<span class="command"><strong>gmake</strong></span>) が必要です。GNU <span class="command"><strong>make</strong></span> が利用できない場合、MySQL をコンパイルする前にインストールする必要があります。
  </p><p>
    ポートシステムを使用してインストールするには:
  </p><pre class="programlisting">
# cd /usr/ports/databases/mysql51-server
# make
...
# cd /usr/ports/databases/mysql51-client
# make
...
</pre><p>
    標準ポートインストールでは、サーバーは <code class="filename">/usr/local/libexec/mysqld</code> に置かれ、MySQL Server のスタートアップスクリプトは <code class="filename">/usr/local/etc/rc.d/mysql-server</code> に置かれます。
  </p><p>
    BSD 実装に関する追加の注記:
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        ポートシステムを使用して MySQL をインストールしたあとに削除するには:
      </p><pre class="programlisting">
# cd /usr/ports/databases/mysql51-server
# make deinstall
...
# cd /usr/ports/databases/mysql51-client
# make deinstall
...
</pre></li><li class="listitem"><p>
        MySQL の現在の日付に問題がある場合には、<code class="literal">TZ</code> 変数の設定が役に立ちます。<a class="xref" href="installing.html#environment-variables" title="2.12 環境変数">セクション2.12「環境変数」</a>を参照してください。
      </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="source-installation"></a>2.9 ソースから MySQL をインストールする</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#source-installation-layout">2.9.1 ソースインストールの MySQL のレイアウト</a></span></dt><dt><span class="section"><a href="installing.html#installing-source-distribution">2.9.2 標準ソース配布を使用して MySQL をインストールする</a></span></dt><dt><span class="section"><a href="installing.html#installing-development-tree">2.9.3 開発ソースツリーを使用して MySQL をインストールする</a></span></dt><dt><span class="section"><a href="installing.html#source-configuration-options">2.9.4 MySQL ソース構成オプション</a></span></dt><dt><span class="section"><a href="installing.html#compilation-problems">2.9.5 MySQL のコンパイルに関する問題</a></span></dt><dt><span class="section"><a href="installing.html#source-configuration-third-party">2.9.6 MySQL の構成とサードパーティーツール</a></span></dt></dl></div><a class="indexterm" name="idm139979164274688"></a><a class="indexterm" name="idm139979164272576"></a><a class="indexterm" name="idm139979164270544"></a><p>
    MySQL をソースコードからビルドすると、ビルドパラメータ、コンパイラ最適化、およびインストールの場所をカスタマイズできます。MySQL を実行できることがわかっているシステムのリストは、<a class="ulink" href="http://www.mysql.com/support/supportedplatforms/database.html" target="_top">http://www.mysql.com/support/supportedplatforms/database.html</a>を参照してください。
  </p><p>
    ソースからのインストールに進む前に、使用しているプラットフォーム用に事前コンパイルされたバイナリ配布をオラクルが作成しているかどうか、およびそれがニーズに適合しているかどうかをチェックしてください。弊社は、パフォーマンスを最適化するために、最善のオプションでバイナリをビルドすることを保証するべく多大な努力をしています。バイナリ配布のインストール手順は、<a class="xref" href="installing.html#binary-installation" title="2.2 一般的なバイナリを使用した MySQL の Unix/Linux へのインストール">セクション2.2「一般的なバイナリを使用した MySQL の Unix/Linux へのインストール」</a>を参照してください。
  </p><h3><a name="idm139979164265888"></a>ソースのインストール方法</h3><p>
    MySQL をソースからインストールするには、2 つの方法があります。
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        標準の MySQL ソース配布を使用します。標準の配布を取得するには、<a class="xref" href="installing.html#getting-mysql" title="2.1.3 MySQL の取得方法">セクション2.1.3「MySQL の取得方法」</a>を参照してください。標準の配布からのビルドの詳細は、<a class="xref" href="installing.html#installing-source-distribution" title="2.9.2 標準ソース配布を使用して MySQL をインストールする">セクション2.9.2「標準ソース配布を使用して MySQL をインストールする」</a>を参照してください。
      </p><p>
        標準の配布は、圧縮 <span class="command"><strong>tar</strong></span> ファイル、Zip アーカイブ、または RPM パッケージとして入手可能です。配布ファイルは、<code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz</code>, <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>.zip</code>、または <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>.rpm</code> という形式の名前を持ちます。ここで、<em class="replaceable"><code>VERSION</code></em> は <code class="literal">5.6.23</code> などの番号です。ソース配布のファイル名は汎用でプラットフォーム名を含まないのに対し、バイナリ配布名にはその配布が対象とするシステムのタイプを示すプラットフォーム名が含まれる (たとえば、<code class="literal">pc-linux-i686</code> または <code class="literal">winx64</code>) ことから、ソースファイルを事前コンパイル済みのバイナリ配布と区別できます。
      </p></li><li class="listitem"><p>
        MySQL 開発ツリーを使用します。開発ツリーからのビルドの詳細は、<a class="xref" href="installing.html#installing-development-tree" title="2.9.3 開発ソースツリーを使用して MySQL をインストールする">セクション2.9.3「開発ソースツリーを使用して MySQL をインストールする」</a>を参照してください。
      </p></li></ul></div><h3><a name="idm139979164251568"></a>ソースインストールのシステム要件</h3><p>
    MySQL をソースからインストールするためには、いくつかの開発ツールが必要です。これらのツールの一部は、標準ソース配布または開発ソースツリーのいずれを使用するかにかかわらず必要です。その他のツールは、どちらのインストール方法を使用するかによって必要かどうかが決まります。
  </p><p>
    MySQL をソースからインストールするには、インストール方法にかかわらず次のツールがシステムになければなりません。
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <span class="command"><strong>CMake</strong></span>。これはすべてのプラットフォームでビルドフレームワークとして使用されます。<span class="command"><strong>CMake</strong></span> は <a class="ulink" href="http://www.cmake.org" target="_top">http://www.cmake.org</a> からダウンロードできます。
      </p></li><li class="listitem"><p>
        優良な <span class="command"><strong>make</strong></span> プログラム。一部のプラットフォームには独自の <span class="command"><strong>make</strong></span> 実装が備わっていますが、GNU <span class="command"><strong>make</strong></span> 3.75 以降を使用することを強くお勧めします。これは、使用しているシステムですでに <span class="command"><strong>gmake</strong></span> として使用可能になっている場合があります。GNU <span class="command"><strong>make</strong></span> は、<a class="ulink" href="http://www.gnu.org/software/make/" target="_top">http://www.gnu.org/software/make/</a> から入手可能です。
      </p></li><li class="listitem"><p>
        動作する ANSI C++ コンパイラ。GCC 4.2.1 以降、Sun Studio 12 以降、Visual Studio 2010 以降、および多くの最新のベンダー供給のコンパイラが機能することが知られています。
      </p></li><li class="listitem"><p>
        テストスクリプトを実行する場合は、Perl が必要です。ほとんどの Unix 類似システムには Perl が含まれます。Windows では、ActiveState Perl などのバージョンが使用できます。
      </p></li></ul></div><p>
    MySQL を標準ソース配布からインストールするには、配布ファイルをアンパックするために次のツールのいずれかが必要です。
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <code class="filename">.tar.gz</code> で圧縮された <span class="command"><strong>tar</strong></span> ファイルの場合: 配布を圧縮解除するための GNU <code class="literal">gunzip</code>、およびそれをアンパックするための妥当な <span class="command"><strong>tar</strong></span>。使用している <span class="command"><strong>tar</strong></span> プログラムが <code class="literal">z</code> オプションをサポートする場合は、ファイルの展開とアンパックの両方を実行できます。
      </p><p>
        GNU <span class="command"><strong>tar</strong></span> が機能することが知られています。一部のオペレーティングシステムで提供される標準の <span class="command"><strong>tar</strong></span> は、MySQL 配布内の長いファイル名をアンパックできません。GNU <span class="command"><strong>tar</strong></span> をダウンロードしてインストールするか、プリインストールバージョンの GNU tar が利用可能であればそれを使用します。通常、これは <span class="command"><strong>gnutar</strong></span>、<span class="command"><strong>gtar</strong></span>、または <span class="command"><strong>tar</strong></span> という名前です (<code class="filename">/usr/sfw/bin</code> または <code class="filename">/usr/local/bin</code> などの GNU または Free Software ディレクトリ内)。GNU <span class="command"><strong>tar</strong></span> は、<a class="ulink" href="http://www.gnu.org/software/tar/" target="_top">http://www.gnu.org/software/tar/</a> から入手可能です。
      </p></li><li class="listitem"><p>
        <code class="filename">.zip</code> Zip アーカイブの場合: <span class="command"><strong>WinZip</strong></span> または <code class="filename">.zip</code> ファイルを読み取ることができるその他のツール。
      </p></li><li class="listitem"><p>
        <code class="filename">.rpm</code> RPM パッケージの場合: 配布のビルドに使用される <span class="command"><strong>rpmbuild</strong></span> プログラムでアンパックできます。
      </p></li></ul></div><p>
    MySQL を開発ソースツリーからインストールするには、次の追加ツールが必要です。
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        開発ソースコードを取得するには、次のリビジョン管理システムが必要です。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
            <span class="emphasis"><em>Git</em></span>: <a class="ulink" href="https://help.github.com/" target="_top">GitHub ヘルプ</a>には、さまざまなプラットフォームに Git をダウンロードしてインストールするための説明があります。MySQL は、2014 年 9 月に正式に GitHub に参加しました。MySQL の GitHub への移動の詳細は、MySQL Release Engineering ブログ <a class="ulink" href="http://mysqlrelease.com/2014/09/mysql-on-github/" target="_top">MySQL on GitHub</a> のお知らせを参照してください。
          </p></li><li class="listitem"><p>
            <span class="emphasis"><em>Bazaar</em></span>: <a class="ulink" href="http://bazaar-vcs.org" target="_top">Bazaar VCS Web サイト</a>には、さまざまなプラットフォームに Bazaar をダウンロードしてインストールするための説明があります。Bazaar は、Python をサポートするすべてのプラットフォームでサポートされ、そのためすべての Linux、Unix、Windows、または OS X ホストと互換です。
          </p></li></ul></div></li><li class="listitem"><p>
        <span class="command"><strong>bison</strong></span> 2.1 以降。<a class="ulink" href="http://www.gnu.org/software/bison/" target="_top">http://www.gnu.org/software/bison/</a> から入手可能です。(バージョン 1 はサポートされなくなりました。)可能であれば <span class="command"><strong>bison</strong></span> の最新バージョンを使用します。問題が生じた場合は、以前のバージョンに戻るのではなく、より新しいバージョンにアップグレードします。
      </p><p>
        <span class="command"><strong>bison</strong></span> は、<a class="ulink" href="http://www.gnu.org/software/bison/" target="_top">http://www.gnu.org/software/bison/</a> から入手可能です。<code class="literal">bison</code> for Windows は、<a class="ulink" href="http://gnuwin32.sourceforge.net/packages/bison.htm" target="_top">http://gnuwin32.sourceforge.net/packages/bison.htm</a> からダウンロードできます。<span class="quote">「<span class="quote">Complete package, excluding sources</span>」</span> のラベルのパッケージをダウンロードします。Windows では、<span class="command"><strong>bison</strong></span> のデフォルトの場所は <code class="filename">C:\Program Files\GnuWin32</code> ディレクトリです。ディレクトリ名にスペースが含まれるため、一部のユーティリティーでは <span class="command"><strong>bison</strong></span> を検索できない場合があります。また、パスにスペースがある場合 Visual Studio がフリーズすることがあります。これらの問題は、たとえば <code class="filename">C:\GnuWin32</code> など、スペースを含まないディレクトリにインストールすることで解決できます。
      </p></li><li class="listitem"><p>
        OpenSolaris および Solaris Express では、<span class="command"><strong>bison</strong></span> のほかに <span class="command"><strong>m4</strong></span> もインストールされていなければなりません。<span class="command"><strong>m4</strong></span> は <a class="ulink" href="http://www.gnu.org/software/m4/" target="_top">http://www.gnu.org/software/m4/</a> から入手可能です。
      </p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
      プログラムをインストールする必要がある場合は、<code class="literal">PATH</code> 環境変数を、プログラムが置かれるディレクトリを含むように変更します。<a class="xref" href="programs.html#setting-environment-variables" title="4.2.10 環境変数の設定">セクション4.2.10「環境変数の設定」</a>を参照してください。
    </p></div><p>
    問題が発生してバグをレポートする必要が生じた場合には、<a class="xref" href="introduction.html#bug-reports" title="1.7 質問またはバグをレポートする方法">セクション1.7「質問またはバグをレポートする方法」</a> の手順に従ってください。
  </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="source-installation-layout"></a>2.9.1 ソースインストールの MySQL のレイアウト</h3></div></div></div><p>
      デフォルトでは、MySQL をソースからコンパイルしたあとにインストールすると、インストール手順によりファイルが <code class="filename">/usr/local/mysql</code> にインストールされます。インストールディレクトリの下のコンポーネントの場所は、バイナリ配布の場合と同じです。<a class="xref" href="installing.html#binary-installation-layout" title="表 2.3 一般的な Unix/Linux バイナリパッケージの MySQL インストールのレイアウト">表2.3「一般的な Unix/Linux バイナリパッケージの MySQL インストールのレイアウト」</a>、<a class="xref" href="installing.html#windows-installation-layout" title="2.3.1 Microsoft Windows 上での MySQL のインストールレイアウト">セクション2.3.1「Microsoft Windows 上での MySQL のインストールレイアウト」</a>を参照してください。デフォルトとは異なるインストールの場所を構成するには、<a class="xref" href="installing.html#source-configuration-options" title="2.9.4 MySQL ソース構成オプション">セクション2.9.4「MySQL ソース構成オプション」</a>で説明されるオプションを使用します。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="installing-source-distribution"></a>2.9.2 標準ソース配布を使用して MySQL をインストールする</h3></div></div></div><p>
      標準ソース配布を使用して MySQL をインストールするには:
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          システムが、<a class="xref" href="installing.html#source-installation" title="2.9 ソースから MySQL をインストールする">セクション2.9「ソースから MySQL をインストールする」</a>にリストされるツール要件を満たすことを確認します。
        </p></li><li class="listitem"><p>
          配布ファイルを <a class="xref" href="installing.html#getting-mysql" title="2.1.3 MySQL の取得方法">セクション2.1.3「MySQL の取得方法」</a> の説明に従って取得します。
        </p></li><li class="listitem"><p>
          このセクションの説明に従って、配布の構成、ビルド、およびインストールを実行します。
        </p></li><li class="listitem"><p>
          <a class="xref" href="installing.html#postinstallation" title="2.10 インストール後のセットアップとテスト">セクション2.10「インストール後のセットアップとテスト」</a>の説明に従って、インストール後の手順を実行します。
        </p></li></ol></div><p>
      MySQL 5.6 では、すべてのプラットフォームで <span class="command"><strong>CMake</strong></span> がビルドフレームワークとして使用されます。ここに記載する説明で、動作するインストールを作成できるでしょう。<span class="command"><strong>CMake</strong></span> を使用して MySQL をビルドする方法の詳細は、<a class="ulink" href="http://dev.mysql.com/doc/internals/en/cmake.html" target="_top">CMake による MySQL Server のビルド方法</a>を参照してください。
    </p><p>
      ソース RPM から開始する場合は、インストールするバイナリ RPM を、次のコマンドを使用して作成します。<span class="command"><strong>rpmbuild</strong></span> がない場合は代わりに <span class="command"><strong>rpm</strong></span> を使用します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>rpmbuild --rebuild --clean MySQL-<em class="replaceable"><code>VERSION</code></em>.src.rpm</code></strong>
</pre><p>
      結果として 1 つまたは複数の RPM パッケージが生成されます。<a class="xref" href="installing.html#linux-installation-rpm" title="2.5.5 RPM パッケージを使用して MySQL を Linux にインストールする">セクション2.5.5「RPM パッケージを使用して MySQL を Linux にインストールする」</a>の指示に従ってインストールします。
    </p><p>
      圧縮 <span class="command"><strong>tar</strong></span> ファイルまたは Zip アーカイブソース配布からのインストールのシーケンスは、ソース配布はすべてのプラットフォームで使用されること、および配布を構成してコンパイルする手順が含まれる点を除き、一般的なバイナリ配布のプロセスと同様です (<a class="xref" href="installing.html#binary-installation" title="2.2 一般的なバイナリを使用した MySQL の Unix/Linux へのインストール">セクション2.2「一般的なバイナリを使用した MySQL の Unix/Linux へのインストール」</a>を参照してください)。たとえば、Unix の圧縮 <span class="command"><strong>tar</strong></span> ファイルのソース配布では、基本的なインストールコマンドシーケンスは次のようになります。
    </p><pre class="programlisting">
# Preconfiguration setup
shell&gt; <strong class="userinput"><code>groupadd mysql</code></strong>
shell&gt; <strong class="userinput"><code>useradd -r -g mysql mysql</code></strong>
# Beginning of source-build specific instructions
shell&gt; <strong class="userinput"><code>tar zxvf mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz</code></strong>
shell&gt; <strong class="userinput"><code>cd mysql-<em class="replaceable"><code>VERSION</code></em></code></strong>
shell&gt; <strong class="userinput"><code>cmake .</code></strong>
shell&gt; <strong class="userinput"><code>make</code></strong>
shell&gt; <strong class="userinput"><code>make install</code></strong>
# End of source-build specific instructions
# Postinstallation setup
shell&gt; <strong class="userinput"><code>cd /usr/local/mysql</code></strong>
shell&gt; <strong class="userinput"><code>chown -R mysql .</code></strong>
shell&gt; <strong class="userinput"><code>chgrp -R mysql .</code></strong>
shell&gt; <strong class="userinput"><code>scripts/mysql_install_db --user=mysql</code></strong>
shell&gt; <strong class="userinput"><code>chown -R root .</code></strong>
shell&gt; <strong class="userinput"><code>chown -R mysql data</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong>
# Next command is optional
shell&gt; <strong class="userinput"><code>cp support-files/mysql.server /etc/init.d/mysql.server</code></strong>
</pre><p>
      <span class="command"><strong>mysql_install_db</strong></span> は、<code class="filename">my.cnf</code> という名前のデフォルトオプションファイルを基本インストールディレクトリに作成します。このファイルは <code class="filename">my-default.cnf</code> という名前の配布パッケージに含まれるテンプレートから作成されます。詳細は、<a class="xref" href="server-administration.html#server-default-configuration-file" title="5.1.2.2 サンプルのデフォルトサーバー構成ファイルの使用">セクション5.1.2.2「サンプルのデフォルトサーバー構成ファイルの使用」</a> を参照してください。
    </p><p>
      このあと、ソースビルド固有の手順について、より詳細に説明します。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        ここに示した手順では、MySQL アカウントにパスワードは設定しません。その手順のあとは、<a class="xref" href="installing.html#postinstallation" title="2.10 インストール後のセットアップとテスト">セクション2.10「インストール後のセットアップとテスト」</a>に進み、インストール後のセットアップとテストを実行します。
      </p></div><h4><a name="idm139979164145824"></a>構成前のセットアップの実行</h4><p>
      Unix では、MySQL Server を実行してデータベースディレクトリを所有する、<code class="literal">mysql</code> ユーザーおよびグループをセットアップします。詳細は、<a class="xref" href="installing.html#binary-installation" title="2.2 一般的なバイナリを使用した MySQL の Unix/Linux へのインストール">セクション2.2「一般的なバイナリを使用した MySQL の Unix/Linux へのインストール」</a>の <a class="link" href="installing.html#binary-installation-createsysuser" title="mysql ユーザーおよびグループの作成"><code class="literal">mysql</code> システムユーザーおよびグループの作成</a>を参照してください。次に、指定された場合を除き、<code class="literal">mysql</code> ユーザーとして次の手順を実行します。
    </p><h4><a name="idm139979164140400"></a>配布の取得とアンパック</h4><p>
      配布をアンパックするディレクトリを選択してそこに移動します。
    </p><p>
      配布ファイルを <a class="xref" href="installing.html#getting-mysql" title="2.1.3 MySQL の取得方法">セクション2.1.3「MySQL の取得方法」</a> の説明に従って取得します。
    </p><p>
      配布を現在のディレクトリにアンパックします。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          圧縮 <span class="command"><strong>tar</strong></span> ファイルをアンパックするには、<span class="command"><strong>tar</strong></span> が <code class="literal">z</code> オプションをサポートする場合、このコマンドで配布の圧縮解除とアンパックを実行できます。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>tar zxvf mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz</code></strong>
</pre><p>
          <span class="command"><strong>tar</strong></span> が <code class="literal">z</code> オプションをサポートしない場合は、<span class="command"><strong>gunzip</strong></span> を使用して配布をパックし、<span class="command"><strong>tar</strong></span> を使用してアンパックします。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>gunzip &lt; mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz | tar xvf -</code></strong>
</pre><p>
          あるいは、<span class="command"><strong>CMake</strong></span> を使用して配布を圧縮解除してアンパックすることも可能です。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cmake -E tar zxvf mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz</code></strong>
</pre></li><li class="listitem"><p>
          Zip アーカイブをアンパックするには、<span class="command"><strong>WinZip</strong></span> または <code class="filename">.zip</code> ファイルを読み取ることができるその他のツールを使用します。
        </p></li></ul></div><p>
      配布ファイルをアンパックすると、<code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em></code> という名前のディレクトリが作成されます。
    </p><h4><a name="idm139979164119328"></a>配布の構成</h4><p>
      アンパックした配布のトップレベルのディレクトリに場所を変更します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cd mysql-<em class="replaceable"><code>VERSION</code></em></code></strong>
</pre><p>
      ソースディレクトリを構成します。最低限の構成を行うコマンドには、構成のデフォルトをオーバーライドするオプションは含まれません。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cmake .</code></strong>
</pre><p>
      Windows では、開発環境を指定します。たとえば、次のコマンドはそれぞれ 32 ビットまたは 64 ビッドの MySQL ビルドを構成します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cmake . -G "Visual Studio 10 2010"</code></strong>
shell&gt; <strong class="userinput"><code>cmake . -G "Visual Studio 10 2010 Win64"</code></strong>
</pre><p>
      OS X で Xcode IDE を使用するには:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cmake . -G Xcode</code></strong>
</pre><p>
      <span class="command"><strong>cmake</strong></span> を実行する場合、コマンド行にオプションを追加するとよいでしょう。次にいくつかの例を示します。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="option">-DBUILD_CONFIG=mysql_release</code>: オラクルが公式な MySQL リリースのバイナリ配布を生成するために使用するのと同じビルドオプションでソースを構成します。
        </p></li><li class="listitem"><p>
          <code class="option">-DCMAKE_INSTALL_PREFIX=<em class="replaceable"><code>dir_name</code></em></code>: 特定の場所にインストールするように配布を構成します。
        </p></li><li class="listitem"><p>
          <code class="option">-DCPACK_MONOLITHIC_INSTALL=1</code>: <span class="command"><strong>make package</strong></span> が、複数のファイルではなく単独のインストールファイルを生成するようにします。
        </p></li><li class="listitem"><p>
          <code class="option">-DWITH_DEBUG=1</code>: 配付をデバッグサポート付きでビルドします。
        </p></li></ul></div><p>
      オプションのより詳細なリストは、<a class="xref" href="installing.html#source-configuration-options" title="2.9.4 MySQL ソース構成オプション">セクション2.9.4「MySQL ソース構成オプション」</a>を参照してください。
    </p><p>
      構成オプションをリストするには、次のコマンドのいずれかを使用します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cmake . -L</code></strong>   # overview
shell&gt; <strong class="userinput"><code>cmake . -LH</code></strong>  # overview with help text
shell&gt; <strong class="userinput"><code>cmake . -LAH</code></strong> # all params with help text
shell&gt; <strong class="userinput"><code>ccmake .</code></strong>     # interactive display
</pre><p>
      <span class="command"><strong>CMake</strong></span> が失敗する場合は、異なるオプションで再実行して再構成する必要がある場合があります。再構成を行う場合は、次に注意してください。
    </p><a class="indexterm" name="idm139979164092848"></a><a class="indexterm" name="idm139979164091344"></a><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="command"><strong>CMake</strong></span> を以前に実行したあとで実行すると、以前の起動時に収集した情報を使用する場合があります。この情報は <code class="filename">CMakeCache.txt</code> に格納されています。<span class="command"><strong>CMake</strong></span> は、起動時にそのファイルを探し、存在すればその情報がまだ正しいと仮定して内容を読み込みます。この仮定は再構成した場合には無効です。
        </p></li><li class="listitem"><p>
          <span class="command"><strong>CMake</strong></span> を実行するたびに、<span class="command"><strong>make</strong></span> を再実行して再コンパイルする必要があります。しかし、前のビルドの古いオブジェクトファイルが異なる構成オプションでコンパイルされている場合、それらを最初に削除する場合もあります。
        </p></li></ul></div><p>
      古いオブジェクトファイルまたは構成情報が使用されることを予防するために、Unix では <span class="command"><strong>CMake</strong></span> を再実行する前に次のコマンドを実行します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>make clean</code></strong>
shell&gt; <strong class="userinput"><code>rm CMakeCache.txt</code></strong>
</pre><p>
      あるいは、Windows の場合:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>devenv MySQL.sln /clean</code></strong>
shell&gt; <strong class="userinput"><code>del CMakeCache.txt</code></strong>
</pre><p>
      ソースツリーからビルドする場合 (あとで説明します)、<code class="filename">CMakeCache.txt</code> ファイルおよびすべてのビルドファイルはビルドディレクトリにあるため、オブジェクトファイルおよびキャッシュされた構成情報を削除するには、そのディレクトリを削除します。
    </p><p>
      MySQL メーリングリストにメールを送信して構成の支援を依頼する場合は、<code class="filename">CMakeFiles</code> ディレクトリのファイルで、失敗に関する有用な情報をまずチェックしてください。バグレポートを提出する際は、<a class="xref" href="introduction.html#bug-reports" title="1.7 質問またはバグをレポートする方法">セクション1.7「質問またはバグをレポートする方法」</a>の説明に従ってください。
    </p><h4><a name="idm139979164072128"></a>配布のビルド</h4><p>
      Unix の場合:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>make</code></strong>
shell&gt; <strong class="userinput"><code>make VERBOSE=1</code></strong>
</pre><p>
      2 番目のコマンドは、コンパイル済みの各ソースに対するコマンドを表示するため、<code class="literal">VERBOSE</code> をセットします。
    </p><p>
      GNU <span class="command"><strong>make</strong></span> を使用し、それが <span class="command"><strong>gmake</strong></span> としてインストールされているシステムでは、代わりに <span class="command"><strong>gmake</strong></span> を使用します。
    </p><p>
      Windows の場合:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>devenv MySQL.sln /build RelWithDebInfo</code></strong>
</pre><p>
      ソースツリーからビルドして、ツリーをクリーンな状態に保つことができます。トップレベルのソースディレクトリが、現在の作業ディレクトリの下の <code class="filename">mysql-src</code> という名前のディレクトリの場合、次のように、同じレベルの <code class="filename">bld</code> という名前のディレクトリにビルドできます。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mkdir bld</code></strong>
shell&gt; <strong class="userinput"><code>cd bld</code></strong>
shell&gt; <strong class="userinput"><code>cmake ../mysql-src</code></strong>
</pre><p>
      ビルドディレクトリは、実際にソースツリーの外部になければならないわけではありません。たとえば、ディレクトリ内にビルドするには、トップレベルのソースツリーの下の <code class="filename">bld</code> という名前のディレクトリにビルドできます。そのためには、現在の作業ディレクトリとして <code class="filename">mysql-src</code> から開始します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mkdir bld</code></strong>
shell&gt; <strong class="userinput"><code>cd bld</code></strong>
shell&gt; <strong class="userinput"><code>cmake ..</code></strong>
</pre><p>
      複数のソースツリーが同じレベルにある場合 (たとえば、複数のバージョンの MySQL をビルドする場合)、2 番目の方法が有利です。最初の方法では、すべてのビルドディレクトリを同じレベルに置くため、それぞれに一意の名前が必要です。2 番目の方法では、各ソースツリー内のビルドディレクトリに同じ名前を使用できます。
    </p><p>
      コンパイル段階に進んだが、配布がビルドされない場合は、<a class="xref" href="installing.html#compilation-problems" title="2.9.5 MySQL のコンパイルに関する問題">セクション2.9.5「MySQL のコンパイルに関する問題」</a>を参照してください。それでも問題が解決しない場合は、<a class="xref" href="introduction.html#bug-reports" title="1.7 質問またはバグをレポートする方法">セクション1.7「質問またはバグをレポートする方法」</a>を参照して、それをバグデータベースに入力してください。必要なツールの最新バージョンをインストール済みで、構成ファイルを処理しようとしてそれらのツールがクラッシュする場合は、それもレポートしてください。ただし、<code class="literal">コマンドが見つかりません</code>というエラーや、必要なツールに関して同様の問題がある場合は、レポートしないでください。代わりに、必要なツールがすべてインストール済みであり、シェルがそれらを検索できるように <code class="literal">PATH</code> 変数が正しく設定されていることを確認してください。
    </p><h4><a name="idm139979164046464"></a>配付のインストール</h4><p>
      Unix の場合:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>make install</code></strong>
</pre><p>
      これは、ファイルを構成されたインストールディレクトリ (デフォルトでは <code class="filename">/usr/local/mysql</code>) にインストールします。コマンドを <code class="literal">root</code> として実行する必要がある場合があります。
    </p><p>
      特定のディレクトリにインストールするには、コマンド行に <code class="literal">DESTDIR</code> パラメータを追加します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>make install DESTDIR="/opt/mysql"</code></strong>
</pre><p>
      あるいは、任意の場所にインストールできるインストールパッケージファイルを生成します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>make package</code></strong>
</pre><p>
      この操作は、一般的なバイナリ配布パッケージのようにインストールできる、1 つまたは複数の <code class="filename">.tar.gz</code> ファイルを生成します。<a class="xref" href="installing.html#binary-installation" title="2.2 一般的なバイナリを使用した MySQL の Unix/Linux へのインストール">セクション2.2「一般的なバイナリを使用した MySQL の Unix/Linux へのインストール」</a>を参照してください。<span class="command"><strong>CMake</strong></span> を <code class="option">-DCPACK_MONOLITHIC_INSTALL=1</code> を使用して実行すると、その操作で単独のファイルが作成されます。そうでない場合は複数のファイルが作成されます。
    </p><p>
      Windows では、データディレクトリを生成してから、<code class="filename">.zip</code> アーカイブインストールパッケージを作成します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>devenv MySQL.sln /build RelWithDebInfo /project initial_database</code></strong>
shell&gt; <strong class="userinput"><code>devenv MySQL.sln /build RelWithDebInfo /project package</code></strong>
</pre><p>
      結果の <code class="filename">.zip</code> アーカイブは任意の場所にインストールできます。<a class="xref" href="installing.html#windows-install-archive" title="2.3.5 非インストール Zip アーカイブを使用して Microsoft Windows に MySQL をインストールする">セクション2.3.5「非インストール Zip アーカイブを使用して Microsoft Windows に MySQL をインストールする」</a>を参照してください。
    </p><h4><a name="idm139979164027392"></a>インストール後のセットアップの実行</h4><p>
      インストールプロセスの残りの部分は、構成ファイルのセットアップ、コアデータベースの作成、および MySQL Server の開始などです。手順は、<a class="xref" href="installing.html#postinstallation" title="2.10 インストール後のセットアップとテスト">セクション2.10「インストール後のセットアップとテスト」</a>を参照してください。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        MySQL の付与テーブルにリストされているアカウントには、最初はパスワードがありません。サーバーの起動後に、<a class="xref" href="installing.html#postinstallation" title="2.10 インストール後のセットアップとテスト">セクション2.10「インストール後のセットアップとテスト」</a>の説明に従って、それらにパスワードを設定する必要があります。
      </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="installing-development-tree"></a>2.9.3 開発ソースツリーを使用して MySQL をインストールする</h3></div></div></div><a class="indexterm" name="idm139979164022096"></a><a class="indexterm" name="idm139979164020736"></a><p>
      このセクションでは、MySQL を最新の開発ソースコードからインストールする方法を説明します。最新の開発ソースコードは現在、<a class="ulink" href="https://github.com/" target="_top">GitHub</a> および <a class="ulink" href="http://launchpad.net/" target="_top">Launchpad</a> の両方にホストされています。MySQL Server のソースコードをこれらのリポジトリホスティングサービスのいずれかから取得するには、ローカルの MySQL Git リポジトリまたはローカルの MySQL Bazaar ブランチをセットアップします。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="ulink" href="https://github.com/" target="_top">GitHub</a> では、MySQL Server およびその他の MySQL プロジェクトは <a class="ulink" href="https://github.com/mysql" target="_top">MySQL</a> ページにあります。MySQL Server プロジェクトは、MySQL 5.5、5.6、および 5.7 のブランチを含む単独のリポジトリです。
        </p><p>
          MySQL は、2014 年 9 月に正式に GitHub に参加しました。MySQL の GitHub への移動の詳細は、MySQL Release Engineering ブログ <a class="ulink" href="http://mysqlrelease.com/2014/09/mysql-on-github/" target="_top">MySQL on GitHub</a> のお知らせを参照してください。
        </p></li><li class="listitem"><p>
          <a class="ulink" href="http://launchpad.net/" target="_top">Launchpad</a> では、MySQL Server、MySQL Workbench などを含む MySQL プロジェクトは、<a class="ulink" href="http://launchpad.net/~mysql" target="_top">Oracle/MySQL エンジニアリング</a>ページにあります。MySQL Server のみに関係するリポジトリについては、<a class="ulink" href="http://launchpad.net/mysql-server" target="_top">MySQL Server</a> ページを参照してください。
        </p></li></ul></div><h4><a name="idm139979164008576"></a>開発ソースからのインストールの前提条件</h4><p>
      MySQL を開発ソースツリーからインストールするには、<a class="xref" href="installing.html#source-installation" title="2.9 ソースから MySQL をインストールする">セクション2.9「ソースから MySQL をインストールする」</a>に概説されるツール要件をシステムが満たしていなければなりません。
    </p><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="installing-development-tree-git"></a>MySQL Git リポジトリのセットアップ</h4></div></div></div><p>
        MySQL Git リポジトリをマシンにセットアップするには、次の手順を使用します。
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            MySQL Git リポジトリをマシンにクローニングします。次のコマンドは、MySQL Git リポジトリを <code class="filename">mysql-server</code> という名前のディレクトリにクローニングします。ダウンロードサイズは約 437M バイトです。接続の速度によっては、最初のダウンロードを完了するのにしばらく時間がかかります。
          </p><pre class="programlisting">~$ git clone https://github.com/mysql/mysql-server.git 
Cloning into 'mysql-server'...
remote: Counting objects: 1035465, done.
remote: Total 1035465 (delta 0), reused 0 (delta 0)
Receiving objects: 100% (1035465/1035465), 437.48 MiB | 5.10 MiB/s, done.
Resolving deltas: 100% (855607/855607), done.
Checking connectivity... done.
Checking out files: 100% (21902/21902), done.</pre></li><li class="listitem"><p>
            クローニング操作が完了すると、ローカルの MySQL Git リポジトリは次のようになります。
          </p><pre class="programlisting">~$ cd mysql-server
 
~/mysql-server$ ls
BUILD            COPYING             libmysqld    regex          tests
BUILD-CMAKE      dbug                libservices  scripts        unittest
client           Docs                man          sql            VERSION
cmake            extra               mysql-test   sql-bench      vio
CMakeLists.txt   include             mysys        sql-common     win
cmd-line-utils   INSTALL-SOURCE      packaging    storage        zlib
config.h.cmake   INSTALL-WIN-SOURCE  plugin       strings
configure.cmake  libmysql            README       support-files</pre></li><li class="listitem"><p>
            <span class="command"><strong>git branch -r</strong></span> コマンドを使用して、MySQL リポジトリのリモート追跡ブランチを表示します。
          </p><pre class="programlisting">~/mysql-server$ git branch -r
  origin/5.5
  origin/5.6
  origin/5.7
  origin/HEAD -&gt; origin/5.7</pre></li><li class="listitem"><p>
            ローカルリポジトリにチェックアウトされたブランチを表示するには、<span class="command"><strong>git branch</strong></span> コマンドを発行します。MySQL Git リポジトリをクローニングしたとき、MySQL 5.7 ブランチが自動的にチェックアウトされています。アスタリスクにより、5.7 ブランチがアクティブなブランチであることが示されます。
          </p><pre class="programlisting">~/mysql-server$ git branch
* 5.7</pre></li><li class="listitem"><p>
            異なる MySQL ブランチをチェックアウトするには、ブランチ名を指定して <span class="command"><strong>git checkout</strong></span> コマンド実行します。たとえば、MySQL 5.6 ブランチをチェックアウトするには:
          </p><pre class="programlisting">~/mysql-server$ git checkout 5.6
Branch 5.6 set up to track remote branch 5.6 from origin.
Switched to a new branch '5.6'</pre></li><li class="listitem"><p>
            <code class="literal">git branch</code> をふたたび実行して、MySQL 5.6 ブランチが存在することを確認します。最後にチェックアウトした MySQL 5.6 にアスタリスクがマークされ、それがアクティブなブランチであることが示されています。
          </p><pre class="programlisting">~/mysql-server$ git branch
* 5.6
  5.7</pre><p>
            <span class="command"><strong>git checkout</strong></span> コマンドも、ブランチの切り替えに使用されます。たとえば、ふたたび MySQL 5.7 をアクティブブランチにするには、<span class="command"><strong>git checkout 5.7</strong></span> を実行します。
          </p></li><li class="listitem"><p>
            MySQL Git リポジトリを最初にセットアップしたあとの変更を取得するには、更新したいブランチに切り替えて <code class="literal">git pull</code> コマンドを発行します。
          </p><pre class="programlisting">~/mysql-server$ git checkout 5.6
~/mysql-server$ git pull
</pre><p>
            コミット履歴を調べるには、<code class="literal">git log</code> オプションを使用します。
          </p><pre class="programlisting">~/mysql-server$ git log
</pre><p>
            GitHub <a class="ulink" href="https://github.com/mysql" target="_top">MySQL</a> サイトでコミット履歴とソースコードを参照することもできます。
          </p><p>
            変更や疑問のあるコードがある場合は、電子メールを MySQL <code class="literal">internals</code> メーリングリストに送信してください。<a class="xref" href="introduction.html#mailing-lists" title="1.6.1 MySQL メーリングリスト">セクション1.6.1「MySQL メーリングリスト」</a> を参照してください。パッチの貢献については、<a class="ulink" href="http://mysqlserverteam.com/contributing-to-mysql-server/%20" target="_top">MySQL Server への貢献</a>を参照してください。
          </p></li><li class="listitem"><p>
            MySQL Git リポジトリをクローニングしてビルドするブランチをチェックアウトしたら、MySQL Server をソースコードからビルドできます。説明は<a class="xref" href="installing.html#installing-source-distribution" title="2.9.2 標準ソース配布を使用して MySQL をインストールする">セクション2.9.2「標準ソース配布を使用して MySQL をインストールする」</a>にありますが、配布の取得およびアンパックに関する部分はスキップします。
          </p><p>
            本番環境マシン上の配布ソースツリーからのビルドをインストールする場合は注意が必要です。インストールコマンドが、ライブリリースインストールを上書きすることがあります。MySQL がインストール済みであり、それを上書きしたくない場合は、<code class="option">CMAKE_INSTALL_PREFIX</code>、<code class="option">MYSQL_TCP_PORT</code>、および <code class="option">MYSQL_UNIX_ADDR</code> オプションの値を、本番環境サーバーで使用したものとは異なるものにして、<span class="command"><strong>CMake</strong></span> を実行します。複数のサーバーが相互に干渉することを防ぐ方法の詳細は、<a class="xref" href="server-administration.html#multiple-servers" title="5.3 1 つのマシン上での複数の MySQL インスタンスの実行">セクション5.3「1 つのマシン上での複数の MySQL インスタンスの実行」</a>を参照してください。
          </p><p>
            新しいインストールを厳密に検証します。たとえば、新機能をクラッシュさせてみてください。<span class="command"><strong>make test</strong></span> の実行から始めてみてください。<a class="xref" href="extending-mysql.html#mysql-test-suite" title="24.1.2 MySQL テストスイート">セクション24.1.2「MySQL テストスイート」</a>を参照してください。
          </p></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="installing-development-tree-bazaar"></a>MySQL Bazaar ブランチのセットアップ</h4></div></div></div><p>
        MySQL Bazaar ブランチをマシンにセットアップするには、次の手順を使用します。
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            <a class="ulink" href="http://launchpad.net/" target="_top">Launchpad</a> にホストされている MySQL 開発ソースコードのコピーを取得するには、新しい Bazaar ブランチを作成します。まだ Bazaar リポジトリのディレクトリをセットアップしていない場合は、新しいディレクトリを初期化する必要があります。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mkdir mysql-server</code></strong>
shell&gt; <strong class="userinput"><code>bzr init-repo --trees mysql-server</code></strong>
</pre><p>
            これは 1 回かぎりの操作です。
          </p></li><li class="listitem"><p>
            初期化されたリポジトリディレクトリがあることを前提に、パブリック MySQL Server リポジトリをブランチして、ローカルのソースツリーを作成します。特定のバージョンのブランチを作成するには:
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cd mysql-server</code></strong>
shell&gt; <strong class="userinput"><code>bzr branch lp:mysql-server/5.6 mysql-5.6</code></strong>
</pre><p>
            これはソースツリーごとに一度だけの操作です。<code class="filename">mysql-server</code> ディレクトリで、複数のバージョンの MySQL のソースツリーをブランチできます。
          </p><p>
            接続の速度によっては、最初のダウンロードを完了するのにしばらく時間がかかります。最初のツリーをダウンロードすれば、追加のツリーのダウンロードにかかる時間は大幅に短くなるはずです。
          </p></li><li class="listitem"><p>
            Bazaar ブランチからビルドするときは、アクティブなブランチのコピーを作成すると、元のブランチの内容に影響を及ぼさずに構成その他の変更を行えます。これを行うには、元のブランチからブランチ処理を実行します。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bzr branch mysql-5.6 mysql-5.6-build</code></strong>
</pre></li><li class="listitem"><p>
            ブランチを最初にセットアップしたあとの変更を取得するには、定期的に <code class="literal">pull</code> オプションを使用して更新します。このコマンドは、ローカルコピーのトップレベルディレクトリで使用します。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bzr pull</code></strong>
</pre><p>
            ツリーの変更セットのコメントを調べるには、<span class="command"><strong>bzr</strong></span> に <code class="literal">log</code> オプションを使用します。
          </p><pre class="programlisting">
shell&gt; bzr log
</pre><p>
            変更セット、コメント、およびソースコードは、Launchpad <a class="ulink" href="http://launchpad.net/mysql-server" target="_top">MySQL Server</a> ページでオンラインでも参照できます。
          </p><p>
            diff (変更) や疑問のあるコードがある場合は、お気軽に電子メールを MySQL <code class="literal">internals</code> メーリングリストに送信してください。<a class="xref" href="introduction.html#mailing-lists" title="1.6.1 MySQL メーリングリスト">セクション1.6.1「MySQL メーリングリスト」</a> を参照してください。パッチの貢献については、「<a class="ulink" href="http://mysqlserverteam.com/contributing-to-mysql-server/%20" target="_top">Contributing to MySQL Server</a>」を参照してください。
          </p></li><li class="listitem"><p>
            ローカルブランチを作成したら、MySQL Server をソースコードからビルドできます。説明は<a class="xref" href="installing.html#installing-source-distribution" title="2.9.2 標準ソース配布を使用して MySQL をインストールする">セクション2.9.2「標準ソース配布を使用して MySQL をインストールする」</a>にありますが、配布の取得およびアンパックに関する部分はスキップします。
          </p><p>
            本番環境マシン上の配布ソースツリーからのビルドをインストールする場合は注意が必要です。インストールコマンドが、ライブリリースインストールを上書きすることがあります。MySQL がインストール済みであり、それを上書きしたくない場合は、<code class="option">CMAKE_INSTALL_PREFIX</code>、<code class="option">MYSQL_TCP_PORT</code>、および <code class="option">MYSQL_UNIX_ADDR</code> オプションの値を、本番環境サーバーで使用したものとは異なるものにして、<span class="command"><strong>CMake</strong></span> を実行します。複数のサーバーが相互に干渉することを防ぐ方法の詳細は、<a class="xref" href="server-administration.html#multiple-servers" title="5.3 1 つのマシン上での複数の MySQL インスタンスの実行">セクション5.3「1 つのマシン上での複数の MySQL インスタンスの実行」</a>を参照してください。
          </p><p>
            新しいインストールを厳密に検証します。たとえば、新機能をクラッシュさせてみてください。<span class="command"><strong>make test</strong></span> の実行から始めてみてください。<a class="xref" href="extending-mysql.html#mysql-test-suite" title="24.1.2 MySQL テストスイート">セクション24.1.2「MySQL テストスイート」</a>を参照してください。
          </p></li></ol></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="source-configuration-options"></a>2.9.4 MySQL ソース構成オプション</h3></div></div></div><a class="indexterm" name="idm139979163929120"></a><a class="indexterm" name="idm139979163927008"></a><a class="indexterm" name="idm139979163925088"></a><p>
      <span class="command"><strong>CMake</strong></span> プログラムを使用すると、MySQL ソース配布の構成方法を大幅に制御できます。通常これは、<span class="command"><strong>CMake</strong></span> コマンド行でオプションを使用して行います。<span class="command"><strong>CMake</strong></span> がサポートするオプションの詳細は、トップレベルのソースディレクトリで次のコマンドのいずれかを実行します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cmake . -LH</code></strong>
shell&gt; <strong class="userinput"><code>ccmake .</code></strong>
</pre><p>
      特定の環境変数を使用して <span class="command"><strong>CMake</strong></span> に影響を与えることもできます。<a class="xref" href="installing.html#environment-variables" title="2.12 環境変数">セクション2.12「環境変数」</a>を参照してください。
    </p><p>
      次の表は、使用可能な <span class="command"><strong>CMake</strong></span> オプションを示しています。<code class="literal">デフォルト</code>カラムで、<code class="literal">PREFIX</code> は <code class="option">CMAKE_INSTALL_PREFIX</code> オプションの値を意味します。これは、インストールのベースディレクトリを指定します。この値は、一部のインストールサブディレクトリの親の場所として使用されます。
    </p><div class="table"><a name="idm139979163912592"></a><p class="title"><b>表 2.11 MySQL ソース構成オプションリファレンス (<span class="command">CMake</span>)</b></p><div class="table-contents"><table summary="MySQL ソース構成オプションリファレンス (CMake)" border="1"><colgroup><col class="formats"><col class="description"><col class="default"><col class="introduced"><col class="removed"></colgroup><thead><tr><th scope="col">形式</th><th scope="col">説明</th><th scope="col">デフォルト</th><th scope="col">導入</th><th scope="col">削除</th></tr></thead><tbody><tr><td scope="row"><a class="link" href="installing.html#option_cmake_build_config"><code class="literal">BUILD_CONFIG</code></a></td><td>公式なリリースと同じビルドオプションを使用</td><td> </td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_cmake_build_type"><code class="literal">CMAKE_BUILD_TYPE</code></a></td><td>生成するビルドのタイプ</td><td><code class="literal">RelWithDebInfo</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_cmake_c_flags"><code class="literal">CMAKE_C_FLAGS</code></a></td><td>C コンパイラのフラグ</td><td> </td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_cmake_cxx_flags"><code class="literal">CMAKE_CXX_FLAGS</code></a></td><td>C++ コンパイラのフラグ</td><td> </td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_cmake_install_prefix"><code class="literal">CMAKE_INSTALL_PREFIX</code></a></td><td>インストールの基本ディレクトリ</td><td><code class="literal">/usr/local/mysql</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_compilation_comment"><code class="literal">COMPILATION_COMMENT</code></a></td><td>コンパイル環境に関するコメント</td><td> </td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_cpack_monolithic_install"><code class="literal">CPACK_MONOLITHIC_INSTALL</code></a></td><td>パッケージビルドが単独のファイルを生成するかどうか</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_default_charset"><code class="literal">DEFAULT_CHARSET</code></a></td><td>デフォルトのサーバー文字セット</td><td><code class="literal">latin1</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_default_collation"><code class="literal">DEFAULT_COLLATION</code></a></td><td>デフォルトのサーバー照合順序</td><td><code class="literal">latin1_swedish_ci</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_enable_debug_sync"><code class="literal">ENABLE_DEBUG_SYNC</code></a></td><td>Debug Sync サポートを有効にするかどうか</td><td><code class="literal">ON</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_enable_downloads"><code class="literal">ENABLE_DOWNLOADS</code></a></td><td>オプションファイルをダウンロードするかどうか</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_enable_dtrace"><code class="literal">ENABLE_DTRACE</code></a></td><td>DTrace サポートをインクルードするかどうか</td><td> </td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_enable_gcov"><code class="literal">ENABLE_GCOV</code></a></td><td>gcov サポートをインクルードするかどうか</td><td> </td><td>5.6.3</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_enable_gprof"><code class="literal">ENABLE_GPROF</code></a></td><td>gprof の有効化 (Linux ビルドのみに最適化)</td><td><code class="literal">OFF</code></td><td>5.6.6</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_enabled_local_infile"><code class="literal">ENABLED_LOCAL_INFILE</code></a></td><td>LOAD DATA INFILE に LOCAL を有効にするかどうか</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_enabled_profiling"><code class="literal">ENABLED_PROFILING</code></a></td><td>クエリープロファイリングコードを有効にするかどうか</td><td><code class="literal">ON</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_ignore_aio_check"><code class="literal">IGNORE_AIO_CHECK</code></a></td><td>-DBUILD_CONFIG=mysql_release とともに、libaio チェックを無視する</td><td><code class="literal">OFF</code></td><td>5.6.1</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_innodb_page_atomic_ref_count"><code class="literal">INNODB_PAGE_ATOMIC_REF_COUNT</code></a></td><td>アトミックページ参照のカウントを有効または無効にする</td><td><code class="literal">ON</code></td><td>5.6.16</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_bindir"><code class="literal">INSTALL_BINDIR</code></a></td><td>ユーザー実行可能ファイルディレクトリ</td><td><code class="literal">PREFIX/bin</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_docdir"><code class="literal">INSTALL_DOCDIR</code></a></td><td>ドキュメントディレクトリ</td><td><code class="literal">PREFIX/docs</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_docreadmedir"><code class="literal">INSTALL_DOCREADMEDIR</code></a></td><td>README ファイルディレクトリ</td><td><code class="literal">PREFIX</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_includedir"><code class="literal">INSTALL_INCLUDEDIR</code></a></td><td>Header ファイルディレクトリ</td><td><code class="literal">PREFIX/include</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_infodir"><code class="literal">INSTALL_INFODIR</code></a></td><td>Info ファイルディレクトリ</td><td><code class="literal">PREFIX/docs</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_layout"><code class="literal">INSTALL_LAYOUT</code></a></td><td>事前定義インストールレイアウトの選択</td><td><code class="literal">STANDALONE</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_libdir"><code class="literal">INSTALL_LIBDIR</code></a></td><td>Library ファイルディレクトリ</td><td><code class="literal">PREFIX/lib</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_mandir"><code class="literal">INSTALL_MANDIR</code></a></td><td>Manual ページディレクトリ</td><td><code class="literal">PREFIX/man</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_mysqlsharedir"><code class="literal">INSTALL_MYSQLSHAREDIR</code></a></td><td>共有データディレクトリ</td><td><code class="literal">PREFIX/share</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_mysqltestdir"><code class="literal">INSTALL_MYSQLTESTDIR</code></a></td><td>mysql-test ディレクトリ</td><td><code class="literal">PREFIX/mysql-test</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_plugindir"><code class="literal">INSTALL_PLUGINDIR</code></a></td><td>Plugin ディレクトリ</td><td><code class="literal">PREFIX/lib/plugin</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_sbindir"><code class="literal">INSTALL_SBINDIR</code></a></td><td>サーバー実行可能ファイルディレクトリ</td><td><code class="literal">PREFIX/bin</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_scriptdir"><code class="literal">INSTALL_SCRIPTDIR</code></a></td><td>Scripts ディレクトリ</td><td><code class="literal">PREFIX/scripts</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_sharedir"><code class="literal">INSTALL_SHAREDIR</code></a></td><td>aclocal/mysql.m4 インストールディレクトリ</td><td><code class="literal">PREFIX/share</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_sqlbenchdir"><code class="literal">INSTALL_SQLBENCHDIR</code></a></td><td>sql-bench ディレクトリ</td><td><code class="literal">PREFIX</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_supportfilesdir"><code class="literal">INSTALL_SUPPORTFILESDIR</code></a></td><td>その他のサポートファイルディレクトリ</td><td><code class="literal">PREFIX/support-files</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_memcached_home"><code class="literal">MEMCACHED_HOME</code></a></td><td>memcached へのパス</td><td><code class="literal">[none]</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_mysql_datadir"><code class="literal">MYSQL_DATADIR</code></a></td><td>データディレクトリ</td><td> </td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_mysql_maintainer_mode"><code class="literal">MYSQL_MAINTAINER_MODE</code></a></td><td>MySQL 管理者固有の開発環境を有効にするかどうか</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_mysql_project_name"><code class="literal">MYSQL_PROJECT_NAME</code></a></td><td>Windows/OS X プロジェクト名</td><td><code class="literal">3306</code></td><td>5.6.5</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_mysql_tcp_port"><code class="literal">MYSQL_TCP_PORT</code></a></td><td>TCP/IP ポート番号</td><td><code class="literal">3306</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_mysql_unix_addr"><code class="literal">MYSQL_UNIX_ADDR</code></a></td><td>Unix ソケットファイル</td><td><code class="literal">/tmp/mysql.sock</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_odbc_includes"><code class="literal">ODBC_INCLUDES</code></a></td><td>ODBC インクルードディレクトリ</td><td> </td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_odbc_lib_dir"><code class="literal">ODBC_LIB_DIR</code></a></td><td>ODBC ライブラリディレクトリ</td><td> </td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_optimizer_trace"><code class="literal">OPTIMIZER_TRACE</code></a></td><td>オプティマイザのトレースをサポートするかどうか</td><td> </td><td>5.6.3</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_sunpro_cxx_library"><code class="literal">SUNPRO_CXX_LIBRARY</code></a></td><td>Solaris 10+ のクライアントリンクライブラリ</td><td> </td><td>5.6.20</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_sysconfdir"><code class="literal">SYSCONFDIR</code></a></td><td>オプションファイルディレクトリ</td><td> </td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_tmpdir"><code class="literal">TMPDIR</code></a></td><td>tmpdir のデフォルト値</td><td> </td><td>5.6.16</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_asan"><code class="literal">WITH_ASAN</code></a></td><td>AddressSanitizer 有効</td><td><code class="literal">OFF</code></td><td>5.6.15</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_bundled_libevent"><code class="literal">WITH_BUNDLED_LIBEVENT</code></a></td><td>ndbmemcache のビルド時にバンドルされた libevent を使用</td><td><code class="literal">ON</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_bundled_memcached"><code class="literal">WITH_BUNDLED_MEMCACHED</code></a></td><td>ndbmemcache のビルド時にバンドルされた memcached を使用</td><td><code class="literal">ON</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_classpath"><code class="literal">WITH_CLASSPATH</code></a></td><td>Java 用 MySQL Cluster Connector のビルド時に使用するクラスパス。デフォルトは空の文字列です。</td><td><code class="literal"></code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_debug"><code class="literal">WITH_DEBUG</code></a></td><td>デバッグサポートをインクルードするかどうか</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_default_compiler_options"><code class="literal">WITH_DEFAULT_COMPILER_OPTIONS</code></a></td><td>デフォルトのコンパイラオプションを使用するかどうか</td><td><code class="literal">ON</code></td><td>5.6.6</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_default_feature_set"><code class="literal">WITH_DEFAULT_FEATURE_SET</code></a></td><td>デフォルトの機能セットを使用するかどうか</td><td><code class="literal">ON</code></td><td>5.6.6</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_editline"><code class="literal">WITH_EDITLINE</code></a></td><td>どの libedit/editline ライブラリを使用するか</td><td><code class="literal">bundled</code></td><td>5.6.12</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_embedded_server"><code class="literal">WITH_EMBEDDED_SERVER</code></a></td><td>組み込みサーバーをビルドするかどうか</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_embedded_shared_library"><code class="literal">WITH_EMBEDDED_SHARED_LIBRARY</code></a></td><td>共有組み込みサーバーライブラリをビルドするかどうか</td><td><code class="literal">OFF</code></td><td>5.6.17</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_storage_engine_options" title="ストレージエンジンオプション"><code class="literal">WITH_xxx_STORAGE_ENGINE</code></a></td><td>ストレージエンジン xxx をサーバーに静的にコンパイル</td><td> </td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_error_insert"><code class="literal">WITH_ERROR_INSERT</code></a></td><td>NDB ストレージエンジンのエラーインジェクションを有効化。本番用のバイナリのビルドには使用しないでください。</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_extra_charsets"><code class="literal">WITH_EXTRA_CHARSETS</code></a></td><td>どの追加文字セットをインクルードするか</td><td><code class="literal">all</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_innodb_memcached"><code class="literal">WITH_INNODB_MEMCACHED</code></a></td><td>memcached 共有ライブラリを生成するかどうか。</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_libedit"><code class="literal">WITH_LIBEDIT</code></a></td><td>バンドルされた libedit ライブラリを使用</td><td><code class="literal">ON</code></td><td> </td><td>5.6.12</td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_libevent"><code class="literal">WITH_LIBEVENT</code></a></td><td>どの libevent ライブラリを使用するか</td><td><code class="literal">bundled</code></td><td>5.6.6</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_libwrap"><code class="literal">WITH_LIBWRAP</code></a></td><td>libwrap (TCP ラッパー) サポートをインクルードするかどうか</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_ndb_binlog"><code class="literal">WITH_NDB_BINLOG</code></a></td><td>mysqld によるバイナリのロギングをデフォルトで有効化。</td><td><code class="literal">ON</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_ndb_debug"><code class="literal">WITH_NDB_DEBUG</code></a></td><td>テストまたはトラブルシューティング用のデバッグビルドを生成。</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_ndb_java"><code class="literal">WITH_NDB_JAVA</code></a></td><td>Java および ClusterJ のビルドのサポートを有効化。デフォルトで有効。MySQL Cluster のみでサポート。</td><td><code class="literal">ON</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_ndb_port"><code class="literal">WITH_NDB_PORT</code></a></td><td>このオプションでビルドされた管理サーバーが使用するデフォルトポート。ビルドにこのオプションが使用されなかった場合、管理サーバーのデフォルトポートは 1186 です。</td><td><code class="literal">[none]</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_ndb_test"><code class="literal">WITH_NDB_TEST</code></a></td><td>NDB API テストプログラムをインクルード。</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_ndbcluster_storage_engine"><code class="literal">WITH_NDBCLUSTER_STORAGE_ENGINE</code></a></td><td>NDB ストレージエンジンのビルド</td><td><code class="literal">ON</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_ndbmtd"><code class="literal">WITH_NDBMTD</code></a></td><td>マルチスレッドのデータノードをビルド。</td><td><code class="literal">ON</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_readline"><code class="literal">WITH_READLINE</code></a></td><td>バンドルされた readline ライブラリを使用</td><td><code class="literal">OFF</code></td><td> </td><td>5.6.5</td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_ssl"><code class="literal">WITH_SSL</code></a></td><td>SSL サポートのタイプ</td><td><code class="literal">bundled</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_unixodbc"><code class="literal">WITH_UNIXODBC</code></a></td><td>unixODBC サポートの有効化</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_valgrind"><code class="literal">WITH_VALGRIND</code></a></td><td>Valgrind ヘッダーファイルをコンパイルするかどうか</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_zlib"><code class="literal">WITH_ZLIB</code></a></td><td>zlib サポートのタイプ</td><td><code class="literal">system</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_storage_engine_options" title="ストレージエンジンオプション"><code class="literal">WITHOUT_xxx_STORAGE_ENGINE</code></a></td><td>ストレージエンジン xxx をビルドから除外</td><td> </td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_without_server"><code class="literal">WITHOUT_SERVER</code></a></td><td>サーバーをビルドしない</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr></tbody></table></div></div><br class="table-break"><p>
      次のセクションでは、<span class="command"><strong>CMake</strong></span> オプションについてより詳しく説明します。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="xref" href="installing.html#cmake-general-options" title="一般オプション">General Options</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="installing.html#cmake-installation-layout-options" title="インストールレイアウトオプション">Installation Layout Options</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="installing.html#cmake-feature-options" title="機能オプション">Feature Options</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="installing.html#cmake-mysql-cluster-options" title="MySQL Cluster のコンパイルのための CMake オプション">CMake Options for Compiling MySQL Cluster</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="installing.html#cmake-compiler-flags" title="コンパイラフラグ">Compiler Flags</a>
        </p></li></ul></div><p>
      boolean オプションでは、値を 1 または <code class="literal">ON</code> に指定してオプションを有効にするか、0 または <code class="literal">OFF</code> に指定して無効にします。
    </p><p>
      多くのオプションはコンパイル時のデフォルトを構成し、それらはサーバー起動時にオーバーライドできます。たとえば、デフォルトのインストールベースディレクトリ、TCP/IP ポート番号、および Unix ソケットファイルを構成する <code class="option">CMAKE_INSTALL_PREFIX</code>、<code class="option">MYSQL_TCP_PORT</code>、および <code class="option">MYSQL_UNIX_ADDR</code> の各オプションは、サーバー起動時に <span class="command"><strong>mysqld</strong></span> の <code class="option">--basedir</code>、<code class="option">--port</code>、および <code class="option">--socket</code> オプションで変更できます。該当する場合は、構成オプションの説明で対応する <span class="command"><strong>mysqld</strong></span> スタートアップオプションを示します。
    </p><h4><a name="cmake-general-options"></a>一般オプション</h4><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_cmake_build_config"></a>
          <a class="indexterm" name="idm139979163625888"></a> <a class="indexterm" name="idm139979163623728"></a> <code class="literal">-DBUILD_CONFIG=mysql_release</code>
        </p><p>
          このオプションは、オラクルが公式な MySQL リリースのバイナリ配布を生成するために使用するのと同じビルドオプションでソース配布を構成します。
        </p></li><li class="listitem"><p><a name="option_cmake_cmake_build_type"></a>
          <a class="indexterm" name="idm139979163618912"></a> <a class="indexterm" name="idm139979163616752"></a> <code class="literal">-DCMAKE_BUILD_TYPE=<em class="replaceable"><code>type</code></em></code>
        </p><p>
          生成するビルドのタイプ
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">RelWithDebInfo</code>: 最適化を有効にし、デバッグ情報を生成します。これはデフォルトの MySQL ビルドタイプです。
            </p></li><li class="listitem"><p>
              <code class="literal">Debug</code>: 最適化を無効にし、デバッグ情報を生成します。このビルドタイプは、<code class="option">WITH_DEBUG</code> オプションが有効な場合も使用されます。つまり、<code class="option">-DWITH_DEBUG=1</code> は <code class="option">-DCMAKE_BUILD_TYPE=Debug</code> と同じ効果を持ちます。
            </p></li></ul></div></li><li class="listitem"><p><a name="option_cmake_cpack_monolithic_install"></a>
          <a class="indexterm" name="idm139979163605872"></a> <a class="indexterm" name="idm139979163603632"></a> <code class="literal">-DCPACK_MONOLITHIC_INSTALL=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          このオプションは、<span class="command"><strong>make package</strong></span> 操作が複数のインストールパッケージファイルを作成するか、単独のファイルを作成するかに影響します。無効の場合、この操作は複数のインストールパッケージファイルを作成します。これは完全な MySQL インストールのサブセットのみをインストールする場合に便利です。有効の場合、すべてをインストールするための単独のファイルを作成します。
        </p></li></ul></div><h4><a name="cmake-installation-layout-options"></a>インストールレイアウトオプション</h4><p>
      <code class="option">CMAKE_INSTALL_PREFIX</code> オプションは、ベースインストールディレクトリを示します。コンポーネントの場所を示す、<code class="literal">INSTALL_<em class="replaceable"><code>xxx</code></em></code> という形式の名前を持つその他のオプションは、プリフィクスに相対的なものとして解釈され、その値は相対パス名です。それらの値はプリフィクスを含みません。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_cmake_cmake_install_prefix"></a>
          <a class="indexterm" name="idm139979163593312"></a> <a class="indexterm" name="idm139979163591136"></a> <code class="literal">-DCMAKE_INSTALL_PREFIX=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          インストールのベースディレクトリ。
        </p><p>
          この値は、サーバー起動時に <code class="option">--basedir</code> オプションで設定できます。
        </p></li><li class="listitem"><p><a name="option_cmake_install_bindir"></a>
          <a class="indexterm" name="idm139979163585040"></a> <a class="indexterm" name="idm139979163582880"></a> <code class="literal">-DINSTALL_BINDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          ユーザープログラムをインストールする場所。
        </p></li><li class="listitem"><p><a name="option_cmake_install_docdir"></a>
          <a class="indexterm" name="idm139979163578144"></a> <a class="indexterm" name="idm139979163575984"></a> <code class="literal">-DINSTALL_DOCDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          ドキュメントをインストールする場所。
        </p></li><li class="listitem"><p><a name="option_cmake_install_docreadmedir"></a>
          <a class="indexterm" name="idm139979163571264"></a> <a class="indexterm" name="idm139979163569088"></a> <code class="literal">-DINSTALL_DOCREADMEDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          <code class="filename">README</code> ファイルをインストールする場所。
        </p></li><li class="listitem"><p><a name="option_cmake_install_includedir"></a>
          <a class="indexterm" name="idm139979163563696"></a> <a class="indexterm" name="idm139979163561536"></a> <code class="literal">-DINSTALL_INCLUDEDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          ヘッダーファイルをインストールする場所。
        </p></li><li class="listitem"><p><a name="option_cmake_install_infodir"></a>
          <a class="indexterm" name="idm139979163556800"></a> <a class="indexterm" name="idm139979163554640"></a> <code class="literal">-DINSTALL_INFODIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Info ファイルをインストールする場所。
        </p></li><li class="listitem"><p><a name="option_cmake_install_layout"></a>
          <a class="indexterm" name="idm139979163549920"></a> <a class="indexterm" name="idm139979163547760"></a> <code class="literal">-DINSTALL_LAYOUT=<em class="replaceable"><code>name</code></em></code>
        </p><p>
          事前定義インストールレイアウトを選択します。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">STANDALONE</code>: <code class="filename">.tar.gz</code> および <code class="filename">.zip</code> パッケージで使用されるのと同じレイアウト。これはデフォルトです。
            </p></li><li class="listitem"><p>
              <code class="literal">RPM</code>: RPM パッケージと同様のレイアウト。
            </p></li><li class="listitem"><p>
              <code class="literal">SVR4</code>: Solaris パッケージレイアウト。
            </p></li><li class="listitem"><p>
              <code class="literal">DEB</code>: DEB パッケージレイアウト (実験的)。
            </p></li></ul></div><p>
          事前定義のレイアウトを選択できますが、ほかのオプションを指定することによって、個々のコンポーネントのインストール場所を変更できます。例:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cmake . -DINSTALL_LAYOUT=SVR4 -DMYSQL_DATADIR=/var/mysql/data</code></strong>
</pre></li><li class="listitem"><p><a name="option_cmake_install_libdir"></a>
          <a class="indexterm" name="idm139979163532416"></a> <a class="indexterm" name="idm139979163530256"></a> <code class="literal">-DINSTALL_LIBDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          ライブラリファイルをインストールする場所。
        </p></li><li class="listitem"><p><a name="option_cmake_install_mandir"></a>
          <a class="indexterm" name="idm139979163525456"></a> <a class="indexterm" name="idm139979163523296"></a> <code class="literal">-DINSTALL_MANDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          マニュアルページをインストールする場所。
        </p></li><li class="listitem"><p><a name="option_cmake_install_mysqlsharedir"></a>
          <a class="indexterm" name="idm139979163518496"></a> <a class="indexterm" name="idm139979163516320"></a> <code class="literal">-DINSTALL_MYSQLSHAREDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          共有データファイルをインストールする場所。
        </p></li><li class="listitem"><p><a name="option_cmake_install_mysqltestdir"></a>
          <a class="indexterm" name="idm139979163511488"></a> <a class="indexterm" name="idm139979163509312"></a> <code class="literal">-DINSTALL_MYSQLTESTDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          <code class="filename">mysql-test</code> ディレクトリをインストールする場所。MySQL 5.6.12 では、このディレクトリのインストールを抑制するには、オプションを明示的に空の値にセットします (<code class="option">-DINSTALL_MYSQLTESTDIR=</code>)。
        </p></li><li class="listitem"><p><a name="option_cmake_install_plugindir"></a>
          <a class="indexterm" name="idm139979163502816"></a> <a class="indexterm" name="idm139979163500656"></a> <code class="literal">-DINSTALL_PLUGINDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          プラグインディレクトリの場所。
        </p><p>
          この値は、サーバー起動時に <code class="option">--plugin_dir</code> オプションで設定できます。
        </p></li><li class="listitem"><p><a name="option_cmake_install_sbindir"></a>
          <a class="indexterm" name="idm139979163494592"></a> <a class="indexterm" name="idm139979163492432"></a> <code class="literal">-DINSTALL_SBINDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          <span class="command"><strong>mysqld</strong></span> サーバーをインストールする場所。
        </p></li><li class="listitem"><p><a name="option_cmake_install_scriptdir"></a>
          <a class="indexterm" name="idm139979163487056"></a> <a class="indexterm" name="idm139979163484896"></a> <code class="literal">-DINSTALL_SCRIPTDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          <span class="command"><strong>mysql_install_db</strong></span> をインストールする場所。
        </p></li><li class="listitem"><p><a name="option_cmake_install_sharedir"></a>
          <a class="indexterm" name="idm139979163479472"></a> <a class="indexterm" name="idm139979163477312"></a> <code class="literal">-DINSTALL_SHAREDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          <code class="filename">aclocal/mysql.m4</code> をインストールする場所。
        </p></li><li class="listitem"><p><a name="option_cmake_install_sqlbenchdir"></a>
          <a class="indexterm" name="idm139979163471888"></a> <a class="indexterm" name="idm139979163469728"></a> <code class="literal">-DINSTALL_SQLBENCHDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          <code class="filename">sql-bench</code> ディレクトリをインストールする場所。このディレクトリのインストールを抑制するには、オプションを明示的に空の値にセットします (<code class="option">-DINSTALL_SQLBENCHDIR=</code>)。
        </p></li><li class="listitem"><p><a name="option_cmake_install_supportfilesdir"></a>
          <a class="indexterm" name="idm139979163463296"></a> <a class="indexterm" name="idm139979163461056"></a> <code class="literal">-DINSTALL_SUPPORTFILESDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          追加のサポートファイルをインストールする場所。
        </p></li><li class="listitem"><p><a name="option_cmake_mysql_datadir"></a>
          <a class="indexterm" name="idm139979163456304"></a> <a class="indexterm" name="idm139979163454144"></a> <code class="literal">-DMYSQL_DATADIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          MySQL データディレクトリの場所。
        </p><p>
          この値は、サーバー起動時に <code class="option">--datadir</code> オプションで設定できます。
        </p></li><li class="listitem"><p><a name="option_cmake_odbc_includes"></a>
          <a class="indexterm" name="idm139979163448144"></a> <a class="indexterm" name="idm139979163445984"></a> <code class="literal">-DODBC_INCLUDES=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          ODBC インクルードディレクトリの場所。Connector/ODBC の構成中に使用されることがあります。
        </p></li><li class="listitem"><p><a name="option_cmake_odbc_lib_dir"></a>
          <a class="indexterm" name="idm139979163441120"></a> <a class="indexterm" name="idm139979163438960"></a> <code class="literal">-DODBC_LIB_DIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          ODBC ライブラリディレクトリの場所。Connector/ODBC の構成中に使用されることがあります。
        </p></li><li class="listitem"><p><a name="option_cmake_sysconfdir"></a>
          <a class="indexterm" name="idm139979163434160"></a> <a class="indexterm" name="idm139979163432000"></a> <code class="literal">-DSYSCONFDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          デフォルトの <code class="literal">my.cnf</code> オプションファイルディレクトリ。
        </p><p>
          この場所はサーバー起動時にはセットできませんが、<code class="option">--defaults-file=<em class="replaceable"><code>file_name</code></em></code> オプションを使用して、指定されたオプションファイルでサーバーを起動できます。ここで、<em class="replaceable"><code>file_name</code></em> はファイルへのフルパス名です。
        </p></li><li class="listitem"><p><a name="option_cmake_tmpdir"></a>
          <a class="indexterm" name="idm139979163424256"></a> <a class="indexterm" name="idm139979163422112"></a> <code class="literal">-DTMPDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          <code class="literal">tmpdir</code> システム変数に使用されるデフォルトの場所。指定しない場合は、値はデフォルトで <code class="literal">P_tmpdir</code> in <code class="literal">&lt;stdio.h&gt;</code> になります。このオプションは MySQL 5.6.16 で追加されました。
        </p></li></ul></div><h4><a name="option_cmake_storage_engine_options"></a>ストレージエンジンオプション</h4><p>
      ストレージエンジンはプラグインとしてビルドされます。プラグインは、静的モジュール (サーバー内にコンパイル) または動的モジュール (使用する前に、<code class="literal">INSTALL PLUGIN</code> ステートメントまたは <code class="option">--plugin-load</code> オプションを使用してサーバーにインストールする必要のあるダイナミックライブラリとしてビルド) としてビルドできます。一部のプラグインは、静的または動的ビルドをサポートしない場合があります。
    </p><p>
      <code class="literal">MyISAM</code>、<code class="literal">MERGE</code>、<code class="literal">MEMORY</code>、および <code class="literal">CSV</code> エンジンは必須 (必ずサーバー内にコンパイル) で、明示的にインストールする必要はありません。
    </p><p>
      ストレージエンジンをサーバー内に静的にコンパイルするには、<code class="literal">-DWITH_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE=1</code> を使用します。許可される <em class="replaceable"><code>engine</code></em> の値は、<code class="literal">ARCHIVE</code>、<code class="literal">BLACKHOLE</code>、<code class="literal">EXAMPLE</code>、<code class="literal">FEDERATED</code>、<code class="literal">INNOBASE</code> (<code class="literal">InnoDB</code>)、<code class="literal">NDB</code> または <code class="literal">NDBCLUSTER</code> (<code class="literal">NDB</code>)、<code class="literal">PARTITION</code> (パーティション化のサポート)、および <code class="literal">PERFSCHEMA</code> (Performance Schema) です。例:
    </p><pre class="programlisting">
-DWITH_INNOBASE_STORAGE_ENGINE=1
-DWITH_ARCHIVE_STORAGE_ENGINE=1
-DWITH_BLACKHOLE_STORAGE_ENGINE=1
-DWITH_PERFSCHEMA_STORAGE_ENGINE=1
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        <code class="option">WITH_NDBCLUSTER_STORAGE_ENGINE</code> は、MySQL Cluster を MySQL Cluster ソースを使用してビルドする場合のみサポートされます。ほかの MySQL ソースツリーまたは配布でのクラスタ化のサポートを有効にするために使用することはできません。MySQL Cluster ソース配布では、デフォルトで有効です。詳しくは、<a class="xref" href="mysql-cluster.html#mysql-cluster-install-linux-source" title="18.2.2.3 Linux でのソースからの MySQL Cluster のビルド">セクション18.2.2.3「Linux でのソースからの MySQL Cluster のビルド」</a>および<a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows-source" title="18.2.3.2 Windows でのソースからの MySQL Cluster のコンパイルとインストール">セクション18.2.3.2「Windows でのソースからの MySQL Cluster のコンパイルとインストール」</a>を参照してください。
      </p></div><p>
      ストレージエンジンをビルドから除外するには、<code class="literal">-DWITHOUT_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE=1</code> を使用します。例:
    </p><pre class="programlisting">
-DWITHOUT_EXAMPLE_STORAGE_ENGINE=1
-DWITHOUT_FEDERATED_STORAGE_ENGINE=1
-DWITHOUT_PARTITION_STORAGE_ENGINE=1
</pre><p>
      あるストレージエンジンに対して <code class="literal">-DWITH_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE</code> も <code class="literal">-DWITHOUT_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE</code> も指定されていない場合、そのエンジンは共有モジュールとしてビルドされるか、あるいは共有モジュールとしてビルドできない場合は除外されます。
    </p><h4><a name="cmake-feature-options"></a>機能オプション</h4><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_cmake_compilation_comment"></a>
          <a class="indexterm" name="idm139979163383440"></a> <a class="indexterm" name="idm139979163381280"></a> <code class="literal">-DCOMPILATION_COMMENT=<em class="replaceable"><code>string</code></em></code>
        </p><p>
          コンパイル環境に関する説明コメント。
        </p></li><li class="listitem"><p><a name="option_cmake_default_charset"></a>
          <a class="indexterm" name="idm139979163376560"></a> <a class="indexterm" name="idm139979163374400"></a> <code class="literal">-DDEFAULT_CHARSET=<em class="replaceable"><code>charset_name</code></em></code>
        </p><p>
          サーバーの文字セット。デフォルトでは、MySQL は <code class="literal">latin1</code> (cp1252 西部ヨーロッパ) 文字セットを使用します。
        </p><p>
          <em class="replaceable"><code>charset_name</code></em> は、<code class="literal">binary</code>、<code class="literal">armscii8</code>、<code class="literal">ascii</code>、<code class="literal">big5</code>、<code class="literal">cp1250</code>、<code class="literal">cp1251</code>、<code class="literal">cp1256</code>、<code class="literal">cp1257</code>、<code class="literal">cp850</code>、<code class="literal">cp852</code>、<code class="literal">cp866</code>、<code class="literal">cp932</code>、<code class="literal">dec8</code>、<code class="literal">eucjpms</code>、<code class="literal">euckr</code>、<code class="literal">gb2312</code>、<code class="literal">gbk</code>、<code class="literal">geostd8</code>、<code class="literal">greek</code>、<code class="literal">hebrew</code>、<code class="literal">hp8</code>、<code class="literal">keybcs2</code>、<code class="literal">koi8r</code>、<code class="literal">koi8u</code>、<code class="literal">latin1</code>、<code class="literal">latin2</code>、<code class="literal">latin5</code>、<code class="literal">latin7</code>、<code class="literal">macce</code>、<code class="literal">macroman</code>、<code class="literal">sjis</code>、<code class="literal">swe7</code>、<code class="literal">tis620</code>、<code class="literal">ucs2</code>、<code class="literal">ujis</code>、<code class="literal">utf8</code>、<code class="literal">utf8mb4</code>、<code class="literal">utf16</code>、<code class="literal">utf16le</code>、<code class="literal">utf32</code> のいずれかにできます。許可される文字セットは、<code class="filename">cmake/character_sets.cmake</code> ファイルに <code class="literal">CHARSETS_AVAILABLE</code> の値としてリストされています。
        </p><p>
          この値は、サーバー起動時に <code class="option">--character_set_server</code> オプションで設定できます。
        </p></li><li class="listitem"><p><a name="option_cmake_default_collation"></a>
          <a class="indexterm" name="idm139979163336080"></a> <a class="indexterm" name="idm139979163333920"></a> <code class="literal">-DDEFAULT_COLLATION=<em class="replaceable"><code>collation_name</code></em></code>
        </p><p>
          サーバーの照合順序。デフォルトでは、MySQL は <code class="literal">latin1_swedish_ci</code> を使用します。各文字セットにどの照合順序を使用するかを決めるには <code class="literal">SHOW COLLATION</code> ステートメントを使用します。
        </p><p>
          この値は、サーバー起動時に <code class="option">--collation_server</code> オプションで設定できます。
        </p></li><li class="listitem"><p><a name="option_cmake_enable_debug_sync"></a>
          <a class="indexterm" name="idm139979163325920"></a> <a class="indexterm" name="idm139979163323760"></a> <code class="literal">-DENABLE_DEBUG_SYNC=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Debug Sync 機能をサーバーにコンパイルするかどうか。この機能はテストとデバッグに使用されます。このオプションはデフォルトで有効ですが、MySQL でデバッグが有効に構成されていない場合は効果はありません。デバッグが有効で、Debug Sync を無効にする場合は、<code class="option">-DENABLE_DEBUG_SYNC=0</code> を使用します。
        </p><p>
          コンパイルされる場合、実行時には Debug Sync はデフォルトで無効です。有効にするには、<span class="command"><strong>mysqld</strong></span> を <code class="option">--debug-sync-timeout=<em class="replaceable"><code>N</code></em></code> オプションを使用して起動します。ここで、<em class="replaceable"><code>N</code></em> は 0 より大きいタイムアウト値です。(デフォルト値は 0 で、Debug Sync を無効にします。)<em class="replaceable"><code>N</code></em> はそれぞれの同期ポイントのデフォルトのタイムアウトになります。
        </p><p>
          Debug Sync 機能および同期点の使用方法についての説明は、「<a class="ulink" href="http://dev.mysql.com/doc/internals/en/test-synchronization.html" target="_top">MySQL Internals: Test Synchronization</a>」を参照してください。
        </p></li><li class="listitem"><p><a name="option_cmake_enable_downloads"></a>
          <a class="indexterm" name="idm139979163312608"></a> <a class="indexterm" name="idm139979163310448"></a> <a class="indexterm" name="idm139979163308464"></a> <code class="literal">-DENABLE_DOWNLOADS=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          オプションファイルをダウンロードするかどうか。たとえば、このオプションを有効にすると <span class="command"><strong>CMake</strong></span> は、ユニットテストを実行するためにテストスイートが使用する Google Test 配布をダウンロードします。
        </p></li><li class="listitem"><p><a name="option_cmake_enable_dtrace"></a>
          <a class="indexterm" name="idm139979163303248"></a> <a class="indexterm" name="idm139979163301088"></a> <code class="literal">-DENABLE_DTRACE=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          DTrace プローブのサポートをインクルードするかどうか。DTrace については、<a class="xref" href="server-administration.html#dba-dtrace-server" title="5.4 DTrace を使用した mysqld のトレース">セクション5.4「DTrace を使用した mysqld のトレース」</a>を参照してください。
        </p></li><li class="listitem"><p><a name="option_cmake_enable_gcov"></a>
          <a class="indexterm" name="idm139979163295440"></a> <a class="indexterm" name="idm139979163293328"></a> <code class="literal">-DENABLE_GCOV=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          gcov サポートをインクルードするかどうか (Linux のみ)。
        </p></li><li class="listitem"><p><a name="option_cmake_enable_gprof"></a>
          <a class="indexterm" name="idm139979163288512"></a> <a class="indexterm" name="idm139979163286352"></a> <code class="literal">-DENABLE_GPROF=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          <code class="literal">gprof</code> を有効にするかどうか (最適化された Linux ビルドのみ)。このオプションは MySQL 5.6.6 で追加されました。
        </p></li><li class="listitem"><p><a name="option_cmake_enabled_local_infile"></a>
          <a class="indexterm" name="idm139979163280720"></a> <a class="indexterm" name="idm139979163278544"></a> <code class="literal">-DENABLED_LOCAL_INFILE=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          <code class="literal">LOCAL</code> 機能を <code class="literal">LOAD DATA INFILE</code> のクライアントライブラリで有効にするかどうか。
        </p><p>
          このオプションは、クライアント側の <code class="literal">LOCAL</code> 機能を制御しますが、この機能は <code class="literal">--local-infile</code> オプションを使用して、サーバー側でサーバーの起動時に設定できます。<a class="xref" href="security.html#load-data-local" title="6.1.6 LOAD DATA LOCAL のセキュリティーの問題">セクション6.1.6「LOAD DATA LOCAL のセキュリティーの問題」</a>を参照してください。
        </p></li><li class="listitem"><p><a name="option_cmake_enabled_profiling"></a>
          <a class="indexterm" name="idm139979163268368"></a> <a class="indexterm" name="idm139979163266240"></a> <code class="literal">-DENABLED_PROFILING=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          クエリープロファイリングコードを有効にするかどうか (<code class="literal">SHOW PROFILE</code> および <code class="literal">SHOW PROFILES</code> ステートメントで)。
        </p></li><li class="listitem"><p><a name="option_cmake_ignore_aio_check"></a>
          <a class="indexterm" name="idm139979163259376"></a> <a class="indexterm" name="idm139979163257216"></a> <a class="indexterm" name="idm139979163255232"></a> <code class="literal">-DIGNORE_AIO_CHECK=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Linux で <code class="option">-DBUILD_CONFIG=mysql_release</code> オプションが与えられた場合、デフォルトで <code class="literal">libaio</code> ライブラリがリンクされていなければなりません。<code class="literal">libaio</code> がない場合、またはインストールしない場合、<code class="option">-DIGNORE_AIO_CHECK=1</code> を指定するとそのチェックを抑制できます。このオプションは MySQL 5.6.1 で追加されました。
        </p></li><li class="listitem"><p><a name="option_cmake_innodb_page_atomic_ref_count"></a>
          <a class="indexterm" name="idm139979163247696"></a> <a class="indexterm" name="idm139979163245504"></a> <code class="literal">-DINNODB_PAGE_ATOMIC_REF_COUNT=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          アトミックページ参照のカウントを有効にするか無効にするか。バッファープールからページをフェッチおよび解放してページの状態を追跡するのは、負荷が高く複雑な操作です。ページの相互排他ロックを使用してこれらの操作を追跡すると、うまく拡張しません。<code class="literal">INNODB_PAGE_ATOMIC_REF_COUNT=ON</code> (デフォルト) では、フェッチと解放は可能であればアトミックを使用して追跡されます。アトミックをサポートしないプラットフォームでは、アトミックページ参照のカウントを無効にするように <code class="literal">INNODB_PAGE_ATOMIC_REF_COUNT=OFF</code> を設定します。
        </p><p>
          アトミックページ参照のカウントが有効の場合 (デフォルト)、サーバーのスタートアップ時に<span class="quote">「<span class="quote"><code class="literal">[Note] InnoDB: Using atomics to ref count buffer pool pages</code></span>」</span>がエラーログに出力されます。アトミックページ参照のカウントが無効の場合、代わりに<span class="quote">「<span class="quote"><code class="literal">[Note] InnoDB: Using mutexes to ref count buffer pool pages</code></span>」</span>が出力されます。
        </p><p>
          <code class="literal">INNODB_PAGE_ATOMIC_REF_COUNT</code> は、MySQL Bug #68079 の解決策として導入されました。このオプションは MySQL 5.7.5 では削除されました。アトミックのサポートは、MySQL を MySQL 5.7.5 としてビルドするために必要です。そのためこのオプションは非推奨です。
        </p></li><li class="listitem"><p><a name="option_cmake_mysql_maintainer_mode"></a>
          <a class="indexterm" name="idm139979163233840"></a> <a class="indexterm" name="idm139979163231600"></a> <code class="literal">-DMYSQL_MAINTAINER_MODE=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          MySQL 管理者固有の開発環境を有効にするかどうか。有効の場合、このオプションによりコンパイラの警告はエラーになります。
        </p></li><li class="listitem"><p><a name="option_cmake_mysql_project_name"></a>
          <a class="indexterm" name="idm139979163226640"></a> <a class="indexterm" name="idm139979163224480"></a> <code class="literal">-DMYSQL_PROJECT_NAME=<em class="replaceable"><code>name</code></em></code>
        </p><p>
          Windows または OS X では、プロジェクトファイル名に組み込むプロジェクト名。このオプションは MySQL 5.6.5 で追加されました。
        </p></li><li class="listitem"><p><a name="option_cmake_mysql_tcp_port"></a>
          <a class="indexterm" name="idm139979163219520"></a> <a class="indexterm" name="idm139979163217360"></a> <a class="indexterm" name="idm139979163215376"></a> <a class="indexterm" name="idm139979163214032"></a> <a class="indexterm" name="idm139979163212576"></a> <code class="literal">-DMYSQL_TCP_PORT=<em class="replaceable"><code>port_num</code></em></code>
        </p><p>
          サーバーが TCP/IP 接続を待機するポート番号。デフォルトは 3306 です。
        </p><p>
          この値は、サーバー起動時に <code class="option">--port</code> オプションで設定できます。
        </p></li><li class="listitem"><p><a name="option_cmake_mysql_unix_addr"></a>
          <a class="indexterm" name="idm139979163207216"></a> <a class="indexterm" name="idm139979163205056"></a> <code class="literal">-DMYSQL_UNIX_ADDR=<em class="replaceable"><code>file_name</code></em></code>
        </p><p>
          サーバーがソケット接続を待機する Unix ソケットファイルのパス。これは絶対パス名でなければなりません。デフォルトは <code class="filename">/tmp/mysql.sock</code> です。
        </p><p>
          この値は、サーバー起動時に <code class="option">--socket</code> オプションで設定できます。
        </p></li><li class="listitem"><p><a name="option_cmake_optimizer_trace"></a>
          <a class="indexterm" name="idm139979163198032"></a> <a class="indexterm" name="idm139979163195872"></a> <code class="literal">-DOPTIMIZER_TRACE=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          オプティマイザのトレースをサポートするかどうか。「<a class="ulink" href="http://dev.mysql.com/doc/internals/en/optimizer-tracing.html" target="_top">MySQL Internals: Tracing the Optimizer</a>」を参照してください。このオプションは MySQL 5.6.3 で追加されました。
        </p></li><li class="listitem"><p><a name="option_cmake_with_asan"></a>
          <a class="indexterm" name="idm139979163190288"></a> <a class="indexterm" name="idm139979163188128"></a> <code class="literal">-DWITH_ASAN=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          AddressSanitizer を有効にするかどうか (サポートするコンパイラの場合)。デフォルトはオフです。このオプションは MySQL 5.6.15 で追加されました。
        </p></li><li class="listitem"><p><a name="option_cmake_with_debug"></a>
          <a class="indexterm" name="idm139979163183184"></a> <a class="indexterm" name="idm139979163181024"></a> <code class="literal">-DWITH_DEBUG=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          デバッグサポートを含めるかどうか。
        </p><p>
          デバッグサポートを有効にして MySQL を構成することにより、サーバーを起動するときに <code class="option">--debug="d,parser_debug"</code> オプションを使用できるようになります。これにより、SQL ステートメントの処理に使用される Bison パーサーが、パーサートレースをサーバーの標準エラー出力にダンプします。一般的に、この出力はエラーログに書き込まれます。
        </p></li><li class="listitem"><p><a name="option_cmake_with_default_feature_set"></a>
          <a class="indexterm" name="idm139979163174272"></a> <a class="indexterm" name="idm139979163172032"></a> <code class="literal">-DWITH_DEFAULT_FEATURE_SET=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          <code class="filename">cmake/build_configurations/feature_set.cmake</code> からのフラグを使用するかどうか。このオプションは MySQL 5.6.6 で追加されました。
        </p></li><li class="listitem"><p><a name="option_cmake_with_editline"></a>
          <a class="indexterm" name="idm139979163166432"></a> <a class="indexterm" name="idm139979163164272"></a> <code class="literal">-DWITH_EDITLINE=<em class="replaceable"><code>value</code></em></code>
        </p><p>
          どの <code class="literal">libedit</code>/<code class="literal">editline</code> ライブラリを使用するか。許可される値は、<code class="literal">bundled</code> (デフォルト) および <code class="literal">system</code> です。
        </p><p>
          <code class="option">WITH_EDITLINE</code> は MySQL 5.6.12 で追加されました。これは、削除された <code class="option">WITH_LIBEDIT</code> に代わるものです。
        </p></li><li class="listitem"><p><a name="option_cmake_with_embedded_server"></a>
          <a class="indexterm" name="idm139979163154624"></a> <a class="indexterm" name="idm139979163152448"></a> <code class="literal">-DWITH_EMBEDDED_SERVER=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          <code class="literal">libmysqld</code> 組み込みサーバーライブラリをビルドするかどうか。
        </p></li><li class="listitem"><p><a name="option_cmake_with_embedded_shared_library"></a>
          <a class="indexterm" name="idm139979163146896"></a> <a class="indexterm" name="idm139979163144704"></a> <code class="literal">-DWITH_EMBEDDED_SHARED_LIBRARY=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          共有 <code class="literal">libmysqld</code> 組み込みサーバーライブラリをビルドするかどうか。このオプションは MySQL 5.6.17 で追加されました。
        </p></li><li class="listitem"><p><a name="option_cmake_with_extra_charsets"></a>
          <a class="indexterm" name="idm139979163139040"></a> <a class="indexterm" name="idm139979163136880"></a> <code class="literal">-DWITH_EXTRA_CHARSETS=<em class="replaceable"><code>name</code></em></code>
        </p><p>
          どの追加文字セットをインクルードするか。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">all</code>: すべての文字セット。これはデフォルトです。
            </p></li><li class="listitem"><p>
              <code class="literal">complex</code>: 複雑な文字セット。
            </p></li><li class="listitem"><p>
              <code class="literal">none</code>: 追加の文字セットなし。
            </p></li></ul></div></li><li class="listitem"><p><a name="option_cmake_with_innodb_memcached"></a>
          <a class="indexterm" name="idm139979163126976"></a> <a class="indexterm" name="idm139979163124736"></a> <code class="literal">-DWITH_INNODB_MEMCACHED=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          memcached 共有ライブラリ (<code class="filename">libmemcached.so</code> および <code class="filename">innodb_engine.so</code>) を生成するかどうか。
        </p></li><li class="listitem"><p><a name="option_cmake_with_libevent"></a>
          <a class="indexterm" name="idm139979163118496"></a> <a class="indexterm" name="idm139979163116336"></a> <code class="literal">-DWITH_LIBEVENT=<em class="replaceable"><code>string</code></em></code>
        </p><p>
          どの <code class="literal">libevent</code> ライブラリを使用するか。許可される値は、<code class="literal">bundled</code> (デフォルト)、<code class="literal">system</code>、および <code class="literal">yes</code> です。<code class="literal">system</code> または <code class="literal">yes</code> を指定した場合、システム <code class="literal">libevent</code> ライブラリが存在すればそれが使用されます。システムライブラリが見つからない場合は、バンドルの <code class="literal">libevent</code> ライブラリが使用されます。<code class="literal">libevent</code> ライブラリは、<code class="literal">InnoDB</code> memcached が必要とします。
        </p></li><li class="listitem"><p><a name="option_cmake_with_libedit"></a>
          <a class="indexterm" name="idm139979163103824"></a> <a class="indexterm" name="idm139979163101664"></a> <code class="literal">-DWITH_LIBEDIT=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          配布にバンドルされている <code class="literal">libedit</code> ライブラリを使用するかどうか。
        </p><p>
          <code class="option">WITH_LIBEDIT</code> は、MySQL 5.6.12 で削除されました。代わりに <code class="option">WITH_EDITLINE</code> を使用します。
        </p></li><li class="listitem"><p><a name="option_cmake_with_libwrap"></a>
          <a class="indexterm" name="idm139979163094128"></a> <a class="indexterm" name="idm139979163091968"></a> <code class="literal">-DWITH_LIBWRAP=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          <code class="literal">libwrap</code> (TCP ラッパー) サポートを含めるかどうか。
        </p></li><li class="listitem"><p><a name="option_cmake_with_readline"></a>
          <a class="indexterm" name="idm139979163086560"></a> <a class="indexterm" name="idm139979163084400"></a> <code class="literal">-DWITH_READLINE=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          配布にバンドルされている <code class="literal">readline</code> ライブラリを使用するかどうか。<code class="literal">readline</code> はバンドルされなくなったため、このオプションは MySQL 5.6.5 で削除されました。
        </p></li><li class="listitem"><p><a name="option_cmake_with_ssl"></a>
          <a class="indexterm" name="idm139979163077968"></a> <a class="indexterm" name="idm139979163075808"></a> <code class="literal">-DWITH_SSL={<em class="replaceable"><code>ssl_type</code></em></code>|<em class="replaceable"><code>path_name</code></em>}
        </p></li><li class="listitem"><p>
          含める SSL サポートのタイプ (ある場合) または使用する OpenSSL インストールへのパス名。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <em class="replaceable"><code>ssl_type</code></em> には、次の値のいずれかを指定できます。
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>
                  <code class="literal">no</code>: SSL サポートなし。これは MySQL 5.6.6 以前のデフォルトです。5.6.6 では、これは許可される値ではなくなりました。デフォルトは <code class="literal">bundled</code> です。
                </p></li><li class="listitem"><p>
                  <code class="literal">yes</code>: システムの SSL ライブラリが存在すればそれを使用します。そうでない場合は配布にバンドルされたライブラリを使用します。
                </p></li><li class="listitem"><p>
                  <code class="literal">bundled</code>: 配布にバンドルされた SSL ライブラリを使用します。これは MySQL 5.6.6 のデフォルトです。
                </p></li><li class="listitem"><p>
                  <code class="literal">system</code>: システムの SSL ライブラリを使用します。
                </p></li></ul></div></li><li class="listitem"><p>
              <em class="replaceable"><code>path_name</code></em>, MySQL 5.6.7 以降で許可されます。使用する OpenSSL インストールへのパス名です。CMake が、システムにインストールされた古いまたは誤った OpenSSL バージョンを検出して使用するのを防ぐことができるため、<code class="literal">system</code> の <em class="replaceable"><code>ssl_type</code></em> 値を使用するよりもこちらの方が推奨されます。(同じことをするためのもう 1 つの許可される方法は、<code class="option">CMAKE_PREFIX_PATH</code> オプションを <em class="replaceable"><code>path_name</code></em> にセットすることです。)
            </p></li></ul></div><p>
          SSL サポートの使用の詳細は、<a class="xref" href="security.html#ssl-connections" title="6.3.10 セキュアな接続のための SSL の使用">セクション6.3.10「セキュアな接続のための SSL の使用」</a>を参照してください。
        </p></li><li class="listitem"><p><a name="option_cmake_with_unixodbc"></a>
          <a class="indexterm" name="idm139979163054592"></a> <a class="indexterm" name="idm139979163052464"></a> <code class="literal">-DWITH_UNIXODBC=<em class="replaceable"><code>1</code></em></code>
        </p><p>
          Connector/ODBC に関して、unixODBC サポートを有効にします。
        </p></li><li class="listitem"><p><a name="option_cmake_with_valgrind"></a>
          <a class="indexterm" name="idm139979163047664"></a> <a class="indexterm" name="idm139979163045504"></a> <code class="literal">-DWITH_VALGRIND=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Valgrind ヘッダーファイルをコンパイルするかどうか。これにより、Valgrind API が MySQL コードに公開されます。デフォルトは <code class="literal">OFF</code> です。
        </p><p>
          Valgrind 対応のデバッグビルドを生成するには、<code class="option">-DWITH_VALGRIND=1</code> は通常 <code class="option">-DWITH_DEBUG=1</code> と組み合わされます。<a class="ulink" href="http://dev.mysql.com/doc/internals/en/debug-configurations.html" target="_top">Building Debug Configurations</a> を参照してください。
        </p></li><li class="listitem"><p><a name="option_cmake_with_zlib"></a>
          <a class="indexterm" name="idm139979163036976"></a> <a class="indexterm" name="idm139979163034816"></a> <code class="literal">-DWITH_ZLIB=<em class="replaceable"><code>zlib_type</code></em></code>
        </p><p>
          一部の機能では、サーバーが <code class="literal">COMPRESS()</code> および <code class="literal">UNCOMPRESS()</code> 関数などの圧縮ライブラリサポートでビルドされていること、およびクライアント/サーバープロトコルの圧縮を必要とします。<code class="option">WITH_ZLIB</code> は <code class="literal">zlib</code> サポートのソースを示します。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">bundled</code>: 配布にバンドルされた <code class="literal">zlib</code> ライブラリを使用します。
            </p></li><li class="listitem"><p>
              <code class="literal">system</code>: システムの <code class="literal">zlib</code> ライブラリを使用します。これはデフォルトです。
            </p></li></ul></div></li><li class="listitem"><p><a name="option_cmake_without_server"></a>
          <a class="indexterm" name="idm139979163021152"></a> <a class="indexterm" name="idm139979163018992"></a> <code class="literal">-DWITHOUT_SERVER=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          MySQL Server なしでビルドするかどうか。デフォルトは <code class="literal">OFF</code> で、サーバーをビルドします。
        </p></li></ul></div><h4><a name="cmake-compiler-flags"></a>コンパイラフラグ</h4><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_cmake_cmake_c_flags"></a>
          <a class="indexterm" name="idm139979163011888"></a> <a class="indexterm" name="idm139979163009728"></a> <code class="literal">-DCMAKE_C_FLAGS="<em class="replaceable"><code>flags</code></em></code>"
        </p><p>
          C コンパイラのフラグ。
        </p></li><li class="listitem"><p><a name="option_cmake_cmake_cxx_flags"></a>
          <a class="indexterm" name="idm139979163004944"></a> <a class="indexterm" name="idm139979163002784"></a> <code class="literal">-DCMAKE_CXX_FLAGS="<em class="replaceable"><code>flags</code></em></code>"
        </p><p>
          C++ コンパイラのフラグ。
        </p></li><li class="listitem"><p><a name="option_cmake_with_default_compiler_options"></a>
          <a class="indexterm" name="idm139979162997952"></a> <a class="indexterm" name="idm139979162995760"></a> <code class="literal">-DWITH_DEFAULT_COMPILER_OPTIONS=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          <code class="filename">cmake/build_configurations/compiler_options.cmake</code> からのフラグを使用するかどうか。このオプションは MySQL 5.6.6 で追加されました。
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            すべての最適化フラグは、MySQL ビルドチームによって慎重に選択およびテストされています。オーバーライドすると予期しない結果になることがあります。自己責任において行なってください。
          </p></div></li><li class="listitem"><p><a name="option_cmake_sunpro_cxx_library"></a>
          <a class="indexterm" name="idm139979162988736"></a> <a class="indexterm" name="idm139979162986576"></a> <code class="literal">-DSUNPRO_CXX_LIBRARY="<em class="replaceable"><code>lib_name</code></em></code>"
        </p><p>
          Solaris 10 以降で <code class="literal">stlport4</code> の代わりに <code class="literal">libCstd</code> へのリンクを可能にします。サーバーは C++98 に依存するため、これはクライアントコードのみに機能します。使用例:
        </p><pre class="programlisting">
cmake -DWITHOUT_SERVER=1 -DSUNPRO_CXX_LIBRARY=Cstd
</pre><p>
          このオプションは MySQL 5.6.20 で追加されました。
        </p></li></ul></div><p>
      独自の C および C++ コンパイラフラグを指定するには、最適化に影響しないフラグの場合は <code class="option">CMAKE_C_FLAGS</code> および <code class="option">CMAKE_CXX_FLAGS</code> CMake オプションを使用します。
    </p><p>
      独自のコンパイラフラグを提供する場合、<code class="option">CMAKE_BUILD_TYPE</code> も指定するとよいでしょう。
    </p><p>
      たとえば、32 ビットリリースビルドを 64 ビット Linux マシンに作成するには次のようにします。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mkdir bld</code></strong>
shell&gt; <strong class="userinput"><code>cd bld</code></strong>
shell&gt; <strong class="userinput"><code>cmake .. -DCMAKE_C_FLAGS=-m32 \</code></strong>
         <strong class="userinput"><code>-DCMAKE_CXX_FLAGS=-m32 \</code></strong>
         <strong class="userinput"><code>-DCMAKE_BUILD_TYPE=RelWithDebInfo</code></strong>
</pre><p>
      最適化に影響するフラグ (<code class="option">-O<em class="replaceable"><code>number</code></em></code>) をセットする場合は、<code class="option">CMAKE_C_FLAGS_<em class="replaceable"><code>build_type</code></em></code> および/または <code class="option">CMAKE_CXX_FLAGS_<em class="replaceable"><code>build_type</code></em></code> オプションをセットする必要があります。ここで、<em class="replaceable"><code>build_type</code></em> は <code class="option">CMAKE_BUILD_TYPE</code> 値に対応します。デフォルトのビルドタイプ (<code class="literal">RelWithDebInfo</code>) に異なる最適化を指定するには、<code class="option">CMAKE_C_FLAGS_RELWITHDEBINFO</code> および <code class="option">CMAKE_CXX_FLAGS_RELWITHDEBINFO</code> オプションをセットします。たとえば、Linux で <code class="option">-O3</code> とデバッグシンボルを使用してコンパイルするには、次のようにします。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cmake .. -DCMAKE_C_FLAGS_RELWITHDEBINFO="-O3 -g" \</code></strong>
         <strong class="userinput"><code>-DCMAKE_CXX_FLAGS_RELWITHDEBINFO="-O3 -g"</code></strong>
</pre><h4><a name="cmake-mysql-cluster-options"></a>MySQL Cluster のコンパイルのための CMake オプション</h4><p>
      次のオプションは、MySQL Cluster を MySQL Cluster ソースでビルドする場合に使用されます。現在、MySQL 5.6 Server ツリーからのソースを使用する場合は、サポートされていません。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_cmake_memcached_home"></a>
          <a class="indexterm" name="idm139979162958944"></a> <a class="indexterm" name="idm139979162956784"></a> <code class="literal">-DMEMCACHED_HOME=<em class="replaceable"><code>path</code></em></code>
        </p><p>
          <em class="replaceable"><code>path</code></em> で示されるシステムディレクトリにインストールされた memcached (バージョン 1.6 以降) を使用してビルドを実行します。ビルドに使用されるこのインストールからのファイルは、memcached バイナリ、ヘッダーファイル、およびライブラリに加えて、<code class="literal">memcached_utilities</code> ライブラリおよびヘッダーファイル <code class="filename">engine_testapp.h</code> を含みます。
        </p><p>
          <code class="literal">ndbmemcache</code> を、バンドルの memcached ソースを使用してビルドする場合 (<code class="option">WITH_BUNDLED_MEMCACHED</code> オプション)、このオプションはセットしないでください。すなわち、デフォルトでバンドルのソースが使用されます。
        </p><p>
          このオプションは MySQL Cluster NDB 7.2.2 で追加されました。
        </p><p>
          SASL 承認および <code class="literal">dtrace</code> サポートの提供など、追加の <span class="command"><strong>CMake</strong></span> オプションは、外部ソースから <span class="command"><strong>memcached</strong></span> をコンパイルするときに使用可能ですが、これらのオプションは現在、MySQL Cluster にバンドルされる <span class="command"><strong>memcached</strong></span> ソースには有効にはなっていません。
        </p></li><li class="listitem"><p><a name="option_cmake_with_bundled_libevent"></a>
          <a class="indexterm" name="idm139979162942816"></a> <a class="indexterm" name="idm139979162940576"></a> <code class="literal">-DWITH_BUNDLED_LIBEVENT={ON|OFF}</code>
        </p><p>
          MySQL Cluster を ndbmemcached サポート (MySQL Cluster NDB 7.2.2 以降) でビルドする際には、MySQL Cluster ソースに含まれる <code class="literal">libevent</code> を使用します。デフォルトで有効。OFF にすると、システムの libevent が代わりに使用されます。
        </p></li><li class="listitem"><p><a name="option_cmake_with_bundled_memcached"></a>
          <a class="indexterm" name="idm139979162934912"></a> <a class="indexterm" name="idm139979162932672"></a> <code class="literal">-DWITH_BUNDLED_MEMCACHED={ON|OFF}</code>
        </p><p>
          MySQL Cluster ソースツリー (MySQL Cluster NDB 7.2.3 以降) に含まれる memcached ソースをビルドし、ndbmemcache エンジンをビルドするときにその結果の memcached サーバーを使用します。この場合、<span class="command"><strong>make install</strong></span> は <span class="command"><strong>memcached</strong></span> バイナリをインストールの <code class="filename">bin</code> ディレクトリに置き、ndbmemcache エンジン共有オブジェクトファイル <code class="filename">ndb_engine.so</code> をインストールの <code class="filename">lib</code> ディレクトリに置きます。
        </p><p>
          このオプションはデフォルトで ON です。
        </p></li><li class="listitem"><p><a name="option_cmake_with_classpath"></a>
          <a class="indexterm" name="idm139979162923376"></a> <a class="indexterm" name="idm139979162921216"></a> <code class="literal">-DWITH_CLASSPATH=<em class="replaceable"><code>path</code></em></code>
        </p><p>
          Java 用 MySQL Cluster Connector のビルド時に使用するクラスパスをセットします。デフォルトは空です。MySQL Cluster NDB 7.2.9 以降では、<code class="option">-DWITH_NDB_JAVA=OFF</code> が使用されている場合はこのオプションは無視されます。
        </p></li><li class="listitem"><p><a name="option_cmake_with_error_insert"></a>
          <a class="indexterm" name="idm139979162915328"></a> <a class="indexterm" name="idm139979162913168"></a> <code class="literal">-DWITH_ERROR_INSERT={ON|OFF}</code>
        </p><p>
          <code class="literal">NDB</code> カーネルのエラーインジェクションを有効化します。テスト専用です。本番環境のバイナリのビルドに使用することは意図していません。デフォルトは <code class="literal">OFF</code> です。
        </p></li><li class="listitem"><p><a name="option_cmake_with_ndbcluster_storage_engine"></a>
          <a class="indexterm" name="idm139979162906736"></a> <a class="indexterm" name="idm139979162904544"></a> <code class="literal">-DWITH_NDBCLUSTER_STORAGE_ENGINE={ON|OFF}</code>
        </p><p>
          <span class="command"><strong>mysqld</strong></span> で <code class="literal">NDB</code> (<code class="literal">NDBCLUSTER</code>) ストレージエンジンのサポートのビルドおよびリンク。デフォルトは <code class="literal">ON</code> です。
        </p></li><li class="listitem"><p><a name="option_cmake_with_ndbcluster"></a>
          <a class="indexterm" name="idm139979162896672"></a> <a class="indexterm" name="idm139979162894512"></a> <code class="literal">-DWITH_NDBCLUSTER={ON|OFF}</code>
        </p><p>
          これは <code class="option">WITH_NDBCLUSTER_STORAGE_ENGINE</code> のエイリアスです。
        </p></li><li class="listitem"><p><a name="option_cmake_with_ndbmtd"></a>
          <a class="indexterm" name="idm139979162889360"></a> <a class="indexterm" name="idm139979162887216"></a> <code class="literal">-DWITH_NDBMTD={ON|OFF}</code>
        </p><p>
          マルチスレッドのデータノード実行ファイル <span class="command"><strong>ndbmtd</strong></span> をビルド。デフォルトは <code class="literal">ON</code> です。
        </p></li><li class="listitem"><p><a name="option_cmake_with_ndb_binlog"></a>
          <a class="indexterm" name="idm139979162881264"></a> <a class="indexterm" name="idm139979162879104"></a> <code class="literal">-DWITH_NDB_BINLOG={ON|OFF}</code>
        </p><p>
          このオプションを使用して、<span class="command"><strong>mysqld</strong></span> ビルド内でデフォルトでバイナリロギングを有効にします。デフォルトで ON です。
        </p></li><li class="listitem"><p><a name="option_cmake_with_ndb_debug"></a>
          <a class="indexterm" name="idm139979162873696"></a> <a class="indexterm" name="idm139979162871536"></a> <code class="literal">-DWITH_NDB_DEBUG={ON|OFF}</code>
        </p><p>
          MySQL Cluster バイナリのデバッグバージョンのビルドを有効にします。デフォルトで OFF です。
        </p></li><li class="listitem"><p><a name="option_cmake_with_ndb_java"></a>
          <a class="indexterm" name="idm139979162866944"></a> <a class="indexterm" name="idm139979162864784"></a> <code class="literal">-DWITH_NDB_JAVA={ON|OFF}</code>
        </p><p>
          <code class="literal">ClusterJ</code> を含め、MySQL Cluster の Java サポート付きでのビルドを有効にします。
        </p><p>
          このオプションは MySQL Cluster NDB 7.2.9 で追加され、デフォルトで ON です。MySQL Cluster を Java サポート付きでコンパイルしない場合は、<span class="command"><strong>CMake</strong></span> の実行時に <code class="option">-DWITH_NDB_JAVA=OFF</code> を指定することによって明示的に無効にする必要があります。そうしないと、Java が検出できない場合にビルドの構成が失敗します。
        </p></li><li class="listitem"><p><a name="option_cmake_with_ndb_port"></a>
          <a class="indexterm" name="idm139979162857248"></a> <a class="indexterm" name="idm139979162855088"></a> <code class="literal">-DWITH_NDB_PORT=<em class="replaceable"><code>port</code></em></code>
        </p><p>
          ビルドされた MySQL Cluster 管理サーバー (<span class="command"><strong>ndb_mgmd</strong></span>) が、この <em class="replaceable"><code>port</code></em> をデフォルトで使用するようにします。このオプションがセットされていない場合、結果の管理サーバーはデフォルトでポート 1186 を使用しようとします。
        </p></li><li class="listitem"><p><a name="option_cmake_with_ndb_test"></a>
          <a class="indexterm" name="idm139979162848768"></a> <a class="indexterm" name="idm139979162846608"></a> <code class="literal">-DWITH_NDB_TEST={ON|OFF}</code>
        </p><p>
          有効の場合、NDB API テストプログラムをインクルードします。デフォルトは OFF です。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="compilation-problems"></a>2.9.5 MySQL のコンパイルに関する問題</h3></div></div></div><a class="indexterm" name="idm139979162841536"></a><a class="indexterm" name="idm139979162839360"></a><a class="indexterm" name="idm139979162837264"></a><a class="indexterm" name="idm139979162835920"></a><a class="indexterm" name="idm139979162834528"></a><p>
      多くの問題の解決方法には再構成が含まれます。再構成を行う場合は、次に注意してください。
    </p><a class="indexterm" name="idm139979162831712"></a><a class="indexterm" name="idm139979162830320"></a><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="command"><strong>CMake</strong></span> を以前に実行したあとで実行すると、以前の起動時に収集した情報を使用する場合があります。この情報は <code class="filename">CMakeCache.txt</code> に格納されています。<span class="command"><strong>CMake</strong></span> は、起動時にそのファイルを探し、存在すればその情報がまだ正しいと仮定して内容を読み込みます。この仮定は再構成した場合には無効です。
        </p></li><li class="listitem"><p>
          <span class="command"><strong>CMake</strong></span> を実行するたびに、<span class="command"><strong>make</strong></span> を再実行して再コンパイルする必要があります。しかし、前のビルドの古いオブジェクトファイルが異なる構成オプションでコンパイルされている場合、それらを最初に削除する場合もあります。
        </p></li></ul></div><p>
      古いオブジェクトファイルまたは構成情報が使用されることを予防するために、<span class="command"><strong>CMake</strong></span> を再実行する前に次のコマンドを実行します。
    </p><p>
      Unix の場合:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>make clean</code></strong>
shell&gt; <strong class="userinput"><code>rm CMakeCache.txt</code></strong>
</pre><p>
      Windows の場合:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>devenv MySQL.sln /clean</code></strong>
shell&gt; <strong class="userinput"><code>del CMakeCache.txt</code></strong>
</pre><p>
      ソースツリー外でビルドする場合、<span class="command"><strong>CMake</strong></span> を再実行する前にビルドディレクトリを削除して再作成します。ソースツリー外でのビルドに関する説明は、<a class="ulink" href="http://dev.mysql.com/doc/internals/en/cmake.html" target="_top">Build MySQL Server を CMake でビルドする方法</a>を参照してください。
    </p><p>
      一部のシステムでは、システムインクルードファイルの違いにより警告が生じる場合があります。次のリストは、MySQL のコンパイル時にもっともよく生じることがよくわかっているその他の問題を記述しています。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="indexterm" name="idm139979162810816"></a> <a class="indexterm" name="idm139979162809328"></a> <a class="indexterm" name="idm139979162807456"></a> <a class="indexterm" name="idm139979162805968"></a> どの C および C++ コンパイラを使用するかを定義するために、<code class="literal">CC</code> および <code class="literal">CXX</code> 環境変数を使用できます。例:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>CC=gcc</code></strong>
shell&gt; <strong class="userinput"><code>CXX=g++</code></strong>
shell&gt; <strong class="userinput"><code>export CC CXX</code></strong>
</pre><p>
          独自の C および C++ コンパイラフラグを指定するには、<code class="option">CMAKE_C_FLAGS</code> および <code class="option">CMAKE_CXX_FLAGS</code> CMake オプションを使用します。<a class="xref" href="installing.html#cmake-compiler-flags" title="コンパイラフラグ">Compiler Flags</a>を参照してください。
        </p><p>
          指定する必要がある可能性のあるフラグを確認するには、<span class="command"><strong>mysql_config</strong></span> を、<code class="option">--cflags</code> および <code class="option">--cxxflags</code> オプションを使用して起動します。
        </p></li><li class="listitem"><p>
          コンパイル段階でどのコマンドが実行されるかを確認するには、<span class="command"><strong>CMake</strong></span> を使用して MySQL を構成したあと、単なる <span class="command"><strong>make</strong></span> ではなく <span class="command"><strong>make VERBOSE=1</strong></span> を実行します。
        </p></li><li class="listitem"><p>
          コンパイルに失敗する場合は、<code class="option">MYSQL_MAINTAINER_MODE</code> オプションが有効かどうかをチェックします。このモードでは、コンパイラの警告はエラーになるため、無効にすることによりコンパイルを続行できる場合があります。
        </p></li><li class="listitem"><p>
          コンパイルが次のいずれかのエラーで失敗した場合、<span class="command"><strong>make</strong></span> のバージョンを GNU <span class="command"><strong>make</strong></span> にアップグレードする必要があります。
        </p><pre class="programlisting">
make: Fatal error in reader: Makefile, line 18:
Badly formed macro assignment
</pre><p>
          または:
        </p><pre class="programlisting">
make: file `Makefile' line 18: Must be a separator (:
</pre><p>
          または:
        </p><pre class="programlisting">
pthread.h: No such file or directory
</pre><a class="indexterm" name="idm139979162782848"></a><a class="indexterm" name="idm139979162781296"></a><p>
          Solaris および FreeBSD は、<span class="command"><strong>make</strong></span> プログラムに問題が多いことが知られています。
        </p><p>
          GNU <span class="command"><strong>make</strong></span> 3.75 は動作が確認されています。
        </p></li><li class="listitem"><p>
          <code class="filename">sql_yacc.cc</code> ファイルは <code class="filename">sql_yacc.yy</code> から生成されます。通常、MySQL には事前生成された <code class="filename">sql_yacc.cc</code> が付属しているため、ビルドプロセスでコピーを作成する必要はありません。しかし、それを再度作成する必要がある場合、次のエラーに遭遇する場合もあります。
        </p><pre class="programlisting">
"sql_yacc.yy", line <em class="replaceable"><code>xxx</code></em> fatal: default action causes potential...
</pre><p>
          これは <span class="command"><strong>yacc</strong></span> のバージョンに問題があることを意味しています。おそらく、代わりに <span class="command"><strong>bison</strong></span> (the GNU version of <span class="command"><strong>yacc</strong></span>) の最近のバージョンをインストールして使用する必要があります。
        </p><p>
          <span class="command"><strong>bison</strong></span> 1.75 以前のバージョンでは次のエラーがレポートされる場合があります。
        </p><pre class="programlisting">
sql_yacc.yy:#####: fatal error: maximum table size (32767) exceeded
</pre><p>
          テーブルの最大サイズを実際には超えていなくても、<span class="command"><strong>bison</strong></span> の旧バージョンのバグでエラーが発生します。
        </p></li></ul></div><p>
      ツールの取得または更新の詳細は、<a class="xref" href="installing.html#source-installation" title="2.9 ソースから MySQL をインストールする">セクション2.9「ソースから MySQL をインストールする」</a>のシステム要件を参照してください。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="source-configuration-third-party"></a>2.9.6 MySQL の構成とサードパーティーツール</h3></div></div></div><a class="indexterm" name="idm139979162763344"></a><a class="indexterm" name="idm139979162761200"></a><p>
      MySQL のソースから MySQL のバージョンを判断する必要のあるサードパーティーツールは、トップレベルソースディレクトリの <code class="filename">VERSION</code> ファイルを読み取ることができます。このファイルには、バージョンの各部分が個別にリストされています。たとえば、バージョンが MySQL 5.7.4-m14 の場合、このファイルは次のようになります。
    </p><pre class="programlisting">
MYSQL_VERSION_MAJOR=5
MYSQL_VERSION_MINOR=7
MYSQL_VERSION_PATCH=4
MYSQL_VERSION_EXTRA=-m14
</pre><p>
      ソースが General Availablility (GA) リリースでない場合は、<code class="literal">MYSQL_VERSION_EXTRA</code> 値は空ではありません。この例の場合、値はマイルストーン 14 に対応します。
    </p><p>
      バージョンのコンポーネントから 5 桁の数字を構成するには、次の式を使用します。
    </p><pre class="programlisting">
MYSQL_VERSION_MAJOR*10000 + MYSQL_VERSION_MINOR*100 + MYSQL_VERSION_PATCH
</pre></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="postinstallation"></a>2.10 インストール後のセットアップとテスト</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#unix-postinstallation">2.10.1 Unix 類似システムでのインストール後の手順</a></span></dt><dt><span class="section"><a href="installing.html#default-privileges">2.10.2 最初の MySQL アカウントのセキュリティー設定</a></span></dt></dl></div><a class="indexterm" name="idm139979162752240"></a><a class="indexterm" name="idm139979162750144"></a><a class="indexterm" name="idm139979162748112"></a><p>
    このセクションでは、Unix 類似システムでのインストール後の項目について説明します。Windows を使用している場合は、<a class="xref" href="installing.html#windows-postinstallation" title="2.3.8 Windows でのインストール後の手順">セクション2.3.8「Windows でのインストール後の手順」</a>を参照してください。
  </p><p>
    MySQL のインストール後、対処するべき項目がいくつかあります。例:
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <a class="xref" href="installing.html#unix-postinstallation" title="2.10.1 Unix 類似システムでのインストール後の手順">セクション2.10.1「Unix 類似システムでのインストール後の手順」</a>で説明されているように、データディレクトリを初期化して MySQL 付与テーブルを作成してください。
      </p></li><li class="listitem"><p>
        セキュリティー上の重要な問題点は、付与テーブル内の初期アカウントにはパスワードがないことです。MySQL Server への権限のないアクセスを防ぐにはパスワードを割り当てる必要があります。その手順は、<a class="xref" href="installing.html#default-privileges" title="2.10.2 最初の MySQL アカウントのセキュリティー設定">セクション2.10.2「最初の MySQL アカウントのセキュリティー設定」</a>を参照してください。
      </p></li><li class="listitem"><p>
        オプションで、タイムゾーンテーブルを作成して名前付きタイムゾーンの認識を有効にできます。その手順は、<a class="xref" href="programs.html#mysql-tzinfo-to-sql" title="4.4.6 mysql_tzinfo_to_sql — タイムゾーンテーブルのロード">セクション4.4.6「<span class="command"><strong>mysql_tzinfo_to_sql</strong></span> — タイムゾーンテーブルのロード」</a>を参照してください。
      </p></li><li class="listitem"><p>
        サーバーの起動に問題がある場合は、<a class="xref" href="installing.html#starting-server" title="2.10.1.3 MySQL サーバーの起動とトラブルシューティング">セクション2.10.1.3「MySQL サーバーの起動とトラブルシューティング」</a>を参照してください。
      </p></li><li class="listitem"><p>
        新たにユーザーアカウントを作成する用意ができたら、<a class="xref" href="security.html#privilege-system" title="6.2 MySQL アクセス権限システム">セクション6.2「MySQL アクセス権限システム」</a>および<a class="xref" href="security.html#user-account-management" title="6.3 MySQL ユーザーアカウントの管理">セクション6.3「MySQL ユーザーアカウントの管理」</a>にある MySQL アクセス管理システムおよびアカウント管理に関する情報を参照して、ユーザーアカウントを設定します。
      </p></li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="unix-postinstallation"></a>2.10.1 Unix 類似システムでのインストール後の手順</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#mysql-install-db-problems">2.10.1.1 mysql_install_db 実行の問題</a></span></dt><dt><span class="section"><a href="installing.html#automatic-start">2.10.1.2 MySQL を自動的に起動および停止する</a></span></dt><dt><span class="section"><a href="installing.html#starting-server">2.10.1.3 MySQL サーバーの起動とトラブルシューティング</a></span></dt></dl></div><p>
      Unix 類似システムへの MySQL のインストール後、付与テーブルを初期化してサーバーを起動し、サーバーが満足に機能することを確認する必要があります。サーバーを、システムの起動および停止とともに自動的に起動および停止させることもできます。付与テーブルでアカウントにパスワードの割り当ても行なってください。
    </p><p>
      Unix 類似システムでは、付与テーブルは <span class="command"><strong>mysql_install_db</strong></span> プログラムによってセットアップされます。一部のインストール方法では、既存のデータベースが検出できない場合このプログラムが自動的に実行されます。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          RPM 配布を使用して MySQL を Linux にインストールする場合、サーバー RPM が <span class="command"><strong>mysql_install_db</strong></span> を実行します。
        </p></li><li class="listitem"><p>
          Debian Linux、Ubuntu Linux、Gentoo Linux などの多くのプラットフォームでは、ネイティブのパッケージングシステムを使用すると、<span class="command"><strong>mysql_install_db</strong></span> コマンドが自動的に実行されます。
        </p></li><li class="listitem"><p>
          DMG 配布を使用して MySQL を OS X にインストールする場合、インストーラが <span class="command"><strong>mysql_install_db</strong></span> を実行します。
        </p></li></ul></div><p>
      一般的なバイナリおよびソースインストールを含むその他のプラットフォームおよびインストールタイプでは、<span class="command"><strong>mysql_install_db</strong></span> を実行する必要があります。
    </p><p>
      次の手順は、付与テーブルを初期化して (まだ実行されていない場合)、サーバーを起動する方法を説明します。同時に、サーバーへのアクセスおよびサーバーの正常動作のテストに使用できるいくつかのコマンドも示してあります。サーバーの自動起動および停止に関する情報は、<a class="xref" href="installing.html#automatic-start" title="2.10.1.2 MySQL を自動的に起動および停止する">セクション2.10.1.2「MySQL を自動的に起動および停止する」</a>を参照してください。
    </p><p>
      手順を完了してサーバーが実行できたら、<span class="command"><strong>mysql_install_db</strong></span> によって作成されたアカウントにパスワードを割り当て、テストデータベースへのアクセスを制限するとよいでしょう。その手順は、<a class="xref" href="installing.html#default-privileges" title="2.10.2 最初の MySQL アカウントのセキュリティー設定">セクション2.10.2「最初の MySQL アカウントのセキュリティー設定」</a>を参照してください。
    </p><p>
      次の例では、サーバーは <code class="literal">mysql</code> のログインアカウントのユーザー ID で動作します。これはそのようなアカウントが存在することを前提にしています。存在しない場合は作成するか、あるいはサーバーの実行に使用する計画の別の既存のログインアカウントの名前を代用します。アカウント作成の詳細は、<a class="xref" href="installing.html#binary-installation" title="2.2 一般的なバイナリを使用した MySQL の Unix/Linux へのインストール">セクション2.2「一般的なバイナリを使用した MySQL の Unix/Linux へのインストール」</a>の<a class="link" href="installing.html#binary-installation-createsysuser" title="mysql ユーザーおよびグループの作成"><code class="literal">mysql</code> システムユーザーおよびグループの作成</a>を参照してください。
    </p><a class="indexterm" name="idm139979162714016"></a><a class="indexterm" name="idm139979162711872"></a><a class="indexterm" name="idm139979162709840"></a><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          MySQL インストールのトップレベルのディレクトリ (ここでは <em class="replaceable"><code>BASEDIR</code></em> で示されます) に場所を変更します。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cd <em class="replaceable"><code>BASEDIR</code></em></code></strong>
</pre><p>
          <em class="replaceable"><code>BASEDIR</code></em> は、MySQL インスタンスのインストールディレクトリです。それは、<code class="filename">/usr/local/mysql</code>、<code class="filename">/usr/local</code>、または <code class="filename">/usr/bin</code> (<a class="link" href="installing.html#linux-installation-yum-repo" title="2.5.1 MySQL Yum リポジトリを使用して MySQL を Linux にインストールする">MySQL Yum リポジトリまたはその他の方法によるインストールの場合、</a>) などのようになります。次の手順では、このディレクトリに移動していることを前提とします。
        </p><p>
          <em class="replaceable"><code>BASEDIR</code></em> ディレクトリにはいくつかのファイルとサブディレクトリがあります。インストールにもっとも重要なものは <code class="filename">bin</code> サブディレクトリおよび <code class="filename">scripts</code> サブディレクトリです。
        </p><div class="itemizedlist"><a class="indexterm" name="idm139979162696672"></a><a class="indexterm" name="idm139979162695232"></a><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="filename">bin</code> ディレクトリにはクライアントプログラムとサーバーが含まれています。シェルが MySQL プログラムを正しく見つけることができるように、このディレクトリの完全なパス名を <code class="literal">PATH</code> 環境変数に追加してください。<a class="xref" href="installing.html#environment-variables" title="2.12 環境変数">セクション2.12「環境変数」</a>を参照してください。
            </p></li><li class="listitem"><p>
              <code class="filename">scripts</code> ディレクトリには、サーバーアクセス権限を格納する付与テーブルを含む <code class="literal">mysql</code> データベースの初期化に使用される、<span class="command"><strong>mysql_install_db</strong></span> プログラムが含まれます。
            </p></li></ul></div></li><li class="listitem"><p>
          必要に応じて、<code class="literal">mysql</code> が配布のコンテンツにアクセスできることを確認します。配布を <code class="literal">mysql</code> としてインストールした場合は、追加のアクションは不要です。配布を <code class="literal">root</code> としてインストールした場合は、そのコンテンツは <code class="literal">root</code> が所有します。インストールディレクトリで次のコマンドを <code class="literal">root</code> として実行することで、所有権を <code class="literal">mysql</code> に変更します。最初のコマンドはファイルの所有者属性を <code class="literal">mysql</code> ユーザーに変更します。2 番目のコマンドはグループ属性を <code class="literal">mysql</code> グループに変更します。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>chown -R mysql .</code></strong>
shell&gt; <strong class="userinput"><code>chgrp -R mysql .</code></strong>
</pre></li><li class="listitem"><p>
          必要に応じて <span class="command"><strong>mysql_install_db</strong></span> プログラムを実行して、ユーザーによるサーバーへの接続許可を決定する権限を含む、初期 MySQL 付与テーブルをセットアップします。これは、インストール手順でこのプログラムが自動的に実行されないような配布タイプを使用した場合には必要になります。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>scripts/mysql_install_db --user=mysql</code></strong>
</pre><p>
          一般的には、<span class="command"><strong>mysql_install_db</strong></span> は MySQL を最初にインストールする際にのみ実行する必要があるため、既存のインストールをアップグレードした場合にはこのステップをスキップできます。しかし、<span class="command"><strong>mysql_install_db</strong></span> は既存の権限テーブルを上書きしないので、どのような場合でもこれを実行するのが安全でしょう。
        </p><p>
          <span class="command"><strong>mysql_install_db</strong></span> がインストールディレクトリまたはデータディレクトリの正しい場所を特定しない場合は、<code class="option">--basedir</code> や <code class="option">--datadir</code> などのほかのオプションを指定する必要がある場合があります。例:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>scripts/mysql_install_db --user=mysql \</code></strong>
         <strong class="userinput"><code>--basedir=/opt/mysql/mysql \</code></strong>
         <strong class="userinput"><code>--datadir=/opt/mysql/mysql/data</code></strong>
</pre><p>
          <span class="command"><strong>mysql_install_db</strong></span> プログラムは、<code class="literal">mysql</code> を所有者としてサーバーのデータディレクトリを作成します。データディレクトリの下に、付与テーブルを保持する <code class="literal">mysql</code> データベースと MySQL のテストに使用できる <code class="literal">test</code> データベースが作成されます。そのスクリプトはまた、<code class="literal">root</code> および匿名ユーザーアカウントの権限テーブルのエントリを作成します。これらのアカウントには、最初パスワードがありません。<a class="xref" href="installing.html#default-privileges" title="2.10.2 最初の MySQL アカウントのセキュリティー設定">セクション2.10.2「最初の MySQL アカウントのセキュリティー設定」</a>で、初期権限について説明しています。瞬間的に、これらの権限により MySQL <code class="literal">root</code> ユーザーはあらゆることを実行可能であり、だれでも <code class="literal">test</code> という名前または <code class="literal">test_</code> で始まる名前のデータベースを作成したり使用したりできます。付与テーブルの完全なリストと説明については、<a class="xref" href="security.html#privilege-system" title="6.2 MySQL アクセス権限システム">セクション6.2「MySQL アクセス権限システム」</a>を参照してください。
        </p><p>
          インストールをよりセキュアにするには、<span class="command"><strong>mysql_install_db</strong></span> を <code class="option">--random-passwords</code> オプションで起動します。これにより、ランダムパスワードが MySQL <code class="literal">root</code> アカウントに割り当てられ、これらのアカウントに対して<span class="quote">「<span class="quote">有効期限切れパスワード</span>」</span>フラグが設定され、匿名ユーザー MySQL アカウントが削除されます。追加情報については<a class="xref" href="programs.html#mysql-install-db" title="4.4.3 mysql_install_db — MySQL データディレクトリの初期化">セクション4.4.3「<span class="command"><strong>mysql_install_db</strong></span> — MySQL データディレクトリの初期化」</a>を参照してください。(Unbreakable Linux Network での RPM を使用したインストール操作は <span class="command"><strong>mysql_install_db</strong></span> を使用しないため、影響されません。)
        </p><p>
          あとでサーバーを起動したときに、サーバーがデータベースのディレクトリおよびファイルに対して読み取りアクセスおよび書き込みアクセスを持つように、それらが <code class="literal">mysql</code> のログインアカウントの所有になっていることを確認しておくことが重要です。これを確認するには、<span class="command"><strong>mysql_install_db</strong></span> を <code class="literal">root</code> として実行する場合は、示されるように <code class="option">--user</code> オプションを含めます。そうでない場合は、<code class="literal">mysql</code> としてログインしている間にそのスクリプトを実行する必要があります。その場合 <code class="option">--user</code> オプションをコマンドから除外できます。
        </p><p>
          <code class="literal">test</code> データベースを保持しない場合は、サーバーを起動してから、<a class="xref" href="installing.html#default-privileges" title="2.10.2 最初の MySQL アカウントのセキュリティー設定">セクション2.10.2「最初の MySQL アカウントのセキュリティー設定」</a>の指示に従って削除できます。
        </p><p>
          この段階で <span class="command"><strong>mysql_install_db</strong></span> の問題に遭遇した場合、<a class="xref" href="installing.html#mysql-install-db-problems" title="2.10.1.1 mysql_install_db 実行の問題">セクション2.10.1.1「mysql_install_db 実行の問題」</a>を参照してください。
        </p></li><li class="listitem"><p>
          ほとんどの MySQL インストールは、必要に応じて <code class="literal">root</code> を所有者にできます。例外は、データディレクトリを <code class="literal">mysql</code> が所有する必要があることです。これを行うには、次のコマンドをインストールディレクトリで <code class="literal">root</code> として実行します。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>chown -R root .</code></strong>
shell&gt; <strong class="userinput"><code>chown -R mysql data</code></strong>
</pre></li><li class="listitem"><p>
          プラグインディレクトリ (<code class="literal">plugin_dir</code> システム変数によって指定されるディレクトリ) が、サーバーによる書き込みが可能な場合、ユーザーが <code class="literal">SELECT ... INTO DUMPFILE</code> を使用してそのディレクトリ内のファイルに実行可能なコードを書き込むことができる場合があります。これを防ぐために、<code class="literal">plugin_dir</code> をサーバーに対して読み取り専用にしたり、<code class="literal">SELECT</code> 書き込みが安全に実行できるディレクトリに <code class="option">--secure-file-priv</code> を設定したりできます。
        </p></li><li class="listitem"><p>
          ソース配布を使用して MySQL をインストールした場合、提供される構成ファイルをオプションで <code class="filename">support-files</code> ディレクトリからご自身の <code class="filename">/etc</code> ディレクトリにコピーするとよいでしょう。さまざまなユースケース、サーバータイプ、および CPU と RAM の構成に対して、さまざまなサンプル構成ファイルがあります。これらの標準ファイルのいずれかを使用する場合、それを <code class="filename">/etc/my.cnf</code> または <code class="filename">/etc/mysql/my.cnf</code> にコピーして、最初に MySQL Server を起動する前に構成を編集してチェックするとよいでしょう。
        </p><p>
          標準構成ファイルのいずれかをコピーしない場合、MySQL Server はデフォルト設定で起動されます。
        </p><p>
          マシンをブートしたときに MySQL を自動的に起動する場合は、<code class="filename">support-files/mysql.server</code> をシステムの起動ファイルがある場所にコピーします。詳細情報は、<code class="filename">mysql.server</code> スクリプト自体、および<a class="xref" href="installing.html#automatic-start" title="2.10.1.2 MySQL を自動的に起動および停止する">セクション2.10.1.2「MySQL を自動的に起動および停止する」</a>にあります。
        </p></li><li class="listitem"><p>
          MySQL Server を起動します。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong>
</pre><p>
          MySQL Server を権限のない (非 <code class="literal">root</code>) ログインアカウントで起動することが重要です。これを確認するには、<span class="command"><strong>mysqld_safe</strong></span> を <code class="literal">root</code> として実行する場合は、示されるように <code class="option">--user</code> オプションを含めます。または、<code class="literal">mysql</code> としてログインしている間にそのスクリプトを実行する必要があります。その場合 <code class="option">--user</code> オプションをコマンドから除外できます。
        </p><p>
          MySQL を権限なしのユーザーとして実行する方法の詳細は、<a class="xref" href="security.html#changing-mysql-user" title="6.1.5 MySQL を通常ユーザーとして実行する方法">セクション6.1.5「MySQL を通常ユーザーとして実行する方法」</a>を参照してください。
        </p><p>
          コマンドがただちに失敗して <code class="literal">mysqld ended</code> を出力する場合は、エラーログ (デフォルトではデータディレクトリ内の <code class="filename"><em class="replaceable"><code>host_name</code></em>.err</code> ファイル) で情報を探してください。
        </p><p>
          この手順に進む前に <span class="command"><strong>mysql_install_db</strong></span> を実行して付与テーブルの作成を行わなかった場合は、サーバーの起動時にエラーログファイルに次のメッセージが現れます。
        </p><a class="indexterm" name="idm139979162606688"></a><pre class="programlisting">
mysqld: Can't find file: 'host.frm'
</pre><p>
          このエラーは、<span class="command"><strong>mysql_install_db</strong></span> を <code class="literal">root</code> として実行し、<code class="option">--user</code> オプションを使用しなかった場合にも生じます。<code class="filename">data</code> ディレクトリを削除して、前述のように <span class="command"><strong>mysql_install_db</strong></span> を <code class="option">--user</code> オプションを使用して実行します。
        </p><p>
          サーバーの起動時にほかの問題が発生した場合には、<a class="xref" href="installing.html#starting-server" title="2.10.1.3 MySQL サーバーの起動とトラブルシューティング">セクション2.10.1.3「MySQL サーバーの起動とトラブルシューティング」</a>を参照してください。<span class="command"><strong>mysqld_safe</strong></span> の詳細は、<a class="xref" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL サーバー起動スクリプト">セクション4.3.2「<span class="command"><strong>mysqld_safe</strong></span> — MySQL サーバー起動スクリプト」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <span class="command"><strong>mysqladmin</strong></span> を使用してサーバーが動作していることを確認します。次のコマンドは、サーバーの起動および接続を確認する簡単なテストを提供します。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysqladmin version</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysqladmin variables</code></strong>
</pre><p>
          <span class="command"><strong>mysqladmin version</strong></span> の出力は、プラットフォームおよび MySQL のバージョンによって多少異なりますが、次に示すものに類似します。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysqladmin version</code></strong>
mysqladmin  Ver 14.12 Distrib 5.6.23, for pc-linux-gnu on i686
...

Server version          5.6.23
Protocol version        10
Connection              Localhost via UNIX socket
UNIX socket             /var/lib/mysql/mysql.sock
Uptime:                 14 days 5 hours 5 min 21 sec

Threads: 1  Questions: 366  Slow queries: 0
Opens: 0  Flush tables: 1  Open tables: 19
Queries per second avg: 0.000
</pre><p>
          <span class="command"><strong>mysqladmin</strong></span> のほかに機能を表示するには、それを <code class="option">--help</code> オプションで起動します。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979162586208"></a> <a class="indexterm" name="idm139979162584064"></a> サーバーをシャットダウンできることを確認します。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysqladmin -u root shutdown</code></strong>
</pre></li><li class="listitem"><p>
          サーバーを再度起動できることを確認します。これは、<span class="command"><strong>mysqld_safe</strong></span> を使用するか、あるいは <span class="command"><strong>mysqld</strong></span> を直接起動して行います。例:
        </p><a class="indexterm" name="idm139979162577920"></a><a class="indexterm" name="idm139979162575776"></a><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong>
</pre><p>
          <span class="command"><strong>mysqld_safe</strong></span> が失敗する場合は、<a class="xref" href="installing.html#starting-server" title="2.10.1.3 MySQL サーバーの起動とトラブルシューティング">セクション2.10.1.3「MySQL サーバーの起動とトラブルシューティング」</a>を参照します。
        </p></li><li class="listitem"><p>
          簡単なテストをいくつか実行して、サーバーから情報を取り出せることを確認します。その出力は次に示すものと類似しているはずです。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysqlshow</code></strong>
+--------------------+
|     Databases      |
+--------------------+
| information_schema |
| mysql              |
| test               |
+--------------------+

shell&gt; <strong class="userinput"><code>bin/mysqlshow mysql</code></strong>
Database: mysql
+---------------------------+
|          Tables           |
+---------------------------+
| columns_priv              |
| db                        |
| event                     |
| func                      |
| help_category             |
| help_keyword              |
| help_relation             |
| help_topic                |
| host                      |
| plugin                    |
| proc                      |
| procs_priv                |
| servers                   |
| tables_priv               |
| time_zone                 |
| time_zone_leap_second     |
| time_zone_name            |
| time_zone_transition      |
| time_zone_transition_type |
| user                      |
+---------------------------+

shell&gt; <strong class="userinput"><code>bin/mysql -e "SELECT Host,Db,User FROM db" mysql</code></strong>
+------+--------+------+
| host | db     | user |
+------+--------+------+
| %    | test   |      |
| %    | test_% |      |
+------+--------+------+
</pre></li><li class="listitem"><p>
          <code class="filename">sql-bench</code> ディレクトリ (MySQL インストールディレクトリの下) に、異なるプラットフォームでの MySQL の動作の違いを比較したベンチマークスイートがあります。ベンチマークスイートは Perl で書かれています。それにはさまざまなデータベースへのデータベース非依存型インタフェースを提供する Perl DBI、およびその他いくつかの Perl モジュールが必要です。
        </p><pre class="programlisting">
DBI
DBD::mysql
Data::Dumper
Data::ShowTable
</pre><p>
          これらのモジュールは CPAN (<a class="ulink" href="http://www.cpan.org/" target="_top">http://www.cpan.org/</a>) で入手できます。<a class="xref" href="installing.html#perl-installation" title="2.13.1 Unix に Perl をインストールする">セクション2.13.1「Unix に Perl をインストールする」</a>も参照してください。
        </p><p>
          <code class="filename">sql-bench/Results</code> ディレクトリには、さまざまなデータベースおよびプラットフォームでの多くの実行結果が含まれています。すべてのテストを行うには、次のコマンドを実行します。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cd sql-bench</code></strong>
shell&gt; <strong class="userinput"><code>perl run-all-tests</code></strong>
</pre><p>
          <code class="filename">sql-bench</code> ディレクトリがない場合は、おそらくソース RPM 以外の RPM ファイルを使用して MySQL をインストールしました。(ソース RPM には <code class="filename">sql-bench</code> ベンチマークディレクトリが含まれています。)この場合、ベンチマークスイートを使用する前に、まずそれをインストールする必要があります。<code class="filename">mysql-bench-<em class="replaceable"><code>VERSION</code></em>.i386.rpm</code> の名前の個別のベンチマーク RPM ファイルがあり、その中にはベンチマークのコードおよびデータが含まれています。
        </p><p>
          ソース配布の場合には、テストも <code class="filename">tests</code> サブディレクトリにあり、実行できます。たとえば、<code class="filename">auto_increment.tst</code> を実行するには、このコマンドをソース配布のトップレベルのディレクトリから実行します。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -vvf test &lt; ./tests/auto_increment.tst</code></strong>
</pre><p>
          想定されるテストの結果は <code class="filename">./tests/auto_increment.res</code> ファイルにあります。
        </p></li><li class="listitem"><p>
          この段階では、サーバーが稼働しているはずです。しかし、初期 MySQL アカウントにはいずれもパスワードが設定されておらず、サーバーはテストデータベースへのアクセスを寛容に許可します。セキュリティーを厳しくするには、<a class="xref" href="installing.html#default-privileges" title="2.10.2 最初の MySQL アカウントのセキュリティー設定">セクション2.10.2「最初の MySQL アカウントのセキュリティー設定」</a>の手順に従ってください。
        </p></li></ol></div><p>
      MySQL 5.6 インストール手順では、<code class="literal">mysql</code> データベースにタイムゾーンテーブルが作成されますが、データは移入されません。そのためには、<a class="xref" href="globalization.html#time-zone-support" title="10.6 MySQL Server でのタイムゾーンのサポート">セクション10.6「MySQL Server でのタイムゾーンのサポート」</a>を参照してください。
    </p><p>
      インストールディレクトリの下の <code class="filename">bin</code> ディレクトリにインストールされたプログラムの起動をより便利にするために、そのディレクトリを <code class="literal">PATH</code> 環境変数設定に追加できます。それにより、プログラムのパス名全体ではなく名前のみを入力して実行できます。<a class="xref" href="programs.html#setting-environment-variables" title="4.2.10 環境変数の設定">セクション4.2.10「環境変数の設定」</a>を参照してください。
    </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-install-db-problems"></a>2.10.1.1 mysql_install_db 実行の問題</h4></div></div></div><a class="indexterm" name="idm139979162538144"></a><a class="indexterm" name="idm139979162536800"></a><p>
        <span class="command"><strong>mysql_install_db</strong></span> プログラムの目的は、新しい MySQL 権限テーブルを生成することです。それは既存の MySQL 権限テーブルを上書きせず、ほかのデータに影響を及ぼすことはありません。
      </p><p>
        権限のテーブルを再度作成する場合は、<span class="command"><strong>mysqld</strong></span> サーバーが稼働していればそれを停止します。次にデータディレクトリの <code class="filename">mysql</code> ディレクトリを保存するために名前変更を行い、次に <span class="command"><strong>mysql_install_db</strong></span> を実行します。現在のディレクトリが MySQL のインストールディレクトリで、<span class="command"><strong>mysql_install_db</strong></span> が <code class="filename">bin</code> ディレクトリにあり、データディレクトリ名が <code class="filename">data</code> であるとします。<code class="literal">mysql</code> データベースの名前変更を行い <span class="command"><strong>mysql_install_db</strong></span> を実行するには、次のコマンドを使用します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mv data/mysql data/mysql.old</code></strong>
shell&gt; <strong class="userinput"><code>scripts/mysql_install_db --user=mysql</code></strong>
</pre><p>
        <span class="command"><strong>mysql_install_db</strong></span> を実行すると、次の問題が発生する場合があります。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="bold"><strong><span class="command"><strong>mysql_install_db</strong></span> が付与テーブルのインストールに失敗する</strong></span>
          </p><p>
            <span class="command"><strong>mysql_install_db</strong></span> が付与テーブルのインストールに失敗し、次のメッセージの表示後に終了する場合があります。
          </p><pre class="programlisting">
Starting mysqld daemon with databases from XXXXXX
mysqld ended
</pre><p>
            この場合、エラーのログファイルを非常に慎重に調べる必要があります。ログは、エラーメッセージで指定されるディレクトリ <code class="filename">XXXXXX</code> にあるはずで、<span class="command"><strong>mysqld</strong></span> が起動しなかった理由を示しているはずです。どのような問題が発生したかわからない場合は、バグレポートを投稿するときにログを一緒に送ります。<a class="xref" href="introduction.html#bug-reports" title="1.7 質問またはバグをレポートする方法">セクション1.7「質問またはバグをレポートする方法」</a>を参照してください。
          </p></li><li class="listitem"><p>
            <span class="bold"><strong><span class="command"><strong>mysqld</strong></span> プロセスが実行されている</strong></span>
          </p><p>
            これはサーバーが稼働していることを示しています。この場合、付与テーブルはおそらくすでに作成されています。その場合、<span class="command"><strong>mysql_install_db</strong></span> を起動する必要があるのは一度だけ (最初に MySQL をインストールしたとき) であるため、それを起動する必要はまったくありません。
          </p></li><li class="listitem"><p>
            <span class="bold"><strong>1 台のサーバーの起動中に 2 台目の <span class="command"><strong>mysqld</strong></span> サーバーのインストールができない</strong></span>
          </p><p>
            これは既存の MySQL のインストールがあり、異なる場所に新たにインストールを行う場合に起こることがあります。たとえば、本番用のインストールがすでにあるが、テスト目的に 2 台目のインストールを作成する場合です。一般的に 2 台目のサーバーを起動しようとしたときに起こる問題は、1 台目のサーバーが使用しているネットワークインタフェースを 2 台目のサーバーが使用しようとした場合に発生します。この場合、次のエラーメッセージのいずれかが表示されるはずです。
          </p><pre class="programlisting">
Can't start server: Bind on TCP/IP port:
Address already in use
Can't start server: Bind on unix socket...
</pre><p>
            複数のサーバーの設定に関する説明は、<a class="xref" href="server-administration.html#multiple-servers" title="5.3 1 つのマシン上での複数の MySQL インスタンスの実行">セクション5.3「1 つのマシン上での複数の MySQL インスタンスの実行」</a>を参照してください。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979162504320"></a> <a class="indexterm" name="idm139979162502304"></a> <a class="indexterm" name="idm139979162500128"></a> <span class="bold"><strong><code class="filename">/tmp</code> ディレクトリに対する書き込みアクセス権がない</strong></span>
          </p><p>
            デフォルトの場所 (<code class="filename">/tmp</code> ディレクトリ) または <code class="literal">TMP_DIR</code> 環境変数 (設定されている場合) に、一時ファイルまたは Unix ソケットファイルを作成するための書き込みアクセス権がない場合、<span class="command"><strong>mysql_install_db</strong></span> または <span class="command"><strong>mysqld</strong></span> サーバーを起動するとエラーが生じます。
          </p><p>
            <span class="command"><strong>mysql_install_db</strong></span> あるいは <span class="command"><strong>mysqld</strong></span> を起動する前に次のコマンドを実行して、一時ディレクトリおよび Unix のソケットファイルに別の場所を指定できます。ここで、<em class="replaceable"><code>some_tmp_dir</code></em> は書き込み許可のあるディレクトリへのフルパス名です。
          </p><a class="indexterm" name="idm139979162490128"></a><a class="indexterm" name="idm139979162488640"></a><a class="indexterm" name="idm139979162487216"></a><a class="indexterm" name="idm139979162485280"></a><pre class="programlisting">
shell&gt; <strong class="userinput"><code>TMPDIR=/<em class="replaceable"><code>some_tmp_dir</code></em>/</code></strong>
shell&gt; <strong class="userinput"><code>MYSQL_UNIX_PORT=/<em class="replaceable"><code>some_tmp_dir</code></em>/mysql.sock</code></strong>
shell&gt; <strong class="userinput"><code>export TMPDIR MYSQL_UNIX_PORT</code></strong>
</pre><p>
            そうすれば、<span class="command"><strong>mysql_install_db</strong></span> を起動して次のコマンドでサーバーを起動できるはずです。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>scripts/mysql_install_db --user=mysql</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong>
</pre><p>
            <span class="command"><strong>mysql_install_db</strong></span> が <code class="filename">scripts</code> ディレクトリにある場合には、最初のコマンドを <code class="literal">scripts/mysql_install_db</code> に変更します。
          </p><p>
            <a class="xref" href="error-handling.html#problems-with-mysql-sock" title="B.5.4.5 MySQL の UNIX ソケットファイルを保護または変更する方法">セクションB.5.4.5「MySQL の UNIX ソケットファイルを保護または変更する方法」</a>、および<a class="xref" href="installing.html#environment-variables" title="2.12 環境変数">セクション2.12「環境変数」</a>を参照してください。
          </p></li></ul></div><p>
        MySQL の配布で提供される <span class="command"><strong>mysql_install_db</strong></span> プログラムを実行するには、いくつかの方法があります。
      </p><a class="indexterm" name="idm139979162469696"></a><a class="indexterm" name="idm139979162467552"></a><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            初期権限を標準のデフォルトと異なるものにする場合、<span class="command"><strong>mysql_install_db</strong></span> を実行する前に変更できます。しかし、付与テーブルを設定した<span class="emphasis"><em>あとに</em></span><code class="literal">GRANT</code> および <code class="literal">REVOKE</code> を使用して権限を変更することが推奨されます。つまり、<span class="command"><strong>mysql_install_db</strong></span> を起動し、次に <code class="literal">mysql -u root mysql</code> を使用して MySQL <code class="literal">root</code> ユーザーとしてサーバーに接続します。これで必要な <code class="literal">GRANT</code> および <code class="literal">REVOKE</code> ステートメントを発行できます。
          </p><p>
            同じ権限で複数のマシンに MySQL をインストールする場合、<code class="literal">GRANT</code> および <code class="literal">REVOKE</code> ステートメントを 1 つのファイルに入れ、<span class="command"><strong>mysql_install_db</strong></span> を起動後に、<code class="literal">mysql</code> を使用してそのファイルをスクリプトとして実行できます。例:
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>scripts/mysql_install_db --user=mysql</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysql -u root &lt; your_script_file</code></strong>
</pre><p>
            このようにすることで、各マシンでステートメントを手動で発行する必要がなくなります。
          </p></li><li class="listitem"><p>
            付与テーブルを作成したあとで、完全に再作成できます。単に <code class="literal">GRANT</code> および <code class="literal">REVOKE</code> の使用方法を学習していて、<span class="command"><strong>mysql_install_db</strong></span> の実行後にあまりに多くの変更を行なったためテーブルを消去してやり直す場合には、このようにするとよいでしょう。
          </p><p>
            付与テーブルを再度作成するには、<code class="literal">mysql</code> データベースディレクトリにあるすべての <code class="filename">.frm</code>、<code class="filename">.MYI</code>、および <code class="filename">.MYD</code> ファイルを削除します。次に、<span class="command"><strong>mysql_install_db</strong></span> プログラムを再度実行します。
          </p></li><li class="listitem"><p>
            <span class="command"><strong>mysqld</strong></span> を <code class="option">--skip-grant-tables</code> オプションを使用して手動で起動し、<span class="command"><strong>mysql</strong></span> を使用してご自身で権限情報を追加することができます。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql --skip-grant-tables &amp;</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysql mysql</code></strong>
</pre><p>
            <span class="command"><strong>mysql</strong></span> から、<span class="command"><strong>mysql_install_db</strong></span> の SQL コマンドを手動で実行します。<span class="command"><strong>mysqladmin flush-privileges</strong></span> あるいは <span class="command"><strong>mysqladmin reload</strong></span> を必ずあとで実行して、付与テーブルをリロードするようサーバーに指示します。
          </p><p>
            <span class="command"><strong>mysql_install_db</strong></span> を使用しなかった場合は、付与テーブルに手動でデータを移入しなければならないのみではなく、まず付与テーブルを作成する必要があります。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="automatic-start"></a>2.10.1.2 MySQL を自動的に起動および停止する</h4></div></div></div><a class="indexterm" name="idm139979162429168"></a><a class="indexterm" name="idm139979162427024"></a><a class="indexterm" name="idm139979162424992"></a><p>
        一般的には、<span class="command"><strong>mysqld</strong></span> サーバーは次のいずれかの方法で起動します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            直接 <span class="command"><strong>mysqld</strong></span> を呼び出します。これはどのプラットフォームでも機能します。
          </p></li><li class="listitem"><p>
            <span class="command"><strong>mysqld_safe</strong></span> を実行します。これは、<span class="command"><strong>mysqld</strong></span> の適切なオプションを判断してそれらのオプションで実行します。このスクリプトは Unix および Unix 類似システムで使用されます。<a class="xref" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL サーバー起動スクリプト">セクション4.3.2「<span class="command"><strong>mysqld_safe</strong></span> — MySQL サーバー起動スクリプト」</a>を参照してください。
          </p></li><li class="listitem"><p>
            <span class="command"><strong>mysql.server</strong></span> を呼び出します。このスクリプトは、主に System V スタイルの実行ディレクトリ (すなわち、<code class="filename">/etc/init.d</code> および実行レベル固有のディレクトリ) を使用するシステムで、システムの起動時およびシャットダウン時に使用されます。通常、<code class="literal">mysql</code> という名前でインストールされます。<span class="command"><strong>mysql.server</strong></span> スクリプトは <span class="command"><strong>mysqld_safe</strong></span> を実行してサーバーを起動します。<a class="xref" href="programs.html#mysql-server" title="4.3.3 mysql.server — MySQL サーバー起動スクリプト">セクション4.3.3「<span class="command"><strong>mysql.server</strong></span> — MySQL サーバー起動スクリプト」</a>を参照してください。
          </p></li><li class="listitem"><p>
            OS X では、システム起動時の MySQL の自動起動を有効にする別個の MySQL Startup Item パッケージをインストールします。Startup Item は <span class="command"><strong>mysql.server</strong></span> を実行することでサーバーを起動します。詳細は<a class="xref" href="installing.html#osx-installation-startupitem" title="2.4.4 MySQL 起動アイテムのインストール">セクション2.4.4「MySQL 起動アイテムのインストール」</a>を参照してください。MySQL Preference Pane でも、System Preferences を介して MySQL の起動と停止を制御できます。<a class="xref" href="installing.html#osx-installation-prefpane" title="2.4.5 MySQL Preference Pane のインストールと使用">セクション2.4.5「MySQL Preference Pane のインストールと使用」</a>を参照してください。
          </p></li><li class="listitem"><p>
            Solaris/OpenSolaris の SMF (service management framework) システムを使用して、MySQL の起動を開始および管理します。詳細については、<a class="xref" href="installing.html#solaris-installation-opensolaris" title="2.7.2 IPS を使用して MySQL を OpenSolaris にインストールする">セクション2.7.2「IPS を使用して MySQL を OpenSolaris にインストールする」</a>を参照してください。
          </p></li></ul></div><p>
        <span class="command"><strong>mysqld_safe</strong></span> スクリプトおよび <span class="command"><strong>mysql.server</strong></span> スクリプト、Solaris/OpenSolaris SMF、および OS X Startup Item (または MySQL Preference Pane) を使用して、サーバーを手動で、あるいはシステムの起動時に自動的に起動できます。<span class="command"><strong>mysql.server</strong></span> および Startup Item は、サーバーの停止にも使用できます。
      </p><p>
        <span class="command"><strong>mysql.server</strong></span> スクリプトを使用してサーバーを手動で起動または停止するには、サーバーを <code class="literal">start</code> 引数または <code class="literal">stop</code> 引数を使用して呼び出します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql.server start</code></strong>
shell&gt; <strong class="userinput"><code>mysql.server stop</code></strong>
</pre><p>
        <span class="command"><strong>mysql.server</strong></span> は、サーバーを起動する前に場所を MySQL インストールディレクトリに変更し、次に <span class="command"><strong>mysqld_safe</strong></span> を実行します。サーバーを特定のユーザーとして起動するには、このセクションで後述するように、適切な <code class="literal">user</code> オプションを <code class="filename">/etc/my.cnf</code> オプションファイルの <code class="literal">[mysqld]</code> グループに追加します。(バイナリ配布の MySQL を標準と異なる場所にインストールした場合には <span class="command"><strong>mysql.server</strong></span> の編集が必要になる場合があります。<span class="command"><strong>mysqld_safe</strong></span> を実行する前に場所を適切なディレクトリに変更するように、それを修正します。これを行うと、将来 MySQL をアップグレードすると変更したバージョンの <span class="command"><strong>mysql.server</strong></span> が上書きされる場合がありますので、編集したバージョンを再インストールできるようにコピーを取っておくとよいでしょう。)
      </p><p>
        <span class="command"><strong>mysql.server stop</strong></span> は、サーバーに信号を送って停止します。<span class="command"><strong>mysqladmin shutdown</strong></span> を実行してサーバーを手動で停止することもできます。
      </p><p>
        サーバー上の MySQL を自動的に起動および停止するには、起動および停止のコマンドを <code class="filename">/etc/rc*</code> ファイルの適切な場所に加える必要があります。
      </p><p>
        Linux サーバーの RPM パッケージ (<code class="literal">MySQL-server-<em class="replaceable"><code>VERSION</code></em>.rpm</code>) またはネイティブの Linux パッケージインストールを使用する場合は、<span class="command"><strong>mysql.server</strong></span> スクリプトは <code class="filename">/etc/init.d</code> のディレクトリに <code class="filename">mysql</code> という名前でインストールされる場合があります。Linux RPM パッケージに関する詳細は、<a class="xref" href="installing.html#linux-installation-rpm" title="2.5.5 RPM パッケージを使用して MySQL を Linux にインストールする">セクション2.5.5「RPM パッケージを使用して MySQL を Linux にインストールする」</a>を参照してください。
      </p><p>
        ベンダーによっては、起動スクリプトを <span class="command"><strong>mysqld</strong></span> のような別名でインストールする RPM パッケージを提供している場合もあります。
      </p><p>
        MySQL をソース配布から、あるいは <span class="command"><strong>mysql.server</strong></span> を自動的にインストールしないバイナリの配布形式を使用してインストールする場合、それを手動でインストールできます。そのスクリプトは、MySQL インストールディレクトリの <code class="filename">support-files</code> ディレクトリあるいは MySQL のソースツリーにあります。
      </p><p>
        <span class="command"><strong>mysql.server</strong></span> を手動でインストールするには、それを <code class="filename">/etc/init.d</code> ディレクトリに <span class="command"><strong>mysql</strong></span> の名前でコピーし、次にそれを実行ファイルにします。それには、<span class="command"><strong>mysql.server</strong></span> のある適切なディレクトリに場所を変更して、次のコマンドを実行します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cp mysql.server /etc/init.d/mysql</code></strong>
shell&gt; <strong class="userinput"><code>chmod +x /etc/init.d/mysql</code></strong>
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          古い Red Hat システムは <code class="filename">/etc/init.d</code> ではなく <code class="filename">/etc/rc.d/init.d</code> ディレクトリを使用しています。前述のコマンドを適宜調整します。または、最初に <code class="filename">/etc/init.d</code> を <code class="filename">/etc/rc.d/init.d</code> を指すシンボリックリンクとして作成します。
        </p></div><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cd /etc</code></strong>
shell&gt; <strong class="userinput"><code>ln -s rc.d/init.d .</code></strong>
</pre><p>
        スクリプトをインストールしたあと、それを有効にしてシステムの起動時に実行するために必要なコマンドは、使用しているオペレーティングシステムによって異なります。Linux では、<span class="command"><strong>chkconfig</strong></span> を使用します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>chkconfig --add mysql</code></strong>
</pre><p>
        一部の Linux システムでは、<span class="command"><strong>mysql</strong></span> スクリプトを完全に有効にするには次のコマンドも必要になる場合があります。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>chkconfig --level 345 mysql on</code></strong>
</pre><p>
        FreeBSD では、起動スクリプトは通常 <code class="filename">/usr/local/etc/rc.d/</code> にあります。<code class="literal">rc(8)</code> のマニュアルページでは、このディレクトリのスクリプトはそれらのベース名が <code class="literal">*.sh</code> シェルファイル名のパターンに一致したときのみ実行できると記載されています。そのディレクトリの、その他のファイルあるいおよびディレクトリは警告なしで無視されます。つまり FreeBSD では、自動起動を有効にするには <code class="filename">mysql.server</code> スクリプトを <code class="filename">/usr/local/etc/rc.d/mysql.server.sh</code> としてインストールするべきです。
      </p><p>
        前述の設定の代案として、オペレーティングシステムの中には <code class="filename">/etc/rc.local</code> あるいは <code class="filename">/etc/init.d/boot.local</code> を使用して起動時に追加のサービスを起動するものもあります。この方法で MySQL を起動するには、次のようなコマンドを適切な起動ファイルに追加します。
      </p><pre class="programlisting">
/bin/sh -c 'cd /usr/local/mysql; ./bin/mysqld_safe --user=mysql &amp;'
</pre><p>
        ほかのシステムの起動スクリプトのインストール方法についてはそのオペレーティングシステムのドキュメントをお読みください。
      </p><a class="indexterm" name="idm139979162349296"></a><p>
        <span class="command"><strong>mysql.server</strong></span> のオプションを、グローバル <code class="filename">/etc/my.cnf</code> ファイルに追加できます。一般的な <code class="filename">/etc/my.cnf</code> ファイルは次のようになります。
      </p><pre class="programlisting">
[mysqld]
datadir=/usr/local/mysql/var
socket=/var/tmp/mysql.sock
port=3306
user=mysql

[mysql.server]
basedir=/usr/local/mysql
</pre><p>
        The <span class="command"><strong>mysql.server</strong></span> スクリプトは、<code class="option">basedir</code>、<code class="option">datadir</code>、および <code class="option">pid-file</code> の各オプションをサポートしています。指定する場合は、コマンド行ではなくオプションファイルに配置する<span class="emphasis"><em>必要があります</em></span>。<span class="command"><strong>mysql.server</strong></span> は、<code class="literal">start</code> および <code class="literal">stop</code> のみをコマンド行の引数としてサポートしています。
      </p><p>
        次の表は、サーバーおよび各起動スクリプトがオプションファイルから読み取るオプショングループを示しています。
      </p><div class="table"><a name="idm139979162337360"></a><p class="title"><b>表 2.12 MySQL 起動スクリプトとサポートされるサーバーオプショングループ</b></p><div class="table-contents"><table summary="MySQL 起動スクリプトとサポートされるサーバーオプショングループ" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">スクリプト</th><th scope="col">オプショングループ</th></tr></thead><tbody><tr><td scope="row"><span class="command"><strong>mysqld</strong></span></td><td><code class="literal">[mysqld]</code>、<code class="literal">[server]</code>、<code class="literal">[mysqld-<em class="replaceable"><code>major_version</code></em>]</code></td></tr><tr><td scope="row"><span class="command"><strong>mysqld_safe</strong></span></td><td><code class="literal">[mysqld]</code>、<code class="literal">[server]</code>、<code class="literal">[mysqld_safe]</code></td></tr><tr><td scope="row"><span class="command"><strong>mysql.server</strong></span></td><td><code class="literal">[mysqld]</code>、<code class="literal">[mysql.server]</code>、<code class="literal">[server]</code></td></tr></tbody></table></div></div><br class="table-break"><p>
        <code class="literal">[mysqld-<em class="replaceable"><code>major_version</code></em>]</code> は、<code class="literal">[mysqld-5.5]</code> および <code class="literal">[mysqld-5.6]</code> のような名前のグループが、5.5.x、5.6.x、などのバージョンのサーバーによって読み取られることを意味します。この機能は、所定のリリースシリーズのサーバーによってのみ読み取られるオプションを指定するために使用できます。
      </p><p>
        下位互換性のため、<span class="command"><strong>mysql.server</strong></span> は<code class="literal">[mysql_server]</code> グループも読み取り、<span class="command"><strong>mysqld_safe</strong></span> は<code class="literal">[safe_mysqld]</code> グループも読み取ります。ただし、MySQL 5.6 を使用する場合は、代わりに <code class="literal">[mysql.server]</code> および <code class="literal">[mysqld_safe]</code> グループを使用するようにオプションファイルを更新するとよいでしょう。
      </p><p>
        MySQL 構成ファイルとその構造とコンテンツについては、<a class="xref" href="programs.html#option-files" title="4.2.6 オプションファイルの使用">セクション4.2.6「オプションファイルの使用」</a>を参照してください。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="starting-server"></a>2.10.1.3 MySQL サーバーの起動とトラブルシューティング</h4></div></div></div><a class="indexterm" name="idm139979162310576"></a><a class="indexterm" name="idm139979162308448"></a><a class="indexterm" name="idm139979162306400"></a><a class="indexterm" name="idm139979162304320"></a><p>
        このセクションでは、Unix 類似システムでのサーバー起動の問題に関するトラブルシューティングの提案を示します。Windows を使用している場合には、<a class="xref" href="installing.html#windows-troubleshooting" title="2.3.6 Microsoft Windows MySQL Server インストールのトラブルシューティング">セクション2.3.6「Microsoft Windows MySQL Server インストールのトラブルシューティング」</a>を参照してください。
      </p><p>
        サーバーの起動時に問題がある場合、次を試してみます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <a class="link" href="glossary.html#glos_error_log" title="エラーログ">エラーログ</a>をチェックして、サーバーが起動しない原因を確認します。ログファイルは<a class="link" href="glossary.html#glos_data_directory" title="データディレクトリ">データディレクトリ</a> (通常、Windows では <code class="filename">C:\Program Files\MySQL\MySQL Server 5.6\data</code>、Unix/Linux バイナリ配布では <code class="filename">/usr/local/mysql/data</code>、Unix/Linux ソース配布では <code class="filename">/usr/local/var</code>) にあります。データディレクトリの <code class="filename"><em class="replaceable"><code>host_name</code></em>.err</code> および <code class="filename"><em class="replaceable"><code>host_name</code></em>.log</code> の形式のファイル名のファイルを探します。ここで、<em class="replaceable"><code>host_name</code></em> はサーバーホストの名です。次にこれらのファイルの最後の数行を調べます。それらを表示するには <code class="literal">tail</code> を使用します。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>tail <em class="replaceable"><code>host_name</code></em>.err</code></strong>
shell&gt; <strong class="userinput"><code>tail <em class="replaceable"><code>host_name</code></em>.log</code></strong>
</pre></li><li class="listitem"><p>
            使用しているストレージエンジンに必要なオプションがあれば指定します。<code class="filename">my.cnf</code> ファイルを作成して、使用するエンジンの起動オプションを指定します。トランザクションテーブルをサポートするストレージエンジン (<code class="literal">InnoDB</code>、<code class="literal">NDB</code>) を使用する予定である場合、サーバーを起動する前に、それらが適切に構成されていることを確認します。<code class="literal">InnoDB</code> テーブルを使用している場合は、ガイドラインについては<a class="xref" href="innodb-storage-engine.html#innodb-configuration" title="14.3 InnoDB の構成">セクション14.3「InnoDB の構成」</a>、オプションの構文については<a class="xref" href="innodb-storage-engine.html#innodb-parameters" title="14.12 InnoDB の起動オプションおよびシステム変数">セクション14.12「InnoDB の起動オプションおよびシステム変数」</a>を参照してください。
          </p><p>
            ストレージエンジンは、省略したオプションについてはデフォルト値を使用しますが、使用可能なオプションを確認し、デフォルト値がインストールに対して適切でないようなオプションがあれば明示的に値を指定することを推奨します。
          </p></li><li class="listitem"><p>
            サーバーが、<a class="link" href="glossary.html#glos_data_directory" title="データディレクトリ">データディレクトリ</a>を検索する場所を認識していることを確認してください。<span class="command"><strong>mysqld</strong></span> サーバーはこのディレクトリを現在のディレクトリとして使用します。そこでデータベースを探し、ログファイルに書き込むことを想定しています。サーバーはデータディレクトリで pid (プロセス ID) ファイルも書き込みます。
          </p><p>
            デフォルトのデータディレクトリの場所は、サーバーのコンパイル時にハードコードされます。デフォルトのパス設定を確認するには、<span class="command"><strong>mysqld</strong></span> を <code class="option">--verbose</code> オプションおよび <code class="option">--help</code> オプションで起動します。データディレクトリがシステム上の別の場所にある場合は、その場所を、コマンド行またはオプションファイルで <code class="option">--datadir</code> オプションを使用して <span class="command"><strong>mysqld</strong></span> または <span class="command"><strong>mysqld_safe</strong></span> に指定します。そうしないと、サーバーは適切に動作しません。<code class="option">--datadir</code> オプションの代替として、MySQL がインストールされているベースディレクトリの場所を、<span class="command"><strong>mysqld</strong></span> に <code class="option">--basedir</code> で指定できます。そうすれば、<span class="command"><strong>mysqld</strong></span> はそこで <code class="filename">data</code> ディレクトリを検索します。
          </p><p>
            パスオプションの指定の結果を知るには、<span class="command"><strong>mysqld</strong></span> をそれらのオプションで実行し次に<code class="option">--verbose</code> および <code class="option">--help</code> オプションを実行します。たとえば、場所を <span class="command"><strong>mysqld</strong></span> をインストールしたディレクトリに変更してから次のコマンドを実行すると、ベースディレクトリ <code class="filename">/usr/local</code> でサーバーを起動した結果が表示されます。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>./mysqld --basedir=/usr/local --verbose --help</code></strong>
</pre><p>
            <code class="option">--datadir</code> のようなオプションも同様に指定できますが、<code class="option">--verbose</code> および <code class="option">--help</code> は最後のオプションでなければなりません。
          </p><p>
            任意のパスを設定したあと、サーバーを <code class="option">--verbose</code> および <code class="option">--help</code> を使用しないで起動します。
          </p><p>
            <span class="command"><strong>mysqld</strong></span> が動作しているときは、次のコマンドを実行してどのパス設定が使用されているか確認できます。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqladmin variables</code></strong>
</pre><p>
            または:
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqladmin -h <em class="replaceable"><code>host_name</code></em> variables</code></strong>
</pre><p>
            <em class="replaceable"><code>host_name</code></em> は MySQL サーバーのホスト名です。
          </p></li><li class="listitem"><p>
            サーバーが、<a class="link" href="glossary.html#glos_data_directory" title="データディレクトリ">データディレクトリ</a>にアクセスできることを確認してください。データディレクトリとそのコンテンツの所有権と許可は、サーバーがそれらを読み取って修正できるようなものでなければなりません。
          </p><p>
            <span class="command"><strong>mysqld</strong></span> の起動時に <code class="literal">Errcode 13</code> (<code class="literal">許可が却下された</code>ことを意味します) を受け取る場合は、データディレクトリまたはそのコンテンツの特権が、サーバーアクセスを許可しないものであることを意味します。この場合、関連するファイルおよびディレクトリの権限を変更して、サーバーがそれらを使用する権限を持つようにします。サーバーを <code class="literal">root</code> から起動することもできますが、この場合セキュリティーの問題が生じるため、避けるべきです。
          </p><p>
            場所をデータディレクトリに変更し、データディレクトリとそのコンテンツの所有権をチェックして、サーバーにアクセス権があることを確認します。たとえば、データディレクトリが <code class="filename">/usr/local/mysql/var</code> の場合は、次のコマンドを使用します。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ls -la /usr/local/mysql/var</code></strong>
</pre><p>
            データディレクトリあるいはそのファイルまたはサブディレクトリが、サーバーを稼働するためのログインアカウントの所有でない場合、それらの所有権をそのアカウントに変更します。そのアカウントが <code class="literal">mysql</code> の場合、次のコマンドを使用します。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>chown -R mysql /usr/local/mysql/var</code></strong>
shell&gt; <strong class="userinput"><code>chgrp -R mysql /usr/local/mysql/var</code></strong>
</pre><p>
            所有権が適切な場合でも、ファイルシステムのさまざまな部分へのアプリケーションのアクセスを管理するようなセキュリティーソフトウェアがシステム上で実行されている場合、MySQL が起動に失敗することがあります。この場合は、そのソフトウェアを再構成して <span class="command"><strong>mysqld</strong></span> が通常の動作中に使用するディレクトリにアクセスできるようにします。
          </p></li><li class="listitem"><p>
            サーバーが使用するネットワークインタフェースが利用できることを確認します。
          </p><p>
            次のいずれかのエラーが発生した場合、ほかのプログラム (おそらく別の <span class="command"><strong>mysqld</strong></span> サーバー) が、<span class="command"><strong>mysqld</strong></span> が使用する TCP/IP ポートあるいは Unix のソケットファイルを使用していることを意味します。
          </p><pre class="programlisting">
Can't start server: Bind on TCP/IP port: Address already in use
Can't start server: Bind on unix socket...
</pre><p>
            <span class="command"><strong>ps</strong></span> を使用して、別の <span class="command"><strong>mysqld</strong></span> サーバーが稼働しているかどうか判断します。その場合、<span class="command"><strong>mysqld</strong></span> を再度起動する前にサーバーをシャットダウンします。(別のサーバーが動作中で、複数のサーバーを稼働させる必要がある場合は、その方法に関する情報は、<a class="xref" href="server-administration.html#multiple-servers" title="5.3 1 つのマシン上での複数の MySQL インスタンスの実行">セクション5.3「1 つのマシン上での複数の MySQL インスタンスの実行」</a>にあります。)
          </p><p>
            別のサーバーが稼働していない場合は、コマンド <code class="literal">telnet <em class="replaceable"><code>your_host_name</code></em> <em class="replaceable"><code>tcp_ip_port_number</code></em></code> を実行します。(デフォルトの MySQL ポート番号は 3306 です。)次に Enter を数回押します。<code class="literal">telnet: Unable to connect to remote host: Connection refused</code> などのエラーメッセージが表示されない場合は、<span class="command"><strong>mysqld</strong></span> が使用しようとしている TCP/IP ポートをほかのプログラムが使用しています。それがどのプログラムなのかを追跡して無効にするか、<code class="option">--port</code> オプションを使用して、<span class="command"><strong>mysqld</strong></span> に別のポートで待機するよう指示します。この場合、TCP/IP を使用してサーバーに接続するときに、クライアントプログラムに同じデフォルト以外のポート番号を指定します。
          </p><p>
            ポートにアクセスできない別の理由に、ファイアウォールがその接続をブロックしている場合があります。その場合は、ファイアウォールの設定を、ポートへのアクセスを許可するように変更します。
          </p><p>
            サーバーは起動するがそれに接続できない場合は、<code class="filename">/etc/hosts</code> に次のようなエントリがあることを確認します。
          </p><pre class="programlisting">
127.0.0.1       localhost
</pre></li><li class="listitem"><p>
            <span class="command"><strong>mysqld</strong></span> を起動できない場合は、<code class="option">--debug</code> オプションを使用して、トレースファイルを作成して問題を発見してみてください。<a class="xref" href="extending-mysql.html#dbug-package" title="24.4.3 DBUG パッケージ">セクション24.4.3「DBUG パッケージ」</a>を参照してください。
          </p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="default-privileges"></a>2.10.2 最初の MySQL アカウントのセキュリティー設定</h3></div></div></div><a class="indexterm" name="idm139979162213824"></a><a class="indexterm" name="idm139979162211712"></a><a class="indexterm" name="idm139979162209680"></a><a class="indexterm" name="idm139979162208304"></a><a class="indexterm" name="idm139979162206928"></a><a class="indexterm" name="idm139979162204896"></a><a class="indexterm" name="idm139979162203520"></a><a class="indexterm" name="idm139979162201600"></a><a class="indexterm" name="idm139979162199440"></a><a class="indexterm" name="idm139979162197520"></a><a class="indexterm" name="idm139979162196048"></a><a class="indexterm" name="idm139979162194000"></a><a class="indexterm" name="idm139979162191936"></a><a class="indexterm" name="idm139979162189872"></a><a class="indexterm" name="idm139979162187792"></a><p>
      MySQL インストールプロセスの一環として、付与テーブルを含む <code class="literal">mysql</code> データベースを設定します。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Windows 配布は事前に初期化された付与テーブルを含みます。
        </p></li><li class="listitem"><p>
          Unix では、<span class="command"><strong>mysql_install_db</strong></span> プログラムが付与テーブルに移入します。一部のインストール方法ではこのプログラムは自動的に実行されます。その他では、手動でそれを実行する必要があります。詳細については、<a class="xref" href="installing.html#unix-postinstallation" title="2.10.1 Unix 類似システムでのインストール後の手順">セクション2.10.1「Unix 類似システムでのインストール後の手順」</a>を参照してください。
        </p></li></ul></div><p>
      <code class="literal">mysql.user</code> 付与テーブルは、初期 MySQL ユーザーアカウントとそのアクセス権限を定義します。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          いくつかのアカウントはユーザー名が <code class="literal">root</code> です。これらは、すべての権限を持ち、どのようなことも可能なスーパーユーザーアカウントです。<code class="literal">root</code> アカウントの初期パスワードは空です。そのため、だれでも<span class="emphasis"><em>パスワードなしで</em></span> <code class="literal">root</code> として MySQL Server に接続して、すべての権限を付与されることができます。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              Windows では、ローカルホストからの接続のみを許可する <code class="literal">root</code> アカウントが作成されます。ホスト名 <code class="literal">localhost</code>、IP アドレス <code class="literal">127.0.0.1</code>、または IPv6 アドレス <code class="literal">::1</code> を指定することで接続できます。ユーザーが、インストール中に<span class="guilabel">「Enable root access from remote machines」</span>オプションを選択した場合は、Windows インストーラは、に荷のホストからの接続を許可する別の <code class="literal">root</code> アカウントを作成します。
            </p></li><li class="listitem"><p>
              Unix では、各 <code class="literal">root</code> アカウントはローカルホストからの接続を許可します。ホスト名 <code class="literal">localhost</code>、IP アドレス <code class="literal">127.0.0.1</code>、または IPv6 アドレス <code class="literal">::1</code>、あるいは実際のホスト名または IP アドレスを指定することで接続できます。
            </p></li></ul></div><a class="indexterm" name="idm139979162164624"></a><p>
          ホスト <code class="literal">127.0.0.1</code> への接続を試みると、通常 <code class="literal">localhost</code> アカウントに解決します。ただし、サーバーが <code class="option">--skip-name-resolve</code> オプションを使用して稼働されている場合は、これは失敗します。そのため、その場合には <code class="literal">127.0.0.1</code> アカウントが便利です。<code class="literal">::1</code> アカウントは IPv6 接続に使用されます。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979162158048"></a> 一部のアカウントは匿名ユーザー用です。これらは空のユーザー名を持ちます。匿名のアカウントにはパスワードがないため、だれでもそのアカウントを使用して MySQL サーバーに接続できます。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              Windows では、ローカルホストからの接続を許可する匿名アカウントが 1 つあります。<code class="literal">localhost</code> のホスト名を指定することで接続できます。
            </p></li><li class="listitem"><p>
              Unix では、各匿名アカウントはローカルホストからの接続を許可します。アカウントの 1 つのホスト名 <code class="literal">localhost</code> を指定するか、その他のアカウントの実際のホスト名または IP アドレスを指定することで接続できます。
            </p></li></ul></div></li></ul></div><p>
      <code class="literal">mysql.user</code> テーブルにどのアカウントが存在するか、それらのパスワードが空かどうかを表示するには、次のステートメントを使用します。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT User, Host, Password FROM mysql.user;</code></strong>
+------+--------------------+----------+
| User | Host               | Password |
+------+--------------------+----------+
| root | localhost          |          |
| root | myhost.example.com |          |
| root | 127.0.0.1          |          |
| root | ::1                |          |
|      | localhost          |          |
|      | myhost.example.com |          |
+------+--------------------+----------+
</pre><p>
      この出力は、いくつかの <code class="literal">root</code> アカウントと匿名ユーザーアカウントがあり、いずれにもパスワードがないことを示しています。使用しているシステムでは出力が異なる場合がありますが、空のパスワードのアカウントが存在するということは、何らかの対処をするまで MySQL インストールが保護されていないということを意味します。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          それぞれの MySQL <code class="literal">root</code> アカウントにパスワードを割り当てるべきです。
        </p></li><li class="listitem"><p>
          クライアントが匿名ユーザーとしてパスワードなしで接続することを防ぐには、それぞれの匿名のアカウントにパスワードを割り当てるか、あるいはそれらのアカウントを削除するとよいでしょう。
        </p></li></ul></div><p>
      さらに、<code class="literal">mysql.db</code> テーブルにはすべてのアカウントが <code class="literal">test</code> データベースおよび <code class="literal">test_</code> で始まる名前を持つその他のデータベースにアクセスすることを許可する行が含まれます。これは、デフォルトの匿名アカウントのように、そうでなければ特別な権限を持たないアカウントにも当てはまります。これはテスト用には便利ですが、本番サーバーでは推奨されません。データベースへのアクセスを、その目的のために明示的に許可を付与されたアカウントのみに制限する場合は、管理者は <code class="literal">mysql.db</code> テーブルのこれらの行を削除するとよいでしょう。
    </p><p>
      次の手順では、初期 MySQL アカウントにパスワードを設定する方法を、最初に <code class="literal">root</code> アカウント、次に匿名アカウントの順で説明します。この手順では、匿名アクセスをまったく許可しない場合に、匿名アカウントを削除する方法にも触れ、データベースをテストするための寛容なアクセスを削除する方法も説明します。例の中の <em class="replaceable"><code>newpwd</code></em> は使用するパスワードに置き換えてください。<em class="replaceable"><code>host_name</code></em> はサーバーのホスト名に置き換えます。この名前は、前述の <code class="literal">SELECT</code> ステートメントの出力から判断できます。示された出力では、<em class="replaceable"><code>host_name</code></em> は <code class="literal">myhost.example.com</code> です。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        パスワード設定の詳細は、<a class="xref" href="security.html#assigning-passwords" title="6.3.5 アカウントパスワードの割り当て">セクション6.3.5「アカウントパスワードの割り当て」</a>を参照してください。<code class="literal">root</code> パスワードを設定したあとでそれを忘れた場合は、<a class="xref" href="error-handling.html#resetting-permissions" title="B.5.4.1 root のパスワードをリセットする方法">セクションB.5.4.1「root のパスワードをリセットする方法」</a>を参照してください。
      </p></div><p>
      追加のセットアップやテストを実行する間、パスワードを指定する必要を避けるために、パスワードの設定を遅らせたい場合があります。しかし、インストールを本番用に使用する前にはそれらを忘れずに設定してください。
    </p><p>
      追加のアカウントをセットアップするには、<a class="xref" href="security.html#adding-users" title="6.3.2 ユーザーアカウントの追加">セクション6.3.2「ユーザーアカウントの追加」</a>を参照してください。
    </p><h4><a name="idm139979162127408"></a>root アカウントのパスワードの割り当て</h4><p>
      <code class="literal">root</code> アカウントのパスワードは、いくつかの方法でセットできます。次の説明では 3 種類の方法を示します。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">SET PASSWORD</code> ステートメントを使用する
        </p></li><li class="listitem"><p>
          <code class="literal">UPDATE</code> ステートメントを使用する
        </p></li><li class="listitem"><p>
          <span class="command"><strong>mysqladmin</strong></span> コマンド行のクライアントプログラムを使用する
        </p></li></ul></div><p>
      <code class="literal">SET PASSWORD</code> を使用してパスワードを割り当てるには、サーバーに <code class="literal">root</code> として接続し、<code class="literal">SET PASSWORD</code> ステートメントを、<code class="literal">mysql.user</code> テーブルにリストされている各 <code class="literal">root</code> アカウントに対して発行します。<code class="literal">PASSWORD()</code> 関数を使用してパスワードを忘れずに暗号化します。
    </p><p>
      Windows では、次のようにします。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -u root</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR 'root'@'localhost' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR 'root'@'127.0.0.1' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR 'root'@'::1' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR 'root'@'%' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
</pre><p>
      <code class="literal">mysql.user</code> テーブルに、ホスト値が <code class="literal">%</code> である <code class="literal">root</code> アカウントがない場合は、最後のステートメントは不要です。
    </p><p>
      Unix では、次のようにします。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -u root</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR 'root'@'localhost' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR 'root'@'127.0.0.1' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR 'root'@'::1' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR 'root'@'<em class="replaceable"><code>host_name</code></em>' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
</pre><p>
      <code class="literal">UPDATE</code> を使用して <code class="literal">mysql.user</code> テーブルを直接変更することで、すべての <code class="literal">root</code> アカウントにパスワードを割り当てる単独のステートメントを使用することもできます。この方法はどのプラットフォームでも機能します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -u root</code></strong>
mysql&gt; <strong class="userinput"><code>UPDATE mysql.user SET Password = PASSWORD('<em class="replaceable"><code>newpwd</code></em>')</code></strong>
    -&gt;     <strong class="userinput"><code>WHERE User = 'root';</code></strong>
mysql&gt; <strong class="userinput"><code>FLUSH PRIVILEGES;</code></strong>
</pre><p>
      <code class="literal">FLUSH</code> ステートメントにより、サーバーが付与テーブルを再度読み取ります。それがないと、パスワードの変更はサーバーを再起動するまでサーバーには認識されません。
    </p><p>
      パスワードを <code class="literal">root</code> アカウントに <span class="command"><strong>mysqladmin</strong></span> を使用して割り当てるには、次のコマンドを実行します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqladmin -u root password "<em class="replaceable"><code>newpwd</code></em>"</code></strong>
shell&gt; <strong class="userinput"><code>mysqladmin -u root -h <em class="replaceable"><code>host_name</code></em> password "<em class="replaceable"><code>newpwd</code></em>"</code></strong>
</pre><p>
      これらのコマンドは Windows および Unix の両方に該当します。パスワードを囲む二重引用符は必ずしも常に必要なわけではありませんが、パスワードにスペースその他のコマンドインタプリタにとって特殊な文字が含まれる場合は使用するべきです。
    </p><p>
      <span class="command"><strong>mysqladmin</strong></span> を使用して <code class="literal">root</code> アカウントのパスワードを設定する方法は、<code class="literal">'root'@'127.0.0.1'</code> or <code class="literal">'root'@'::1'</code> アカウントでは機能しません。前述の <code class="literal">SET PASSWORD</code> の方法を使用します。
    </p><p>
      <code class="literal">root</code> の設定後は、<code class="literal">root</code> としてサーバーに接続するたびに適切なパスワードを提供する必要があります。たとえば、<span class="command"><strong>mysqladmin</strong></span> でサーバーをシャットダウンするには、次のコマンドを使用します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqladmin -u root -p shutdown</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
</pre><h4><a name="idm139979162072240"></a>匿名アカウントのパスワードの割り当て</h4><p>
      次の手順の <span class="command"><strong>mysql</strong></span> コマンドは、前述の手順を使用して <code class="literal">root</code> のパスワードを設定し、サーバーへの接続時にそのパスワードを指定しなければならないことを前提として、<code class="option">-p</code> オプションを含んでいます。
    </p><p>
      匿名アカウントにパスワードを割り当てるには、サーバーに <code class="literal">root</code> として接続してから、<code class="literal">SET PASSWORD</code> または <code class="literal">UPDATE</code> を使用します。<code class="literal">PASSWORD()</code> 関数を使用してパスワードを忘れずに暗号化します。
    </p><p>
      Windows で <code class="literal">SET PASSWORD</code> を使用するには、次のようにします。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR ''@'localhost' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
</pre><p>
      Unix で <code class="literal">SET PASSWORD</code> を使用するには、次のようにします。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR ''@'localhost' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR ''@'<em class="replaceable"><code>host_name</code></em>' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
</pre><p>
      単独の <code class="literal">UPDATE</code> ステートメントで匿名ユーザーアカウントのパスワードを設定するには、次のようにします (任意のプラットフォームで)。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
mysql&gt; <strong class="userinput"><code>UPDATE mysql.user SET Password = PASSWORD('<em class="replaceable"><code>newpwd</code></em>')</code></strong>
    -&gt;     <strong class="userinput"><code>WHERE User = '';</code></strong>
mysql&gt; <strong class="userinput"><code>FLUSH PRIVILEGES;</code></strong>
</pre><p>
      <code class="literal">FLUSH</code> ステートメントにより、サーバーが付与テーブルを再度読み取ります。それがないと、パスワードの変更はサーバーを再起動するまでサーバーには認識されません。
    </p><h4><a name="idm139979162045584"></a>匿名アカウントの削除</h4><p>
      匿名アカウントにパスワードを割り当てるのではなく、削除する場合は、Windows では次のようにします。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
mysql&gt; <strong class="userinput"><code>DROP USER ''@'localhost';</code></strong>
</pre><p>
      Unix では、次のように匿名アカウントを削除します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
mysql&gt; <strong class="userinput"><code>DROP USER ''@'localhost';</code></strong>
mysql&gt; <strong class="userinput"><code>DROP USER ''@'<em class="replaceable"><code>host_name</code></em>';</code></strong>
</pre><h4><a name="idm139979162037264"></a>テストデータベースのセキュリティー設定</h4><p>
      デフォルトでは、<code class="literal">mysql.db</code> テーブルには任意のユーザーによる <code class="literal">test</code> データベースおよび <code class="literal">test_</code> で始まる名前を持つその他のデータベースへのアクセスを許可する行が含まれます。(これらの行は空の <code class="literal">User</code> カラム値を持ち、アクセスチェックのために任意のユーザー名に一致します。)これは、そうでなければ何の権限も持たないアカウントでさえも、このようなデータベースを使用できることを意味します。テストデータベースへの任意のユーザーによるアクセスを削除する場合は、次のようにします。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
mysql&gt; <strong class="userinput"><code>DELETE FROM mysql.db WHERE Db LIKE 'test%';</code></strong>
mysql&gt; <strong class="userinput"><code>FLUSH PRIVILEGES;</code></strong>
</pre><p>
      <code class="literal">FLUSH</code> ステートメントにより、サーバーが付与テーブルを再度読み取ります。それがないと、権限の変更はサーバーを再起動するまでサーバーには認識されません。
    </p><p>
      前述の変更により、グローバルデータベース権限、または <code class="literal">test</code> データベース用に明示的に付与された権限を持つユーザーのみがそれを使用できます。ただし、データベースがまったく不要である場合は、ドロップします。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>DROP DATABASE test;</code></strong>
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        Windows では、MySQL Installer (<a class="xref" href="installing.html#mysql-installer" title="2.3.3 MySQL Installer を使用した MySQL の Microsoft Windows へのインストール">セクション2.3.3「MySQL Installer を使用した MySQL の Microsoft Windows へのインストール」</a>を参照してください) でのインストール中に、このセクションで説明した手順を実行することもできます。すべてのプラットフォームで、MySQL 配布には、MySQL インストールをセキュアにするプロセスの大部分を自動化するコマンド行ユーティリティー <span class="command"><strong>mysql_secure_installation</strong></span> が含まれます。また、MySQL Workbench はすべてのプラットフォームで使用可能で、ユーザーアカウントの管理機能も提供します (<a class="xref" href="workbench.html" title="第 26 章 MySQL Workbench">第26章「<i>MySQL Workbench</i>」</a>を参照してください)。
      </p></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="upgrading-downgrading"></a>2.11 MySQL のアップグレードとダウングレード</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#upgrading">2.11.1 MySQL のアップグレード</a></span></dt><dt><span class="section"><a href="installing.html#downgrading">2.11.2 MySQL のダウングレード</a></span></dt><dt><span class="section"><a href="installing.html#checking-table-incompatibilities">2.11.3 テーブルまたはインデックスの再構築が必要かどうかのチェック</a></span></dt><dt><span class="section"><a href="installing.html#rebuilding-tables">2.11.4 テーブルまたはインデックスの再作成または修復</a></span></dt><dt><span class="section"><a href="installing.html#copying-databases">2.11.5 MySQL データベースのほかのマシンへのコピー</a></span></dt></dl></div><a class="indexterm" name="idm139979162018704"></a><a class="indexterm" name="idm139979162017280"></a><p>
    このセクションでは、MySQL インストールのアップグレードまたはダウングレードの手順を説明します。
  </p><p>
    MySQL の同じリリースシリーズ内でのバグフィックスや、MySQL の主なリリース間の重大な機能を入手する場合など、アップグレードは一般的な手順です。この手順は、テストシステムでまず実行して、すべてが問題なく動作することを確認してから本番システムで実行します。
  </p><p>
    ダウングレードはそれほど一般的ではありません。通常、最初にテストシステムでアップグレードを確認したときには発見されなかった互換性またはパフォーマンスの問題が本番システムで発生したために、アップグレードを元に戻します。アップグレードの手順と同様に、ダウングレードの手順は本番システム上で使用する前に、まずテストシステム上で実行して確認します。
  </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="upgrading"></a>2.11.1 MySQL のアップグレード</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#updating-yum-repo">2.11.1.1 MySQL Yum リポジトリを使用する MySQL のアップグレード</a></span></dt><dt><span class="section"><a href="installing.html#updating-apt-repo">2.11.1.2 MySQL APT リポジトリを使用する MySQL のアップグレード</a></span></dt><dt><span class="section"><a href="installing.html#upgrading-from-previous-series">2.11.1.3 MySQL 5.5 から 5.6 へのアップグレード</a></span></dt></dl></div><a class="indexterm" name="idm139979162012144"></a><p>
      原則として、あるリリースシリーズから別のものにアップグレードするには、シリーズをスキップせずに次のシリーズに移動します。MySQL 5.5 より前のリリースシリーズからアップグレードするには、MySQL 5.5 に到達するまで順に次のリリースシリーズにアップグレードしてから、MySQL 5.6 へのアップグレードに進みます。たとえば、現在 MySQL 5.1 を稼働していて、新しいシリーズにアップグレードする場合は、MySQL 5.6 にアップグレードする前にまず 5.5 にアップグレードする、などです。MySQL 5.5 へのアップグレードの詳細は、『<em class="citetitle">MySQL 5.5 リファレンスマニュアル</em>』を参照してください。
    </p><p>
      MySQL 5.6 にアップグレードするには、次のチェックリストの項目を参考にしてください。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          アップグレードの前に、付与テーブルを含む <code class="literal">mysql</code> データベースなどのデータベースのバックアップを作成します。<a class="xref" href="backup-and-recovery.html#backup-methods" title="7.2 データベースバックアップ方法">セクション7.2「データベースバックアップ方法」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="xref" href="installing.html#upgrading-from-previous-series" title="2.11.1.3 MySQL 5.5 から 5.6 へのアップグレード">セクション2.11.1.3「MySQL 5.5 から 5.6 へのアップグレード」</a>の<span class="emphasis"><em>すべての</em></span>注釈をお読みください。これらの注釈によって、現在の MySQL インストールに適用されるアップグレードの問題を識別できます。そのセクションで説明されている一部の互換性の欠如は、アップグレードの<span class="emphasis"><em>前に</em></span>注意する必要があります。アップグレードの<span class="emphasis"><em>あとに</em></span>アクションが必要なものもあります。
        </p></li><li class="listitem"><p>
          <a class="ulink" href="http://dev.mysql.com/doc/relnotes/mysql/5.6/en/" target="_top">リリースノート</a>もお読みください。ここには、MySQL 5.6 の新機能や MySQL の以前のリリースとは異なるものに関する情報があります。
        </p></li><li class="listitem"><p>
          MySQL の新しいバージョンにアップグレードしたら、<span class="command"><strong>mysql_upgrade</strong></span> を実行します (<a class="xref" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — MySQL テーブルのチェックとアップグレード">セクション4.4.7「<span class="command"><strong>mysql_upgrade</strong></span> — MySQL テーブルのチェックとアップグレード」</a>を参照してください)。このプログラムはテーブルを確認し、必要に応じて修復を試みます。また、付与テーブルを更新して最新の構造を持つようにし、新しい機能を活用できるようにします。(MySQL のリリースの中には、新たに権限や機能を加えるために付与テーブルの構造に変更を加えているものもあります。) 
        </p><p>
          <span class="command"><strong>mysql_upgrade</strong></span> では、ヘルプテーブルの内容はアップグレードされません。アップグレードの手順については、<a class="xref" href="server-administration.html#server-side-help-support" title="5.1.10 サーバー側のヘルプ">セクション5.1.10「サーバー側のヘルプ」</a>を参照してください。
        </p><p>
          <span class="command"><strong>mysql_upgrade</strong></span> は、サーバーが <code class="option">--gtid-mode=ON</code> で稼働している場合には使用しないでください。使用すると、<code class="literal">mysql</code> データベース内の非トランザクションシステムテーブルが変更される場合があります。これらの多くは <code class="literal">MyISAM</code> で、異なるストレージエンジンを使用するように変更することはできません。<a class="xref" href="replication.html#replication-gtids-restrictions-mysql_upgrade" title="GTID モードと mysql_upgrade">GTID モードと mysql_upgrade</a>を参照してください。
        </p></li><li class="listitem"><p>
          MySQL Server を Windows 上で使用する場合は、<a class="xref" href="installing.html#windows-upgrading" title="2.3.7 Windows 上の MySQL をアップグレードする">セクション2.3.7「Windows 上の MySQL をアップグレードする」</a>を参照してください。
        </p></li><li class="listitem"><p>
          レプリケーションを使用する場合は、レプリケーションのセットアップのアップグレードについて<a class="xref" href="replication.html#replication-upgrade" title="17.4.3 レプリケーションセットアップをアップグレードする">セクション17.4.3「レプリケーションセットアップをアップグレードする」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <code class="literal">InnoDB</code> を使用する場合は、サーバーをシャットダウンしてアップグレードする前に、<code class="literal">innodb_fast_shutdown</code> を 0 に設定することを考慮します。<code class="literal">innodb_fast_shutdown</code> を 0 に設定すると、<code class="literal">InnoDB</code> はシャットダウンの前に低速シャットダウン、完全なパージ、および挿入バッファーのマージを実行します。これにより、アップグレードプロセスでファイル形式が変更される場合に備えて、すべてのデータファイルが完全に準備されます。
        </p></li><li class="listitem"><p>
          もともと複数の RPM パッケージをインストールして生成したインストールをアップグレードする場合は、一部だけでなくすべてのパッケージをアップグレードするのが最善です。たとえば、以前にサーバーおよびクライアントの RPM をインストールした場合は、サーバーの RPM だけをアップグレードすることはしないでください。
        </p></li><li class="listitem"><p>
          ユーザー定義関数 (UDF) を所定の名前で作成したあとで、MySQL を同じ名前の組み込み関数を実装した新しいバージョンにアップグレードした場合、その UDF はアクセスできなくなります。これを修正するには、<code class="literal">DROP FUNCTION</code> を使用して UDF を削除してから、<code class="literal">CREATE FUNCTION</code> を使用して競合しない別の名前で UDF を再作成します。新しいバージョンの MySQL が、既存のストアドファンクションと同名の組み込み関数を実装している場合にも、同じとこが言えます。各種の関数への参照をサーバーが解釈する方法を記述したルールについては、<a class="xref" href="language-structure.html#function-resolution" title="9.2.4 関数名の構文解析と解決">セクション9.2.4「関数名の構文解析と解決」</a>を参照してください。
        </p></li></ul></div><p>
      EL5、EL6、または EL7 ベースの Linux プラットフォームおよび Fedora 20 または 21 では、MySQL およびそのコンポーネントを、MySQL Yum リポジトリでインプレースアップグレードできます。<a class="xref" href="installing.html#updating-yum-repo" title="2.11.1.1 MySQL Yum リポジトリを使用する MySQL のアップグレード">セクション2.11.1.1「MySQL Yum リポジトリを使用する MySQL のアップグレード」</a>を参照してください。
    </p><p>
      

      Debian 7、Ubuntu 12、および Ubuntu 14 では、MySQL およびそのコンポーネントを、MySQL APT リポジトリでインプレースアップグレードできます。<a class="xref" href="installing.html#updating-apt-repo" title="2.11.1.2 MySQL APT リポジトリを使用する MySQL のアップグレード">セクション2.11.1.2「MySQL APT リポジトリを使用する MySQL のアップグレード」</a>を参照してください。

      
    </p><p>
      MySQL リリースシリーズの一般提供ステータスに到達したバージョン間のアップグレードでは、MySQL 形式のファイルおよびデータファイルを、同じアーキテクチャーを持つシステム上の異なるバージョン間で移動できます。MySQL リリースシリーズの開発ステータスにあるバージョンへのアップグレードでは、必ずしもそうではありません。開発リリースは自己責任でご使用ください。
    </p><p>
      新しいバージョンの使用に慎重な場合には、新しいバージョンをインストールする前に、常に古い <span class="command"><strong>mysqld</strong></span> の名前を変更できます。たとえば、MySQL 5.5 のバージョンを使用していて 5.6 にアップグレードする場合は、現在のサーバーを <span class="command"><strong>mysqld</strong></span> から <span class="command"><strong>mysqld-5.5</strong></span> に名前変更します。新しい <span class="command"><strong>mysqld</strong></span> に予想外の問題が発生した場合は、単にそれをシャットダウンして古い <span class="command"><strong>mysqld</strong></span> を起動するだけで済みます。
    </p><p>
      新しい <span class="command"><strong>mysqld</strong></span> サーバーが起動しない、あるいはパスワードなしで接続できないなどの問題が発生した場合には、前のインストールの古い <code class="filename">my.cnf</code> ファイルが残っていないか確認します。これは <code class="option">--print-defaults</code> オプション (たとえば、<span class="command"><strong>mysqld --print-defaults</strong></span>) で確認できます。このコマンドがプログラム名以外の何かを表示した場合、サーバーあるいはクライアントオペレーションに影響を及ぼすアクティブな <code class="filename">my.cnf</code> ファイルがあることになります。
    </p><p>
      アップグレード後に、コンパイル済みのクライアントプログラムに <code class="literal">Commands out of sync</code> または予測外のコアダンプなどの問題が発生した場合は、プログラムのコンパイル時に、古いヘッダーファイルまたはライブラリファイルを使用した可能性があります。この場合、<code class="filename">mysql.h</code> ファイルおよび <code class="filename">libmysqlclient.a</code> ライブラリの日付をチェックして、それらが新しい MySQL 配布のものであることを確認します。そうでない場合には、プログラムを新しいヘッダーおよびライブラリで再度コンパイルします。(<code class="filename">libmysqlclient.so.15</code> から <code class="filename">libmysqlclient.so.16</code> など) ライブラリのメジャーバージョン番号が変更された場合は、共有クライアントライブラリを使用してコンパイルされたプログラムも再コンパイルが必要になることがあります。
    </p><p>
      MySQL インストールに、インプレースアップグレード後の変換に長い時間がかかる可能性のある大量のデータが含まれている場合は、必要な変換とその実行に関係する作業を評価するための<span class="quote">「<span class="quote">仮の</span>」</span>データベースインスタンスを作成すると役立つことがあります。<code class="literal">mysql</code> データベースの完全なコピーと、データを含まないその他のすべてのデータベースを含む MySQL インスタンスのコピーを作成します。このダミーのインスタンスに対してアップグレードの手順を実行し、必要になるアクションを確認して、元のデータベースインスタンスで実際のデータ変換を実行するときに関係する作業をよりよく評価できるようにします。
    </p><p>
      新しいリリースの MySQL をインストールした際は必ず Perl <code class="literal">DBD::mysql</code> モジュールを再構築して再インストールするのがいいでしょう。同じことが、PHP <code class="literal">mysql</code> 拡張や Python <code class="literal">MySQLdb</code> モジュールなどの、ほかの MySQL インタフェースにも言えます。
    </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="updating-yum-repo"></a>2.11.1.1 MySQL Yum リポジトリを使用する MySQL のアップグレード</h4></div></div></div><a class="indexterm" name="idm139979161946736"></a><a class="indexterm" name="idm139979161945264"></a><p>
        サポートされる Yum ベースのプラットフォーム (リストについては<a class="xref" href="installing.html#linux-installation-yum-repo" title="2.5.1 MySQL Yum リポジトリを使用して MySQL を Linux にインストールする">セクション2.5.1「MySQL Yum リポジトリを使用して MySQL を Linux にインストールする」</a>を参照してください) では、MySQL Yum リポジトリを使用して、MySQL のインプレースアップグレード (つまり、古いバージョンを置換して、古いデータファイルに対して新しいバージョンを実行) を実行できます。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">メモ</div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              MySQL に対して更新を実行する前に、<a class="xref" href="installing.html#upgrading" title="2.11.1 MySQL のアップグレード">セクション2.11.1「MySQL のアップグレード」</a>の手順に慎重に従ってください。そこで議論されている手順のうち、更新の前にデータベースのバックアップを取ることが特に重要です。
            </p></li><li class="listitem"><p>
              次の手順では、MySQL Yum リポジトリを使用して MySQL をインストールしたことを前提としています。そうでない場合は、<a class="xref" href="installing.html#replace-third-party-yum" title="2.5.2 サードパーティーの MySQL 配布を MySQL Yum リポジトリを使用して置換する">セクション2.5.2「サードパーティーの MySQL 配布を MySQL Yum リポジトリを使用して置換する」</a>の手順に従ってください。

              
            </p></li></ul></div></div><p>
        </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><h5><a name="idm139979161934096"></a>ターゲットシリーズの選択</h5><p>
              デフォルトでは、MySQL Yum リポジトリは、インストール中に選択したリリースシリーズ内の最新バージョンに MySQL を更新します (詳細は<a class="xref" href="installing.html#yum-repo-select-series" title="リリースシリーズの選択">Selecting a Release Series</a>を参照してください)。つまり、たとえば 5.6.x インストールは 5.7.x リリースに自動的には更新されません。別のリリースシリーズに更新するには、(デフォルトで、または自分で) 選択したシリーズのサブリポジトリを無効にし、ターゲットシリーズのサブリポジトリを有効にする必要があります。それをするには、 <a class="xref" href="installing.html#yum-repo-select-series" title="リリースシリーズの選択">Selecting a Release Series</a>で説明されている、<code class="filename">/etc/yum.repos.d/mysql-community.repo</code> ファイル内のサブリポジトリのエントリを編集するための手順に従います。
            </p><p>
              原則として、あるリリースシリーズから別のものにアップグレードするには、シリーズをスキップせずに次のシリーズに移動します。たとえば、現在 MySQL 5.5 を稼働していて、5.7 にアップグレードする場合は、MySQL 5.7 にアップグレードする前にまず 5.6 にアップグレードします。

              </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
                  MySQL 5.6 から 5.7 へのアップグレードに関する重要な情報については、「<a class="ulink" href="http://dev.mysql.com/doc/refman/5.7/en/upgrading-from-previous-series.html" target="_top">Upgrading from MySQL 5.6 to 5.7</a>」を参照してください。
                </p></div><p>
            </p></li><li class="listitem"><h5><a name="idm139979161926032"></a>MySQL のアップグレード</h5><p>
              次のコマンドで MySQL およびそのコンポーネントをアップグレードします。

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo yum update mysql-server</code></strong></pre><p>

              または、Yum に対してシステム上のすべてを更新するように指示することで、MySQL を更新することもできます (これにはかなり時間がかかる場合があります)。

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo yum update</code></strong></pre><p>
            </p></li><li class="listitem"><h5><a name="idm139979161921264"></a>MySQL の再起動</h5><p>
              MySQL Server は、Yum による更新後必ず再起動します。サーバーの再起動後、<span class="command"><strong>mysql_upgrade</strong></span> を実行して、古いデータとアップグレードされたソフトウェアとの間の非互換性をチェックし、あれば解決します。<span class="command"><strong>mysql_upgrade</strong></span> はその他の機能も実行します。詳細は、<a class="xref" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — MySQL テーブルのチェックとアップグレード">セクション4.4.7「<span class="command"><strong>mysql_upgrade</strong></span> — MySQL テーブルのチェックとアップグレード」</a>を参照してください。
            </p></li></ol></div><p>
      </p><p>
        特定のコンポーネントのみを更新することもできます。次のコマンドを使用して、MySQL コンポーネントのインストール済みのすべてのパッケージをリストできます。

</p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo yum list installed | grep "^mysql"</code></strong>
</pre><p>

        選択したコンポーネントのパッケージ名を特定したら、次のコマンドで <em class="replaceable"><code>package-name</code></em> をそのパッケージ名に置換して、パッケージを更新します。

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo yum update <em class="replaceable"><code>package-name</code></em></code></strong></pre><p>
      </p><h5><a name="updating-yum-repo-client-lib"></a>共有クライアントライブラリのアップグレード</h5><p>
        Yum リポジトリを使用して MySQL を更新したあとも、古いバージョンの共有クライアントライブラリを使用してコンパイルされたアプリケーションは機能するはずです。
      </p><p>
        <span class="emphasis"><em>アプリケーションを再コンパイルして、更新されたライブラリに動的にリンクする場合: </em></span> 一般的に、新しいバージョンの共有ライブラリでは新旧ライブラリ間でシンボルバージョン管理に違いや追加があるため (たとえば、新しい標準 5.6 共有クライアントライブラリと、Linux 配布のソフトウェアリポジトリによってネイティブで出荷された、またはその他のソースからの一部の古い (以前のまたはバリアントの) バージョンの共有ライブラリとの間で)、更新された新しい共有ライブラリを使用してコンパイルされたアプリケーションは、アプリケーションが配備されるシステム上で更新済みのライブラリを必要とします。また、これらのライブラリがない場合は、共有ライブラリを必要とするアプリケーションは予想どおり失敗します。したがって、MySQL からの共有ライブラリのパッケージを、必ずこれらのシステムに配備してください。これは、MySQL Yum リポジトリをシステムに追加し (<a class="xref" href="installing.html#yum-repo-setup" title="MySQL Yum リポジトリの追加">Adding the MySQL Yum Repository</a>を参照してください)、<a class="xref" href="installing.html#yum-install-components" title="追加の MySQL 製品およびコンポーネントの Yum でのインストール">Installing Additional MySQL Products and Components with Yum</a>に記載の手順を使用して最新の共有ライブラリをインストールすることによって実行できます。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="updating-apt-repo"></a>2.11.1.2 MySQL APT リポジトリを使用する MySQL のアップグレード</h4></div></div></div><a class="indexterm" name="idm139979161904656"></a><a class="indexterm" name="idm139979161903184"></a><p>
        Debian 7、Ubuntu 12、および Ubuntu 14 では、MySQL およびそのコンポーネントを、MySQL APT リポジトリでインプレースアップグレードできます。「<a class="ulink" href="http://dev.mysql.com/doc/mysql-apt-repo-quick-guide/en/" target="_top">A Quick Guide to Using the MySQL APT Repository</a>」の、「<a class="ulink" href="http://dev.mysql.com/doc/mysql-apt-repo-quick-guide/en/index.html#repo-qg-apt-upgrading" target="_top">Upgrading MySQL with the MySQL APT Repository</a>」を参照してください。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="upgrading-from-previous-series"></a>2.11.1.3 MySQL 5.5 から 5.6 へのアップグレード</h4></div></div></div><a class="indexterm" name="idm139979161897360"></a><a class="indexterm" name="idm139979161895216"></a><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL 5.6.6 以降では、MySQL Server のいくつかのパラメータのデフォルト値が、前のリリースと異なっています。このセクションで後述するこれらの変更に関する注記、特に後方互換性の維持が懸念事項である場合は、それらのオーバーライドに関する注記を参照してください。
        </p></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          新しいバージョンのソフトウェアをインストールする前にデータのバックアップを必ず励行してください。MySQL は、高水準の品質を保証するため多大な努力を行なっていますが、バックアップを取ってデータを保護してください。
        </p><p>
          以前のバージョンから 5.6 にアップグレードするには、アップグレードの前に <span class="command"><strong>mysqldump</strong></span> でテーブルをダンプし、アップグレード後にダンプファイルをリロードすることを、MySQL は推奨します。すべてのデータベースをダンプに含めるには、<code class="option">--all-databases</code> オプションを使用します。データベースにストアドプログラムが含まれる場合は、<code class="option">--routines</code> オプションおよび <code class="option">--events</code> オプションも使用します。
        </p></div><p>
        一般的に、MySQL 5.5 から 5.6 へのアップグレードを行う場合は次を実行します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            次のセクションにある<span class="emphasis"><em>すべての</em></span>項目を読み、いずれかの項目がアプリケーションに影響を及ぼすかどうか確認します。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <a class="xref" href="installing.html#upgrading" title="2.11.1 MySQL のアップグレード">セクション2.11.1「MySQL のアップグレード」</a>に、更新に関する一般的な情報があります。
              </p></li><li class="listitem"><p>
                このセクションで後述する変更リスト内の項目によって、現在の MySQL インストールに該当するアップグレードの問題を識別できます。そこで説明されている互換性の欠如の一部は、アップグレードの<span class="emphasis"><em>前に</em></span>注意する必要があります。ほかの点はアップグレードの<span class="emphasis"><em>あとで</em></span>扱うようにしてください。
              </p></li><li class="listitem"><p>
                MySQL 5.6 <a class="ulink" href="http://dev.mysql.com/doc/relnotes/mysql/5.6/en/" target="_top">リリースノート</a>では、5.6 で使用できる主な新機能や、MySQL の以前のリリースとは異なるものについて説明しています。これらの変更の一部には互換性がない場合があります。
              </p></li></ul></div><p>
            <span class="bold"><strong>既知の問題</strong></span>または<span class="bold"><strong>非互換の変更</strong></span>というマークが付いている変更に特に注意してください。以前のバージョンの MySQL との互換性がないこれらの変更では、<span class="emphasis"><em>アップグレードする前に</em></span>注意を払う必要があることがあります。弊社の目的はそれらの変更を避けることですが、各リリースの間の非適合性よりもさらに深刻な問題を修正するために必要である場合もあります。使用しているインストールに当てはまるアップグレードの問題に、特別な処置を必要とする互換性の欠如が関係している場合は、互換性の欠如の説明にある手順に従ってください。これには、テーブルのダンプとリロード、あるいは <code class="literal">CHECK TABLE</code> や <code class="literal">REPAIR TABLE</code> などのステートメントの使用が含まれる場合があります。
          </p><p>
            ダンプとリロードの手順については、<a class="xref" href="installing.html#rebuilding-tables" title="2.11.4 テーブルまたはインデックスの再作成または修復">セクション2.11.4「テーブルまたはインデックスの再作成または修復」</a>を参照してください。<code class="literal">USE_FRM</code> オプションを使う <code class="literal">REPAIR TABLE</code> に関係する手順は、アップグレードの前に実行する<span class="emphasis"><em>必要があります</em></span>。テーブルの作成に使用したものとは異なるバージョンの MySQL でこのステートメントを使用すると (つまり、アップグレード後にこのステートメントを使用すると)、テーブルが破損することがあります。<a class="xref" href="sql-syntax.html#repair-table" title="13.7.2.5 REPAIR TABLE 構文">セクション13.7.2.5「REPAIR TABLE 構文」</a>を参照してください。
          </p></li><li class="listitem"><p>
            新しいバージョンの MySQL にアップグレードする前に、現在使用している MySQL のバージョンとアップグレードするバージョンとの間でテーブルの形式または文字セットまたは照合順序に変更があったかどうかを、<a class="xref" href="installing.html#checking-table-incompatibilities" title="2.11.3 テーブルまたはインデックスの再構築が必要かどうかのチェック">セクション2.11.3「テーブルまたはインデックスの再構築が必要かどうかのチェック」</a>で確認してください。その場合、それらの変更により MySQL バージョン間に互換性の欠如が生じている場合は、<a class="xref" href="installing.html#rebuilding-tables" title="2.11.4 テーブルまたはインデックスの再作成または修復">セクション2.11.4「テーブルまたはインデックスの再作成または修復」</a>の手順を使用して影響されるテーブルをアップグレードすることが必要になります。
          </p></li><li class="listitem"><p>
            MySQL の新しいバージョンにアップグレードしたら、<span class="command"><strong>mysql_upgrade</strong></span> を実行します (<a class="xref" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — MySQL テーブルのチェックとアップグレード">セクション4.4.7「<span class="command"><strong>mysql_upgrade</strong></span> — MySQL テーブルのチェックとアップグレード」</a>を参照してください)。このプログラムはテーブルを確認し、必要に応じて修復を試みます。また、付与テーブルを更新して最新の構造を持つようにし、新しい機能を活用できるようにします。(MySQL のリリースの中には、新たに権限や機能を加えるために付与テーブルの構造に変更を加えているものもあります。) 
          </p><p>
            <span class="command"><strong>mysql_upgrade</strong></span> では、ヘルプテーブルの内容はアップグレードされません。アップグレードの手順については、<a class="xref" href="server-administration.html#server-side-help-support" title="5.1.10 サーバー側のヘルプ">セクション5.1.10「サーバー側のヘルプ」</a>を参照してください。
          </p></li><li class="listitem"><p>
            MySQL Server を Windows 上で使用する場合は、<a class="xref" href="installing.html#windows-upgrading" title="2.3.7 Windows 上の MySQL をアップグレードする">セクション2.3.7「Windows 上の MySQL をアップグレードする」</a>を参照してください。
          </p></li><li class="listitem"><p>
            レプリケーションを使用する場合は、レプリケーションのセットアップのアップグレードについて<a class="xref" href="replication.html#replication-upgrade" title="17.4.3 レプリケーションセットアップをアップグレードする">セクション17.4.3「レプリケーションセットアップをアップグレードする」</a>を参照してください。
          </p></li></ul></div><p>
        MySQL インストールに、インプレースアップグレード後の変換に長い時間がかかる可能性のある大量のデータが含まれている場合は、必要な変換とその実行に関係する作業を評価するための<span class="quote">「<span class="quote">仮の</span>」</span>データベースインスタンスを作成すると役立つことがあります。<code class="literal">mysql</code> データベースの完全なコピーと、データを含まないその他のすべてのデータベースを含む MySQL インスタンスのコピーを作成します。このダミーのインスタンスに対してアップグレードの手順を実行し、必要になるアクションを確認して、元のデータベースインスタンスで実際のデータ変換を実行するときに関係する作業をよりよく評価できるようにします。
      </p><p>
        次からのセクションにある<span class="emphasis"><em>すべての</em></span>項目を読み、いずれかの項目がアプリケーションに影響を及ぼすかどうか確認します。
      </p><h5><a name="idm139979161851376"></a>構成の変更</h5><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            MySQL 5.6.6 以降では、MySQL Server のいくつかのパラメータのデフォルト値が、前のリリースと異なっています。これらの変更の目的は、初期設定のままで優れたパフォーマンスを提供し、データベース管理者が設定を手動で変更する必要性を低下させることです。これらの変更は、フィードバックの取得に伴い将来のリリースでのリビジョンにつながる場合があります。
          </p><p>
            パラメータが異なる静的なデフォルト値を持つ場合もあります。あるいは、静的な値を使用するのではなく、ほかの関連するパラメータやサーバーホスト構成に基づく公式を使用して、サーバーが起動時にパラメータを自動サイズ設定する場合もあります。たとえば、<code class="literal">back_log</code> の現在の設定は、以前のデフォルトの 50 で、<code class="literal">max_connections</code> の値に比例する量に応じて上方に調整されます。自動サイズ設定の背後には、固定値よりも適切だと思われるパラメータ設定について、決定を下すために利用できる情報をサーバーが持つ場合、その決定を下すという考え方があります。
          </p><p>
            次の表は、デフォルトへの変更を要約したものです。これらはすべて、サーバー起動時に明示的な値を指定することによってオーバーライドできます。
          </p><div class="informaltable"><table summary="この表は、MySQL 5.6.6 における MySQL Server パラメータのデフォルト値の変更をまとめたものです。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">パラメータ</th><th scope="col">古いデフォルト</th><th scope="col">新しいデフォルト</th></tr></thead><tbody><tr><td scope="row"><code class="literal">back_log</code></td><td>50</td><td><code class="literal">max_connections</code> を使用した自動サイズ設定</td></tr><tr><td scope="row"><code class="literal">binlog_checksum</code></td><td><code class="literal">NONE</code></td><td><code class="literal">CRC32</code></td></tr><tr><td scope="row"><code class="option">--binlog-row-event-max-size</code></td><td>1024</td><td>8192</td></tr><tr><td scope="row"><code class="literal">flush_time</code></td><td>1800 (Windows の場合)</td><td>0</td></tr><tr><td scope="row"><code class="literal">innodb_autoextend_increment</code></td><td>8</td><td>64</td></tr><tr><td scope="row"><code class="literal">innodb_buffer_pool_instances</code></td><td>1</td><td>8 (プラットフォームに依存)</td></tr><tr><td scope="row"><code class="literal">innodb_checksum_algorithm</code></td><td><code class="literal">INNODB</code></td><td><code class="literal">CRC32</code></td></tr><tr><td scope="row"><code class="literal">innodb_concurrency_tickets</code></td><td>500</td><td>5000</td></tr><tr><td scope="row"><code class="literal">innodb_file_per_table</code></td><td><code class="literal">0</code></td><td><code class="literal">1</code></td></tr><tr><td scope="row"><code class="literal">innodb_old_blocks_time</code></td><td>0</td><td>1000</td></tr><tr><td scope="row"><code class="literal">innodb_open_files</code></td><td>300</td><td><code class="literal">innodb_file_per_table</code>、<code class="literal">table_open_cache</code> を使用した自動サイズ設定</td></tr><tr><td scope="row"><code class="literal">innodb_stats_on_metadata</code></td><td><code class="literal">ON</code></td><td><code class="literal">OFF</code></td></tr><tr><td scope="row"><code class="literal">join_buffer_size</code></td><td>128KB</td><td>256KB</td></tr><tr><td scope="row"><code class="literal">max_allowed_packet</code></td><td>1MB</td><td>4MB</td></tr><tr><td scope="row"><code class="literal">max_connect_errors</code></td><td>10</td><td>100</td></tr><tr><td scope="row"><code class="literal">sync_master_info</code></td><td>0</td><td>10000</td></tr><tr><td scope="row"><code class="literal">sync_relay_log</code></td><td>0</td><td>10000</td></tr><tr><td scope="row"><code class="literal">sync_relay_log_info</code></td><td>0</td><td>10000</td></tr></tbody></table></div><p>
            以前のリリースとの互換性に関して、もっとも重要な変更は:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">innodb_file_per_table</code> は有効です (以前は無効)。
              </p></li><li class="listitem"><p>
                <code class="literal">innodb_checksum_algorithm</code> は <code class="literal">CRC32</code> です (以前は <code class="literal">INNODB</code>)。
              </p></li><li class="listitem"><p>
                <code class="literal">binlog_checksum</code> は <code class="literal">CRC32</code> です (以前は <code class="literal">NONE</code>)。
              </p></li></ul></div><p>
            したがって、既存の MySQL インストールからアップグレードする場合で、これらのパラメータの値を以前のデフォルトからまだ変更しておらず、後方互換性が懸念事項である場合は、これらを以前のデフォルト値に明示的にセットするとよいでしょう。たとえば、サーバーのオプションファイルに次の行を挿入します。
          </p><pre class="programlisting">
[mysqld]
innodb_file_per_table=0
innodb_checksum_algorithm=INNODB
binlog_checksum=NONE
</pre><p>
            これらの設定により、互換性が次のように維持されます。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">innodb_file_per_table</code> の新しいデフォルトは有効で、アップグレード後に <code class="literal">ALTER TABLE</code> 操作を行うとシステムのテーブルスペース内の <code class="literal">InnoDB</code> テーブルが個々の <code class="filename">.ibd</code> ファイルに移動されます。<code class="literal">innodb_file_per_table=0</code> を使用するとこれを防ぐことができます。
              </p></li><li class="listitem"><p>
                <code class="literal">innodb_checksum_algorithm=INNODB</code> を設定することにより、このリリースにアップグレードしたあとでバイナリのダウングレードが可能になります。<code class="literal">CRC32</code> を設定することにより、InnoDB は MySQL の古いバージョンが使用できないチェックサムを使用します。
              </p></li><li class="listitem"><p>
                <code class="literal">binlog_checksum=NONE</code> により、バイナリログチェックサムを理解しない古いスレーブが失敗することなく、サーバーをレプリケーションマスターとして使用できます。
              </p></li></ul></div></li><li class="listitem"><p>
            MySQL 5.6.5 では、4.1 より前のパスワードと <code class="literal">mysql_old_password</code> 認証プラグインは非推奨です。MySQL 4.1 より前で使用される古いハッシュ形式で格納されているパスワードは、ネイティブのパスワードハッシュ方式を使用するパスワードよりもセキュアでないため、使用しないようにしてください。4.1 より前のパスワードハッシュを持つアカウントを使用して接続することを防ぐために、<code class="literal">secure_auth</code> システム変数はデフォルトで有効になりました。(このようなパスワードハッシュを持つアカウントに対して接続を許可するには、<code class="literal">--secure_auth=0</code> を使用してサーバーを起動してください。)
          </p><p>
            データベース管理者は、<code class="literal">mysql_old_password</code> 認証プラグインを使用するアカウントを、代わりに <code class="literal">mysql_native_password</code> を使用するように変換することが推奨されます。アカウントのアップグレード手順については、<a class="xref" href="security.html#account-upgrades" title="6.3.8.3 4.1 よりも前のパスワードハッシュ方式と mysql_old_password プラグインからの移行">セクション6.3.8.3「4.1 よりも前のパスワードハッシュ方式と mysql_old_password プラグインからの移行」</a>を参照してください。
          </p><p>
            <span class="bold"><strong>既知の問題</strong></span>: MySQL 5.6 の以前の開発バージョンの一部 (5.6.6 から 5.6.10) では、サーバーが、パスワードハッシュと認証プラグインが一致しないアカウントを作成することがあります。たとえば、デフォルトの認証プラグインが <code class="literal">mysql_native_password</code> の場合、次のステートメントのシーケンスにより、プラグインが <code class="literal">mysql_native_password</code> だが、4.1 より前のパスワードハッシュ (<code class="literal">mysql_old_password</code> で使用される形式) であるアカウントになります。
          </p><pre class="programlisting">
SET old_passwords = 1;
CREATE USER 'jeffrey'@'localhost' IDENTIFIED BY 'mypass';
</pre><p>
            この不一致により、MySQL Server に接続できない、<code class="literal">SET PASSWORD</code> を <code class="literal">OLD_PASSWORD()</code> または <code class="literal">old_passwords=1</code> で使用できない、などの現象が発生します。
          </p><p>
            MySQL 5.6.11 では、この不一致は発生しなくなりました。代わりに、サーバーがエラーを生成します。
          </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SET old_passwords = 1;</code></strong>
mysql&gt; <strong class="userinput"><code>CREATE USER 'jeffrey'@'localhost' IDENTIFIED BY 'mypass';</code></strong>
ERROR 1827 (HY000): The password hash doesn't have the expected
format. Check if the correct password algorithm is being used with
the PASSWORD() function.
</pre><p>
            不一致の影響を受けているアカウントを処理するには、データベース管理者はそのアカウントの <code class="literal">mysql.user</code> テーブルの行の <code class="literal">plugin</code> カラムまたは <code class="literal">Password</code> カラムを、ほかのカラムと一致するように修正できます。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">old_passwords</code> を 0 に設定してから、<code class="literal">SET PASSWORD</code> および <code class="literal">PASSWORD()</code> を使用してアカウントに新しいパスワードを割り当てます。これにより、<code class="literal">Password</code> カラムが 4.1 パスワードハッシュを持つようになり、<code class="literal">mysql_native_password</code> プラグインと一致します。これが、推奨されるアカウントの修正方法です。
              </p></li><li class="listitem"><p>
                あるいは、データベース管理者はプラグインがパスワードハッシュ形式に一致するように <code class="literal">mysql_old_password</code> を変更してから、権限をフラッシュできます。<code class="literal">mysql_old_password</code> プラグインおよび 4.1 より前のパスワードハッシュは非推奨であり、MySQL の将来のバージョンではサポートされなくなるため、この方法は推奨されません。
              </p></li></ul></div></li></ul></div><h5><a name="idm139979161736528"></a>サーバーの変更</h5><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="bold"><strong>互換性のない変更</strong></span>: あるカラムの <code class="literal">DEFAULT</code> 値が、テーブル作成時の <code class="literal">sql_mode</code> 値に対しては有効だが、行の挿入または更新を行うときの <code class="literal">sql_mode</code> 値に対しては無効であるということが起こり得ます。例:
          </p><pre class="programlisting">
SET sql_mode = '';
CREATE TABLE t (d DATE DEFAULT 0);
SET sql_mode = 'NO_ZERO_DATE,STRICT_ALL_TABLES';
INSERT INTO t (d) VALUES(DEFAULT);
</pre><p>
            この場合、0 は <code class="literal">CREATE TABLE</code> に対しては受け入れられるべきですが、<code class="literal">INSERT</code> に対しては受け入れられるべきではありません。しかし、サーバーは挿入または更新時の <code class="literal">DEFAULT</code> 値を現在の <code class="literal">sql_mode</code> に対して評価しませんでした。この例では、<code class="literal">INSERT</code> は成功し、<code class="literal">'0000-00-00'</code> を <code class="literal">DATE</code> カラムに挿入します。
          </p><p>
            MySQL 5.6.13 では、サーバーは適切な <code class="literal">sql_mode</code> チェックを適用して、挿入時または更新時に警告またはエラーを生成します。
          </p><p>
            その結果、ステートメントベースのロギング (<code class="literal">binlog_format=STATEMENT</code>) を使用している場合に、レプリケーションに関する非互換性が生じます。スレーブがアップグレードされた場合、アップグレードされていないマスターが次の例をエラーなしで実行しますが、<code class="literal">INSERT</code> はスレーブで失敗し、レプリケーションは停止します。
          </p><p>
            これに対処するには、マスター上のすべての新しいステートメントを停止し、スレーブが追い付くのを待ちます。そのあと、スレーブに続いてマスターをアップグレードします。あるいは、新しいステートメントを停止できない場合は、マスターで一時的に行ベースのロギングに変更し (<code class="literal">binlog_format=ROW</code>)、すべてのスレーブが、この変更の時点までに生成されたすべてのバイナリログを処理するまで待ちます。そのあと、スレーブに続いてマスターをアップグレードし、マスターをステートメントベースのロギングに戻します。
          </p></li><li class="listitem"><p>
            <span class="bold"><strong>互換性のない変更</strong></span>: MySQL 5.6.11 以降では、<code class="literal">CREATE TABLE ... [SUB]PARTITION BY ALGORITHM=<em class="replaceable"><code>n</code></em> [LINEAR] KEY (...)</code> をサポートします。これは、<code class="literal">KEY</code> のパーティション化が MySQL 5.1 Server と互換性を持つテーブルを作成するのに使用できます (<em class="replaceable"><code>n</code></em>=1)。(Bug #14521864、Bug #66462) この構文は MySQL 5.5.31 以降の MySQL 5.5 ではサポートされていますが、MySQL 5.6.10 以前では受け入れられません。MySQL 5.5.31 以降の MySQL 5.5 リリースの <span class="command"><strong>mysqldump</strong></span> には、このオプションを使用してテーブルをダンプするときに <code class="literal">ALGORITHM</code> オプションが含まれますが、次のように条件コメントで囲みます。
          </p><pre class="programlisting">
CREATE TABLE t1 (a INT)
/*!50100 PARTITION BY KEY */ <span class="emphasis"><em>/*!50531 ALGORITHM = 1 */</em></span> /*!50100 ()
      PARTITIONS 3 */
</pre><p>
            このような <code class="literal">CREATE TABLE</code> ステートメントを含むダンプを MySQL 5.6.10 以前の MySQL 5.6 Server にインポートする場合、バージョン付きコメントは無視されず構文エラーが発生します。したがって、このようなダンプファイルをインポートする前に、MySQL 5.6 Server がコメントを無視するように変更するか (文字列 <code class="literal">!50531</code> が出現するたびにそれを削除するか、<code class="literal">!50611</code> に置換することによって)、あるいは削除します。
          </p><p>
            これは、MySQL 5.6.11 以降を使用して作成されたダンプファイルでは問題になりません。ここでは <code class="literal">ALGORITHM</code> オプションは <code class="literal">/*!50611 ... */</code> を使用して書き込まれています。
          </p></li><li class="listitem"><p>
            <span class="bold"><strong>互換性のない変更</strong></span>: <code class="literal">TIME</code>、<code class="literal">DATETIME</code>、および <code class="literal">TIMESTAMP</code> カラムについては、MySQL 5.6.4 より前に作成されたテーブルに必要なストレージは、5.6.4 以降で作成されたテーブルに必要なストレージとは異なります。これは、5.6.4 で、これらの時間型が少数部を持つことを許可するように変更されたためです。MySQL 5.5 から MySQL 5.6.4 以降にアップグレードしたあと、MySQL 5.5 から MySQL 5.6 の <code class="literal">TIME</code>、<code class="literal">DATETIME</code>、および <code class="literal">TIMESTAMP</code> 型にもアップグレードすることを推奨します。<code class="literal">ALTER TABLE</code> は現在、MySQL 5.5 および MySQL 5.6.4 (以降) のバイナリ形式の時間カラムを含むテーブルの作成を許可しますが、このため、<code class="filename">.frm</code> ファイルが利用できない場合にテーブルを再作成するのがより困難になります。さらに、MySQL 5.6.4 では、前述の時間型はスペース効率が改善されています。MySQL 5.6.4 での時間型の変更の詳細は、<a class="xref" href="data-types.html#data-types-storage-reqs-date-time" title="日付と時間型のストレージ要件">Storage Requirements for Date and Time Types</a>を参照してください。
          </p><p>
            MySQL 5.6.16 では、<code class="literal">ALTER TABLE</code> は、<code class="literal">ADD COLUMN</code>、<code class="literal">CHANGE COLUMN</code>、<code class="literal">MODIFY COLUMN</code>、<code class="literal">ADD INDEX</code>、および <code class="literal">FORCE</code> 操作に関して、古い時間カラムを 5.6 形式にアップグレードします。したがって、次のステートメントは、古い形式のカラムを含むテーブルをアップグレードします。
          </p><pre class="programlisting">
ALTER TABLE <em class="replaceable"><code>tbl_name</code></em> FORCE;
</pre><p>
            テーブルを再構築しなければならないため、この変換は <code class="literal">INPLACE</code> アルゴリズムを使用して実行することはできません。そのため、これらの場合に <code class="literal">ALGORITHM=INPLACE</code> を指定するとエラーになります。必要であれば、<code class="literal">ALGORITHM=COPY</code> を指定します。
          </p><p>
             <code class="literal">ALTER TABLE</code> は、時間形式の変換を実行しない場合には、<code class="literal">SHOW WARNINGS</code>: <code class="literal">TIME/TIMESTAMP/DATETIME columns of old format have been upgraded to the new format</code> で表示できるメッセージを生成します。
          </p></li><li class="listitem"><p>
            前記の互換性のない変更で説明した時間型の変更のため、<code class="literal">DATETIME</code> 型および <code class="literal">TIMESTAMP</code> 型を含む、MySQL 5.6.4 より前のテーブルを MySQL 5.6.4 (以降) にインポートすると失敗します。これらの時間型を持つ MySQL 5.5 テーブルを MySQL 5.6.4 (以降) にインポートする場合が、この問題が発生する可能性がもっとも高いシナリオです。
          </p><p>
            次の手順では、元の MySQL 5.6.4 より前の <code class="filename">.frm</code> ファイルを使用して、5.6.4 (以降) と互換性のある行構造を持つテーブルを再作成する回避策について説明します。この手順には、<code class="literal">.frm</code> ファイルを目的のインスタンスのデータディレクトリにコピーし、<code class="literal">ALTER TABLE</code> を使用してテーブルのストレージエンジンタイプを <code class="literal">InnoDB</code> に戻すことで、MySQL 5.6.4 より前の元の <code class="filename">.frm</code> ファイルを、<code class="literal">InnoDB</code> の代わりに <code class="literal">Memory</code> ストレージエンジンを使用するように変更することが含まれます。テーブルに外部キーがない場合は最初の手順を使用します。テーブルに外部キーが含まれる場合は、追加の手順を含む 2 番目の手順を使用します。
          </p><p>
            テーブルに外部キーがない場合:
          </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
                テーブルの元の <code class="filename">.frm</code> ファイルを、テーブルスペースをインポートするサーバーのデータディレクトリにコピーします。
              </p></li><li class="listitem"><p>
                テーブルの <code class="filename">.frm</code> ファイルを、<code class="literal">InnoDB</code> ストレージエンジンの代わりに <code class="literal">Memory</code> ストレージエンジンを使用するように変更します。この変更には、<code class="filename">.frm</code> ファイル内の、テーブルのストレージエンジンタイプを定義する 7 バイトを変更する必要があります。16 進の編集ツールを使用する場合:
              </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                    次に示すように、オフセット位置 0003 のバイト <code class="filename">legacy_db_type</code> を、<span class="quote">「<span class="quote"><code class="literal">0c</code></span>」</span> (<code class="literal">InnoDB</code>) から <span class="quote">「<span class="quote"><code class="literal">06</code></span>」</span> (<code class="literal">Memory</code>) に変更します。
                  </p><pre class="programlisting">
00000000  fe 01 09 06 03 00 00 10  01 00 00 30 00 00 10 00 
</pre></li><li class="listitem"><p>
                    残りの 6 バイトには固定のオフセットはありません。<code class="literal">.frm</code> ファイルで <span class="quote">「<span class="quote"><code class="literal">InnoDB</code></span>」</span> を検索し、その他の 6 バイトを含む行を探します。行は次に示すようになります。
                  </p><pre class="programlisting">
00001010  ff 00 00 00 00 00 00 06  00 49 6e 6e 6f 44 42 00  |.........InnoDB.|
</pre></li><li class="listitem"><p>
                    行が次のようになるようにバイトを変更します。
                  </p><pre class="programlisting">
00001010  ff 00 00 00 00 00 00 06 00 4d 45 4d 4f 52 59 00
</pre></li></ul></div></li><li class="listitem"><p>
                <code class="literal">ALTER TABLE ... ENGINE=INNODB</code> を実行して、テーブル定義を <code class="literal">InnoDB</code> データディクショナリに追加します。これにより、新しい形式の時間データ型を持つ <code class="literal">InnoDB</code> テーブルが作成されます。<code class="literal">ALTER TABLE</code> 操作が正常に完了するためには、<code class="literal">.frm</code> ファイルがテーブルスペースに対応していなければなりません。
              </p></li><li class="listitem"><p>
                <code class="literal">ALTER TABLE ... IMPORT TABLESPACE</code> を使用してテーブルをインポートします。
              </p></li></ol></div><p>
            テーブルに外部キーがある場合:
          </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
                <code class="literal">SHOW CREATE TABLE</code> の出力からテーブルの定義を使用して、外部キーのあるテーブルを再作成します。この時点では、正しくない時間カラムフォーマットは問題ではありません。
              </p></li><li class="listitem"><p>
                <code class="literal">INFORMATION_SCHEMA.TABLE_CONSTRAINTS</code> および <code class="literal">INFORMATION_SCHEMA.KEY_COLUMN_USAGE</code> から外部キー情報を選択して、すべての外部キー定義をテキストファイルにダンプします。
              </p></li><li class="listitem"><p>
                すべてのテーブルを削除し、外部キーのないテーブルに関する前述の手順のステップ 1 から 4 で説明されているテーブルのインポートプロセスを完了します。
              </p></li><li class="listitem"><p>
                インポート操作が完了したら、テキストファイルに保存した外部キー定義から外部キーを追加します。
              </p></li></ol></div></li><li class="listitem"><p>
            <span class="bold"><strong>互換性のない変更</strong></span>: MySQL 5.6 では、<code class="literal">character_set_server</code> が <code class="literal">ucs2</code>、<code class="literal">utf16</code>、<code class="literal">utf16le</code>、または <code class="literal">utf32</code> の場合、全文ストップワードファイルがロードされ、<code class="literal">latin1</code> を使用して検索されます。サーバーの文字セットが <code class="literal">ucs2</code>、<code class="literal">utf16</code>、<code class="literal">utf16le</code>、または <code class="literal">utf32</code> である間に、<code class="literal">FULLTEXT</code> インデックスを持つテーブルが作成された場合は、次のステートメントを使用して修復してください。
          </p><pre class="programlisting">
REPAIR TABLE <em class="replaceable"><code>tbl_name</code></em> QUICK;
</pre></li><li class="listitem"><p>
            <span class="bold"><strong>互換性のない変更</strong></span>: MySQL 5.6.20 では、Bug #69477 に対するパッチにより、<code class="literal">BLOB</code> で書き込まれる Redo ログのサイズが Redo ログファイルサイズの 10% に制限されます。この新しい制限の結果として、<code class="literal">innodb_log_file_size</code> は、テーブルの行で見つかった最大の <code class="literal">BLOB</code> データサイズの 10 倍よりも大きい値に設定するべきです。<code class="literal">innodb_log_file_size</code> 設定がすでに、最大の <code class="literal">BLOB</code> データサイズの 10 倍になっているか、テーブルに <code class="literal">BLOB</code> データが含まれない場合は、アクションは不要です。
          </p><p>
            MySQL 5.6.22 では、Redo ログ <code class="literal">BLOB</code> の書き込み制限は <span class="emphasis"><em>合計 Redo ログサイズ</em></span> (<code class="literal">innodb_log_file_size</code> * <code class="literal">innodb_log_files_in_group</code>) の 10% に緩められました。(Bug #19498877)
          </p></li></ul></div><h5><a name="idm139979161605440"></a>SQL の変更</h5><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            MySQL 5.5 では予約されていなかった一部のキーワードが、MySQL 5.6 では予約されている場合があります。<a class="xref" href="language-structure.html#reserved-words" title="9.3 予約語">セクション9.3「予約語」</a>を参照してください。
          </p></li><li class="listitem"><p>
            <code class="literal">YEAR(2)</code> データ型には、使用する前に考慮する必要のある特定の問題があります。MySQL 5.6.6 以降、<code class="literal">YEAR(2)</code> は非推奨です。既存のテーブル内の <code class="literal">YEAR(2)</code> カラムは以前のとおりに扱われますが、新規または変更したテーブルでは <code class="literal">YEAR(2)</code> は <code class="literal">YEAR(4)</code> に変換されます。詳細は、<a class="xref" href="data-types.html#migrating-to-year4" title="11.3.4 YEAR(2) の制限と YEAR(4) への移行">セクション11.3.4「YEAR(2) の制限と YEAR(4) への移行」</a>を参照してください。
          </p></li><li class="listitem"><p>
            MySQL 5.6.6 では、値 <code class="literal">DEFAULT</code> をストアドプロシージャーまたはストアドファンクションのパラメータや、ストアドプログラムのローカル変数に割り当てることは (<code class="literal">SET <em class="replaceable"><code>var_name</code></em> = DEFAULT</code> ステートメント)、明示的に不許可です。これは、以前にはサポートされておらず、許可されるという説明もありませんでしたが、何らかの都合で既存のコードでこの構造が使用されていた場合のために、互換性のない変更としてフラグが付けられました。システム変数に <code class="literal">DEFAULT</code> を割り当てることは以前と同様に許可されますが、<code class="literal">DEFAULT</code> をパラメータやローカル変数に割り当てると、構文エラーになります。
          </p><p>
            MySQL 5.6.6 以降へのアップグレード後、この構造を使用する既存のストアドプログラムが起動されると、構文エラーになります。5.6.5 以前の <span class="command"><strong>mysqldump</strong></span> ファイルが 5.6.6 以降にロードされると、ロード操作は失敗し、影響を受けるストアドプログラム定義を変更する必要があります。
          </p></li><li class="listitem"><p>
            MySQL では、<code class="literal">TIMESTAMP</code> データ型は非標準的な方式であるという点でほかのデータ型と異なります。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">NULL</code> 属性で明示的に宣言されない <code class="literal">TIMESTAMP</code> カラムには、<code class="literal">NOT NULL</code> 属性が割り当てられます。(ほかのデータ型のカラムは、<code class="literal">NOT NULL</code> として明示的に宣言されない場合、<code class="literal">NULL</code> 値が許可されます。)そのようなカラムを <code class="literal">NULL</code> に設定すると、カラムは現在のタイムスタンプに設定されます。
              </p></li><li class="listitem"><p>
                テーブル内の最初の <code class="literal">TIMESTAMP</code> カラムは、<code class="literal">NULL</code> 属性や明示的な <code class="literal">DEFAULT</code> または <code class="literal">ON UPDATE</code> 句で宣言されない場合、<code class="literal">DEFAULT CURRENT_TIMESTAMP</code> および <code class="literal">ON UPDATE CURRENT_TIMESTAMP</code> 属性が自動的に割り当てられます。
              </p></li><li class="listitem"><p>
                最初のカラムに続く <code class="literal">TIMESTAMP</code> カラムは、<code class="literal">NULL</code> 属性または明示的な <code class="literal">DEFAULT</code> 句で宣言されない場合、<code class="literal">DEFAULT '0000-00-00 00:00:00'</code> (<span class="quote">「<span class="quote">ゼロ</span>」</span>タイムスタンプ) が自動的に割り当てられます。そのようなカラムに対して明示的な値を指定しない挿入された行については、カラムに <code class="literal">'0000-00-00 00:00:00'</code> が自動的に割り当てられて、警告は発生しません。
              </p></li></ul></div><p>
            これらの非標準の動作は <code class="literal">TIMESTAMP</code> についてはデフォルトのままですが、MySQL 5.6.6 以降では非推奨となり、起動時に次の警告が表示されます。
          </p><pre class="programlisting">
[Warning] TIMESTAMP with implicit DEFAULT value is deprecated.
Please use --explicit_defaults_for_timestamp server option (see
documentation for more details).
</pre><p>
            警告が示すように、非標準の動作をオフにするには、新しい <code class="literal">explicit_defaults_for_timestamp</code> システム変数を起動時に有効にします。この変数を有効にすると、サーバーは <code class="literal">TIMESTAMP</code> を、代わりに次のように処理します。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                明示的に <code class="literal">NOT NULL</code> として宣言されない <code class="literal">TIMESTAMP</code> カラムでは、<code class="literal">NULL</code> 値が許可されます。そのようなカラムを <code class="literal">NULL</code> に設定することで、カラムは現在のタイムスタンプではなく <code class="literal">NULL</code> に設定されます。
              </p></li><li class="listitem"><p>
                <code class="literal">TIMESTAMP</code> カラムに <code class="literal">DEFAULT CURRENT_TIMESTAMP</code> または <code class="literal">ON UPDATE CURRENT_TIMESTAMP</code> 属性が自動的に割り当てられません。これらの属性は、明示的に指定する必要があります。
              </p></li><li class="listitem"><p>
                <code class="literal">NOT NULL</code> として宣言され、明示的な <code class="literal">DEFAULT</code> 句を持たない <code class="literal">TIMESTAMP</code> カラムは、デフォルト値を持たないものとして処理されます。そのようなカラムについて明示的な値を指定しない挿入された行の場合、結果は SQL モードによって異なります。厳密 SQL モードが有効である場合、エラーが発生します。厳密 SQL モードが有効でない場合、カラムには暗黙的なデフォルトの <code class="literal">'0000-00-00 00:00:00'</code> が割り当てられ、警告が発生します。これは、MySQL が <code class="literal">DATETIME</code> などのほかの時間型を処理する方法に類似しています。
              </p></li></ul></div><p>
            レプリケーションに使用されるサーバーをアップグレードする場合は、まずスレーブをアップグレードしてからマスターをアップグレードします。マスターとそのスレーブとの間のレプリケーションは、すべてが <code class="literal">explicit_defaults_for_timestamp</code> の同じ値を使用しているという条件で、機能するはずです。
          </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
                スレーブを停止してアップグレードし、<code class="literal">explicit_defaults_for_timestamp</code> の任意の値で構成してから起動します。
              </p><p>
                スレーブは、マスターから受信したバイナリログの形式から、マスターが古い (<code class="literal">explicit_defaults_for_timestamp</code> の導入に先行する) こと、およびマスターからの <code class="literal">TIMESTAMP</code> カラムが古い <code class="literal">TIMESTAMP</code> 動作を使用していることを認識します。
              </p></li><li class="listitem"><p>
                マスターを停止してアップグレードし、スレーブに使用されるのと同じ <code class="literal">explicit_defaults_for_timestamp</code> の値で構成してから起動します。
              </p></li></ol></div></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="downgrading"></a>2.11.2 MySQL のダウングレード</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#downgrading-to-previous-series">2.11.2.1 MySQL 5.5 へのダウングレード</a></span></dt></dl></div><a class="indexterm" name="idm139979161536208"></a><p>
      このセクションでは、新しいバージョンよりも以前のバージョンの方がよく動作するというまれな場合のために、MySQL の古いバージョンにダウングレードする方法について説明します。
    </p><p>
      ダウングレードが失敗してインスタンスが不安定な状態になった場合に備えて、前もってバックアップを取るとよいでしょう。
    </p><p>
      同じリリースシリーズ内の一般提供 (GA) ステータスのバージョン間でダウングレードする場合は、通常は新しいバイナリを古いものの上にインストールするだけで、データベースには何も変更を加えません。
    </p><p>
      同じリリースシリーズ内のマイルストーンリリース間 (または GA リリースからマイルストーンリリースへ) のダウングレードはサポートされておらず、問題が発生する場合があります。
    </p><p>
      次の項目は、ダウングレードを実行する際に必ず行うことのチェックリストです。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          ダウングレード元のリリースシリーズのアップグレードのセクションを読み、実際に必要な機能がないことを確認します。<a class="xref" href="installing.html#upgrading" title="2.11.1 MySQL のアップグレード">セクション2.11.1「MySQL のアップグレード」</a>を参照してください。
        </p></li><li class="listitem"><p>
          そのバージョンのダウングレードのセクションがある場合は、それもお読みください。
        </p></li><li class="listitem"><p>
          ダウングレード先のバージョンと現在使用しているバージョンとの間で、どの新機能が追加されたかを確認するには、<a class="ulink" href="http://dev.mysql.com/doc/relnotes/mysql/5.6/en/" target="_top">リリースノート</a>を参照してください。
        </p></li><li class="listitem"><p>
          現在使用している MySQL のバージョンとダウングレード先のバージョンとの間でテーブルの形式または文字セットまたは照合順序に変更があったかどうかを、<a class="xref" href="installing.html#checking-table-incompatibilities" title="2.11.3 テーブルまたはインデックスの再構築が必要かどうかのチェック">セクション2.11.3「テーブルまたはインデックスの再構築が必要かどうかのチェック」</a>で確認してください。その場合、それらの変更により MySQL バージョン間に互換性の欠如が生じている場合は、<a class="xref" href="installing.html#rebuilding-tables" title="2.11.4 テーブルまたはインデックスの再作成または修復">セクション2.11.4「テーブルまたはインデックスの再作成または修復」</a>の手順を使用して、影響されるテーブルをダウングレードすることが必要になります。
        </p></li></ul></div><p>
      ほとんどの場合、MySQL の同じリリースシリーズのバージョン内にとどまっているかぎり、MySQL 形式のファイルおよびデータファイルは、同じアーキテクチャーの異なる GA バージョン間で移動できます。
    </p><p>
      1 つのリリースシリーズから別のリリースシリーズにダウングレードする場合、テーブルストレージフォーマットの互換性が取れなくなる場合があります。その場合は、ダウングレードする前に <span class="command"><strong>mysqldump</strong></span> を使用してテーブルをダンプします。ダウングレードしたら、<span class="command"><strong>mysql</strong></span> あるいは <span class="command"><strong>mysqlimport</strong></span> を使用してダンプファイルをロードし、テーブルを再作成します。参考例は、<a class="xref" href="installing.html#copying-databases" title="2.11.5 MySQL データベースのほかのマシンへのコピー">セクション2.11.5「MySQL データベースのほかのマシンへのコピー」</a>を参照してください。
    </p><p>
      ダウンロードした際の、下位互換性のないテーブル形式の変更の一般的な現象は、テーブルを開くことができないことです。そのような場合には、次の手順に従います。
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          ダウングレード先の古い MySQL サーバーを停止します。
        </p></li><li class="listitem"><p>
          ダウングレード元の新しい MySQL Server を再起動します。
        </p></li><li class="listitem"><p>
          <span class="command"><strong>mysqldump</strong></span> を使用して、古いサーバーからアクセスできなかったテーブルをすべてダンプしてダンプファイルを作成します。
        </p></li><li class="listitem"><p>
          新しい MySQL Server を停止して古いサーバーを再起動します。
        </p></li><li class="listitem"><p>
          古いサーバーにダンプファイルをリロードします。これでテーブルにアクセスできるはずです。
        </p></li></ol></div><p>
      <code class="literal">mysql</code> データベース内のシステムテーブルが変更された場合は、ダウングレードによって一部の機能が失われたり、調整が必要になったりする場合があります。次にいくつかの例を示します。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          MySQL 5.1 では、トリガー作成には <code class="literal">TRIGGER</code> 権限が必要です。MySQL 5.0 では、<code class="literal">TRIGGER</code> 権限はなく、代わりに <code class="literal">SUPER</code> が必要です。MySQL 5.1 から 5.0 にダウングレードする場合は、5.1 で <code class="literal">TRIGGER</code> 権限を持っていたアカウントに <code class="literal">SUPER</code> 権限を付与する必要があります。
        </p></li><li class="listitem"><p>
          トリガーは MySQL 5.0 で追加されたため、5.0 から 4.1 にダウングレードする場合は、トリガーをまったく使用できません。
        </p></li><li class="listitem"><p>
          <code class="literal">mysql.proc.comment</code> カラム定義は、MySQL 5.1 と 5.5 との間で変更されました。5.5 から 5.1 へのダウングレード後、このテーブルは壊れていて修復が必要であるとみなされます。この問題を回避するには、ダウングレード先の MySQL のバージョンから <span class="command"><strong>mysql_upgrade</strong></span> を実行します。
        </p></li></ul></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="downgrading-to-previous-series"></a>2.11.2.1 MySQL 5.5 へのダウングレード</h4></div></div></div><p>
        MySQL 5.6 から MySQL 5.5 にダウングレードする場合、MySQL 5.5 とは異なる MySQL 5.6 の動作または機能に関係する次の問題に注意してください。
      </p><h5><a name="idm139979161496640"></a>システムテーブル</h5><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            MySQL 5.6 の <code class="literal">mysql.user</code> テーブルには <code class="literal">password_expired</code> カラムがあります。MySQL 5.5 の <code class="literal">mysql.user</code> テーブルにはありません。これは、MySQL 5.6 でパスワードが期限切れになっているアカウントは MySQL 5.5 では正常に機能しないことを意味します。
          </p></li></ul></div><h5><a name="idm139979161492096"></a>データ型</h5><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">TIME</code>、<code class="literal">DATETIME</code>、および <code class="literal">TIMESTAMP</code> カラムについては、MySQL 5.6.4 より前に作成されたテーブルに必要なストレージは、5.6.4 以降で作成されたテーブルに必要なストレージとは異なります。これは、5.6.4 で、これらの時間型が少数部を持つことを許可するように変更されたためです。5.6.4 より前のバージョンにダウングレードする場合は、ダウングレードする前に <span class="command"><strong>mysqldump</strong></span> を使用して影響されるテーブルをダンプし、ダウングレード後にテーブルをリロードします。
          </p></li></ul></div><h5><a name="idm139979161485824"></a>InnoDB</h5><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">InnoDB</code> 検索インデックス (型が <code class="literal">FULLTEXT</code> のもの) は MySQL 5.6.4 で導入され、5.6 シリーズの以前のリリースを含む、MySQL の以前のバージョンとは互換性がありません。ダウングレードを実行する前に、このようなインデックスは削除します。
          </p></li><li class="listitem"><p>
            <code class="literal">innodb_page_size</code> 構成オプションで指定される <code class="literal">InnoDB</code> の小さいページサイズは MySQL 5.6.4 で導入され、5.6 シリーズの以前のリリースを含む、MySQL の以前のバージョンとは互換性がありません。小さい <code class="literal">InnoDB</code> ページサイズを使用するインスタンス内のすべての <code class="literal">InnoDB</code> テーブルをダンプし、テーブルを削除し、ダウングレード後に再作成してリロードします。
          </p></li></ul></div><h5><a name="idm139979161477088"></a>レプリケーション</h5><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            MySQL 5.6 では、<code class="filename">relay-log.info</code> ファイルは行カウントおよびレプリケーション遅延値を含むため、古いバージョンとはファイル形式が異なります。<a class="xref" href="replication.html#slave-logs-status" title="17.2.2.2 スレーブステータスログ">セクション17.2.2.2「スレーブステータスログ」</a>を参照してください。スレーブサーバーを MySQL 5.6 より前のバージョンにダウングレードすると、古いサーバーはファイルを正しく読み取りません。これに対処するには、テキストエディタでファイルを変更し、行数を含む最初の行を削除します。
          </p></li><li class="listitem"><p>
            MySQL 5.6.6 より、MySQL Server はバイナリログへの書き込みに Version 2 バイナリログイベントを使用します。Version 2 ログイベントを使用して書き込まれたバイナリログは、前のバージョンの MySQL Server では読み取れません。古いサーバーが読み取ることができる、Version 1 ログイベントを使用して書き込まれたバイナリログを生成するには、MySQL 5.6.6 以降のサーバーを <code class="option">--log-bin-use-v1-row-events=1</code> を使用して起動します。これは、バイナリログの書き込みに Version 1 イベントを使用することをサーバーに強制します。
          </p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="checking-table-incompatibilities"></a>2.11.3 テーブルまたはインデックスの再構築が必要かどうかのチェック</h3></div></div></div><p>
      バイナリアップグレードまたはバイナリダウングレードでは、テーブルをダンプしてリロードせずに、あるバージョンの MySQL を既存のバージョンの上に<span class="quote">「<span class="quote">インプレース</span>」</span>でインストールします。
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          既存のバージョンのサーバーが動作している場合は、それを停止します。
        </p></li><li class="listitem"><p>
          別のバージョンの MySQL をインストールします。新しいバージョンが元のバージョンより新しい場合はアップグレードになり、古い場合はダウングレードになります。
        </p></li><li class="listitem"><p>
          新しいバージョンのサーバーを起動します。
        </p></li></ol></div><p>
      多くの場合、MySQL の以前のバージョンのテーブルは新しいバージョンで問題なく使用できます。ただし、このセクションで説明するように、テーブルまたはテーブルのインデックスの再構築が必要になるような変更が生じることもあります。ここで説明する問題のいずれかの影響を受けるテーブルがある場合は、必要に応じてそのテーブルまたはインデックスを<a class="xref" href="installing.html#rebuilding-tables" title="2.11.4 テーブルまたはインデックスの再作成または修復">セクション2.11.4「テーブルまたはインデックスの再作成または修復」</a>に記載の手順を使用して再構築します。
    </p><h4><a name="idm139979161461408"></a>テーブルの非互換性</h4><p>
      <code class="literal">ARCHIVE</code> テーブルを含む MySQL 5.0 インストールから MySQL 5.1 へのバイナリアップグレードのあと、これらのテーブルにアクセスすると、<span class="command"><strong>mysql_upgrade</strong></span> または <code class="literal">CHECK TABLE ... FOR UPGRADE</code> を実行済みでもサーバーがクラッシュします。この問題を回避するには、アップグレードの前に <span class="command"><strong>mysqldump</strong></span> を使用してすべての <code class="literal">ARCHIVE</code> テーブルをダンプし、アップグレード後に MySQL 5.1 にリロードします。MySQL 5.1 から 5.0 へのバイナリダウングレードでも同じ問題が生じます。
    </p><p>
      アップグレードの問題は MySQL 5.6.4 で修正されています。サーバーは MySQL 5.0 で作成された <code class="literal">ARCHIVE</code> テーブルを開けます。ただし、引き続き推奨されるアップグレード手順は、アップグレードの前に 5.0 の <code class="literal">ARCHIVE</code> テーブルをダンプし、アップグレード後にリロードする手順です。
    </p><h4><a name="idm139979161451680"></a>インデックスの非互換性</h4><p>
      MySQL 5.6.3 では、<code class="literal">ROW_FORMAT=DYNAMIC</code> または <code class="literal">ROW_FORMAT=COMPRESSED</code> を使用する <code class="literal">InnoDB</code> テーブルについては、インデックスプリフィクスキーの長さ制限は 767 バイトから 3072 バイトに増加しました。詳細は、<a class="xref" href="innodb-storage-engine.html#innodb-restrictions" title="14.6.7 InnoDB テーブル上の制限">セクション14.6.7「InnoDB テーブル上の制限」</a>を参照してください。この変更は、MySQL 5.5.14 にも移植されています。これら以上のリリースのいずれかから、長さ制限が短い以前のリリースにダウングレードする場合、インデックスプリフィクスキーを 767 バイトに切り捨てることができます。そうしないとダウングレードが失敗することがあります。この問題は、ダウングレードするサーバー上で構成オプション <code class="literal">innodb_large_prefix</code> が有効であった場合にのみ生じる可能性があります。



    </p><p>
      テーブルのダンプおよびリロードを実行せずにバイナリアップグレードを実行する場合、MySQL 4.1 から 5.1 以上に直接アップグレードすることはできません。これは、MySQL 5.0 の <code class="literal">MyISAM</code> テーブルインデックスの形式の非互換な変更によるものです。MySQL 4.1 から 5.0 にアップグレードし、すべての <code class="literal">MyISAM</code> テーブルを修復してください。その後、MySQL 5.0 から 5.1 にアップグレードし。テーブルをチェックして修復します。
    </p><p>
      文字セットまたは照合順序の処理の変更により、文字セットの順序が変更されることがあり、そのために、影響を受ける文字セットまたは照合順序を使用するインデックスのエントリの順序が正しくなくなることがあります。こうした変更から、いくつかの問題が生じることがあります。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          比較の結果が前の結果と異なる
        </p></li><li class="listitem"><p>
          インデックスエントリの順序付けが間違っているために一部のインデックス値を見つけることができない
        </p></li><li class="listitem"><p>
          <code class="literal">ORDER BY</code> の結果の順序付けが間違っている
        </p></li><li class="listitem"><p>
          <code class="literal">CHECK TABLE</code> によってレポートされるテーブルを修復する必要がある
        </p></li></ul></div><p>
      これらの問題の解決方法は、インデックスを削除して再作成するか、テーブル全体をダンプしてリロードすることにより、影響を受ける文字セットまたは照合順序を使用するインデックスを再構築することです。場合によっては、影響を受けるカラムを変更して、別の照合順序を使用するようにすることができます。インデックスの再構築については、<a class="xref" href="installing.html#rebuilding-tables" title="2.11.4 テーブルまたはインデックスの再作成または修復">セクション2.11.4「テーブルまたはインデックスの再作成または修復」</a>を参照してください。
    </p><p>
      再構築する必要のあるインデックスがテーブルにあるかどうかを確認するには、次のリストを参照してください。このリストは、インデックスの再構築が必要な文字セットまたは照合順序の変更が導入された MySQL のバージョンを示しています。各エントリは、変更が行われたバージョンと、その変更の影響を受ける文字セットまたは照合順序を示しています。変更が特定のバグレポートに関連付けられている場合は、そのバグ番号が示されています。
    </p><p>
      このリストは、バイナリアップグレードとバイナリダウングレードの両方に適用されます。たとえば、Bug #27877 は MySQL 5.1.24 で修正されたため、5.1.24 より前のバージョンから 5.1.24 以上のバージョンへのアップグレード、および 5.1.24 以上から 5.1.24 より前のバージョンへのダウングレードに適用されます。
    </p><p>
      多くの場合、<code class="literal">CHECK TABLE ... FOR UPGRADE</code> を使用して、インデックスの再構築が必要なテーブルを識別できます。次のメッセージがレポートされます。
    </p><pre class="programlisting">
Table upgrade required.
Please do "REPAIR TABLE `tbl_name`" or dump/reload to fix it!
</pre><p>
      これらの場合には、<span class="command"><strong>mysqlcheck --check-upgrade</strong></span> または <span class="command"><strong>mysql_upgrade</strong></span> も使用できます。これらは <code class="literal">CHECK TABLE</code> を実行します。ただし、<code class="literal">CHECK TABLE</code> を使用できるのは、ダウングレードではなくアップグレードのあとだけです。また、<code class="literal">CHECK TABLE</code> は、すべてのストレージエンジンに適用できるとは限りません。<code class="literal">CHECK TABLE</code> がサポートするストレージエンジンの詳細は、<a class="xref" href="sql-syntax.html#check-table" title="13.7.2.2 CHECK TABLE 構文">セクション13.7.2.2「CHECK TABLE 構文」</a>を参照してください。
    </p><p>
      これらの変更により、インデックスの再構築が必要になります。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          MySQL 5.1.24 (Bug #27877)
        </p><p>
          <code class="literal">'ß'</code> LATIN SMALL LETTER SHARP S (ドイツ語) を含むカラムの <code class="literal">utf8_general_ci</code> または <code class="literal">ucs2_general_ci</code> 照合順序を使用するインデックスに影響します。このバグフィックスでは、元の照合順序のエラーが修正されましたが、<code class="literal">'ß'</code> が、以前は異なるという比較結果だった文字と同じという比較結果になるという、非互換性が導入されました。
        </p><p>
          影響を受けるテーブルは、MySQL 5.1.30 では <code class="literal">CHECK TABLE ... FOR UPGRADE</code> で検出できます (Bug #40053 を参照してください)。
        </p><p>
          この問題の回避策は、MySQL 5.1.62、5.5.21、および 5.6.5 で実装されています。回避策には、影響されるカラムを <code class="literal">utf8_general_mysql500_ci</code> および <code class="literal">ucs2_general_mysql500_ci</code> 照合順序を使用するように変更することが含まれます。この照合順序では、元の 5.1.24 より前の <code class="literal">utf8_general_ci</code> および <code class="literal">ucs2_general_ci</code> の順序付けを維持します。
        </p></li><li class="listitem"><p>
          MySQL 5.0.48、5.1.23 (Bug #27562)
        </p><p>
          <code class="literal">'`'</code> GRAVE ACCENT、<code class="literal">'['</code> LEFT SQUARE BRACKET、<code class="literal">'\'</code> REVERSE SOLIDUS、<code class="literal">']'</code> RIGHT SQUARE BRACKET、<code class="literal">'~'</code> TILDE のいずれかの文字を含むカラムで <code class="literal">ascii_general_ci</code> 照合順序を使用するインデックスに影響があります
        </p><p>
          影響を受けるテーブルは、MySQL 5.1.29 では <code class="literal">CHECK TABLE ... FOR UPGRADE</code> で検出できます (Bug #39585 を参照してください)。
        </p></li><li class="listitem"><p>
          MySQL 5.0.48、5.1.21 (Bug #29461)
        </p><p>
          <code class="literal">eucjpms</code>、<code class="literal">euc_kr</code>、<code class="literal">gb2312</code>、<code class="literal">latin7</code>、<code class="literal">macce</code>、<code class="literal">ujis</code> のいずれかの文字セットを使用するカラムのインデックスに影響があります
        </p><p>
          影響を受けるテーブルは、MySQL 5.1.29 では <code class="literal">CHECK TABLE ... FOR UPGRADE</code> で検出できます (Bug #39585 を参照してください)。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="rebuilding-tables"></a>2.11.4 テーブルまたはインデックスの再作成または修復</h3></div></div></div><a class="indexterm" name="idm139979161392288"></a><a class="indexterm" name="idm139979161390176"></a><a class="indexterm" name="idm139979161388144"></a><p>
      このセクションでは、データ型または文字セットの処理方法に関する MySQL の変更後の、テーブルの再構築方法を説明します。たとえば、照合順序のエラーが修正され、その照合順序を使用する文字カラムのインデックスを更新するためにテーブルの再構築が必要になることがあります。(例については、<a class="xref" href="installing.html#checking-table-incompatibilities" title="2.11.3 テーブルまたはインデックスの再構築が必要かどうかのチェック">セクション2.11.3「テーブルまたはインデックスの再構築が必要かどうかのチェック」</a>を参照してください。)<code class="literal">CHECK TABLE</code>、<span class="command"><strong>mysqlcheck</strong></span>、または <span class="command"><strong>mysql_upgrade</strong></span> によって実行されるようなテーブルチェック操作によって示されるように、テーブルを修復またはアップグレードする必要がある場合があります。
    </p><p>
      テーブルを再構築する方法には、テーブルをダンプしてリロードする方法や、<code class="literal">ALTER TABLE</code> または <code class="literal">REPAIR TABLE</code> を使用する方法があります。<code class="literal">REPAIR TABLE</code> は <code class="literal">MyISAM</code>、<code class="literal">ARCHIVE</code>、および <code class="literal">CSV</code> の各テーブルのみに適用されます。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        バイナリ (インプレース) アップグレードまたはダウングレード後に、MySQL の異なるバージョンがテーブルを処理しないためにテーブルを再構築する場合は、ダンプしてリロードする方法を使用する必要があります。アップグレードまたはダウングレードの<span class="emphasis"><em>前に</em></span>、元のバージョンの MySQL を使用してテーブルをダンプします。次に、アップグレードまたはダウングレードの<span class="emphasis"><em>あとに</em></span>、テーブルをリロードします。
      </p><p>
        インデックスを再構築する目的のためだけにダンプしてリロードする方法を使ってテーブルを再構築する場合は、アップグレードまたはダウングレードの前でもあとでもダンプを実行できます。その場合でも、リロードはあとで行う必要があります。
      </p></div><p>
      テーブルをダンプしてリロードすることによって再構築するには、<span class="command"><strong>mysqldump</strong></span> を使用してダンプファイルを作成し、<span class="command"><strong>mysql</strong></span> でファイルをリロードします。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqldump <em class="replaceable"><code>db_name</code></em> t1 &gt; dump.sql</code></strong>
shell&gt; <strong class="userinput"><code>mysql <em class="replaceable"><code>db_name</code></em> &lt; dump.sql</code></strong>
</pre><p>
      単独のデータベース内のテーブルをすべて再構築する場合は、データベース名を、そのあとにテーブル名なしで指定します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqldump <em class="replaceable"><code>db_name</code></em> &gt; dump.sql</code></strong>
shell&gt; <strong class="userinput"><code>mysql <em class="replaceable"><code>db_name</code></em> &lt; dump.sql</code></strong>
</pre><p>
      すべてのデータベース内のすべてのテーブルをリロードするには、<code class="option">--all-databases</code> オプションを使用してください。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqldump --all-databases &gt; dump.sql</code></strong>
shell&gt; <strong class="userinput"><code>mysql &lt; dump.sql</code></strong>
</pre><p>
      <code class="literal">ALTER TABLE</code> でテーブルを再構築する場合は、<span class="quote">「<span class="quote">null</span>」</span> 変更を使用します。すなわち、すでに使用しているストレージエンジンを使用するように、テーブルを<span class="quote">「<span class="quote">変更</span>」</span>する <code class="literal">ALTER TABLE</code> ステートメントです。たとえば、<code class="literal">t1</code> が <code class="literal">InnoDB</code> テーブルである場合、次のステートメントを利用します。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>ALTER TABLE t1 ENGINE = InnoDB;</code></strong>
</pre><p>
      <code class="literal">ALTER TABLE</code> ステートメントで指定するストレージエンジンがわからない場合は、<code class="literal">SHOW CREATE TABLE</code> を使用してテーブル定義を表示します。
    </p><p>
      <code class="literal">CHECK TABLE</code> 操作でテーブルのアップグレードが必要であることが示されるために <code class="literal">InnoDB</code> テーブルを再構築する必要がある場合は、前述のように <span class="command"><strong>mysqldump</strong></span> を使用してダンプファイルを作成し、<span class="command"><strong>mysql</strong></span> でファイルをリロードします。<code class="literal">CHECK TABLE</code> 操作で、破損があることが示されたり <code class="literal">InnoDB</code> が失敗したりする場合は、<code class="literal">innodb_force_recovery</code> オプションを使用して <code class="literal">InnoDB</code> を再起動する方法について、<a class="xref" href="innodb-storage-engine.html#forcing-innodb-recovery" title="14.19.2 InnoDB のリカバリの強制的な実行">セクション14.19.2「InnoDB のリカバリの強制的な実行」</a>を参照してください。<code class="literal">CHECK TABLE</code> が遭遇している問題のタイプを理解するには、<a class="xref" href="sql-syntax.html#check-table" title="13.7.2.2 CHECK TABLE 構文">セクション13.7.2.2「CHECK TABLE 構文」</a>の <code class="literal">InnoDB</code> に関する注記を参照してください。
    </p><p>
      <code class="literal">MyISAM</code>、<code class="literal">ARCHIVE</code>、または <code class="literal">CSV</code> テーブルについては、テーブルチェック操作で破損があることやアップグレードが必要なことが示された場合は、<code class="literal">REPAIR TABLE</code> を使用できます。たとえば、<code class="literal">MyISAM</code> テーブルを修復するには、次のステートメントを使用します。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>REPAIR TABLE t1;</code></strong>
</pre><p>
      <span class="command"><strong>mysqlcheck --repair</strong></span> は、コマンド行で <code class="literal">REPAIR TABLE</code> ステートメントへのアクセスを提供します。<code class="option">--databases</code> オプションまたは <code class="option">--all-databases</code> オプションをそれぞれ使用して、特定のデータベースまたはすべてのデータベースのすべてのテーブルを修復できるため、テーブル修復の方法として、より便利な場合があります。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqlcheck --repair --databases <em class="replaceable"><code>db_name</code></em> ...</code></strong>
shell&gt; <strong class="userinput"><code>mysqlcheck --repair --all-databases</code></strong>
</pre><p>
      MySQL 5.1.24 で、Bug #27877 に対する修正 (<code class="literal">utf8_general_ci</code> および <code class="literal">ucs2_general_ci</code> 照合順序を修正しました) によって導入された非互換性については、MySQL 5.1.62、5.5.21、および 5.6.5 で回避策が実装されています。これらのいずれかのバージョンにアップグレードしてから、影響を受ける各テーブルを次の方法のいずれかを使用して変換します。どの場合も、回避策には、影響されるカラムを <code class="literal">utf8_general_mysql500_ci</code> および <code class="literal">ucs2_general_mysql500_ci</code> 照合順序を使用するように変更することが含まれます。この照合順序では、元の 5.1.24 より前の <code class="literal">utf8_general_ci</code> および <code class="literal">ucs2_general_ci</code> の順序付けを維持します。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          テーブルファイルをそのまま残すバイナリアップグレード後に、影響を受けるテーブルを変換するには、新しい照合順序を使用するようにテーブルを変更します。テーブル <code class="literal">t1</code> に 1 つまたは複数の問題のある <code class="literal">utf8</code> カラムがあるとします。テーブルをテーブルレベルで変換するには、次のようなステートメントを使用します。
        </p><pre class="programlisting">
ALTER TABLE t1
CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_mysql500_ci;
</pre><p>
          カラム固有ベースで変更を適用するには、次のようなステートメントを使用します (<code class="literal">COLLATE</code> 句を除き、最初に指定されていたカラム定義を必ず繰り返します)。
        </p><pre class="programlisting">
ALTER TABLE t1
MODIFY c1 CHAR(N) CHARACTER SET utf8 COLLATE utf8_general_mysql500_ci;
</pre></li><li class="listitem"><p>
          ダンプしてリロードする手順を使用してテーブルをアップグレードする場合は、<span class="command"><strong>mysqldump</strong></span> を使用してテーブルをダンプし、ダンプファイル内の <code class="literal">CREATE TABLE</code> ステートメントを新しい照合順序を使用するように変更して、テーブルをリロードします。
        </p></li></ul></div><p>
      適切な変更を行うと、<code class="literal">CHECK TABLE</code> はエラーをレポートしないはずです。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="copying-databases"></a>2.11.5 MySQL データベースのほかのマシンへのコピー</h3></div></div></div><a class="indexterm" name="idm139979161308000"></a><a class="indexterm" name="idm139979161305856"></a><a class="indexterm" name="idm139979161304480"></a><p>
      データベースを異なるアーキテクチャー間で移動する必要がある場合、<span class="command"><strong>mysqldump</strong></span> を使用して SQL ステートメントを含むファイルを作成します。次にそのファイルを別のマシンに転送して <span class="command"><strong>mysql</strong></span> クライアントへの入力として扱います。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        同じ浮動小数点形式をサポートしている異なるアーキテクチャー間で、<code class="literal">MyISAM</code> テーブルの <code class="filename">.frm</code>、<code class="filename">.MYI</code>、および <code class="filename">.MYD</code> ファイルをコピーできます。(MySQL はバイトスワッピング問題を処理します。)<a class="xref" href="storage-engines.html#myisam-storage-engine" title="15.2 MyISAM ストレージエンジン">セクション15.2「MyISAM ストレージエンジン」</a>を参照してください。
      </p></div><p>
      利用できるオプションを表示するには <span class="command"><strong>mysqldump --help</strong></span> を使用します。
    </p><p>
      データベースを 2 つのマシンで間で移動するもっとも容易な (ただし、速くはない) 方法は、データベースを搭載したマシン上で次のコマンドを実行することです。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqladmin -h '<em class="replaceable"><code>other_hostname</code></em>' create <em class="replaceable"><code>db_name</code></em></code></strong>
shell&gt; <strong class="userinput"><code>mysqldump <em class="replaceable"><code>db_name</code></em> | mysql -h '<em class="replaceable"><code>other_hostname</code></em>' <em class="replaceable"><code>db_name</code></em></code></strong>
</pre><p>
      データベースをリモートマシンから速度の遅いネットワークを介してコピーするには、次のコマンドを使用できます。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqladmin create <em class="replaceable"><code>db_name</code></em></code></strong>
shell&gt; <strong class="userinput"><code>mysqldump -h '<em class="replaceable"><code>other_hostname</code></em>' --compress <em class="replaceable"><code>db_name</code></em> | mysql <em class="replaceable"><code>db_name</code></em></code></strong>
</pre><p>
      ダンプをファイルに保存して、そのファイルをターゲットマシンに転送し、そのファイルをそこのデータベースにロードすることもできます。たとえば、データベースをソースマシンの圧縮ファイルに次のようにダンプできます。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqldump --quick <em class="replaceable"><code>db_name</code></em> | gzip &gt; <em class="replaceable"><code>db_name</code></em>.gz</code></strong>
</pre><p>
      データベースのコンテンツを含んだファイルをターゲットマシンに転送し、そこで次のコマンドを実行します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqladmin create <em class="replaceable"><code>db_name</code></em></code></strong>
shell&gt; <strong class="userinput"><code>gunzip &lt; <em class="replaceable"><code>db_name</code></em>.gz | mysql <em class="replaceable"><code>db_name</code></em></code></strong>
</pre><a class="indexterm" name="idm139979161277632"></a><a class="indexterm" name="idm139979161276288"></a><p>
      データベースの転送に <span class="command"><strong>mysqldump</strong></span> および <span class="command"><strong>mysqlimport</strong></span> を使用することもできます。大きなテーブルの場合、これは単に <span class="command"><strong>mysqldump</strong></span> を使用するよりも非常に速いです。次のコマンドで、<em class="replaceable"><code>DUMPDIR</code></em> は <span class="command"><strong>mysqldump</strong></span> の出力の保存に使用されるディレクトリのフルパス名です。
    </p><p>
      最初に、その出力ファイルのディレクトリを作成してデータベースをダンプします。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mkdir <em class="replaceable"><code>DUMPDIR</code></em></code></strong>
shell&gt; <strong class="userinput"><code>mysqldump --tab=<em class="replaceable"><code>DUMPDIR</code></em> <em class="replaceable"><code>db_name</code></em></code></strong>
</pre><p>
      次に <em class="replaceable"><code>DUMPDIR</code></em> ディレクトリのファイルをターゲットマシンの相当するディレクトリに転送して、そのファイルをそこの MySQL にロードします。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqladmin create <em class="replaceable"><code>db_name</code></em>           # create database</code></strong>
shell&gt; <strong class="userinput"><code>cat <em class="replaceable"><code>DUMPDIR</code></em>/*.sql | mysql <em class="replaceable"><code>db_name</code></em>   # create tables in database</code></strong>
shell&gt; <strong class="userinput"><code>mysqlimport <em class="replaceable"><code>db_name</code></em> <em class="replaceable"><code>DUMPDIR</code></em>/*.txt   # load data into tables</code></strong>
</pre><p>
      <code class="literal">mysql</code> データベースをコピーすることを忘れないでください。付与テーブルがそこに格納されているからです。新しいマシンで <code class="literal">mysql</code> データベースが用意できるまで、コマンドを MySQL <code class="literal">root</code> ユーザーとして実行しなければならない場合があります。
    </p><p>
      <code class="literal">mysql</code> データベースを新しいマシンにインポートしたら、<span class="command"><strong>mysqladmin flush-privileges</strong></span> を実行してサーバーに付与テーブルの情報をロードさせます。
    </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="environment-variables"></a>2.12 環境変数</h2></div></div></div><a class="indexterm" name="idm139979161254016"></a><a class="indexterm" name="idm139979161251856"></a><a class="indexterm" name="idm139979161250624"></a><p>
    このセクションでは、MySQL で直接的あるいは間接的に使用されるすべての環境変数について説明します。これらの多くは本ドキュメントの別の場所にもあります。
  </p><p>
    コマンド行のどのようなオプションも、オプションファイルおよび環境変数で指定された値に優先し、オプションファイルの値は環境変数の値に優先することにご留意ください。
  </p><p>
    多くの場合、MySQL の動作を変更するには、環境変数ではなくオプションファイルを使用する方が好ましいといえます。<a class="xref" href="programs.html#option-files" title="4.2.6 オプションファイルの使用">セクション4.2.6「オプションファイルの使用」</a>を参照してください。
  </p><a class="indexterm" name="idm139979161246080"></a><a class="indexterm" name="idm139979161244624"></a><a class="indexterm" name="idm139979161242752"></a><a class="indexterm" name="idm139979161241264"></a><a class="indexterm" name="idm139979161239392"></a><a class="indexterm" name="idm139979161237888"></a><a class="indexterm" name="idm139979161235952"></a><a class="indexterm" name="idm139979161234448"></a><a class="indexterm" name="idm139979161232512"></a><a class="indexterm" name="idm139979161231024"></a><a class="indexterm" name="idm139979161229088"></a><a class="indexterm" name="idm139979161227568"></a><a class="indexterm" name="idm139979161225632"></a><a class="indexterm" name="idm139979161224048"></a><a class="indexterm" name="idm139979161222080"></a><a class="indexterm" name="idm139979161220544"></a><a class="indexterm" name="idm139979161218608"></a><a class="indexterm" name="idm139979161217072"></a><a class="indexterm" name="idm139979161215136"></a><a class="indexterm" name="idm139979161213616"></a><a class="indexterm" name="idm139979161211680"></a><a class="indexterm" name="idm139979161210144"></a><a class="indexterm" name="idm139979161208208"></a><a class="indexterm" name="idm139979161206688"></a><a class="indexterm" name="idm139979161204752"></a><a class="indexterm" name="idm139979161203216"></a><a class="indexterm" name="idm139979161201280"></a><a class="indexterm" name="idm139979161199776"></a><a class="indexterm" name="idm139979161197840"></a><a class="indexterm" name="idm139979161196336"></a><a class="indexterm" name="idm139979161194400"></a><a class="indexterm" name="idm139979161192896"></a><a class="indexterm" name="idm139979161190960"></a><a class="indexterm" name="idm139979161189456"></a><a class="indexterm" name="idm139979161187520"></a><a class="indexterm" name="idm139979161186000"></a><a class="indexterm" name="idm139979161184064"></a><a class="indexterm" name="idm139979161182528"></a><a class="indexterm" name="idm139979161180576"></a><a class="indexterm" name="idm139979161179040"></a><a class="indexterm" name="idm139979161177104"></a><a class="indexterm" name="idm139979161175616"></a><a class="indexterm" name="idm139979161173680"></a><a class="indexterm" name="idm139979161172192"></a><a class="indexterm" name="idm139979161170256"></a><a class="indexterm" name="idm139979161168768"></a><a class="indexterm" name="idm139979161166896"></a><a class="indexterm" name="idm139979161165392"></a><a class="indexterm" name="idm139979161163456"></a><a class="indexterm" name="idm139979161161968"></a><a class="indexterm" name="idm139979161160032"></a><a class="indexterm" name="idm139979161158544"></a><div class="informaltable"><table summary="この表は、MySQL で直接的あるいは間接的に使用されるすべての環境変数について説明します。" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">変数</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">CXX</code></td><td>C++ コンパイラの名前 (<span class="command"><strong>CMake</strong></span> 実行用)。</td></tr><tr><td scope="row"><code class="literal">CC</code></td><td>C コンパイラの名前 (<span class="command"><strong>CMake</strong></span> 実行用)。</td></tr><tr><td scope="row"><code class="literal">DBI_USER</code></td><td>Perl DBI のデフォルトユーザー名。</td></tr><tr><td scope="row"><code class="literal">DBI_TRACE</code></td><td>Perl DBI のトレースオプション。</td></tr><tr><td scope="row"><code class="literal">HOME</code></td><td><span class="command"><strong>mysql</strong></span> 履歴ファイルのデフォルトのパスは <code class="filename">$HOME/.mysql_history</code> です。</td></tr><tr><td scope="row"><code class="literal">LD_RUN_PATH</code></td><td><code class="filename">libmysqlclient.so</code> のロケーション指定に使用。</td></tr><tr><td scope="row"><code class="literal">LIBMYSQL_ENABLE_CLEARTEXT_PLUGIN</code></td><td><code class="literal">mysql_clear_password</code> 認証プラグインを有効化。<a class="xref" href="security.html#cleartext-authentication-plugin" title="6.3.8.7 クライアント側のクリアテキスト認証プラグイン">セクション6.3.8.7「クライアント側のクリアテキスト認証プラグイン」</a>を参照してください。</td></tr><tr><td scope="row"><code class="literal">LIBMYSQL_PLUGIN_DIR</code></td><td>クライアントプラグインを検索するディレクトリ。</td></tr><tr><td scope="row"><code class="literal">LIBMYSQL_PLUGINS</code></td><td>プリロードするクライアントプラグイン。</td></tr><tr><td scope="row"><code class="literal">MYSQL_DEBUG</code></td><td>デバッグ中のデバッグトレースオプション。</td></tr><tr><td scope="row"><code class="literal">MYSQL_GROUP_SUFFIX</code></td><td>オプショングループのサフィクスの値 (<code class="option">--defaults-group-suffix</code> などの指定)。</td></tr><tr><td scope="row"><code class="literal">MYSQL_HISTFILE</code></td><td><span class="command"><strong>mysql</strong></span> 履歴ファイルへのパス。この変数を設定すると、その値は <code class="filename">$HOME/.mysql_history</code> のデフォルトをオーバーライドします。</td></tr><tr><td scope="row"><code class="literal">MYSQL_HISTIGNORE</code></td><td><code class="filename">$HOME/.mysql_history</code> にログ記録しないステートメントを指定するパターン。</td></tr><tr><td scope="row"><code class="literal">MYSQL_HOME</code></td><td>サーバー固有の <code class="filename">my.cnf</code> ファイルが存在するディレクトリへのパス。</td></tr><tr><td scope="row"><code class="literal">MYSQL_HOST</code></td><td><span class="command"><strong>mysql</strong></span> コマンド行クライアントが使用するデフォルトのホスト名。</td></tr><tr><td scope="row"><code class="literal">MYSQL_PS1</code></td><td><span class="command"><strong>mysql</strong></span> コマンド行クライアントで使用するコマンドプロンプト。</td></tr><tr><td scope="row"><code class="literal">MYSQL_PWD</code></td><td><span class="command"><strong>mysqld</strong></span> に接続する際のデフォルトのパスワード。これを使用することはセキュアではありません。<a class="xref" href="security.html#password-security-user" title="6.1.2.1 パスワードセキュリティーのためのエンドユーザーガイドライン">セクション6.1.2.1「パスワードセキュリティーのためのエンドユーザーガイドライン」</a>を参照してください。</td></tr><tr><td scope="row"><code class="literal">MYSQL_TCP_PORT</code></td><td>デフォルトの TCP/IP ポート番号。</td></tr><tr><td scope="row"><code class="literal">MYSQL_TEST_LOGIN_FILE</code></td><td><code class="filename">.mylogin.cnf</code> ログインファイルの名前。</td></tr><tr><td scope="row"><code class="literal">MYSQL_UNIX_PORT</code></td><td><code class="literal">localhost</code> への接続に使用される、デフォルトの Unix ソケットファイル名。</td></tr><tr><td scope="row"><code class="literal">PATH</code></td><td>シェルが MySQL プログラムの検索に使用します。</td></tr><tr><td scope="row"><code class="literal">TMPDIR</code></td><td>一時ファイルが作成されるディレクトリ。</td></tr><tr><td scope="row"><code class="literal">TZ</code></td><td>ローカルタイムゾーンに設定するようにしてください。<a class="xref" href="error-handling.html#timezone-problems" title="B.5.4.6 タイムゾーンの問題">セクションB.5.4.6「タイムゾーンの問題」</a>を参照してください。</td></tr><tr><td scope="row"><code class="literal">UMASK</code></td><td>ファイルを作成する際のユーザーファイル作成モード。表のあとにある注釈を参照してください。</td></tr><tr><td scope="row"><code class="literal">UMASK_DIR</code></td><td>ディレクトリを作成する際のユーザーディレクトリ作成モード。表のあとにある注釈を参照してください。</td></tr><tr><td scope="row"><code class="literal">USER</code></td><td><span class="command"><strong>mysqld</strong></span> に接続する際の Windows のデフォルトのユーザー名。</td></tr></tbody></table></div><p>
    <span class="command"><strong>mysql</strong></span> の履歴ファイルの詳細は、<a class="xref" href="programs.html#mysql-logging" title="4.5.1.3 mysql のロギング">セクション4.5.1.3「mysql のロギング」</a>を参照してください。
  </p><p>
    <code class="literal">MYSQL_TEST_LOGIN_FILE</code> は、ログインファイル (<span class="command"><strong>mysql_config_editor</strong></span> によって作成されるファイル) のパス名です。設定されていない場合、デフォルト値は Windows では <code class="filename">%APPDATA%\MySQL\.mylogin.cnf</code> ディレクトリ、Windows 以外のシステムでは <code class="filename">$HOME/.mylogin.cnf</code> です。<a class="xref" href="programs.html#mysql-config-editor" title="4.6.6 mysql_config_editor — MySQL 構成ユーティリティー">セクション4.6.6「<span class="command"><strong>mysql_config_editor</strong></span> — MySQL 構成ユーティリティー」</a>を参照してください。
  </p><p>
    <code class="literal">UMASK</code> 変数および <code class="literal">UMASK_DIR</code> 変数は、その名前にもかかわらず、マスクではなくモードとして使用されます。
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <code class="literal">UMASK</code> が設定されている場合、<span class="command"><strong>mysqld</strong></span> は <code class="literal">($UMASK | 0600)</code> をファイル作成のモードとして使用し、新しく作成されるファイルのモードは 0600 から 0666 の範囲になります (すべて 8 進数の値)。
      </p></li><li class="listitem"><p>
        <code class="literal">UMASK_DIR</code> が設定されている場合、<span class="command"><strong>mysqld</strong></span> は <code class="literal">($UMASK_DIR | 0700)</code> をディレクトリ作成のベースモードとして使用し、次に <code class="literal">~(~$UMASK &amp; 0666)</code> との AND が取られます。そのため新しく作成されるファイルのモードは 0700 から 0777 の範囲になります (すべて 8 進数の値)。AND 演算によってディレクトリモードから読み取り/書き込み権が削除されることがありますが、実行権が削除されることはありません。
      </p></li></ul></div><p>
    MySQL では、<code class="literal">UMASK</code> または <code class="literal">UMASK_DIR</code> の値がゼロで始まる場合、その値は 8 進数と見なされます。
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="perl-support"></a>2.13 Perl のインストールに関する注釈</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#perl-installation">2.13.1 Unix に Perl をインストールする</a></span></dt><dt><span class="section"><a href="installing.html#activestate-perl">2.13.2 Windows に ActiveState Perl をインストールする</a></span></dt><dt><span class="section"><a href="installing.html#perl-support-problems">2.13.3 Perl DBI/DBD インタフェース使用の問題</a></span></dt></dl></div><a class="indexterm" name="idm139979161074432"></a><a class="indexterm" name="idm139979161072320"></a><p>
    Perl<code class="literal">DBI</code>モジュールはデータベースアクセスのための一般的なインタフェースを提供します。変更なしで多くの異なったデータベースエンジンで作動する <code class="literal">DBI</code> スクリプトを書くことができます。<code class="literal">DBI</code> を使用するには、<code class="literal">DBI</code> モジュール、および DataBase Driver (DBD) モジュールを、アクセスする各データベースサーバーのタイプごとにインストールする必要があります。MySQL の場合、このドライバは <code class="literal">DBD::mysql</code> モジュールです。
  </p><p>
    MySQL ベンチマークスクリプトを実行する場合は、Perl および <code class="literal">DBI</code> の <code class="literal">DBD::MySQL</code> モジュールがインストールされていなければなりません。<a class="xref" href="optimization.html#mysql-benchmarks" title="8.12.2 MySQL ベンチマークスイート">セクション8.12.2「MySQL ベンチマークスイート」</a>を参照してください。
  </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
      MySQL の配布には Perl のサポートは含まれていません。必要なモジュールは、Unix の場合は <a class="ulink" href="http://search.cpan.org" target="_top">http://search.cpan.org</a> から、Windows では ActiveState <span class="command"><strong>ppm</strong></span> プログラムを使用して取得できます。次のセクションでその方法について説明します。
    </p></div><p>
    <code class="literal">DBI</code>/<code class="literal">DBD</code> インタフェースは Perl 5.6.0 を必要とし、5.6.1 以降が推奨されます。それより古いバージョンの Perl の場合、DBI は<span class="emphasis"><em>機能しません</em></span>。<code class="literal">DBD::mysql</code> 4.009 以上を使用するようにしてください。それより前のバージョンは使用可能ですが、MySQL 5.6 の全機能をサポートしているわけではありません。
  </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="perl-installation"></a>2.13.1 Unix に Perl をインストールする</h3></div></div></div><p>
      MySQL の Perl のサポートには MySQL のクライアントプログラムサポート (ライブラリおよびヘッダーファイル) をインストールする必要があります。ほとんどのインストール方法で、必要なファイルがインストールされます。MySQL を RPM ファイルからインストールする場合、開発者 RPM もインストールしてください。クライアントプログラムはクライアント RPM にありますが、クライアントプログラムサポートは開発者 RPM にあります。
    </p><p>
      Perl のサポートに必要なファイルは、<a class="ulink" href="http://search.cpan.org" target="_top">http://search.cpan.org</a> の CPAN (Comprehensive Perl Archive Network) から入手できます。
    </p><p>
      Unix に Perl モジュールをインストールするには <code class="literal">CPAN</code> モジュールを使用するのがいちばん簡単です。例:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>perl -MCPAN -e shell</code></strong>
cpan&gt; <strong class="userinput"><code>install DBI</code></strong>
cpan&gt; <strong class="userinput"><code>install DBD::mysql</code></strong>
</pre><p>
      <code class="literal">DBD::mysql</code> インストールは多くのテストを実行します。これらのテストでは、デフォルトのユーザー名とパスワードを使用してローカルの MySQL サーバーに接続を試みます。(デフォルトのユーザー名は、Unix ではログイン名であり、Windows では <code class="literal">ODBC</code> です。デフォルトのパスワードは<span class="quote">「<span class="quote">パスワードなし</span>」</span>です)。サーバーにそれらの値で接続できない場合 (たとえば、アカウントにパスワードを設定している場合)、テストは失敗します。<code class="literal">force install DBD::mysql</code> を使用すると、失敗したテストを無視できます。
    </p><p>
      <code class="literal">DBI</code> には <code class="literal">Data::Dumper</code> モジュールが必要です。それはインストールされている場合があります。もしされていない場合、<code class="literal">DBI</code> をインストールする前にそれをインストールするようにしてください。
    </p><p>
      モジュールの配布を圧縮 <span class="command"><strong>tar</strong></span> アーカイブの形でダウンロードして、モジュールを手動でビルドすることもできます。たとえば、DBI 配布をアンパックしてビルドするには、次のような手順に従います。
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          配布を現在のディレクトリにアンパックします。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>gunzip &lt; DBI-<em class="replaceable"><code>VERSION</code></em>.tar.gz | tar xvf -</code></strong>
</pre><p>
          このコマンドは、<code class="filename">DBI-<em class="replaceable"><code>VERSION</code></em></code> という名前のディレクトリを作成します。
        </p></li><li class="listitem"><p>
          アンパックした配布のトップレベルのディレクトリに場所を変更します。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cd DBI-<em class="replaceable"><code>VERSION</code></em></code></strong>
</pre></li><li class="listitem"><p>
          配布をビルドしてすべてをコンパイルします。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>perl Makefile.PL</code></strong>
shell&gt; <strong class="userinput"><code>make</code></strong>
shell&gt; <strong class="userinput"><code>make test</code></strong>
shell&gt; <strong class="userinput"><code>make install</code></strong>
</pre></li></ol></div><p>
      <span class="command"><strong>make test</strong></span> コマンドはモジュールが動作していることを確認するために重要です。<code class="literal">DBD::mysql</code> のインストール中にそのコマンドを実行してインタフェースのコードを実行するには、MySQL サーバーが動作していなければなりません。そうしないとそのテストは失敗します。
    </p><p>
      新しいリリースの MySQL をインストールする際は必ず <code class="literal">DBD::mysql</code> 配布を再構築して再インストールするのがいいでしょう。これにより、MySQL クライアントライブラリの最新バージョンが正しくインストールされていることが保証されます。
    </p><p>
      Perl モジュールをシステムディレクトリにインストールするアクセス権がない場合、またはローカルの Perl をインストールする場合、次のリファレンスが有用でしょう。<a class="ulink" href="http://learn.perl.org/faq/perlfaq8.html#How-do-I-keep-my-own-module-library-directory-" target="_top">http://learn.perl.org/faq/perlfaq8.html#How-do-I-keep-my-own-module-library-directory-</a>。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="activestate-perl"></a>2.13.2 Windows に ActiveState Perl をインストールする</h3></div></div></div><a class="indexterm" name="idm139979161021024"></a><a class="indexterm" name="idm139979161018880"></a><a class="indexterm" name="idm139979161016784"></a><p>
      Windows 上で、MySQL <code class="literal">DBD</code> モジュールを ActiveState Perl でインストールするには次の手順に従います。
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          <a class="ulink" href="http://www.activestate.com/Products/ActivePerl/" target="_top">http://www.activestate.com/Products/ActivePerl/</a> から ActiveState Perl を入手してインストールします。
        </p></li><li class="listitem"><p>
          コンソールウィンドウを開きます。
        </p></li><li class="listitem"><p>
          必要に応じて <code class="literal">HTTP_proxy</code> 変数を設定します。たとえば、次のような設定を試してみます。
        </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>set HTTP_proxy=my.proxy.com:3128</code></strong>
</pre></li><li class="listitem"><p>
          PPM プログラムを起動します。
        </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>C:\perl\bin\ppm.pl</code></strong>
</pre></li><li class="listitem"><p>
          まだ <code class="literal">DBI</code> をインストールしていない場合は、インストールします。
        </p><pre class="programlisting">
ppm&gt; <strong class="userinput"><code>install DBI</code></strong>
</pre></li><li class="listitem"><p>
          これが成功したら、次のコマンドを実行します。
        </p><pre class="programlisting">
ppm&gt; <strong class="userinput"><code>install DBD-mysql</code></strong>
</pre></li></ol></div><p>
      この手順は ActiveState Perl 5.6 以降で機能するはずです。
    </p><p>
      手順が機能しない場合は、代わりに ODBC ドライバをインストールして ODBC から MySQL サーバーに接続するようにしてください。
    </p><pre class="programlisting">
use DBI;
$dbh= DBI-&gt;connect("DBI:ODBC:$dsn",$user,$password) ||
  die "Got error $DBI::errstr when connecting to $dsn\n";
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="perl-support-problems"></a>2.13.3 Perl DBI/DBD インタフェース使用の問題</h3></div></div></div><a class="indexterm" name="idm139979160996464"></a><a class="indexterm" name="idm139979160994304"></a><p>
      Perl が <code class="filename">../mysql/mysql.so</code> モジュールを見つけることができない場合、問題はおそらく Perl が <code class="filename">libmysqlclient.so</code> 共有ライブラリの場所がわからないことです。この問題は次の方法のいずれかで解決できるはずです。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="filename">libmysqlclient.so</code> をほかの共有ライブラリがある (おそらく <code class="filename">/usr/lib</code> あるいは <code class="filename">/lib</code>) ディレクトリにコピーします。
        </p></li><li class="listitem"><p>
          <code class="literal">DBD::mysql</code> のコンパイルに使用される <code class="option">-L</code> オプションを、<code class="filename">libmysqlclient.so</code> の実際の場所を反映するように変更します。
        </p></li><li class="listitem"><p>
          Linux では、<code class="filename">libmysqlclient.so</code> があるディレクトリのパス名を <code class="filename">/etc/ld.so.conf</code> ファイルに追加できます。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979160980784"></a> <a class="indexterm" name="idm139979160979264"></a> <a class="indexterm" name="idm139979160977328"></a> <a class="indexterm" name="idm139979160975792"></a> <code class="filename">libmysqlclient.so</code> があるディレクトリのパス名を <code class="literal">LD_RUN_PATH</code> 環境変数に追加します。システムの中には <code class="literal">LD_LIBRARY_PATH</code> を使用しているものもあります。
        </p></li></ul></div><p>
      リンカーが見つけられないほかのライブラリがある場合も、<code class="option">-L</code> オプションを変更する必要がある場合があります。たとえば、<code class="literal">libc</code> が <code class="filename">/lib</code> にあり、リンクコマンドが <code class="option">-L/usr/lib</code> を指定しているためにリンカーがそれを見つけられない場合、<code class="option">-L</code> オプションを <code class="option">-L/lib</code> に変更するかあるいは <code class="option">-L/lib</code> を既存のリンクコマンドに追加します。
    </p><p>
      <code class="literal">DBD::mysql</code> から次のエラーが表示された場合、おそらく <span class="command"><strong>gcc</strong></span> (あるいは <span class="command"><strong>gcc</strong></span> でコンパイルされた旧バイナリ) を使用しているでしょう。
    </p><pre class="programlisting">
/usr/bin/perl: can't resolve symbol '__moddi3'
/usr/bin/perl: can't resolve symbol '__divdi3'
</pre><p>
      <code class="filename">mysql.so</code> ライブラリがビルドされるときに、<code class="option">-L/usr/lib/gcc-lib/... -lgcc</code> をリンクコマンドに追加します (Perl クライアントのコンパイル時に、<span class="command"><strong>make</strong></span> の出力で <code class="filename">mysql.so</code> を確認します)。<code class="option">-L</code> オプションは、システム上の <code class="filename">libgcc.a</code> があるディレクトリのパス名を指定するようにしてください。
    </p><p>
      この問題の別の原因は Perl および MySQL が両方とも <span class="command"><strong>gcc</strong></span> でコンパイルされていない場合です。この場合、両方を <span class="command"><strong>gcc</strong></span> でコンパイルすることでこの不一致を解決できます。
    </p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="introduction.html">前</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="tutorial.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">第 1 章 一般情報 </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> 第 3 章 チュートリアル</td></tr></table></div><div class="copyright-footer"></div></body></html>
