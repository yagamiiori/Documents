<html lang="ja"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>第 21 章 INFORMATION_SCHEMA テーブル</title><link rel="stylesheet" type="text/css" href="mvl.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="MySQL 5.6 リファレンスマニュアル"><link rel="up" href="index.html" title="MySQL 5.6 リファレンスマニュアル"><link rel="prev" href="stored-programs-views.html" title="第 20 章 ストアドプログラムおよびビュー"><link rel="next" href="performance-schema.html" title="第 22 章 MySQL パフォーマンススキーマ">
<script language="javascript" type="text/javascript">
  function addOnload(theFunc)
  {
    var previous = window.onload;
    if (typeof window.onload != 'function')
    {
      window.onload = theFunc;
    }
    else
    {
      window.onload = function()
      {
        previous();
        theFunc();
      }
    }
  }

  addOnload(function()
  {
    var base = new Date(1442918127*1000);
    var now = new Date();
    var diff = ((now-base)/1000)/(24*3600);

    if (diff > 90) {
      var nodes = document.getElementsByClassName('titlepage');
      nodes[0].innerHTML = '<p style="border: 5px #ff0000 solid; padding: 5px; margin 5px">' +
        'This copy of the manual is more than 90 days old. We encourage you to download a ' +
        'new version from <a href="http://dev.mysql.com">dev.mysql.com/doc</a>.</p>' + nodes[0].innerHTML;
    }
  });
</script>
<noscript></noscript>
</head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">第 21 章 INFORMATION_SCHEMA テーブル</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="stored-programs-views.html">前</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="performance-schema.html">次へ</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="information-schema"></a>第 21 章 INFORMATION_SCHEMA テーブル</h1></div></div></div><div class="toc"><p><b>目次</b></p><dl class="toc"><dt><span class="section"><a href="information-schema.html#character-sets-table">21.1 INFORMATION_SCHEMA CHARACTER_SETS テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#collations-table">21.2 INFORMATION_SCHEMA COLLATIONS テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#collation-character-set-applicability-table">21.3 INFORMATION_SCHEMA COLLATION_CHARACTER_SET_APPLICABILITY テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#columns-table">21.4 INFORMATION_SCHEMA COLUMNS テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#column-privileges-table">21.5 INFORMATION_SCHEMA COLUMN_PRIVILEGES テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#engines-table">21.6 INFORMATION_SCHEMA ENGINES テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#events-table">21.7 INFORMATION_SCHEMA EVENTS テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#status-table">21.8 INFORMATION_SCHEMA GLOBAL_STATUS および SESSION_STATUS テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#variables-table">21.9 INFORMATION_SCHEMA GLOBAL_VARIABLES および SESSION_VARIABLES テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#key-column-usage-table">21.10 INFORMATION_SCHEMA KEY_COLUMN_USAGE テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#optimizer-trace-table">21.11 INFORMATION_SCHEMA OPTIMIZER_TRACE テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#parameters-table">21.12 INFORMATION_SCHEMA PARAMETERS テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#partitions-table">21.13 INFORMATION_SCHEMA PARTITIONS テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#plugins-table">21.14 INFORMATION_SCHEMA PLUGINS テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#processlist-table">21.15 INFORMATION_SCHEMA PROCESSLIST テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#profiling-table">21.16 INFORMATION_SCHEMA PROFILING テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#referential-constraints-table">21.17 INFORMATION_SCHEMA REFERENTIAL_CONSTRAINTS テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#routines-table">21.18 INFORMATION_SCHEMA ROUTINES テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#schemata-table">21.19 INFORMATION_SCHEMA SCHEMATA テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#schema-privileges-table">21.20 INFORMATION_SCHEMA SCHEMA_PRIVILEGES テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#statistics-table">21.21 INFORMATION_SCHEMA STATISTICS テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#tables-table">21.22 INFORMATION_SCHEMA TABLES テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#tablespaces-table">21.23 INFORMATION_SCHEMA TABLESPACES テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#table-constraints-table">21.24 INFORMATION_SCHEMA TABLE_CONSTRAINTS テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#table-privileges-table">21.25 INFORMATION_SCHEMA TABLE_PRIVILEGES テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#triggers-table">21.26 INFORMATION_SCHEMA TRIGGERS テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#user-privileges-table">21.27 INFORMATION_SCHEMA USER_PRIVILEGES テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#views-table">21.28 INFORMATION_SCHEMA VIEWS テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-i_s-tables">21.29 InnoDB の INFORMATION_SCHEMA テーブル</a></span></dt><dd><dl><dt><span class="section"><a href="information-schema.html#innodb-cmp-table">21.29.1 INFORMATION_SCHEMA INNODB_CMP および INNODB_CMP_RESET テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-cmp-per-index-table">21.29.2 INFORMATION_SCHEMA INNODB_CMP_PER_INDEX および INNODB_CMP_PER_INDEX_RESET テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-cmpmem-table">21.29.3 INFORMATION_SCHEMA INNODB_CMPMEM および INNODB_CMPMEM_RESET テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-trx-table">21.29.4 INFORMATION_SCHEMA INNODB_TRX テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-locks-table">21.29.5 INFORMATION_SCHEMA INNODB_LOCKS テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-lock-waits-table">21.29.6 INFORMATION_SCHEMA INNODB_LOCK_WAITS テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-sys-tables-table">21.29.7 INFORMATION_SCHEMA INNODB_SYS_TABLES テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-sys-indexes-table">21.29.8 INFORMATION_SCHEMA INNODB_SYS_INDEXES テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-sys-columns-table">21.29.9 INFORMATION_SCHEMA INNODB_SYS_COLUMNS テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-sys-fields-table">21.29.10 INFORMATION_SCHEMA INNODB_SYS_FIELDS テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-sys-foreign-table">21.29.11 INFORMATION_SCHEMA INNODB_SYS_FOREIGN テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-sys-foreign-cols-table">21.29.12 INFORMATION_SCHEMA INNODB_SYS_FOREIGN_COLS テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-sys-tablestats-table">21.29.13 INFORMATION_SCHEMA INNODB_SYS_TABLESTATS ビュー</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-sys-datafiles-table">21.29.14 INFORMATION_SCHEMA INNODB_SYS_DATAFILES テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-sys-tablespaces-table">21.29.15 INFORMATION_SCHEMA INNODB_SYS_TABLESPACES テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-buffer-page-table">21.29.16 INFORMATION_SCHEMA INNODB_BUFFER_PAGE テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-buffer-page-lru-table">21.29.17 INFORMATION_SCHEMA INNODB_BUFFER_PAGE_LRU テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-buffer-pool-stats-table">21.29.18 INFORMATION_SCHEMA INNODB_BUFFER_POOL_STATS テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-metrics-table">21.29.19 INFORMATION_SCHEMA INNODB_METRICS テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-ft-config-table">21.29.20 INFORMATION_SCHEMA INNODB_FT_CONFIG テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-ft-default-stopword-table">21.29.21 INFORMATION_SCHEMA INNODB_FT_DEFAULT_STOPWORD テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-ft-index-table-table">21.29.22 INFORMATION_SCHEMA INNODB_FT_INDEX_TABLE テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-ft-index-cache-table">21.29.23 INFORMATION_SCHEMA INNODB_FT_INDEX_CACHE テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-ft-deleted-table">21.29.24 INFORMATION_SCHEMA INNODB_FT_DELETED テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-ft-being-deleted-table">21.29.25 INFORMATION_SCHEMA INNODB_FT_BEING_DELETED テーブル</a></span></dt></dl></dd><dt><span class="section"><a href="information-schema.html#mysql-cluster-i_s-tables">21.30 MySQL Cluster の INFORMATION_SCHEMA テーブル</a></span></dt><dd><dl><dt><span class="section"><a href="information-schema.html#files-table">21.30.1 INFORMATION_SCHEMA FILES テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#ndb-transid-mysql-connection-map-table">21.30.2 INFORMATION_SCHEMA ndb_transid_mysql_connection_map テーブル</a></span></dt></dl></dd><dt><span class="section"><a href="information-schema.html#thread-pool-i_s-tables">21.31 スレッドプールの INFORMATION_SCHEMA テーブル</a></span></dt><dd><dl><dt><span class="section"><a href="information-schema.html#tp-thread-state-table">21.31.1 INFORMATION_SCHEMA TP_THREAD_STATE テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#tp-thread-group-state-table">21.31.2 INFORMATION_SCHEMA TP_THREAD_GROUP_STATE テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#tp-thread-group-stats-table">21.31.3 INFORMATION_SCHEMA TP_THREAD_GROUP_STATS テーブル</a></span></dt></dl></dd><dt><span class="section"><a href="information-schema.html#extended-show">21.32 SHOW ステートメントの拡張</a></span></dt></dl></div><a class="indexterm" name="idm139979012645040"></a><a class="indexterm" name="idm139979012642928"></a><a class="indexterm" name="idm139979012641552"></a><a class="indexterm" name="idm139979012640320"></a><a class="indexterm" name="idm139979012638816"></a><p>
    <code class="literal">INFORMATION_SCHEMA</code> では、データベース<em class="firstterm">メタデータ</em>へのアクセスを実現し、データベースまたはテーブルの名前、カラムのデータ型、アクセス権限などの MySQL Server に関する情報を提供します。この情報に使用されることがある別の用語が、<em class="firstterm">データディクショナリ</em>と<em class="firstterm">システムカタログ</em>です。
  </p><h2><a name="idm139979012634000"></a>INFORMATION_SCHEMA データベースの使用上の注意</h2><p>
    <code class="literal">INFORMATION_SCHEMA</code> は、各 MySQL インスタンス内のデータベースであり、MySQL Server が保持するほかのすべてのデータベースに関する情報を格納する場所です。<code class="literal">INFORMATION_SCHEMA</code> データベースには複数の読み取り専用テーブルが含まれます。これらには実際にはビューがあるので、関連付けられたファイルはなく、トリガーは設定できません。また、その名前を持つデータベースディレクトリもありません。
  </p><p>
    <code class="literal">USE</code> ステートメントを使用してデフォルトデータベースとして <code class="literal">INFORMATION_SCHEMA</code> を選択できますが、実行できる操作はテーブル内容の読み取りだけで、テーブルに対する <code class="literal">INSERT</code>、<code class="literal">UPDATE</code>、<code class="literal">DELETE</code> 操作は実行できません。
  </p><h2><a name="idm139979012624928"></a>例</h2><p>
    次に <code class="literal">INFORMATION_SCHEMA</code> から情報を取り出すステートメントの例を示します。
  </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT table_name, table_type, engine</code></strong>
    -&gt; <strong class="userinput"><code>FROM information_schema.tables</code></strong>
    -&gt; <strong class="userinput"><code>WHERE table_schema = 'db5'</code></strong>
    -&gt; <strong class="userinput"><code>ORDER BY table_name;</code></strong>
+------------+------------+--------+
| table_name | table_type | engine |
+------------+------------+--------+
| fk         | BASE TABLE | InnoDB |
| fk2        | BASE TABLE | InnoDB |
| goto       | BASE TABLE | MyISAM |
| into       | BASE TABLE | MyISAM |
| k          | BASE TABLE | MyISAM |
| kurs       | BASE TABLE | MyISAM |
| loop       | BASE TABLE | MyISAM |
| pk         | BASE TABLE | InnoDB |
| t          | BASE TABLE | MyISAM |
| t2         | BASE TABLE | MyISAM |
| t3         | BASE TABLE | MyISAM |
| t7         | BASE TABLE | MyISAM |
| tables     | BASE TABLE | MyISAM |
| v          | VIEW       | NULL   |
| v2         | VIEW       | NULL   |
| v3         | VIEW       | NULL   |
| v56        | VIEW       | NULL   |
+------------+------------+--------+
17 rows in set (0.01 sec)
</pre><p>
    説明: このステートメントは、データベース <code class="literal">db5</code> 内のすべてのテーブルのリストを要求し、テーブルの名前、種類、ストレージエンジンという 3 つの情報だけを示します。
  </p><h2><a name="idm139979012616960"></a>文字セットの考慮事項</h2><p>
    文字カラム (<code class="literal">TABLES.TABLE_NAME</code> など) の定義は、通常、<code class="literal">VARCHAR(<em class="replaceable"><code>N</code></em>) CHARACTER SET utf8</code> であり、ここで <em class="replaceable"><code>N</code></em> は少なくとも 64 です。MySQL は、このようなカラムでのすべての検索、ソート、比較、およびほかの文字列操作に、この文字セット (<code class="literal">utf8_general_ci</code>) のデフォルトの照合順序を使用します。
  </p><p>
    一部の MySQL オブジェクトはファイルとして表されるので、<code class="literal">INFORMATION_SCHEMA</code> 文字列カラムでの検索は、ファイルシステムでの大文字と小文字の区別によって影響を受けることがあります。詳細は、<a class="xref" href="globalization.html#charset-collation-information-schema" title="10.1.7.9 照合順序と INFORMATION_SCHEMA 検索">セクション10.1.7.9「照合順序と INFORMATION_SCHEMA 検索」</a>を参照してください。
  </p><h2><a name="idm139979012609968"></a>SHOW ステートメントの代替方法としての INFORMATION_SCHEMA</h2><p>
    <code class="literal">SELECT ... FROM INFORMATION_SCHEMA</code> ステートメントは、MySQL がサポートするさまざまな <code class="literal">SHOW</code> ステートメント (<code class="literal">SHOW DATABASES</code>、<code class="literal">SHOW TABLES</code> など) により提供された情報にアクセスするための一貫性の高い方法として用意されています。<code class="literal">SELECT</code> は、<code class="literal">SHOW</code> に比べて次の利点があります。
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        すべてのアクセスがテーブル上で行われるので、Codd のルールに準拠しています。
      </p></li><li class="listitem"><p>
        <code class="literal">SELECT</code> ステートメントの使い慣れた構文を使用でき、学習が必要なものは一部のテーブルおよびカラムの名前だけです。
      </p></li><li class="listitem"><p>
        実装者はキーワードの追加を心配する必要がありません。
      </p></li><li class="listitem"><p>
        <code class="literal">INFORMATION_SCHEMA</code> クエリーからの結果をフィルタリング、ソート、連結でき、構文解析するデータ構造やテキスト表現など、アプリケーションで必要なあらゆる形式に変換できます。
      </p></li><li class="listitem"><p>
        この手法は、ほかのデータベースシステムとの相互運用可能性に優れています。たとえば、Oracle Database ユーザーは、Oracle データディクショナリのテーブルのクエリーに慣れています。
      </p></li></ul></div><p>
    <code class="literal">SHOW</code> はよく知られ、広く使用されているので、<code class="literal">SHOW</code> ステートメントは引き続き代替方法として有効です。実際、<a class="xref" href="information-schema.html#extended-show" title="21.32 SHOW ステートメントの拡張">セクション21.32「SHOW ステートメントの拡張」</a>で説明しているように、<code class="literal">INFORMATION_SCHEMA</code> の実装に伴い、<code class="literal">SHOW</code> に拡張が行われています。
  </p><h2><a name="idm139979012589712"></a>権限</h2><p>
    各 MySQL ユーザーには、これらのテーブルへのアクセス権がありますが、ユーザーが適切なアクセス権限を持つオブジェクトに対応したテーブル内の行だけを表示できます。一部の場合 (たとえば <code class="literal">INFORMATION_SCHEMA.ROUTINES</code> テーブル内の <code class="literal">ROUTINE_DEFINITION</code> カラム) では、権限が不足しているユーザーには <code class="literal">NULL</code> と表示されます。これらの制限は <code class="literal">InnoDB</code> テーブルには適用されません。<code class="literal">PROCESS</code> 権限だけがあればこれらを表示できます。
  </p><p>
    同じ権限が、<code class="literal">INFORMATION_SCHEMA</code> からの情報の選択と、<code class="literal">SHOW</code> ステートメントを通じた同じ情報の表示に適用されます。どちらの場合でも、オブジェクトに関する情報を表示するには、そのオブジェクトに対する何らかの権限が必要です。
  </p><h2><a name="idm139979012580656"></a>パフォーマンスに関する考慮事項</h2><p>
    複数のデータベースの情報を検索する <code class="literal">INFORMATION_SCHEMA</code> クエリーは、長時間かかり、パフォーマンスに影響を及ぼす可能性があります。クエリーの効率を確認するには、<code class="literal">EXPLAIN</code> を使用できます。<code class="literal">EXPLAIN</code> 出力を使用した <code class="literal">INFORMATION_SCHEMA</code> クエリーの調整に関する詳細は、<a class="xref" href="optimization.html#information-schema-optimization" title="8.2.4 INFORMATION_SCHEMA クエリーの最適化">セクション8.2.4「INFORMATION_SCHEMA クエリーの最適化」</a>を参照してください。
  </p><h2><a name="idm139979012574816"></a>標準に関する考慮事項</h2><p>
    MySQL での <code class="literal">INFORMATION_SCHEMA</code> テーブル構造の実装は ANSI/ISO SQL:2003 標準パート 11 の <em class="citetitle">Schemata</em> に準拠しています。SQL:2003 の中核機能の F021 <em class="citetitle">基本情報スキーマ</em>にほぼ準拠することを意図しています。
  </p><p>
    SQL Server 2000 (これも標準に準拠しています) のユーザーであれば、非常に類似していることがわかるでしょう。ただし、MySQL では実装に関連しない多くのカラムを省略し、MySQL 固有のカラムを追加しています。このようなカラムの 1 つが、<code class="literal">INFORMATION_SCHEMA.TABLES</code> テーブル内の <code class="literal">ENGINE</code> カラムです。
  </p><p>
    ほかの DBMS では <code class="literal">syscat</code> や <code class="literal">system</code> などのさまざまな名前を使用していますが、標準の名前は <code class="literal">INFORMATION_SCHEMA</code> です。
  </p><p>
    標準または DB2、SQL Server、Oracle で予約されている名前を使用しないように、<span class="quote">「<span class="quote">MySQL 拡張</span>」</span>のマークを付けて一部のカラムの名前を変更しています。(たとえば、<code class="literal">TABLES</code> テーブルでの <code class="literal">COLLATION</code> を <code class="literal">TABLE_COLLATION</code> に変更しました。)<a class="ulink" href="https://web.archive.org/web/20070428032454/http://www.dbazine.com/db2/db2-disarticles/gulutzan5" target="_top">https://web.archive.org/web/20070428032454/http://www.dbazine.com/db2/db2-disarticles/gulutzan5</a> の記事の末尾近くにある予約語のリストを参照してください。
  </p><h2><a name="idm139979012560800"></a>INFORMATION_SCHEMA 参照セクションでの規則</h2><p>
    次のセクションでは、<code class="literal">INFORMATION_SCHEMA</code> でのテーブルおよびカラムのそれぞれについて説明します。カラムごとに次の 3 つの情報があります。
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <span class="quote">「<span class="quote"><code class="literal">INFORMATION_SCHEMA</code> 名</span>」</span>には、<code class="literal">INFORMATION_SCHEMA</code> テーブルのカラムの名前が示されます。これは、<span class="quote">「<span class="quote">備考</span>」</span>フィールドで<span class="quote">「<span class="quote">MySQL 拡張</span>」</span>と記されていないかぎり、標準の SQL 名に一致します。
      </p></li><li class="listitem"><p>
        <span class="quote">「<span class="quote"><code class="literal">SHOW</code> 名</span>」</span>には、もっとも近い <code class="literal">SHOW</code> ステートメントに同等のフィールド名がある場合は、この名前が示されます。
      </p></li><li class="listitem"><p>
        <span class="quote">「<span class="quote">備考</span>」</span>には、必要に応じて追加情報が記されます。このフィールドが <code class="literal">NULL</code> の場合、カラムの値が常に <code class="literal">NULL</code> であることを意味します。このフィールドに<span class="quote">「<span class="quote">MySQL 拡張</span>」</span>とある場合、そのカラムは標準 SQL に対する MySQL 拡張です。

        
      </p></li></ul></div><p>
    多くのセクションは、どの <code class="literal">SHOW</code> ステートメントが、<code class="literal">INFORMATION_SCHEMA</code> から情報を取得する <code class="literal">SELECT</code> と同等であるかを示します。デフォルトデータベースの情報を表示する <code class="literal">SHOW</code> ステートメントでは、<code class="literal">FROM <em class="replaceable"><code>db_name</code></em></code> 句を省略した場合、<code class="literal">INFORMATION_SCHEMA</code> テーブルから情報を取得するクエリーの <code class="literal">WHERE</code> 句に <code class="literal">AND TABLE_SCHEMA = SCHEMA()</code> 条件を追加すると、デフォルトデータベースの情報を選択できます。
  </p><p>
    <code class="literal">InnoDB</code> ストレージエンジンに固有の <code class="literal">INFORMATION_SCHEMA</code> テーブルの詳細は、<a class="xref" href="information-schema.html#innodb-i_s-tables" title="21.29 InnoDB の INFORMATION_SCHEMA テーブル">セクション21.29「InnoDB の INFORMATION_SCHEMA テーブル」</a>を参照してください。スレッドプールプラグインに固有の <code class="literal">INFORMATION_SCHEMA</code> テーブルの詳細は、<a class="xref" href="information-schema.html#thread-pool-i_s-tables" title="21.31 スレッドプールの INFORMATION_SCHEMA テーブル">セクション21.31「スレッドプールの INFORMATION_SCHEMA テーブル」</a>を参照してください。
  </p><p>
    <code class="literal">INFORMATION_SCHEMA</code> データベースに関するよくある質問とその回答については、<a class="xref" href="faqs.html#faqs-information-schema" title="A.7 MySQL 5.6 FAQ: INFORMATION_SCHEMA">セクションA.7「MySQL 5.6 FAQ: INFORMATION_SCHEMA」</a>を参照してください。
  </p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="character-sets-table"></a>21.1 INFORMATION_SCHEMA CHARACTER_SETS テーブル</h2></div></div></div><a class="indexterm" name="idm139979012531136"></a><p>
      <code class="literal">CHARACTER_SETS</code> テーブルは、利用できる文字セットに関する情報を提供します。
    </p><div class="informaltable"><table summary="この表は、INFORMATION_SCHEMA CHARACTER_SETS テーブルについて説明しています。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">INFORMATION_SCHEMA</code> 名</th><th scope="col"><code class="literal">SHOW</code> 名</th><th scope="col">備考</th></tr></thead><tbody><tr><td scope="row"><code class="literal">CHARACTER_SET_NAME</code></td><td><code class="literal">Charset</code></td><td> </td></tr><tr><td scope="row"><code class="literal">DEFAULT_COLLATE_NAME</code></td><td><code class="literal">Default collation</code></td><td> </td></tr><tr><td scope="row"><code class="literal">DESCRIPTION</code></td><td><code class="literal">Description</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">MAXLEN</code></td><td><code class="literal">Maxlen</code></td><td>MySQL 拡張</td></tr></tbody></table></div><p>
      次のステートメントは同等です。
    </p><pre class="programlisting">
SELECT * FROM INFORMATION_SCHEMA.CHARACTER_SETS
  [WHERE CHARACTER_SET_NAME LIKE '<em class="replaceable"><code>wild</code></em>']

SHOW CHARACTER SET
  [LIKE '<em class="replaceable"><code>wild</code></em>']
</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="collations-table"></a>21.2 INFORMATION_SCHEMA COLLATIONS テーブル</h2></div></div></div><a class="indexterm" name="idm139979012505728"></a><p>
      <code class="literal">COLLATIONS</code> テーブルは、各文字セットの照合順序に関する情報を提供します。
    </p><div class="informaltable"><table summary="この表は、INFORMATION_SCHEMA COLLATIONS テーブルについて説明しています。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">INFORMATION_SCHEMA</code> 名</th><th scope="col"><code class="literal">SHOW</code> 名</th><th scope="col">備考</th></tr></thead><tbody><tr><td scope="row"><code class="literal">COLLATION_NAME</code></td><td><code class="literal">Collation</code></td><td> </td></tr><tr><td scope="row"><code class="literal">CHARACTER_SET_NAME</code></td><td><code class="literal">Charset</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">ID</code></td><td><code class="literal">Id</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">IS_DEFAULT</code></td><td><code class="literal">Default</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">IS_COMPILED</code></td><td><code class="literal">Compiled</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">SORTLEN</code></td><td><code class="literal">Sortlen</code></td><td>MySQL 拡張</td></tr></tbody></table></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">COLLATION_NAME</code> は照合順序名です。
        </p></li><li class="listitem"><p>
          <code class="literal">CHARACTER_SET_NAME</code> は、照合順序が関連付けられている文字セットの名前です。
        </p></li><li class="listitem"><p>
          <code class="literal">ID</code> は照合順序 ID です。
        </p></li><li class="listitem"><p>
          <code class="literal">IS_DEFAULT</code> は、照合順序がその文字セットのデフォルトであるかどうかを示します。
        </p></li><li class="listitem"><p>
          <code class="literal">IS_COMPILED</code> は、文字セットがサーバー内にコンパイルされるかどうかを示します。
        </p></li><li class="listitem"><p>
          <code class="literal">SORTLEN</code> は、文字セットで表された文字列をソートするために必要なメモリー容量に関係しています。
        </p></li></ul></div><p>
      照合順序情報は、<code class="literal">SHOW COLLATION</code> ステートメントから取得することもできます。次のステートメントは同等です。
    </p><pre class="programlisting">
SELECT COLLATION_NAME FROM INFORMATION_SCHEMA.COLLATIONS
  [WHERE COLLATION_NAME LIKE '<em class="replaceable"><code>wild</code></em>']

SHOW COLLATION
  [LIKE '<em class="replaceable"><code>wild</code></em>']
</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="collation-character-set-applicability-table"></a>21.3 INFORMATION_SCHEMA COLLATION_CHARACTER_SET_APPLICABILITY テーブル</h2></div></div></div><a class="indexterm" name="idm139979012463872"></a><p>
      <code class="literal">COLLATION_CHARACTER_SET_APPLICABILITY</code> テーブルは、どの文字セットがどの照合順序に適用されるかを示します。カラムは <code class="literal">SHOW COLLATION</code> から取得する最初の 2 つの表示フィールドと同等です。
    </p><div class="informaltable"><table summary="この表では、INFORMATION_SCHEMA COLLATION_CHARACTER_SET_APPLICABILITY テーブルについて説明します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">INFORMATION_SCHEMA</code> 名</th><th scope="col"><code class="literal">SHOW</code> 名</th><th scope="col">備考</th></tr></thead><tbody><tr><td scope="row"><code class="literal">COLLATION_NAME</code></td><td><code class="literal">Collation</code></td><td> </td></tr><tr><td scope="row"><code class="literal">CHARACTER_SET_NAME</code></td><td><code class="literal">Charset</code></td><td> </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="columns-table"></a>21.4 INFORMATION_SCHEMA COLUMNS テーブル</h2></div></div></div><a class="indexterm" name="idm139979012445248"></a><p>
      <code class="literal">COLUMNS</code> テーブルは、テーブル内のカラムに関する情報を提供します。
    </p><div class="informaltable"><table summary="この表は、INFORMATION_SCHEMA COLUMNS テーブルについて説明します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">INFORMATION_SCHEMA</code> 名</th><th scope="col"><code class="literal">SHOW</code> 名</th><th scope="col">備考</th></tr></thead><tbody><tr><td scope="row"><code class="literal">TABLE_CATALOG</code></td><td> </td><td><code class="literal">def</code></td></tr><tr><td scope="row"><code class="literal">TABLE_SCHEMA</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">TABLE_NAME</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">COLUMN_NAME</code></td><td><code class="literal">Field</code></td><td> </td></tr><tr><td scope="row"><code class="literal">ORDINAL_POSITION</code></td><td> </td><td>注を参照</td></tr><tr><td scope="row"><code class="literal">COLUMN_DEFAULT</code></td><td><code class="literal">Default</code></td><td> </td></tr><tr><td scope="row"><code class="literal">IS_NULLABLE</code></td><td><code class="literal">Null</code></td><td> </td></tr><tr><td scope="row"><code class="literal">DATA_TYPE</code></td><td><code class="literal">Type</code></td><td> </td></tr><tr><td scope="row"><code class="literal">CHARACTER_MAXIMUM_LENGTH</code></td><td><code class="literal">Type</code></td><td> </td></tr><tr><td scope="row"><code class="literal">CHARACTER_OCTET_LENGTH</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">NUMERIC_PRECISION</code></td><td><code class="literal">Type</code></td><td> </td></tr><tr><td scope="row"><code class="literal">NUMERIC_SCALE</code></td><td><code class="literal">Type</code></td><td> </td></tr><tr><td scope="row"><code class="literal">DATETIME_PRECISION</code></td><td><code class="literal">Type</code></td><td> </td></tr><tr><td scope="row"><code class="literal">CHARACTER_SET_NAME</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">COLLATION_NAME</code></td><td><code class="literal">Collation</code></td><td> </td></tr><tr><td scope="row"><code class="literal">COLUMN_TYPE</code></td><td><code class="literal">Type</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">COLUMN_KEY</code></td><td><code class="literal">Key</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">EXTRA</code></td><td><code class="literal">Extra</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">PRIVILEGES</code></td><td><code class="literal">Privileges</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">COLUMN_COMMENT</code></td><td><code class="literal">Comment</code></td><td>MySQL 拡張</td></tr></tbody></table></div><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">SHOW</code> では、<code class="literal">Type</code> 表示には、異なる複数の <code class="literal">COLUMNS</code> カラムの値が含まれます。
        </p></li><li class="listitem"><p>
          <code class="literal">ORDINAL_POSITION</code> は <code class="literal">ORDER BY ORDINAL_POSITION</code> と記す場合があるため必要です。<code class="literal">SHOW</code> とは異なり、<code class="literal">SELECT</code> には自動順序付けはありません。
        </p></li><li class="listitem"><p>
          <code class="literal">CHARACTER_OCTET_LENGTH</code> は、マルチバイト文字セットを除き、<code class="literal">CHARACTER_MAXIMUM_LENGTH</code> と同じである必要があります。
        </p></li><li class="listitem"><p>
          <code class="literal">CHARACTER_SET_NAME</code> は <code class="literal">Collation</code> から派生できます。たとえば、<code class="literal">SHOW FULL COLUMNS FROM t</code> と指定し、<code class="literal">Collation</code> カラムに <code class="literal">latin1_swedish_ci</code> の値が表示されている場合は、文字セットは最初の下線の前にあるもの、つまり <code class="literal">latin1</code> になります。
        </p></li><li class="listitem"><p>
          MySQL 5.6.4 で <code class="literal">DATETIME_PRECISION</code> が追加されました。
        </p></li></ul></div><p>
      次のステートメントはほぼ同等です。
    </p><pre class="programlisting">
SELECT COLUMN_NAME, DATA_TYPE, IS_NULLABLE, COLUMN_DEFAULT
  FROM INFORMATION_SCHEMA.COLUMNS
  WHERE table_name = '<em class="replaceable"><code>tbl_name</code></em>'
  [AND table_schema = '<em class="replaceable"><code>db_name</code></em>']
  [AND column_name LIKE '<em class="replaceable"><code>wild</code></em>']

SHOW COLUMNS
  FROM <em class="replaceable"><code>tbl_name</code></em>
  [FROM <em class="replaceable"><code>db_name</code></em>]
  [LIKE '<em class="replaceable"><code>wild</code></em>']
</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="column-privileges-table"></a>21.5 INFORMATION_SCHEMA COLUMN_PRIVILEGES テーブル</h2></div></div></div><a class="indexterm" name="idm139979012365760"></a><p>
      <code class="literal">COLUMN_PRIVILEGES</code> テーブルは、カラムの権限に関する情報を提供します。この情報は <code class="literal">mysql.columns_priv</code> 付与テーブルからのものです。
    </p><div class="informaltable"><table summary="この表は、INFORMATION_SCHEMA COLUMN_PRIVILEGES テーブルについて説明します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">INFORMATION_SCHEMA</code> 名</th><th scope="col"><code class="literal">SHOW</code> 名</th><th scope="col">備考</th></tr></thead><tbody><tr><td scope="row"><code class="literal">GRANTEE</code></td><td> </td><td><code class="literal">'<em class="replaceable"><code>user_name</code></em>'@'<em class="replaceable"><code>host_name</code></em>'</code> 値</td></tr><tr><td scope="row"><code class="literal">TABLE_CATALOG</code></td><td> </td><td><code class="literal">def</code></td></tr><tr><td scope="row"><code class="literal">TABLE_SCHEMA</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">TABLE_NAME</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">COLUMN_NAME</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">PRIVILEGE_TYPE</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">IS_GRANTABLE</code></td><td> </td><td> </td></tr></tbody></table></div><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">SHOW FULL COLUMNS</code> の出力では、権限はすべて 1 つのフィールドにあり、<code class="literal">select,insert,update,references</code> のように小文字で記されます。<code class="literal">COLUMN_PRIVILEGES</code> では、行ごとに 1 つの権限があり、大文字で記されます。
        </p></li><li class="listitem"><p>
          <code class="literal">PRIVILEGE_TYPE</code> は、<code class="literal">SELECT</code>、<code class="literal">INSERT</code>、<code class="literal">UPDATE</code>、<code class="literal">REFERENCES</code> の値のいずれか (1 つのみ) を含むことができます。
        </p></li><li class="listitem"><p>
          ユーザーに <code class="literal">GRANT OPTION</code> 権限がある場合、<code class="literal">IS_GRANTABLE</code> は <code class="literal">YES</code> になります。それ以外の場合は、<code class="literal">IS_GRANTABLE</code> は <code class="literal">NO</code> になります。出力には、<code class="literal">GRANT OPTION</code> が個別の権限としてリストされません。
        </p></li></ul></div><p>
      次のステートメントは同等では<span class="emphasis"><em>ありません</em></span>。
    </p><pre class="programlisting">
SELECT ... FROM INFORMATION_SCHEMA.COLUMN_PRIVILEGES

SHOW GRANTS ...
</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="engines-table"></a>21.6 INFORMATION_SCHEMA ENGINES テーブル</h2></div></div></div><a class="indexterm" name="idm139979012319440"></a><p>
      <code class="literal">ENGINES</code> テーブルは、ストレージエンジンに関する情報を提供します。
    </p><div class="informaltable"><table summary="この表では、INFORMATION_SCHEMA ENGINES テーブルについて説明します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">INFORMATION_SCHEMA</code> 名</th><th scope="col"><code class="literal">SHOW</code> 名</th><th scope="col">備考</th></tr></thead><tbody><tr><td scope="row"><code class="literal">ENGINE</code></td><td><code class="literal">Engine</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">SUPPORT</code></td><td><code class="literal">Support</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">COMMENT</code></td><td><code class="literal">Comment</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">TRANSACTIONS</code></td><td><code class="literal">Transactions</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">XA</code></td><td><code class="literal">XA</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">SAVEPOINTS</code></td><td><code class="literal">Savepoints</code></td><td>MySQL 拡張</td></tr></tbody></table></div><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">ENGINES</code> テーブルは、非標準テーブルです。この内容は、<code class="literal">SHOW ENGINES</code> ステートメントのカラムに対応します。そのカラムの説明については、<a class="xref" href="sql-syntax.html#show-engines" title="13.7.5.17 SHOW ENGINES 構文">セクション13.7.5.17「SHOW ENGINES 構文」</a>を参照してください。
        </p></li></ul></div><p>
      <a class="xref" href="sql-syntax.html#show-engines" title="13.7.5.17 SHOW ENGINES 構文">セクション13.7.5.17「SHOW ENGINES 構文」</a>も参照してください。
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="events-table"></a>21.7 INFORMATION_SCHEMA EVENTS テーブル</h2></div></div></div><a class="indexterm" name="idm139979012286048"></a><p>
      <code class="literal">EVENTS</code> テーブルは、<a class="xref" href="stored-programs-views.html#events" title="20.4 イベントスケジューラの使用">セクション20.4「イベントスケジューラの使用」</a>で説明しているスケジュール設定済みのイベントに関する情報を提供します。<code class="literal">SHOW Name</code> 値は、<code class="literal">SHOW EVENTS</code> ステートメントのカラム名に対応します。
    </p><div class="informaltable"><table summary="この表は、INFORMATION_SCHEMA EVENTS テーブルについて説明します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">INFORMATION_SCHEMA</code> 名</th><th scope="col"><code class="literal">SHOW</code> 名</th><th scope="col">備考</th></tr></thead><tbody><tr><td scope="row"><code class="literal">EVENT_CATALOG</code></td><td> </td><td><code class="literal">def</code>、MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">EVENT_SCHEMA</code></td><td><code class="literal">Db</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">EVENT_NAME</code></td><td><code class="literal">Name</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">DEFINER</code></td><td><code class="literal">Definer</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">TIME_ZONE</code></td><td><code class="literal">Time zone</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">EVENT_BODY</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">EVENT_DEFINITION</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">EVENT_TYPE</code></td><td><code class="literal">Type</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">EXECUTE_AT</code></td><td><code class="literal">Execute at</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">INTERVAL_VALUE</code></td><td><code class="literal">Interval value</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">INTERVAL_FIELD</code></td><td><code class="literal">Interval field</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">SQL_MODE</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">STARTS</code></td><td><code class="literal">Starts</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">ENDS</code></td><td><code class="literal">Ends</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">STATUS</code></td><td><code class="literal">Status</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">ON_COMPLETION</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">CREATED</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">LAST_ALTERED</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">LAST_EXECUTED</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">EVENT_COMMENT</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">ORIGINATOR</code></td><td><code class="literal">Originator</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">CHARACTER_SET_CLIENT</code></td><td><code class="literal">character_set_client</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">COLLATION_CONNECTION</code></td><td><code class="literal">collation_connection</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">DATABASE_COLLATION</code></td><td><code class="literal">Database Collation</code></td><td>MySQL 拡張</td></tr></tbody></table></div><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">EVENTS</code> テーブルは、非標準テーブルです。
        </p></li><li class="listitem"><p>
          <code class="literal">EVENT_CATALOG</code>: このカラムの値は常に <code class="literal">def</code> です。
        </p></li><li class="listitem"><p>
          <code class="literal">EVENT_SCHEMA</code>: このイベントが属しているスキーマ (データベース) の名前です。
        </p></li><li class="listitem"><p>
          <code class="literal">EVENT_NAME</code>: イベントの名前です。
        </p></li><li class="listitem"><p>
          <code class="literal">DEFINER</code>: <code class="literal">'<em class="replaceable"><code>user_name</code></em>'@'<em class="replaceable"><code>host_name</code></em>'</code> 形式で示した、イベントを作成したユーザーのアカウントです。
        </p></li><li class="listitem"><p>
          <code class="literal">TIME_ZONE</code>: イベントタイムゾーンです。これはイベントをスケジュール設定するために使用され、実行するときにイベント内で有効なタイムゾーンです。デフォルト値は <code class="literal">SYSTEM</code> です。
        </p></li><li class="listitem"><p>
          <code class="literal">EVENT_BODY</code>: イベントの <code class="literal">DO</code> 句に使用される言語です。MySQL 5.6 ではこれは常に <code class="literal">SQL</code> です。
        </p><p>
          このカラムは、以前の MySQL バージョンに存在していたものと同じ名前 (現在は <code class="literal">EVENT_DEFINITION</code> という名前) のカラムと混同しないでください。
        </p></li><li class="listitem"><p>
          <code class="literal">EVENT_DEFINITION</code>: イベントの <code class="literal">DO</code> 句を構成する SQL ステートメントのテキストです。つまり、このイベントで実行されたステートメントです。
        </p></li><li class="listitem"><p>
          <code class="literal">EVENT_TYPE</code>: イベントの繰り返しタイプであり、<code class="literal">ONE TIME</code> (一時的) または <code class="literal">RECURRING</code> (繰り返し) のどちらかになります。
        </p></li><li class="listitem"><p>
          <code class="literal">EXECUTE_AT</code>: 一度だけのイベントの場合、これはイベントの作成に使用された <code class="literal">CREATE EVENT</code> ステートメント、またはイベントを変更した最後の <code class="literal">ALTER EVENT</code> ステートメントの <code class="literal">AT</code> 句で指定された <code class="literal">DATETIME</code> 値です。このカラムに表示された値は、イベントの <code class="literal">AT</code> 句に含まれた、<code class="literal">INTERVAL</code> 値の加算または減算に影響します。たとえば、イベントが <code class="literal">ON SCHEDULE AT CURRENT_TIMESTAMP + '1:6' DAY_HOUR</code> を使用して作成され、イベントが 2006-02-09 の 14:05:30 に作成された場合、カラムに表示される値は <code class="literal">'2006-02-10 20:05:30'</code> になります。
        </p><p>
          イベントのタイミングが <code class="literal">AT</code> 句ではなく <code class="literal">EVERY</code> 句で決定される場合 (つまり、イベントが繰り返しである場合)、このカラムの値は <code class="literal">NULL</code> になります。
        </p></li><li class="listitem"><p>
          <code class="literal">INTERVAL_VALUE</code>: 繰り返しイベントの場合、このカラムにはイベント <code class="literal">EVERY</code> 句の数値部分が含まれます。
        </p><p>
          一度だけのイベント (<code class="literal">AT</code> 句によってタイミングが決定されるイベント) の場合、このカラムは <code class="literal">NULL</code> になります。
        </p></li><li class="listitem"><p>
          <code class="literal">INTERVAL_FIELD</code>: 繰り返しイベントの場合、このカラムは、イベントのタイミングを制御する <code class="literal">EVERY</code> 句の単位部分が含まれます。したがって、このカラムには、<code class="literal">「YEAR」</code>、<code class="literal">「QUARTER」</code>、<code class="literal">「DAY」</code>などの値が含まれます。
        </p><p>
          一度だけのイベント (<code class="literal">AT</code> 句によってタイミングが決定されるイベント) の場合、このカラムは <code class="literal">NULL</code> になります。
        </p></li><li class="listitem"><p>
          <code class="literal">SQL_MODE</code>: イベントが作成または変更されたときに有効であり、イベントが実行したときの SQL モードです。指定可能な値については、<a class="xref" href="server-administration.html#sql-mode" title="5.1.7 サーバー SQL モード">セクション5.1.7「サーバー SQL モード」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <code class="literal">STARTS</code>: 定義に <code class="literal">STARTS</code> 句を含む繰り返しイベントでは、このカラムには対応する <code class="literal">DATETIME</code> 値が含まれます。<code class="literal">EXECUTE_AT</code> カラムの場合と同様に、この値は使用されている式を解きます。
        </p><p>
          イベントのタイミングに影響する <code class="literal">STARTS</code> 句がない場合、このカラムは <code class="literal">NULL</code> です
        </p></li><li class="listitem"><p>
          <code class="literal">ENDS</code>: 定義に <code class="literal">ENDS</code> 句を含む繰り返しイベントでは、このカラムには対応する <code class="literal">DATETIME</code> 値が含まれます。<code class="literal">EXECUTE_AT</code> カラムの場合と同様に、この値は使用されている式を解きます。
        </p><p>
          イベントのタイミングに影響する <code class="literal">ENDS</code> 句がない場合、このカラムは <code class="literal">NULL</code> です。
        </p></li><li class="listitem"><p>
          <code class="literal">STATUS</code>: <code class="literal">ENABLED</code>、<code class="literal">DISABLED</code>、<code class="literal">SLAVESIDE_DISABLED</code> の 3 つの値のいずれかになります。
        </p><p>
          <code class="literal">SLAVESIDE_DISABLED</code> は、イベントの作成が、レプリケーションマスターとして機能している別の MySQL サーバーで行われ、スレーブとして機能している現在の MySQL サーバーに複製されたが、イベントは現時点でスレーブ上で実行されていないことを示します。詳細は、<a class="xref" href="replication.html#replication-features-invoked" title="17.4.1.11 呼び出される機能のレプリケーション">セクション17.4.1.11「呼び出される機能のレプリケーション」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <code class="literal">ON_COMPLETION</code>: <code class="literal">PRESERVE</code> または <code class="literal">NOT PRESERVE</code> の 2 つの値のどちらかになります。
        </p></li><li class="listitem"><p>
          <code class="literal">CREATED</code>: イベントが作成された日時です。これは <code class="literal">TIMESTAMP</code> 値です。
        </p></li><li class="listitem"><p>
          <code class="literal">LAST_ALTERED</code>: イベントが最後に変更された日時です。これは <code class="literal">TIMESTAMP</code> 値です。イベントが作成されてから変更されなかった場合、このカラムには <code class="literal">CREATED</code> カラムと同じ値が保持されます。
        </p></li><li class="listitem"><p>
          <code class="literal">LAST_EXECUTED</code>: イベントが最後に実行された日時です。<code class="literal">DATETIME</code> 値。イベントが一度も実行されていない場合、このカラムは <code class="literal">NULL</code> です。
        </p><p>
          <code class="literal">LAST_EXECUTED</code> はイベントが開始した時点を示します。このため、<code class="literal">ENDS</code> カラムが <code class="literal">LAST_EXECUTED</code> より小さくなることは決してありません。
        </p></li><li class="listitem"><p>
          <code class="literal">EVENT_COMMENT</code>: イベントにコメントがある場合のコメントのテキストです。ない場合は、このカラムの値は空の文字列になります。
        </p></li><li class="listitem"><p>
          <code class="literal">ORIGINATOR</code>: このイベントが作成された MySQL サーバーのサーバー ID で、レプリケーションで使用されます。デフォルト値は 0 です。
        </p></li><li class="listitem"><p>
          <code class="literal">CHARACTER_SET_CLIENT</code>: イベントが作成されたときの <code class="literal">character_set_client</code> システム変数のセッション値です。
        </p></li><li class="listitem"><p>
          <code class="literal">COLLATION_CONNECTION</code>: イベントが作成されたときの <code class="literal">collation_connection</code> システム変数のセッション値です。
        </p></li><li class="listitem"><p>
          <code class="literal">DATABASE_COLLATION</code>: イベントが関連付けられているデータベースの照合順序です。
        </p></li></ul></div><p>
      <span class="bold"><strong>例</strong></span>: 次に示すように、ユーザー <code class="literal">jon@ghidora</code> が <code class="literal">e_daily</code> という名前のイベントを作成し、<code class="literal">ALTER EVENT</code> ステートメントを使用して数分後に変更するとします。
    </p><pre class="programlisting">
DELIMITER |

CREATE EVENT e_daily
    ON SCHEDULE
      EVERY 1 DAY
    COMMENT 'Saves total number of sessions then clears the table each day'
    DO
      BEGIN
        INSERT INTO site_activity.totals (time, total)
          SELECT CURRENT_TIMESTAMP, COUNT(*)
            FROM site_activity.sessions;
        DELETE FROM site_activity.sessions;
      END |

DELIMITER ;

ALTER EVENT e_daily
    ENABLED;
</pre><p>
      (コメントは複数の行にわたって記述できます。)
    </p><p>
      このユーザーは続いて次の <code class="literal">SELECT</code> ステートメントを実行し、次の出力が表示されます。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT * FROM INFORMATION_SCHEMA.EVENTS</code></strong>
     &gt; <strong class="userinput"><code>WHERE EVENT_NAME = 'e_daily'</code></strong>
     &gt; <strong class="userinput"><code>AND EVENT_SCHEMA = 'myschema'\G</code></strong>
*************************** 1. row ***************************
       EVENT_CATALOG: def
        EVENT_SCHEMA: test
          EVENT_NAME: e_daily
             DEFINER: me@localhost
           TIME_ZONE: SYSTEM
          EVENT_BODY: SQL
    EVENT_DEFINITION: BEGIN
        INSERT INTO site_activity.totals (time, total)
          SELECT CURRENT_TIMESTAMP, COUNT(*)
            FROM site_activity.sessions;
        DELETE FROM site_activity.sessions;
      END
          EVENT_TYPE: RECURRING
          EXECUTE_AT: NULL
      INTERVAL_VALUE: 1
      INTERVAL_FIELD: DAY
            SQL_MODE:
              STARTS: 2008-09-03 12:13:39
                ENDS: NULL
              STATUS: ENABLED
       ON_COMPLETION: NOT PRESERVE
             CREATED: 2008-09-03 12:13:39
        LAST_ALTERED: 2008-09-03 12:13:39
       LAST_EXECUTED: NULL
       EVENT_COMMENT: Saves total number of sessions then clears the
                      table each day
          ORIGINATOR: 1
CHARACTER_SET_CLIENT: latin1
COLLATION_CONNECTION: latin1_swedish_ci
  DATABASE_COLLATION: latin1_swedish_ci
</pre><p>
      <a class="xref" href="stored-programs-views.html#events-metadata" title="20.4.4 イベントメタデータ">セクション20.4.4「イベントメタデータ」</a>で説明しているように、<code class="literal">EVENTS</code> テーブル内の時間は、イベントタイムゾーンまたは現在のセッションタイムゾーンを使用して表示されます。
    </p><p>
      <a class="xref" href="sql-syntax.html#show-events" title="13.7.5.19 SHOW EVENTS 構文">セクション13.7.5.19「SHOW EVENTS 構文」</a>も参照してください。
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="status-table"></a>21.8 INFORMATION_SCHEMA GLOBAL_STATUS および SESSION_STATUS テーブル</h2></div></div></div><a class="indexterm" name="idm139979012104688"></a><a class="indexterm" name="idm139979012102512"></a><p>
      <code class="literal">GLOBAL_STATUS</code> および <code class="literal">SESSION_STATUS</code> テーブルは、サーバーのステータス変数に関する情報を提供します。それらの内容は、<code class="literal">SHOW GLOBAL STATUS</code> および <code class="literal">SHOW SESSION STATUS</code> ステートメントが生成する情報に対応します (<a class="xref" href="sql-syntax.html#show-status" title="13.7.5.36 SHOW STATUS 構文">セクション13.7.5.36「SHOW STATUS 構文」</a>を参照してください)。
    </p><div class="informaltable"><table summary="この表では、INFORMATION_SCHEMA GLOBAL_STATUS および SESSION_STATUS テーブルについて説明します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">INFORMATION_SCHEMA</code> 名</th><th scope="col"><code class="literal">SHOW</code> 名</th><th scope="col">備考</th></tr></thead><tbody><tr><td scope="row">VARIABLE_NAME</td><td>Variable_name</td><td> </td></tr><tr><td scope="row">VARIABLE_VALUE</td><td>値</td><td> </td></tr></tbody></table></div><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          これらのテーブルそれぞれの <code class="literal">VARIABLE_VALUE</code> カラムは <code class="literal">VARCHAR(1024)</code> として定義されます。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="variables-table"></a>21.9 INFORMATION_SCHEMA GLOBAL_VARIABLES および SESSION_VARIABLES テーブル</h2></div></div></div><a class="indexterm" name="idm139979012076256"></a><a class="indexterm" name="idm139979012074080"></a><p>
      <code class="literal">GLOBAL_VARIABLES</code> および <code class="literal">SESSION_VARIABLES</code> テーブルは、サーバーのステータス変数に関する情報を提供します。これらの内容は、<code class="literal">SHOW GLOBAL VARIABLES</code> および <code class="literal">SHOW SESSION VARIABLES</code> ステートメントが生成した情報に対応します (<a class="xref" href="sql-syntax.html#show-variables" title="13.7.5.40 SHOW VARIABLES 構文">セクション13.7.5.40「SHOW VARIABLES 構文」</a>を参照してください)。
    </p><div class="informaltable"><table summary="この表は、INFORMATION_SCHEMA GLOBAL_VARIABLES および SESSION_VARIABLES テーブルについて説明します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">INFORMATION_SCHEMA</code> 名</th><th scope="col"><code class="literal">SHOW</code> 名</th><th scope="col">備考</th></tr></thead><tbody><tr><td scope="row">VARIABLE_NAME</td><td>Variable_name</td><td> </td></tr><tr><td scope="row">VARIABLE_VALUE</td><td>値</td><td> </td></tr></tbody></table></div><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          これらのテーブルそれぞれの <code class="literal">VARIABLE_VALUE</code> カラムは <code class="literal">VARCHAR(1024)</code> として定義されます。完全には表示されない非常に長い値を持つ変数の場合、回避策として <code class="literal">SELECT</code> を使用します。例:
        </p><pre class="programlisting">
SELECT @@GLOBAL.innodb_data_file_path;
</pre></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="key-column-usage-table"></a>21.10 INFORMATION_SCHEMA KEY_COLUMN_USAGE テーブル</h2></div></div></div><a class="indexterm" name="idm139979012045904"></a><p>
      <code class="literal">KEY_COLUMN_USAGE</code> テーブルは、どのキーカラムに制約があるかを説明します。
    </p><div class="informaltable"><table summary="この表は、INFORMATION_SCHEMA KEY_COLUMN_USAGE テーブルについて説明します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">INFORMATION_SCHEMA</code> 名</th><th scope="col"><code class="literal">SHOW</code> 名</th><th scope="col">備考</th></tr></thead><tbody><tr><td scope="row"><code class="literal">CONSTRAINT_CATALOG</code></td><td> </td><td><code class="literal">def</code></td></tr><tr><td scope="row"><code class="literal">CONSTRAINT_SCHEMA</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">CONSTRAINT_NAME</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">TABLE_CATALOG</code></td><td> </td><td><code class="literal">def</code></td></tr><tr><td scope="row"><code class="literal">TABLE_SCHEMA</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">TABLE_NAME</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">COLUMN_NAME</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">ORDINAL_POSITION</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">POSITION_IN_UNIQUE_CONSTRAINT</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">REFERENCED_TABLE_SCHEMA</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">REFERENCED_TABLE_NAME</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">REFERENCED_COLUMN_NAME</code></td><td> </td><td> </td></tr></tbody></table></div><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          制約が外部キーの場合、これは外部キーのカラムで、外部キーが参照するカラムではありません。
        </p></li><li class="listitem"><p>
          <code class="literal">ORDINAL_POSITION</code> の値は制約内のカラムの位置であり、テーブル内のカラムの位置ではありません。カラムの位置には 1 から始まる番号が付けられています。
        </p></li><li class="listitem"><p>
          <code class="literal">POSITION_IN_UNIQUE_CONSTRAINT</code> の値は、一意の主キーの制約に対し <code class="literal">NULL</code> です。外部キーの制約の場合、これは、参照されているテーブルのキーの順序位置になります。
        </p><p>
          次の定義を持つ <code class="literal">t1</code> および <code class="literal">t3</code> という 2 つのテーブルがあるとします。
        </p><pre class="programlisting">
CREATE TABLE t1
(
    s1 INT,
    s2 INT,
    s3 INT,
    PRIMARY KEY(s3)
) ENGINE=InnoDB;

CREATE TABLE t3
(
    s1 INT,
    s2 INT,
    s3 INT,
    KEY(s1),
    CONSTRAINT CO FOREIGN KEY (s2) REFERENCES t1(s3)
) ENGINE=InnoDB;
</pre><p>
          これらの 2 つのテーブルに対し、<code class="literal">KEY_COLUMN_USAGE</code> テーブルには次の 2 つの行があります。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">CONSTRAINT_NAME</code> = <code class="literal">'PRIMARY'</code>、<code class="literal">TABLE_NAME</code> = <code class="literal">'t1'</code>、<code class="literal">COLUMN_NAME</code> = <code class="literal">'s3'</code>、<code class="literal">ORDINAL_POSITION</code> = <code class="literal">1</code>、<code class="literal">POSITION_IN_UNIQUE_CONSTRAINT</code> = <code class="literal">NULL</code> を含む 1 つの行。
            </p></li><li class="listitem"><p>
              <code class="literal">CONSTRAINT_NAME</code> = <code class="literal">'CO'</code>、<code class="literal">TABLE_NAME</code> = <code class="literal">'t3'</code>、<code class="literal">COLUMN_NAME</code> = <code class="literal">'s2'</code>、<code class="literal">ORDINAL_POSITION</code> = <code class="literal">1</code>、<code class="literal">POSITION_IN_UNIQUE_CONSTRAINT</code> = <code class="literal">1</code> を含む 1 つの行。
            </p></li></ul></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="optimizer-trace-table"></a>21.11 INFORMATION_SCHEMA OPTIMIZER_TRACE テーブル</h2></div></div></div><a class="indexterm" name="idm139979011983936"></a><p>
      <code class="literal">OPTIMIZER_TRACE</code> テーブルは、オプティマイザトレース機能で生成される情報を提供します。追跡を有効にするには、<code class="literal">optimizer_trace</code> システム変数を使用します。詳細については、「<a class="ulink" href="http://dev.mysql.com/doc/internals/en/optimizer-tracing.html" target="_top">MySQL Internals: Tracing the Optimizer</a>」を参照してください。
    </p><p>
      MySQL 5.6.3 では <code class="literal">OPTIMIZER_TRACE</code> テーブルが追加されました。
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="parameters-table"></a>21.12 INFORMATION_SCHEMA PARAMETERS テーブル</h2></div></div></div><a class="indexterm" name="idm139979011975744"></a><p>
      <code class="literal">PARAMETERS</code> テーブルは、ストアドプロシージャーとストアドファンクションのパラメータと、ストアドファンクションの戻り値に関する情報を提供します。パラメータ情報は、<code class="literal">mysql.proc</code> テーブルの <code class="literal">param_list</code> カラムの内容と類似しています。
    </p><div class="informaltable"><table summary="この表では、INFORMATION_SCHEMA PARAMETERS テーブルについて説明します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">INFORMATION_SCHEMA</code> 名</th><th scope="col"><code class="literal">mysql.proc</code> 名</th><th scope="col">備考</th></tr></thead><tbody><tr><td scope="row"><code class="literal">SPECIFIC_CATALOG</code></td><td> </td><td><code class="literal">def</code></td></tr><tr><td scope="row"><code class="literal">SPECIFIC_SCHEMA</code></td><td><code class="literal">db</code></td><td>ルーチンデータベース</td></tr><tr><td scope="row"><code class="literal">SPECIFIC_NAME</code></td><td><code class="literal">name</code></td><td>ルーチン名</td></tr><tr><td scope="row"><code class="literal">ORDINAL_POSITION</code></td><td> </td><td>1、2、3、... はパラメータ用、0 は関数 <code class="literal">RETURNS</code> 句用</td></tr><tr><td scope="row"><code class="literal">PARAMETER_MODE</code></td><td> </td><td><code class="literal">IN</code>、<code class="literal">OUT</code>、<code class="literal">INOUT</code> (<code class="literal">RETURNS</code> には <code class="literal">NULL</code>)</td></tr><tr><td scope="row"><code class="literal">PARAMETER_NAME</code></td><td> </td><td>パラメータ名 (<code class="literal">RETURNS</code> には <code class="literal">NULL</code>)</td></tr><tr><td scope="row"><code class="literal">DATA_TYPE</code></td><td> </td><td><code class="literal">COLUMNS</code> テーブルの場合と同じ</td></tr><tr><td scope="row"><code class="literal">CHARACTER_MAXIMUM_LENGTH</code></td><td> </td><td><code class="literal">COLUMNS</code> テーブルの場合と同じ</td></tr><tr><td scope="row"><code class="literal">CHARACTER_OCTET_LENGTH</code></td><td> </td><td><code class="literal">COLUMNS</code> テーブルの場合と同じ</td></tr><tr><td scope="row"><code class="literal">NUMERIC_PRECISION</code></td><td> </td><td><code class="literal">COLUMNS</code> テーブルの場合と同じ</td></tr><tr><td scope="row"><code class="literal">NUMERIC_SCALE</code></td><td> </td><td><code class="literal">COLUMNS</code> テーブルの場合と同じ</td></tr><tr><td scope="row"><code class="literal">DATETIME_PRECISION</code></td><td> </td><td><code class="literal">COLUMNS</code> テーブルの場合と同じ</td></tr><tr><td scope="row"><code class="literal">CHARACTER_SET_NAME</code></td><td> </td><td><code class="literal">COLUMNS</code> テーブルの場合と同じ</td></tr><tr><td scope="row"><code class="literal">COLLATION_NAME</code></td><td> </td><td><code class="literal">COLUMNS</code> テーブルの場合と同じ</td></tr><tr><td scope="row"><code class="literal">DTD_IDENTIFIER</code></td><td> </td><td><code class="literal">COLUMNS</code> テーブルの場合と同じ</td></tr><tr><td scope="row"><code class="literal">ROUTINE_TYPE</code></td><td>type</td><td><code class="literal">ROUTINES</code> テーブルの場合と同じ</td></tr></tbody></table></div><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          ストアドプロシージャーとストアドファンクションの連続したパラメータについては、<code class="literal">ORDINAL_POSITION</code> 値は 1、2、3 などです。ストアドファンクションについては、<code class="literal">RETURNS</code> 句のデータ型について説明している行もあります。戻り値は真のパラメータではないので、これについて説明している行には次の一意の特性があります。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">ORDINAL_POSITION</code> 値は 0 です。
            </p></li><li class="listitem"><p>
              戻り値には名前がなく、モードが適用されないので、<code class="literal">PARAMETER_NAME</code> 値と <code class="literal">PARAMETER_MODE</code> 値は <code class="literal">NULL</code> です。
            </p></li><li class="listitem"><p>
              MySQL 5.6.4 で <code class="literal">DATETIME_PRECISION</code> が追加されました。
            </p></li></ul></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="partitions-table"></a>21.13 INFORMATION_SCHEMA PARTITIONS テーブル</h2></div></div></div><a class="indexterm" name="idm139979011904560"></a><p>
      <code class="literal">PARTITIONS</code> テーブルは、テーブルパーティションに関する情報を提供します。テーブルのパーティション化に関する詳細は、<a class="xref" href="partitioning.html" title="第 19 章 パーティション化">第19章「<i>パーティション化</i>」</a>を参照してください。
    </p><div class="informaltable"><table summary="この表は、INFORMATION_SCHEMA PARTITIONS テーブルについて説明します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">INFORMATION_SCHEMA</code> 名</th><th scope="col"><code class="literal">SHOW</code> 名</th><th scope="col">備考</th></tr></thead><tbody><tr><td scope="row"><code class="literal">TABLE_CATALOG</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">TABLE_SCHEMA</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">TABLE_NAME</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">PARTITION_NAME</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">SUBPARTITION_NAME</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">PARTITION_ORDINAL_POSITION</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">SUBPARTITION_ORDINAL_POSITION</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">PARTITION_METHOD</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">SUBPARTITION_METHOD</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">PARTITION_EXPRESSION</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">SUBPARTITION_EXPRESSION</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">PARTITION_DESCRIPTION</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">TABLE_ROWS</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">AVG_ROW_LENGTH</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">DATA_LENGTH</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">MAX_DATA_LENGTH</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">INDEX_LENGTH</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">DATA_FREE</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">CREATE_TIME</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">UPDATE_TIME</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">CHECK_TIME</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">CHECKSUM</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">PARTITION_COMMENT</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">NODEGROUP</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">TABLESPACE_NAME</code></td><td> </td><td>MySQL 拡張</td></tr></tbody></table></div><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">PARTITIONS</code> テーブルは、非標準テーブルです。
        </p><p>
          このテーブルの各レコードは、パーティション化されたテーブルの個々のパーティションまたはサブパーティションに対応しています。
        </p></li><li class="listitem"><p>
          <code class="literal">TABLE_CATALOG</code>: このカラムは常に <code class="literal">def</code> です。
        </p></li><li class="listitem"><p>
          <code class="literal">TABLE_SCHEMA</code>: このカラムはテーブルが属しているデータベースの名前を含みます。
        </p></li><li class="listitem"><p>
          <code class="literal">TABLE_NAME</code>: このカラムはパーティションを含むテーブルの名前を含みます。
        </p></li><li class="listitem"><p>
          <code class="literal">PARTITION_NAME</code>: パーティションの名前です。
        </p></li><li class="listitem"><p>
          <code class="literal">SUBPARTITION_NAME</code>: <code class="literal">PARTITIONS</code> テーブルレコードがサブパーティションを表す場合、このカラムはサブパーティションの名前を含みます。そうでない場合は、<code class="literal">NULL</code> になります。
        </p></li><li class="listitem"><p>
          <code class="literal">PARTITION_ORDINAL_POSITION</code>: すべてのパーティションは、定義されたときと同じ順序でインデックスが付けられます。最初のパーティションに <code class="literal">1</code> の番号が割り当てられます。インデックス設定は、パーティションが追加、削除、再編成されると変わることがあります。このカラムに表示された番号は、インデックス設定の変更を考慮した現在の順序を表します。
        </p></li><li class="listitem"><p>
          <code class="literal">SUBPARTITION_ORDINAL_POSITION</code>: テーブル内でパーティションにインデックスを付ける場合と同様に、指定されたパーティション内のサブパーティションにもインデックスの設定および変更が行われます。
        </p></li><li class="listitem"><p>
          <code class="literal">PARTITION_METHOD</code>: <code class="literal">RANGE</code>、<code class="literal">LIST</code>、<code class="literal">HASH</code>、<code class="literal">LINEAR HASH</code>、<code class="literal">KEY</code>、または <code class="literal">LINEAR KEY</code> のいずれかの値です。つまり、<a class="xref" href="partitioning.html#partitioning-types" title="19.2 パーティショニングタイプ">セクション19.2「パーティショニングタイプ」</a>で説明しているように、利用可能ないずれかのパーティショニングタイプになります。
        </p></li><li class="listitem"><p>
          <code class="literal">SUBPARTITION_METHOD</code>: <code class="literal">HASH</code>、<code class="literal">LINEAR HASH</code>、<code class="literal">KEY</code>、または <code class="literal">LINEAR KEY</code> のいずれかの値です。つまり、<a class="xref" href="partitioning.html#partitioning-subpartitions" title="19.2.6 サブパーティショニング">セクション19.2.6「サブパーティショニング」</a>で説明しているように、利用可能ないずれかのサブパーティショニングタイプになります。
        </p></li><li class="listitem"><p>
          <code class="literal">PARTITION_EXPRESSION</code>: これは、テーブルの現在のパーティション化スキームを作成した <code class="literal">CREATE TABLE</code> または <code class="literal">ALTER TABLE</code> ステートメントで使用されたパーティション化関数の式です。
        </p><p>
          たとえば、次のステートメントを使用して <code class="literal">test</code> データベースに作成されたパーティション化されたテーブルを考えてみます。
        </p><pre class="programlisting">
CREATE TABLE tp (
    c1 INT,
    c2 INT,
    c3 VARCHAR(25)
)
PARTITION BY HASH(c1 + c2)
PARTITIONS 4;
</pre><p>
          このテーブルからのパーティションに対する PARTITIONS テーブルレコード内の <code class="literal">PARTITION_EXPRESSION</code> カラムには、次に示すように <code class="literal">c1 + c2</code> と表示されます。
        </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT DISTINCT PARTITION_EXPRESSION</code></strong>
     &gt;     <strong class="userinput"><code>FROM INFORMATION_SCHEMA.PARTITIONS</code></strong>
     &gt;     <strong class="userinput"><code>WHERE TABLE_NAME='tp' AND TABLE_SCHEMA='test';</code></strong>
+----------------------+
| PARTITION_EXPRESSION |
+----------------------+
| c1 + c2              |
+----------------------+
1 row in set (0.09 sec)
</pre></li><li class="listitem"><p>
          <code class="literal">SUBPARTITION_EXPRESSION</code>: これは、テーブルのパーティション化を定義するために使用されるパーティショニング式に対する <code class="literal">PARTITION_EXPRESSION</code> の動作と同様に、サブパーティション化を定義するサブパーティショニング式に対して動作します。
        </p><p>
          テーブルにサブパーティションがない場合、このカラムは <code class="literal">NULL</code> になります。
        </p></li><li class="listitem"><p>
          <code class="literal">PARTITION_DESCRIPTION</code>: このカラムは RANGE および LIST パーティションに使用されます。<code class="literal">RANGE</code> パーティションの場合、パーティションの <code class="literal">VALUES LESS THAN</code> 句で設定された値が含まれます。これには整数か <code class="literal">MAXVALUE</code> のどちらかを指定できます。<code class="literal">LIST</code> パーティションの場合、このカラムには、パーティションの <code class="literal">VALUES IN</code> 句で定義された値が含まれます。これは整数値のカンマ区切りのリストになります。
        </p><p>
          <code class="literal">PARTITION_METHOD</code> が <code class="literal">RANGE</code> または <code class="literal">LIST</code> 以外であるパーティションの場合、このカラムは常に <code class="literal">NULL</code> になります。
        </p></li><li class="listitem"><p>
          <code class="literal">TABLE_ROWS</code>: パーティションのテーブル行の数です。
        </p><p>
          パーティション化された <code class="literal">InnoDB</code> テーブルの場合、<code class="literal">TABLE_ROWS</code> カラムで指定された行数は、SQL 最適化で使用される推定値に過ぎず、必ずしも正確であるとはかぎりません。
        </p></li><li class="listitem"><p>
          <code class="literal">AVG_ROW_LENGTH</code>: このパーティションまたはサブパーティションに格納された行の、バイトで表した平均長です。
        </p><p>
          これは <code class="literal">TABLE_ROWS</code> で分割された <code class="literal">DATA_LENGTH</code> と同じです。
        </p></li><li class="listitem"><p>
          <code class="literal">DATA_LENGTH</code>: パーティションまたはサブパーティションに格納されたすべての行の、バイトで表された合計長です。つまり、パーティションまたはサブパーティションに格納されたバイトの合計数です。
        </p></li><li class="listitem"><p>
          <code class="literal">MAX_DATA_LENGTH</code>: このパーティションまたはサブパーティションに格納できる最大のバイト数です。
        </p></li><li class="listitem"><p>
          <code class="literal">INDEX_LENGTH</code>: このパーティションおよびサブパーティションのインデックスファイルの、バイトで表された長さです。
        </p></li><li class="listitem"><p>
          <code class="literal">DATA_FREE</code>: パーティションまたはサブパーティションに割り当てられているが使用されていないバイト数です。
        </p></li><li class="listitem"><p>
          <code class="literal">CREATE_TIME</code>: パーティションまたはサブパーティションが作成された時間です。
        </p></li><li class="listitem"><p>
          <code class="literal">UPDATE_TIME</code>: パーティションまたはサブパーティションが最後に変更された時間です。
        </p></li><li class="listitem"><p>
          <code class="literal">CHECK_TIME</code>: パーティションまたはサブパーティションが属しているテーブルが最後に確認された時間です。
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            一部のストレージエンジンは、この時間を更新しません。これらのストレージエンジンを使用したテーブルの場合、この値は常に <code class="literal">NULL</code> です。
          </p></div></li><li class="listitem"><p>
          <code class="literal">CHECKSUM</code>: チェックサム値になります (ある場合)。ない場合は、このカラムは <code class="literal">NULL</code> になります。
        </p></li><li class="listitem"><p>
          <code class="literal">PARTITION_COMMENT</code>: このカラムには、パーティションに対して行われたコメントのテキストが含まれます。
        </p><p>
          MySQL 5.6.6 より前では、このカラムの表示幅は 80 文字でしたが、この長さを超えたパーティションコメントはこの文字数まで切り捨てられていました。MySQL 5.6.6 以降では、パーティションコメントの最大長は 1024 文字に定義され、<code class="literal">PARTITION_COMMENT</code> カラムの表示幅はこの上限に一致するように 1024 文字に増やされています (Bug #11748924、Bug #37728)。
        </p><p>
          このカラムのデフォルト値は空の文字列です。
        </p></li><li class="listitem"><p>
          <code class="literal">NODEGROUP</code>: これは、パーティションが属しているノードグループです。これは、MySQL クラスタテーブルにのみ関連します。そうでない場合は、このカラムの値は常に <code class="literal">0</code> です。
        </p></li><li class="listitem"><p>
          <code class="literal">TABLESPACE_NAME</code>: このカラムには、パーティションが属しているテーブルスペースの名前が含まれます。現在、このカラムの値は常に <code class="literal">DEFAULT</code> です。
        </p></li><li class="listitem"><p>
          パーティション化されていないテーブルには、<code class="literal">INFORMATION_SCHEMA.PARTITIONS</code> に 1 つのレコードがあります。ただし、<code class="literal">PARTITION_NAME</code>、<code class="literal">SUBPARTITION_NAME</code>、<code class="literal">PARTITION_ORDINAL_POSITION</code>、<code class="literal">SUBPARTITION_ORDINAL_POSITION</code>、<code class="literal">PARTITION_METHOD</code>、<code class="literal">SUBPARTITION_METHOD</code>、<code class="literal">PARTITION_EXPRESSION</code>、<code class="literal">SUBPARTITION_EXPRESSION</code>、および <code class="literal">PARTITION_DESCRIPTION</code> カラムの値はすべて <code class="literal">NULL</code> になります。(この場合の <code class="literal">PARTITION_COMMENT</code> カラムはブランクです。)
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="plugins-table"></a>21.14 INFORMATION_SCHEMA PLUGINS テーブル</h2></div></div></div><a class="indexterm" name="idm139979011743248"></a><p>
      <code class="literal">PLUGINS</code> テーブルは、サーバーのプラグインに関する情報を提供します。
    </p><div class="informaltable"><table summary="この表では、INFORMATION_SCHEMA PLUGINS テーブルについて説明します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">INFORMATION_SCHEMA</code> 名</th><th scope="col"><code class="literal">SHOW</code> 名</th><th scope="col">備考</th></tr></thead><tbody><tr><td scope="row"><code class="literal">PLUGIN_NAME</code></td><td><code class="literal">Name</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">PLUGIN_VERSION</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">PLUGIN_STATUS</code></td><td><code class="literal">Status</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">PLUGIN_TYPE</code></td><td><code class="literal">Type</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">PLUGIN_TYPE_VERSION</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">PLUGIN_LIBRARY</code></td><td><code class="literal">Library</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">PLUGIN_LIBRARY_VERSION</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">PLUGIN_AUTHOR</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">PLUGIN_DESCRIPTION</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">PLUGIN_LICENSE</code></td><td><code class="literal">License</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">LOAD_OPTION</code></td><td> </td><td>MySQL 拡張</td></tr></tbody></table></div><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">PLUGINS</code> テーブルは、非標準テーブルです。
        </p></li><li class="listitem"><p>
          <code class="literal">PLUGIN_NAME</code> は、<code class="literal">INSTALL PLUGIN</code> や <code class="literal">UNINSTALL PLUGIN</code> などのステートメントでプラグインを参照するために使用される名前です。
        </p></li><li class="listitem"><p>
          <code class="literal">PLUGIN_VERSION</code> は、プラグインの一般的なタイプのディスクリプタのバージョンです。
        </p></li><li class="listitem"><p>
          <code class="literal">PLUGIN_STATUS</code> は、<code class="literal">ACTIVE</code>、<code class="literal">INACTIVE</code>、<code class="literal">DISABLED</code>、または <code class="literal">DELETED</code> のいずれかのプラグインステータスを示します。
        </p></li><li class="listitem"><p>
          <code class="literal">PLUGIN_TYPE</code> は、<code class="literal">STORAGE ENGINE</code>、<code class="literal">INFORMATION_SCHEMA</code>、<code class="literal">AUTHENTICATION</code> などのプラグインのタイプを示します。
        </p></li><li class="listitem"><p>
          <code class="literal">PLUGIN_TYPE_VERSION</code> は、プラグインのタイプ固有のディスクリプタのバージョンです。
        </p></li><li class="listitem"><p>
          <code class="literal">PLUGIN_LIBRARY</code> は、プラグイン共有オブジェクトファイルの名前です。これは、<code class="literal">INSTALL PLUGIN</code> や <code class="literal">UNINSTALL PLUGIN</code> などのステートメントでプラグインファイルを参照するために使用される名前です。このファイルは、<code class="literal">plugin_dir</code> システム変数によって指名されたディレクトリに置かれます。ライブラリ名が <code class="literal">NULL</code> である場合、プラグインはコンパイルされますが、<code class="literal">UNINSTALL PLUGIN</code> でアンインストールできません。
        </p></li><li class="listitem"><p>
          <code class="literal">PLUGIN_LIBRARY_VERSION</code> は、プラグイン API インタフェースバージョンを示します。
        </p></li><li class="listitem"><p>
          <code class="literal">PLUGIN_AUTHOR</code> はプラグイン作成者の名前を示します。
        </p></li><li class="listitem"><p>
          <code class="literal">PLUGIN_DESCRIPTION</code> は、プラグインの簡単な説明を提供します。
        </p></li><li class="listitem"><p>
          <code class="literal">PLUGIN_LICENSE</code> は、<code class="literal">GPL</code> などのライセンスがどのようにプラグインに付与されているかを示します。
        </p></li><li class="listitem"><p>
          <code class="literal">LOAD_OPTION</code> は、プラグインがどのようにロードされたかを示します。値は、<code class="literal">OFF</code>、<code class="literal">ON</code>、<code class="literal">FORCE</code>、または <code class="literal">FORCE_PLUS_PERMANENT</code> です。<a class="xref" href="server-administration.html#server-plugin-loading" title="5.1.8.1 プラグインのインストールおよびアンインストール">セクション5.1.8.1「プラグインのインストールおよびアンインストール」</a>を参照してください。
        </p></li></ul></div><p>
      <code class="literal">INSTALL PLUGIN</code> でインストールされたプラグインの場合、<code class="literal">PLUGIN_NAME</code> および <code class="literal">PLUGIN_LIBRARY</code> 値は、<code class="literal">mysql.plugin</code> テーブルにも登録されます。
    </p><p>
      次のステートメントは同等です。
    </p><pre class="programlisting">
SELECT
  PLUGIN_NAME, PLUGIN_STATUS, PLUGIN_TYPE,
  PLUGIN_LIBRARY, PLUGIN_LICENSE
FROM INFORMATION_SCHEMA.PLUGINS;

SHOW PLUGINS;
</pre><p>
      <code class="literal">PLUGINS</code> テーブル内の情報のベースを形成するプラグインデータ構造の詳細は、<a class="xref" href="extending-mysql.html#plugin-api" title="24.2 MySQL プラグイン API">セクション24.2「MySQL プラグイン API」</a>を参照してください。
    </p><p>
      プラグイン情報は、<code class="literal">SHOW PLUGINS</code> ステートメントを使用して利用することもできます。<a class="xref" href="sql-syntax.html#show-plugins" title="13.7.5.26 SHOW PLUGINS 構文">セクション13.7.5.26「SHOW PLUGINS 構文」</a>を参照してください。
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="processlist-table"></a>21.15 INFORMATION_SCHEMA PROCESSLIST テーブル</h2></div></div></div><a class="indexterm" name="idm139979011659280"></a><a class="indexterm" name="idm139979011657104"></a><p>
      <code class="literal">PROCESSLIST</code> テーブルは、どのスレッドが動作しているかに関する情報を提供します。
    </p><div class="informaltable"><table summary="この表では、INFORMATION_SCHEMA PROCESSLIST テーブルについて説明します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">INFORMATION_SCHEMA</code> 名</th><th scope="col"><code class="literal">SHOW</code> 名</th><th scope="col">備考</th></tr></thead><tbody><tr><td scope="row"><code class="literal">ID</code></td><td><code class="literal">Id</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">USER</code></td><td><code class="literal">User</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">HOST</code></td><td><code class="literal">Host</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">DB</code></td><td><code class="literal">db</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">COMMAND</code></td><td><code class="literal">Command</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">TIME</code></td><td><code class="literal">Time</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">STATE</code></td><td><code class="literal">State</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">INFO</code></td><td><code class="literal">Info</code></td><td>MySQL 拡張</td></tr></tbody></table></div><p>
      テーブルカラムの幅広い説明については、<a class="xref" href="sql-syntax.html#show-processlist" title="13.7.5.30 SHOW PROCESSLIST 構文">セクション13.7.5.30「SHOW PROCESSLIST 構文」</a>を参照してください。
    </p><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">PROCESSLIST</code> テーブルは、非標準テーブルです。
        </p></li><li class="listitem"><p>
          対応する <code class="literal">SHOW</code> ステートメントの出力と同様に、<code class="literal">PROCESSLIST</code> テーブルは <code class="literal">PROCESS</code> の権限がない場合は、自身のスレッドに関する情報だけが表示されます。権限がある場合、ほかのスレッドに関する情報も表示されます。匿名ユーザーとしてでは、どの行も表示できません。
        </p></li><li class="listitem"><p>
          SQL ステートメントが <code class="literal">INFORMATION_SCHEMA.PROCESSLIST</code> を参照している場合、MySQL はステートメントの実行が開始されるとテーブル全体を一度移入するので、ステートメント中の読み取りの一貫性が保たれます。ただし、複数ステートメントトランザクションでは読み取りの一貫性はありません。
        </p></li><li class="listitem"><p>
          処理情報は、<code class="literal">performance_schema.threads</code> テーブルから利用することもできます。ただし、<code class="literal">threads</code> へのアクセスには相互排他ロックは必要なく、サーバーパフォーマンスへの影響は最小です。<code class="literal">INFORMATION_SCHEMA.PROCESSLIST</code> および <code class="literal">SHOW PROCESSLIST</code> は、相互排他ロックを必要とするので、負のパフォーマンスの結果になります。<code class="literal">threads</code> はまた、バックグラウンドスレッドに関する情報も表示しますが、<code class="literal">INFORMATION_SCHEMA.PROCESSLIST</code> および <code class="literal">SHOW PROCESSLIST</code> は表示しません。これは、<code class="literal">threads</code> は、ほかのスレッド情報源では行えないアクティビティーのモニターに使用できることを意味します。
        </p></li></ul></div><p>
      次のステートメントは同等です。
    </p><pre class="programlisting">
SELECT * FROM INFORMATION_SCHEMA.PROCESSLIST

SHOW FULL PROCESSLIST
</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="profiling-table"></a>21.16 INFORMATION_SCHEMA PROFILING テーブル</h2></div></div></div><a class="indexterm" name="idm139979011602656"></a><p>
      <code class="literal">PROFILING</code> テーブルは、ステートメントプロファイリング情報を提供します。その内容は、<code class="literal">SHOW PROFILES</code> および <code class="literal">SHOW PROFILE</code> ステートメントで生成される情報に対応します (<a class="xref" href="sql-syntax.html#show-profiles" title="13.7.5.32 SHOW PROFILES 構文">セクション13.7.5.32「SHOW PROFILES 構文」</a>を参照してください)。<code class="literal">profiling</code> セッション変数は 1 に設定されないかぎり、テーブルは空です。
    </p><div class="informaltable"><table summary="この表では、INFORMATION_SCHEMA PROFILING テーブルについて説明します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">INFORMATION_SCHEMA</code> 名</th><th scope="col"><code class="literal">SHOW</code> 名</th><th scope="col">備考</th></tr></thead><tbody><tr><td scope="row"><code class="literal">QUERY_ID</code></td><td><code class="literal">Query_ID</code></td><td> </td></tr><tr><td scope="row"><code class="literal">SEQ</code></td><td><code class="literal"></code></td><td> </td></tr><tr><td scope="row"><code class="literal">STATE</code></td><td><code class="literal">Status</code></td><td> </td></tr><tr><td scope="row"><code class="literal">DURATION</code></td><td><code class="literal">Duration</code></td><td> </td></tr><tr><td scope="row"><code class="literal">CPU_USER</code></td><td><code class="literal">CPU_user</code></td><td> </td></tr><tr><td scope="row"><code class="literal">CPU_SYSTEM</code></td><td><code class="literal">CPU_system</code></td><td> </td></tr><tr><td scope="row"><code class="literal">CONTEXT_VOLUNTARY</code></td><td><code class="literal">Context_voluntary</code></td><td> </td></tr><tr><td scope="row"><code class="literal">CONTEXT_INVOLUNTARY</code></td><td><code class="literal">Context_involuntary</code></td><td> </td></tr><tr><td scope="row"><code class="literal">BLOCK_OPS_IN</code></td><td><code class="literal">Block_ops_in</code></td><td> </td></tr><tr><td scope="row"><code class="literal">BLOCK_OPS_OUT</code></td><td><code class="literal">Block_ops_out</code></td><td> </td></tr><tr><td scope="row"><code class="literal">MESSAGES_SENT</code></td><td><code class="literal">Messages_sent</code></td><td> </td></tr><tr><td scope="row"><code class="literal">MESSAGES_RECEIVED</code></td><td><code class="literal">Messages_received</code></td><td> </td></tr><tr><td scope="row"><code class="literal">PAGE_FAULTS_MAJOR</code></td><td><code class="literal">Page_faults_major</code></td><td> </td></tr><tr><td scope="row"><code class="literal">PAGE_FAULTS_MINOR</code></td><td><code class="literal">Page_faults_minor</code></td><td> </td></tr><tr><td scope="row"><code class="literal">SWAPS</code></td><td><code class="literal">Swaps</code></td><td> </td></tr><tr><td scope="row"><code class="literal">SOURCE_FUNCTION</code></td><td><code class="literal">Source_function</code></td><td> </td></tr><tr><td scope="row"><code class="literal">SOURCE_FILE</code></td><td><code class="literal">Source_file</code></td><td> </td></tr><tr><td scope="row"><code class="literal">SOURCE_LINE</code></td><td><code class="literal">Source_line</code></td><td> </td></tr></tbody></table></div><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">QUERY_ID</code> は数値のステートメント識別子です。
        </p></li><li class="listitem"><p>
          <code class="literal">SEQ</code> は、同じ <code class="literal">QUERY_ID</code> 値を持つ行の表示順を示すシーケンス番号です。
        </p></li><li class="listitem"><p>
          <code class="literal">STATE</code> は、行の測定が適用されるプロファイリング状態です。
        </p></li><li class="listitem"><p>
          <code class="literal">DURATION</code> は、ステートメントの実行が、一定の状態に持続していた時間を秒単位で示します。
        </p></li><li class="listitem"><p>
          <code class="literal">CPU_USER</code> および <code class="literal">CPU_SYSTEM</code> はユーザーおよびシステムの CPU 使用率を秒単位で示します。
        </p></li><li class="listitem"><p>
          <code class="literal">CONTEXT_VOLUNTARY</code> および <code class="literal">CONTEXT_INVOLUNTARY</code> は、自発的および強制的コンテキストスイッチが行われた回数を示します。
        </p></li><li class="listitem"><p>
          <code class="literal">BLOCK_OPS_IN</code> および <code class="literal">BLOCK_OPS_OUT</code> は、ブロック入力および出力操作の数を示します。
        </p></li><li class="listitem"><p>
          <code class="literal">MESSAGES_SENT</code> および <code class="literal">MESSAGES_RECEIVED</code> は、送受信された通信メッセージの数を示します。
        </p></li><li class="listitem"><p>
          <code class="literal">PAGE_FAULTS_MAJOR</code> および <code class="literal">PAGE_FAULTS_MINOR</code> は、メジャーおよびマイナーページフォルトの数を示します。
        </p></li><li class="listitem"><p>
          <code class="literal">SWAPS</code> はスワップが行われた数を示します。
        </p></li><li class="listitem"><p>
          <code class="literal">SOURCE_FUNCTION</code>、<code class="literal">SOURCE_FILE</code>、および <code class="literal">SOURCE_LINE</code> は、プロファイルされた状態で実行されるソースコード内の箇所を示す情報を提供します。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="referential-constraints-table"></a>21.17 INFORMATION_SCHEMA REFERENTIAL_CONSTRAINTS テーブル</h2></div></div></div><a class="indexterm" name="idm139979011519520"></a><p>
      <code class="literal">REFERENTIAL_CONSTRAINTS</code> テーブルは、外部キーに関する情報を提供します。
    </p><div class="informaltable"><table summary="この表では、REFERENTIAL_CONSTRAINTS テーブルについて説明します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">INFORMATION_SCHEMA</code> 名</th><th scope="col"><code class="literal">SHOW</code> 名</th><th scope="col">備考</th></tr></thead><tbody><tr><td scope="row">CONSTRAINT_CATALOG</td><td> </td><td>def</td></tr><tr><td scope="row">CONSTRAINT_SCHEMA</td><td> </td><td> </td></tr><tr><td scope="row">CONSTRAINT_NAME</td><td> </td><td> </td></tr><tr><td scope="row">UNIQUE_CONSTRAINT_CATALOG</td><td> </td><td>def</td></tr><tr><td scope="row">UNIQUE_CONSTRAINT_SCHEMA</td><td> </td><td> </td></tr><tr><td scope="row">UNIQUE_CONSTRAINT_NAME</td><td> </td><td> </td></tr><tr><td scope="row">MATCH_OPTION</td><td> </td><td> </td></tr><tr><td scope="row">UPDATE_RULE</td><td> </td><td> </td></tr><tr><td scope="row">DELETE_RULE</td><td> </td><td> </td></tr><tr><td scope="row">TABLE_NAME</td><td> </td><td> </td></tr><tr><td scope="row">REFERENCED_TABLE_NAME</td><td> </td><td> </td></tr></tbody></table></div><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">TABLE_NAME</code> の値は、<code class="literal">INFORMATION_SCHEMA.TABLE_CONSTRAINTS</code> の <code class="literal">TABLE_NAME</code> と同じです。
        </p></li><li class="listitem"><p>
          <code class="literal">CONSTRAINT_SCHEMA</code> および <code class="literal">CONSTRAINT_NAME</code> は外部キーを識別します。
        </p></li><li class="listitem"><p>
          <code class="literal">UNIQUE_CONSTRAINT_SCHEMA</code>、<code class="literal">UNIQUE_CONSTRAINT_NAME</code>、および <code class="literal">REFERENCED_TABLE_NAME</code> は参照キーを識別します。
        </p></li><li class="listitem"><p>
          このとき <code class="literal">MATCH_OPTION</code> の唯一有効な値は <code class="literal">NONE</code> です。
        </p></li><li class="listitem"><p>
          <code class="literal">UPDATE_RULE</code> または <code class="literal">DELETE_RULE</code> に指定可能な値は、<code class="literal">CASCADE</code>、<code class="literal">SET NULL</code>、<code class="literal">SET DEFAULT</code>、<code class="literal">RESTRICT</code>、<code class="literal">NO ACTION</code> です。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="routines-table"></a>21.18 INFORMATION_SCHEMA ROUTINES テーブル</h2></div></div></div><a class="indexterm" name="idm139979011473584"></a><p>
      <code class="literal">ROUTINES</code> テーブルはストアドルーチン (プロシージャーおよび関数の両方) に関する情報を提供します。<code class="literal">ROUTINES</code> テーブルには、ユーザー定義関数 (UDF) は含まれません。
    </p><p>
      <span class="quote">「<span class="quote"><code class="literal">mysql.proc</code> 名</span>」</span>は、存在する場合、<code class="literal">INFORMATION_SCHEMA.ROUTINES</code> テーブルカラムに対応する <code class="literal">mysql.proc</code> テーブルカラムを示します。
    </p><div class="informaltable"><table summary="この表では、INFORMATION_SCHEMA ROUTINES テーブルについて説明します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">INFORMATION_SCHEMA</code> 名</th><th scope="col"><code class="literal">mysql.proc</code> 名</th><th scope="col">備考</th></tr></thead><tbody><tr><td scope="row"><code class="literal">SPECIFIC_NAME</code></td><td><code class="literal">specific_name</code></td><td> </td></tr><tr><td scope="row"><code class="literal">ROUTINE_CATALOG</code></td><td> </td><td><code class="literal">def</code></td></tr><tr><td scope="row"><code class="literal">ROUTINE_SCHEMA</code></td><td><code class="literal">db</code></td><td> </td></tr><tr><td scope="row"><code class="literal">ROUTINE_NAME</code></td><td><code class="literal">name</code></td><td> </td></tr><tr><td scope="row"><code class="literal">ROUTINE_TYPE</code></td><td><code class="literal">type</code></td><td><code class="literal">{PROCEDURE|FUNCTION}</code></td></tr><tr><td scope="row"><code class="literal">DATA_TYPE</code></td><td> </td><td><code class="literal">COLUMNS</code> テーブルの場合と同じ</td></tr><tr><td scope="row"><code class="literal">CHARACTER_MAXIMUM_LENGTH</code></td><td> </td><td><code class="literal">COLUMNS</code> テーブルの場合と同じ</td></tr><tr><td scope="row"><code class="literal">CHARACTER_OCTET_LENGTH</code></td><td> </td><td><code class="literal">COLUMNS</code> テーブルの場合と同じ</td></tr><tr><td scope="row"><code class="literal">NUMERIC_PRECISION</code></td><td> </td><td><code class="literal">COLUMNS</code> テーブルの場合と同じ</td></tr><tr><td scope="row"><code class="literal">NUMERIC_SCALE</code></td><td> </td><td><code class="literal">COLUMNS</code> テーブルの場合と同じ</td></tr><tr><td scope="row"><code class="literal">DATETIME_PRECISION</code></td><td> </td><td><code class="literal">COLUMNS</code> テーブルの場合と同じ</td></tr><tr><td scope="row"><code class="literal">CHARACTER_SET_NAME</code></td><td> </td><td><code class="literal">COLUMNS</code> テーブルの場合と同じ</td></tr><tr><td scope="row"><code class="literal">COLLATION_NAME</code></td><td> </td><td><code class="literal">COLUMNS</code> テーブルの場合と同じ</td></tr><tr><td scope="row"><code class="literal">DTD_IDENTIFIER</code></td><td> </td><td>データ型ディスクリプタ</td></tr><tr><td scope="row"><code class="literal">ROUTINE_BODY</code></td><td> </td><td><code class="literal">SQL</code></td></tr><tr><td scope="row"><code class="literal">ROUTINE_DEFINITION</code></td><td><code class="literal">body_utf8</code></td><td> </td></tr><tr><td scope="row"><code class="literal">EXTERNAL_NAME</code></td><td> </td><td><code class="literal">NULL</code></td></tr><tr><td scope="row"><code class="literal">EXTERNAL_LANGUAGE</code></td><td><code class="literal">language</code></td><td><code class="literal">NULL</code></td></tr><tr><td scope="row"><code class="literal">PARAMETER_STYLE</code></td><td> </td><td><code class="literal">SQL</code></td></tr><tr><td scope="row"><code class="literal">IS_DETERMINISTIC</code></td><td><code class="literal">is_deterministic</code></td><td> </td></tr><tr><td scope="row"><code class="literal">SQL_DATA_ACCESS</code></td><td><code class="literal">sql_data_access</code></td><td> </td></tr><tr><td scope="row"><code class="literal">SQL_PATH</code></td><td> </td><td><code class="literal">NULL</code></td></tr><tr><td scope="row"><code class="literal">SECURITY_TYPE</code></td><td><code class="literal">security_type</code></td><td> </td></tr><tr><td scope="row"><code class="literal">CREATED</code></td><td><code class="literal">created</code></td><td> </td></tr><tr><td scope="row"><code class="literal">LAST_ALTERED</code></td><td><code class="literal">modified</code></td><td> </td></tr><tr><td scope="row"><code class="literal">SQL_MODE</code></td><td><code class="literal">sql_mode</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">ROUTINE_COMMENT</code></td><td><code class="literal">comment</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">DEFINER</code></td><td><code class="literal">definer</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">CHARACTER_SET_CLIENT</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">COLLATION_CONNECTION</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">DATABASE_COLLATION</code></td><td> </td><td>MySQL 拡張</td></tr></tbody></table></div><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          MySQL は <code class="literal">EXTERNAL_LANGUAGE</code> を次のように計算します。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">mysql.proc.language='SQL'</code> の場合、<code class="literal">EXTERNAL_LANGUAGE</code> は <code class="literal">NULL</code> になります
            </p></li><li class="listitem"><p>
              それ以外の場合、<code class="literal">EXTERNAL_LANGUAGE</code> は <code class="literal">mysql.proc.language</code> に存在します。ただし、まだ外部言語がないので、これは常に <code class="literal">NULL</code> になります。
            </p></li></ul></div></li><li class="listitem"><p>
          <code class="literal">CREATED</code>: ルーチンが作成された日時です。これは <code class="literal">TIMESTAMP</code> 値です。
        </p></li><li class="listitem"><p>
          <code class="literal">LAST_ALTERED</code>: ルーチンが最後に変更された日時です。これは <code class="literal">TIMESTAMP</code> 値です。ルーチンが作成されてから変更されなかった場合、このカラムは <code class="literal">CREATED</code> カラムと同じ値を保持します。
        </p></li><li class="listitem"><p>
          <code class="literal">SQL_MODE</code>: ルーチンが作成または変更されたときに有効であり、ルーチンを実行するときの SQL モードです。指定可能な値については、<a class="xref" href="server-administration.html#sql-mode" title="5.1.7 サーバー SQL モード">セクション5.1.7「サーバー SQL モード」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <code class="literal">CHARACTER_SET_CLIENT</code>: ルーチンが作成されたときの <code class="literal">character_set_client</code> システム変数のセッション値です。
        </p></li><li class="listitem"><p>
          <code class="literal">COLLATION_CONNECTION</code>: ルーチンが作成されたときの <code class="literal">collation_connection</code> システム変数のセッション値です。
        </p></li><li class="listitem"><p>
          <code class="literal">DATABASE_COLLATION</code>: ルーチンが関連付けられているデータベースの照合順序です。
        </p></li><li class="listitem"><p>
          <code class="literal">DATA_TYPE</code>、<code class="literal">CHARACTER_MAXIMUM_LENGTH</code>、<code class="literal">CHARACTER_OCTET_LENGTH</code>、<code class="literal">NUMERIC_PRECISION</code>、<code class="literal">NUMERIC_SCALE</code>、<code class="literal">DATETIME_PRECISION</code>、<code class="literal">CHARACTER_SET_NAME</code>、および <code class="literal">COLLATION_NAME</code> カラムは、ストアドファンクションの <code class="literal">RETURNS</code> 句に対するデータ型に関する情報を提供します。ストアドルーチンがストアドプロシージャーである場合、これらのカラムはすべて <code class="literal">NULL</code> になります。MySQL 5.6.4 で <code class="literal">DATETIME_PRECISION</code> が追加されました。
        </p></li><li class="listitem"><p>
          ストアドファンクション <code class="literal">RETURNS</code> データ型に関する情報は、<code class="literal">PARAMETERS</code> テーブルでも利用できます。関数に対する戻り値のデータ型の行は、<code class="literal">ORDINAL_POSITION</code> 値が 0 である行として識別できます。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="schemata-table"></a>21.19 INFORMATION_SCHEMA SCHEMATA テーブル</h2></div></div></div><a class="indexterm" name="idm139979011344304"></a><p>
      スキーマはデータベースなので、<code class="literal">SCHEMATA</code> テーブルはデータベースに関する情報を提供します。
    </p><div class="informaltable"><table summary="この表では、INFORMATION_SCHEMA SCHEMATA テーブルについて説明します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">INFORMATION_SCHEMA</code> 名</th><th scope="col"><code class="literal">SHOW</code> 名</th><th scope="col">備考</th></tr></thead><tbody><tr><td scope="row"><code class="literal">CATALOG_NAME</code></td><td> </td><td><code class="literal">def</code></td></tr><tr><td scope="row"><code class="literal">SCHEMA_NAME</code></td><td>Database</td><td> </td></tr><tr><td scope="row"><code class="literal">DEFAULT_CHARACTER_SET_NAME</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">DEFAULT_COLLATION_NAME</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">SQL_PATH</code></td><td> </td><td><code class="literal">NULL</code></td></tr></tbody></table></div><p>
      次のステートメントは同等です。
    </p><pre class="programlisting">
SELECT SCHEMA_NAME AS `Database`
  FROM INFORMATION_SCHEMA.SCHEMATA
  [WHERE SCHEMA_NAME LIKE '<em class="replaceable"><code>wild</code></em>']

SHOW DATABASES
  [LIKE '<em class="replaceable"><code>wild</code></em>']
</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="schema-privileges-table"></a>21.20 INFORMATION_SCHEMA SCHEMA_PRIVILEGES テーブル</h2></div></div></div><a class="indexterm" name="idm139979011319360"></a><p>
      <code class="literal">SCHEMA_PRIVILEGES</code> テーブルは、スキーマ (データベース) 権限に関する情報を提供します。この情報は <code class="literal">mysql.db</code> 付与テーブルにあります。
    </p><div class="informaltable"><table summary="この表では、INFORMATION_SCHEMA SCHEMA_PRIVILEGES テーブルについて説明します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">INFORMATION_SCHEMA</code> 名</th><th scope="col"><code class="literal">SHOW</code> 名</th><th scope="col">備考</th></tr></thead><tbody><tr><td scope="row"><code class="literal">GRANTEE</code></td><td> </td><td><code class="literal">'<em class="replaceable"><code>user_name</code></em>'@'<em class="replaceable"><code>host_name</code></em>'</code> 値、MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">TABLE_CATALOG</code></td><td> </td><td><code class="literal">def</code>、MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">TABLE_SCHEMA</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">PRIVILEGE_TYPE</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">IS_GRANTABLE</code></td><td> </td><td>MySQL 拡張</td></tr></tbody></table></div><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          これは非標準テーブルです。その値を <code class="literal">mysql.db</code> テーブルから取得します。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="statistics-table"></a>21.21 INFORMATION_SCHEMA STATISTICS テーブル</h2></div></div></div><a class="indexterm" name="idm139979011291184"></a><p>
      <code class="literal">STATISTICS</code> テーブルは、テーブルインデックスの情報を提供します。
    </p><div class="informaltable"><table summary="この表では、INFORMATION_SCHEMA STATISTICS テーブルについて説明します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">INFORMATION_SCHEMA</code> 名</th><th scope="col"><code class="literal">SHOW</code> 名</th><th scope="col">備考</th></tr></thead><tbody><tr><td scope="row"><code class="literal">TABLE_CATALOG</code></td><td> </td><td><code class="literal">def</code></td></tr><tr><td scope="row"><code class="literal">TABLE_SCHEMA</code></td><td> </td><td>= Database</td></tr><tr><td scope="row"><code class="literal">TABLE_NAME</code></td><td><code class="literal">Table</code></td><td> </td></tr><tr><td scope="row"><code class="literal">NON_UNIQUE</code></td><td><code class="literal">Non_unique</code></td><td> </td></tr><tr><td scope="row"><code class="literal">INDEX_SCHEMA</code></td><td> </td><td>= Database</td></tr><tr><td scope="row"><code class="literal">INDEX_NAME</code></td><td><code class="literal">Key_name</code></td><td> </td></tr><tr><td scope="row"><code class="literal">SEQ_IN_INDEX</code></td><td><code class="literal">Seq_in_index</code></td><td> </td></tr><tr><td scope="row"><code class="literal">COLUMN_NAME</code></td><td><code class="literal">Column_name</code></td><td> </td></tr><tr><td scope="row"><code class="literal">COLLATION</code></td><td><code class="literal">Collation</code></td><td> </td></tr><tr><td scope="row"><code class="literal">CARDINALITY</code></td><td><code class="literal">Cardinality</code></td><td> </td></tr><tr><td scope="row"><code class="literal">SUB_PART</code></td><td><code class="literal">Sub_part</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">PACKED</code></td><td><code class="literal">Packed</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">NULLABLE</code></td><td><code class="literal">Null</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">INDEX_TYPE</code></td><td><code class="literal">Index_type</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">COMMENT</code></td><td><code class="literal">Comment</code></td><td>MySQL 拡張</td></tr></tbody></table></div><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          インデックスには標準のテーブルはありません。前述のリストは SQL Server 2000 が <code class="literal">sp_statistics</code> に対して返すものと似ていますが、名前 <code class="literal">QUALIFIER</code> を <code class="literal">CATALOG</code> に、名前 <code class="literal">OWNER</code> を <code class="literal">SCHEMA</code> に置き換えた点が異なります。
        </p><p>
          明らかに、前述のテーブルと、<code class="literal">SHOW INDEX</code> の出力は同じ親から派生したものです。このため、すでに密接な相関関係になっています。
        </p></li></ul></div><p>
      次のステートメントは同等です。
    </p><pre class="programlisting">
SELECT * FROM INFORMATION_SCHEMA.STATISTICS
  WHERE table_name = '<em class="replaceable"><code>tbl_name</code></em>'
  AND table_schema = '<em class="replaceable"><code>db_name</code></em>'

SHOW INDEX
  FROM <em class="replaceable"><code>tbl_name</code></em>
  FROM <em class="replaceable"><code>db_name</code></em>
</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tables-table"></a>21.22 INFORMATION_SCHEMA TABLES テーブル</h2></div></div></div><a class="indexterm" name="idm139979011233120"></a><p>
      <code class="literal">TABLES</code> テーブルは、データベース内のテーブルに関する情報を提供します。
    </p><div class="informaltable"><table summary="この表では、INFORMATION_SCHEMA TABLES テーブルについて説明します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">INFORMATION_SCHEMA</code> 名</th><th scope="col"><code class="literal">SHOW</code> 名</th><th scope="col">備考</th></tr></thead><tbody><tr><td scope="row"><code class="literal">TABLE_CATALOG</code></td><td> </td><td><code class="literal">def</code></td></tr><tr><td scope="row"><code class="literal">TABLE_SCHEMA</code></td><td><code class="literal">Table_</code>...</td><td> </td></tr><tr><td scope="row"><code class="literal">TABLE_NAME</code></td><td><code class="literal">Table_</code>...</td><td> </td></tr><tr><td scope="row"><code class="literal">TABLE_TYPE</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">ENGINE</code></td><td><code class="literal">Engine</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">VERSION</code></td><td><code class="literal">Version</code></td><td>テーブルの <code class="filename">.frm</code> ファイルのバージョン番号、MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">ROW_FORMAT</code></td><td><code class="literal">Row_format</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">TABLE_ROWS</code></td><td><code class="literal">Rows</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">AVG_ROW_LENGTH</code></td><td><code class="literal">Avg_row_length</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">DATA_LENGTH</code></td><td><code class="literal">Data_length</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">MAX_DATA_LENGTH</code></td><td><code class="literal">Max_data_length</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">INDEX_LENGTH</code></td><td><code class="literal">Index_length</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">DATA_FREE</code></td><td><code class="literal">Data_free</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">AUTO_INCREMENT</code></td><td><code class="literal">Auto_increment</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">CREATE_TIME</code></td><td><code class="literal">Create_time</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">UPDATE_TIME</code></td><td><code class="literal">Update_time</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">CHECK_TIME</code></td><td><code class="literal">Check_time</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">TABLE_COLLATION</code></td><td><code class="literal">Collation</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">CHECKSUM</code></td><td><code class="literal">Checksum</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">CREATE_OPTIONS</code></td><td><code class="literal">Create_options</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">TABLE_COMMENT</code></td><td><code class="literal">Comment</code></td><td>MySQL 拡張</td></tr></tbody></table></div><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">TABLE_SCHEMA</code> および <code class="literal">TABLE_NAME</code> は、<code class="literal">Table_in_db1</code> など、<code class="literal">SHOW</code> 表示の単一のフィールドです。
        </p></li><li class="listitem"><p>
          <code class="literal">TABLE_TYPE</code> は <code class="literal">BASE TABLE</code> または <code class="literal">VIEW</code> になります。現在、<code class="literal">TABLES</code> テーブルは <code class="literal">TEMPORARY</code> テーブルをリストしません。
        </p></li><li class="listitem"><p>
          パーティション化されたテーブルの場合、<code class="literal">ENGINE</code> カラムには、すべてのパーティションで使用されるストレージエンジンの名前が表示されます。(以前は、このカラムには、このようなテーブルに対し <code class="literal">PARTITION</code> が表示されていました。)
        </p></li><li class="listitem"><p>
          テーブルが <code class="literal">INFORMATION_SCHEMA</code> データベースにある場合、<code class="literal">TABLE_ROWS</code> カラムは <code class="literal">NULL</code> です。
        </p><p>
          <code class="literal">InnoDB</code> テーブルの場合、行カウントは SQL 最適化で使用される単なる概算です。(<code class="literal">InnoDB</code> テーブルがパーティション化されている場合も、これは当てはまります。)
        </p></li><li class="listitem"><p>
          <code class="literal">DATA_FREE</code> カラムには、<code class="literal">InnoDB</code> テーブルの空き領域がバイト単位で表示されます。
        </p></li><li class="listitem"><p>
          テーブルのデフォルトの文字セットはありません。照合順序名は文字セット名で始まるため、<code class="literal">TABLE_COLLATION</code> は閉じています。
        </p></li><li class="listitem"><p>
          テーブルがパーティション化されている場合、<code class="literal">CREATE_OPTIONS</code> カラムには <code class="literal">partitioned</code> と表示されます。
        </p></li></ul></div><p>
      次のステートメントは同等です。
    </p><pre class="programlisting">
SELECT table_name FROM INFORMATION_SCHEMA.TABLES
  WHERE table_schema = '<em class="replaceable"><code>db_name</code></em>'
  [AND table_name LIKE '<em class="replaceable"><code>wild</code></em>']

SHOW TABLES
  FROM <em class="replaceable"><code>db_name</code></em>
  [LIKE '<em class="replaceable"><code>wild</code></em>']
</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tablespaces-table"></a>21.23 INFORMATION_SCHEMA TABLESPACES テーブル</h2></div></div></div><a class="indexterm" name="idm139979011140608"></a><p>
      <code class="literal">TABLESPACES</code> テーブルは、アクティブなテーブルスペースに関する情報を提供します。
    </p><div class="informaltable"><table summary="この表では、INFORMATION_SCHEMA TABLESPACES テーブルについて説明します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">INFORMATION_SCHEMA</code> 名</th><th scope="col"><code class="literal">SHOW</code> 名</th><th scope="col">備考</th></tr></thead><tbody><tr><td scope="row"><code class="literal">TABLESPACE_NAME</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">ENGINE</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">TABLESPACE_TYPE</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">LOGFILE_GROUP_NAME</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">EXTENT_SIZE</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">AUTOEXTEND_SIZE</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">MAXIMUM_SIZE</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">NODEGROUP_ID</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">TABLESPACE_COMMENT</code></td><td> </td><td>MySQL 拡張</td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="table-constraints-table"></a>21.24 INFORMATION_SCHEMA TABLE_CONSTRAINTS テーブル</h2></div></div></div><a class="indexterm" name="idm139979011110800"></a><p>
      <code class="literal">TABLE_CONSTRAINTS</code> テーブルは、どのテーブルに制約があるかを説明します。
    </p><div class="informaltable"><table summary="この表では、INFORMATION_SCHEMA TABLE_CONSTRAINTS テーブルについて説明します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">INFORMATION_SCHEMA</code> 名</th><th scope="col"><code class="literal">SHOW</code> 名</th><th scope="col">備考</th></tr></thead><tbody><tr><td scope="row"><code class="literal">CONSTRAINT_CATALOG</code></td><td> </td><td><code class="literal">def</code></td></tr><tr><td scope="row"><code class="literal">CONSTRAINT_SCHEMA</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">CONSTRAINT_NAME</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">TABLE_SCHEMA</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">TABLE_NAME</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">CONSTRAINT_TYPE</code></td><td> </td><td> </td></tr></tbody></table></div><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">CONSTRAINT_TYPE</code> 値は、<code class="literal">UNIQUE</code>、<code class="literal">PRIMARY KEY</code>、または <code class="literal">FOREIGN KEY</code> になります。
        </p></li><li class="listitem"><p>
          <code class="literal">UNIQUE</code> および <code class="literal">PRIMARY KEY</code> 情報は、<code class="literal">Non_unique</code> フィールドが <code class="literal">0</code> のときに <code class="literal">SHOW INDEX</code> の出力の <code class="literal">Key_name</code> フィールドから得られる情報とほぼ同じになります。
        </p></li><li class="listitem"><p>
          <code class="literal">CONSTRAINT_TYPE</code> カラムには、<code class="literal">UNIQUE</code>、<code class="literal">PRIMARY KEY</code>、<code class="literal">FOREIGN KEY</code>、<code class="literal">CHECK</code> のいずれかの値を含められます。これは <code class="literal">CHAR</code> (非 <code class="literal">ENUM</code>) カラムです。<code class="literal">CHECK</code> 値は <code class="literal">CHECK</code> をサポートするまでは利用できません。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="table-privileges-table"></a>21.25 INFORMATION_SCHEMA TABLE_PRIVILEGES テーブル</h2></div></div></div><a class="indexterm" name="idm139979011068368"></a><p>
      <code class="literal">TABLE_PRIVILEGES</code> テーブルは、テーブル権限に関する情報を提供します。この情報は <code class="literal">mysql.tables_priv</code> 付与テーブルからのものです。
    </p><div class="informaltable"><table summary="この表では、INFORMATION_SCHEMA TABLE_PRIVILEGES テーブルについて説明します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">INFORMATION_SCHEMA</code> 名</th><th scope="col"><code class="literal">SHOW</code> 名</th><th scope="col">備考</th></tr></thead><tbody><tr><td scope="row"><code class="literal">GRANTEE</code></td><td> </td><td><code class="literal">'<em class="replaceable"><code>user_name</code></em>'@'<em class="replaceable"><code>host_name</code></em>'</code> 値</td></tr><tr><td scope="row"><code class="literal">TABLE_CATALOG</code></td><td> </td><td><code class="literal">def</code></td></tr><tr><td scope="row"><code class="literal">TABLE_SCHEMA</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">TABLE_NAME</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">PRIVILEGE_TYPE</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">IS_GRANTABLE</code></td><td> </td><td> </td></tr></tbody></table></div><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">PRIVILEGE_TYPE</code> は、<code class="literal">SELECT</code>、<code class="literal">INSERT</code>、<code class="literal">UPDATE</code>、<code class="literal">REFERENCES</code>、<code class="literal">ALTER</code>、<code class="literal">INDEX</code>、<code class="literal">DROP</code>、<code class="literal">CREATE VIEW</code> の値のいずれか (1 つのみ) を含むことができます。
        </p></li></ul></div><p>
      次のステートメントは同等では<span class="emphasis"><em>ありません</em></span>。
    </p><pre class="programlisting">
SELECT ... FROM INFORMATION_SCHEMA.TABLE_PRIVILEGES

SHOW GRANTS ...
</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="triggers-table"></a>21.26 INFORMATION_SCHEMA TRIGGERS テーブル</h2></div></div></div><a class="indexterm" name="idm139979011029776"></a><p>
      <code class="literal">TRIGGERS</code> テーブルはトリガーに関する情報を提供します。自身が <code class="literal">TRIGGER</code> 権限を保有しているデータベースとテーブルの情報だけを表示できます。
    </p><div class="informaltable"><table summary="この表では、INFORMATION_SCHEMA TRIGGERS テーブルについて説明します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">INFORMATION_SCHEMA</code> 名</th><th scope="col"><code class="literal">SHOW</code> 名</th><th scope="col">備考</th></tr></thead><tbody><tr><td scope="row"><code class="literal">TRIGGER_CATALOG</code></td><td> </td><td><code class="literal">def</code></td></tr><tr><td scope="row"><code class="literal">TRIGGER_SCHEMA</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">TRIGGER_NAME</code></td><td><code class="literal">Trigger</code></td><td> </td></tr><tr><td scope="row"><code class="literal">EVENT_MANIPULATION</code></td><td><code class="literal">Event</code></td><td> </td></tr><tr><td scope="row"><code class="literal">EVENT_OBJECT_CATALOG</code></td><td> </td><td><code class="literal">def</code></td></tr><tr><td scope="row"><code class="literal">EVENT_OBJECT_SCHEMA</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">EVENT_OBJECT_TABLE</code></td><td><code class="literal">Table</code></td><td> </td></tr><tr><td scope="row"><code class="literal">ACTION_ORDER</code></td><td> </td><td><code class="literal">0</code></td></tr><tr><td scope="row"><code class="literal">ACTION_CONDITION</code></td><td> </td><td><code class="literal">NULL</code></td></tr><tr><td scope="row"><code class="literal">ACTION_STATEMENT</code></td><td><code class="literal">Statement</code></td><td> </td></tr><tr><td scope="row"><code class="literal">ACTION_ORIENTATION</code></td><td> </td><td><code class="literal">ROW</code></td></tr><tr><td scope="row"><code class="literal">ACTION_TIMING</code></td><td><code class="literal">Timing</code></td><td> </td></tr><tr><td scope="row"><code class="literal">ACTION_REFERENCE_OLD_TABLE</code></td><td> </td><td><code class="literal">NULL</code></td></tr><tr><td scope="row"><code class="literal">ACTION_REFERENCE_NEW_TABLE</code></td><td> </td><td><code class="literal">NULL</code></td></tr><tr><td scope="row"><code class="literal">ACTION_REFERENCE_OLD_ROW</code></td><td> </td><td><code class="literal">OLD</code></td></tr><tr><td scope="row"><code class="literal">ACTION_REFERENCE_NEW_ROW</code></td><td> </td><td><code class="literal">NEW</code></td></tr><tr><td scope="row"><code class="literal">CREATED</code></td><td><code class="literal">Created</code></td><td> </td></tr><tr><td scope="row"><code class="literal">SQL_MODE</code></td><td><code class="literal">sql_mode</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">DEFINER</code></td><td><code class="literal">Definer</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">CHARACTER_SET_CLIENT</code></td><td><code class="literal">character_set_client</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">COLLATION_CONNECTION</code></td><td><code class="literal">collation_connection</code></td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">DATABASE_COLLATION</code></td><td><code class="literal">Database Collation</code></td><td>MySQL 拡張</td></tr></tbody></table></div><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="quote">「<span class="quote"><code class="literal">SHOW</code> 名</span>」</span>カラム内の名前は、<code class="literal">SHOW CREATE TRIGGER</code> ではなく <code class="literal">SHOW TRIGGERS</code> ステートメントを示します。<a class="xref" href="sql-syntax.html#show-triggers" title="13.7.5.39 SHOW TRIGGERS 構文">セクション13.7.5.39「SHOW TRIGGERS 構文」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <code class="literal">TRIGGER_SCHEMA</code> および <code class="literal">TRIGGER_NAME</code>: それぞれ、トリガーが実行されるデータベースの名前とトリガー名です。
        </p></li><li class="listitem"><p>
          <code class="literal">EVENT_MANIPULATION</code>: トリガーイベントです。これは、トリガーが有効になる、関連付けられたテーブルに対する操作の種類です。値は、<code class="literal">'INSERT'</code> (行が挿入された場合)、<code class="literal">'DELETE'</code> (行が削除された場合)、または <code class="literal">'UPDATE'</code> (行が変更された場合) です。
        </p></li><li class="listitem"><p>
          <code class="literal">EVENT_OBJECT_SCHEMA</code> および <code class="literal">EVENT_OBJECT_TABLE</code>: <a class="xref" href="stored-programs-views.html#triggers" title="20.3 トリガーの使用">セクション20.3「トリガーの使用」</a>に記したように、すべてのトリガーは厳密に 1 つのテーブルに関連付けられます。これらのカラムには、このテーブルが存在するデータベースと、テーブル名がそれぞれ示されます。
        </p></li><li class="listitem"><p>
          <code class="literal">ACTION_ORDER</code>: 同じテーブルで類似したトリガーのリスト内の、トリガーアクションの順序位置です。現在、この値は常に <code class="literal">0</code> です。これは、同じテーブルで同じ <code class="literal">EVENT_MANIPULATION</code> および <code class="literal">ACTION_TIMING</code> のトリガーを複数持つことはできないためです。
        </p></li><li class="listitem"><p>
          <code class="literal">ACTION_STATEMENT</code>: トリガー本体です。つまり、トリガーの有効時に実行されるステートメントです。このテキストは UTF-8 エンコーディングを使用します。
        </p></li><li class="listitem"><p>
          <code class="literal">ACTION_ORIENTATION</code>: 常に <code class="literal">'ROW'</code> の値を含みます。
        </p></li><li class="listitem"><p>
          <code class="literal">ACTION_TIMING</code>: トリガーが有効になるのが、トリガーイベントの前かあとかを指定します。値は <code class="literal">'BEFORE'</code> または <code class="literal">'AFTER'</code> です。
        </p></li><li class="listitem"><p>
          <code class="literal">ACTION_REFERENCE_OLD_ROW</code> および <code class="literal">ACTION_REFERENCE_NEW_ROW</code>: それぞれ古いカラム識別子と新しいカラム識別子です。このことは、<code class="literal">ACTION_REFERENCE_OLD_ROW</code> が常に <code class="literal">'OLD'</code> の値を含み、<code class="literal">ACTION_REFERENCE_NEW_ROW</code> が常に <code class="literal">'NEW'</code> の値を含むことを意味します。
        </p></li><li class="listitem"><p>
          <code class="literal">SQL_MODE</code>: トリガーが作成されたときに有効であり、トリガーを実行するときの SQL モードです。指定可能な値については、<a class="xref" href="server-administration.html#sql-mode" title="5.1.7 サーバー SQL モード">セクション5.1.7「サーバー SQL モード」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <code class="literal">DEFINER</code>: <code class="literal">'<em class="replaceable"><code>user_name</code></em>'@'<em class="replaceable"><code>host_name</code></em>'</code> 形式で示した、トリガーを作成したユーザーのアカウントです。
        </p></li><li class="listitem"><p>
          <code class="literal">CHARACTER_SET_CLIENT</code>: トリガーが作成されたときの <code class="literal">character_set_client</code> システム変数のセッション値です。
        </p></li><li class="listitem"><p>
          <code class="literal">COLLATION_CONNECTION</code>: トリガーが作成されたときの <code class="literal">collation_connection</code> システム変数のセッション値です。
        </p></li><li class="listitem"><p>
          <code class="literal">DATABASE_COLLATION</code>: トリガーが関連付けられているデータベースの照合順序です。
        </p></li><li class="listitem"><p>
          <code class="literal">ACTION_CONDITION</code>、<code class="literal">ACTION_REFERENCE_OLD_TABLE</code>、<code class="literal">ACTION_REFERENCE_NEW_TABLE</code>、および <code class="literal">CREATED</code> のカラムには現在、<code class="literal">NULL</code> が常に含まれます。
        </p></li></ul></div><p>
      <a class="xref" href="stored-programs-views.html#triggers" title="20.3 トリガーの使用">セクション20.3「トリガーの使用」</a>で定義された <code class="literal">ins_sum</code> トリガーを使用した例です。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT * FROM INFORMATION_SCHEMA.TRIGGERS</code></strong>
    -&gt; <strong class="userinput"><code>WHERE TRIGGER_SCHEMA='test' AND TRIGGER_NAME='ins_sum'\G</code></strong>
*************************** 1. row ***************************
           TRIGGER_CATALOG: def
            TRIGGER_SCHEMA: test
              TRIGGER_NAME: ins_sum
        EVENT_MANIPULATION: INSERT
      EVENT_OBJECT_CATALOG: def
       EVENT_OBJECT_SCHEMA: test
        EVENT_OBJECT_TABLE: account
              ACTION_ORDER: 0
          ACTION_CONDITION: NULL
          ACTION_STATEMENT: SET @sum = @sum + NEW.amount
        ACTION_ORIENTATION: ROW
             ACTION_TIMING: BEFORE
ACTION_REFERENCE_OLD_TABLE: NULL
ACTION_REFERENCE_NEW_TABLE: NULL
  ACTION_REFERENCE_OLD_ROW: OLD
  ACTION_REFERENCE_NEW_ROW: NEW
                   CREATED: NULL
                  SQL_MODE: NO_ENGINE_SUBSTITUTION
                   DEFINER: me@localhost
      CHARACTER_SET_CLIENT: utf8
      COLLATION_CONNECTION: utf8_general_ci
        DATABASE_COLLATION: latin1_swedish_ci
</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="user-privileges-table"></a>21.27 INFORMATION_SCHEMA USER_PRIVILEGES テーブル</h2></div></div></div><a class="indexterm" name="idm139979010911392"></a><p>
      <code class="literal">USER_PRIVILEGES</code> テーブルは、グローバル権限に関する情報を提供します。この情報は <code class="literal">mysql.user</code> 付与テーブルにあります。
    </p><div class="informaltable"><table summary="この表では、INFORMATION_SCHEMA USER_PRIVILEGES テーブルについて説明します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">INFORMATION_SCHEMA</code> 名</th><th scope="col"><code class="literal">SHOW</code> 名</th><th scope="col">備考</th></tr></thead><tbody><tr><td scope="row"><code class="literal">GRANTEE</code></td><td> </td><td><code class="literal">'<em class="replaceable"><code>user_name</code></em>'@'<em class="replaceable"><code>host_name</code></em>'</code> 値、MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">TABLE_CATALOG</code></td><td> </td><td><code class="literal">def</code>、MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">PRIVILEGE_TYPE</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">IS_GRANTABLE</code></td><td> </td><td>MySQL 拡張</td></tr></tbody></table></div><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          これは非標準テーブルです。この値は、<code class="literal">mysql.user</code> テーブルから取得されます。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="views-table"></a>21.28 INFORMATION_SCHEMA VIEWS テーブル</h2></div></div></div><a class="indexterm" name="idm139979010885184"></a><p>
      <code class="literal">VIEWS</code> テーブルは、データベース内のビューに関する情報を提供します。このテーブルにアクセスするには <code class="literal">SHOW VIEW</code> 権限が必要です。
    </p><div class="informaltable"><table summary="この表では、INFORMATION_SCHEMA VIEWS テーブルについて説明します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">INFORMATION_SCHEMA</code> 名</th><th scope="col"><code class="literal">SHOW</code> 名</th><th scope="col">備考</th></tr></thead><tbody><tr><td scope="row"><code class="literal">TABLE_CATALOG</code></td><td> </td><td><code class="literal">def</code></td></tr><tr><td scope="row"><code class="literal">TABLE_SCHEMA</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">TABLE_NAME</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">VIEW_DEFINITION</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">CHECK_OPTION</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">IS_UPDATABLE</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">DEFINER</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">SECURITY_TYPE</code></td><td> </td><td> </td></tr><tr><td scope="row"><code class="literal">CHARACTER_SET_CLIENT</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">COLLATION_CONNECTION</code></td><td> </td><td>MySQL 拡張</td></tr></tbody></table></div><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">VIEW_DEFINITION</code> カラムには、<code class="literal">SHOW CREATE VIEW</code> が生成する <code class="literal">Create Table</code> フィールドに表示されるほとんどのものが存在します。<code class="literal">SELECT</code> より前の語をスキップし、<code class="literal">WITH CHECK OPTION</code> の語をスキップします。元のステートメントが次のとおりだったとします。
        </p><pre class="programlisting">
CREATE VIEW v AS
  SELECT s2,s1 FROM t
  WHERE s1 &gt; 5
  ORDER BY s1
  WITH CHECK OPTION;
</pre><p>
          この場合、ビュー定義は次のようになります。
        </p><pre class="programlisting">
SELECT s2,s1 FROM t WHERE s1 &gt; 5 ORDER BY s1
</pre></li><li class="listitem"><p>
          <code class="literal">CHECK_OPTION</code> カラムは、<code class="literal">NONE</code>、<code class="literal">CASCADE</code>、または <code class="literal">LOCAL</code> の値になります。
        </p></li><li class="listitem"><p>
          MySQL は、<code class="literal">CREATE VIEW</code> 時に、ビューの更新可能性フラグというフラグを設定します。<code class="literal">UPDATE</code> および <code class="literal">DELETE</code> (および同様の操作) がビューで有効な場合、フラグは <code class="literal">YES</code> (true) に設定されます。それ以外の場合、フラグは <code class="literal">NO</code> (false) に設定されます。<code class="literal">VIEWS</code> テーブルの <code class="literal">IS_UPDATABLE</code> カラムは、このフラグのステータスを表示します。これは、ビューが更新可能であるかどうかをサーバーが常に把握していることを意味します。ビューが更新可能ではない場合、<code class="literal">UPDATE</code>、<code class="literal">DELETE</code>、<code class="literal">INSERT</code> などのステートメントは無効であり、拒否されます。(ビューが更新可能な場合でも、挿入できない場合があります。詳細は、<a class="xref" href="sql-syntax.html#create-view" title="13.1.20 CREATE VIEW 構文">セクション13.1.20「CREATE VIEW 構文」</a>を参照してください。)
        </p></li><li class="listitem"><p>
          <code class="literal">DEFINER</code>: <code class="literal">'<em class="replaceable"><code>user_name</code></em>'@'<em class="replaceable"><code>host_name</code></em>'</code> 形式で示した、ビューを作成したユーザーのアカウントです。<code class="literal">SECURITY_TYPE</code> には、<code class="literal">DEFINER</code> または <code class="literal">INVOKER</code> の値があります。
        </p></li><li class="listitem"><p>
          <code class="literal">CHARACTER_SET_CLIENT</code>: ビューが作成されたときの <code class="literal">character_set_client</code> システム変数のセッション値です。
        </p></li><li class="listitem"><p>
          <code class="literal">COLLATION_CONNECTION</code>: ビューが作成されたときの <code class="literal">collation_connection</code> システム変数のセッション値です。
        </p></li></ul></div><p>
      MySQL では、異なる <code class="literal">sql_mode</code> 設定を使用すると、サポートする SQL 構文のタイプをサーバーに指示できます。たとえば、<code class="literal">ANSI</code> SQL モードを使用すると、クエリーで、MySQL で標準 SQL 連結演算子の二重バー (<code class="literal">||</code>) が正しく解釈されます。その後、項目を連結するビューを作成した場合、<code class="literal">sql_mode</code> 設定を <code class="literal">ANSI</code> とは別の値に変更すると、そのビューが無効になるという懸念がある場合があります。ただし、そのようなことはありません。MySQL は、記述方法には関係なく、常にビュー定義を正規の形式で同じ方法で格納します。サーバーが二重バーの連結演算子を <code class="literal">CONCAT()</code> 関数にどのように変更するかを示す例を次に示します。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SET sql_mode = 'ANSI';</code></strong>
Query OK, 0 rows affected (0.00 sec)

mysql&gt; <strong class="userinput"><code>CREATE VIEW test.v AS SELECT 'a' || 'b' as col1;</code></strong>
Query OK, 0 rows affected (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT VIEW_DEFINITION FROM INFORMATION_SCHEMA.VIEWS</code></strong>
    -&gt; <strong class="userinput"><code>WHERE TABLE_SCHEMA = 'test' AND TABLE_NAME = 'v';</code></strong>
+----------------------------------+
| VIEW_DEFINITION                  |
+----------------------------------+
| select concat('a','b') AS `col1` |
+----------------------------------+
1 row in set (0.00 sec)
</pre><p>
      ビュー定義を正規の形式で格納する利点は、あとで <code class="literal">sql_mode</code> の値を変更しても、ビューの結果に影響を与えないことにあります。ただし、<code class="literal">SELECT</code> の前にあるコメントが、サーバーによって定義から取り除かれるというその他の影響があります。
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="innodb-i_s-tables"></a>21.29 InnoDB の INFORMATION_SCHEMA テーブル</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="information-schema.html#innodb-cmp-table">21.29.1 INFORMATION_SCHEMA INNODB_CMP および INNODB_CMP_RESET テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-cmp-per-index-table">21.29.2 INFORMATION_SCHEMA INNODB_CMP_PER_INDEX および INNODB_CMP_PER_INDEX_RESET テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-cmpmem-table">21.29.3 INFORMATION_SCHEMA INNODB_CMPMEM および INNODB_CMPMEM_RESET テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-trx-table">21.29.4 INFORMATION_SCHEMA INNODB_TRX テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-locks-table">21.29.5 INFORMATION_SCHEMA INNODB_LOCKS テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-lock-waits-table">21.29.6 INFORMATION_SCHEMA INNODB_LOCK_WAITS テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-sys-tables-table">21.29.7 INFORMATION_SCHEMA INNODB_SYS_TABLES テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-sys-indexes-table">21.29.8 INFORMATION_SCHEMA INNODB_SYS_INDEXES テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-sys-columns-table">21.29.9 INFORMATION_SCHEMA INNODB_SYS_COLUMNS テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-sys-fields-table">21.29.10 INFORMATION_SCHEMA INNODB_SYS_FIELDS テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-sys-foreign-table">21.29.11 INFORMATION_SCHEMA INNODB_SYS_FOREIGN テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-sys-foreign-cols-table">21.29.12 INFORMATION_SCHEMA INNODB_SYS_FOREIGN_COLS テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-sys-tablestats-table">21.29.13 INFORMATION_SCHEMA INNODB_SYS_TABLESTATS ビュー</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-sys-datafiles-table">21.29.14 INFORMATION_SCHEMA INNODB_SYS_DATAFILES テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-sys-tablespaces-table">21.29.15 INFORMATION_SCHEMA INNODB_SYS_TABLESPACES テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-buffer-page-table">21.29.16 INFORMATION_SCHEMA INNODB_BUFFER_PAGE テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-buffer-page-lru-table">21.29.17 INFORMATION_SCHEMA INNODB_BUFFER_PAGE_LRU テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-buffer-pool-stats-table">21.29.18 INFORMATION_SCHEMA INNODB_BUFFER_POOL_STATS テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-metrics-table">21.29.19 INFORMATION_SCHEMA INNODB_METRICS テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-ft-config-table">21.29.20 INFORMATION_SCHEMA INNODB_FT_CONFIG テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-ft-default-stopword-table">21.29.21 INFORMATION_SCHEMA INNODB_FT_DEFAULT_STOPWORD テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-ft-index-table-table">21.29.22 INFORMATION_SCHEMA INNODB_FT_INDEX_TABLE テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-ft-index-cache-table">21.29.23 INFORMATION_SCHEMA INNODB_FT_INDEX_CACHE テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-ft-deleted-table">21.29.24 INFORMATION_SCHEMA INNODB_FT_DELETED テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#innodb-ft-being-deleted-table">21.29.25 INFORMATION_SCHEMA INNODB_FT_BEING_DELETED テーブル</a></span></dt></dl></div><a class="indexterm" name="idm139979010803728"></a><a class="indexterm" name="idm139979010801728"></a><p>
    このセクションでは、<code class="literal">InnoDB</code> <code class="literal">INFORMATION_SCHEMA</code> テーブルのテーブル定義について説明します。関連する情報と例については、<a class="xref" href="innodb-storage-engine.html#innodb-information-schema" title="14.14 InnoDB INFORMATION_SCHEMA テーブル">セクション14.14「InnoDB INFORMATION_SCHEMA テーブル」</a>を参照してください。
  </p><p>
    <code class="literal">InnoDB</code> <code class="literal">INFORMATION_SCHEMA</code> テーブルは、進行中の <code class="literal">InnoDB</code> アクティビティーのモニタリング、問題になる前の非効率性の検出、またはパフォーマンスおよび容量の問題のトラブルシューティングに使用できます。データベースが増大しさらにビジーになり、ハードウェアの容量の限度に達したときに、データベースがスムーズに実行し続けられるようにこれらの点をモニターし調整します。
  </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="innodb-cmp-table"></a>21.29.1 INFORMATION_SCHEMA INNODB_CMP および INNODB_CMP_RESET テーブル</h3></div></div></div><a class="indexterm" name="idm139979010792432"></a><a class="indexterm" name="idm139979010790960"></a><p>
      <code class="literal">INNODB_CMP</code> および <code class="literal">INNODB_CMP_RESET</code> テーブルには、<a class="link" href="glossary.html#glos_compression" title="圧縮">圧縮</a> <code class="literal">InnoDB</code> テーブルに関連した操作に関するステータス情報が含まれます。
    </p><div class="table"><a name="innodb-information-schema-innodb_cmp_columns_table"></a><p class="title"><b>表 21.1 INNODB_CMP および INNODB_CMP_RESET のカラム</b></p><div class="table-contents"><table summary="INNODB_CMP および INNODB_CMP_RESET のカラム" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">PAGE_SIZE</code></td><td>圧縮ページのサイズ (バイト単位)。</td></tr><tr><td scope="row"><code class="literal">COMPRESS_OPS</code></td><td>サイズ <code class="literal">PAGE_SIZE</code> の B ツリーページが圧縮された回数。空のページが作成されたり、非圧縮変更ログ用の領域が不足したりするたびに、ページが圧縮されます。</td></tr><tr><td scope="row"><code class="literal">COMPRESS_OPS_OK</code></td><td>サイズ <code class="literal">PAGE_SIZE</code> の B ツリーページの圧縮が成功した回数。このカウントが <code class="literal">COMPRESS_OPS</code> を超えることは決してありません。</td></tr><tr><td scope="row"><code class="literal">COMPRESS_TIME</code></td><td>サイズ <code class="literal">PAGE_SIZE</code> の B ツリーページの圧縮への試行で費やされた合計時間 (秒単位)。</td></tr><tr><td scope="row"><code class="literal">UNCOMPRESS_OPS</code></td><td>サイズ <code class="literal">PAGE_SIZE</code> の B ツリーページが圧縮解除された回数。圧縮が失敗したときや、圧縮解除されたページがバッファープールに存在しない場合に最初にアクセスするときに、B ツリーページは圧縮解除されます。</td></tr><tr><td scope="row"><code class="literal">UNCOMPRESS_TIME</code></td><td>サイズ <code class="literal">PAGE_SIZE</code> の B ツリーページの圧縮解除に費やされた合計時間 (秒単位)。</td></tr></tbody></table></div></div><br class="table-break"><p>
      <span class="bold"><strong>例</strong></span>:
    </p><pre class="programlisting">mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_CMP \G
*************************** 1. row ***************************
      page_size: 1024
   compress_ops: 0
compress_ops_ok: 0
  compress_time: 0
 uncompress_ops: 0
uncompress_time: 0
*************************** 2. row ***************************
      page_size: 2048
   compress_ops: 0
compress_ops_ok: 0
  compress_time: 0
 uncompress_ops: 0
uncompress_time: 0
*************************** 3. row ***************************
      page_size: 4096
   compress_ops: 0
compress_ops_ok: 0
  compress_time: 0
 uncompress_ops: 0
uncompress_time: 0
*************************** 4. row ***************************
      page_size: 8192
   compress_ops: 86955
compress_ops_ok: 81182
  compress_time: 27
 uncompress_ops: 26828
uncompress_time: 5
*************************** 5. row ***************************
      page_size: 16384
   compress_ops: 0
compress_ops_ok: 0
  compress_time: 0
 uncompress_ops: 0
uncompress_time: 0
5 rows in set (0.00 sec)</pre><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          これらのテーブルを使用して、データベース内の <code class="literal">InnoDB</code> テーブルの<a class="link" href="glossary.html#glos_compression" title="圧縮">圧縮</a>の有効性を測定します。
        </p></li><li class="listitem"><p>
          <code class="literal">DESCRIBE</code> または <code class="literal">SHOW COLUMNS</code> を使用すると、データ型とデフォルト値を含む、これらのテーブルのカラムに関する追加情報を表示できます。
        </p></li><li class="listitem"><p>
          このテーブルをクエリーするには <code class="literal">PROCESS</code> 権限が必要です。
        </p></li><li class="listitem"><p>
          使用法については、<a class="xref" href="innodb-storage-engine.html#innodb-compression-tuning-monitoring" title="14.7.4 実行時の圧縮のモニタリング">セクション14.7.4「実行時の圧縮のモニタリング」</a>および<a class="xref" href="innodb-storage-engine.html#innodb-information-schema-examples-compression-sect" title="14.14.1.3 圧縮情報スキーマテーブルの使用">セクション14.14.1.3「圧縮情報スキーマテーブルの使用」</a>を参照してください。<code class="literal">InnoDB</code> テーブルの圧縮に関する一般情報については、<a class="xref" href="innodb-storage-engine.html#innodb-compression" title="14.7 InnoDB 圧縮テーブル">セクション14.7「InnoDB 圧縮テーブル」</a>を参照してください。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="innodb-cmp-per-index-table"></a>21.29.2 INFORMATION_SCHEMA INNODB_CMP_PER_INDEX および INNODB_CMP_PER_INDEX_RESET テーブル</h3></div></div></div><a class="indexterm" name="idm139979010747088"></a><a class="indexterm" name="idm139979010745648"></a><p>
      <code class="literal">INNODB_CMP_PER_INDEX</code> および <code class="literal">INNODB_CMP_PER_INDEX_RESET</code> テーブルには、<a class="link" href="glossary.html#glos_compression" title="圧縮">圧縮</a> <code class="literal">InnoDB</code> テーブルおよびインデックスに関連した操作に関するステータス情報と、データベース、テーブル、およびインデックスの組み合わせごとの統計が含まれており、特定のテーブルの圧縮のパフォーマンスと有用性を評価する場合に役立ちます。
    </p><p>
      圧縮 <code class="literal">InnoDB</code> テーブルについては、テーブルデータとすべての<a class="link" href="glossary.html#glos_secondary_index" title="セカンダリインデックス">セカンダリインデックス</a>の両方が圧縮されます。このコンテキストでは、テーブルデータは、単なる別のインデックス、たまたますべてのカラムが含まれているインデックス (<a class="link" href="glossary.html#glos_clustered_index" title="クラスタ化されたインデックス">クラスタ化されたインデックス</a>) として扱われます。
    </p><div class="table"><a name="innodb-information-schema-innodb_cmp_per_index_columns_table"></a><p class="title"><b>表 21.2 INNODB_CMP_PER_INDEX および INNODB_CMP_PER_INDEX_RESET のカラム</b></p><div class="table-contents"><table summary="INNODB_CMP_PER_INDEX および INNODB_CMP_PER_INDEX_RESET のカラム" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">DATABASE_NAME</code></td><td>適用可能なテーブルを含むデータベース。</td></tr><tr><td scope="row"><code class="literal">TABLE_NAME</code></td><td>圧縮統計についてモニターするテーブル。</td></tr><tr><td scope="row"><code class="literal">INDEX_NAME</code></td><td>圧縮統計についてモニターするインデックス。</td></tr><tr><td scope="row"><code class="literal">COMPRESS_OPS</code></td><td>圧縮操作の試行回数。空のページが作成されたり、非圧縮変更ログ用の領域が不足したりするたびに、<a class="link" href="glossary.html#glos_page" title="ページ">ページ</a>が圧縮されます。</td></tr><tr><td scope="row"><code class="literal">COMPRESS_OPS_OK</code></td><td>成功した圧縮操作の数。<code class="literal">COMPRESS_OPS</code> 値から引き算すると、<a class="link" href="glossary.html#glos_compression_failure" title="圧縮失敗">圧縮の失敗</a>の回数が求められます。<code class="literal">COMPRESS_OPS</code> 値で割り算すると、圧縮の失敗の割合が求められます。</td></tr><tr><td scope="row"><code class="literal">COMPRESS_TIME</code></td><td>このインデックスのデータの圧縮に使用された CPU 使用時間の合計 (秒単位)。</td></tr><tr><td scope="row"><code class="literal">UNCOMPRESS_OPS</code></td><td>実行された圧縮解除操作の回数。圧縮 <code class="literal">InnoDB</code> ページは、圧縮が<a class="link" href="glossary.html#glos_compression_failure" title="圧縮失敗">失敗</a>した場合はいつでも圧縮解除されます。または、<a class="link" href="glossary.html#glos_buffer_pool" title="バッファープール">バッファープール</a>においてはじめて圧縮ページへのアクセスがあり、圧縮解除されたページが存在しないときに圧縮解除されます。</td></tr><tr><td scope="row"><code class="literal">UNCOMPRESS_TIME</code></td><td>このインデックスのデータの圧縮解除に使用された CPU 使用時間の合計 (秒単位)。</td></tr></tbody></table></div></div><br class="table-break"><p>
      <span class="bold"><strong>例</strong></span>:
    </p><pre class="programlisting">mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_CMP_PER_INDEX \G
*************************** 1. row ***************************
  database_name: employees
     table_name: salaries
     index_name: PRIMARY
   compress_ops: 0
compress_ops_ok: 0
  compress_time: 0
 uncompress_ops: 23451
uncompress_time: 4
*************************** 2. row ***************************
  database_name: employees
     table_name: salaries
     index_name: emp_no
   compress_ops: 0
compress_ops_ok: 0
  compress_time: 0
 uncompress_ops: 1597
uncompress_time: 0
2 rows in set (0.00 sec)
</pre><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          これらのテーブルを使用して、特定のテーブルまたはインデックス、あるいはその両方について <code class="literal">InnoDB</code> テーブル<a class="link" href="glossary.html#glos_compression" title="圧縮">圧縮</a>の有効性を測定します。
        </p></li><li class="listitem"><p>
          <code class="literal">DESCRIBE</code> または <code class="literal">SHOW COLUMNS</code> を使用すると、データ型とデフォルト値を含む、これらのテーブルのカラムに関する追加情報を表示できます。
        </p></li><li class="listitem"><p>
          これらのテーブルをクエリーするには <code class="literal">PROCESS</code> 権限が必要です。
        </p></li><li class="listitem"><p>
          すべてのインデックスで個別に測定値を収集すると、大幅なパフォーマンスオーバーヘッドが発生するので、デフォルトでは <code class="literal">INNODB_CMP_PER_INDEX</code> および <code class="literal">INNODB_CMP_PER_INDEX_RESET</code> 統計は収集されません。モニターする圧縮テーブルで操作を実行する前に、<code class="literal">innodb_cmp_per_index_enabled</code> 構成オプションを有効にする必要があります。
        </p></li><li class="listitem"><p>
          使用法については、<a class="xref" href="innodb-storage-engine.html#innodb-compression-tuning-monitoring" title="14.7.4 実行時の圧縮のモニタリング">セクション14.7.4「実行時の圧縮のモニタリング」</a>および<a class="xref" href="innodb-storage-engine.html#innodb-information-schema-examples-compression-sect" title="14.14.1.3 圧縮情報スキーマテーブルの使用">セクション14.14.1.3「圧縮情報スキーマテーブルの使用」</a>を参照してください。<code class="literal">InnoDB</code> テーブルの圧縮に関する一般情報については、<a class="xref" href="innodb-storage-engine.html#innodb-compression" title="14.7 InnoDB 圧縮テーブル">セクション14.7「InnoDB 圧縮テーブル」</a>を参照してください。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="innodb-cmpmem-table"></a>21.29.3 INFORMATION_SCHEMA INNODB_CMPMEM および INNODB_CMPMEM_RESET テーブル</h3></div></div></div><a class="indexterm" name="idm139979010691152"></a><a class="indexterm" name="idm139979010689680"></a><p>
      <code class="literal">INNODB_CMPMEM</code> および <code class="literal">INNODB_CMPMEM_RESET</code> テーブルには、<code class="literal">InnoDB</code> <a class="link" href="glossary.html#glos_buffer_pool" title="バッファープール">バッファープール</a>内の圧縮<a class="link" href="glossary.html#glos_page" title="ページ">ページ</a>に関するステータス情報が含まれます。
    </p><div class="table"><a name="innodb-information-schema-innodb_cmpmem_columns_table"></a><p class="title"><b>表 21.3 INNODB_CMPMEM および INNODB_CMPMEM_RESET のカラム</b></p><div class="table-contents"><table summary="INNODB_CMPMEM および INNODB_CMPMEM_RESET のカラム" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">PAGE_SIZE</code></td><td>ブロックサイズ (バイト単位)。このテーブルの各レコードは、このサイズのブロックを記述します。</td></tr><tr><td scope="row"><code class="literal">BUFFER_POOL_INSTANCE</code></td><td>バッファープールインスタンスの一意の識別子。</td></tr><tr><td scope="row"><code class="literal">PAGES_USED</code></td><td>現在使用されているサイズ <code class="literal">PAGE_SIZE</code> のブロックの数。</td></tr><tr><td scope="row"><code class="literal">PAGES_FREE</code></td><td>現在割り当てに使用できるサイズ <code class="literal">PAGE_SIZE</code> のブロックの数。このカラムは、メモリープールの外部断片化を示します。これらの数値は最大 1 にしてください。</td></tr><tr><td scope="row"><code class="literal">RELOCATION_OPS</code></td><td>サイズ <code class="literal">PAGE_SIZE</code> のブロックが再配置された回数。バディーシステムは、より大きな解放されたブロックを生成しようとするときに、解放されたブロックの割り当て済みの<span class="quote">「<span class="quote">バディー</span>」</span>を再配置できます。テーブル <code class="literal">INNODB_CMPMEM_RESET</code> から読み取ると、このカウントはリセットされます。</td></tr><tr><td scope="row"><code class="literal">RELOCATION_TIME</code></td><td>サイズ <code class="literal">PAGE_SIZE</code> のブロックの再配置に費やされた合計時間 (マイクロ秒)。テーブル <code class="literal">INNODB_CMPMEM_RESET</code> から読み取ると、このカウントはリセットされます。</td></tr></tbody></table></div></div><br class="table-break"><p>
      <span class="bold"><strong>例</strong></span>:
    </p><pre class="programlisting">mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_CMPMEM \G
*************************** 1. row ***************************
           page_size: 1024
buffer_pool_instance: 0
          pages_used: 0
          pages_free: 0
      relocation_ops: 0
     relocation_time: 0
*************************** 2. row ***************************
           page_size: 2048
buffer_pool_instance: 0
          pages_used: 0
          pages_free: 0
      relocation_ops: 0
     relocation_time: 0
*************************** 3. row ***************************
           page_size: 4096
buffer_pool_instance: 0
          pages_used: 0
          pages_free: 0
      relocation_ops: 0
     relocation_time: 0
*************************** 4. row ***************************
           page_size: 8192
buffer_pool_instance: 0
          pages_used: 7673
          pages_free: 15
      relocation_ops: 4638
     relocation_time: 0
*************************** 5. row ***************************
           page_size: 16384
buffer_pool_instance: 0
          pages_used: 0
          pages_free: 0
      relocation_ops: 0
     relocation_time: 0
5 rows in set (0.00 sec)
</pre><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          これらのテーブルを使用して、データベース内の <code class="literal">InnoDB</code> テーブルの<a class="link" href="glossary.html#glos_compression" title="圧縮">圧縮</a>の有効性を測定します。
        </p></li><li class="listitem"><p>
          <code class="literal">DESCRIBE</code> または <code class="literal">SHOW COLUMNS</code> を使用すると、データ型とデフォルト値を含む、これらのテーブルのカラムに関する追加情報を表示できます。
        </p></li><li class="listitem"><p>
          このテーブルをクエリーするには <code class="literal">PROCESS</code> 権限が必要です。
        </p></li><li class="listitem"><p>
          使用法については、<a class="xref" href="innodb-storage-engine.html#innodb-compression-tuning-monitoring" title="14.7.4 実行時の圧縮のモニタリング">セクション14.7.4「実行時の圧縮のモニタリング」</a>および<a class="xref" href="innodb-storage-engine.html#innodb-information-schema-examples-compression-sect" title="14.14.1.3 圧縮情報スキーマテーブルの使用">セクション14.14.1.3「圧縮情報スキーマテーブルの使用」</a>を参照してください。<code class="literal">InnoDB</code> テーブルの圧縮に関する一般情報については、<a class="xref" href="innodb-storage-engine.html#innodb-compression" title="14.7 InnoDB 圧縮テーブル">セクション14.7「InnoDB 圧縮テーブル」</a>を参照してください。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="innodb-trx-table"></a>21.29.4 INFORMATION_SCHEMA INNODB_TRX テーブル</h3></div></div></div><a class="indexterm" name="idm139979010644688"></a><p>
      <code class="literal">INNODB_TRX</code> テーブルには、トランザクションがロックを待機しているかどうか、トランザクションが開始した時点、トランザクションが実行している SQL ステートメント (存在する場合) など、<code class="literal">InnoDB</code> 内部で現在実行している (読み取り専用トランザクションを除く) すべてのトランザクションに関する情報が含まれます。
    </p><div class="table"><a name="innodb-information-schema-innodb_trx_columns_table"></a><p class="title"><b>表 21.4 INNODB_TRX のカラム</b></p><div class="table-contents"><table summary="INNODB_TRX のカラム" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">TRX_ID</code></td><td><code class="literal">InnoDB</code> 内部の一意のトランザクション ID 番号。(MySQL 5.6 以降、これらの ID は、読み取り専用で非ロックのトランザクションでは作成されません。詳細は、<a class="xref" href="innodb-storage-engine.html#innodb-performance-ro-txn" title="14.13.14 InnoDB の読み取り専用トランザクションの最適化">セクション14.13.14「InnoDB の読み取り専用トランザクションの最適化」</a>を参照してください。)</td></tr><tr><td scope="row"><code class="literal">TRX_WEIGHT</code></td><td>トランザクションの重み。これは、トランザクションが変更した行の数とロックした行の数を反映したものです (ただし必ずしも正確な数ではありません)。デッドロックを解決するために、<code class="literal">InnoDB</code> は、ロールバックする<span class="quote">「<span class="quote">対象</span>」</span>として重みがもっとも小さなトランザクションを選択します。非トランザクションテーブルを変更したトランザクションは、変更された行およびロックされた行の数に関係なく、ほかのトランザクションより重みが高いと見なされます。</td></tr><tr><td scope="row"><code class="literal">TRX_STATE</code></td><td>トランザクション実行の状態。<code class="literal">RUNNING</code>、<code class="literal">LOCK WAIT</code>、<code class="literal">ROLLING BACK</code>、または <code class="literal">COMMITTING</code> のいずれかです。</td></tr><tr><td scope="row"><code class="literal">TRX_STARTED</code></td><td>トランザクションの開始時間。</td></tr><tr><td scope="row"><code class="literal">TRX_REQUESTED_LOCK_ID</code></td><td>トランザクションが現在待機しているロック ID (<code class="literal">TRX_STATE</code> が <code class="literal">LOCK WAIT</code> である場合。それ以外は <code class="literal">NULL</code>)。ロックに関する詳細は、<code class="literal">LOCK_ID</code> で <code class="literal">INNODB_LOCKS</code> と結合することによって参照できます。</td></tr><tr><td scope="row"><code class="literal">TRX_WAIT_STARTED</code></td><td>トランザクションがロックを待機し始めた時間 (<code class="literal">TRX_STATE</code> が <code class="literal">LOCK WAIT</code>の場合。それ以外は <code class="literal">NULL</code>)。</td></tr><tr><td scope="row"><code class="literal">TRX_MYSQL_THREAD_ID</code></td><td>MySQL スレッド ID。<code class="literal">ID</code> で <code class="literal">PROCESSLIST</code> と結合する場合に使用できます。<a class="xref" href="innodb-storage-engine.html#innodb-information-schema-note_inconsistency" title="14.14.2.3.1 PROCESSLIST データとの不整合の可能性">セクション14.14.2.3.1「PROCESSLIST データとの不整合の可能性」</a>を参照してください。</td></tr><tr><td scope="row"><code class="literal">TRX_QUERY</code></td><td>トランザクションにより実行されている SQL クエリー。</td></tr><tr><td scope="row"><code class="literal">TRX_OPERATION_STATE</code></td><td>トランザクションの現在の操作、または <code class="literal">NULL</code>。</td></tr><tr><td scope="row"><code class="literal">TRX_TABLES_IN_USE</code></td><td>このトランザクションの現在の SQL ステートメントを処理しているときに使用される <code class="literal">InnoDB</code> テーブルの数。</td></tr><tr><td scope="row"><code class="literal">TRX_TABLES_LOCKED</code></td><td>現在の SQL ステートメントが行ロックを持っている、InnoDB テーブルの数。(これらはテーブルロックではなく行ロックなので、一部の行がロックされているかどうかにかかわらず、通常、複数のトランザクションによるテーブルからの読み取りおよびテーブルへの書き込みを実行できます。)</td></tr><tr><td scope="row"><code class="literal">TRX_LOCK_STRUCTS</code></td><td>トランザクションで予約されたロックの数。</td></tr><tr><td scope="row"><code class="literal">TRX_LOCK_MEMORY_BYTES</code></td><td>このトランザクションのロック構造によってメモリー内で使用された合計サイズ。</td></tr><tr><td scope="row"><code class="literal">TRX_ROWS_LOCKED</code></td><td>このトランザクションによってロックされた行の概数。この値には、物理的には存在するがトランザクションから認識できない削除マークが付けられた行が含まれる場合があります。</td></tr><tr><td scope="row"><code class="literal">TRX_ROWS_MODIFIED</code></td><td>このトランザクションで変更および挿入された行の数。</td></tr><tr><td scope="row"><code class="literal">TRX_CONCURRENCY_TICKETS</code></td><td><code class="literal">innodb_concurrency_tickets</code> オプションによる指定に従い、スワップアウトされる前に現在のトランザクションで行える作業量を示す値。</td></tr><tr><td scope="row"><code class="literal">TRX_ISOLATION_LEVEL</code></td><td>現在のトランザクションの分離レベル。</td></tr><tr><td scope="row"><code class="literal">TRX_UNIQUE_CHECKS</code></td><td>現在のトランザクションで一意チェックがオンになっているか、オフになっているか。(たとえば一括データロード中にオフになっている場合があります。)</td></tr><tr><td scope="row"><code class="literal">TRX_FOREIGN_KEY_CHECKS</code></td><td>現在のトランザクションで外部キーチェックがオンになっているか、オフになっているか。(たとえば一括データロード中にオフになっている場合があります。)</td></tr><tr><td scope="row"><code class="literal">TRX_LAST_FOREIGN_KEY_ERROR</code></td><td>最後の FK エラーの詳細なエラーメッセージか、<code class="literal">NULL</code>。</td></tr><tr><td scope="row"><code class="literal">TRX_ADAPTIVE_HASH_LATCHED</code></td><td>アダプティブハッシュインデックスが現在のトランザクションによってロックされているかどうか。(一度に 1 つのトランザクションだけがアダプティブハッシュインデックスを変更できます。)</td></tr><tr><td scope="row"><code class="literal">TRX_ADAPTIVE_HASH_TIMEOUT</code></td><td>アダプティブハッシュインデックスの検索ラッチをすぐに破棄するか、MySQL からの呼び出し全体で保持するか。AHI 競合がない場合、この値はゼロのままで、ステートメントは終了するまでラッチを保持します。競合の間、ゼロまでカウントダウンし、ステートメントは各行ルックアップの直後にラッチを解放します。</td></tr><tr><td scope="row"><code class="literal">TRX_IS_READ_ONLY</code></td><td><p>
                1 の値は、トランザクションが読み取り専用であることを示します (5.6.4 以降。)
              </p></td></tr><tr><td scope="row"><code class="literal">TRX_AUTOCOMMIT_NON_LOCKING</code></td><td><p>
                1 の値は、トランザクションが、<code class="literal">FOR UPDATE</code> 句または <code class="literal">LOCK IN SHARED MODE</code> 句を使用していない <code class="literal">SELECT</code> ステートメントであり、この 1 つのステートメントだけがトランザクションに含まれるように <code class="literal">autocommit</code> 設定をオンにして実行していることを示します (5.6.4 以降)。このカラムと <code class="literal">TRX_IS_READ_ONLY</code> がどちらも 1 である場合、<code class="literal">InnoDB</code> は、テーブルデータを変更するトランザクションと関連付けられたオーバーヘッドを軽減するように、トランザクションを最適化します。
              </p></td></tr></tbody></table></div></div><br class="table-break"><p>
      <span class="bold"><strong>例</strong></span>:
    </p><pre class="programlisting">mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_TRX \G
*************************** 1. row ***************************
                    trx_id: 3298
                 trx_state: RUNNING
               trx_started: 2014-11-19 13:54:39
     trx_requested_lock_id: NULL
          trx_wait_started: NULL
                trx_weight: 316436
       trx_mysql_thread_id: 2
                 trx_query: DELETE FROM employees.salaries WHERE salary &gt; 65000
       trx_operation_state: updating or deleting
         trx_tables_in_use: 1
         trx_tables_locked: 1
          trx_lock_structs: 1621
     trx_lock_memory_bytes: 243240
           trx_rows_locked: 759343
         trx_rows_modified: 314815
   trx_concurrency_tickets: 0
       trx_isolation_level: REPEATABLE READ
         trx_unique_checks: 1
    trx_foreign_key_checks: 1
trx_last_foreign_key_error: NULL
 trx_adaptive_hash_latched: 0
 trx_adaptive_hash_timeout: 10000
          trx_is_read_only: 0
trx_autocommit_non_locking: 0
</pre><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          このテーブルを使用すると、負荷の大きな同時ロードの時間中に生じるパフォーマンスの問題の診断に役立ちます。その内容は、<a class="xref" href="innodb-storage-engine.html#innodb-information-schema-rapidly_changing_internal_data" title="14.14.2.3 InnoDB トランザクションおよびロックテーブルのデータ永続性および一貫性">セクション14.14.2.3「InnoDB トランザクションおよびロックテーブルのデータ永続性および一貫性」</a>で説明しているように更新されます。
        </p></li><li class="listitem"><p>
          <code class="literal">DESCRIBE</code> または <code class="literal">SHOW COLUMNS</code> を使用して、データ型とデフォルト値を含む、このテーブルのカラムに関する追加情報を表示します。
        </p></li><li class="listitem"><p>
          このテーブルをクエリーするには <code class="literal">PROCESS</code> 権限が必要です。
        </p></li><li class="listitem"><p>
          使用法については、<a class="xref" href="innodb-storage-engine.html#innodb-information-schema-examples" title="14.14.2.1 InnoDB トランザクションおよびロックテーブルの使用例">セクション14.14.2.1「InnoDB トランザクションおよびロックテーブルの使用例」</a>を参照してください。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="innodb-locks-table"></a>21.29.5 INFORMATION_SCHEMA INNODB_LOCKS テーブル</h3></div></div></div><a class="indexterm" name="idm139979010553552"></a><p>
      <code class="literal">INNODB_LOCKS</code> テーブルには、<code class="literal">InnoDB</code> トランザクションが要求したがまだ取得されていない各ロックに関する情報と、別のトランザクションをブロックしているトランザクションが保持している各ロックに関する情報が含まれます。
    </p><div class="table"><a name="innodb-information-schema-innodb_locks_columns_table"></a><p class="title"><b>表 21.5 INNODB_LOCKS のカラム</b></p><div class="table-contents"><table summary="INNODB_LOCKS のカラム" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">LOCK_ID</code></td><td><code class="literal">InnoDB</code> 内部の一意のロック ID 番号。これは不明瞭な文字列として扱ってください。<code class="literal">LOCK_ID</code> には現在、<code class="literal">TRX_ID</code> が含まれますが、<code class="literal">LOCK_ID</code> 内のデータの形式は今後のリリースでも同じである保証はありません。<code class="literal">LOCK_ID</code> 値を解析するプログラムを作成しないでください。</td></tr><tr><td scope="row"><code class="literal">LOCK_TRX_ID</code></td><td>このロックを保持するトランザクションの ID。トランザクションに関する詳細は、<code class="literal">TRX_ID</code> で <code class="literal">INNODB_TRX</code> と結合すると参照できます。</td></tr><tr><td scope="row"><code class="literal">LOCK_MODE</code></td><td>ロックのモード。<code class="literal">S</code>、<code class="literal">X</code>、<code class="literal">IS</code>、<code class="literal">IX</code>、<code class="literal">S_GAP</code>、<code class="literal">X_GAP</code>、<code class="literal">IS_GAP</code>、<code class="literal">IX_GAP</code>、または <code class="literal">AUTO_INC</code> のいずれかになり、それぞれ共有、排他的、インテンション共有、インテンション排他的行ロック、共有および排他的ギャップロック、インテンション共有およびインテンション排他的ギャップロック、および自動インクリメントテーブルレベルロックを表します。<code class="literal">InnoDB</code> ロックに関する情報については、<a class="xref" href="innodb-storage-engine.html#innodb-lock-modes" title="14.2.3 InnoDB のロックモード">セクション14.2.3「InnoDB のロックモード」</a>および<a class="xref" href="innodb-storage-engine.html#innodb-transaction-model" title="14.2.2 InnoDB のトランザクションモデルおよびロック">セクション14.2.2「InnoDB のトランザクションモデルおよびロック」</a>のセクションを参照してください。</td></tr><tr><td scope="row"><code class="literal">LOCK_TYPE</code></td><td>ロックのタイプ。<code class="literal">RECORD</code> または <code class="literal">TABLE</code> のいずれかで、それぞれレコード (行) レベル、テーブルレベルのロックを表します。</td></tr><tr><td scope="row"><code class="literal">LOCK_TABLE</code></td><td>ロックされているテーブルか、ロックされたレコードを含むテーブルの名前。</td></tr><tr><td scope="row"><code class="literal">LOCK_INDEX</code></td><td><code class="literal">LOCK_TYPE='RECORD'</code> の場合はインデックスの名前、それ以外の場合は <code class="literal">NULL</code>。</td></tr><tr><td scope="row"><code class="literal">LOCK_SPACE</code></td><td><code class="literal">LOCK_TYPE='RECORD'</code> の場合はロックされたレコードのテーブルスペース ID、それ以外の場合は <code class="literal">NULL</code>。</td></tr><tr><td scope="row"><code class="literal">LOCK_PAGE</code></td><td><code class="literal">LOCK_TYPE='RECORD'</code> の場合はロックされたレコードのページ番号、それ以外の場合は <code class="literal">NULL</code>。</td></tr><tr><td scope="row"><code class="literal">LOCK_REC</code></td><td><code class="literal">LOCK_TYPE='RECORD'</code> の場合はページ内のロックされたレコードのヒープ番号、それ以外の場合は <code class="literal">NULL</code>。</td></tr><tr><td scope="row"><code class="literal">LOCK_DATA</code></td><td><code class="literal">LOCK_TYPE='RECORD'</code> の場合はロックされたレコードの主キー値、それ以外の場合は <code class="literal">NULL</code>。このカラムには、ロックされた行の主キーカラムの値が含まれ、有効な SQL 文字列として書式設定されています (SQL コマンドにコピーできるようになっています)。主キーがない場合、<code class="literal">InnoDB</code> 内部の一意の行 ID 番号が使用されます。インデックスの最大値を超えるキー値または範囲に対してギャップロックが行われた場合、<code class="literal">LOCK_DATA</code> は<span class="quote">「<span class="quote">supremum pseudo-record</span>」</span>とレポートします。ロックされたレコードを含むページがバッファープール内に存在しない場合 (ロックが保持されていた間にディスクにページアウトされた場合)、<code class="literal">InnoDB</code> は、不要なディスク操作を回避するするために、ディスクからページをフェッチしません。代わりに、<code class="literal">LOCK_DATA</code> が <code class="literal">NULL</code> に設定されます。</td></tr></tbody></table></div></div><br class="table-break"><p>
      <span class="bold"><strong>例</strong></span>:
    </p><pre class="programlisting">mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_LOCKS \G
*************************** 1. row ***************************
    lock_id: 3723:72:3:2
lock_trx_id: 3723
  lock_mode: X
  lock_type: RECORD
 lock_table: `mysql`.`t`
 lock_index: PRIMARY
 lock_space: 72
  lock_page: 3
   lock_rec: 2
  lock_data: 1, 9
*************************** 2. row ***************************
    lock_id: 3722:72:3:2
lock_trx_id: 3722
  lock_mode: S
  lock_type: RECORD
 lock_table: `mysql`.`t`
 lock_index: PRIMARY
 lock_space: 72
  lock_page: 3
   lock_rec: 2
  lock_data: 1, 9
2 rows in set (0.01 sec)</pre><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          このテーブルを使用すると、負荷の大きな同時ロードの時間中に生じるパフォーマンスの問題の診断に役立ちます。その内容は、<a class="xref" href="innodb-storage-engine.html#innodb-information-schema-rapidly_changing_internal_data" title="14.14.2.3 InnoDB トランザクションおよびロックテーブルのデータ永続性および一貫性">セクション14.14.2.3「InnoDB トランザクションおよびロックテーブルのデータ永続性および一貫性」</a>で説明しているように更新されます。
        </p></li><li class="listitem"><p>
          <code class="literal">DESCRIBE</code> または <code class="literal">SHOW COLUMNS</code> を使用して、データ型とデフォルト値を含む、このテーブルのカラムに関する追加情報を表示します。
        </p></li><li class="listitem"><p>
          このテーブルをクエリーするには <code class="literal">PROCESS</code> 権限が必要です。
        </p></li><li class="listitem"><p>
          使用法については、<a class="xref" href="innodb-storage-engine.html#innodb-information-schema-examples" title="14.14.2.1 InnoDB トランザクションおよびロックテーブルの使用例">セクション14.14.2.1「InnoDB トランザクションおよびロックテーブルの使用例」</a>を参照してください。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="innodb-lock-waits-table"></a>21.29.6 INFORMATION_SCHEMA INNODB_LOCK_WAITS テーブル</h3></div></div></div><a class="indexterm" name="idm139979010485232"></a><p>
      <code class="literal">INNODB_LOCK_WAITS</code> テーブルには、ブロックされている <code class="literal">InnoDB</code> トランザクションごとに 1 つ以上の行が含まれ、トランザクションで要求したロックと、その要求をブロックしているすべてのロックを示します。
    </p><div class="table"><a name="innodb-information-schema-innodb_lock_waits_columns_table"></a><p class="title"><b>表 21.6 INNODB_LOCK_WAITS のカラム</b></p><div class="table-contents"><table summary="INNODB_LOCK_WAITS のカラム" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">REQUESTING_TRX_ID</code></td><td>要求しているトランザクションの ID。</td></tr><tr><td scope="row"><code class="literal">REQUESTED_LOCK_ID</code></td><td>トランザクションが待機しているロックの ID。ロックに関する詳細は、<code class="literal">LOCK_ID</code> で <code class="literal">INNODB_LOCKS</code> と結合することによって参照できます。</td></tr><tr><td scope="row"><code class="literal">BLOCKING_TRX_ID</code></td><td>ブロックしているトランザクションの ID。</td></tr><tr><td scope="row"><code class="literal">BLOCKING_LOCK_ID</code></td><td>別のトランザクションが処理できないようにブロックしているトランザクションが保持しているロックの ID。ロックに関する詳細は、<code class="literal">LOCK_ID</code> で <code class="literal">INNODB_LOCKS</code> と結合することによって参照できます。</td></tr></tbody></table></div></div><br class="table-break"><p>
      <span class="bold"><strong>例</strong></span>:
    </p><pre class="programlisting">mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_LOCK_WAITS \G
*************************** 1. row ***************************
requesting_trx_id: 3396
requested_lock_id: 3396:91:3:2
  blocking_trx_id: 3395
 blocking_lock_id: 3395:91:3:2
1 row in set (0.00 sec)</pre><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          このテーブルを使用すると、負荷の大きな同時ロードの時間中に生じるパフォーマンスの問題の診断に役立ちます。その内容は、<a class="xref" href="innodb-storage-engine.html#innodb-information-schema-rapidly_changing_internal_data" title="14.14.2.3 InnoDB トランザクションおよびロックテーブルのデータ永続性および一貫性">セクション14.14.2.3「InnoDB トランザクションおよびロックテーブルのデータ永続性および一貫性」</a>で説明しているように更新されます。
        </p></li><li class="listitem"><p>
          <code class="literal">DESCRIBE</code> または <code class="literal">SHOW COLUMNS</code> を使用して、データ型とデフォルト値を含む、このテーブルのカラムに関する追加情報を表示します。
        </p></li><li class="listitem"><p>
          このテーブルをクエリーするには <code class="literal">PROCESS</code> 権限が必要です。
        </p></li><li class="listitem"><p>
          使用法については、<a class="xref" href="innodb-storage-engine.html#innodb-information-schema-examples" title="14.14.2.1 InnoDB トランザクションおよびロックテーブルの使用例">セクション14.14.2.1「InnoDB トランザクションおよびロックテーブルの使用例」</a>を参照してください。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="innodb-sys-tables-table"></a>21.29.7 INFORMATION_SCHEMA INNODB_SYS_TABLES テーブル</h3></div></div></div><a class="indexterm" name="idm139979010452800"></a><p>
      <code class="literal">INNODB_SYS_TABLES</code> テーブルは、<code class="literal">InnoDB</code> データディクショナリ内の <code class="literal">SYS_TABLES</code> テーブルの情報と同等の、<code class="literal">InnoDB</code> テーブルに関するメタデータを提供します。
    </p><p>
      関連する使用法と使用例については、<a class="xref" href="innodb-storage-engine.html#innodb-information-schema-system-tables" title="14.14.3 InnoDB INFORMATION_SCHEMA システムテーブル">セクション14.14.3「InnoDB INFORMATION_SCHEMA システムテーブル」</a>を参照してください。
    </p><div class="table"><a name="innodb-information-schema-innodb_sys_tables_columns_table"></a><p class="title"><b>表 21.7 INNODB_SYS_TABLES のカラム</b></p><div class="table-contents"><table summary="INNODB_SYS_TABLES のカラム" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">TABLE_ID</code></td><td>インスタンスのすべてのデータベースで一意の各 <code class="literal">InnoDB</code> テーブルの識別子。</td></tr><tr><td scope="row"><code class="literal">NAME</code></td><td>テーブルの名前。<code class="literal">test/t1</code> のように、必要に応じてデータベース名が前に置かれます。<code class="literal">InnoDB</code> システムテーブル名はすべて大文字です。データベースおよびユーザーテーブルの名前の大文字/小文字は、もともと定義されていたものと同じで、<code class="literal">lower_case_table_names</code> 設定による影響を受ける可能性があります。</td></tr><tr><td scope="row"><code class="literal">FLAG</code></td><td>この値は、行フォーマット、圧縮ページサイズ (該当する場合)、<code class="literal">DATA DIRECTORY</code> 句の <code class="literal">CREATE TABLE</code> または <code class="literal">ALTER TABLE</code> での使用の有無などのテーブルフォーマットおよびストレージ特性に関するビットレベル情報を提供します。</td></tr><tr><td scope="row"><code class="literal">N_COLS</code></td><td>テーブル内のカラムの数。レポートされる数値には、<code class="literal">InnoDB</code> によって作成される 3 つの非表示カラム (<code class="literal">DB_ROW_ID</code>、<code class="literal">DB_TRX_ID</code>、<code class="literal">DB_ROLL_PTR</code>) が含まれます。</td></tr><tr><td scope="row"><code class="literal">SPACE</code></td><td>テーブルが存在するテーブルスペースの識別子。0 は <code class="literal">InnoDB</code> <a class="link" href="glossary.html#glos_system_tablespace" title="システムテーブルスペース">システムテーブルスペース</a>を示します。ほかの数値はすべて、個別の <code class="literal">.ibd</code> ファイルを使用して <a class="link" href="glossary.html#glos_file_per_table" title="file-per-table">file-per-table</a> モードで作成されたテーブルを表します。この識別子は、<code class="literal">TRUNCATE TABLE</code> ステートメントのあとでも同じままです。ゼロ以外の値では、この識別子は、このインスタンス内のすべてのデータベース間のテーブルで一意です。</td></tr><tr><td scope="row"><code class="literal">FILE_FORMAT</code></td><td>テーブルのファイル形式 (Antelope または Barracuda)。</td></tr><tr><td scope="row"><code class="literal">ROW_FORMAT</code></td><td>テーブルの行フォーマット (Compact、Redundant、Dynamic、または Compressed)。</td></tr><tr><td scope="row"><code class="literal">ZIP_PAGE_SIZE</code></td><td>Zip ページサイズ。Compressed 行フォーマットを使用するテーブルにのみ適用されます。</td></tr></tbody></table></div></div><br class="table-break"><p>
      <span class="bold"><strong>例</strong></span>:
    </p><pre class="programlisting">mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_SYS_TABLES WHERE TABLE_ID = 74 \G
*************************** 1. row ***************************
     TABLE_ID: 74
         NAME: test/t1
         FLAG: 1
       N_COLS: 6
        SPACE: 60
  FILE_FORMAT: Antelope
   ROW_FORMAT: Compact
ZIP_PAGE_SIZE: 0
1 row in set (0.00 sec)</pre><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">DESCRIBE</code> または <code class="literal">SHOW COLUMNS</code> を使用して、データ型とデフォルト値を含む、このテーブルのカラムに関する追加情報を表示します。
        </p></li><li class="listitem"><p>
          このテーブルをクエリーするには <code class="literal">PROCESS</code> 権限が必要です。
        </p></li></ul></div><p>
      <span class="bold"><strong>INNODB_SYS_TABLES.FLAG カラム値の解釈</strong></span>
    </p><p>
      <code class="literal">INNODB_SYS_TABLES.FLAG</code> カラムは、テーブルのフォーマットおよびストレージ特性に関するビットレベル情報を提供します。次の表に示された該当する 10 進数値を一緒に付加すると、<code class="literal">FLAG</code> カラム値を解釈できます。
    </p><div class="table"><a name="innodb-information-schema-innodb_sys_tables_columns_table-flag-data"></a><p class="title"><b>表 21.8 INNODB_SYS_TABLES FLAG カラムデータを解釈するためのビット位置値</b></p><div class="table-contents"><table summary="INNODB_SYS_TABLES FLAG カラムデータを解釈するためのビット位置値" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">ビット位置</th><th scope="col">説明</th><th scope="col">10 進数値</th></tr></thead><tbody><tr><td scope="row">0</td><td>行フォーマットが <code class="literal">REDUNDANT</code> でない場合、このビットが設定されます。つまり、行フォーマットが <code class="literal">COMPACT</code>、<code class="literal">DYNAMIC</code>、または <code class="literal">COMPRESSED</code> の場合に設定されます。</td><td><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    0 - <code class="literal">REDUNDANT</code>
                  </p></li><li class="listitem"><p>
                    1 - <code class="literal">COMPACT</code>、<code class="literal">DYNAMIC</code>、または <code class="literal">COMPRESSED</code>
                  </p></li></ul></div></td></tr><tr><td scope="row">1-4</td><td>これらの 4 つのビットには、テーブルの圧縮されたページサイズを表す小さな数値が含まれます。<code class="literal">INNODB_SYS_TABLES.ZIP_PAGE_SIZE</code> フィールドにも、該当する場合、圧縮されたページサイズがレポートされます。</td><td><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    0 - 圧縮なし
                  </p></li><li class="listitem"><p>
                    2 - 1024 バイトの圧縮ページサイズ
                  </p></li><li class="listitem"><p>
                    4 - 2048 バイトの圧縮ページサイズ
                  </p></li><li class="listitem"><p>
                    6 - 4096 バイトの圧縮ページサイズ
                  </p></li><li class="listitem"><p>
                    8 - 8192 バイトの圧縮ページサイズ
                  </p></li><li class="listitem"><p>
                    10 - 16384 バイトの圧縮ページサイズ
                  </p></li></ul></div></td></tr><tr><td scope="row">5</td><td>行フォーマットが <code class="literal">DYNAMIC</code> または <code class="literal">COMPRESSED</code> の場合、このビットが設定されます。</td><td><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    0 - <code class="literal">REDUNDANT</code> または <code class="literal">COMPACT</code>
                  </p></li><li class="listitem"><p>
                    32 - <code class="literal">DYNAMIC</code> または <code class="literal">COMPRESSED</code>
                  </p></li></ul></div></td></tr><tr><td scope="row">6</td><td><code class="literal">CREATE TABLE</code> または <code class="literal">ALTER TABLE</code> で <code class="literal">DATA DIRECTORY</code> オプションが使用された場合、このビットが設定されます。デフォルトのデータディレクトリ (<code class="literal">datadir</code>) 以外のディレクトリに置かれた file-per-table テーブルスペースに、このビットが設定されます。これらのテーブルについては、<code class="filename"><em class="replaceable"><code>tablename</code></em>.isl</code> ファイルは <code class="filename"><em class="replaceable"><code>tablename</code></em>.frm</code> ファイルと同じ場所に存在します。<code class="filename"><em class="replaceable"><code>tablename</code></em>.isl</code> ファイルには、<code class="literal"><em class="replaceable"><code>tablename</code></em>.ibd</code> file-per-table テーブルスペースファイルへの実際のディレクトリパスが格納されます。</td><td><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    0 - リモートの file-per-table テーブルスペースではない場合
                  </p></li><li class="listitem"><p>
                    64 - リモートの file-per-table テーブルスペース
                  </p></li></ul></div></td></tr></tbody></table></div></div><br class="table-break"><p>
      次のテーブル <code class="literal">t1</code> では <code class="literal">ROW_FORMAT=DYNAMIC</code> を使用し、<code class="literal">FLAG</code> 値は 33 です。前述の表の情報に従うと、<code class="literal">DYNAMIC</code> 行フォーマットのテーブルでビット位置 0 が 1 に、ビット位置 5 が 32 に設定されることがわかります。これらの値は合計 33 の <code class="literal">FLAG</code> 値になります。
    </p><pre class="programlisting">mysql&gt; use test;
Database changed

mysql&gt; SET GLOBAL innodb_file_format=Barracuda;
Query OK, 0 rows affected (0.00 sec)

mysql&gt; CREATE TABLE t1 (c1 int) ROW_FORMAT=DYNAMIC;
Query OK, 0 rows affected (0.02 sec)

mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_SYS_TABLES WHERE NAME LIKE 'test/t1' \G
*************************** 1. row ***************************
     TABLE_ID: 89
         NAME: test/t1
         FLAG: 33
       N_COLS: 4
        SPACE: 75
  FILE_FORMAT: Barracuda
   ROW_FORMAT: Dynamic
ZIP_PAGE_SIZE: 0
1 row in set (0.01 sec)</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="innodb-sys-indexes-table"></a>21.29.8 INFORMATION_SCHEMA INNODB_SYS_INDEXES テーブル</h3></div></div></div><a class="indexterm" name="idm139979010348432"></a><p>
      <code class="literal">INNODB_SYS_INDEXES</code> テーブルは、<code class="literal">InnoDB</code> データディクショナリの内部 <code class="literal">SYS_INDEXES</code> テーブル内の情報と同等の、<code class="literal">InnoDB</code> インデックスに関するメタデータを提供します。
    </p><p>
      関連する使用法と使用例については、<a class="xref" href="innodb-storage-engine.html#innodb-information-schema-system-tables" title="14.14.3 InnoDB INFORMATION_SCHEMA システムテーブル">セクション14.14.3「InnoDB INFORMATION_SCHEMA システムテーブル」</a>を参照してください。
    </p><div class="table"><a name="innodb-information-schema-innodb_sys_indexes_columns_table"></a><p class="title"><b>表 21.9 INNODB_SYS_INDEXES のカラム</b></p><div class="table-contents"><table summary="INNODB_SYS_INDEXES のカラム" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">INDEX_ID</code></td><td>インスタンス内のすべてのデータベースで一意である各インデックスの識別子。</td></tr><tr><td scope="row"><code class="literal">NAME</code></td><td>インデックスの名前。<code class="literal">InnoDB</code> によって暗黙的に作成されたほとんどのインデックスには一貫した名前が付けられていますが、インデックス名は必ずしも一意ではありません。たとえば、主キーインデックスには <code class="literal">PRIMARY</code>、インデックスが指定されていない場合に主キーを表すインデックスには <code class="literal">GEN_CLUST_INDEX</code>、および外部キー制約には <code class="literal">ID_IND</code>、<code class="literal">FOR_IND</code>、および <code class="literal">REF_IND</code> があります。</td></tr><tr><td scope="row"><code class="literal">TABLE_ID</code></td><td>インデックスに関連付けられているテーブルを表す識別子。<code class="literal">INNODB_SYS_TABLES.TABLE_ID</code> の値と同じです。</td></tr><tr><td scope="row"><code class="literal">TYPE</code></td><td>インデックスの種類を示す数値識別子。0 = セカンダリインデックス、1 = クラスタ化されたインデックス、2 = 一意インデックス、3 = プライマリインデックス、32 = 全文インデックスです。</td></tr><tr><td scope="row"><code class="literal">N_FIELDS</code></td><td>インデックスキーのカラムの数。<code class="literal">GEN_CLUST_INDEX</code> インデックスの場合、実際のテーブルカラムではなく人為的な値を使用してインデックスが作成されているので、この値は 0 です。</td></tr><tr><td scope="row"><code class="literal">PAGE_NO</code></td><td>インデックス B ツリーのルートページ番号。全文インデックスの場合、複数の B ツリー (補助テーブル) でレイアウトされているので、<code class="literal">PAGE_NO</code> フィールドは未使用で、-1 (<code class="literal">FIL_NULL</code>) に設定されます。</td></tr><tr><td scope="row"><code class="literal">SPACE</code></td><td>インデックスが存在するテーブルスペースの識別子。0 は <code class="literal">InnoDB</code> <a class="link" href="glossary.html#glos_system_tablespace" title="システムテーブルスペース">システムテーブルスペース</a>を示します。ほかの数値はすべて、個別の <code class="literal">.ibd</code> ファイルを使用して <a class="link" href="glossary.html#glos_file_per_table" title="file-per-table">file-per-table</a> モードで作成されたテーブルを表します。この識別子は、<code class="literal">TRUNCATE TABLE</code> ステートメントのあとでも同じままです。テーブルのすべてのインデックスが、テーブルと同じテーブルスペースに存在するので、この値は必ずしも一意にはなりません。</td></tr></tbody></table></div></div><br class="table-break"><p>
      <span class="bold"><strong>例</strong></span>:
    </p><pre class="programlisting">mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_SYS_INDEXES WHERE TABLE_ID = 74 \G
*************************** 1. row ***************************
INDEX_ID: 116
    NAME: GEN_CLUST_INDEX
TABLE_ID: 74
    TYPE: 1
N_FIELDS: 0
 PAGE_NO: 3
   SPACE: 60
*************************** 2. row ***************************
INDEX_ID: 117
    NAME: i1
TABLE_ID: 74
    TYPE: 0
N_FIELDS: 1
 PAGE_NO: 4
   SPACE: 60
2 rows in set (0.00 sec)</pre><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">DESCRIBE</code> または <code class="literal">SHOW COLUMNS</code> を使用して、データ型とデフォルト値を含む、このテーブルのカラムに関する追加情報を表示します。
        </p></li><li class="listitem"><p>
          このテーブルをクエリーするには <code class="literal">PROCESS</code> 権限が必要です。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="innodb-sys-columns-table"></a>21.29.9 INFORMATION_SCHEMA INNODB_SYS_COLUMNS テーブル</h3></div></div></div><a class="indexterm" name="idm139979010301632"></a><p>
      <code class="literal">INNODB_SYS_COLUMNS</code> は、<code class="literal">InnoDB</code> データディクショナリの <code class="literal">SYS_COLUMNS</code> テーブルの情報と同等の、<code class="literal">InnoDB</code> テーブルカラムに関するメタデータを提供します。
    </p><p>
      関連する使用法と使用例については、<a class="xref" href="innodb-storage-engine.html#innodb-information-schema-system-tables" title="14.14.3 InnoDB INFORMATION_SCHEMA システムテーブル">セクション14.14.3「InnoDB INFORMATION_SCHEMA システムテーブル」</a>を参照してください。
    </p><div class="table"><a name="innodb-information-schema-innodb_sys_columns_columns_table"></a><p class="title"><b>表 21.10 INNODB_SYS_COLUMNS のカラム</b></p><div class="table-contents"><table summary="INNODB_SYS_COLUMNS のカラム" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">TABLE_ID</code></td><td>カラムに関連付けられているテーブルを表す識別子。<code class="literal">INNODB_SYS_TABLES.TABLE_ID</code> の値と同じです。</td></tr><tr><td scope="row"><code class="literal">NAME</code></td><td>各テーブルのそれぞれのカラムの名前。これらの名前の大文字/小文字は、<code class="literal">lower_case_table_names</code> 設定に応じて異なります。カラムの特別なシステム予約名はありません。</td></tr><tr><td scope="row"><code class="literal">POS</code></td><td>0 から始まり連続的に増加する、テーブル内のカラムの順序位置。あるカラムを削除すると、順序に欠落ができないように残りのカラムの順序が変更されます。</td></tr><tr><td scope="row"><code class="literal">MTYPE</code></td><td><span class="quote">「<span class="quote">メインの型</span>」</span>を表します。カラム型の数値識別子。1 = <code class="literal">VARCHAR</code>、2 = <code class="literal">CHAR</code>、3 = <code class="literal">FIXBINARY</code>、4 = <code class="literal">BINARY</code>、5 = <code class="literal">BLOB</code>、6 = <code class="literal">INT</code>、7 = <code class="literal">SYS_CHILD</code>、8 = <code class="literal">SYS</code>、9 = <code class="literal">FLOAT</code>、10 = <code class="literal">DOUBLE</code>、11 = <code class="literal">DECIMAL</code>、12 = <code class="literal">VARMYSQL</code>、13 = <code class="literal">MYSQL</code> です。</td></tr><tr><td scope="row"><code class="literal">PRTYPE</code></td><td><code class="literal">InnoDB</code> の<span class="quote">「<span class="quote">正確な型</span>」</span>。MySQL データ型、文字セット、および NULL 可能性を表すビットを含むバイナリ値です。</td></tr><tr><td scope="row"><code class="literal">LEN</code></td><td>カラム長。たとえば <code class="literal">INT</code> には 4、<code class="literal">BIGINT</code> には 8 です。マルチバイト文字セットの文字カラムの場合、この長さ値は、<code class="literal">VARCHAR(<em class="replaceable"><code>N</code></em>)</code> などの定義を表すために必要なバイト単位の最大長です。つまり、文字エンコーディングに応じて、<code class="literal">2*<em class="replaceable"><code>N</code></em></code>、<code class="literal">3*<em class="replaceable"><code>N</code></em></code> などになります。</td></tr></tbody></table></div></div><br class="table-break"><p>
      <span class="bold"><strong>例</strong></span>:
    </p><pre class="programlisting">mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_SYS_COLUMNS where TABLE_ID = 71 \G 
*************************** 1. row ***************************
TABLE_ID: 71
    NAME: col1
     POS: 0
   MTYPE: 6
  PRTYPE: 1027
     LEN: 4
*************************** 2. row ***************************
TABLE_ID: 71
    NAME: col2
     POS: 1
   MTYPE: 2
  PRTYPE: 524542
     LEN: 10
*************************** 3. row ***************************
TABLE_ID: 71
    NAME: col3
     POS: 2
   MTYPE: 1
  PRTYPE: 524303
     LEN: 10
3 rows in set (0.00 sec)</pre><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">DESCRIBE</code> または <code class="literal">SHOW COLUMNS</code> を使用して、データ型とデフォルト値を含む、このテーブルのカラムに関する追加情報を表示します。
        </p></li><li class="listitem"><p>
          このテーブルをクエリーするには <code class="literal">PROCESS</code> 権限が必要です。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="innodb-sys-fields-table"></a>21.29.10 INFORMATION_SCHEMA INNODB_SYS_FIELDS テーブル</h3></div></div></div><a class="indexterm" name="idm139979010251680"></a><p>
      <code class="literal">INNODB_SYS_FIELDS</code> テーブルは、<code class="literal">InnoDB</code> データディクショナリの <code class="literal">SYS_FIELDS</code> テーブルの情報と同等の、<code class="literal">InnoDB</code> インデックスのキーカラム (フィールド) に関するメタデータを提供します。
    </p><p>
      関連する使用法と使用例については、<a class="xref" href="innodb-storage-engine.html#innodb-information-schema-system-tables" title="14.14.3 InnoDB INFORMATION_SCHEMA システムテーブル">セクション14.14.3「InnoDB INFORMATION_SCHEMA システムテーブル」</a>を参照してください。
    </p><div class="table"><a name="innodb-information-schema-innodb_sys_fields_columns_table"></a><p class="title"><b>表 21.11 INNODB_SYS_FIELDS のカラム</b></p><div class="table-contents"><table summary="INNODB_SYS_FIELDS のカラム" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">INDEX_ID</code></td><td>このキーフィールドに関連付けられたインデックスの識別子。<code class="literal">INNODB_SYS_INDEXES.INDEX_ID</code> と同じ値を使用します。</td></tr><tr><td scope="row"><code class="literal">NAME</code></td><td>テーブルの元のカラム名。<code class="literal">INNODB_SYS_COLUMNS.NAME</code> と同じ値を使用します。</td></tr><tr><td scope="row"><code class="literal">POS</code></td><td>0 から始まり連続的に増加する、インデックス内のキーフィールドの順序位置。あるカラムを削除すると、順序に欠落ができないように残りのカラムの順序が変更されます。</td></tr></tbody></table></div></div><br class="table-break"><p>
      <span class="bold"><strong>例</strong></span>:
    </p><pre class="programlisting">mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_SYS_FIELDS where INDEX_ID = 117 \G
*************************** 1. row ***************************
INDEX_ID: 117
    NAME: col1
     POS: 0
1 row in set (0.00 sec)
</pre><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">DESCRIBE</code> または <code class="literal">SHOW COLUMNS</code> を使用して、データ型とデフォルト値を含む、このテーブルのカラムに関する追加情報を表示します。
        </p></li><li class="listitem"><p>
          このテーブルをクエリーするには <code class="literal">PROCESS</code> 権限が必要です。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="innodb-sys-foreign-table"></a>21.29.11 INFORMATION_SCHEMA INNODB_SYS_FOREIGN テーブル</h3></div></div></div><a class="indexterm" name="idm139979010223296"></a><p>
      <code class="literal">INNODB_SYS_FOREIGN</code> テーブルは、<code class="literal">InnoDB</code> データディクショナリの <code class="literal">SYS_FOREIGN</code> テーブルの情報と同等の、<code class="literal">InnoDB</code> <a class="link" href="glossary.html#glos_foreign_key" title="外部キー">外部キー</a>に関するメタデータを提供します。
    </p><p>
      関連する使用法と使用例については、<a class="xref" href="innodb-storage-engine.html#innodb-information-schema-system-tables" title="14.14.3 InnoDB INFORMATION_SCHEMA システムテーブル">セクション14.14.3「InnoDB INFORMATION_SCHEMA システムテーブル」</a>を参照してください。
    </p><div class="table"><a name="innodb-information-schema-innodb_sys_foreign_columns_table"></a><p class="title"><b>表 21.12 INNODB_SYS_FOREIGN のカラム</b></p><div class="table-contents"><table summary="INNODB_SYS_FOREIGN のカラム" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">ID</code></td><td>外部キーインデックスの名前 (数値以外)。<code class="literal">test/products_fk</code> のように、データベース名が前に付けられます。</td></tr><tr><td scope="row"><code class="literal">FOR_NAME</code></td><td>この外部キー関係の<a class="link" href="glossary.html#glos_child_table" title="子テーブル">子テーブル</a>の名前。</td></tr><tr><td scope="row"><code class="literal">REF_NAME</code></td><td>この外部キー関係の<a class="link" href="glossary.html#glos_parent_table" title="親テーブル">親テーブル</a>の名前。</td></tr><tr><td scope="row"><code class="literal">N_COLS</code></td><td>外部キーインデックスのカラム数。</td></tr><tr><td scope="row"><code class="literal">TYPE</code></td><td>外部キーカラム ORed に関する情報を伴うビットフラグの集まり。1 = <code class="literal">ON DELETE CASCADE</code>、2 = <code class="literal">ON UPDATE SET</code> NULL、4 = <code class="literal">ON UPDATE CASCADE</code>、8 = <code class="literal">ON UPDATE SET</code> NULL、16 = <code class="literal">ON DELETE NO</code> ACTION、32 = <code class="literal">ON UPDATE NO</code> ACTION です。</td></tr></tbody></table></div></div><br class="table-break"><p>
      <span class="bold"><strong>例</strong></span>:
    </p><pre class="programlisting">mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_SYS_FOREIGN \G
*************************** 1. row ***************************
      ID: test/fk1
FOR_NAME: test/child
REF_NAME: test/parent
  N_COLS: 1
    TYPE: 1
1 row in set (0.00 sec)</pre><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">DESCRIBE</code> または <code class="literal">SHOW COLUMNS</code> を使用して、データ型とデフォルト値を含む、このテーブルのカラムに関する追加情報を表示します。
        </p></li><li class="listitem"><p>
          このテーブルをクエリーするには <code class="literal">PROCESS</code> 権限が必要です。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="innodb-sys-foreign-cols-table"></a>21.29.12 INFORMATION_SCHEMA INNODB_SYS_FOREIGN_COLS テーブル</h3></div></div></div><a class="indexterm" name="idm139979010186032"></a><p>
      <code class="literal">INNODB_SYS_FOREIGN_COLS</code> テーブルは、<code class="literal">InnoDB</code> データディクショナリ内の <code class="literal">SYS_FOREIGN_COLS</code> テーブルの情報と同等の、<code class="literal">InnoDB</code> 外部キーのカラムに関するステータス情報を提供します。
    </p><p>
      関連する使用法と使用例については、<a class="xref" href="innodb-storage-engine.html#innodb-information-schema-system-tables" title="14.14.3 InnoDB INFORMATION_SCHEMA システムテーブル">セクション14.14.3「InnoDB INFORMATION_SCHEMA システムテーブル」</a>を参照してください。
    </p><div class="table"><a name="innodb-information-schema-innodb_sys_foreign_cols_columns_table"></a><p class="title"><b>表 21.13 INNODB_SYS_FOREIGN_COLS のカラム</b></p><div class="table-contents"><table summary="INNODB_SYS_FOREIGN_COLS のカラム" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">ID</code></td><td>このインデックスキーフィールドに関連付けられた外部キーインデックス。<code class="literal">INNODB_SYS_FOREIGN.ID</code> と同じ値を使用します。</td></tr><tr><td scope="row"><code class="literal">FOR_COL_NAME</code></td><td>子テーブルに関連付けられたカラムの名前。</td></tr><tr><td scope="row"><code class="literal">REF_COL_NAME</code></td><td>親テーブルに関連付けられたカラムの名前。</td></tr><tr><td scope="row"><code class="literal">POS</code></td><td>0 から始まる、外部キーインデックス内のこのキーフィールドの順序位置。</td></tr></tbody></table></div></div><br class="table-break"><p>
      <span class="bold"><strong>例</strong></span>:
    </p><pre class="programlisting">mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_SYS_FOREIGN_COLS WHERE ID = 'test/fk1' \G
*************************** 1. row ***************************
          ID: test/fk1
FOR_COL_NAME: parent_id
REF_COL_NAME: id
         POS: 0
1 row in set (0.00 sec)</pre><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">DESCRIBE</code> または <code class="literal">SHOW COLUMNS</code> を使用して、データ型とデフォルト値を含む、このテーブルのカラムに関する追加情報を表示します。
        </p></li><li class="listitem"><p>
          このテーブルをクエリーするには <code class="literal">PROCESS</code> 権限が必要です。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="innodb-sys-tablestats-table"></a>21.29.13 INFORMATION_SCHEMA INNODB_SYS_TABLESTATS ビュー</h3></div></div></div><a class="indexterm" name="idm139979010156848"></a><p>
      <code class="literal">INNODB_SYS_TABLESTATS</code> は、<code class="literal">InnoDB</code> テーブルに関する低レベルのステータス情報のビューを提供します。このデータは、<code class="literal">InnoDB</code> テーブルのクエリー時に使用するインデックスを計算するために MySQL オプティマイザによって使用されます。この情報は、ディスクに格納されるデータに従うのではなく、インメモリーデータ構造から派生されます。対応する内部 <code class="literal">InnoDB</code> システムテーブルはありません。
    </p><p>
      <code class="literal">InnoDB</code> テーブルは、最後にサーバーを再起動してから開かれており、テーブルキャッシュから削除されていない場合、このビューに表示されます。永続的統計を利用できるテーブルは、このビューに常に表示されます。
    </p><p>
      関連する使用法と使用例については、<a class="xref" href="innodb-storage-engine.html#innodb-information-schema-system-tables" title="14.14.3 InnoDB INFORMATION_SCHEMA システムテーブル">セクション14.14.3「InnoDB INFORMATION_SCHEMA システムテーブル」</a>を参照してください。
    </p><div class="table"><a name="innodb-information-schema-innodb_sys_tablestats_columns_table"></a><p class="title"><b>表 21.14 INNODB_SYS_TABLESTATS のカラム</b></p><div class="table-contents"><table summary="INNODB_SYS_TABLESTATS のカラム" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">TABLE_ID</code></td><td>統計を利用できるテーブルを表す識別子。<code class="literal">INNODB_SYS_TABLES.TABLE_ID</code> と同じ値を使用します。</td></tr><tr><td scope="row"><code class="literal">NAME</code></td><td>テーブルの名前。<code class="literal">INNODB_SYS_TABLES.NAME</code> と同じ値を使用します。</td></tr><tr><td scope="row"><code class="literal">STATS_INITIALIZED</code></td><td>値は、統計がすでに収集されている場合は <code class="literal">Initialized</code> で、収集されていない場合は <code class="literal">Uninitialized</code> です。</td></tr><tr><td scope="row"><code class="literal">NUM_ROWS</code></td><td>現在の推定されるテーブル内の行数。それぞれの DML 操作後に更新されます。コミットされていないトランザクションがテーブルに挿入されたり、テーブルから削除されたりする場合、正確ではなくなることがあります。</td></tr><tr><td scope="row"><code class="literal">CLUST_INDEX_SIZE</code></td><td>クラスタ化されたインデックスを格納するディスク上のページ数。主キー順に <code class="literal">InnoDB</code> テーブルデータを保持します。この値は、テーブルの統計がまだ収集されていない場合は NULL になることがあります。</td></tr><tr><td scope="row"><code class="literal">OTHER_INDEX_SIZE</code></td><td>テーブルに関するすべてのセカンダリインデックスを格納する、ディスク上のページの数。この値は、テーブルの統計がまだ収集されていない場合は NULL になることがあります。</td></tr><tr><td scope="row"><code class="literal">MODIFIED_COUNTER</code></td><td><code class="literal">INSERT</code>、<code class="literal">UPDATE</code>、<code class="literal">DELETE</code> などの DML 操作と外部キーのカスケード操作によって変更された行の数。このカラムは、テーブル統計が再計算されるごとにリセットされます。</td></tr><tr><td scope="row"><code class="literal">AUTOINC</code></td><td>すべての自動インクリメントベースの操作で発行される次の番号。<code class="literal">AUTOINC</code> 値の変更ペースは、自動インクリメント番号が要求された回数と、要求ごとに認められる番号の数に応じて異なります。</td></tr><tr><td scope="row"><code class="literal">REF_COUNT</code></td><td>このカウンタがゼロになると、テーブルメタデータをテーブルキャッシュから削除できます。</td></tr></tbody></table></div></div><br class="table-break"><p>
      <span class="bold"><strong>例</strong></span>:
    </p><pre class="programlisting">mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_SYS_TABLESTATS where TABLE_ID = 71 \G
*************************** 1. row ***************************
         TABLE_ID: 71
             NAME: test/t1
STATS_INITIALIZED: Initialized
         NUM_ROWS: 1
 CLUST_INDEX_SIZE: 1
 OTHER_INDEX_SIZE: 0
 MODIFIED_COUNTER: 1
          AUTOINC: 0
        REF_COUNT: 1
1 row in set (0.00 sec)</pre><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          このテーブルは、主に、専門家レベルのパフォーマンスモニタリングや、MySQL のパフォーマンス関連の拡張を開発するときに役立ちます。
        </p></li><li class="listitem"><p>
          <code class="literal">DESCRIBE</code> または <code class="literal">SHOW COLUMNS</code> を使用して、データ型とデフォルト値を含む、このテーブルのカラムに関する追加情報を表示します。
        </p></li><li class="listitem"><p>
          このテーブルをクエリーするには <code class="literal">PROCESS</code> 権限が必要です。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="innodb-sys-datafiles-table"></a>21.29.14 INFORMATION_SCHEMA INNODB_SYS_DATAFILES テーブル</h3></div></div></div><a class="indexterm" name="idm139979010108672"></a><p>
      <code class="literal">INNODB_SYS_DATAFILES</code> テーブルは、<code class="literal">InnoDB</code> データディクショナリの <code class="literal">SYS_DATAFILES</code> テーブル内の情報と同等の、<code class="literal">InnoDB</code> テーブルスペースのデータファイルパス情報を提供します。
    </p><p>
      関連する使用法と使用例については、<a class="xref" href="innodb-storage-engine.html#innodb-information-schema-system-tables" title="14.14.3 InnoDB INFORMATION_SCHEMA システムテーブル">セクション14.14.3「InnoDB INFORMATION_SCHEMA システムテーブル」</a>を参照してください。
    </p><div class="table"><a name="innodb-information-schema-innodb_sys_datafiles_columns_table"></a><p class="title"><b>表 21.15 INNODB_SYS_DATAFILES のカラム</b></p><div class="table-contents"><table summary="INNODB_SYS_DATAFILES のカラム" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">SPACE</code></td><td>テーブルスペースのスペース ID。</td></tr><tr><td scope="row"><code class="literal">PATH</code></td><td>テーブルスペースデータファイルパス (たとえば <span class="quote">「<span class="quote"><code class="literal">.\world\innodb\city.ibd</code></span>」</span>)。<code class="literal">CREATE TABLE</code> ステートメントの <code class="literal">DATA DIRECTORY</code> 句を使用して、<a class="link" href="glossary.html#glos_file_per_table" title="file-per-table">file-per-table</a> テーブルスペースを MySQL データディレクトリ外の場所に作成した場合、テーブルスペース <code class="literal">PATH</code> フィールドには完全修飾ディレクトリパスが表示されます。</td></tr></tbody></table></div></div><br class="table-break"><p>
      <span class="bold"><strong>例</strong></span>:
    </p><pre class="programlisting">mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_SYS_DATAFILES WHERE SPACE = 57 \G 
*************************** 1. row ***************************
SPACE: 57
 PATH: ./test/t1.ibd
1 row in set (0.01 sec)</pre><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">DESCRIBE</code> または <code class="literal">SHOW COLUMNS</code> を使用して、データ型とデフォルト値を含む、このテーブルのカラムに関する追加情報を表示します。
        </p></li><li class="listitem"><p>
          このテーブルをクエリーするには <code class="literal">PROCESS</code> 権限が必要です。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="innodb-sys-tablespaces-table"></a>21.29.15 INFORMATION_SCHEMA INNODB_SYS_TABLESPACES テーブル</h3></div></div></div><a class="indexterm" name="idm139979010079328"></a><p>
      <code class="literal">INNODB_SYS_TABLESPACES</code> テーブルは、<code class="literal">InnoDB</code> データディクショナリの <code class="literal">SYS_TABLESPACES</code> テーブル内の情報と同等の、<code class="literal">InnoDB</code> テーブルスペースに関するメタデータを提供します。
    </p><p>
      関連する使用法と使用例については、<a class="xref" href="innodb-storage-engine.html#innodb-information-schema-system-tables" title="14.14.3 InnoDB INFORMATION_SCHEMA システムテーブル">セクション14.14.3「InnoDB INFORMATION_SCHEMA システムテーブル」</a>を参照してください。
    </p><div class="table"><a name="innodb-information-schema-innodb_sys_tablespaces_columns_table"></a><p class="title"><b>表 21.16 INNODB_SYS_TABLESPACES のカラム</b></p><div class="table-contents"><table summary="INNODB_SYS_TABLESPACES のカラム" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">SPACE</code></td><td>テーブルスペースのスペース ID。</td></tr><tr><td scope="row"><code class="literal">NAME</code></td><td>データベースおよびテーブル名 (たとえば <code class="literal">world_innodb\city</code>)</td></tr><tr><td scope="row"><code class="literal">FLAG</code></td><td>この値は、テーブルスペースの形式とストレージ特性に関するビットレベルの情報を提供します。</td></tr><tr><td scope="row"><code class="literal">FILE_FORMAT</code></td><td>テーブルスペースファイル形式 (たとえば <a class="link" href="glossary.html#glos_antelope" title="Antelope">Antelope</a> や <a class="link" href="glossary.html#glos_barracuda" title="Barracuda">Barracuda</a>)。このフィールドのデータは、<a class="link" href="glossary.html#glos_ibd_file" title=".ibd ファイル">.ibd ファイル</a>内に存在するテーブルスペースフラグ情報から解釈されます。<code class="literal">InnoDB</code> ファイル形式の詳細は、<a class="xref" href="innodb-storage-engine.html#innodb-file-format" title="14.8 InnoDB のファイル形式管理">セクション14.8「InnoDB のファイル形式管理」</a>を参照してください。</td></tr><tr><td scope="row"><code class="literal">ROW_FORMAT</code></td><td>テーブルスペースの行フォーマット (Compact または Redundant、Dynamic、Compressed)。このフィールドのデータは、<a class="link" href="glossary.html#glos_ibd_file" title=".ibd ファイル">.ibd ファイル</a>内に存在するテーブルスペースフラグ情報から解釈されます。</td></tr><tr><td scope="row"><code class="literal">PAGE_SIZE</code></td><td>テーブルスペースのページサイズ。このフィールドのデータは、<a class="link" href="glossary.html#glos_ibd_file" title=".ibd ファイル">.ibd ファイル</a>内に存在するテーブルスペースフラグ情報から解釈されます。</td></tr><tr><td scope="row"><code class="literal">ZIP_PAGE_SIZE</code></td><td>テーブルスペースの Zip ページサイズ。このフィールドのデータは、<a class="link" href="glossary.html#glos_ibd_file" title=".ibd ファイル">.ibd ファイル</a>内に存在するテーブルスペースフラグ情報から解釈されます。</td></tr></tbody></table></div></div><br class="table-break"><p>
      <span class="bold"><strong>例</strong></span>:
    </p><pre class="programlisting">mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_SYS_TABLESPACES WHERE SPACE = 57 \G
*************************** 1. row ***************************
        SPACE: 57
         NAME: test/t1
         FLAG: 0
  FILE_FORMAT: Antelope
   ROW_FORMAT: Compact or Redundant
    PAGE_SIZE: 16384
ZIP_PAGE_SIZE: 0
1 row in set (0.00 sec)</pre><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">DESCRIBE</code> または <code class="literal">SHOW COLUMNS</code> を使用して、データ型とデフォルト値を含む、このテーブルのカラムに関する追加情報を表示します。
        </p></li><li class="listitem"><p>
          このテーブルをクエリーするには <code class="literal">PROCESS</code> 権限が必要です。
        </p></li><li class="listitem"><p>
          すべての Antelope ファイル形式のテーブルスペースフラグは (テーブルフラグとは異なり) 常にゼロなので、テーブルスペースの行フォーマットが Redundant または Compact であるかをこのフラグ整数から判断することはできません。この結果、<code class="literal">ROW_FORMAT</code> フィールドに指定可能な値は、<span class="quote">「<span class="quote">Compact または Redundant</span>」</span>、<span class="quote">「<span class="quote">Compressed</span>」</span>、<span class="quote">「<span class="quote">Dynamic</span>」</span> になります。
        </p></li></ul></div><p>
      <span class="bold"><strong>INNODB_SYS_TABLESPACES.FLAG カラム値の解釈</strong></span>:
    </p><p>
      <code class="literal">INNODB_SYS_TABLESPACES.FLAG</code> カラムは、テーブルスペースの形式およびストレージ特性に関するビットレベルの情報を提供します。
    </p><p>
      MySQL 5.6 までは、テーブルフラグとテーブルスペースフラグはビット位置 0 の設定を除き同じでした。MySQL 5.6 では、論理ページサイズを保持するために追加の 4 ビットを必要とする、4K および 8K ページのサポートが追加されました。MySQL 5.6 ではまた、<code class="literal">CREATE TABLE</code> および <code class="literal">ALTER TABLE</code> <code class="literal">DATA DIRECTORY</code> 句のサポートが追加され、MySQL データディレクトリ外の場所に file-per-table テーブルスペースを格納できるようになりました。この機能には、テーブルフラグとテーブルスペースフラグの両方に追加ビットが必要でしたが、位置は同じではありません。
    </p><p>
      次の表に示された該当する 10 進数値を一緒に付加すると、テーブルスペース <code class="literal">FLAG</code> カラム値を解釈できます。
    </p><div class="table"><a name="innodb-information-schema-innodb_sys_tablespaces_columns_table-flag-data"></a><p class="title"><b>表 21.17 INNODB_SYS_TABLESPACES FLAG カラムデータを解釈するためのビット位置値</b></p><div class="table-contents"><table summary="INNODB_SYS_TABLESPACES FLAG カラムデータを解釈するためのビット位置値" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">ビット位置</th><th scope="col">説明</th><th scope="col">10 進数値</th></tr></thead><tbody><tr><td scope="row">0</td><td>テーブルスペース内のテーブルの行フォーマットが <code class="literal">DYNAMIC</code> または <code class="literal">COMPRESSED</code> の場合、このビットが設定されます。この情報を使用して、Antelope ファイル形式と Barracuda ファイル形式を区別できますが、<code class="literal">REDUNDANT</code> ファイル形式と <code class="literal">COMPACT</code> ファイル形式は区別できません (<code class="literal">DYNAMIC</code> 行フォーマットと <code class="literal">COMPRESSED</code> 行フォーマットには Barracuda ファイル形式が必要です)。file-per-table テーブルスペースである場合、<code class="literal">INNODB_SYS_TABLES</code> をクエリーして、2 つの Antelope 行フォーマット (<code class="literal">REDUNDANT</code> または <code class="literal">COMPACT</code>) のどちらが使用されているかを判断する必要があります。</td><td><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    0 - <code class="literal">REDUNDANT</code> または <code class="literal">COMPACT</code> (<code class="literal">FILE_FORMAT=Antelope</code>)
                  </p></li><li class="listitem"><p>
                    1 - <code class="literal">DYNAMIC</code> または <code class="literal">COMPRESSED</code> (<code class="literal">FILE_FORMAT=Barracuda</code>)
                  </p></li></ul></div></td></tr><tr><td scope="row">1-4</td><td>これらの 4 つのビットには、テーブルスペースの圧縮されたページサイズ (<code class="literal">KEY_BLOCK_SIZE</code> または<span class="quote">「<span class="quote">物理的なブロックサイズ</span>」</span>) を表す小さな数字が含まれます。</td><td><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    0 - 圧縮なし
                  </p></li><li class="listitem"><p>
                    2 - 1024 バイトの圧縮ページサイズ
                  </p></li><li class="listitem"><p>
                    4 - 2048 バイトの圧縮ページサイズ
                  </p></li><li class="listitem"><p>
                    6 - 4096 バイトの圧縮ページサイズ
                  </p></li><li class="listitem"><p>
                    8 - 8192 バイトの圧縮ページサイズ
                  </p></li><li class="listitem"><p>
                    10 - 16384 バイトの圧縮ページサイズ
                  </p></li></ul></div></td></tr><tr><td scope="row">5</td><td>テーブルの行フォーマットが <code class="literal">DYNAMIC</code> または <code class="literal">COMPRESSED</code> である場合に、file-per-table テーブルスペースにこのビットが設定されます。</td><td><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    0 - <code class="literal">REDUNDANT</code> または <code class="literal">COMPACT</code>
                  </p></li><li class="listitem"><p>
                    32 - <code class="literal">DYNAMIC</code> または <code class="literal">COMPRESSED</code>
                  </p></li></ul></div></td></tr><tr><td scope="row">6-9</td><td>これらの 4 つのビットには、テーブルスペースの圧縮解除されたページサイズ (論理ページサイズ) を表す小さな数字が含まれます。論理ページサイズが 16K の元の <code class="literal">InnoDB</code> デフォルトページサイズである場合、この設定はゼロです。</td><td><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    192 - 4096 バイトの論理/非圧縮ページサイズ
                  </p></li><li class="listitem"><p>
                    256 - 8192 バイトの論理/非圧縮ページサイズ
                  </p></li><li class="listitem"><p>
                    0 - 16384 バイトの論理/非圧縮ページサイズ
                  </p></li></ul></div></td></tr><tr><td scope="row">10</td><td><code class="literal">CREATE TABLE</code> または <code class="literal">ALTER TABLE</code> で <code class="literal">DATA DIRECTORY</code> オプションが使用された場合、このビットが設定されます。デフォルトのデータディレクトリ (<code class="literal">datadir</code>) 以外のディレクトリに置かれた file-per-table テーブルスペースに、このビットが設定されます。これらのテーブルについては、<code class="filename"><em class="replaceable"><code>tablename</code></em>.isl</code> ファイルは <code class="filename"><em class="replaceable"><code>tablename</code></em>.frm</code> ファイルと同じ場所に存在します。<code class="filename"><em class="replaceable"><code>tablename</code></em>.isl</code> ファイルには、<code class="literal"><em class="replaceable"><code>tablename</code></em>.ibd</code> file-per-table テーブルスペースファイルへの実際のディレクトリパスが格納されます。</td><td><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    0 - リモートの file-per-table テーブルスペースではない場合
                  </p></li><li class="listitem"><p>
                    1024 - リモートの file-per-table テーブルスペース
                  </p></li></ul></div></td></tr></tbody></table></div></div><br class="table-break"><p>
      次の例では、テーブル <code class="literal">t1</code> は <code class="literal">innodb_file_per_table=ON</code> で作成されます。これはテーブル <code class="literal">t1</code> を独自のテーブルスペース内に作成します。<code class="literal">INNODB_SYS_TABLESPACES</code> をクエリーすると、テーブルスペースの <code class="literal">FLAG</code> 値が 33 であることがわかります。どのようにこの値になるかを判断するには、前述の表に記されているビット値を参照してください。テーブル <code class="literal">t1</code> で <code class="literal">DYNAMIC</code> 行フォーマットを使用するので、ビット 0 は 1 の値になります。テーブルスペースが <code class="literal">DYNAMIC</code> 行フォーマットを使用する file-per-table テーブルスペースなので、ビット 5 は 32 の値になります。<code class="literal">innodb_page_size</code> はデフォルトの 16K 値に設定されているので、ビット位置 6-9 は 0 です。ほかのビット値は適用できないため 0 に設定されます。ビット位置 0 とビット位置 5 の値は合計して 33 の <code class="literal">FLAG</code> 値になります。
    </p><pre class="programlisting">mysql&gt; use test;
Database changed

mysql&gt; SHOW VARIABLES LIKE 'innodb_file_per_table';
+-----------------------+-------+
| Variable_name         | Value |
+-----------------------+-------+
| innodb_file_per_table | ON    |
+-----------------------+-------+
1 row in set (0.00 sec)

mysql&gt; SHOW VARIABLES LIKE 'innodb_page_size';
+------------------+-------+
| Variable_name    | Value |
+------------------+-------+
| innodb_page_size | 16384 |
+------------------+-------+
1 row in set (0.00 sec)

mysql&gt; SET GLOBAL innodb_file_format=Barracuda;
Query OK, 0 rows affected (0.00 sec)

mysql&gt; CREATE TABLE t1 (c1 int) ROW_FORMAT=DYNAMIC;
Query OK, 0 rows affected (0.02 sec)

mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_SYS_TABLESPACES WHERE NAME LIKE 'test/t1' \G
*************************** 1. row ***************************
        SPACE: 75
         NAME: test/t1
         FLAG: 33
  FILE_FORMAT: Barracuda
   ROW_FORMAT: Dynamic
    PAGE_SIZE: 16384
ZIP_PAGE_SIZE: 0
1 row in set (0.00 sec)</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="innodb-buffer-page-table"></a>21.29.16 INFORMATION_SCHEMA INNODB_BUFFER_PAGE テーブル</h3></div></div></div><a class="indexterm" name="idm139979009957152"></a><p>
      <code class="literal">INNODB_BUFFER_PAGE</code> テーブルは、各<a class="link" href="glossary.html#glos_page" title="ページ">ページ</a>に関する情報を、<code class="literal">InnoDB</code> <a class="link" href="glossary.html#glos_buffer_pool" title="バッファープール">バッファープール</a>に保持します。
    </p><p>
      関連する使用法と使用例については、<a class="xref" href="innodb-storage-engine.html#innodb-information-schema-buffer-pool-tables" title="14.14.5 InnoDB INFORMATION_SCHEMA バッファープールテーブル">セクション14.14.5「InnoDB INFORMATION_SCHEMA バッファープールテーブル」</a>を参照してください。
    </p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">警告</div><p>
        <code class="literal">INNODB_BUFFER_PAGE</code> テーブルをクエリーすると、大幅なパフォーマンスのオーバーヘッドが生じる可能性があります。クエリーによって発生する可能性のあるパフォーマンスへの影響を認識し、かつそれが許容可能であると判断されていないかぎり、本番システムではこのテーブルをクエリーしないでください。パフォーマンスへの影響を避けるには、調べる問題をテストインスタンスに再現し、テストインスタンスの <code class="literal">INNODB_BUFFER_PAGE</code> テーブルをクエリーします。
      </p></div><div class="table"><a name="innodb-information-schema-innodb_buffer_page_table"></a><p class="title"><b>表 21.18 INNODB_BUFFER_PAGE のカラム</b></p><div class="table-contents"><table summary="INNODB_BUFFER_PAGE のカラム" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">POOL_ID</code></td><td>バッファープール ID。複数のバッファープールインスタンスを区別する識別子。</td></tr><tr><td scope="row"><code class="literal">BLOCK_ID</code></td><td>バッファープールブロック ID。</td></tr><tr><td scope="row"><code class="literal">SPACE</code></td><td>テーブルスペース ID。<code class="literal">INNODB_SYS_TABLES.SPACE</code> と同じ値を使用します。</td></tr><tr><td scope="row"><code class="literal">PAGE_NUMBER</code></td><td>ページ番号。</td></tr><tr><td scope="row"><code class="literal">PAGE_TYPE</code></td><td>ページタイプ。<code class="literal">ALLOCATED</code> (新しく割り当てられたページ)、<code class="literal">INDEX</code> (B ツリーノード)、<code class="literal">UNDO_LOG</code> (Undo ログページ)、<code class="literal">INODE</code> (インデックスノード)、<code class="literal">IBUF_FREE_LIST</code> (挿入バッファー空きリスト)、<code class="literal">IBUF_BITMAP</code> (挿入バッファービットマップ)、<code class="literal">SYSTEM</code> (システムページ)、<code class="literal">TRX_SYSTEM</code> (トランザクションシステムデータ)、<code class="literal">FILE_SPACE_HEADER</code> (ファイル領域ヘッダー)、<code class="literal">EXTENT_DESCRIPTOR</code> (エクステントディスクリプタページ)、<code class="literal">BLOB</code> (非圧縮 BLOB ページ)、<code class="literal">COMPRESSED_BLOB</code> (最初の圧縮 BLOB ページ)、<code class="literal">COMPRESSED_BLOB2</code> (後続の圧縮 BLOB ページ)、<code class="literal">IBUF_INDEX</code> (挿入バッファーインデックス)、<code class="literal">UNKNOWN</code> (不明) のいずれかです。</td></tr><tr><td scope="row"><code class="literal">FLUSH_TYPE</code></td><td>フラッシュタイプ。</td></tr><tr><td scope="row"><code class="literal">FIX_COUNT</code></td><td>バッファープール内でこのブロックを使用するスレッドの数。ゼロのとき、ブロックは削除対象です。</td></tr><tr><td scope="row"><code class="literal">IS_HASHED</code></td><td>ハッシュインデックスがこのページ上に構築されているかどうか。</td></tr><tr><td scope="row"><code class="literal">NEWEST_MODIFICATION</code></td><td>もっとも新しい変更のログシーケンス番号。</td></tr><tr><td scope="row"><code class="literal">OLDEST_MODIFICATION</code></td><td>もっとも古い変更のログシーケンス番号。</td></tr><tr><td scope="row"><code class="literal">ACCESS_TIME</code></td><td>ページの最初のアクセス時間の判断に使用される無名数。</td></tr><tr><td scope="row"><code class="literal">TABLE_NAME</code></td><td>ページが属しているテーブルの名前。このカラムは、タイプ <code class="literal">INDEX</code> のページにのみ適用可能です。</td></tr><tr><td scope="row"><code class="literal">INDEX_NAME</code></td><td>ページが属しているインデックスの名前。これは、クラスタ化されたインデックスの名前にもセカンダリインデックスの名前にもなります。このカラムは、タイプ <code class="literal">INDEX</code> のページにのみ適用可能です。</td></tr><tr><td scope="row"><code class="literal">NUMBER_RECORDS</code></td><td>ページ内のレコードの数。</td></tr><tr><td scope="row"><code class="literal">DATA_SIZE</code></td><td>レコードのサイズの合計。このカラムは、タイプ <code class="literal">INDEX</code> のページにのみ適用可能です。</td></tr><tr><td scope="row"><code class="literal">COMPRESSED_SIZE</code></td><td>圧縮されたページサイズ。圧縮されていないページは NULL になります。</td></tr><tr><td scope="row"><code class="literal">PAGE_STATE</code></td><td>ページ状態。有効なデータを伴うページの状態は、<code class="literal">FILE_PAGE</code> (ファイルからデータのページをバッファーします)、<code class="literal">MEMORY</code> (インメモリーオブジェクトからのページをバッファーします)、<code class="literal">COMPRESSED</code> のいずれかです。ほかの可能な (<code class="literal">InnoDB</code> によって管理される) 状態は <code class="literal">NULL</code>、<code class="literal">READY_FOR_USE</code>、<code class="literal">NOT_USED</code>、<code class="literal">REMOVE_HASH</code> です。</td></tr><tr><td scope="row"><code class="literal">IO_FIX</code></td><td>I/O がこのページに対して保留中であるかどうかを指定します。<code class="literal">IO_NONE</code> = 保留中の I/O なし、<code class="literal">IO_READ</code> = 読み取り保留中、<code class="literal">IO_WRITE</code> = 書き込み保留中です。</td></tr><tr><td scope="row"><code class="literal">IS_OLD</code></td><td>ブロックが LRU リストの古いブロックのサブリストにあるかどうかを指定します。</td></tr><tr><td scope="row"><code class="literal">FREE_PAGE_CLOCK</code></td><td>ブロックが最後に LRU リストの先頭に置かれたときの <code class="literal">freed_page_clock</code> カウンタの値。<code class="literal">freed_page_clock</code> カウンタは、LRU リストの末尾から削除されたブロックの数を追跡します。</td></tr></tbody></table></div></div><br class="table-break"><p>
      <span class="bold"><strong>例</strong></span>:
    </p><pre class="programlisting">mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_BUFFER_PAGE LIMIT 1\G
*************************** 1. row ***************************
            POOL_ID: 0
           BLOCK_ID: 0
              SPACE: 97
        PAGE_NUMBER: 2473
          PAGE_TYPE: INDEX
         FLUSH_TYPE: 1
          FIX_COUNT: 0
          IS_HASHED: YES
NEWEST_MODIFICATION: 733855581
OLDEST_MODIFICATION: 0
        ACCESS_TIME: 3378385672
         TABLE_NAME: `employees`.`salaries`
         INDEX_NAME: PRIMARY
     NUMBER_RECORDS: 468
          DATA_SIZE: 14976
    COMPRESSED_SIZE: 0
         PAGE_STATE: FILE_PAGE
             IO_FIX: IO_NONE
             IS_OLD: YES
    FREE_PAGE_CLOCK: 66
1 row in set (0.03 sec)
</pre><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          このテーブルは、主に、専門家レベルのパフォーマンスモニタリングや、MySQL のパフォーマンス関連の拡張を開発するときに役立ちます。
        </p></li><li class="listitem"><p>
          <code class="literal">DESCRIBE</code> または <code class="literal">SHOW COLUMNS</code> を使用して、データ型とデフォルト値を含む、このテーブルのカラムに関する追加情報を表示します。
        </p></li><li class="listitem"><p>
          このテーブルをクエリーするには <code class="literal">PROCESS</code> 権限が必要です。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="innodb-buffer-page-lru-table"></a>21.29.17 INFORMATION_SCHEMA INNODB_BUFFER_PAGE_LRU テーブル</h3></div></div></div><a class="indexterm" name="idm139979009872032"></a><p>
      <code class="literal">INNODB_BUFFER_PAGE_LRU</code> テーブルは、<code class="literal">InnoDB</code> <a class="link" href="glossary.html#glos_buffer_pool" title="バッファープール">バッファープール</a>内のページに関する情報、特に、いっぱいになったときにバッファープールからどのページを<a class="link" href="glossary.html#glos_eviction" title="エビクション">エビクション</a>するかを決定する LRU リスト内の各ページの順序を保持します。
    </p><p>
      <code class="literal">INNODB_BUFFER_PAGE_LRU</code> テーブルには、<code class="literal">INNODB_BUFFER_PAGE</code> テーブルと同じカラムがありますが、<code class="literal">INNODB_BUFFER_PAGE_LRU</code> テーブルには <code class="literal">BLOCK_ID</code> カラムではなく <code class="literal">LRU_POSITION</code> カラムがある点が異なります。
    </p><p>
      関連する使用法と使用例については、<a class="xref" href="innodb-storage-engine.html#innodb-information-schema-buffer-pool-tables" title="14.14.5 InnoDB INFORMATION_SCHEMA バッファープールテーブル">セクション14.14.5「InnoDB INFORMATION_SCHEMA バッファープールテーブル」</a>を参照してください。
    </p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">警告</div><p>
        <code class="literal">INNODB_BUFFER_PAGE_LRU</code> テーブルをクエリーすると、大幅なパフォーマンスのオーバーヘッドが生じる可能性があります。クエリーによって発生する可能性のあるパフォーマンスへの影響を認識し、かつそれが許容可能であると判断されていないかぎり、本番システムではこのテーブルをクエリーしないでください。パフォーマンスへの影響を避けるには、調べる問題をテストインスタンスに再現し、テストインスタンスの <code class="literal">INNODB_BUFFER_PAGE_LRU</code> テーブルをクエリーします。
      </p></div><div class="table"><a name="innodb-information-schema-innodb_buffer_page_lru_table"></a><p class="title"><b>表 21.19 INNODB_BUFFER_PAGE_LRU のカラム</b></p><div class="table-contents"><table summary="INNODB_BUFFER_PAGE_LRU のカラム" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">POOL_ID</code></td><td>バッファープール ID。複数のバッファープールインスタンスを区別する識別子。</td></tr><tr><td scope="row"><code class="literal">LRU_POSITION</code></td><td>LRU リストでのページの位置。</td></tr><tr><td scope="row"><code class="literal">SPACE</code></td><td>テーブルスペース ID。<code class="literal">INNODB_SYS_TABLES.SPACE</code> と同じ値を使用します。</td></tr><tr><td scope="row"><code class="literal">PAGE_NUMBER</code></td><td>ページ番号。</td></tr><tr><td scope="row"><code class="literal">PAGE_TYPE</code></td><td>ページタイプ。<code class="literal">ALLOCATED</code> (新しく割り当てられたページ)、<code class="literal">INDEX</code> (B ツリーノード)、<code class="literal">UNDO_LOG</code> (Undo ログページ)、<code class="literal">INODE</code> (インデックスノード)、<code class="literal">IBUF_FREE_LIST</code> (挿入バッファー空きリスト)、<code class="literal">IBUF_BITMAP</code> (挿入バッファービットマップ)、<code class="literal">SYSTEM</code> (システムページ)、<code class="literal">TRX_SYSTEM</code> (トランザクションシステムデータ)、<code class="literal">FILE_SPACE_HEADER</code> (ファイル領域ヘッダー)、<code class="literal">EXTENT_DESCRIPTOR</code> (エクステントディスクリプタページ)、<code class="literal">BLOB</code> (非圧縮 BLOB ページ)、<code class="literal">COMPRESSED_BLOB</code> (最初の圧縮 BLOB ページ)、<code class="literal">COMPRESSED_BLOB2</code> (後続の圧縮 BLOB ページ)、<code class="literal">IBUF_INDEX</code> (挿入バッファーインデックス)、<code class="literal">UNKNOWN</code> (不明) のいずれかです。</td></tr><tr><td scope="row"><code class="literal">FLUSH_TYPE</code></td><td>フラッシュタイプ。</td></tr><tr><td scope="row"><code class="literal">FIX_COUNT</code></td><td>バッファープール内でこのブロックを使用するスレッドの数。ゼロのとき、ブロックは削除対象です。</td></tr><tr><td scope="row"><code class="literal">IS_HASHED</code></td><td>ハッシュインデックスがこのページ上に構築されているかどうか。</td></tr><tr><td scope="row"><code class="literal">NEWEST_MODIFICATION</code></td><td>もっとも新しい変更のログシーケンス番号。</td></tr><tr><td scope="row"><code class="literal">OLDEST_MODIFICATION</code></td><td>もっとも古い変更のログシーケンス番号。</td></tr><tr><td scope="row"><code class="literal">ACCESS_TIME</code></td><td>ページの最初のアクセス時間の判断に使用される無名数。</td></tr><tr><td scope="row"><code class="literal">TABLE_NAME</code></td><td>ページが属しているテーブルの名前。このカラムは、タイプ <code class="literal">INDEX</code> のページにのみ適用可能です。</td></tr><tr><td scope="row"><code class="literal">INDEX_NAME</code></td><td>ページが属しているインデックスの名前。これは、クラスタ化されたインデックスの名前にもセカンダリインデックスの名前にもなります。このカラムは、タイプ <code class="literal">INDEX</code> のページにのみ適用可能です。</td></tr><tr><td scope="row"><code class="literal">NUMBER_RECORDS</code></td><td>ページ内のレコードの数。</td></tr><tr><td scope="row"><code class="literal">DATA_SIZE</code></td><td>レコードのサイズの合計。このカラムは、タイプ <code class="literal">INDEX</code> のページにのみ適用可能です。</td></tr><tr><td scope="row"><code class="literal">COMPRESSED_SIZE</code></td><td>圧縮されたページサイズ。圧縮されていないページは NULL になります。</td></tr><tr><td scope="row"><code class="literal">PAGE_STATE</code></td><td>ページ状態。有効なデータを伴うページの状態は、<code class="literal">FILE_PAGE</code> (ファイルからデータのページをバッファーします)、<code class="literal">MEMORY</code> (インメモリーオブジェクトからのページをバッファーします)、<code class="literal">COMPRESSED</code> のいずれかです。ほかの可能な (<code class="literal">InnoDB</code> によって管理される) 状態は <code class="literal">NULL</code>、<code class="literal">READY_FOR_USE</code>、<code class="literal">NOT_USED</code>、<code class="literal">REMOVE_HASH</code> です。</td></tr><tr><td scope="row"><code class="literal">IO_FIX</code></td><td>I/O がこのページに対して保留中であるかどうかを指定します。<code class="literal">IO_NONE</code> = 保留中の I/O なし、<code class="literal">IO_READ</code> = 読み取り保留中、<code class="literal">IO_WRITE</code> = 書き込み保留中です。</td></tr><tr><td scope="row"><code class="literal">IS_OLD</code></td><td>ブロックが LRU リストの古いブロックのサブリストにあるかどうかを指定します。</td></tr><tr><td scope="row"><code class="literal">FREE_PAGE_CLOCK</code></td><td>ブロックが最後に LRU リストの先頭に置かれたときの <code class="literal">freed_page_clock</code> カウンタの値。<code class="literal">freed_page_clock</code> カウンタは、LRU リストの末尾から削除されたブロックの数を追跡します。</td></tr></tbody></table></div></div><br class="table-break"><h4><a name="idm139979009793568"></a>例</h4><pre class="programlisting">mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_BUFFER_PAGE_LRU LIMIT 1\G
*************************** 1. row ***************************
            POOL_ID: 0
       LRU_POSITION: 0
              SPACE: 97
        PAGE_NUMBER: 1984
          PAGE_TYPE: INDEX
         FLUSH_TYPE: 1
          FIX_COUNT: 0
          IS_HASHED: YES
NEWEST_MODIFICATION: 719490396
OLDEST_MODIFICATION: 0
        ACCESS_TIME: 3378383796
         TABLE_NAME: `employees`.`salaries`
         INDEX_NAME: PRIMARY
     NUMBER_RECORDS: 468
          DATA_SIZE: 14976
    COMPRESSED_SIZE: 0
         COMPRESSED: NO
             IO_FIX: IO_NONE
             IS_OLD: YES
    FREE_PAGE_CLOCK: 0
1 row in set (0.02 sec)</pre><h4><a name="idm139979009790816"></a>メモ</h4><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          このテーブルは、主に、専門家レベルのパフォーマンスモニタリングや、MySQL のパフォーマンス関連の拡張を開発するときに役立ちます。
        </p></li><li class="listitem"><p>
          <code class="literal">DESCRIBE</code> または <code class="literal">SHOW COLUMNS</code> を使用して、データ型とデフォルト値を含む、このテーブルのカラムに関する追加情報を表示します。
        </p></li><li class="listitem"><p>
          このテーブルをクエリーした場合、MySQL は、バッファープール内のアクティブなページ数に 64 バイトをかけた容量以上の連続したメモリーの大きなブロックを割り当てることが必要になる可能性があります。この割り当ては、特に数 G バイトのバッファープールを持つシステムで、メモリー不足エラーを引き起こす可能性があります。
        </p></li><li class="listitem"><p>
          このテーブルをクエリーした場合、MySQLで、LRU リストのトラバース中、バッファープールを表すデータ構造をロックする必要があります。これにより、特に数 G バイトのバッファープールを持つシステムで並列性を軽減できます。
        </p></li><li class="listitem"><p>
          このテーブルをクエリーするには <code class="literal">PROCESS</code> 権限が必要です。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="innodb-buffer-pool-stats-table"></a>21.29.18 INFORMATION_SCHEMA INNODB_BUFFER_POOL_STATS テーブル</h3></div></div></div><a class="indexterm" name="idm139979009779744"></a><p>
      <code class="literal">INNODB_BUFFER_POOL_STATS</code> テーブルは、<code class="literal">SHOW ENGINE INNODB STATUS</code> 出力で提供されるものと同じバッファープール情報の多くを提供します。同じ情報の多くは、<code class="literal">InnoDB</code> バッファープールの<a class="link" href="server-administration.html#server-status-variables" title="5.1.6 サーバーステータス変数">サーバーステータス変数</a>を使用して取得することもできます。
    </p><p>
      バッファープール内のページに<span class="quote">「<span class="quote">新しい</span>」</span>または<span class="quote">「<span class="quote">新しくない</span>」</span>というマークを付けるという考えは、バッファープールデータ構造の先頭と末尾にある<a class="link" href="glossary.html#glos_sublist" title="サブリスト">サブリスト</a>間にそれらを転送することを意味します。<span class="quote">「<span class="quote">新しい</span>」</span>とされたページは、バッファープールから削除されるまでに長い時間がかかりますが、<span class="quote">「<span class="quote">新しくない</span>」</span>とされたページは、<a class="link" href="glossary.html#glos_eviction" title="エビクション">エビクション</a>の時点に近づけられます。
    </p><p>
      関連する使用法と使用例については、<a class="xref" href="innodb-storage-engine.html#innodb-information-schema-buffer-pool-tables" title="14.14.5 InnoDB INFORMATION_SCHEMA バッファープールテーブル">セクション14.14.5「InnoDB INFORMATION_SCHEMA バッファープールテーブル」</a>を参照してください。
    </p><div class="table"><a name="innodb-information-schema-innodb_buffer_pool_stats_table"></a><p class="title"><b>表 21.20 INNODB_BUFFER_POOL_STATS のカラム</b></p><div class="table-contents"><table summary="INNODB_BUFFER_POOL_STATS のカラム" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">POOL_ID</code></td><td>バッファープール ID。複数のバッファープールインスタンスを区別する一意の識別子。</td></tr><tr><td scope="row"><code class="literal">POOL_SIZE</code></td><td><code class="literal">InnoDB</code> バッファープールのサイズ (ページ単位)。</td></tr><tr><td scope="row"><code class="literal">FREE_BUFFERS</code></td><td><code class="literal">InnoDB</code> バッファープール内の空きページの数</td></tr><tr><td scope="row"><code class="literal">DATABASE_PAGES</code></td><td>データを含む <code class="literal">InnoDB</code> バッファープール内のページの数。数には、ダーティーページとクリーンページの両方を含みます。</td></tr><tr><td scope="row"><code class="literal">OLD_DATABASE_PAGES</code></td><td><code class="literal">old</code> バッファープールサブリスト内のページの数。</td></tr><tr><td scope="row"><code class="literal">MODIFIED_DATABASE_PAGES</code></td><td>変更された (ダーティー) データベースページの数</td></tr><tr><td scope="row"><code class="literal">PENDING_DECOMPRESS</code></td><td>圧縮解除保留中のページの数</td></tr><tr><td scope="row"><code class="literal">PENDING_READS</code></td><td>読み取り保留中の数</td></tr><tr><td scope="row"><code class="literal">PENDING_FLUSH_LRU</code></td><td>LRU 内のフラッシュ保留中のページの数</td></tr><tr><td scope="row"><code class="literal">PENDING_FLUSH_LIST</code></td><td>フラッシュリスト内のフラッシュ保留中のページの数</td></tr><tr><td scope="row"><code class="literal">PAGES_MADE_YOUNG</code></td><td>新しいとされたページの数</td></tr><tr><td scope="row"><code class="literal">PAGES_NOT_MADE_YOUNG</code></td><td>新しいとされていないページの数</td></tr><tr><td scope="row"><code class="literal">PAGES_MADE_YOUNG_RATE</code></td><td>秒あたりに新しいとされたページの数 (最後の出力/経過時間以降に新しいとされたページ)</td></tr><tr><td scope="row"><code class="literal">PAGES_MADE_NOT_YOUNG_RATE</code></td><td>秒あたりに新しいとされなかったページの数 (最後の出力/経過時間以降に新しいとされなかったページ)</td></tr><tr><td scope="row"><code class="literal">NUMBER_PAGES_READ</code></td><td>読み取られたページの数</td></tr><tr><td scope="row"><code class="literal">NUMBER_PAGES_CREATED</code></td><td>作成されたページの数</td></tr><tr><td scope="row"><code class="literal">NUMBER_PAGES_WRITTEN</code></td><td>書き込まれたページの数</td></tr><tr><td scope="row"><code class="literal">PAGES_READ_RATE</code></td><td>秒あたりに読み取られたページの数 (最後の出力/経過時間以降に読み取られたページ)</td></tr><tr><td scope="row"><code class="literal">PAGES_CREATE_RATE</code></td><td>秒あたりに作成されたページの数 (最後の出力/経過時間以降に作成されたページ)</td></tr><tr><td scope="row"><code class="literal">PAGES_WRITTEN_RATE</code></td><td>秒あたりに書き込まれたページの数 (最後の出力/経過時間以降に書き込まれたページ)</td></tr><tr><td scope="row"><code class="literal">NUMBER_PAGES_GET</code></td><td>論理読み取りリクエスト数。</td></tr><tr><td scope="row"><code class="literal">HIT_RATE</code></td><td>バッファープールのヒット率</td></tr><tr><td scope="row"><code class="literal">YOUNG_MAKE_PER_THOUSAND_GETS</code></td><td>1000 の取得あたりに新しいとされたページの数</td></tr><tr><td scope="row"><code class="literal">NOT_YOUNG_MAKE_PER_THOUSAND_GETS</code></td><td>1000 の取得あたりに新しいとされていないページの数</td></tr><tr><td scope="row"><code class="literal">NUMBER_PAGES_READ_AHEAD</code></td><td>先読みされたページの数</td></tr><tr><td scope="row"><code class="literal">NUMBER_READ_AHEAD_EVICTED</code></td><td>先読みバックグラウンドスレッドによって <code class="literal">InnoDB</code> バッファープールに読み取られ、クエリーでアクセスされることなくその後に削除されたページの数。</td></tr><tr><td scope="row"><code class="literal">READ_AHEAD_RATE</code></td><td>秒あたりの先読み率 (最後の出力/経過時間以降に先読みされたページ)</td></tr><tr><td scope="row"><code class="literal">READ_AHEAD_EVICTED_RATE</code></td><td>アクセスなしに削除された、先読みされたページの秒あたりの数 (最後の出力/経過時間以降にアクセスされていない先読みページ)</td></tr><tr><td scope="row"><code class="literal">LRU_IO_TOTAL</code></td><td>LRU IO 合計</td></tr><tr><td scope="row"><code class="literal">LRU_IO_CURRENT</code></td><td>現在の間隔の LRU IO</td></tr><tr><td scope="row"><code class="literal">UNCOMPRESS_TOTAL</code></td><td>圧縮解除されたページの合計数</td></tr><tr><td scope="row"><code class="literal">UNCOMPRESS_CURRENT</code></td><td>現在の間隔で圧縮解除されたページの数</td></tr></tbody></table></div></div><br class="table-break"><p>
      <span class="bold"><strong>例</strong></span>:
    </p><pre class="programlisting">mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_BUFFER_POOL_STATS\G
*************************** 1. row ***************************
                         POOL_ID: 0
                       POOL_SIZE: 8192
                    FREE_BUFFERS: 1
                  DATABASE_PAGES: 8085
              OLD_DATABASE_PAGES: 2964
         MODIFIED_DATABASE_PAGES: 0
              PENDING_DECOMPRESS: 0
                   PENDING_READS: 0
               PENDING_FLUSH_LRU: 0
              PENDING_FLUSH_LIST: 0
                PAGES_MADE_YOUNG: 22821
            PAGES_NOT_MADE_YOUNG: 3544303
           PAGES_MADE_YOUNG_RATE: 357.62602199870594
       PAGES_MADE_NOT_YOUNG_RATE: 0
               NUMBER_PAGES_READ: 2389
            NUMBER_PAGES_CREATED: 12385
            NUMBER_PAGES_WRITTEN: 13111
                 PAGES_READ_RATE: 0
               PAGES_CREATE_RATE: 0
              PAGES_WRITTEN_RATE: 0
                NUMBER_PAGES_GET: 33322210
                        HIT_RATE: 1000
    YOUNG_MAKE_PER_THOUSAND_GETS: 18
NOT_YOUNG_MAKE_PER_THOUSAND_GETS: 0
         NUMBER_PAGES_READ_AHEAD: 2024
       NUMBER_READ_AHEAD_EVICTED: 0
                 READ_AHEAD_RATE: 0
         READ_AHEAD_EVICTED_RATE: 0
                    LRU_IO_TOTAL: 0
                  LRU_IO_CURRENT: 0
                UNCOMPRESS_TOTAL: 0
              UNCOMPRESS_CURRENT: 0
1 row in set (0.00 sec)
</pre><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          このテーブルは、主に、専門家レベルのパフォーマンスモニタリングや、MySQL のパフォーマンス関連の拡張を開発するときに役立ちます。
        </p></li><li class="listitem"><p>
          <code class="literal">DESCRIBE</code> または <code class="literal">SHOW COLUMNS</code> を使用して、データ型とデフォルト値を含む、このテーブルのカラムに関する追加情報を表示します。
        </p></li><li class="listitem"><p>
          このテーブルをクエリーするには <code class="literal">PROCESS</code> 権限が必要です。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="innodb-metrics-table"></a>21.29.19 INFORMATION_SCHEMA INNODB_METRICS テーブル</h3></div></div></div><a class="indexterm" name="idm139979009690864"></a><a class="indexterm" name="idm139979009688704"></a><p>
      この <code class="literal">INFORMATION_SCHEMA</code> テーブルは、さまざまな <code class="literal">InnoDB</code> パフォーマンス情報を表し、<code class="literal">InnoDB</code> の <code class="literal">PERFORMANCE_SCHEMA</code> テーブルの特定のフォーカス領域を補完します。単純なクエリーで、システムのヘルス全体を確認できます。より詳細なクエリーを使用すると、パフォーマンスのボトルネック、リソース不足、アプリケーション問題などの問題を診断できます。
    </p><p>
      各モニターは、カウンタ情報を収集するようにインストゥルメントされる <code class="literal">InnoDB</code> ソースコード内でのポイントを表します。各カウンタは、開始、停止、およびリセットできます。共通のモジュール名を使用して、カウンタのグループに対して、これらのアクションを実行することもできます。
    </p><p>
      デフォルトでは、比較的少量のデータが収集されます。カウンタを開始、停止、およびリセットするには、カウンタの名前、モジュールの名前、<span class="quote">「<span class="quote">%</span>」</span>文字を使用した名前などのワイルドカード一致、特殊キーワード <code class="literal">all</code> を使用して、<code class="literal">innodb_monitor_enable</code>、<code class="literal">innodb_monitor_disable</code>、<code class="literal">innodb_monitor_reset</code>、または <code class="literal">innodb_monitor_reset_all</code> のいずれかの構成オプションを設定します。
    </p><p>
      使用法については、<a class="xref" href="innodb-storage-engine.html#innodb-information-schema-metrics-table" title="14.14.6 InnoDB INFORMATION_SCHEMA メトリックテーブル">セクション14.14.6「InnoDB INFORMATION_SCHEMA メトリックテーブル」</a>を参照してください。
    </p><div class="table"><a name="innodb-information-schema-innodb_metrics_table"></a><p class="title"><b>表 21.21 INNODB_METRICS のカラム</b></p><div class="table-contents"><table summary="INNODB_METRICS のカラム" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">NAME</code></td><td>カウンタの一意の名前。</td></tr><tr><td scope="row"><code class="literal">SUBSYSTEM</code></td><td>メトリックが適用される <code class="literal">InnoDB</code> の側面。<code class="literal">SET GLOBAL</code> 構文で使用する対応するモジュール名については、表に続くリストを参照してください。</td></tr><tr><td scope="row"><code class="literal">COUNT</code></td><td>カウンタが有効になってからの値。</td></tr><tr><td scope="row"><code class="literal">MAX_COUNT</code></td><td>カウンタが有効になってからの最大値。</td></tr><tr><td scope="row"><code class="literal">MIN_COUNT</code></td><td>カウンタが有効になってからの最小値。</td></tr><tr><td scope="row"><code class="literal">AVG_COUNT</code></td><td>カウンタが有効になってからの平均値。</td></tr><tr><td scope="row"><code class="literal">COUNT_RESET</code></td><td>最後にリセットされてからのカウンタ値。(<code class="literal">_RESET</code> フィールドは、ストップウォッチのラップカウンタのように機能します。一定の時間間隔中のアクティビティーを測定できますが、累積数値は <code class="literal">COUNT</code>、<code class="literal">MAX_COUNT</code> などのフィールドで引き続き使用できます。)</td></tr><tr><td scope="row"><code class="literal">MAX_COUNT_RESET</code></td><td>最後にリセットされてからの最大カウンタ値。</td></tr><tr><td scope="row"><code class="literal">MIN_COUNT_RESET</code></td><td>最後にリセットされてからの最小カウンタ値。</td></tr><tr><td scope="row"><code class="literal">AVG_COUNT_RESET</code></td><td>最後にリセットされてからの平均カウンタ値。</td></tr><tr><td scope="row"><code class="literal">TIME_ENABLED</code></td><td>最後の開始時のタイムスタンプ。</td></tr><tr><td scope="row"><code class="literal">TIME_DISABLED</code></td><td>最後の停止時のタイムスタンプ。</td></tr><tr><td scope="row"><code class="literal">TIME_ELAPSED</code></td><td>カウンタが開始してからの経過時間 (秒単位)。</td></tr><tr><td scope="row"><code class="literal">TIME_RESET</code></td><td>最後の停止時のタイムスタンプ。</td></tr><tr><td scope="row"><code class="literal">STATUS</code></td><td>カウンタがまだ実行中であるのか (<code class="literal"></code>)、または停止しているのか (<code class="literal"></code>)。</td></tr><tr><td scope="row"><code class="literal">TYPE</code></td><td>項目が累積カウンタであるのか、または一部のリソースの現在値を測定しているのか。</td></tr><tr><td scope="row"><code class="literal">COMMENT</code></td><td>カウンタの説明。</td></tr></tbody></table></div></div><br class="table-break"><p>
      <span class="bold"><strong>例</strong></span>:
    </p><pre class="programlisting">mysql&gt;  SELECT * FROM INFORMATION_SCHEMA.INNODB_METRICS WHERE NAME="dml_inserts"\G
*************************** 1. row ***************************
           NAME: dml_inserts
      SUBSYSTEM: dml
          COUNT: 3
      MAX_COUNT: 3
      MIN_COUNT: NULL
      AVG_COUNT: 0.046153846153846156
    COUNT_RESET: 3
MAX_COUNT_RESET: 3
MIN_COUNT_RESET: NULL
AVG_COUNT_RESET: NULL
   TIME_ENABLED: 2014-12-04 14:18:28
  TIME_DISABLED: NULL
   TIME_ELAPSED: 65
     TIME_RESET: NULL
         STATUS: enabled
           TYPE: status_counter
        COMMENT: Number of rows inserted
1 row in set (0.00 sec)</pre><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          このテーブルをクエリーするには <code class="literal">PROCESS</code> 権限が必要です。
        </p></li><li class="listitem"><p>
          <code class="literal">DESCRIBE</code> または <code class="literal">SHOW COLUMNS</code> を使用して、データ型とデフォルト値を含む、このテーブルのカラムに関する追加情報を表示します。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="innodb-ft-config-table"></a>21.29.20 INFORMATION_SCHEMA INNODB_FT_CONFIG テーブル</h3></div></div></div><a class="indexterm" name="idm139979009624576"></a><p>
      <code class="literal">INNODB_FT_CONFIG</code> テーブルは、<code class="literal">FULLTEXT</code> インデックスに関するメタデータと、<code class="literal">InnoDB</code> テーブルに関連する処理を表示します。
    </p><p>
      このテーブルをクエリーする前に、構成変数 <code class="literal">innodb_ft_aux_table</code> を、<code class="literal">test/articles</code> など、<code class="literal">FULLTEXT</code> インデックスを含むテーブルの名前 (データベース名など) に設定します。
    </p><p>
      関連する使用法と使用例については、<a class="xref" href="innodb-storage-engine.html#innodb-information-schema-fulltext_index-tables" title="14.14.4 InnoDB INFORMATION_SCHEMA FULLTEXT インデックステーブル">セクション14.14.4「InnoDB INFORMATION_SCHEMA FULLTEXT インデックステーブル」</a>を参照してください。
    </p><div class="table"><a name="innodb-information-schema-innodb_ft_config_columns_table"></a><p class="title"><b>表 21.22 INNODB_FT_CONFIG のカラム</b></p><div class="table-contents"><table summary="INNODB_FT_CONFIG のカラム" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">KEY</code></td><td><code class="literal">FULLTEXT</code> インデックスを含んだ <code class="literal">InnoDB</code> テーブルのメタデータの項目を指定する名前。</td></tr><tr><td scope="row"><code class="literal">VALUE</code></td><td><code class="literal">InnoDB</code> テーブルの <code class="literal">FULLTEXT</code> インデックスの側面に対する一部の制限または現在値を反映した、<code class="literal">KEY</code> カラムに関連付けられた値。</td></tr></tbody></table></div></div><br class="table-break"><p>
      <span class="bold"><strong>例</strong></span>:
    </p><pre class="programlisting">mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_FT_CONFIG;
+---------------------------+-------------------+
| KEY                       | VALUE             |
+---------------------------+-------------------+
| optimize_checkpoint_limit | 180               |
| synced_doc_id             | 0                 |
| stopword_table_name       | test/my_stopwords |
| use_stopword              | 1                 |
+---------------------------+-------------------+
4 rows in set (0.00 sec)
</pre><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          この表では、内部構成のみが対象になります。統計情報の使用は想定されていません。
        </p></li><li class="listitem"><p>
          <code class="literal">DESCRIBE</code> または <code class="literal">SHOW COLUMNS</code> を使用して、データ型とデフォルト値を含む、このテーブルのカラムに関する追加情報を表示します。
        </p></li><li class="listitem"><p>
          このテーブルをクエリーするには <code class="literal">PROCESS</code> 権限が必要です。
        </p></li><li class="listitem"><p>
          <code class="literal">KEY</code> カラムの値は、<code class="literal">InnoDB</code> 全文処理のパフォーマンスチューニングおよびデバッグの必要性に応じて異なる場合があります。現在、キー値は次のものがあります。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">optimize_checkpoint_limit</code>: <code class="literal">OPTIMIZE TABLE</code> の実行が停止するまでの秒数です。
            </p></li><li class="listitem"><p>
              <code class="literal">synced_doc_id</code>: 次に発行される <code class="literal">DOC_ID</code> です。
            </p></li><li class="listitem"><p>
              <code class="literal">stopword_table_name</code>: ユーザー定義のストップワードテーブルに対する <em class="replaceable"><code>database/table</code></em> の名前です。ユーザー定義のストップワードテーブルがない場合、このフィールドは空です。
            </p></li><li class="listitem"><p>
              <code class="literal">use_stopword</code>: ストップワードテーブルを使用するかどうかを示します。これは、<code class="literal">FULLTEXT</code> インデックスの作成時に定義されます。
            </p></li></ul></div></li><li class="listitem"><p>
          <code class="literal">InnoDB</code> <code class="literal">FULLTEXT</code> 検索の詳細は、<a class="xref" href="innodb-storage-engine.html#innodb-fulltext-index" title="14.2.13.3 FULLTEXT インデックス">セクション14.2.13.3「FULLTEXT インデックス」</a>および<a class="xref" href="functions.html#fulltext-search" title="12.9 全文検索関数">セクション12.9「全文検索関数」</a>を参照してください。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="innodb-ft-default-stopword-table"></a>21.29.21 INFORMATION_SCHEMA INNODB_FT_DEFAULT_STOPWORD テーブル</h3></div></div></div><a class="indexterm" name="idm139979009575792"></a><p>
      <code class="literal">INNODB_FT_DEFAULT_STOPWORD</code> テーブルは、<code class="literal">InnoDB</code> テーブルでの <code class="literal">FULLTEXT</code> インデックスの作成時にデフォルトで使用される<a class="link" href="glossary.html#glos_stopword" title="ストップワード">ストップワード</a>のリストを保持します。デフォルトの <code class="literal">InnoDB</code> ストップワードリストに関する情報と、自身のストップワードリストの定義方法については、<a class="xref" href="functions.html#fulltext-stopwords" title="12.9.4 全文ストップワード">セクション12.9.4「全文ストップワード」</a>を参照してください。
    </p><p>
      関連する使用法と使用例については、<a class="xref" href="innodb-storage-engine.html#innodb-information-schema-fulltext_index-tables" title="14.14.4 InnoDB INFORMATION_SCHEMA FULLTEXT インデックステーブル">セクション14.14.4「InnoDB INFORMATION_SCHEMA FULLTEXT インデックステーブル」</a>を参照してください。
    </p><div class="table"><a name="innodb-information-schema-innodb_ft_default_stopword_columns_table"></a><p class="title"><b>表 21.23 INNODB_FT_DEFAULT_STOPWORD のカラム</b></p><div class="table-contents"><table summary="INNODB_FT_DEFAULT_STOPWORD のカラム" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">value</code></td><td><code class="literal">InnoDB</code> テーブルで <code class="literal">FULLTEXT</code> インデックスのストップワードとしてデフォルトで使用される単語。<code class="literal">innodb_ft_server_stopword_table</code> または <code class="literal">innodb_ft_user_stopword_table</code> オプションのどちらかを使用してデフォルトのストップワード処理をオーバーライドする場合は使用されません。</td></tr></tbody></table></div></div><br class="table-break"><p>
      <span class="bold"><strong>例</strong></span>:
    </p><pre class="programlisting">mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_FT_DEFAULT_STOPWORD;
+-------+
| value |
+-------+
| a     |
| about |
| an    |
| are   |
| as    |
| at    |
| be    |
| by    |
| com   |
| de    |
| en    |
| for   |
| from  |
| how   |
| i     |
| in    |
| is    |
| it    |
| la    |
| of    |
| on    |
| or    |
| that  |
| the   |
| this  |
| to    |
| was   |
| what  |
| when  |
| where |
| who   |
| will  |
| with  |
| und   |
| the   |
| www   |
+-------+
36 rows in set (0.00 sec)</pre><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">DESCRIBE</code> または <code class="literal">SHOW COLUMNS</code> を使用して、データ型とデフォルト値を含む、このテーブルのカラムに関する追加情報を表示します。
        </p></li><li class="listitem"><p>
          このテーブルをクエリーするには <code class="literal">PROCESS</code> 権限が必要です。
        </p></li><li class="listitem"><p>
          <code class="literal">InnoDB</code> <code class="literal">FULLTEXT</code> 検索の詳細は、<a class="xref" href="innodb-storage-engine.html#innodb-fulltext-index" title="14.2.13.3 FULLTEXT インデックス">セクション14.2.13.3「FULLTEXT インデックス」</a>および<a class="xref" href="functions.html#fulltext-search" title="12.9 全文検索関数">セクション12.9「全文検索関数」</a>を参照してください。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="innodb-ft-index-table-table"></a>21.29.22 INFORMATION_SCHEMA INNODB_FT_INDEX_TABLE テーブル</h3></div></div></div><a class="indexterm" name="idm139979009542992"></a><p>
      <code class="literal">INNODB_FT_INDEX_TABLE</code> テーブルには、<code class="literal">InnoDB</code> テーブルの <code class="literal">FULLTEXT</code> インデックスに対してテキスト検索を処理するために使用される、転置インデックスに関する情報が表示されます。
    </p><p>
      このテーブルをクエリーする前に、構成変数 <code class="literal">innodb_ft_aux_table</code> を、<code class="literal">test/articles</code> など、<code class="literal">FULLTEXT</code> インデックスを含むテーブルの名前 (データベース名など) に設定します。
    </p><p>
      関連する使用法と使用例については、<a class="xref" href="innodb-storage-engine.html#innodb-information-schema-fulltext_index-tables" title="14.14.4 InnoDB INFORMATION_SCHEMA FULLTEXT インデックステーブル">セクション14.14.4「InnoDB INFORMATION_SCHEMA FULLTEXT インデックステーブル」</a>を参照してください。
    </p><div class="table"><a name="innodb-information-schema-innodb_ft_index_table_columns_table"></a><p class="title"><b>表 21.24 INNODB_FT_INDEX_TABLE のカラム</b></p><div class="table-contents"><table summary="INNODB_FT_INDEX_TABLE のカラム" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">WORD</code></td><td><code class="literal">FULLTEXT</code> の一部であるカラムのテキストから抽出された単語。</td></tr><tr><td scope="row"><code class="literal">FIRST_DOC_ID</code></td><td><code class="literal">FULLTEXT</code> インデックスでこの単語が最初に表示されるドキュメント ID。</td></tr><tr><td scope="row"><code class="literal">LAST_DOC_ID</code></td><td><code class="literal">FULLTEXT</code> インデックスでこの単語が最後に表示されるドキュメント ID。</td></tr><tr><td scope="row"><code class="literal">DOC_COUNT</code></td><td><code class="literal">FULLTEXT</code> インデックスでこの単語が表示される行の数。同じ単語は、<code class="literal">DOC_ID</code> 値と <code class="literal">POSITION</code> 値の組み合わせごとに一度ずつ、キャッシュテーブル内で複数回現れる可能性があります。</td></tr><tr><td scope="row"><code class="literal">DOC_ID</code></td><td>単語を含む行のドキュメント ID。この値は、ベースとなるテーブルに対して定義した ID カラムの値を反映することも、テーブルに適切なカラムが含まれないときに <code class="literal">InnoDB</code> によって生成されたシーケンス値にすることもできます。</td></tr><tr><td scope="row"><code class="literal">POSITION</code></td><td><code class="literal">DOC_ID</code> 値で識別された関連ドキュメント内のこの単語の特定のインスタンス位置。</td></tr></tbody></table></div></div><br class="table-break"><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          このテーブルは最初から、構成変数 <code class="literal">innodb_ft_aux_table</code> の値を設定するまで空です。次の例は、<code class="literal">innodb_ft_aux_table</code> オプションを使用して、指定されたテーブルの <code class="literal">FULLTEXT</code> インデックスに関する情報を表示する方法について説明します。新しく挿入された行の情報が <code class="literal">INNODB_FT_INDEX_TABLE</code> に表示される前に、<code class="literal">FULLTEXT</code> インデックスキャッシュは、ディスクにフラッシュされる必要があります。これは、<code class="literal">innodb_optimize_fulltext_only=ON</code> でインデックスのついたテーブルで <code class="literal">OPTIMIZE TABLE</code> 操作により実行されます。
        </p><pre class="programlisting">
mysql&gt; use test;

mysql&gt; CREATE TABLE articles (
      id INT UNSIGNED AUTO_INCREMENT NOT NULL PRIMARY KEY,
      title VARCHAR(200),
      body TEXT,
      FULLTEXT (title,body)
    ) ENGINE=InnoDB;

mysql&gt; INSERT INTO articles (title,body) VALUES
    ('MySQL Tutorial','DBMS stands for DataBase ...'),
    ('How To Use MySQL Well','After you went through a ...'),
    ('Optimizing MySQL','In this tutorial we will show ...'),
    ('1001 MySQL Tricks','1. Never run mysqld as root. 2. ...'),
    ('MySQL vs. YourSQL','In the following database comparison ...'),
    ('MySQL Security','When configured properly, MySQL ...');

mysql&gt; SET GLOBAL innodb_optimize_fulltext_only=ON;
Query OK, 0 rows affected (0.00 sec)

mysql&gt; OPTIMIZE TABLE articles;
+---------------+----------+----------+----------+
| Table         | Op       | Msg_type | Msg_text |
+---------------+----------+----------+----------+
| test.articles | optimize | status   | OK       |
+---------------+----------+----------+----------+
1 row in set (0.00 sec)

mysql&gt; SET GLOBAL innodb_ft_aux_table = 'test/articles';
Query OK, 0 rows affected (0.00 sec)

mysql&gt; USE INFORMATION_SCHEMA;

mysql&gt; SELECT word, doc_count, doc_id, position FROM INNODB_FT_INDEX_TABLE LIMIT 5;
+------------+-----------+--------+----------+
| word       | doc_count | doc_id | position |
+------------+-----------+--------+----------+
| 1001       |         1 |      4 |        0 |
| after      |         1 |      2 |       22 |
| comparison |         1 |      5 |       44 |
| configured |         1 |      6 |       20 |
| database   |         2 |      1 |       31 |
+------------+-----------+--------+----------+
5 rows in set (0.01 sec)
        </pre></li><li class="listitem"><p>
          <code class="literal">DESCRIBE</code> または <code class="literal">SHOW COLUMNS</code> を使用して、データ型とデフォルト値を含む、このテーブルのカラムに関する追加情報を表示します。
        </p></li><li class="listitem"><p>
          このテーブルをクエリーするには <code class="literal">PROCESS</code> 権限が必要です。
        </p></li><li class="listitem"><p>
          <code class="literal">InnoDB</code> <code class="literal">FULLTEXT</code> 検索の詳細は、<a class="xref" href="innodb-storage-engine.html#innodb-fulltext-index" title="14.2.13.3 FULLTEXT インデックス">セクション14.2.13.3「FULLTEXT インデックス」</a>および<a class="xref" href="functions.html#fulltext-search" title="12.9 全文検索関数">セクション12.9「全文検索関数」</a>を参照してください。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="innodb-ft-index-cache-table"></a>21.29.23 INFORMATION_SCHEMA INNODB_FT_INDEX_CACHE テーブル</h3></div></div></div><a class="indexterm" name="idm139979009491200"></a><p>
      <code class="literal">INNODB_FT_INDEX_CACHE</code>: <code class="literal">FULLTEXT</code> インデックス内の新しく挿入された行に関するトークン情報が含まれています。DML 操作中の負荷の大きなインデックスの再編成を避けるために、新しくインデックスが付けられた単語に関する情報は個別に格納され、<code class="literal">OPTIMIZE TABLE</code> の実行時、サーバーのシャットダウン時、またはキャッシュサイズが <code class="literal">innodb_ft_cache_size</code> や <code class="literal">innodb_ft_total_cache_size</code> で定義された制限を超えたときにのみ、メインの検索インデックスと組み合わされます。
    </p><p>
      このテーブルをクエリーする前に、構成変数 <code class="literal">innodb_ft_aux_table</code> を、<code class="literal">test/articles</code> など、<code class="literal">FULLTEXT</code> インデックスを含むテーブルの名前 (データベース名など) に設定します。
    </p><p>
      関連する使用法と使用例については、<a class="xref" href="innodb-storage-engine.html#innodb-information-schema-fulltext_index-tables" title="14.14.4 InnoDB INFORMATION_SCHEMA FULLTEXT インデックステーブル">セクション14.14.4「InnoDB INFORMATION_SCHEMA FULLTEXT インデックステーブル」</a>を参照してください。
    </p><div class="table"><a name="innodb-information-schema-innodb_ft_index_cache_columns_table"></a><p class="title"><b>表 21.25 INNODB_FT_INDEX_CACHE のカラム</b></p><div class="table-contents"><table summary="INNODB_FT_INDEX_CACHE のカラム" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">WORD</code></td><td>新しく挿入された行のテキストから抽出された単語。</td></tr><tr><td scope="row"><code class="literal">FIRST_DOC_ID</code></td><td><code class="literal">FULLTEXT</code> インデックスでこの単語が最初に表示されるドキュメント ID。</td></tr><tr><td scope="row"><code class="literal">LAST_DOC_ID</code></td><td><code class="literal">FULLTEXT</code> インデックスでこの単語が最後に表示されるドキュメント ID。</td></tr><tr><td scope="row"><code class="literal">DOC_COUNT</code></td><td><code class="literal">FULLTEXT</code> インデックスでこの単語が表示される行の数。同じ単語は、<code class="literal">DOC_ID</code> 値と <code class="literal">POSITION</code> 値の組み合わせごとに一度ずつ、キャッシュテーブル内で複数回現れる可能性があります。</td></tr><tr><td scope="row"><code class="literal">DOC_ID</code></td><td>新しく挿入された行のドキュメント ID。この値は、ベースとなるテーブルに対して定義した ID カラムの値を反映することも、テーブルに適切なカラムが含まれないときに <code class="literal">InnoDB</code> によって生成されたシーケンス値にすることもできます。</td></tr><tr><td scope="row"><code class="literal">POSITION</code></td><td><code class="literal">DOC_ID</code> 値で識別された関連ドキュメント内のこの単語の特定のインスタンス位置。値は絶対位置を表しません。その単語の 1 つ前のインスタンスの <code class="literal">POSITION</code> に追加されたオフセットです。</td></tr></tbody></table></div></div><br class="table-break"><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          このテーブルは最初から、構成変数 <code class="literal">innodb_ft_aux_table</code> の値を設定するまで空です。次の例は、<code class="literal">innodb_ft_aux_table</code> オプションを使用して、指定されたテーブルの <code class="literal">FULLTEXT</code> インデックスに関する情報を表示する方法について説明します。
        </p><pre class="programlisting">
mysql&gt; USE test;

mysql&gt; CREATE TABLE articles (
      id INT UNSIGNED AUTO_INCREMENT NOT NULL PRIMARY KEY,
      title VARCHAR(200),
      body TEXT,
      FULLTEXT (title,body)
    ) ENGINE=InnoDB;

mysql&gt; INSERT INTO articles (title,body) VALUES
    ('MySQL Tutorial','DBMS stands for DataBase ...'),
    ('How To Use MySQL Well','After you went through a ...'),
    ('Optimizing MySQL','In this tutorial we will show ...'),
    ('1001 MySQL Tricks','1. Never run mysqld as root. 2. ...'),
    ('MySQL vs. YourSQL','In the following database comparison ...'),
    ('MySQL Security','When configured properly, MySQL ...');

mysql&gt; SET GLOBAL innodb_ft_aux_table = 'test/articles';
Query OK, 0 rows affected (0.00 sec)

mysql&gt; USE INFORMATION_SCHEMA;

mysql&gt; SELECT word, doc_count, doc_id, position FROM INNODB_FT_INDEX_CACHE LIMIT 5;
+------------+-----------+--------+----------+
| word       | doc_count | doc_id | position |
+------------+-----------+--------+----------+
| 1001       |         1 |      4 |        0 |
| after      |         1 |      2 |       22 |
| comparison |         1 |      5 |       44 |
| configured |         1 |      6 |       20 |
| database   |         2 |      1 |       31 |
+------------+-----------+--------+----------+
5 rows in set (0.00 sec)
        </pre></li><li class="listitem"><p>
          <code class="literal">DESCRIBE</code> または <code class="literal">SHOW COLUMNS</code> を使用して、データ型とデフォルト値を含む、このテーブルのカラムに関する追加情報を表示します。
        </p></li><li class="listitem"><p>
          このテーブルをクエリーするには <code class="literal">PROCESS</code> 権限が必要です。
        </p></li><li class="listitem"><p>
          <code class="literal">InnoDB</code> <code class="literal">FULLTEXT</code> 検索の詳細は、<a class="xref" href="innodb-storage-engine.html#innodb-fulltext-index" title="14.2.13.3 FULLTEXT インデックス">セクション14.2.13.3「FULLTEXT インデックス」</a>および<a class="xref" href="functions.html#fulltext-search" title="12.9 全文検索関数">セクション12.9「全文検索関数」</a>を参照してください。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="innodb-ft-deleted-table"></a>21.29.24 INFORMATION_SCHEMA INNODB_FT_DELETED テーブル</h3></div></div></div><a class="indexterm" name="idm139979009440048"></a><p>
      <code class="literal">INNODB_FT_DELETED</code> テーブルは、<code class="literal">InnoDB</code> テーブルの <code class="literal">FULLTEXT</code> インデックスから削除された行を記録します。<code class="literal">InnoDB</code> <code class="literal">FULLTEXT</code> インデックスに対する DML 操作中の負荷の大きなインデックスの再編成を避けるために、新しく削除された単語に関する情報は個別に格納され、テキスト検索を行うときに検索結果からフィルタで除去されて、<code class="literal">InnoDB</code> テーブルの <code class="literal">OPTIMIZE TABLE</code> ステートメントを発行するときにのみメインの検索インデックスから削除されます。詳細は、<a class="xref" href="functions.html#fulltext-optimize" title="InnoDB 全文インデックスの最適化">InnoDB 全文インデックスの最適化</a>を参照してください。
    </p><p>
      このテーブルは最初から、構成変数 <code class="literal">innodb_ft_aux_table</code> の値を、<code class="literal">test/articles</code> など、<code class="literal">FULLTEXT</code> インデックスを含むテーブルの名前 (データベース名を含む) に設定するまで空です。
    </p><p>
      関連する使用法と使用例については、<a class="xref" href="innodb-storage-engine.html#innodb-information-schema-fulltext_index-tables" title="14.14.4 InnoDB INFORMATION_SCHEMA FULLTEXT インデックステーブル">セクション14.14.4「InnoDB INFORMATION_SCHEMA FULLTEXT インデックステーブル」</a>を参照してください。
    </p><div class="table"><a name="innodb-information-schema-innodb_ft_deleted_columns_table"></a><p class="title"><b>表 21.26 INNODB_FT_DELETED のカラム</b></p><div class="table-contents"><table summary="INNODB_FT_DELETED のカラム" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">DOC_ID</code></td><td>新たに削除された行のドキュメント ID。この値は、ベースとなるテーブルに対して定義した ID カラムの値を反映することも、テーブルに適切なカラムが含まれないときに <code class="literal">InnoDB</code> によって生成されたシーケンス値にすることもできます。削除された行のデータが <code class="literal">OPTIMIZE TABLE</code> ステートメントによって <code class="literal">FULLTEXT</code> インデックスから物理的に削除される前にテキスト検索を行う場合、この値は <code class="literal">innodb_ft_index_table</code> テーブルの行をスキップするために使用されます。詳細は、<a class="xref" href="functions.html#fulltext-optimize" title="InnoDB 全文インデックスの最適化">InnoDB 全文インデックスの最適化</a>を参照してください。</td></tr></tbody></table></div></div><br class="table-break"><p>
      <span class="bold"><strong>例</strong></span>:
    </p><pre class="programlisting">mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_FT_DELETED;
+--------+
| DOC_ID |
+--------+
|      6 |
|      7 |
|      8 |
+--------+
3 rows in set (0.00 sec)</pre><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">DESCRIBE</code> または <code class="literal">SHOW COLUMNS</code> を使用して、データ型とデフォルト値を含む、このテーブルのカラムに関する追加情報を表示します。
        </p></li><li class="listitem"><p>
          このテーブルをクエリーするには <code class="literal">PROCESS</code> 権限が必要です。
        </p></li><li class="listitem"><p>
          <code class="literal">InnoDB</code> <code class="literal">FULLTEXT</code> 検索の詳細は、<a class="xref" href="innodb-storage-engine.html#innodb-fulltext-index" title="14.2.13.3 FULLTEXT インデックス">セクション14.2.13.3「FULLTEXT インデックス」</a>および<a class="xref" href="functions.html#fulltext-search" title="12.9 全文検索関数">セクション12.9「全文検索関数」</a>を参照してください。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="innodb-ft-being-deleted-table"></a>21.29.25 INFORMATION_SCHEMA INNODB_FT_BEING_DELETED テーブル</h3></div></div></div><a class="indexterm" name="idm139979009401808"></a><p>
      <code class="literal">INNODB_FT_BEING_DELETED</code> テーブルは、<code class="literal">OPTIMIZE TABLE</code> の保守操作中にのみ使用される <code class="literal">INNODB_FT_DELETED</code> テーブルのスナップショットです。<code class="literal">OPTIMIZE TABLE</code> が実行されると、<code class="literal">INNODB_FT_BEING_DELETED</code> テーブルは空になり、<code class="literal">INNODB_FT_DELETED</code> テーブルから DOC_ID が削除されます。<code class="literal">INNODB_FT_BEING_DELETED</code> の内容は一般に有効期間が短いため、モニタリングやデバッグでのこのテーブルの有用性はかぎられます。<code class="literal">FULLTEXT</code> インデックスを持つテーブルでの <code class="literal">OPTIMIZE TABLE</code> の実行の詳細は、<a class="xref" href="functions.html#fulltext-fine-tuning" title="12.9.6 MySQL の全文検索の微調整">セクション12.9.6「MySQL の全文検索の微調整」</a>を参照してください。
    </p><p>
      このテーブルは最初から、構成変数 <code class="literal">innodb_ft_aux_table</code> の値を設定するまで空です。出力は、<code class="literal">INNODB_FT_DELETED</code> テーブルに対して用意された出力例に似ています。
    </p><p>
      関連する使用法と使用例については、<a class="xref" href="innodb-storage-engine.html#innodb-information-schema-fulltext_index-tables" title="14.14.4 InnoDB INFORMATION_SCHEMA FULLTEXT インデックステーブル">セクション14.14.4「InnoDB INFORMATION_SCHEMA FULLTEXT インデックステーブル」</a>を参照してください。
    </p><div class="table"><a name="innodb-information-schema-innodb_ft_being_deleted_columns_table"></a><p class="title"><b>表 21.27 INNODB_FT_BEING_DELETED のカラム</b></p><div class="table-contents"><table summary="INNODB_FT_BEING_DELETED のカラム" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">DOC_ID</code></td><td>削除されている過程にある行のドキュメント ID。この値は、ベースとなるテーブルに対して定義した ID カラムの値を反映することも、テーブルに適切なカラムが含まれないときに <code class="literal">InnoDB</code> によって生成されたシーケンス値にすることもできます。削除された行のデータが <code class="literal">OPTIMIZE TABLE</code> ステートメントによって <code class="literal">FULLTEXT</code> インデックスから物理的に削除される前にテキスト検索を行う場合、この値は <code class="literal">innodb_ft_index_table</code> テーブルの行をスキップするために使用されます。詳細は、<a class="xref" href="functions.html#fulltext-optimize" title="InnoDB 全文インデックスの最適化">InnoDB 全文インデックスの最適化</a>を参照してください。</td></tr></tbody></table></div></div><br class="table-break"><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">DESCRIBE</code> または <code class="literal">SHOW COLUMNS</code> を使用して、データ型とデフォルト値を含む、このテーブルのカラムに関する追加情報を表示します。
        </p></li><li class="listitem"><p>
          このテーブルをクエリーするには <code class="literal">PROCESS</code> 権限が必要です。
        </p></li><li class="listitem"><p>
          <code class="literal">InnoDB</code> <code class="literal">FULLTEXT</code> 検索の詳細は、<a class="xref" href="innodb-storage-engine.html#innodb-fulltext-index" title="14.2.13.3 FULLTEXT インデックス">セクション14.2.13.3「FULLTEXT インデックス」</a>および<a class="xref" href="functions.html#fulltext-search" title="12.9 全文検索関数">セクション12.9「全文検索関数」</a>を参照してください。
        </p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mysql-cluster-i_s-tables"></a>21.30 MySQL Cluster の INFORMATION_SCHEMA テーブル</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="information-schema.html#files-table">21.30.1 INFORMATION_SCHEMA FILES テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#ndb-transid-mysql-connection-map-table">21.30.2 INFORMATION_SCHEMA ndb_transid_mysql_connection_map テーブル</a></span></dt></dl></div><p>
    次のセクションでは、MySQL Cluster に固有である <code class="literal">INFORMATION_SCHEMA</code> テーブルに関する情報について説明します。(<code class="literal">FILES</code> テーブルは標準 MySQL 5.6 で使用できますが、ここでは使用していません。)<code class="literal">ndb_transid_mysql_connection_map</code> テーブルは、MySQL Cluster バイナリまたはソース内でのみ利用できる <code class="literal">INFORMATION_SCHEMA</code> プラグインとして実装されており、MySQL Server 5.6 には存在しません。
  </p><p>
    MySQL Cluster のトランザクション、操作、スレッド、ブロック、およびその他のパフォーマンスの側面に関する追加統計およびその他のデータは、<code class="literal">ndbinfo</code> データベース内のテーブルから取得できます。これらのテーブルの詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndbinfo" title="18.5.10 ndbinfo MySQL Cluster 情報データベース">セクション18.5.10「ndbinfo MySQL Cluster 情報データベース」</a>を参照してください。
  </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="files-table"></a>21.30.1 INFORMATION_SCHEMA FILES テーブル</h3></div></div></div><a class="indexterm" name="idm139979009355600"></a><a class="indexterm" name="idm139979009353424"></a><p>
      <code class="literal">FILES</code> テーブルは MySQL <code class="literal">NDB</code> ディスクデータテーブルが格納されるファイルに関する情報を提供します。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        このテーブルは、ディスクデータ<span class="emphasis"><em>ファイル</em></span>に関する情報だけを提供します。個々の <code class="literal">NDB</code> テーブルのディスク領域の割り当てまたは可用性の判断には使用できません。ただし、<span class="command"><strong>ndb_desc</strong></span> を使用して、データがディスク上に格納された <code class="literal">NDB</code> テーブルごとにどれだけの領域が割り当てられているかとともに、そのテーブルに対しディスク上のデータのストレージに利用できる領域がどれだけ残っているかも表示できます。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-desc" title="18.4.10 ndb_desc — NDB テーブルの表示">セクション18.4.10「<span class="command"><strong>ndb_desc</strong></span> — NDB テーブルの表示」</a>を参照してください。
      </p></div><div class="informaltable"><table border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">INFORMATION_SCHEMA</code> 名</th><th scope="col"><code class="literal">SHOW</code> 名</th><th scope="col">備考</th></tr></thead><tbody><tr><td scope="row"><code class="literal">FILE_ID</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">FILE_NAME</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">FILE_TYPE</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">TABLESPACE_NAME</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">TABLE_CATALOG</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">TABLE_SCHEMA</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">TABLE_NAME</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">LOGFILE_GROUP_NAME</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">LOGFILE_GROUP_NUMBER</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">ENGINE</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">FULLTEXT_KEYS</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">DELETED_ROWS</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">UPDATE_COUNT</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">FREE_EXTENTS</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">TOTAL_EXTENTS</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">EXTENT_SIZE</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">INITIAL_SIZE</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">MAXIMUM_SIZE</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">AUTOEXTEND_SIZE</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">CREATION_TIME</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">LAST_UPDATE_TIME</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">LAST_ACCESS_TIME</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">RECOVER_TIME</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">TRANSACTION_COUNTER</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">VERSION</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">ROW_FORMAT</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">TABLE_ROWS</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">AVG_ROW_LENGTH</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">DATA_LENGTH</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">MAX_DATA_LENGTH</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">INDEX_LENGTH</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">DATA_FREE</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">CREATE_TIME</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">UPDATE_TIME</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">CHECK_TIME</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">CHECKSUM</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">STATUS</code></td><td> </td><td>MySQL 拡張</td></tr><tr><td scope="row"><code class="literal">EXTRA</code></td><td> </td><td>MySQL 拡張</td></tr></tbody></table></div><p>
      <span class="bold"><strong>注</strong></span>:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">FILE_ID</code> カラムの値は自動生成されます。
        </p></li><li class="listitem"><p>
          <code class="literal">FILE_NAME</code> は、<code class="literal">CREATE LOGFILE GROUP</code> または <code class="literal">ALTER LOGFILE GROUP</code> によって作成された <code class="literal">UNDO</code> ログファイルの名前か、<code class="literal">CREATE TABLESPACE</code> または <code class="literal">ALTER TABLESPACE</code> で作成されたデータファイルの名前です。
        </p></li><li class="listitem"><p>
          <code class="literal">FILE_TYPE</code> は、<code class="literal">UNDOFILE</code>、<code class="literal">DATAFILE</code>、または <code class="literal">TABLESPACE</code> のいずれかの値です。
        </p></li><li class="listitem"><p>
          <code class="literal">TABLESPACE_NAME</code> は、ファイルが関連付けられているテーブルスペースの名前です。
        </p></li><li class="listitem"><p>
          現在、<code class="literal">TABLESPACE_CATALOG</code> カラムの値は常に <code class="literal">NULL</code> です。
        </p></li><li class="listitem"><p>
          <code class="literal">TABLE_NAME</code> は、関連するファイルがある場合、そのファイルに関連付けられたディスクデータテーブルの名前です。
        </p></li><li class="listitem"><p>
          <code class="literal">LOGFILE_GROUP_NAME</code> カラムは、ログファイルまたはデータファイルが属しているログファイルのグループに名前を付けます。
        </p></li><li class="listitem"><p>
          <code class="literal">UNDO</code> ログファイルでは、<code class="literal">LOGFILE_GROUP_NUMBER</code> には、ログファイルが属しているログファイルグループの自動生成された ID 番号が含まれます。
        </p></li><li class="listitem"><p>
          MySQL Cluster ディスクデータのログファイルまたはデータファイルに対し、<code class="literal">ENGINE</code> カラムの値は常に <code class="literal">NDB</code> または <code class="literal">NDBCLUSTER</code> になります。
        </p></li><li class="listitem"><p>
          MySQL Cluster ディスクデータのログファイルまたはデータファイルでは、<code class="literal">FULLTEXT_KEYS</code> カラムの値は常に空です。
        </p></li><li class="listitem"><p>
          <code class="literal">FREE EXTENTS</code> カラムには、まだファイルが使用していないエクステントの数が表示されます。<code class="literal">TOTAL EXTENTS</code> カラムには、ファイルに割り当てられたエクステントの総数が表示されます。
        </p><p>
          これらの 2 つのカラムの差が、現在ファイルで使用されているエクステントの数です。
        </p><pre class="programlisting">
SELECT TOTAL_EXTENTS - FREE_EXTENTS AS extents_used
    FROM INFORMATION_SCHEMA.FILES
    WHERE FILE_NAME = 'myfile.dat';
</pre><p>
          この差と <code class="literal">EXTENT_SIZE</code> カラムの値 (バイト単位でファイルのエクステントのサイズを指定します) とを乗算すると、ファイルで使用されているディスク容量を概算できます。
        </p><pre class="programlisting">
SELECT (TOTAL_EXTENTS - FREE_EXTENTS) * EXTENT_SIZE AS bytes_used
    FROM INFORMATION_SCHEMA.FILES
    WHERE FILE_NAME = 'myfile.dat';
</pre><p>
          同様に、<code class="literal">FREE_EXTENTS</code> と <code class="literal">EXTENT_SIZE</code> とを乗算すると、特定のファイルに利用できる残りの領域の容量を見積もることができます。
        </p><pre class="programlisting">
SELECT FREE_EXTENTS * EXTENT_SIZE AS bytes_free
    FROM INFORMATION_SCHEMA.FILES
    WHERE FILE_NAME = 'myfile.dat';
</pre><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
            前述のクエリーで生成されたバイト値は概算に過ぎず、その精度は <code class="literal">EXTENT_SIZE</code> の値に反比例します。つまり、<code class="literal">EXTENT_SIZE</code> が大きくなれば、概算の精度は低くなります。
          </p></div><p>
          エクステントがいったん使用されると、エクステントが含まれているデータファイルを破棄せずに再度解放することはできません。これにより、ディスクデータのテーブルからの削除はディスクスペースを解放し<span class="emphasis"><em>ない</em></span>ことになります。
        </p><p>
          エクステントサイズは <code class="literal">CREATE TABLESPACE</code> ステートメントで設定できます。詳細は、<a class="xref" href="sql-syntax.html#create-tablespace" title="13.1.18 CREATE TABLESPACE 構文">セクション13.1.18「CREATE TABLESPACE 構文」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <code class="literal">INITIAL_SIZE</code> カラムには、ファイルのサイズがバイトで表示されます。これは、ファイルの作成に使用された <code class="literal">CREATE LOGFILE GROUP</code>、<code class="literal">ALTER LOGFILE GROUP</code>、<code class="literal">CREATE TABLESPACE</code>、または <code class="literal">ALTER TABLESPACE</code> ステートメントの <code class="literal">INITIAL_SIZE</code> 句に使用された値と同じです。
        </p><p>
          MySQL Cluster ディスクデータファイルの場合、<code class="literal">MAXIMUM_SIZE</code> カラムの値は常に、<code class="literal">INITIAL_SIZE</code> と同じであり、<code class="literal">AUTOEXTEND_SIZE</code> カラムは常に空です。
        </p></li><li class="listitem"><p>
          <code class="literal">CREATION_TIME</code> カラムには、ファイルが作成された日時が表示されます。<code class="literal">LAST_UPDATE_TIME</code> カラムには、ファイルが最後に変更された日時が表示されます。<code class="literal">LAST_ACCESSED</code> カラムは、ファイルが最後にサーバーによってアクセスされた日時が表示されます。
        </p><p>
          現在は、これらのカラムの値はオペレーティングシステムからレポートされたものであり、<code class="literal">NDB</code> ストレージエンジンにより提供されたものではありません。オペレーティングシステムから値が提供されていない場合には、これらのカラムには <code class="literal">0000-00-00 00:00:00</code> が表示されます。
        </p></li><li class="listitem"><p>
          MySQL クラスタディスクデータのファイルでは、<code class="literal">RECOVER_TIME</code> および <code class="literal">TRANSACTION_COUNTER</code> カラムは常に <code class="literal">0</code> です。
        </p></li><li class="listitem"><p>
          MySQL Cluster ディスクデータファイルでは、次のカラムは常に <code class="literal">NULL</code> になります。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">VERSION</code>
            </p></li><li class="listitem"><p>
              <code class="literal">ROW_FORMAT</code>
            </p></li><li class="listitem"><p>
              <code class="literal">TABLE_ROWS</code>
            </p></li><li class="listitem"><p>
              <code class="literal">AVG_ROW_LENGTH</code>
            </p></li><li class="listitem"><p>
              <code class="literal">DATA_LENGTH</code>
            </p></li><li class="listitem"><p>
              <code class="literal">MAX_DATA_LENGTH</code>
            </p></li><li class="listitem"><p>
              <code class="literal">INDEX_LENGTH</code>
            </p></li><li class="listitem"><p>
              <code class="literal">DATA_FREE</code>
            </p></li><li class="listitem"><p>
              <code class="literal">CREATE_TIME</code>
            </p></li><li class="listitem"><p>
              <code class="literal">UPDATE_TIME</code>
            </p></li><li class="listitem"><p>
              <code class="literal">CHECK_TIME</code>
            </p></li><li class="listitem"><p>
              <code class="literal">CHECKSUM</code>
            </p></li></ul></div></li><li class="listitem"><p>
          MySQL Cluster ディスクデータファイルでは、<code class="literal">STATUS</code> カラムの値は常に <code class="literal">NORMAL</code> です。
        </p></li><li class="listitem"><p>
          MySQL Cluster ディスクデータファイルでは、各データノードがファイルのコピーを持っているため、<code class="literal">EXTRA</code> カラムには、ファイルが属しているデータノードが表示されます。4 つのデータノードを持つ MySQL Cluster で、次のステートメントを使用するとします。
        </p><pre class="programlisting">
CREATE LOGFILE GROUP mygroup
    ADD UNDOFILE 'new_undo.dat'
    INITIAL_SIZE 2G
    ENGINE NDB;
</pre><p>
          <code class="literal">CREATE LOGFILE GROUP</code> ステートメントの実行が成功したあと、次に示すものに似た、<code class="literal">FILES</code> テーブルに対するこのクエリーの結果が表示されます。
        </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT LOGFILE_GROUP_NAME, FILE_TYPE, EXTRA</code></strong>
    -&gt;     <strong class="userinput"><code>FROM INFORMATION_SCHEMA.FILES</code></strong>
    -&gt;     <strong class="userinput"><code>WHERE FILE_NAME = 'new_undo.dat';</code></strong>
+--------------------+-------------+----------------+
| LOGFILE_GROUP_NAME | FILE_TYPE   | EXTRA          |
+--------------------+-------------+----------------+
| mygroup            | UNDO FILE   | CLUSTER_NODE=3 |
| mygroup            | UNDO FILE   | CLUSTER_NODE=4 |
| mygroup            | UNDO FILE   | CLUSTER_NODE=5 |
| mygroup            | UNDO FILE   | CLUSTER_NODE=6 |
+--------------------+-------------+----------------+
4 rows in set (0.01 sec)
</pre></li><li class="listitem"><p>
          <code class="literal">FILES</code> テーブルは、非標準テーブルです。
        </p></li><li class="listitem"><p>
          ログファイルグループの作成すると、追加の行が <code class="literal">FILES</code> テーブルに存在します。この行は <code class="literal">FILE_NAME</code> カラムの値に対して <code class="literal">NULL</code> です。この行に対し、<code class="literal">FILE_ID</code> カラムの値は常に <code class="literal">0</code> で、<code class="literal">FILE_TYPE</code> カラムの値は常に <code class="literal">UNDO FILE</code> で、<code class="literal">STATUS</code> カラムの値は常に <code class="literal">NORMAL</code> になります。現在、<code class="literal">ENGINE</code> カラムの値は常に <code class="literal">NDBCLUSTER</code> です。
        </p><p>
          この行の <code class="literal">FREE_EXTENTS</code> カラムには、名前と番号がそれぞれ <code class="literal">LOGFILE_GROUP_NAME</code> カラムと <code class="literal">LOGFILE_GROUP_NUMBER</code> カラムに表示される特定のログファイルグループに属す、すべての Undo ファイルで利用可能な空きエクステントの合計数が表示されます。
        </p><p>
          MySQL Cluster に既存のログファイルグループが存在せず、次のステートメントを使用してログファイルグループを作成するとします。
        </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>CREATE LOGFILE GROUP lg1</code></strong>
    -&gt;   <strong class="userinput"><code>ADD UNDOFILE 'undofile.dat'</code></strong>
    -&gt;   <strong class="userinput"><code>INITIAL_SIZE = 16M</code></strong>
    -&gt;   <strong class="userinput"><code>UNDO_BUFFER_SIZE = 1M</code></strong>
    -&gt;   <strong class="userinput"><code>ENGINE = NDB;</code></strong>
Query OK, 0 rows affected (3.81 sec)
</pre><p>
          <code class="literal">FILES</code> テーブルにクエリーすると、<code class="literal">NULL</code> 行が表示されます。
        </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT DISTINCT</code></strong>
    -&gt;   <strong class="userinput"><code>FILE_NAME AS File,</code></strong>
    -&gt;   <strong class="userinput"><code>FREE_EXTENTS AS Free,</code></strong>
    -&gt;   <strong class="userinput"><code>TOTAL_EXTENTS AS Total,</code></strong>
    -&gt;   <strong class="userinput"><code>EXTENT_SIZE AS Size,</code></strong>
    -&gt;   <strong class="userinput"><code>INITIAL_SIZE AS Initial</code></strong>
    -&gt;   <strong class="userinput"><code>FROM INFORMATION_SCHEMA.FILES;</code></strong>
+--------------+---------+---------+------+----------+
| File         | Free    | Total   | Size | Initial  |
+--------------+---------+---------+------+----------+
| undofile.dat |    NULL | 4194304 |    4 | 16777216 |
| NULL         | 4184068 |    NULL |    4 |     NULL |
+--------------+---------+---------+------+----------+
2 rows in set (0.01 sec)
</pre><p>
          Undo ロギングに利用できる空きエクステントの総数は常に、Undo ファイルの維持に必要なオーバーヘッドのために、ログファイルグループ内のすべての Undo ファイルの <code class="literal">TOTAL_EXTENTS</code> カラムの値の合計よりもいくぶん少なくなります。これは、ログファイルグループに 2 番目の Undo ファイルを追加しから、<code class="literal">FILES</code> テーブルに対して前述のクエリーを繰り返すと表示できます。
        </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>ALTER LOGFILE GROUP lg1</code></strong>
    -&gt;   <strong class="userinput"><code>ADD UNDOFILE 'undofile02.dat'</code></strong>
    -&gt;   <strong class="userinput"><code>INITIAL_SIZE = 4M</code></strong>
    -&gt;   <strong class="userinput"><code>ENGINE = NDB;</code></strong>
Query OK, 0 rows affected (1.02 sec)

mysql&gt; <strong class="userinput"><code>SELECT DISTINCT</code></strong>
    -&gt;   <strong class="userinput"><code>FILE_NAME AS File,</code></strong>
    -&gt;   <strong class="userinput"><code>FREE_EXTENTS AS Free,</code></strong>
    -&gt;   <strong class="userinput"><code>TOTAL_EXTENTS AS Total,</code></strong>
    -&gt;   <strong class="userinput"><code>EXTENT_SIZE AS Size,</code></strong>
    -&gt;   <strong class="userinput"><code>INITIAL_SIZE AS Initial</code></strong>
    -&gt;   <strong class="userinput"><code>FROM INFORMATION_SCHEMA.FILES;</code></strong>
+----------------+---------+---------+------+----------+
| File           | Free    | Total   | Size | Initial  |
+----------------+---------+---------+------+----------+
| undofile.dat   |    NULL | 4194304 |    4 | 16777216 |
| undofile02.dat |    NULL | 1048576 |    4 |  4194304 |
| NULL           | 5223944 |    NULL |    4 |     NULL |
+----------------+---------+---------+------+----------+
3 rows in set (0.01 sec)
</pre><p>
          このログファイルグループを使用したディスクデータテーブルが Undo ロギングに利用できる空き領域の容量 (バイト単位) は、空きエクステントの数と初期サイズとを乗算すると概算できます。
        </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT</code></strong>
    -&gt;   <strong class="userinput"><code>FREE_EXTENTS AS 'Free Extents',</code></strong>
    -&gt;   <strong class="userinput"><code>FREE_EXTENTS * EXTENT_SIZE AS 'Free Bytes'</code></strong>
    -&gt;   <strong class="userinput"><code>FROM INFORMATION_SCHEMA.FILES</code></strong>
    -&gt;   <strong class="userinput"><code>WHERE LOGFILE_GROUP_NAME = 'lg1'</code></strong>
    -&gt;   <strong class="userinput"><code>AND FILE_NAME IS NULL;</code></strong>
+--------------+------------+
| Free Extents | Free Bytes |
+--------------+------------+
|      5223944 |   20895776 |
+--------------+------------+
1 row in set (0.02 sec)
</pre><p>
          MySQL Cluster ディスクデータテーブルを作成し、複数の行を挿入した場合、たとえば、その後 Undo ロギングに使用できる領域がどれだけ残っているかを概算で確認できます。
        </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>CREATE TABLESPACE ts1</code></strong>
    -&gt;   <strong class="userinput"><code>ADD DATAFILE 'data1.dat'</code></strong>
    -&gt;   <strong class="userinput"><code>USE LOGFILE GROUP lg1</code></strong>
    -&gt;   <strong class="userinput"><code>INITIAL_SIZE 512M</code></strong>
    -&gt;   <strong class="userinput"><code>ENGINE = NDB;</code></strong>
Query OK, 0 rows affected (8.71 sec)

mysql&gt; <strong class="userinput"><code>CREATE TABLE dd (</code></strong>
    -&gt;   <strong class="userinput"><code>c1 INT NOT NULL PRIMARY KEY,</code></strong>
    -&gt;   <strong class="userinput"><code>c2 INT,</code></strong>
    -&gt;   <strong class="userinput"><code>c3 DATE</code></strong>
    -&gt;   <strong class="userinput"><code>)</code></strong>
    -&gt;   <strong class="userinput"><code>TABLESPACE ts1 STORAGE DISK</code></strong>
    -&gt;   <strong class="userinput"><code>ENGINE = NDB;</code></strong>
Query OK, 0 rows affected (2.11 sec)

mysql&gt; <strong class="userinput"><code>INSERT INTO dd VALUES</code></strong>
    -&gt;   <strong class="userinput"><code>(NULL, 1234567890, '2007-02-02'),</code></strong>
    -&gt;   <strong class="userinput"><code>(NULL, 1126789005, '2007-02-03'),</code></strong>
    -&gt;   <strong class="userinput"><code>(NULL, 1357924680, '2007-02-04'),</code></strong>
    -&gt;   <strong class="userinput"><code>(NULL, 1642097531, '2007-02-05');</code></strong>
Query OK, 4 rows affected (0.01 sec)

mysql&gt; <strong class="userinput"><code>SELECT</code></strong>
    -&gt;   <strong class="userinput"><code>FREE_EXTENTS AS 'Free Extents',</code></strong>
    -&gt;   <strong class="userinput"><code>FREE_EXTENTS * EXTENT_SIZE AS 'Free Bytes'</code></strong>
    -&gt;   <strong class="userinput"><code>FROM INFORMATION_SCHEMA.FILES</code></strong>
    -&gt;   <strong class="userinput"><code>WHERE LOGFILE_GROUP_NAME = 'lg1'</code></strong>
    -&gt;   <strong class="userinput"><code>AND FILE_NAME IS NULL;</code></strong>
+--------------+------------+
| Free Extents | Free Bytes |
+--------------+------------+
|      5207565 |   20830260 |
+--------------+------------+
1 row in set (0.01 sec)
</pre></li><li class="listitem"><p>
          データファイルがテーブルスペースに関連付けられているかどうかを問わず、MySQL Cluster テーブルスペースの追加の行が <code class="literal">FILES</code> テーブルに存在します。この行は <code class="literal">FILE_NAME</code> カラムの値に対して <code class="literal">NULL</code> です。この行に対し、<code class="literal">FILE_ID</code> カラムの値は常に <code class="literal">0</code> で、<code class="literal">FILE_TYPE</code> カラムの値は常に <code class="literal">TABLESPACE</code> で、<code class="literal">STATUS</code> カラムの値は常に <code class="literal">NORMAL</code> になります。現在、<code class="literal">ENGINE</code> カラムの値は常に <code class="literal">NDBCLUSTER</code> です。
        </p></li><li class="listitem"><p>
          <code class="literal">FILES</code> テーブルに関連付けられた <code class="literal">SHOW</code> ステートメントはありません。
        </p></li><li class="listitem"><p>
          MySQL ディスクデータオブジェクトの作成と削除の追加情報と例については、<a class="xref" href="mysql-cluster.html#mysql-cluster-disk-data" title="18.5.12 MySQL Cluster ディスクデータテーブル">セクション18.5.12「MySQL Cluster ディスクデータテーブル」</a>を参照してください。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="ndb-transid-mysql-connection-map-table"></a>21.30.2 INFORMATION_SCHEMA ndb_transid_mysql_connection_map テーブル</h3></div></div></div><p>
      <code class="literal">ndb_transid_mysql_connection_map</code> テーブルは、<code class="literal">NDB</code> トランザクション、<code class="literal">NDB</code> トランザクションコーディネータ、API ノードとして MySQL Cluster に接続された MySQL Server 間のマッピングを提供します。この情報は、<code class="literal">ndbinfo</code> MySQL Cluster 情報データベースの <code class="literal">server_operations</code> および <code class="literal">server_transactions</code> テーブルに移入するときに使用されます。
    </p><div class="informaltable"><table border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">INFORMATION_SCHEMA</code> 名</th><th scope="col"><code class="literal">SHOW</code> 名</th><th scope="col">備考</th></tr></thead><tbody><tr><td scope="row"><code class="literal">mysql_connection_id</code></td><td> </td><td>MySQL Server 接続 ID</td></tr><tr><td scope="row"><code class="literal">node_id</code></td><td> </td><td>トランザクションコーディネータノード ID</td></tr><tr><td scope="row"><code class="literal">ndb_transid</code></td><td> </td><td><code class="literal">NDB</code> トランザクション ID</td></tr></tbody></table></div><p>
      <code class="literal">mysql_connection_id</code> は、<code class="literal">SHOW PROCESSLIST</code> の出力に示された接続またはセッション ID と同じです。
    </p><p>
      このテーブルに関連付けられた <code class="literal">SHOW</code> ステートメントはありません。
    </p><p>
      これは、MySQL Cluster に固有の非標準テーブルです。これは、<code class="literal">INFORMATION_SCHEMA</code> プラグインとして実装されます。<code class="literal">SHOW PLUGINS</code> の出力を確認して、このプラグインがサポートされていることを検証できます。<code class="literal">ndb_transid_mysql_connection_map</code> サポートが有効である場合、次に (強調テキストを使用して) 示すように、このステートメントの出力には、この名前を持ち、タイプが <code class="literal">INFORMATION SCHEMA</code> で、ステータスが <code class="literal">ACTIVE</code> であるプラグインが含まれます。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SHOW PLUGINS;</code></strong>
+----------------------------------+--------+--------------------+---------+---------+
| Name                             | Status | Type               | Library | License |
+----------------------------------+--------+--------------------+---------+---------+
| binlog                           | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
| mysql_native_password            | ACTIVE | AUTHENTICATION     | NULL    | GPL     |
| mysql_old_password               | ACTIVE | AUTHENTICATION     | NULL    | GPL     |
| CSV                              | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
| MEMORY                           | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
| MRG_MYISAM                       | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
| MyISAM                           | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
| PERFORMANCE_SCHEMA               | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
| BLACKHOLE                        | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
| ARCHIVE                          | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
| ndbcluster                       | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
| ndbinfo                          | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
<span class="emphasis"><em>| ndb_transid_mysql_connection_map | ACTIVE | INFORMATION SCHEMA | NULL    | GPL     |</em></span>
| InnoDB                           | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
| INNODB_TRX                       | ACTIVE | INFORMATION SCHEMA | NULL    | GPL     |
| INNODB_LOCKS                     | ACTIVE | INFORMATION SCHEMA | NULL    | GPL     |
| INNODB_LOCK_WAITS                | ACTIVE | INFORMATION SCHEMA | NULL    | GPL     |
| INNODB_CMP                       | ACTIVE | INFORMATION SCHEMA | NULL    | GPL     |
| INNODB_CMP_RESET                 | ACTIVE | INFORMATION SCHEMA | NULL    | GPL     |
| INNODB_CMPMEM                    | ACTIVE | INFORMATION SCHEMA | NULL    | GPL     |
| INNODB_CMPMEM_RESET              | ACTIVE | INFORMATION SCHEMA | NULL    | GPL     |
| partition                        | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
+----------------------------------+--------+--------------------+---------+---------+
22 rows in set (0.00 sec)
</pre><p>
      プラグインはデフォルトで有効になっています。<code class="option">--ndb-transid-mysql-connection-map</code> オプションを付けてサーバーを起動すると、これを無効 (または、プラグインが開始していないかぎりサーバーが実行できないように強制する) にできます。プラグインが無効の場合、<code class="literal">SHOW PLUGINS</code> でステータスが <code class="literal">DISABLED</code> と表示されます。実行時にプラグインは有効または無効にできません。
    </p><p>
      このテーブルとカラムの名前は小文字を使用して表示されますが、SQL ステートメントで参照するときには大文字も小文字も使用できます。
    </p><p>
      このテーブルを作成するには、MySQL Server は、MySQL Cluster 配布で提供されたバイナリか、<code class="literal">NDB</code> ストレージエンジンサポートを有効にして MySQL Cluster ソースから構築されたバイナリである必要があります。これは、標準 MySQL 5.6 Server では利用できません。
    </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="thread-pool-i_s-tables"></a>21.31 スレッドプールの INFORMATION_SCHEMA テーブル</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="information-schema.html#tp-thread-state-table">21.31.1 INFORMATION_SCHEMA TP_THREAD_STATE テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#tp-thread-group-state-table">21.31.2 INFORMATION_SCHEMA TP_THREAD_GROUP_STATE テーブル</a></span></dt><dt><span class="section"><a href="information-schema.html#tp-thread-group-stats-table">21.31.3 INFORMATION_SCHEMA TP_THREAD_GROUP_STATS テーブル</a></span></dt></dl></div><p>
    次のセクションでは、スレッドプールプラグインに関連付けられた <code class="literal">INFORMATION_SCHEMA</code> テーブルについて説明します。スレッドプール操作に関する情報を示します。
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <code class="literal">TP_THREAD_STATE</code>: スレッドプールのスレッド状態に関する情報
      </p></li><li class="listitem"><p>
        <code class="literal">TP_THREAD_GROUP_STATE</code>: スレッドプールのスレッドグループ状態に関する情報
      </p></li><li class="listitem"><p>
        <code class="literal">TP_THREAD_GROUP_STATS</code>: スレッドグループ統計
      </p></li></ul></div><p>
    これらのテーブル内の行は、特定時点のスナップショットを表します。<code class="literal">TP_THREAD_STATE</code> の場合、スレッドグループのすべての行で特定時点のスナップショットを構成します。そのため、MySQL Server では、スナップショットの生成中にスレッドグループの相互排他ロックを保持します。ただし、<code class="literal">TP_THREAD_STATE</code> に対するステートメントが MySQL Server 全体をブロックできないようにするため、すべてのスレッドグループで同時に相互排他ロックを保持することはありません。
  </p><p>
    スレッドプール <code class="literal">INFORMATION_SCHEMA</code> テーブルは、個々のプラグインによって実装され、特定のテーブルをロードするかどうかは、ほかのテーブルとは無関係に決定できます (<a class="xref" href="optimization.html#thread-pool-installation" title="8.11.6.1 スレッドプールコンポーネントとインストール">セクション8.11.6.1「スレッドプールコンポーネントとインストール」</a>を参照してください)。ただし、すべてのテーブルの内容は、有効なスレッドプールプラグインに応じて異なります。テーブルプラグインが有効だが、スレッドプールプラグインが有効ではない場合、テーブルは表示可能になり、アクセス可能ですが、空になります。
  </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="tp-thread-state-table"></a>21.31.1 INFORMATION_SCHEMA TP_THREAD_STATE テーブル</h3></div></div></div><p>
      このテーブルには、接続を処理するためにスレッドプールで作成されたスレッドごとに 1 行が存在します。テーブルには次のカラムがあります。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">TP_GROUP_ID</code>
        </p><p>
          スレッドグループ ID です。
        </p></li><li class="listitem"><p>
          <code class="literal">TP_THREAD_NUMBER</code>
        </p><p>
          スレッドグループ内のスレッドの ID です。<code class="literal">TP_GROUP_ID</code> と <code class="literal">TP_THREAD_NUMBER</code> の組み合わせが、テーブル内での一意のキーになります。
        </p></li><li class="listitem"><p>
          <code class="literal">PROCESS_COUNT</code>
        </p><p>
          このスレッドを使用しているステートメントが現在実行している 10 ミリ秒間隔です。0 は実行しているステートメントがないことを示し、1 はステートメントが最初の 10 ミリ秒に存在していることを示す、というようになります。
        </p></li><li class="listitem"><p>
          <code class="literal">WAIT_TYPE</code>
        </p><p>
          スレッドの待機のタイプです。<code class="literal">NULL</code> はスレッドがブロックされていることを示します。それ以外の場合、スレッドは <code class="literal">thd_wait_begin()</code> の呼び出しによってブロックされ、値は待機のタイプを指定します。<code class="literal">TP_THREAD_GROUP_STATS</code> テーブルの <code class="literal"><em class="replaceable"><code>xxx</code></em>_WAIT</code> カラムは、待機タイプごとのカウントを累積します。
        </p><p>
          <code class="literal">WAIT_TYPE</code> 値は、次の表に示すように、待機のタイプを記述した文字列です。
        </p><div class="table"><a name="idm139979009019552"></a><p class="title"><b>表 21.28 WAIT_TYPE の値</b></p><div class="table-contents"><table summary="WAIT_TYPE の値" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">待機タイプ</th><th scope="col">意味</th></tr></thead><tbody><tr><td scope="row"><code class="literal">THD_WAIT_SLEEP</code></td><td>スリープの待機</td></tr><tr><td scope="row"><code class="literal">THD_WAIT_DISKIO</code></td><td>ディスク IO の待機</td></tr><tr><td scope="row"><code class="literal">THD_WAIT_ROW_LOCK</code></td><td>行ロックの待機</td></tr><tr><td scope="row"><code class="literal">THD_WAIT_GLOBAL_LOCK</code></td><td>グローバルロックの待機</td></tr><tr><td scope="row"><code class="literal">THD_WAIT_META_DATA_LOCK</code></td><td>メタデータロックの待機</td></tr><tr><td scope="row"><code class="literal">THD_WAIT_TABLE_LOCK</code></td><td>テーブルロックの待機</td></tr><tr><td scope="row"><code class="literal">THD_WAIT_USER_LOCK</code></td><td>ユーザーロックの待機</td></tr><tr><td scope="row"><code class="literal">THD_WAIT_BINLOG</code></td><td>binlog の待機</td></tr><tr><td scope="row"><code class="literal">THD_WAIT_GROUP_COMMIT</code></td><td>グループコミットの待機</td></tr><tr><td scope="row"><code class="literal">THD_WAIT_SYNC</code></td><td>fsync の待機</td></tr></tbody></table></div></div><br class="table-break"></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="tp-thread-group-state-table"></a>21.31.2 INFORMATION_SCHEMA TP_THREAD_GROUP_STATE テーブル</h3></div></div></div><p>
      このテーブルには、スレッドプール内のスレッドグループごとに 1 行存在します。それぞれの行には、グループの現在の状態に関する情報が表示されます。テーブルには次のカラムがあります。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">TP_GROUP_ID</code>
        </p><p>
          スレッドグループ ID です。これはテーブル内の一意のキーです。
        </p></li><li class="listitem"><p>
          <code class="literal">CONSUMER THREADS</code>
        </p><p>
          コンシューマスレッドの数です。アクティブなスレッドが停止またはブロックされると、実行開始可能なスレッドが最大 1 つ存在します。
        </p></li><li class="listitem"><p>
          <code class="literal">RESERVE_THREADS</code>
        </p><p>
          予約状態のスレッドの数です。これは、新しいスレッドをウェイクする必要が生じ、コンシューマスレッドがなくなるまで開始されないことを意味します。これは、通常の操作で必要になる数よりも多くのスレッドをスレッドグループが作成したときに、ほとんどのスレッドが最終的に達する状態です。多くの場合、スレッドグループは短い間追加スレッドを必要とし、その後しばらくの間はふたたび必要とすることはありません。この場合には予約状態になり、ふたたび必要とされるまでその状態のままです。ある程度のメモリーリソースをべつに使用しますが、追加のコンピューティングリソースは必要ありません。
        </p></li><li class="listitem"><p>
          <code class="literal">CONNECTION_COUNT</code>
        </p><p>
          このスレッドグループを使用した接続の数です。
        </p></li><li class="listitem"><p>
          <code class="literal">QUEUED_QUERIES</code>
        </p><p>
          優先度の高いキューで待機しているステートメントの数です。
        </p></li><li class="listitem"><p>
          <code class="literal">QUEUED_TRANSACTIONS</code>
        </p><p>
          優先度の低いキューで待機しているステートメントの数です。これらは、開始されていないトランザクションの初期ステートメントなので、キューに入れられたトランザクションも表します。
        </p></li><li class="listitem"><p>
          <code class="literal">STALL_LIMIT</code>
        </p><p>
          スレッドグループに関する <code class="literal">thread_pool_stall_limit</code> 変数の値です。これはすべてのスレッドグループで同じ値です。
        </p></li><li class="listitem"><p>
          <code class="literal">PRIO_KICKUP_TIMER</code>
        </p><p>
          スレッドグループに関する <code class="literal">thread_pool_prio_kickup_timer</code> の値です。これはすべてのスレッドグループで同じ値です。
        </p></li><li class="listitem"><p>
          <code class="literal">ALGORITHM</code>
        </p><p>
          スレッドグループに関する <code class="literal">thread_pool_algorithm</code> の値です。これはすべてのスレッドグループで同じ値です。
        </p></li><li class="listitem"><p>
          <code class="literal">THREAD_COUNT</code>
        </p><p>
          このスレッドグループの一部としてスレッドプール内で開始されたスレッドの数です。
        </p></li><li class="listitem"><p>
          <code class="literal">ACTIVE_THREAD_COUNT</code>
        </p><p>
          ステートメントを実行しているアクティブなスレッドの数です。
        </p></li><li class="listitem"><p>
          <code class="literal">MAX_THREAD_IDS_IN_GROUP</code>
        </p><p>
          グループ内のスレッドの最大スレッド ID です。これは、<code class="literal">TP_THREAD_GROUP_STATE</code> テーブルから選択したときのスレッドの <code class="literal">MAX(TP_THREAD_NUMBER)</code> と同じです。つまり、次の 2 つのクエリーは同等です。
        </p><pre class="programlisting">
SELECT TP_GROUP_ID, MAX_THREAD_IDS_IN_GROUP
FROM TP_THREAD_GROUP_STATE;

SELECT TP_GROUP_ID, MAX(TP_THREAD_NUMBER)
FROM TP_THREAD_STATE GROUP BY TP_GROUP_ID;
</pre></li><li class="listitem"><p>
          <code class="literal">STALLED_THREAD_COUNT</code>
        </p><p>
          停止したスレッドグループ内のステートメントの数です。停止したステートメントが実行している可能性はありますが、スレッドプールから見ると停止して、進行していません。長時間実行しているステートメントはすぐにこのカテゴリで終了します。
        </p></li><li class="listitem"><p>
          <code class="literal">WAITING_THREAD_NUMBER</code>
        </p><p>
          スレッドグループ内のステートメントのポーリングを処理するスレッドがある場合、これにより、このスレッドグループ内のスレッド番号が指定されます。このスレッドがステートメントを実行している可能性があります。
        </p></li><li class="listitem"><p>
          <code class="literal">OLDEST_QUEUED</code>
        </p><p>
          もっとも古いキューに入れられたステートメントが実行待機した時間です (ミリ秒単位)。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="tp-thread-group-stats-table"></a>21.31.3 INFORMATION_SCHEMA TP_THREAD_GROUP_STATS テーブル</h3></div></div></div><p>
      このテーブルはスレッドグループあたりの統計をレポートします。グループごとに 1 行があります。テーブルには次のカラムがあります。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">TP_GROUP_ID</code>
        </p><p>
          スレッドグループ ID です。これはテーブル内の一意のキーです。
        </p></li><li class="listitem"><p>
          <code class="literal">CONNECTIONS_STARTED</code>
        </p><p>
          開始した接続の数です。
        </p></li><li class="listitem"><p>
          <code class="literal">CONNECTIONS_CLOSED</code>
        </p><p>
          終了した接続の数です。
        </p></li><li class="listitem"><p>
          <code class="literal">QUERIES_EXECUTED</code>
        </p><p>
          実行したステートメントの数です。この数は、ステートメントが実行を終了したときではなく、開始したときに増えます。
        </p></li><li class="listitem"><p>
          <code class="literal">QUERIES_QUEUED</code>
        </p><p>
          実行を待ってキューに入れられた、受け取ったステートメントの数です。これは、スレッドグループがキューに入れることなく即座に実行を開始できたステートメントはカウントされません。即座に実行を開始できるのは、<a class="xref" href="optimization.html#thread-pool-operation" title="8.11.6.2 スレッドプール操作">セクション8.11.6.2「スレッドプール操作」</a>に記した条件に該当する場合です。
        </p></li><li class="listitem"><p>
          <code class="literal">THREADS_STARTED</code>
        </p><p>
          開始したスレッドの数です。
        </p></li><li class="listitem"><p>
          <code class="literal">PRIO_KICKUPS</code>
        </p><p>
          <code class="literal">thread_pool_prio_kickup_timer</code> システム変数の値に基づいて、優先度の低いキューから優先度の高いキューに移動したステートメントの数です。この数が急速に増えた場合、変数の値を増やしてください。急速に増えるカウンタは、トランザクションが非常に早くから開始しないようにする優先度システムが機能していないことを意味します。<code class="literal">InnoDB</code> の場合、これは、同時トランザクションが非常に多いためにパフォーマンスが低下している可能性が高くなっています。
        </p></li><li class="listitem"><p>
          <code class="literal">STALLED_QUERIES_EXECUTED</code>
        </p><p>
          <code class="literal">thread_pool_stall_limit</code> システム変数の値よりも長い時間実行しているため、停止したと定義されるようになったステートメントの数です。
        </p></li><li class="listitem"><p>
          <code class="literal">BECOME_CONSUMER_THREAD</code>
        </p><p>
          コンシューマスレッドロールがスレッドに割り当てられた回数です。
        </p></li><li class="listitem"><p>
          <code class="literal">BECOME_RESERVE_THREAD</code>
        </p><p>
          予約スレッドロールがスレッドに割り当てられた回数です。
        </p></li><li class="listitem"><p>
          <code class="literal">BECOME_WAITING_THREAD</code>
        </p><p>
          待機スレッドロールがスレッドに割り当てられた回数です。ステートメントがキューに入れられると、これは、通常の操作であっても、非常に頻繁に起こります。したがって、ステートメントがキューに入れられたシステムの負荷が高い場合には、この値が急速に増加しても正常です。
        </p></li><li class="listitem"><p>
          <code class="literal">WAKE_THREAD_STALL_CHECKER</code>
        </p><p>
          複数のステートメントをできるだけ処理したり、待機スレッドロールに対処したりするために、スレッドのウェイクアップまたは作成を、停止チェックスレッドで決定した回数です。
        </p></li><li class="listitem"><p>
          <code class="literal">SLEEP_WAITS</code>
        </p><p>
          <code class="literal">THD_WAIT_SLEEP</code> 待機の数です。たとえば <code class="literal">SLEEP()</code> 関数を呼び出すことによってスレッドがスリープになると発生します。
        </p></li><li class="listitem"><p>
          <code class="literal">DISK_IO_WAITS</code>
        </p><p>
          <code class="literal">THD_WAIT_DISKIO</code> 待機の数です。ファイルシステムキャッシュにヒットしない可能性のあるディスク I/O をスレッドが実行すると発生します。ファイルに対する通常の読み取りおよび書き込みの場合ではなく、バッファープールがディスクに対してデータを読み取りおよび書き込むときに、このような待機が起こります。
        </p></li><li class="listitem"><p>
          <code class="literal">ROW_LOCK_WAITS</code>
        </p><p>
          別のトランザクションによる行ロックの解放を待っている <code class="literal">THD_WAIT_ROW_LOCK</code> 待機の数です。
        </p></li><li class="listitem"><p>
          <code class="literal">GLOBAL_LOCK_WAITS</code>
        </p><p>
          グローバルロックの解放を待っている <code class="literal">THD_WAIT_GLOBAL_LOCK</code> 待機の数です。
        </p></li><li class="listitem"><p>
          <code class="literal">META_DATA_LOCK_WAITS</code>
        </p><p>
          メタデータロックの解放を待っている <code class="literal">THD_WAIT_META_DATA_LOCK</code> 待機の数です。
        </p></li><li class="listitem"><p>
          <code class="literal">TABLE_LOCK_WAITS</code>
        </p><p>
          ステートメントがアクセスする必要のあるテーブルのロック解除を待っている <code class="literal">THD_WAIT_TABLE_LOCK</code> 待機の数です。
        </p></li><li class="listitem"><p>
          <code class="literal">USER_LOCK_WAITS</code>
        </p><p>
          ユーザースレッドで構築された固有のロックを待っている <code class="literal">THD_WAIT_USER_LOCK</code> 待機の数です。
        </p></li><li class="listitem"><p>
          <code class="literal">BINLOG_WAITS</code>
        </p><p>
          バイナリログの解放を待っている <code class="literal">THD_WAIT_BINLOG_WAITS</code> 待機の数です。
        </p></li><li class="listitem"><p>
          <code class="literal">GROUP_COMMIT_WAITS</code>
        </p><p>
          <code class="literal">THD_WAIT_GROUP_COMMIT</code> 待機の数です。その他のパーティーがトランザクションの担当分を完了するまで、グループコミットが待機する必要があるときに発生します。
        </p></li><li class="listitem"><p>
          <code class="literal">FSYNC_WAITS</code>
        </p><p>
          ファイル同期操作を待っている <code class="literal">THD_WAIT_SYNC</code> 待機の数です。
        </p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="extended-show"></a>21.32 SHOW ステートメントの拡張</h2></div></div></div><a class="indexterm" name="idm139979008891984"></a><a class="indexterm" name="idm139979008890560"></a><a class="indexterm" name="idm139979008889168"></a><p>
      <code class="literal">SHOW</code> ステートメントの一部の拡張は、<code class="literal">INFORMATION_SCHEMA</code> の実装を伴います。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">SHOW</code> を使用すると、<code class="literal">INFORMATION_SCHEMA</code> 自体の構造に関する情報を取得できます。
        </p></li><li class="listitem"><p>
          いくつかの <code class="literal">SHOW</code> ステートメントでは、表示する行をより柔軟に指定できる <code class="literal">WHERE</code> 句を使用できます。
        </p></li></ul></div><p>
      <code class="literal">INFORMATION_SCHEMA</code> は情報データベースなので、その名前は <code class="literal">SHOW DATABASES</code> の出力に含まれます。同様に、<code class="literal">SHOW TABLES</code> を <code class="literal">INFORMATION_SCHEMA</code> と一緒に使用すると、テーブルのリストを取得できます。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SHOW TABLES FROM INFORMATION_SCHEMA;</code></strong>
+---------------------------------------+
| Tables_in_INFORMATION_SCHEMA          |
+---------------------------------------+
| CHARACTER_SETS                        |
| COLLATIONS                            |
| COLLATION_CHARACTER_SET_APPLICABILITY |
| COLUMNS                               |
| COLUMN_PRIVILEGES                     |
| ENGINES                               |
| EVENTS                                |
| FILES                                 |
| GLOBAL_STATUS                         |
| GLOBAL_VARIABLES                      |
| KEY_COLUMN_USAGE                      |
| PARTITIONS                            |
| PLUGINS                               |
| PROCESSLIST                           |
| REFERENTIAL_CONSTRAINTS               |
| ROUTINES                              |
| SCHEMATA                              |
| SCHEMA_PRIVILEGES                     |
| SESSION_STATUS                        |
| SESSION_VARIABLES                     |
| STATISTICS                            |
| TABLES                                |
| TABLE_CONSTRAINTS                     |
| TABLE_PRIVILEGES                      |
| TRIGGERS                              |
| USER_PRIVILEGES                       |
| VIEWS                                 |
+---------------------------------------+
27 rows in set (0.00 sec)
</pre><p>
      <code class="literal">SHOW COLUMNS</code> および <code class="literal">DESCRIBE</code> は個々の <code class="literal">INFORMATION_SCHEMA</code> テーブルのカラムに関する情報を表示できます。
    </p><p>
      表示される行を制限する <code class="literal">LIKE</code> 句を受け入れる <code class="literal">SHOW</code> ステートメントは、選択した行が満たす必要のあるより一般的な条件を指定する <code class="literal">WHERE</code> 句も許可します。
    </p><pre class="programlisting">
SHOW CHARACTER SET
SHOW COLLATION
SHOW COLUMNS
SHOW DATABASES
SHOW FUNCTION STATUS
SHOW INDEX
SHOW OPEN TABLES
SHOW PROCEDURE STATUS
SHOW STATUS
SHOW TABLE STATUS
SHOW TABLES
SHOW TRIGGERS
SHOW VARIABLES
</pre><p>
      <code class="literal">WHERE</code> 句がある場合、これは <code class="literal">SHOW</code> ステートメントで表示されるカラム名に対して評価されます。たとえば、<code class="literal">SHOW CHARACTER SET</code> ステートメントはこれらの出力カラムを生成します。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SHOW CHARACTER SET;</code></strong>
+----------+-----------------------------+---------------------+--------+
| Charset  | Description                 | Default collation   | Maxlen |
+----------+-----------------------------+---------------------+--------+
| big5     | Big5 Traditional Chinese    | big5_chinese_ci     |      2 |
| dec8     | DEC West European           | dec8_swedish_ci     |      1 |
| cp850    | DOS West European           | cp850_general_ci    |      1 |
| hp8      | HP West European            | hp8_english_ci      |      1 |
| koi8r    | KOI8-R Relcom Russian       | koi8r_general_ci    |      1 |
| latin1   | cp1252 West European        | latin1_swedish_ci   |      1 |
| latin2   | ISO 8859-2 Central European | latin2_general_ci   |      1 |
...
</pre><p>
      <code class="literal">WHERE</code> 句を <code class="literal">SHOW CHARACTER SET</code> と一緒に使用するには、これらのカラム名を参照します。たとえば、次のステートメントは、デフォルトの照合順序が文字列 <code class="literal">'japanese'</code> を含む文字セットに関する情報を表示します。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SHOW CHARACTER SET WHERE `Default collation` LIKE '%japanese%';</code></strong>
+---------+---------------------------+---------------------+--------+
| Charset | Description               | Default collation   | Maxlen |
+---------+---------------------------+---------------------+--------+
| ujis    | EUC-JP Japanese           | ujis_japanese_ci    |      3 |
| sjis    | Shift-JIS Japanese        | sjis_japanese_ci    |      2 |
| cp932   | SJIS for Windows Japanese | cp932_japanese_ci   |      2 |
| eucjpms | UJIS for Windows Japanese | eucjpms_japanese_ci |      3 |
+---------+---------------------------+---------------------+--------+
</pre><p>
      このステートメントはマルチバイト文字セットを表示します。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SHOW CHARACTER SET WHERE Maxlen &gt; 1;</code></strong>
+---------+---------------------------+---------------------+--------+
| Charset | Description               | Default collation   | Maxlen |
+---------+---------------------------+---------------------+--------+
| big5    | Big5 Traditional Chinese  | big5_chinese_ci     |      2 |
| ujis    | EUC-JP Japanese           | ujis_japanese_ci    |      3 |
| sjis    | Shift-JIS Japanese        | sjis_japanese_ci    |      2 |
| euckr   | EUC-KR Korean             | euckr_korean_ci     |      2 |
| gb2312  | GB2312 Simplified Chinese | gb2312_chinese_ci   |      2 |
| gbk     | GBK Simplified Chinese    | gbk_chinese_ci      |      2 |
| utf8    | UTF-8 Unicode             | utf8_general_ci     |      3 |
| ucs2    | UCS-2 Unicode             | ucs2_general_ci     |      2 |
| cp932   | SJIS for Windows Japanese | cp932_japanese_ci   |      2 |
| eucjpms | UJIS for Windows Japanese | eucjpms_japanese_ci |      3 |
+---------+---------------------------+---------------------+--------+
</pre></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="stored-programs-views.html">前</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="performance-schema.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">第 20 章 ストアドプログラムおよびビュー </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> 第 22 章 MySQL パフォーマンススキーマ</td></tr></table></div><div class="copyright-footer"></div></body></html>
