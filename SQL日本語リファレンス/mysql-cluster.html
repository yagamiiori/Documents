<html lang="ja"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>第 18 章 MySQL Cluster NDB 7.3 および MySQL Cluster NDB 7.4</title><link rel="stylesheet" type="text/css" href="mvl.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="MySQL 5.6 リファレンスマニュアル"><link rel="up" href="index.html" title="MySQL 5.6 リファレンスマニュアル"><link rel="prev" href="replication.html" title="第 17 章 レプリケーション"><link rel="next" href="partitioning.html" title="第 19 章 パーティション化">
<script language="javascript" type="text/javascript">
  function addOnload(theFunc)
  {
    var previous = window.onload;
    if (typeof window.onload != 'function')
    {
      window.onload = theFunc;
    }
    else
    {
      window.onload = function()
      {
        previous();
        theFunc();
      }
    }
  }

  addOnload(function()
  {
    var base = new Date(1442918127*1000);
    var now = new Date();
    var diff = ((now-base)/1000)/(24*3600);

    if (diff > 90) {
      var nodes = document.getElementsByClassName('titlepage');
      nodes[0].innerHTML = '<p style="border: 5px #ff0000 solid; padding: 5px; margin 5px">' +
        'This copy of the manual is more than 90 days old. We encourage you to download a ' +
        'new version from <a href="http://dev.mysql.com">dev.mysql.com/doc</a>.</p>' + nodes[0].innerHTML;
    }
  });
</script>
<noscript></noscript>
</head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">第 18 章 MySQL Cluster NDB 7.3 および MySQL Cluster NDB 7.4</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="replication.html">前</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="partitioning.html">次へ</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="mysql-cluster"></a>第 18 章 MySQL Cluster NDB 7.3 および MySQL Cluster NDB 7.4</h1></div></div></div><div class="toc"><p><b>目次</b></p><dl class="toc"><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-overview">18.1 MySQL Cluster の概要</a></span></dt><dd><dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-basics">18.1.1 MySQL Cluster の主な概念</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-nodes-groups">18.1.2 MySQL Cluster のノード、ノードグループ、レプリカ、およびパーティション</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-overview-requirements">18.1.3 MySQL Cluster のハードウェア、ソフトウェア、およびネットワーク要件</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-development">18.1.4 MySQL Cluster の開発履歴</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-compared">18.1.5 InnoDB を使用した MySQL Server と MySQL Cluster の比較</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-limitations">18.1.6 MySQL Cluster の既知の制限</a></span></dt></dl></dd><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-installation">18.2 MySQL Cluster のインストール</a></span></dt><dd><dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-auto">18.2.1 MySQL Cluster Auto-Installer</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-linux">18.2.2 Linux での MySQL Cluster のインストール</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-windows">18.2.3 Windows での MySQL Cluster のインストール</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-configuration">18.2.4 MySQL Cluster の初期構成</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-first-start">18.2.5 MySQL Cluster の初期起動</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-example-data">18.2.6 テーブルとデータを含む MySQL Cluster の例</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-shutdown-restart">18.2.7 MySQL Cluster の安全なシャットダウンと再起動</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-upgrade-downgrade">18.2.8 MySQL Cluster NDB 7.3 のアップグレードとダウングレード</a></span></dt></dl></dd><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-configuration">18.3 MySQL Cluster の構成</a></span></dt><dd><dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-quick">18.3.1 MySQL Cluster の簡易テストセットアップ</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-config-file">18.3.2 MySQL Cluster の構成ファイル</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-params-overview">18.3.3 MySQL Cluster 構成パラメータの概要</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-options-variables">18.3.4 MySQL Cluster 用の MySQL Server オプションおよび変数</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-interconnects">18.3.5 MySQL Cluster での高速インターコネクトの使用</a></span></dt></dl></dd><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs">18.4 MySQL Cluster プログラム</a></span></dt><dd><dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndbd">18.4.1 <span class="command"><strong>ndbd</strong></span> — MySQL Cluster データノードデーモン</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndbinfo-select-all">18.4.2 <span class="command"><strong>ndbinfo_select_all</strong></span> — ndbinfo テーブルからの選択</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndbmtd">18.4.3 <span class="command"><strong>ndbmtd</strong></span> — MySQL Cluster データノードデーモン (マルチスレッド)</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd">18.4.4 <span class="command"><strong>ndb_mgmd</strong></span> — MySQL Cluster 管理サーバーデーモン</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm">18.4.5 <span class="command"><strong>ndb_mgm</strong></span> — MySQL Cluster 管理クライアント</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-blob-tool">18.4.6 <span class="command"><strong>ndb_blob_tool</strong></span> — MySQL Cluster テーブルの BLOB および TEXT カラムのチェックおよび修復</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-config">18.4.7 <span class="command"><strong>ndb_config</strong></span> — MySQL Cluster 構成情報の抽出</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-cpcd">18.4.8 <span class="command"><strong>ndb_cpcd</strong></span> — NDB 開発のためのテストの自動化</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-delete-all">18.4.9 <span class="command"><strong>ndb_delete_all</strong></span> — NDB テーブルからのすべての行の削除</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-desc">18.4.10 <span class="command"><strong>ndb_desc</strong></span> — NDB テーブルの表示</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-drop-index">18.4.11 <span class="command"><strong>ndb_drop_index</strong></span> — NDB テーブルからのインデックスの削除</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-drop-table">18.4.12 <span class="command"><strong>ndb_drop_table</strong></span> — NDB テーブルの削除</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-error-reporter">18.4.13 <span class="command"><strong>ndb_error_reporter</strong></span> — NDB エラーレポートユーティリティー</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-index-stat">18.4.14 <span class="command"><strong>ndb_index_stat</strong></span> — NDB インデックス統計ユーティリティー</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-print-backup-file">18.4.15 <span class="command"><strong>ndb_print_backup_file</strong></span> — NDB バックアップファイルの内容の出力</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-print-file">18.4.16 <span class="command"><strong>ndb_print_file</strong></span> — NDB ディスクデータファイル内容の出力</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-print-schema-file">18.4.17 <span class="command"><strong>ndb_print_schema_file</strong></span> — NDB スキーマファイル内容の出力</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-print-sys-file">18.4.18 <span class="command"><strong>ndb_print_sys_file</strong></span> — NDB システムファイル内容の出力</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndbd-redo-log-reader">18.4.19 <span class="command"><strong>ndbd_redo_log_reader</strong></span> — クラスタ Redo ログ内容のチェックおよび出力</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-restore">18.4.20 <span class="command"><strong>ndb_restore</strong></span> — MySQL Cluster バックアップのリストア</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-select-all">18.4.21 <span class="command"><strong>ndb_select_all</strong></span> — NDB テーブルの行の出力</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-select-count">18.4.22 <span class="command"><strong>ndb_select_count</strong></span> — NDB テーブルの行数の出力</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-setup-py">18.4.23 <span class="command"><strong>ndb_setup.py</strong></span> — MySQL Cluster のブラウザベース自動インストーラの開始</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-show-tables">18.4.24 <span class="command"><strong>ndb_show_tables</strong></span> — NDB テーブルのリストの表示</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-size-pl">18.4.25 <span class="command"><strong>ndb_size.pl</strong></span> — NDBCLUSTER サイズ要件エスティメータ</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-waiter">18.4.26 <span class="command"><strong>ndb_waiter</strong></span> — MySQL Cluster が指定したステータスになるまで待機する</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-program-options-common">18.4.27 MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション</a></span></dt></dl></dd><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-management">18.5 MySQL Cluster の管理</a></span></dt><dd><dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-start-phases">18.5.1 MySQL Cluster の起動フェーズのサマリー</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-mgm-client-commands">18.5.2 MySQL Cluster 管理クライアントのコマンド</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-backup">18.5.3 MySQL Cluster のオンラインバックアップ</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-mysqld">18.5.4 MySQL Cluster での MySQL サーバーの使用法</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-rolling-restart">18.5.5 MySQL Cluster のローリング再起動の実行</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-event-reports">18.5.6 MySQL Cluster で生成されたイベントレポート</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-logs-ndb-messages">18.5.7 MySQL Cluster ログメッセージ</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-single-user-mode">18.5.8 MySQL Cluster のシングルユーザーモード</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-sql-statements">18.5.9 クイックリファレンス: MySQL Cluster の SQL ステートメント</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo">18.5.10 ndbinfo MySQL Cluster 情報データベース</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-security">18.5.11 MySQL Cluster のセキュリティー上の問題</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-disk-data">18.5.12 MySQL Cluster ディスクデータテーブル</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-online-add-node">18.5.13 MySQL Cluster データノードのオンライン追加</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-privilege-distribution">18.5.14 MySQL Cluster の配布された MySQL 権限</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndb-api-statistics">18.5.15 NDB API 統計のカウンタと変数</a></span></dt></dl></dd><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication">18.6 MySQL Cluster レプリケーション</a></span></dt><dd><dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-abbreviations">18.6.1 MySQL Cluster レプリケーション: 略語と記号</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-general">18.6.2 MySQL Cluster レプリケーションの一般要件</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-issues">18.6.3 MySQL Cluster レプリケーションの既知の問題</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-schema">18.6.4 MySQL Cluster レプリケーションスキーマとテーブル</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-preparation">18.6.5 レプリケーションのための MySQL Cluster の準備</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-starting">18.6.6 MySQL Cluster レプリケーションの起動 (レプリケーションチャネルが 1 つ)</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-two-channels">18.6.7 2 つのレプリケーションチャネルを使用する MySQL Cluster レプリケーション</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-failover">18.6.8 MySQL Cluster レプリケーションを使用したフェイルオーバーの実装</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-backups">18.6.9 MySQL Cluster レプリケーションを使用した MySQL Cluster バックアップ</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-multi-master">18.6.10 MySQL Cluster レプリケーション: マルチマスターと循環レプリケーション</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution">18.6.11 MySQL Cluster レプリケーションの競合解決</a></span></dt></dl></dd><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-news">18.7 MySQL Cluster リリースノート</a></span></dt></dl></div><a class="indexterm" name="idm139979045384096"></a><a class="indexterm" name="idm139979045382784"></a><a class="indexterm" name="idm139979045380848"></a><a class="indexterm" name="idm139979045379008"></a><p>
    この章には、分散コンピューティング環境に適した MySQL の高可用性および高冗長性バージョンである <em class="firstterm">MySQL Cluster</em> に関する情報が含まれています。MySQL Cluster の最近のバージョンでは、<code class="literal">NDB</code> ストレージエンジン (<code class="literal">NDBCLUSTER</code>) のバージョン 7 を使用して、MySQL Server およびその他のソフトウェアを含む複数のコンピュータをクラスタ内で動作させることができます。本番環境で使用可能な最新リリースである MySQL Cluster NDB 7.3 には、<code class="literal">NDB</code> バージョン 7.3 が組み込まれています。この章には、<code class="literal">NDB</code> ストレージエンジンのバージョン 7.4 を使用し、開発者マイルストーンリリースで入手可能になった MySQL Cluster NDB 7.4 に関する情報も含まれています。
  </p><p>
    <code class="literal">NDB</code> ストレージエンジンのサポートは、オラクルによってビルドされた標準の MySQL Server 5.6 バイナリには含まれていません。代わりに、オラクルから提供される MySQL Cluster バイナリのユーザーは、サポートされるプラットフォームに対応する MySQL Cluster の最新のバイナリリリースにアップグレードするようにしてください。これらには、ほとんどの Linux 配布で機能するはずの RPM が含まれています。ソースからビルドする MySQL Cluster ユーザーは、MySQL Cluster 用に提供されるソースを使用するようにしてください。(ソースを入手できる場所については、このセクションで後述します。)
  </p><p>
    この章には、MySQL Cluster NDB 7.3 リリース (5.6.22-ndb-7.3.9 まで) および MySQL Cluster NDB 7.4 リリース (5.6.22-ndb-7.4.4 まで) に関する情報が含まれています。現在、MySQL Cluster NDB 7.3 リリースシリーズは一般提供 (GA) されており、MySQL Cluster 7.4 は開発者プレビューが入手可能です。MySQL Cluster NDB 7.2、MySQL Cluster NDB 7.1、および MySQL Cluster NDB 7.0 は以前の GA リリースです。これらは引き続きサポートされますが、新規の配備には MySQL Cluster NDB 7.3 を使用することをお勧めします。MySQL Cluster NDB 7.2 については、<a class="ulink" href="http://dev.mysql.com/doc/refman/5.5/en/mysql-cluster.html" target="_top">MySQL Cluster NDB 7.2</a>を参照してください。MySQL Cluster NDB 7.1 および以前のバージョンの MySQL Cluster については、<a class="ulink" href="http://dev.mysql.com/doc/refman/5.1/en/mysql-cluster" target="_top">http://dev.mysql.com/doc/refman/5.1/en/mysql-cluster</a> を参照してください。
  </p><a class="indexterm" name="idm139979045365536"></a><p><b>サポートされるプラットフォーム </b>
      MySQL Cluster は現在数多くのプラットフォームで利用可能であり、サポートされています。オペレーティングシステムバージョン、オペレーティングシステム配布、およびハードウェアプラットフォームの特定の組み合わせで利用可能な正確なサポートレベルについては、<a class="ulink" href="http://www.mysql.com/support/supportedplatforms/cluster.html" target="_top">http://www.mysql.com/support/supportedplatforms/cluster.html</a> を参照してください。
    </p><p><b>可用性 </b>
      サポートされるプラットフォーム用の MySQL Cluster のバイナリおよびソースパッケージは、<a class="ulink" href="http://dev.mysql.com/downloads/cluster/" target="_top">http://dev.mysql.com/downloads/cluster/</a> から入手できます。
    </p><p><b>MySQL Cluster のリリース番号 </b>
      MySQL Cluster は、メインラインの MySQL Server 5.6 のリリースシリーズとはやや異なるリリースパターンに従っています。この<em class="citetitle">マニュアル</em>および MySQL のその他のドキュメントでは、<span class="quote">「<span class="quote">NDB</span>」</span> で始まるバージョン番号を使用して、これらおよびそれ以降の MySQL Cluster リリースを識別します。このバージョン番号は、そのリリースで使用されている <code class="literal">NDBCLUSTER</code> ストレージエンジンのバージョン番号であり、その MySQL Cluster リリースのベースになっている MySQL Server バージョンのバージョン番号ではありません。
    </p><p><b>MySQL Cluster ソフトウェアで使用されるバージョン文字列 </b>
      MySQL Cluster のプログラムに表示されるバージョン文字列には、この書式が使用されます。
    </p><pre class="programlisting">
mysql-<em class="replaceable"><code>mysql_server_version</code></em>-ndb-<em class="replaceable"><code>ndb_engine_version</code></em>
</pre><p>
    <em class="replaceable"><code>mysql_server_version</code></em> は、その MySQL Cluster リリースのベースになっている MySQL Server のバージョンを表します。すべての MySQL Cluster NDB 7.3 リリースおよび現在の MySQL Cluster NDB 7.4 リリースでは、これは <span class="quote">「<span class="quote">5.6</span>」</span> です。<em class="replaceable"><code>ndb_engine_version</code></em> は、このリリースの MySQL Cluster ソフトウェアで使用されている <code class="literal">NDB</code> ストレージエンジンのバージョンです。次に示すように、<span class="command"><strong>mysql</strong></span> クライアントでこの書式が使用されていることがわかります。
  </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql</code></strong>
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 2
Server version: 5.6.22-ndb-7.4.4 Source distribution

Type 'help;' or '\h' for help. Type '\c' to clear the buffer.

mysql&gt; <strong class="userinput"><code>SELECT VERSION()\G</code></strong>
*************************** 1. row ***************************
VERSION(): 5.6.22-ndb-7.4.4
1 row in set (0.00 sec)
</pre><p>
    このバージョン文字列は、<span class="command"><strong>ndb_mgm</strong></span> クライアントの <code class="literal">SHOW</code> コマンドの出力にも表示されます。
  </p><pre class="programlisting">
ndb_mgm&gt; <strong class="userinput"><code>SHOW</code></strong>
Connected to Management Server at: localhost:1186
Cluster Configuration
---------------------
[ndbd(NDB)]     2 node(s)
id=1    @10.0.10.6  (5.6.22-ndb-7.4.4, Nodegroup: 0, *)
id=2    @10.0.10.8  (5.6.22-ndb-7.4.4, Nodegroup: 0)

[ndb_mgmd(MGM)] 1 node(s)
id=3    @10.0.10.2  (5.6.22-ndb-7.4.4)

[mysqld(API)]   2 node(s)
id=4    @10.0.10.10  (5.6.22-ndb-7.4.4)
id=5 (not connected, accepting connect from any host)
</pre><p>
    このバージョン文字列によって、その MySQL Cluster リリースの分岐元であるメインラインの MySQL のバージョンと、使用されている <code class="literal">NDB</code> ストレージエンジンのバージョンを特定できます。たとえば、MySQL Cluster NDB 7.3.2 (MySQL Server 5.6 をベースとする最初の MySQL Cluster 本番リリース) の完全なバージョン文字列は <code class="literal">mysql-5.6.11-ndb-7.3.2</code> です。これによって、次のことを特定できます。
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        バージョン文字列の <span class="quote">「<span class="quote"><code class="literal">-ndb-</code></span>」</span> より前の部分はベースとなる MySQL Server のバージョンであるため、これは MySQL Cluster NDB 7.3.2 が MySQL 5.6.11 から派生し、MySQL 5.6 から MySQL 5.6.11 までのすべての機能強化とバグ修正を含んでいることを意味します。
      </p></li><li class="listitem"><p>
        バージョン文字列の <span class="quote">「<span class="quote"><code class="literal">-ndb-</code></span>」</span> よりあとの部分は <code class="literal">NDB</code> (または <code class="literal">NDBCLUSTER</code>) ストレージエンジンのバージョン番号を表しているため、MySQL Cluster NDB 7.3.2 ではバージョン 7.3.2 の <code class="literal">NDBCLUSTER</code> ストレージエンジンが使用されています。
      </p></li></ul></div><p>
    新しい MySQL Cluster リリースは、<code class="literal">NDB</code> ストレージエンジンの更新に従って番号付けされ、メインラインの MySQL Server リリースとは必ずしも 1 対 1 で対応しません。たとえば、MySQL Cluster NDB 7.3.2 は (前述のように) MySQL 5.6.11 をベースとしていますが、MySQL Cluster NDB 7.3.1 は MySQL 5.6.10 をベースとしていました (バージョン文字列: <code class="literal">mysql-5.6.10-ndb-7.3.1</code>)。
  </p><p><b>標準の MySQL 5.6 リリースとの互換性 </b>
      標準の MySQL スキーマおよびアプリケーションの多くが MySQL Cluster を使用しても機能しますが、MySQL Cluster を使用して未変更のアプリケーションやデータベーススキーマを実行すると、互換性がやや低下したり、パフォーマンスが最適でなくなったりする可能性があることも事実です (<a class="xref" href="mysql-cluster.html#mysql-cluster-limitations" title="18.1.6 MySQL Cluster の既知の制限">セクション18.1.6「MySQL Cluster の既知の制限」</a>を参照してください)。これらの問題のほとんどは克服できますが、これは、スキーマ、クエリー、およびアプリケーションに変更を加える可能性を考慮せずに、既存の (たとえば、<code class="literal">MyISAM</code> や <code class="literal">InnoDB</code> を使用する) アプリケーションデータストアを <code class="literal">NDB</code> ストレージエンジンを使用するものに切り替えることがほとんど不可能であることも意味します。さらに、MySQL Server と MySQL Cluster のコードベースは大幅に異なるため、標準の <span class="command"><strong>mysqld</strong></span> を MySQL Cluster に付属するバージョンの <span class="command"><strong>mysqld</strong></span> と簡単に取り替えて使用することはできません。
    </p><p><b>MySQL Cluster の開発ソースツリー </b>
      MySQL Cluster の開発ツリーには、<a class="ulink" href="https://code.launchpad.net/~mysql/" target="_top">https://code.launchpad.net/~mysql/</a> からもアクセスできます。
    </p><p>
    <a class="ulink" href="https://code.launchpad.net/~mysql/" target="_top">https://code.launchpad.net/~mysql/</a> で管理されている MySQL Cluster の開発ソースは、GPL でライセンス付与されています。Bazaar を使った MySQL ソースの取得およびユーザー自身によるソースのビルドについては、<a class="xref" href="installing.html#installing-development-tree" title="2.9.3 開発ソースツリーを使用して MySQL をインストールする">セクション2.9.3「開発ソースツリーを使用して MySQL をインストールする」</a>を参照してください。
  </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
      MySQL Server 5.6 と同じように、MySQL Cluster NDB 7.3 および MySQL Cluster NDB 7.4 リリースは <span class="command"><strong>CMake</strong></span> を使用してビルドされています。
    </p></div><p>
    現在、MySQL Cluster NDB 7.2 および MySQL Cluster NDB 7.3 リリースは一般提供 (GA) されています。新規の配備には MySQL Cluster NDB 7.3 を使用することをお勧めします。MySQL Cluster NDB 7.1 は以前の GA リリースで、現在も保守中です。MySQL Cluster NDB 7.0 以前のバージョンは、アクティブな開発が終了しました。MySQL Cluster NDB 7.3 に追加された主な機能の概要については、<a class="xref" href="mysql-cluster.html#mysql-cluster-development" title="18.1.4 MySQL Cluster の開発履歴">セクション18.1.4「MySQL Cluster の開発履歴」</a>を参照してください。過去の MySQL Cluster リリースに追加された主な機能の概要については、<a class="ulink" href="http://dev.mysql.com/doc/refman/5.1/en/mysql-cluster-development.html" target="_top">http://dev.mysql.com/doc/refman/5.1/en/mysql-cluster-development.html</a> および<a class="ulink" href="http://dev.mysql.com/doc/refman/5.5/en/mysql-cluster-development.html" target="_top">MySQL Cluster Development History</a>を参照してください。
  </p><p>
    この章はまだ完成されたものではなく、その内容は MySQL Cluster の継続的な進化に応じて改訂されます。MySQL Cluster に関する追加情報については、<a class="ulink" href="http://www.mysql.com/products/cluster/" target="_top">http://www.mysql.com/products/cluster/</a> の MySQL Web サイトを参照してください。
  </p><a class="indexterm" name="idm139979045307280"></a><p><b>追加のリソース </b>
      MySQL Cluster の詳細は、次の場所を参照してください。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        MySQL Cluster に関するよくある質問の回答については、<a class="xref" href="faqs.html#faqs-mysql-cluster" title="A.10 MySQL 5.6 FAQ: MySQL Cluster">セクションA.10「MySQL 5.6 FAQ: MySQL Cluster」</a>を参照してください。
      </p></li><li class="listitem"><p>
        MySQL Cluster メーリングリスト: <a class="ulink" href="http://lists.mysql.com/cluster" target="_top">http://lists.mysql.com/cluster</a>。
      </p></li><li class="listitem"><p>
        MySQL Cluster フォーラム: <a class="ulink" href="http://forums.mysql.com/list.php?25" target="_top">http://forums.mysql.com/list.php?25</a>。
      </p></li><li class="listitem"><p>
        MySQL Cluster の多くのユーザーや開発者が MySQL Cluster に関する自身の経験をブログで公開し、<a class="ulink" href="http://www.planetmysql.org/" target="_top">PlanetMySQL</a> でブログのフィードを利用できるようにしています。
      </p></li></ul></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mysql-cluster-overview"></a>18.1 MySQL Cluster の概要</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-basics">18.1.1 MySQL Cluster の主な概念</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-nodes-groups">18.1.2 MySQL Cluster のノード、ノードグループ、レプリカ、およびパーティション</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-overview-requirements">18.1.3 MySQL Cluster のハードウェア、ソフトウェア、およびネットワーク要件</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-development">18.1.4 MySQL Cluster の開発履歴</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-compared">18.1.5 InnoDB を使用した MySQL Server と MySQL Cluster の比較</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-limitations">18.1.6 MySQL Cluster の既知の制限</a></span></dt></dl></div><a class="indexterm" name="idm139979045295664"></a><p>
    <em class="firstterm">MySQL Cluster</em> はシェアードナッシングシステムでのインメモリーデータベースのクラスタリングを可能にするテクノロジです。シェアードナッシングアーキテクチャーでは、非常に安価なハードウェアでシステムが動作し、ハードウェアやソフトウェアの要件が最小限に抑えられます。
  </p><p>
    MySQL Cluster は、単一障害点が発生しないように設計されています。シェアードナッシングシステムでは、各コンポーネントに固有のメモリーとディスクが用意され、ネットワーク共有、ネットワークファイルシステム、SAN などの共有ストレージメカニズムの使用は推奨またはサポートされません。
  </p><p>
    MySQL Cluster は、標準の MySQL Server と <code class="literal">NDB</code> (<span class="quote">「<span class="quote"><span class="emphasis"><em>N</em></span>etwork <span class="emphasis"><em>D</em></span>ata<span class="emphasis"><em>B</em></span>ase</span>」</span> を表します) と呼ばれるインメモリーのクラスタ化されたストレージエンジンを統合したものです。このドキュメントでは、<code class="literal">NDB</code> はセットアップのストレージエンジン固有の部分を表し、<span class="quote">「<span class="quote">MySQL Cluster</span>」</span> は 1 つ以上の MySQL Server と <code class="literal">NDB</code> ストレージエンジンの組み合わせを表します。
  </p><p>
    MySQL Cluster は、それぞれが 1 つ以上のプロセスを実行する<em class="firstterm">ホスト</em>と呼ばれる一連のコンピュータで構成されます。<em class="firstterm">ノード</em>と呼ばれるこれらのプロセスには、MySQL Server (NDB データへのアクセス用)、データノード (データのストレージ用)、1 つ以上の管理サーバー、および場合によってはその他の特殊なデータアクセスプログラムが含まれます。MySQL Cluster 内のこれらのコンポーネントの関係をここに示します。
  </p><div class="mediaobject"><img src="images/cluster-components-1.png" width="583" height="372" alt="MySQL Cluster のコンポーネント"></div><p>
    これらすべてのプログラムが一体となって MySQL Cluster を形成します (<a class="xref" href="mysql-cluster.html#mysql-cluster-programs" title="18.4 MySQL Cluster プログラム">セクション18.4「MySQL Cluster プログラム」</a>を参照してください)。<code class="literal">NDB</code> ストレージエンジンによってデータが格納されると、データノードにテーブル (およびテーブルデータ) が格納されます。このようなテーブルには、クラスタ内のほかのすべての MySQL Server (SQL ノード) から直接アクセスできます。したがって、クラスタにデータを格納する給料計算アプリケーションでは、あるアプリケーションが社員の給料を更新すると、このデータをクエリーするほかのすべての MySQL サーバーがこの変更をただちに認識できます。
  </p><p>
    MySQL Cluster の SQL ノードでは <span class="command"><strong>mysqld</strong></span> サーバーデーモンが使用されますが、これは MySQL 5.6 配布に付属する <span class="command"><strong>mysqld</strong></span> バイナリとはいくつかの重要な点で異なっており、これら 2 つのバージョンの <span class="command"><strong>mysqld</strong></span> を交換することはできません。
  </p><p>
    さらに、MySQL Cluster に接続されていない MySQL Server は、<code class="literal">NDB</code> ストレージエンジンを使用できず、MySQL Cluster のデータにアクセスできません。
  </p><p>
    MySQL Cluster のデータノードに格納されたデータはミラー化できます。クラスタは、少数のトランザクションがトランザクション状態の消失によって中止されること以外の影響を受けずに、個々のデータノードの障害を処理できます。トランザクションの失敗はトランザクションアプリケーションが処理すると想定されるため、これが問題の原因になることはないはずです。
  </p><p>
    個々のノードは、停止して再起動したあと、システム (クラスタ) に再度参加できます。構成の変更やソフトウェアのアップグレードを行うときは、ローリング再起動 (すべてのノードが順に再起動される) が使用されます (<a class="xref" href="mysql-cluster.html#mysql-cluster-rolling-restart" title="18.5.5 MySQL Cluster のローリング再起動の実行">セクション18.5.5「MySQL Cluster のローリング再起動の実行」</a>を参照してください)。ローリング再起動は、新しいデータノードをオンラインで追加するプロセスの一部としても使用されます (<a class="xref" href="mysql-cluster.html#mysql-cluster-online-add-node" title="18.5.13 MySQL Cluster データノードのオンライン追加">セクション18.5.13「MySQL Cluster データノードのオンライン追加」</a>を参照してください)。データノードの詳細、MySQL Cluster でのデータノードの構成方法、およびデータノードによる MySQL Cluster データの処理方法と格納方法については、<a class="xref" href="mysql-cluster.html#mysql-cluster-nodes-groups" title="18.1.2 MySQL Cluster のノード、ノードグループ、レプリカ、およびパーティション">セクション18.1.2「MySQL Cluster のノード、ノードグループ、レプリカ、およびパーティション」</a>を参照してください。
  </p><p>
    MySQL Cluster データベースのバックアップとリストアは、MySQL Cluster 管理クライアントにある <code class="literal">NDB</code> 固有の機能、および MySQL Cluster 配布に含まれる <span class="command"><strong>ndb_restore</strong></span> プログラムを使用して行うことができます。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-backup" title="18.5.3 MySQL Cluster のオンラインバックアップ">セクション18.5.3「MySQL Cluster のオンラインバックアップ」</a>および<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="18.4.20 ndb_restore — MySQL Cluster バックアップのリストア">セクション18.4.20「<span class="command"><strong>ndb_restore</strong></span> — MySQL Cluster バックアップのリストア」</a>を参照してください。<span class="command"><strong>mysqldump</strong></span> および MySQL Server でこの目的のために用意されている標準の MySQL 機能を使用することもできます。詳細は、<a class="xref" href="programs.html#mysqldump" title="4.5.4 mysqldump — データベースバックアッププログラム">セクション4.5.4「<span class="command"><strong>mysqldump</strong></span> — データベースバックアッププログラム」</a>を参照してください。
  </p><p>
    MySQL Cluster ノードのノード間通信では、標準の 100M ビット/秒またはより高速な Ethernet ハードウェアを使用する TCP/IP など、多くの異なる転送メカニズムを使用できます。MySQL Cluster では、高速な<em class="firstterm">スケーラブルコヒーラントインタフェース</em> (SCI) プロトコルを使用することもできますが、これは MySQL Cluster を使用する上で必須ではありません。SCI には特別なハードウェアとソフトウェアが必要です。SCI および MySQL Cluster での SCI の使用方法の詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-interconnects" title="18.3.5 MySQL Cluster での高速インターコネクトの使用">セクション18.3.5「MySQL Cluster での高速インターコネクトの使用」</a>を参照してください。
  </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-basics"></a>18.1.1 MySQL Cluster の主な概念</h3></div></div></div><a class="indexterm" name="idm139979045254928"></a><a class="indexterm" name="idm139979045252816"></a><a class="indexterm" name="idm139979045250784"></a><a class="indexterm" name="idm139979045248720"></a><a class="indexterm" name="idm139979045246656"></a><a class="indexterm" name="idm139979045244560"></a><a class="indexterm" name="idm139979045242464"></a><a class="indexterm" name="idm139979045240000"></a><a class="indexterm" name="idm139979045237536"></a><a class="indexterm" name="idm139979045235040"></a><a class="indexterm" name="idm139979045232496"></a><a class="indexterm" name="idm139979045230464"></a><a class="indexterm" name="idm139979045228432"></a><a class="indexterm" name="idm139979045226384"></a><a class="indexterm" name="idm139979045224336"></a><p>
      <em class="firstterm"><code class="literal">NDBCLUSTER</code></em> (<code class="literal">NDB</code> とも呼ばれる) は、高可用性とデータ永続性の機能を備えたインメモリーストレージエンジンです。
    </p><p>
      <code class="literal">NDBCLUSTER</code> ストレージエンジンはさまざまなフェイルオーバーとロードバランシングのオプションを使って構成できますが、クラスタレベルのストレージエンジンから始めるのがもっとも簡単です。MySQL Cluster の <code class="literal">NDB</code> ストレージエンジンには、クラスタ自体の内部にあるほかのデータにのみ依存する完全なデータセットが格納されます。
    </p><p>
      MySQL Cluster の<span class="quote">「<span class="quote">クラスタ</span>」</span>部分は、MySQL Server とは別個に構成されます。MySQL Cluster では、クラスタの各部分が<em class="firstterm">ノード</em>とみなされます。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        <span class="quote">「<span class="quote">ノード</span>」</span>という用語は、多くのコンテキストではコンピュータを示すために使用されますが、MySQL Cluster について説明するときは<span class="emphasis"><em>プロセス</em></span>を意味します。1 台のコンピュータで複数のノードを実行できます。1 つ以上のクラスタノードを実行しているコンピュータに対しては、<em class="firstterm">クラスタホスト</em>という用語を使用します。
      </p></div><p>
      クラスタノードには 3 つのタイプがあります。最小限の MySQL Cluster 構成には少なくとも 3 つのノードがあり、各ノードがこれらのタイプのそれぞれに対応します。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <em class="firstterm">管理ノード</em>: このタイプのノードの役割は、構成データの提供、ノードの起動と停止、バックアップの実行などの機能を実行して、MySQL Cluster 内のほかのノードを管理することです。このノードタイプはほかのノードの構成を管理するため、このタイプのノードは最初に (ほかのノードより先に) 起動するようにしてください。MGM ノードは <span class="command"><strong>ndb_mgmd</strong></span> コマンドで起動します。
        </p></li><li class="listitem"><p>
          <em class="firstterm">データノード</em>: このタイプのノードにはクラスタのデータが格納されます。データノードの数は、レプリカの数にフラグメントの数を乗算した数です (<a class="xref" href="mysql-cluster.html#mysql-cluster-nodes-groups" title="18.1.2 MySQL Cluster のノード、ノードグループ、レプリカ、およびパーティション">セクション18.1.2「MySQL Cluster のノード、ノードグループ、レプリカ、およびパーティション」</a>を参照してください)。たとえば、レプリカが 2 つあり、それぞれにフラグメントが 2 つある場合は、4 つのデータノードが必要です。データストレージとしては 1 つのレプリカで十分ですが、それでは冗長性がありません。したがって、レプリカを 2 つ以上にして、冗長性 (およびその結果としての高可用性) を確保することをお勧めします。データノードは、<span class="command"><strong>ndbd</strong></span> (<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="18.4.1 ndbd — MySQL Cluster データノードデーモン">セクション18.4.1「<span class="command"><strong>ndbd</strong></span> — MySQL Cluster データノードデーモン」</a>を参照してください) または <span class="command"><strong>ndbmtd</strong></span> (<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="18.4.3 ndbmtd — MySQL Cluster データノードデーモン (マルチスレッド)">セクション18.4.3「<span class="command"><strong>ndbmtd</strong></span> — MySQL Cluster データノードデーモン (マルチスレッド)」</a>を参照してください) コマンドで起動します。
        </p><p>
          通常、MySQL Cluster テーブルはディスクではなくメモリー内に完全に格納されます (MySQL Cluster を<em class="firstterm">インメモリー</em>データベースと呼ぶ理由はここにあります)。ただし、MySQL Cluster の一部のデータはディスクに格納できます。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-disk-data" title="18.5.12 MySQL Cluster ディスクデータテーブル">セクション18.5.12「MySQL Cluster ディスクデータテーブル」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <em class="firstterm">SQL ノード</em>: これは、クラスタデータにアクセスするノードです。MySQL Cluster の場合、SQL ノードは <code class="literal">NDBCLUSTER</code> ストレージエンジンを使用する従来の MySQL Server です。SQL ノードは、<code class="option">--ndbcluster</code> および <code class="option">--ndb-connectstring</code> オプション (これらについては、この章の別の場所で説明します) を指定して起動される <span class="command"><strong>mysqld</strong></span> プロセスです。場合によっては、追加の MySQL Server オプションも指定できます。
        </p><p>
          SQL ノードは、実際には MySQL Cluster データにアクセスするアプリケーションが指定された特別なタイプの <em class="firstterm">API ノード</em>です。API ノードのもう 1 つの例は、クラスタのバックアップをリストアするために使われる <span class="command"><strong>ndb_restore</strong></span> ユーティリティーです。NDB API を使用してこのようなアプリケーションを作成できます。NDB API の基本情報については、<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-getting-started.html" target="_top">Getting Started with the NDB API</a>を参照してください。
        </p></li></ul></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
        本番環境で 3 ノードセットアップの採用を期待するのは現実的ではありません。このような構成には冗長性がありません。MySQL Cluster の高可用性機能の恩恵を受けるには、複数のデータノードと SQL ノードを使用する必要があります。複数の管理ノードを使用することも、強くお勧めします。
      </p></div><p>
      MySQL Cluster のノード間、ノードグループ間、レプリカ間、およびパーティション間の関係の概要については、<a class="xref" href="mysql-cluster.html#mysql-cluster-nodes-groups" title="18.1.2 MySQL Cluster のノード、ノードグループ、レプリカ、およびパーティション">セクション18.1.2「MySQL Cluster のノード、ノードグループ、レプリカ、およびパーティション」</a>を参照してください。
    </p><p>
      クラスタの構成には、クラスタ内の各ノードの構成と、ノード間の個々の通信リンクの設定が含まれます。MySQL Cluster は現在、データノードがプロセッサの性能、メモリースペース、および帯域幅に関して均一になるよう開発されています。さらに、一元管理の構成を提供するため、クラスタのすべての構成データが全体として 1 つの構成ファイルに格納されます。
    </p><p>
      管理サーバーは、クラスタ構成ファイルとクラスタログを管理します。クラスタ内の各ノードは、管理サーバーから構成データを取得するため、管理サーバーがどこにあるかを特定する手段を必要とします。データノードで注目に値するイベントが発生すると、そのノードはこれらのイベントに関する情報を管理サーバーに転送し、管理サーバーはその情報をクラスタログに書き込みます。
    </p><p>
      さらに、任意の数のクラスタクライアントプロセスまたはアプリケーションが存在する可能性があります。これらには、標準の MySQL クライアント、<code class="literal">NDB</code> 専用の API プログラム、管理クライアントなどが含まれます。次のいくつかの段落で、これらについて説明します。
    </p><p><b>標準の MySQL クライアント </b>
        MySQL Cluster は、PHP、Perl、C、C++、Java、Python、Ruby などで作成された既存の MySQL アプリケーションとともに使用できます。このようなクライアントアプリケーションは、スタンドアロンの MySQL Server とやり取りする場合とほとんど同じ方法で、MySQL Cluster の SQL ノードとして機能する MySQL Server に SQL ステートメントを送信し、その MySQL Server から応答を受信します。
      </p><a class="indexterm" name="idm139979045184544"></a><a class="indexterm" name="idm139979045182336"></a><a class="indexterm" name="idm139979045180272"></a><p>
      MySQL Cluster をデータソースとして使用する MySQL クライアントは、複数の MySQL Server に接続する機能を利用してロードバランシングとフェイルオーバーを実現するように変更できます。たとえば、Connector/J 5.0.6 以降を使用する Java クライアントは、<code class="literal">jdbc:mysql:loadbalance://</code> URL (Connector/J 5.1.7 で改良済み) を使用してロードバランシングを透過的に実現できます。MySQL Cluster での Connector/J の使用方法の詳細は、<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/mccj-using-connectorj.html" target="_top">Using Connector/J with MySQL Cluster</a>を参照してください。
    </p><p><b>NDB クライアントプログラム </b>
        クラスタに接続されている可能性がある MySQL Server をバイパスし、高レベルの C++ API である <em class="firstterm">NDB API</em> を使用して <code class="literal">NDBCLUSTER</code> ストレージエンジンから直接 MySQL Cluster データにアクセスするクライアントプログラムを作成できます。このようなアプリケーションは、データへの SQL インタフェースを必要としない特殊な目的に役立ちます。詳細は、<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndbapi.html" target="_top">The NDB API</a>を参照してください。
      </p><p>
      <em class="firstterm">Java 用 MySQL Cluster Connector</em> を使用して、MySQL Cluster 用に <code class="literal">NDB</code> 専用の Java アプリケーションを作成することもできます。この MySQL Cluster Connector には、<code class="literal">NDBCLUSTER</code> に直接接続する Hibernate や JPA のようなオブジェクトリレーショナルマッピングの永続性フレームワークに似た高レベルのデータベース API である <em class="firstterm">ClusterJ</em> が含まれているため、MySQL Server へのアクセスは必要ありません。MySQL Cluster NDB 7.1 以降では、ClusterJ と JDBC の長所を生かした MySQL Cluster 用の OpenJPA 実装である <em class="firstterm">ClusterJPA</em> もサポートされます。ID ルックアップやその他の高速処理は ClusterJ を使用して (MySQL Server をバイパスして) 実行されますが、MySQL のクエリーオプティマイザによるメリットが得られるより複雑なクエリーは、JDBC を使用して MySQL Server 経由で送信されます。詳細は、<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/mccj-overview-java.html" target="_top">Java and MySQL Cluster</a>および<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/mccj-overview-clusterj-object-models.html" target="_top">The ClusterJ API and Data Object Model</a>を参照してください。
    </p><p>
      MySQL Cluster NDB 7.3 以降では、Node.js を使用して JavaScript で作成されたアプリケーションもサポートされます。JavaScript 用の MySQL Connector には、MySQL Server だけでなく、<code class="literal">NDB</code> ストレージエンジンに直接アクセスするためのアダプタも含まれています。この Connector を使用するアプリケーションは、通常イベント駆動型であり、ClusterJ に採用されているものと多くの点で似ているドメインオブジェクトモデルを使用します。詳細は、<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-nodejs.html" target="_top">MySQL NoSQL Connector for JavaScript</a>を参照してください。
    </p><p>
      memcached バージョン 1.6 以降用のロード可能な <em class="firstterm">ndbmemcache</em> ストレージエンジンとして実装されている MySQL Cluster 用の Memcache API を使用して、memcache プロトコルを使用してアクセスされる永続的な MySQL Cluster データストアを提供できます。
    </p><p>
      標準の <span class="command"><strong>memcached</strong></span> キャッシュエンジンは、MySQL Cluster NDB 7.3 以降の配布に含まれています。各 <span class="command"><strong>memcached</strong></span> サーバーは、MySQL Cluster に格納されたデータに直接アクセスしますが、データをローカルでキャッシュして、このローカルキャッシュから要求を処理することもできます。
    </p><p>
      詳細は、<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndbmemcache.html" target="_top"><code class="literal">ndbmemcache</code>—Memcache API for MySQL Cluster</a>を参照してください。
    </p><p><b>管理クライアント </b>
        これらのクライアントは、管理サーバーに接続して、ノードの正常な起動と停止、メッセージトレースの開始と停止 (デバッグバージョンのみ)、ノードのバージョンとステータスの表示、バックアップの開始と停止などのコマンドを提供します。このタイプのプログラムの例として、MySQL Cluster に付属の <span class="command"><strong>ndb_mgm</strong></span> 管理クライアントがあります (<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="18.4.5 ndb_mgm — MySQL Cluster 管理クライアント">セクション18.4.5「<span class="command"><strong>ndb_mgm</strong></span> — MySQL Cluster 管理クライアント」</a>を参照してください)。このようなアプリケーションは、1 つ以上の MySQL Cluster 管理サーバーと直接通信する C 言語 API である <em class="firstterm">MGM API</em> を使用して作成できます。詳細は、<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/mgm-api.html" target="_top">The MGM API</a>を参照してください。
      </p><p>
      オラクルは、多数のノードを含む MySQL Cluster の再起動など、MySQL Cluster の多くの複雑な管理タスクを簡略化する高度なコマンド行インタフェースを備えた MySQL Cluster Manager も提供しています。MySQL Cluster Manager クライアントは、MySQL Cluster に関連する <span class="command"><strong>mysqld</strong></span> サーバーのオプションや変数に加えて、ほとんどのノード構成パラメータの値を取得および設定するためのコマンドもサポートします。詳細は、<a class="ulink" href="http://dev.mysql.com/doc/mysql-cluster-manager/1.3/en/index.html" target="_top">MySQL™ Cluster Manager 1.3.6 User Manual</a>を参照してください。
    </p><p><b>イベントログ </b>
        MySQL Cluster は、イベントをカテゴリ (起動、シャットダウン、エラー、チェックポイントなど)、優先度、および重大度別に記録します。すべてのレポート可能イベントの完全なリストについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-event-reports" title="18.5.6 MySQL Cluster で生成されたイベントレポート">セクション18.5.6「MySQL Cluster で生成されたイベントレポート」</a>を参照してください。イベントログには、ここに示す 2 つのタイプがあります。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <em class="firstterm">クラスタログ</em>: クラスタに関する必要なすべてのレポート可能イベントが全体として保持されます。
        </p></li><li class="listitem"><p>
          <em class="firstterm">ノードログ</em>: 個々のノードごとに保持される個別のログです。
        </p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        通常の状況では、クラスタログのみを保持して調べるだけで必要十分です。ノードログを調べる必要があるのは、アプリケーション開発やデバッグの場合だけです。
      </p></div><p><b>チェックポイント </b>
        一般的には、データをディスクに保存したときに<em class="firstterm">チェックポイント</em>に達したといいます。MySQL Cluster に限定した場合、チェックポイントはコミットされたトランザクションがディスクに格納された時点です。<code class="literal">NDB</code> ストレージエンジンについては 2 つのタイプのチェックポイントがあり、その組み合わせによってクラスタのデータを一貫して確認し続けることができます。次のリストにそれらを示します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <em class="firstterm">ローカルチェックポイント (LCP)</em>: これは、1 つのノードに固有のチェックポイントです。ただし、LCP はクラスタ内のすべてのノードである程度同時に発生します。LCP は、ノードのすべてのデータをディスクに保存する必要があるため、通常は数分間隔で発生します。正確な間隔は、ノードに格納されているデータの量、クラスタのアクティビティーのレベル、およびその他の要因によって異なります。
        </p></li><li class="listitem"><p>
          <em class="firstterm">グローバルチェックポイント (GCP)</em>: GCP は、すべてのノードのトランザクションが同期し、Redo ログがディスクにフラッシュされたときに、数秒間隔で発生します。
        </p></li></ul></div><p>
      ローカルチェックポイントとグローバルチェックポイントによって作成されるファイルおよびディレクトリの詳細は、<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-ndbd-filesystemdir-files.html" target="_top">MySQL Cluster Data Node File System Directory Files</a>を参照してください。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-nodes-groups"></a>18.1.2 MySQL Cluster のノード、ノードグループ、レプリカ、およびパーティション</h3></div></div></div><a class="indexterm" name="idm139979045131504"></a><a class="indexterm" name="idm139979045129376"></a><a class="indexterm" name="idm139979045127344"></a><a class="indexterm" name="idm139979045125312"></a><a class="indexterm" name="idm139979045123936"></a><a class="indexterm" name="idm139979045122560"></a><p>
      このセクションでは、MySQL Cluster が格納するデータを分割および複製する方法について説明します。
    </p><p>
      次の各段落では、このトピックを理解する上で中心となるいくつかの概念について説明します。
    </p><p><b>(データ) ノード </b>
        <em class="firstterm">レプリカ</em> (そのノードがメンバーとなっているノードグループに割り当てられた<em class="firstterm">パーティション</em> (次を参照してください) のコピー) を格納する <span class="command"><strong>ndbd</strong></span> プロセスです。
      </p><p>
      各データノードは、別個のコンピュータに配置するようにしてください。1 つのコンピュータで複数の <span class="command"><strong>ndbd</strong></span> プロセスをホストすることも可能ですが、そのような構成はサポートされていません。
    </p><p>
      通常、<span class="command"><strong>ndbd</strong></span> プロセスに言及するときは、<span class="quote">「<span class="quote">ノード</span>」</span>と<span class="quote">「<span class="quote">データノード</span>」</span>を区別せずに使用します。この説明で管理ノード (<span class="command"><strong>ndb_mgmd</strong></span> プロセス) と SQL ノード (<span class="command"><strong>mysqld</strong></span> プロセス) に言及するときは、そのように明示します。
    </p><p><a name="mysql-cluster-nodes-groups-nodegroup"></a><b>ノードグループ </b>
        ノードグループは、1 つ以上のノードで構成され、パーティションまたは<em class="firstterm">レプリカ</em> (次の項目を参照してください) のセットを格納します。
      </p><p>
      MySQL Cluster 内のノードグループの数を直接構成することはできません。これは、ここに示すように、データノードの数とレプリカの数 (<code class="literal">NoOfReplicas</code> 構成パラメータ) の関数です。
    </p><pre class="programlisting">
[<em class="replaceable"><code>number_of_node_groups</code></em>] = <em class="replaceable"><code>number_of_data_nodes</code></em> / <code class="literal">NoOfReplicas</code>
</pre><p>
      したがって、4 つのデータノードを含む MySQL Cluster で、<code class="filename">config.ini</code> ファイルの <code class="literal">NoOfReplicas</code> が 1 に設定されている場合は 4 つのノードグループが存在し、<code class="literal">NoOfReplicas</code> が 2 に設定されている場合は 2 つのノードグループが存在し、<code class="literal">NoOfReplicas</code> が 4 に設定されている場合は 1 つのノードグループが存在します。レプリカについてはこのセクションで後述します。<code class="literal">NoOfReplicas</code> の詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndbd-definition" title="18.3.2.6 MySQL Cluster データノードの定義">セクション18.3.2.6「MySQL Cluster データノードの定義」</a>を参照してください。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        MySQL Cluster 内のすべてのノードグループに同じ数のデータノードが含まれている必要があります。
      </p></div><p>
      実行中の MySQL Cluster にオンラインで新しいノードグループ (およびその結果としての新しいデータノード) を追加できます。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-online-add-node" title="18.5.13 MySQL Cluster データノードのオンライン追加">セクション18.5.13「MySQL Cluster データノードのオンライン追加」</a>を参照してください。
    </p><p><a name="mysql-cluster-nodes-groups-partition"></a><b>パーティション </b>
        これは、クラスタに格納されるデータの一部分です。クラスタに参加するノードと同じ数のクラスタパーティションが存在します。各ノードは、そのノードに割り当てられたパーティションの少なくとも 1 つのコピー (つまり、少なくとも 1 つレプリカ) をクラスタで利用可能な状態に維持する役割を担います。
      </p><p>
      レプリカは完全に 1 つのノードに属します。ノードには複数のレプリカを格納できます (そして通常はそのようにします)。
    </p><p><a name="mysql-cluster-nodes-groups-user-partitioning"></a><b>NDB とユーザー定義のパーティション化 </b>
        通常、MySQL Cluster は <code class="literal">NDBCLUSTER</code> テーブルを自動的にパーティション化します。ただし、<code class="literal">NDBCLUSTER</code> テーブルにユーザー定義のパーティション化を適用することもできます。これには、次の制限があります。
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          <code class="literal">NDB</code> テーブルには、<code class="literal">KEY</code> および <code class="literal">LINEAR KEY</code> パーティション化スキームのみを使用できます。
        </p></li><li class="listitem"><p>
          <span class="command"><strong>ndbd</strong></span> を使用する場合、<code class="literal">NDB</code> テーブルに対して明示的に定義できるパーティションの最大数は <code class="literal">8 * [<em class="replaceable"><code>ノードグループの数</code></em>]</code> です。(MySQL Cluster 内のノードグループの数は、このセクションで前述した方法で決定されます。)
        </p><p>
          <span class="command"><strong>ndbmtd</strong></span> を使用する場合、この最大数は <code class="literal">MaxNoOfExecutionThreads</code> 構成パラメータの値によって決定されるローカルクエリーハンドラスレッドの数にも影響されます。このような場合、<code class="literal">NDB</code> テーブルに対して明示的に定義できるパーティションの最大数は <code class="literal">4 * MaxNoOfExecutionThreads * [<em class="replaceable"><code>ノードグループの数</code></em>]</code> になります。
        </p><p>
          詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="18.4.3 ndbmtd — MySQL Cluster データノードデーモン (マルチスレッド)">セクション18.4.3「<span class="command"><strong>ndbmtd</strong></span> — MySQL Cluster データノードデーモン (マルチスレッド)」</a>を参照してください。
        </p></li></ol></div><p>
      MySQL Cluster とユーザー定義のパーティション化に関する詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-limitations" title="18.1.6 MySQL Cluster の既知の制限">セクション18.1.6「MySQL Cluster の既知の制限」</a>および<a class="xref" href="partitioning.html#partitioning-limitations-storage-engines" title="19.6.2 ストレージエンジンに関連するパーティショニング制限">セクション19.6.2「ストレージエンジンに関連するパーティショニング制限」</a>を参照してください。
    </p><p><a name="mysql-cluster-nodes-groups-replica"></a><b>レプリカ </b>
        これは、クラスタパーティションのコピーです。レプリカは、ノードグループ内の各ノードに格納されます。<em class="firstterm">パーティションレプリカ</em>と呼ばれることもあります。レプリカの数は、ノードグループあたりのノード数と同じになります。
      </p><p>
      次の図に、4 つのデータノードを含む MySQL Cluster を示します。これらのノードはそれぞれ 2 ノードから成る 2 つのノードグループに配置されています。ノード 1 および 2 はノードグループ 0 に属し、ノード 3 および 4 はノードグループ 1 に属します。ここにはデータ (<span class="command"><strong>ndbd</strong></span>) ノードのみを表示しています。正常に機能するクラスタにはクラスタ管理用の <span class="command"><strong>ndb_mgm</strong></span> プロセスと、クラスタに格納されているデータにアクセスするための SQL ノードが少なくとも 1 つ必要ですが、この図ではわかりやすくするためにこれらを省略しています。
    </p><div class="mediaobject"><img src="images/replicas-groups-1-1.png" width="500" height="505" alt="2 ノードから成る 2 つのノードグループを含む MySQL Cluster"></div><p>
      クラスタに格納されたデータは、0、1、2、3 の番号が付けられた 4 つのパーティションに分割されています。各パーティションは同じノードグループに (複数のコピーで) 格納されます。パーティションは、次のように各ノードグループに交互に格納されます。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          パーティション 0 はノードグループ 0 に格納されます。<em class="firstterm">プライマリレプリカ</em> (プライマリコピー) がノード 1 に格納され、<em class="firstterm">バックアップレプリカ</em> (パーティションのバックアップコピー) がノード 2 に格納されます。
        </p></li><li class="listitem"><p>
          パーティション 1 は別のノードグループ (ノードグループ 1) に格納されます。このパーティションのプライマリレプリカがノード 3 に格納され、そのバックアップレプリカがノード 4 に格納されます。
        </p></li><li class="listitem"><p>
          パーティション 2 はノードグループ 0 に格納されます。ただし、その 2 つのレプリカはパーティション 0 とは逆に配置されます。プライマリレプリカがノード 2 に格納され、バックアップレプリカがノード 1 に格納されます。
        </p></li><li class="listitem"><p>
          パーティション 3 はノードグループ 1 に格納され、その 2 つのレプリカはパーティション 1 とは逆に配置されます。つまり、プライマリレプリカがノード 4 に格納され、バックアップレプリカがノード 3 に格納されます。
        </p></li></ul></div><p>
      これは、MySQL Cluster の継続的な運用に関して次のような意味を持っています。クラスタに参加している各ノードグループで少なくとも 1 つのノードが動作しているかぎり、クラスタはすべてのデータの完全なコピーを保持し、実行可能な状態を維持します。これを次の図に示します。
    </p><div class="mediaobject"><img src="images/replicas-groups-1-2.png" width="500" height="395" alt="2x2 クラスタの実行可能な状態を維持するのに必要なノード"></div><p>
      この例では、クラスタはそれぞれに 2 つのノードを含む 2 つのノードグループで構成されており、クラスタを<span class="quote">「<span class="quote">存続</span>」</span>させるには、ノードグループ 0 の少なくとも 1 つのノードとノードグループ 1 の少なくとも 1 つのノードの任意の組み合わせ (図の矢印で示したもの) があれば十分です。ただし、<span class="emphasis"><em>どちらかの</em></span>ノードグループの<span class="emphasis"><em>両方</em></span>のノードに障害が発生した場合、残りの 2 つのノード (<span class="bold"><strong>X</strong></span> 印を付けた矢印で示したもの) では不十分です。どちらの場合も、クラスタからパーティション全体が消失するため、すべてのクラスタデータの完全なセットへのアクセスを提供できなくなります。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-overview-requirements"></a>18.1.3 MySQL Cluster のハードウェア、ソフトウェア、およびネットワーク要件</h3></div></div></div><a class="indexterm" name="idm139979045040160"></a><a class="indexterm" name="idm139979045038016"></a><p>
      MySQL Cluster の長所の 1 つは、汎用のハードウェアで実行できるため、すべてのライブデータをメモリーに格納するために大量の RAM を必要とする以外は、ハードウェアに関して特別な要件がないことです。(ディスクデータテーブルを使用してこの要件を削減することもできます。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-disk-data" title="18.5.12 MySQL Cluster ディスクデータテーブル">セクション18.5.12「MySQL Cluster ディスクデータテーブル」</a>を参照してください。)当然ながら、複数の高速な CPU を使用すればパフォーマンスは向上します。ほかの MySQL Cluster プロセスのメモリー要件は、比較的少量です。
    </p><p>
      MySQL Cluster のソフトウェア要件も小規模です。ホストのオペレーティングシステムに、MySQL Cluster をサポートするための特別なモジュール、サービス、アプリケーション、または構成は必要ありません。サポートされるオペレーティングシステムについては、標準のインストールで十分のはずです。MySQL のソフトウェア要件は単純です。必要なものは MySQL Cluster の本番リリースだけです。MySQL Cluster を使用できるようにするだけなら、必ずしも MySQL をユーザー自身でコンパイルする必要はありません。ここでは、ユーザーが MySQL Cluster ソフトウェアダウンロードページ (<a class="ulink" href="http://dev.mysql.com/downloads/cluster/" target="_top">http://dev.mysql.com/downloads/cluster/</a>) から入手できる各自のプラットフォームに適したバイナリを使用していると仮定します。
    </p><p>
      ノード間の通信については、MySQL Cluster は標準的なトポロジの TCP/IP ネットワークをサポートします。各ホストには、標準の 100M ビット/秒 Ethernet カードが最低限必要です。さらに、クラスタ全体のネットワーク接続を提供するためにスイッチ、ハブ、またはルーターが必要です。次の理由で、クラスタの構成要素でないマシンと共有しない独立したサブネットで MySQL Cluster を実行することをお勧めします。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>セキュリティー </b>
            MySQL Cluster ノード間の通信では、暗号化や保護がまったく行われません。MySQL Cluster 内の伝送を保護する唯一の手段は、MySQL Cluster を保護されたネットワークで実行することです。MySQL Cluster を Web アプリケーションのために使用する場合は、クラスタをネットワークの非武装地帯 (<a class="ulink" href="http://compnetworking.about.com/cs/networksecurity/g/bldef_dmz.htm" target="_top">DMZ</a>) などに配置せず、ファイアウォールの背後に間違いなく配置するようにしてください。
          </p><p>
          詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-security-networking-issues" title="18.5.11.1 MySQL Cluster のセキュリティーとネットワーク上の問題">セクション18.5.11.1「MySQL Cluster のセキュリティーとネットワーク上の問題」</a>を参照してください。
        </p></li><li class="listitem"><p><b>効率 </b>
            MySQL Cluster をプライベートネットワークや保護されたネットワークにセットアップすると、クラスタはクラスタホスト間の帯域幅を独占的に使用できます。MySQL Cluster 用に別個のスイッチを使用すると、MySQL Cluster データを不正アクセスから保護できるだけでなく、ネットワーク上のほかのコンピュータ間の伝送によって発生する障害から MySQL Cluster ノードを確実に保護できます。信頼性を高めるため、デュアルスイッチとデュアルカードを使用して、単一障害点になったネットワークを除去できます。多くのデバイスドライバがこのような通信リンクのフェイルオーバーをサポートしています。
          </p></li></ul></div><p><a name="mysql-cluster-network-latency-issues"></a><b>ネットワーク通信と待機時間 </b>
        MySQL Cluster では、データノードと API ノード (SQL ノードを含む) 間、およびデータノードと別のデータノード間でクエリーや更新を実行するために通信を行う必要があります。これらのプロセス間通信の待機時間は、ユーザークエリーの観測されるパフォーマンスと待機時間に直接影響を与える可能性があります。さらに、ノードのサイレント障害が発生した場合でも一貫性とサービスを維持するため、MySQL Cluster では長時間にわたるノードからの通信の喪失をノード障害として扱うハートビートとタイムアウトのメカニズムが使用されます。これは、冗長性の低下につながる可能性があります。ノードグループ内の最後のノードに障害が発生すると、MySQL Cluster はデータの一貫性を維持するためにシャットダウンすることを思い出してください。したがって、強制的なシャットダウンのリスクを増やさないようにするため、ノード間通信の中断はできるかぎり回避すべきです。
      </p><p>
      データノードまたは API ノードに障害が発生すると、障害が発生したノードに関係するコミットされていないすべてのトランザクションが中止されます。データノードをリカバリするには、データノードのサービスを再開する前に、障害が発生したノードのデータを残存するデータノードのデータと同期し、ディスクベースの redo ログとチェックポイントログを再構築する必要があります。このリカバリには時間がかかる場合があり、その間、クラスタは冗長性が低下した状態で動作します。
    </p><p>
      ハートビートは、すべてのノードでハートビート信号が遅延なく生成されるかどうかに依存しています。ノードに過大な負荷がかかったり、マシンの CPU がほかのプログラムと共有されるために不十分だったり、スワッピングによる遅延が発生したりすると、これは不可能になります。ハートビート生成の遅延が十分に大きくなると、ほかのノードは応答が遅いノードを障害発生ノードとして扱います。
    </p><p>
      このように遅いノードを障害発生ノードとして扱うことは、ノードの遅い動作がクラスタの残りの部分にどの程度影響するかによって、望ましい場合とそうでない場合があります。MySQL Cluster の <code class="literal">HeartbeatIntervalDbDb</code> や <code class="literal">HeartbeatIntervalDbApi</code> などのタイムアウト値を設定するときは、高コストの可能性がある誤判定を回避しながら、迅速な検出、フェイルオーバー、サービス再開が実現されるように配慮する必要があります。
    </p><p>
      データノード間の通信待機時間が LAN 環境での予想値 (およそ 100 マイクロ秒) より大きくなると予想される場合は、タイムアウトのパラメータを増やして、許容する待機時間が構成したタイムアウトの範囲に十分に収まるようにする必要があります。このようにタイムアウトを増やすと、最大の障害検出時間および (その結果としての) サービスリカバリ時間にも類似の効果があります。
    </p><p>
      LAN 環境は、通常、安定した小さい待機時間で構成できるため、高速フェイルオーバーによる冗長性を提供できます。個々のリンク障害は、TCP レベルで認識できる最小限の制御された (MySQL Cluster が正常に動作する) 待機時間でリカバリできます。WAN 環境では、待機時間に幅があり、冗長性についてもフェイルオーバーに時間がかかる可能性があります。個々のリンク障害では、エンドツーエンドの接続をリストアする前に、ルート変更を伝播する必要があります。これは、TCP レベルでは個々のチャネルの大きな待機時間として現れます。これらのシナリオで最悪の場合に観測される TCP 待機時間は、IP 層で障害を回避するために行われる再ルーティングの最大時間に関連しています。
    </p><p><b>SCI のサポート </b>
        MySQL Cluster に高速なスケーラブルコヒーラントインタフェース (SCI) を使用することもできますが、これは必要条件ではありません。このプロトコルおよび MySQL Cluster での使用方法の詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-interconnects" title="18.3.5 MySQL Cluster での高速インターコネクトの使用">セクション18.3.5「MySQL Cluster での高速インターコネクトの使用」</a>を参照してください。
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-development"></a>18.1.4 MySQL Cluster の開発履歴</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-development-5-6-ndb-7-3">18.1.4.1 MySQL Cluster NDB 7.3 での MySQL Cluster の開発</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-development-5-6-ndb-7-4">18.1.4.2 MySQL Cluster NDB 7.4 での MySQL Cluster の開発</a></span></dt></dl></div><a class="indexterm" name="idm139979045005088"></a><a class="indexterm" name="idm139979045003744"></a><a class="indexterm" name="idm139979045002400"></a><a class="indexterm" name="idm139979045000944"></a><p>
      次の 2 つのセクションでは、MySQL Cluster NDB 7.3 および MySQL Cluster NDB 7.4 での MySQL Cluster 実装の変更点について、MySQL Cluster NDB 7.2 以前のリリースと比較して説明します。もっとも注目に値する変更点と機能を次の 2 つの表に示します。
    </p><div class="informaltable"><table summary="この表は、もっとも注目に値する MySQL Cluster NDB 7.3 の変更点と機能を示しています。" border="1"><colgroup><col></colgroup><thead><tr><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-development-5-6-ndb-7-3" title="18.1.4.1 MySQL Cluster NDB 7.3 での MySQL Cluster の開発">MySQL Cluster NDB 7.3</a></th></tr></thead><tbody><tr><td scope="row">MySQL Cluster NDB 7.3 は MySQL 5.6 をベースにしています。MySQL Server 5.6 の新機能の詳細は、<a class="xref" href="introduction.html#mysql-nutshell" title="1.4 MySQL 5.6 の新機能">セクション1.4「MySQL 5.6 の新機能」</a>を参照してください。</td></tr><tr><td scope="row">MySQL Cluster NDB 7.3 は、テーブルの外部キー制約をサポートします。詳細は、<a class="xref" href="introduction.html#constraint-foreign-key" title="1.8.3.2 FOREIGN KEY の制約">セクション1.8.3.2「FOREIGN KEY の制約」</a>および<a class="xref" href="sql-syntax.html#create-table-foreign-keys" title="13.1.17.2 外部キー制約の使用">セクション13.1.17.2「外部キー制約の使用」</a>を参照してください。</td></tr><tr><td scope="row">MySQL Cluster NDB 7.3 は、JavaScript 用 MySQL NoSQL Connector を使用して Node.js のサポートを提供します。詳細は、<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-nodejs.html" target="_top">MySQL NoSQL Connector for JavaScript</a>を参照してください。</td></tr></tbody></table></div><div class="informaltable"><table summary="この表は、もっとも注目に値する MySQL Cluster NDB 7.4 の変更点と機能を示しています。" border="1"><colgroup><col></colgroup><thead><tr><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-development-5-6-ndb-7-4" title="18.1.4.2 MySQL Cluster NDB 7.4 での MySQL Cluster の開発">MySQL Cluster NDB 7.4</a></th></tr></thead><tbody><tr><td scope="row">MySQL Cluster NDB 7.4 は MySQL 5.6 をベースにしています (MySQL Server 5.6 の新機能の詳細は、<a class="xref" href="introduction.html#mysql-nutshell" title="1.4 MySQL 5.6 の新機能">セクション1.4「MySQL 5.6 の新機能」</a>を参照してください)。</td></tr><tr><td scope="row">競合例外テーブルに対する拡張機能を含む、MySQL Cluster レプリケーションの競合検出および解決の拡張 (<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="18.6.11 MySQL Cluster レプリケーションの競合解決">セクション18.6.11「MySQL Cluster レプリケーションの競合解決」</a>を参照してください)</td></tr><tr><td scope="row">循環 (<span class="quote">「<span class="quote">アクティブ-アクティブ</span>」</span>) レプリケーションの管理の改善 (<code class="literal">ndb_slave_conflict_role</code> によるプライマリ/セカンダリの割り当て)</td></tr><tr><td scope="row"><code class="literal">memory_per_fragment</code> テーブルでのフラグメント単位のメモリー使用状況レポート</td></tr><tr><td scope="row">次の拡張機能を含む多数のパフォーマンス改善

              <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    初期メモリー割り当ての高速化
                  </p></li><li class="listitem"><p>
                    ローカルチェックポイントの並列化の強化 (LCP でサポートされるフラグメント数が 2 から 32 に増加)
                  </p><p>
                    このバージョンで導入された一連の構成パラメータ (<code class="literal">MaxDiskWriteSpeed</code>、<code class="literal">MaxDiskWriteSpeedOtherNoderestart</code>、<code class="literal">MaxDiskWriteSpeedOwnRestart</code>) によって、LCP 中のディスク書き込みの制御が改善されました
                  </p><p>
                    このバージョンの <code class="literal">ndbinfo</code> データベースに追加された <code class="literal">disk_write_speed_base</code>、<code class="literal">disk_write_speed_aggregate</code>、および <code class="literal">disk_write_speed_aggregate_node</code> テーブルで、最近のディスク書き込みに関する情報を入手できます
                  </p></li><li class="listitem"><p>
                    バックアップから MySQL Cluster をリストアする時間の短縮
                  </p></li><li class="listitem"><p>
                    NDB 受信スレッドの最適化
                  </p></li></ul></div></td></tr><tr><td scope="row">ノード再起動中のエラーおよびその他のレポートの改善</td></tr></tbody></table></div><p>
      これらのセクションには、MySQL Cluster NDB 7.3 リリースの 5.6.22-ndb-7.3.9 (現在一般提供リリースとして入手可能) まで、および MySQL Cluster NDB 7.4 リリースの 5.6.22-ndb-7.4.4 (現在開発者マイルストーンリリースとして入手可能) までに関する情報が含まれています。MySQL Cluster NDB 7.2 および MySQL Cluster NDB 7.1 は、以前の GA リリースシリーズであり、現在もサポートされていますが、新規の配備には MySQL Cluster NDB 7.3 を使用することをお勧めします。MySQL Cluster NDB 7.2 および以前の MySQL Cluster リリースについては、『<em class="citetitle">MySQL 5.5 リファレンスマニュアル</em>』の<a class="ulink" href="http://dev.mysql.com/doc/refman/5.5/en/mysql-cluster.html" target="_top">MySQL Cluster NDB 7.2</a>を参照してください。
    </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-development-5-6-ndb-7-3"></a>18.1.4.1 MySQL Cluster NDB 7.3 での MySQL Cluster の開発</h4></div></div></div><p>
        MySQL Cluster NDB 7.3 では、MySQL Cluster に対して次の改善が行われました。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>MySQL Server 5.6 ベースになった </b>
              MySQL Cluster NDB 7.3 は、MySQL Server 5.6 をベースにしているため、MySQL Cluster ユーザーは MySQL 5.6 の拡張性とパフォーマンスモニタリングの改善によるメリットを得ることができます。MySQL 5.6 と同様に、MySQL Cluster NDB 7.3 では構成とソースからのビルドに <span class="command"><strong>CMake</strong></span> が使用されます。MySQL 5.6 での変更点と改善点の詳細は、<a class="xref" href="introduction.html#mysql-nutshell" title="1.4 MySQL 5.6 の新機能">セクション1.4「MySQL 5.6 の新機能」</a>を参照してください。
            </p></li><li class="listitem"><p><b>外部キー </b>
              <code class="literal">NDB</code> ストレージエンジンバージョン 7.3.0 以降を使用して作成されたテーブルでは、外部キー制約がサポートされます。(これには、すべての MySQL Cluster NDB 7.3 リリースが含まれます。)MySQL 5.6 および MySQL Cluster NDB 7.3 での外部キーの処理方法に関する一般的な情報は、<a class="xref" href="introduction.html#constraint-foreign-key" title="1.8.3.2 FOREIGN KEY の制約">セクション1.8.3.2「FOREIGN KEY の制約」</a>を参照してください。構文および関連情報については、<a class="xref" href="sql-syntax.html#create-table" title="13.1.17 CREATE TABLE 構文">セクション13.1.17「CREATE TABLE 構文」</a>および<a class="xref" href="sql-syntax.html#create-table-foreign-keys" title="13.1.17.2 外部キー制約の使用">セクション13.1.17.2「外部キー制約の使用」</a>を参照してください。
            </p></li><li class="listitem"><p><b>Node.js のサポート </b>
              MySQL Cluster NDB 7.3 は、Node.js を使用して JavaScript で作成されたアプリケーションもサポートします。JavaScript 用の MySQL Connector には、MySQL Server だけでなく、<code class="literal">NDB</code> ストレージエンジンに直接アクセスするためのアダプタも含まれています。この Connector を使用するアプリケーションは、通常イベント駆動型であり、ClusterJ に採用されているものと多くの点で似ているドメインオブジェクトモデルを使用します。詳細は、<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-nodejs.html" target="_top">MySQL NoSQL Connector for JavaScript</a>を参照してください。
            </p></li></ul></div><p>
        MySQL Cluster NDB 7.3 は、MySQL Cluster の多くの複雑な管理タスクを簡略化できる高度なコマンド行インタフェースを備えた MySQL Cluster Manager でもサポートされます。詳細は、<a class="ulink" href="http://dev.mysql.com/doc/mysql-cluster-manager/1.3/en/index.html" target="_top">MySQL™ Cluster Manager 1.3.6 User Manual</a>を参照してください。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-development-5-6-ndb-7-4"></a>18.1.4.2 MySQL Cluster NDB 7.4 での MySQL Cluster の開発</h4></div></div></div><p>
        MySQL Cluster NDB 7.4 では、MySQL Cluster に対して次の改善が行われました。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>競合検出および解決の拡張 </b>
              例外テーブルのメタカラムに対して予約されたカラム名名前空間 <code class="literal">NDB$</code> が採用され、メインテーブルのカラムの任意のサブセットが元のテーブルの主キーの一部でなくても、それらを記録できるようになりました。
            </p><p>
            例外テーブルのカラムとの一致が名前と型だけで行われるようになったため、元の主キーを完全に記録する必要がなくなりました。メインテーブルの主キーの一部ではないカラムの値を例外テーブルに記録することも可能になりました。
          </p><p>
            読み取りの競合検出が可能になりました。競合するトランザクションによって読み取られたすべての行がフラグ付けされ、例外テーブルに記録されます。同じトランザクションに挿入された行は、読み取りまたは記録の対象となる行に含まれません。この読み取り追跡は、スレーブが事前に <code class="literal">ndb_log_exclusive_reads</code> を設定する必要がある排他的な読み取りロックを持っているかどうかに依存します。詳細と例については、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-examples-read-conflicts" title="読み取り競合の検出と解決">読み取り競合の検出と解決</a>を参照してください。
          </p><p>
            既存の例外テーブルも引き続きサポートされます。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="18.6.11 MySQL Cluster レプリケーションの競合解決">セクション18.6.11「MySQL Cluster レプリケーションの競合解決」</a>を参照してください。
          </p></li><li class="listitem"><p><b>循環 (<span class="quote">「<span class="quote">アクティブ-アクティブ</span>」</span>) レプリケーションでのロール管理 </b>
              MySQL Cluster の循環 (<span class="quote">「<span class="quote">アクティブ-アクティブ</span>」</span>) レプリケーショントポロジを使用する場合は、<code class="literal">ndb_slave_conflict_role</code> サーバーシステム変数を使用して、プライマリまたはセカンダリのいずれかのロールを特定の MySQL Cluster に割り当てることができます。この変数には、<code class="literal">PRIMARY</code>、<code class="literal">SECONDARY</code>、<code class="literal">PASS</code>、<code class="literal">NULL</code> のいずれかの値を指定できます。デフォルトは <code class="literal">NULL</code> です。これは、プライマリとして機能する MySQL Cluster からフェイルオーバーするときに使用できます。
            </p><p>
            競合解決機能の効果が無視されるパススルー状態 (<code class="literal">PASS</code>) もサポートされます。詳細は、<code class="literal">ndb_slave_conflict_role</code> 変数の説明および<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="18.6.11 MySQL Cluster レプリケーションの競合解決">セクション18.6.11「MySQL Cluster レプリケーションの競合解決」</a>を参照してください。
          </p></li><li class="listitem"><p><b>フラグメント単位のメモリー使用状況レポート </b>
              メモリー使用状況に関するデータを、MySQL Cluster NDB 7.4.1 の <code class="literal">ndbinfo</code> 情報データベースに追加された <code class="literal">memory_per_fragment</code> ビューから個々の MySQL Cluster フラグメント単位で取得できるようになりました。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndbinfo-memory-per-fragment" title="18.5.10.17 ndbinfo memory_per_fragment テーブル">セクション18.5.10.17「ndbinfo memory_per_fragment テーブル」</a>を参照してください。
            </p></li><li class="listitem"><p><b>ノードの再起動の改善 </b></p><p>
            MySQL Cluster NDB 7.4 には、データノードの再起動にかかる時間を短縮する多数の改善が含まれています。次のリストで、これらについて説明します。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                ノードの起動時に割り当てられるメモリーは割り当てられるまで使用できないため、オペレーティングシステムは必要な実際の物理メモリーを確保します。MySQL Cluster の以前のバージョンでは、割り当てられたメモリーの各ページにアクセスするプロセスはシングルスレッド化されていたため、比較的時間がかかっていました。このプロセスがマルチスレッドで実装し直されました。16 個のスレッドによるテストでは、シングルスレッドの場合より約 3 倍速いアクセス時間が観測されました。
              </p></li><li class="listitem"><p>
                ローカルチェックポイントの並列化が強化され、MySQL Cluster NDB 7.4 では LCP でサポートされるフラグメント数が以前の 2 から 32 に増加しました。これにより、使用されなかった CPU パワーの利用率が大幅に向上し、LCP が最大 10 倍高速化されます。この高速化によってノードの再起動時間も大幅に短縮されます。
              </p></li><li class="listitem"><p>
                新しい <code class="literal">ndbinfo</code> テーブルである <code class="literal">disk_write_speed_base</code>、<code class="literal">disk_write_speed_aggregate</code>、および <code class="literal">disk_write_speed_aggregate_node</code> によってディスク書き込みのレポートが提供されます。これらのテーブルは、使用中の各 LDM スレッドのディスク書き込み速度に関する情報を提供します。
              </p><p>
                このリリースでは、現在のノードまたは別のノードが現在再起動されているとき、あるいは現在再起動されているノードがないときの LCP およびバックアップの書き込み速度を制御するため、<code class="literal">MinDiskWriteSpeed</code>、<code class="literal">MaxDiskWriteSpeed</code>、<code class="literal">MaxDiskWriteSpeedOtherNodeRestart</code>、および <code class="literal">MaxDiskWriteSpeedOwnRestart</code> データノード構成パラメータも追加されています。
              </p><p>
                これらの変更の目的は、<code class="literal">DiskCheckpointSpeed</code> および <code class="literal">DiskCheckpointSpeedInRestart</code> 構成パラメータを使ったディスク書き込みの構成の代替となることです。これら 2 つのパラメータは現在非推奨になっており、今後の MySQL Cluster リリースで削除される予定です。
              </p></li><li class="listitem"><p>
                パフォーマンスにとって重要であることが判明したポイントで検出された遅延シグナルを通常の (遅延しない) シグナルに置換することで、バックアップから MySQL Cluster をリストアする時間が短縮されます。これらの不要な遅延シグナルを除去または置換することで、MySQL Cluster のバックアップやバックアップからの MySQL Cluster のリストアにかかる時間が大幅に短縮されるはずです。
              </p></li><li class="listitem"><p>
                <code class="literal">NDB</code> の受信スレッドに関連する複数の内部メソッドが最適化され、<code class="literal">NDB</code> による SQL 処理の効率が向上しました。受信スレッドは、場合によっては 1 秒間に数百万件の受信レコードを処理する必要があるため、MySQL Cluster のデータノードからレコードを取得するときに不要な作業を実行したり、リソースを浪費したりしないようにすることが重要です。
              </p></li></ul></div></li><li class="listitem"><p>
            MySQL Cluster の起動フェーズのレポートが改善され、起動中の出力回数が増加しました。<a class="xref" href="mysql-cluster.html#mysql-cluster-start-phases" title="18.5.1 MySQL Cluster の起動フェーズのサマリー">セクション18.5.1「MySQL Cluster の起動フェーズのサマリー」</a>を参照してください。
          </p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-compared"></a>18.1.5 InnoDB を使用した MySQL Server と MySQL Cluster の比較</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndb-innodb-engines">18.1.5.1 NDB および InnoDB ストレージエンジンの違い</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndb-innodb-workloads">18.1.5.2 NDB と InnoDB のワークロード</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndb-innodb-usage">18.1.5.3 NDB および InnoDB の機能使用のサマリー</a></span></dt></dl></div><a class="indexterm" name="idm139979044885488"></a><a class="indexterm" name="idm139979044883312"></a><a class="indexterm" name="idm139979044881264"></a><p>
      MySQL Server では、ストレージエンジンに数多くの選択肢があります。<code class="literal">NDBCLUSTER</code> と <code class="literal">InnoDB</code> は、どちらもトランザクション対応の MySQL ストレージエンジンとして機能するため、MySQL Server のユーザーが MySQL Cluster に興味を持つこともあります。<code class="literal">NDB</code> は、MySQL 5.6 のデフォルトの <code class="literal">InnoDB</code> ストレージエンジンの代替候補またはアップグレード候補とみなされています。<code class="literal">NDB</code> と <code class="literal">InnoDB</code> には共通する特徴もありますが、アーキテクチャーや実装が異なるため、既存の MySQL Server アプリケーションや使用シナリオの中には MySQL Cluster に適合するものもありますが、すべてが適合するわけではありません。
    </p><p>
      このセクションでは、MySQL Cluster NDB 7.3 で使用されている <code class="literal">NDB</code> ストレージエンジンの特徴を、MySQL 5.6 で使用されている <code class="literal">InnoDB</code> と比較して説明します。次のいくつかのセクションでは、技術的な比較を示します。多くの場合、MySQL Cluster をいつどこで使用するかは、すべての要因を考慮に入れながらケースバイケースで決定する必要があります。このドキュメントでは、考えられるあらゆる使用シナリオの詳細を示すことはしませんが、一般的なタイプのアプリケーションが <code class="literal">InnoDB</code> バックエンドに比べて <code class="literal">NDB</code> にどの程度適合するかについて、ごく一般的なガイダンスを示します。
    </p><a class="indexterm" name="idm139979044865536"></a><a class="indexterm" name="idm139979044863392"></a><a class="indexterm" name="idm139979044861360"></a><p>
      MySQL Cluster NDB 7.3 では MySQL 5.6 をベースとする <span class="command"><strong>mysqld</strong></span> が使用されますが、これには <code class="literal">InnoDB</code> 1.1 のサポートも含まれます。MySQL Cluster で <code class="literal">InnoDB</code> テーブルを使用することは可能ですが、このようなテーブルはクラスタ化されません。MySQL Server 5.6 で MySQL Cluster NDB 7.3 配布のプログラムやライブラリを使用すること (またはその逆) もできません。
    </p><p>
      一般的なビジネスアプリケーションの中には MySQL Cluster と MySQL Server (ほとんどの場合、<code class="literal">InnoDB</code> ストレージエンジンを使用) のどちらかで実行可能なタイプがあることも事実ですが、アーキテクチャーと実装には重要な違いがあります。これらの違いのサマリーについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-innodb-engines" title="18.1.5.1 NDB および InnoDB ストレージエンジンの違い">セクション18.1.5.1「NDB および InnoDB ストレージエンジンの違い」</a>を参照してください。これらの違いのため、一部の使用シナリオは明らかにどちらか一方のエンジンに適しています。<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-innodb-workloads" title="18.1.5.2 NDB と InnoDB のワークロード">セクション18.1.5.2「NDB と InnoDB のワークロード」</a>を参照してください。これは、<code class="literal">NDB</code> または <code class="literal">InnoDB</code> とともに使用するのが適切なアプリケーションのタイプにも影響を与えます。それぞれが一般的なタイプのデータベースアプリケーションでの使用にどの程度適合するかの比較については、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-innodb-usage" title="18.1.5.3 NDB および InnoDB の機能使用のサマリー">セクション18.1.5.3「NDB および InnoDB の機能使用のサマリー」</a>を参照してください。
    </p><p>
      <code class="literal">NDB</code> および <code class="literal">MEMORY</code> ストレージエンジンの相対的な特徴については、<a class="xref" href="storage-engines.html#memory-compared-cluster" title="MEMORY または MySQL Cluster を使用する場合">MEMORY または MySQL Cluster を使用する場合</a>を参照してください。
    </p><p>
      MySQL ストレージエンジンに関する追加情報は、<a class="xref" href="storage-engines.html" title="第 15 章 代替ストレージエンジン">第15章「<i>代替ストレージエンジン</i>」</a>を参照してください。
    </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-ndb-innodb-engines"></a>18.1.5.1 NDB および InnoDB ストレージエンジンの違い</h4></div></div></div><a class="indexterm" name="idm139979044842848"></a><a class="indexterm" name="idm139979044840672"></a><a class="indexterm" name="idm139979044838624"></a><a class="indexterm" name="idm139979044836592"></a><p>
        MySQL Cluster の <code class="literal">NDB</code> ストレージエンジンは、分散型のシェアードナッシングアーキテクチャーを使用して実装されているため、<code class="literal">InnoDB</code> とは多くの点で動作が異なります。<code class="literal">NDB</code> の操作に慣れていないユーザーにとっては、NDB の持つ分散型の性質によって、トランザクション、外部キー、テーブルの制限、およびその他の特性に関して予期しない動作が発生する可能性があります。次の表にそれらを示します。
      </p><div class="informaltable"><table summary="この表は、InnoDB ストレージエンジンと NDB ストレージエンジンの機能上の違いを示しています。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><p>
                  機能
                </p></th><th scope="col"><p>
                  <code class="literal">InnoDB</code> 1.1
                </p></th><th scope="col"><p>
                  MySQL Cluster <code class="literal">NDB</code> 7.3、MySQL Cluster NDB 7.4
                </p></th></tr></thead><tbody><tr><td scope="row"><p>
                  <span class="emphasis"><em>MySQL Server のバージョン</em></span>
                </p></td><td><p>
                  5.6
                </p></td><td><p>
                  5.6
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em><code class="literal">InnoDB</code> のバージョン</em></span>
                </p></td><td><p>
                  <code class="literal">InnoDB</code> 5.6.23
                </p></td><td><p>
                  <code class="literal">InnoDB</code> 5.6.23
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>MySQL Cluster のバージョン</em></span>
                </p></td><td><p>
                  N/A
                </p></td><td><p>
                  <code class="literal">NDB</code> 7.3.9
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>ストレージの制限</em></span>
                </p></td><td><p>
                  64T バイト
                </p></td><td><p>
                  3T バイト
                </p>



                <p>
                  (それぞれ 64G バイトの RAM を備えた 48 個のデータノードを基にした現実的な上限。ディスクベースのデータや BLOB によって増える可能性があります)
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>外部キー</em></span>
                </p></td><td><p>
                  はい
                </p></td><td><p>
                  MySQL Cluster NDB 7.3 より前のバージョン: いいえ。(<code class="literal">MyISAM</code> と同様に無視されます)
                </p>



                <p>
                  MySQL Cluster NDB 7.3 では利用可能です。
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>トランザクション</em></span>
                </p></td><td><p>
                  すべての標準タイプ
                </p></td><td><p>
                  <code class="literal">READ COMMITTED</code>
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>MVCC</em></span>
                </p></td><td><p>
                  はい
                </p></td><td><p>
                  いいえ
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>データ圧縮</em></span>
                </p></td><td><p>
                  はい
                </p></td><td><p>
                  いいえ
                </p>



                <p>
                  (MySQL Cluster のチェックポイントおよびバックアップファイルは圧縮できます)
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>大きな行のサポート (&gt; 14K)</em></span>
                </p></td><td><p>
                  <code class="literal">VARBINARY</code>、<code class="literal">VARCHAR</code>、<code class="literal">BLOB</code>、および <code class="literal">TEXT</code> カラムでサポートされます
                </p></td><td><p>
                  <code class="literal">BLOB</code> および <code class="literal">TEXT</code> カラムでのみサポートされます
                </p>



                <p>
                  (これらの型を使用して非常に大量のデータを格納すると、MySQL Cluster のパフォーマンスが低下する可能性があります)
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>レプリケーションのサポート</em></span>
                </p></td><td><p>
                  MySQL レプリケーションを使用した非同期および準同期レプリケーション
                </p></td><td><p>
                  MySQL Cluster 内での自動的な同期レプリケーション。
                </p>



                <p>
                  MySQL レプリケーションを使用した MySQL Cluster 間の非同期レプリケーション
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>読み取り操作のスケールアウト</em></span>
                </p></td><td><p>
                  はい (MySQL レプリケーション)
                </p></td><td><p>
                  はい (MySQL Cluster 内の自動パーティション化、MySQL レプリケーション)
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>書き込み操作のスケールアウト</em></span>
                </p></td><td><p>
                  アプリケーションレベルのパーティション化 (シャーディング) が必要です
                </p></td><td><p>
                  はい (MySQL Cluster 内の自動パーティション化がアプリケーションに対して透過的に行われます)
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>高可用性 (HA)</em></span>
                </p></td><td><p>
                  追加のソフトウェアが必要です
                </p></td><td><p>
                  はい (99.999% の稼働時間を実現するように設計されています)
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>ノードの障害リカバリとフェイルオーバー</em></span>
                </p></td><td><p>
                  追加のソフトウェアが必要です
                </p></td><td><p>
                  自動
                </p>



                <p>
                  (MySQL Cluster アーキテクチャーの重要な要素)
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>ノードの障害リカバリにかかる時間</em></span>
                </p></td><td><p>
                  30 秒以上
                </p></td><td><p>
                  通常は 1 秒未満
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>リアルタイムのパフォーマンス</em></span>
                </p></td><td><p>
                  いいえ
                </p></td><td><p>
                  はい
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>インメモリーテーブル</em></span>
                </p></td><td><p>
                  いいえ
                </p></td><td><p>
                  はい
                </p>



                <p>
                  (必要に応じて一部のデータをディスクに格納できます。インメモリーとディスクの両方のデータストレージが永続的です)
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>ストレージエンジンへの NoSQL アクセス</em></span>
                </p></td><td><p>
                  ネイティブの memcached インタフェースが開発中です (MySQL Dev Zone の記事「<a class="ulink" href="http://dev.mysql.com/tech-resources/articles/mysql-cluster-7.2.html" target="_top"><em class="citetitle">MySQL Cluster 7.2 (DMR2): NoSQL, Key/Value, Memcached</em></a>」を参照してください)
                </p></td><td><p>
                  はい
                </p>



                <p>
                  Memcached、Node.js/JavaScript、Java、JPA、C++、HTTP/REST を含む複数の API
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>同時および並列書き込み</em></span>
                </p></td><td><p>
                  サポートされません
                </p></td><td><p>
                  同時書き込みのために最適化された最大 48 個のライター
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>競合検出および解決 (複数のレプリケーションマスター)</em></span>
                </p></td><td><p>
                  いいえ
                </p></td><td><p>
                  はい
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>ハッシュインデックス</em></span>
                </p></td><td><p>
                  いいえ
                </p></td><td><p>
                  はい
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>オンラインのノード追加</em></span>
                </p></td><td><p>
                  MySQL レプリケーションを使った読み取り専用レプリカ
                </p></td><td><p>
                  はい (すべてのノードタイプ)
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>オンラインのアップグレード</em></span>
                </p></td><td><p>
                  いいえ
                </p></td><td><p>
                  はい
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>オンラインのスキーマ変更</em></span>
                </p></td><td><p>
                  はい (MySQL 5.6 の一部として)。
                </p></td><td><p>
                  はい。
                </p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-ndb-innodb-workloads"></a>18.1.5.2 NDB と InnoDB のワークロード</h4></div></div></div><a class="indexterm" name="idm139979044738064"></a><a class="indexterm" name="idm139979044735856"></a><a class="indexterm" name="idm139979044733808"></a><a class="indexterm" name="idm139979044731776"></a><a class="indexterm" name="idm139979044729680"></a><a class="indexterm" name="idm139979044727584"></a><p>
        MySQL Cluster には、高可用性、高速フェイルオーバー、高スループット、および低待機時間を必要とするアプリケーションに対応するのに最適なさまざまな固有の属性があります。MySQL Cluster には、その分散型アーキテクチャーと複数ノード実装による固有の制約も存在し、そのために一部のワークロードが適切に実行されないことがあります。データベース駆動型アプリケーションの一般的なワークロードのタイプに関する <code class="literal">NDB</code> ストレージエンジンと <code class="literal">InnoDB</code> ストレージエンジンの動作の主な違いを、次の表にいくつか示します。
      </p><div class="informaltable"><table summary="この表は、データベース駆動型アプリケーションの一般的なワークロードのタイプに関する InnoDB ストレージエンジンと NDB ストレージエンジンの動作の主な違いを示しています。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><p>
                  ワークロード
                </p></th><th scope="col"><p>
                  <code class="literal">InnoDB</code>
                </p></th><th scope="col"><p>
                  MySQL Cluster (<code class="literal">NDB</code>)
                </p></th></tr></thead><tbody><tr><td scope="row"><p>
                  <span class="emphasis"><em>大容量 OLTP アプリケーション</em></span>
                </p></td><td><p>
                  はい
                </p></td><td><p>
                  はい
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>DSS アプリケーション (データマート、分析)</em></span>
                </p></td><td><p>
                  はい
                </p></td><td><p>
                  制限付き (サイズが 3T バイトを超える OLTP データセット間の結合操作は不可)
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>カスタムアプリケーション</em></span>
                </p></td><td><p>
                  はい
                </p></td><td><p>
                  はい
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>パッケージ化されたアプリケーション</em></span>
                </p></td><td><p>
                  はい
                </p></td><td><p>
                  制限付き (ほとんどが主キーアクセス)。
                </p>



                <p>
                  MySQL Cluster NDB 7.3 は外部キーをサポートします。
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>ネットワーク内電気通信アプリケーション (HLR、HSS、SDP)</em></span>
                </p></td><td><p>
                  いいえ
                </p></td><td><p>
                  はい
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>セッション管理およびキャッシュ</em></span>
                </p></td><td><p>
                  はい
                </p></td><td><p>
                  はい
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>電子商取引アプリケーション</em></span>
                </p></td><td><p>
                  はい
                </p></td><td><p>
                  はい
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>ユーザープロファイル管理、AAA プロトコル</em></span>
                </p></td><td><p>
                  はい
                </p></td><td><p>
                  はい
                </p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-ndb-innodb-usage"></a>18.1.5.3 NDB および InnoDB の機能使用のサマリー</h4></div></div></div><a class="indexterm" name="idm139979044689328"></a><a class="indexterm" name="idm139979044687120"></a><a class="indexterm" name="idm139979044685072"></a><a class="indexterm" name="idm139979044683040"></a><a class="indexterm" name="idm139979044680976"></a><a class="indexterm" name="idm139979044678880"></a><a class="indexterm" name="idm139979044676784"></a><p>
        <code class="literal">InnoDB</code> と <code class="literal">NDB</code> の機能に対するアプリケーション機能要件を比較すると、その一部は明らかにどちらか一方のストレージエンジンと高い互換性があります。
      </p><p>
        次の表に、サポートされるアプリケーション機能を、一般に各機能がより適合するストレージエンジンに従って示します。
      </p><div class="informaltable"><table summary="この表は、サポートされるアプリケーション機能を、一般に各機能がより適合するストレージエンジンに従って示しています。" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col"><p>
                  <code class="literal">InnoDB</code> がより適合するアプリケーション要件
                </p></th><th scope="col"><p>
                  <code class="literal">NDB</code> がより適合するアプリケーション要件
                </p></th></tr></thead><tbody><tr><td scope="row"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                      外部キー
                    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
                        MySQL Cluster NDB 7.3 は外部キーをサポートします。
                      </p></div></li><li class="listitem"><p>
                      完全なテーブルスキャン
                    </p></li><li class="listitem"><p>
                      非常に大規模なデータベース、行、またはトランザクション
                    </p></li><li class="listitem"><p>
                      <code class="literal">READ COMMITTED</code> 以外のトランザクション
                    </p></li></ul></div></td><td><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                      書き込みのスケーリング
                    </p></li><li class="listitem"><p>
                      99.999% の稼働時間
                    </p></li><li class="listitem"><p>
                      オンラインのノード追加とオンラインのスキーマ操作
                    </p></li><li class="listitem"><p>
                      複数の SQL および NoSQL API (<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/mysql-cluster-api-overview.html" target="_top">MySQL Cluster APIs: Overview and Concepts</a>を参照してください)
                    </p></li><li class="listitem"><p>
                      リアルタイムのパフォーマンス
                    </p></li><li class="listitem"><p>
                      <code class="literal">BLOB</code> カラムの限定的な使用
                    </p></li><li class="listitem"><p>
                      外部キーがサポートされますが、外部キーの使用は高スループットでのパフォーマンスに影響する可能性があります。
                    </p></li></ul></div></td></tr></tbody></table></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-limitations"></a>18.1.6 MySQL Cluster の既知の制限</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-limitations-syntax">18.1.6.1 MySQL Cluster での SQL 構文の不適合</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-limitations-limits">18.1.6.2 MySQL Cluster の制限と標準の MySQL の制限との違い</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-limitations-transactions">18.1.6.3 MySQL Cluster でのトランザクション処理に関する制限</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-limitations-error-handling">18.1.6.4 MySQL Cluster のエラー処理</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-limitations-database-objects">18.1.6.5 MySQL Cluster 内のデータベースオブジェクトに関する制限</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-limitations-unsupported">18.1.6.6 MySQL Cluster の未サポート機能または欠落している機能</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-limitations-performance">18.1.6.7 MySQL Cluster のパフォーマンスに関する制限</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-limitations-exclusive-to-cluster">18.1.6.8 MySQL Cluster に限定された問題</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-limitations-disk-data">18.1.6.9 MySQL Cluster のディスクデータストレージに関する制限</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-limitations-multiple-nodes">18.1.6.10 複数の MySQL Cluster ノードに関する制限</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-limitations-resolved">18.1.6.11 MySQL Cluster NDB 7.3 で解決された以前の MySQL Cluster の問題</a></span></dt></dl></div><a class="indexterm" name="idm139979044646816"></a><a class="indexterm" name="idm139979044645360"></a><p>
      以降のセクションでは、MySQL Cluster の現在のリリースに含まれる既知の制限について、<code class="literal">MyISAM</code> および <code class="literal">InnoDB</code> ストレージエンジンを使用した場合に使用できる機能と比較して説明します。MySQL バグデータベース (<a class="ulink" href="http://bugs.mysql.com" target="_top">http://bugs.mysql.com</a>) で <span class="quote">「<span class="quote">Cluster</span>」</span> カテゴリをチェックすると、MySQL バグデータベース (<a class="ulink" href="http://bugs.mysql.com" target="_top">http://bugs.mysql.com</a>) の <span class="quote">「<span class="quote">MySQL Server:</span>」</span> の下にある次のカテゴリで既知のバグが見つかります。これらのバグは、MySQL Cluster の今後のリリースで修正される予定です。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          MySQL Cluster
        </p></li><li class="listitem"><p>
          Cluster Direct API (NDBAPI)
        </p></li><li class="listitem"><p>
          Cluster Disk Data
        </p></li><li class="listitem"><p>
          Cluster Replication
        </p></li><li class="listitem"><p>
          ClusterJ
        </p></li></ul></div><p>
      この情報は、規定された条件に関して完結するように意図されています。不具合が発生した場合は、<a class="xref" href="introduction.html#bug-reports" title="1.7 質問またはバグをレポートする方法">セクション1.7「質問またはバグをレポートする方法」</a>に示す手順を使用して MySQL バグデータベースにそれらを報告できます。MySQL Cluster NDB 7.3 の問題を修正する予定がない場合、その問題はリストに追加されます。
    </p><p>
      MySQL Cluster NDB 7.3 で解決された MySQL Cluster NDB 7.2 の問題のリストについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-limitations-resolved" title="18.1.6.11 MySQL Cluster NDB 7.3 で解決された以前の MySQL Cluster の問題">セクション18.1.6.11「MySQL Cluster NDB 7.3 で解決された以前の MySQL Cluster の問題」</a>を参照してください。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        MySQL Cluster レプリケーションに固有の制限およびその他の問題については、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-issues" title="18.6.3 MySQL Cluster レプリケーションの既知の問題">セクション18.6.3「MySQL Cluster レプリケーションの既知の問題」</a>を参照してください。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-limitations-syntax"></a>18.1.6.1 MySQL Cluster での SQL 構文の不適合</h4></div></div></div><a class="indexterm" name="idm139979044628112"></a><p>
        次のリストに示すように、特定の MySQL 機能に関連する SQL ステートメントの中には、<code class="literal">NDB</code> テーブルで使用したときにエラーを生成するものがあります。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>一時テーブル </b>
              一時テーブルはサポートされません。<code class="literal">NDB</code> ストレージエンジンを使用する一時テーブルを作成しようとしたり、<code class="literal">NDB</code> を使用するように既存の一時テーブルを変更しようとしたりすると、失敗して次のエラーが発生します:<span class="errortext">Table storage engine 'ndbcluster' does not support the create option 'TEMPORARY'</span>.
            </p></li><li class="listitem"><p><b>NDB テーブルのインデックスとキー </b>
              MySQL Cluster テーブルのインデックスとキーには、次の制限があります。
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><b>カラム幅 </b>
                  3072 バイトを超える幅の <code class="literal">NDB</code> テーブルカラムに対するインデックスを作成しようとすると、成功しますが、インデックスに実際に使用されるのは最初の 3072 バイトだけです。このような場合は、警告 <span class="errortext">Specified key was too long; max key length is 3072 bytes</span> が発行され、<code class="literal">SHOW CREATE TABLE</code> ステートメントではインデックスの長さが 3072 と表示されます。
                </p></li><li class="listitem"><p><b>TEXT および BLOB カラム </b>
                  <code class="literal">TEXT</code> または <code class="literal">BLOB</code> データ型のどちらかを使用する <code class="literal">NDB</code> テーブルカラムに対するインデックスは作成できません。
                </p></li><li class="listitem"><p><b>FULLTEXT インデックス </b>
                  <code class="literal">NDB</code> ストレージエンジンは、<code class="literal">FULLTEXT</code> インデックスをサポートしません。これは、<code class="literal">MyISAM</code> および (MySQL 5.6.4 以降の) <code class="literal">InnoDB</code> テーブルでのみ可能です。
                </p><p>
                ただし、<code class="literal">NDB</code> テーブルの <code class="literal">VARCHAR</code> カラムに対するインデックスは作成できます。
              </p></li><li class="listitem"><p><b>USING HASH キーと NULL </b>
                  一意キーおよび主キーで NULL 可能カラムを使用すると、これらのカラムを使用するクエリーは完全なテーブルスキャンとして処理されます。この問題を回避するには、カラムを <code class="literal">NOT NULL</code> にするか、<code class="literal">USING HASH</code> オプションを指定せずにインデックスを再作成します。
                </p></li><li class="listitem"><p><b>プリフィクス </b>
                  プリフィクスインデックスはありません。インデックスはカラム全体にのみ付けることができます。(<code class="literal">NDB</code> のカラムインデックスのサイズは、このセクションで前述したように、カラムの幅 (バイト単位) と常に同じ (最大 3072 バイトまで) です。追加情報については、<a class="xref" href="mysql-cluster.html#mysql-cluster-limitations-unsupported" title="18.1.6.6 MySQL Cluster の未サポート機能または欠落している機能">セクション18.1.6.6「MySQL Cluster の未サポート機能または欠落している機能」</a>を参照してください。)
                </p></li><li class="listitem"><p><b>BIT カラム </b>
                  <code class="literal">BIT</code> カラムを主キー、一意キー、またはインデックスにすることはできません。また、複合の主キー、一意キー、またはインデックスの一部にすることもできません。
                </p></li><li class="listitem"><p><b>AUTO_INCREMENT カラム </b>
                  ほかの MySQL ストレージエンジンと同様に、<code class="literal">NDB</code> ストレージエンジンはテーブルあたり最大 1 つの <code class="literal">AUTO_INCREMENT</code> カラムを処理できます。ただし、明示的な主キーがないクラスタテーブルの場合は、<code class="literal">AUTO_INCREMENT</code> カラムが自動的に定義され、<span class="quote">「<span class="quote">隠し</span>」</span>主キーとして使用されます。このため、明示的な <code class="literal">AUTO_INCREMENT</code> カラムを持つテーブルは、<code class="literal">PRIMARY KEY</code> オプションを同時に使用してカラムを宣言しないかぎり定義できません。テーブルの主キーでない <code class="literal">AUTO_INCREMENT</code> カラムを持つテーブルを作成しようとして、<code class="literal">NDB</code> ストレージエンジンを使用すると、失敗してエラーが発生します。
                </p></li></ul></div></li><li class="listitem"><p><b>外部キーに関する制限 </b>
              MySQL Cluster NDB 7.3 での外部キー制約のサポートは、<code class="literal">InnoDB</code> によるサポートと同等ですが、次の制限があります。
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                外部キーとして参照されるすべてのカラムは、それがテーブルの主キーでない場合、明示的な一意キーを必要とします。
              </p></li><li class="listitem"><p>
                参照先が親テーブルの主キーである場合、<code class="literal">ON UPDATE CASCADE</code> はサポートされません。
              </p></li><li class="listitem"><p>
                <code class="literal">SET DEFAULT</code> はサポートされません。(<code class="literal">InnoDB</code> でもサポートされません。)
              </p></li><li class="listitem"><p>
                <code class="literal">NO ACTION</code> キーワードは受け入れられますが、<code class="literal">RESCRICT</code> として扱われます。(<code class="literal">InnoDB</code> でも同じです。)
              </p></li><li class="listitem"><p>
                MySQL Cluster NDB 7.3.5 以前のバージョンでは、別のテーブルのインデックスを参照する外部キーを含むテーブルを作成したときに、インデックス内のカラムの順序が一致しなくても内部で適切なエラーが返されないことがあったため、外部キーを作成できるように見える場合がありました。MySQL Cluster NDB 7.3.5 ではこの問題が部分的に修正され、内部で使用されるエラーがほとんどの場合に機能するように改善されましたが、親インデックスが一意のインデックスである場合は、まだこの状況が発生する可能性があります。(Bug #18094360)
              </p></li></ul></div><p>
            詳細は、<a class="xref" href="sql-syntax.html#create-table-foreign-keys" title="13.1.17.2 外部キー制約の使用">セクション13.1.17.2「外部キー制約の使用」</a>および<a class="xref" href="introduction.html#constraint-foreign-key" title="1.8.3.2 FOREIGN KEY の制約">セクション1.8.3.2「FOREIGN KEY の制約」</a>を参照してください。
          </p></li><li class="listitem"><p><b>MySQL Cluster とジオメトリデータ型 </b><a class="indexterm" name="idm139979044563376"></a>
              <code class="literal">NDB</code> テーブルでは、ジオメトリデータ型 (<code class="literal">WKT</code> および <code class="literal">WKB</code>) がサポートされます。ただし、空間インデックスはサポートされません。
            </p></li><li class="listitem"><p><b>文字セットとバイナリログファイル </b>
              現在、<code class="literal">ndb_apply_status</code> および <code class="literal">ndb_binlog_index</code> テーブルは <code class="literal">latin1</code> (ASCII) 文字セットを使用して作成されています。バイナリログの名前はこのテーブルに記録されるため、ラテン語以外の文字を使用する名前が付けられたバイナリログファイルはこれらのテーブルで正しく参照されません。これは既知の問題であり、現在修正中です。(Bug #50226)
            </p><p>
            この問題を回避するには、バイナリログファイルの名前を付けるときや、<code class="option">--basedir</code>、<code class="option">--log-bin</code>、または <code class="option">--log-bin-index</code> オプションを設定するときに、Latin-1 文字のみを使用してください。
          </p></li><li class="listitem"><p><b>ユーザー定義のパーティション化を使用した NDBCLUSTER テーブルの作成 </b>
              <a class="indexterm" name="idm139979044549280"></a> <a class="indexterm" name="idm139979044547104"></a> <a class="indexterm" name="idm139979044544976"></a>MySQL Cluster でのユーザー定義のパーティション化のサポートは、[<code class="literal">LINEAR</code>] <code class="literal">KEY</code> のパーティション化に限定されます。<code class="literal">CREATE TABLE</code> ステートメントで <code class="literal">ENGINE=NDB</code> または <code class="literal">ENGINE=NDBCLUSTER</code> とともにほかのパーティショニングタイプを使用すると、エラーが発生します。
            </p><p><b>デフォルトのパーティション化スキーム </b>
              すべての MySQL Cluster テーブルは、デフォルトではテーブルの主キーをパーティション化キーとして使用して <code class="literal">KEY</code> によってパーティション化されます。テーブルに明示的に設定された主キーがない場合は、代わりに <code class="literal">NDB</code> ストレージエンジンによって自動的に作成された<span class="quote">「<span class="quote">隠し</span>」</span>主キーが使用されます。これらおよび関連する問題の追加情報については、<a class="xref" href="partitioning.html#partitioning-key" title="19.2.5 KEY パーティショニング">セクション19.2.5「KEY パーティショニング」</a>を参照してください。
            </p><p>
            ユーザーパーティション化された <code class="literal">NDBCLUSTER</code> テーブルが次の 2 つの要件のどちらかまたは両方を満たさない原因となる <code class="literal">CREATE TABLE</code> および <code class="literal">ALTER TABLE</code> ステートメントは許可されず、失敗してエラーが発生します。
          </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
                テーブルに明示的な主キーが存在する必要があります。
              </p></li><li class="listitem"><p>
                テーブルのパーティショニング式に指定されたすべてのカラムが主キーの一部である必要があります。
              </p></li></ol></div><p><b>例外 </b>
              空のカラムリストを使用して (つまり、<code class="literal">PARTITION BY [LINEAR] KEY()</code> を使用して) ユーザーパーティション化された <code class="literal">NDBCLUSTER</code> テーブルを作成する場合は、明示的な主キーは必要ありません。
            </p><p><b>NDBCLUSTER テーブルの最大パーティション数 </b>
              ユーザー定義のパーティション化を使用したときに <code class="literal">NDBCLUSTER</code> テーブルに定義できるパーティションの最大数は、ノードグループあたり 8 個です。(MySQL Cluster ノードグループの詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-nodes-groups" title="18.1.2 MySQL Cluster のノード、ノードグループ、レプリカ、およびパーティション">セクション18.1.2「MySQL Cluster のノード、ノードグループ、レプリカ、およびパーティション」</a>を参照してください。
            </p><p><b>DROP PARTITION の未サポート </b>
              <code class="literal">ALTER TABLE ... DROP PARTITION</code> を使用して <code class="literal">NDB</code> テーブルからパーティションを削除することはできません。クラスタテーブルでは <code class="literal">ALTER TABLE</code> に対する別のパーティション化拡張機能 (<code class="literal">ADD PARTITION</code>、<code class="literal">REORGANIZE PARTITION</code>、および <code class="literal">COALESCE PARTITION</code>) がサポートされますが、コピーが使用されるため、最適化されません。<a class="xref" href="partitioning.html#partitioning-management-range-list" title="19.3.1 RANGE および LIST パーティションの管理">セクション19.3.1「RANGE および LIST パーティションの管理」</a>および<a class="xref" href="sql-syntax.html#alter-table" title="13.1.7 ALTER TABLE 構文">セクション13.1.7「ALTER TABLE 構文」</a>を参照してください。
            </p></li><li class="listitem"><p><b>行ベースのレプリケーション </b><a class="indexterm" name="idm139979044510848"></a>
              MySQL Cluster で行ベースのレプリケーションを使用するときは、バイナリロギングを無効にすることができません。つまり、<code class="literal">NDB</code> ストレージエンジンは <code class="literal">sql_log_bin</code> の値を無視します。(Bug #16680)
            </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-limitations-limits"></a>18.1.6.2 MySQL Cluster の制限と標準の MySQL の制限との違い</h4></div></div></div><a class="indexterm" name="idm139979044504096"></a><p>
        このセクションでは、MySQL Cluster に含まれる制限のうち、標準の MySQL に含まれる制限とは異なる (または含まれない) ものを示します。
      </p><a class="indexterm" name="idm139979044501072"></a><a class="indexterm" name="idm139979044499152"></a><a class="indexterm" name="idm139979044496960"></a><a class="indexterm" name="idm139979044494928"></a><a class="indexterm" name="idm139979044492896"></a><p><b>メモリーの使用量とリカバリ </b>
          ほかのストレージエンジンと同様、<code class="literal">NDB</code> テーブルにデータを挿入したときに消費されたメモリーは、削除したときに自動的にリカバリされません。代わりに、次のルールが適用されます。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">NDB</code> テーブルに対して <code class="literal">DELETE</code> ステートメントを実行すると、削除された行で以前使用されていたメモリーが同じテーブルでの挿入にかぎって再利用可能になります。ただし、<code class="literal">OPTIMIZE TABLE</code> を実行すると、このメモリーの一般的な再利用が可能になります。
          </p><p>
            クラスタのローリング再起動が行われた場合も、削除された行で使用されていたメモリーが解放されます。<a class="xref" href="mysql-cluster.html#mysql-cluster-rolling-restart" title="18.5.5 MySQL Cluster のローリング再起動の実行">セクション18.5.5「MySQL Cluster のローリング再起動の実行」</a>を参照してください。
          </p></li><li class="listitem"><p>
            <code class="literal">NDB</code> テーブルに対して <code class="literal">DROP TABLE</code> または <code class="literal">TRUNCATE TABLE</code> 操作を実行すると、このテーブルで使用されていたメモリーが解放され、任意の <code class="literal">NDB</code> テーブルで (同じテーブルでも別の <code class="literal">NDB</code> テーブルでも) 再利用可能になります。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              <code class="literal">TRUNCATE TABLE</code> によってテーブルが削除され、再作成されることを思い出してください。<a class="xref" href="sql-syntax.html#truncate-table" title="13.1.33 TRUNCATE TABLE 構文">セクション13.1.33「TRUNCATE TABLE 構文」</a>を参照してください。
            </p></div></li><li class="listitem"><p><b>クラスタの構成によって課される制限 </b><a class="indexterm" name="idm139979044472704"></a>
              多くの構成可能なハード制限がありますが、クラスタ内の利用可能なメインメモリーによって制限が設定されます。<a class="xref" href="mysql-cluster.html#mysql-cluster-config-file" title="18.3.2 MySQL Cluster の構成ファイル">セクション18.3.2「MySQL Cluster の構成ファイル」</a>の構成パラメータの完全なリストを参照してください。ほとんどの構成パラメータはオンラインでアップグレードできます。これらのハード制限には次のようなものがあります。
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                データベースのメモリーサイズとインデックスのメモリーサイズ (それぞれ <code class="literal">DataMemory</code> と <code class="literal">IndexMemory</code>)。
              </p><p>
                <code class="literal">DataMemory</code> は 32K バイトのページとして割り当てられます。各 <code class="literal">DataMemory</code> ページは、使用されたときに特定のテーブルに割り当てられます。割り当てられたあとは、テーブルを削除した場合を除いてこのメモリーを解放できません。
              </p><p>
                詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndbd-definition" title="18.3.2.6 MySQL Cluster データノードの定義">セクション18.3.2.6「MySQL Cluster データノードの定義」</a>を参照してください。
              </p></li><li class="listitem"><p>
                1 つのトランザクションで実行できる操作の最大数は、構成パラメータ <code class="literal">MaxNoOfConcurrentOperations</code> および <code class="literal">MaxNoOfLocalOperations</code> を使用して設定されます。
              </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
                  一括ロード、<code class="literal">TRUNCATE TABLE</code>、および <code class="literal">ALTER TABLE</code> は、複数のトランザクションを実行することによって特別なケースとして扱われるため、この制限が適用されません。
                </p></div></li><li class="listitem"><p>
                テーブルとインデックスに関するさまざまな制限。たとえば、クラスタ内の順序付けされたインデックスの最大数は <code class="literal">MaxNoOfOrderedIndexes</code> によって決定され、テーブルあたりの順序付けされたインデックスの最大数は 16 です。
              </p></li></ul></div></li><li class="listitem"><p><b>ノードとデータオブジェクトの最大数 </b>
              クラスタノードとメタデータオブジェクトの数には、次の制限が適用されます。
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                データノードの最大数は 48 です。
              </p><p>
                データノードは 1 から 48 までの (これらを含む) 範囲のノード ID を持つ必要があります。(管理ノードと API ノードには、1 から 255 までの (これらを含む) 範囲のノード ID が使用される場合があります。)
              </p></li><li class="listitem"><p>
                MySQL Cluster 内のノードの最大合計数は 255 です。この数には、すべての SQL ノード (MySQL Server)、API ノード (MySQL Server 以外のクラスタにアクセスするアプリケーション)、データノード、および管理サーバーが含まれます。
              </p></li><li class="listitem"><p>
                メタデータオブジェクトの最大数は、MySQL Cluster の現在のバージョンでは 20320 です。この制限はハードコーディングされています。
              </p></li></ul></div><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-limitations-resolved" title="18.1.6.11 MySQL Cluster NDB 7.3 で解決された以前の MySQL Cluster の問題">セクション18.1.6.11「MySQL Cluster NDB 7.3 で解決された以前の MySQL Cluster の問題」</a>を参照してください。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-limitations-transactions"></a>18.1.6.3 MySQL Cluster でのトランザクション処理に関する制限</h4></div></div></div><a class="indexterm" name="idm139979044441904"></a><p>
        MySQL Cluster には、トランザクションの処理に関していくつかの制限があります。これらには、次のものが含まれます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>トランザクション分離レベル </b>
              <code class="literal">NDBCLUSTER</code> ストレージエンジンは、<code class="literal">READ COMMITTED</code> トランザクション分離レベルのみをサポートします。(たとえば、<code class="literal">InnoDB</code> は <code class="literal">READ COMMITTED</code>、<code class="literal">READ UNCOMMITTED</code>、<code class="literal">REPEATABLE READ</code>、および <code class="literal">SERIALIZABLE</code> をサポートします。)これがクラスタデータベースのバックアップとリストアに与える影響については、<a class="xref" href="mysql-cluster.html#mysql-cluster-backup-troubleshooting" title="18.5.3.4 MySQL Cluster バックアップのトラブルシューティング">セクション18.5.3.4「MySQL Cluster バックアップのトラブルシューティング」</a>を参照してください。)
            </p></li><li class="listitem"><p><b>トランザクションと BLOB または TEXT カラム </b>
              <code class="literal">NDBCLUSTER</code> は、MySQL から認識できるテーブルに MySQL の <code class="literal">BLOB</code> または <code class="literal">TEXT</code> データ型のいずれかを使用するカラム値の一部のみを格納します。<code class="literal">BLOB</code> または <code class="literal">TEXT</code> の残りの部分は、MySQL からアクセスできない別の内部テーブルに格納されます。これに関連して、これらの型のカラムを含むテーブルに対して <code class="literal">SELECT</code> ステートメントを実行するときに常に注意すべき問題が 2 つ発生します。
            </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
                MySQL Cluster テーブルからの <code class="literal">SELECT</code> の場合: <code class="literal">SELECT</code> に <code class="literal">BLOB</code> または <code class="literal">TEXT</code> カラムが含まれる場合は、<code class="literal">READ COMMITTED</code> トランザクション分離レベルが読み取りロック付きの読み取りに変換されます。これは一貫性を保証するために行われます。
              </p></li><li class="listitem"><p>
                一意キーのルックアップを使用して <code class="literal">BLOB</code> または <code class="literal">TEXT</code> データ型のいずれかを使用するカラムを取得し、1 つのトランザクション内で実行される <code class="literal">SELECT</code> の場合は、共有読み取りロックがトランザクションの期間中 (つまり、トランザクションがコミットまたは中止されるまで) そのテーブルに保持されます。
              </p><p>
                インデックスまたはテーブルスキャンを使用するクエリーでは、<code class="literal">BLOB</code> または <code class="literal">TEXT</code> カラムを含む <code class="literal">NDB</code> テーブルが対象であっても、この問題は発生しません。
              </p><p>
                たとえば、次の <code class="literal">CREATE TABLE</code> ステートメントによって定義されたテーブル <code class="literal">t</code> について考えます。
              </p><pre class="programlisting">
CREATE TABLE t (
    a INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    b INT NOT NULL,
    c INT NOT NULL,
    d TEXT,
    INDEX i(b),
    UNIQUE KEY u(c)
) ENGINE = NDB,
</pre><p>
                <code class="literal">t</code> に対する次のクエリーでは、1 つ目のクエリーが主キールックアップを使用し、2 つ目が一意キールックアップを使用しているため、いずれも共有読み取りロックが発生します。
              </p><pre class="programlisting">
SELECT * FROM t WHERE a = 1;

SELECT * FROM t WHERE c = 1;
</pre><p>
                しかし、ここに示す 4 つのクエリーでは、いずれも共有読み取りロックは発生しません。
              </p><pre class="programlisting">
SELECT * FROM t WHERE b 1;

SELECT * FROM t WHERE d = '1';

SELECT * FROM t;

SELECT b,c WHERE a = 1; 
</pre><p>
                その理由は、これら 4 つのクエリーのうち、1 つ目はインデックススキャンを使用し、2 つ目と 3 つ目はテーブルスキャンを使用し、4 つ目は (主キールックアップを使用していますが) <code class="literal">BLOB</code> または <code class="literal">TEXT</code> カラムの値を取得していないためです。
              </p><p>
                <code class="literal">BLOB</code> または <code class="literal">TEXT</code> カラムを取得する一意キールックアップを使用するクエリーを回避するか、このようなクエリーを回避できない場合はトランザクションのコミットをできるだけあとで行うようにすると、共有読み取りロックによる問題を最小限に抑えることができます。
              </p></li></ol></div></li><li class="listitem"><p><b>ロールバック </b>
              部分的なトランザクションおよびトランザクションの部分的なロールバックはありません。重複キーまたは同様のエラーが発生すると、トランザクション全体がロールバックされます。
            </p><p>
            この動作は、個々のステートメントをロールバックできる <code class="literal">InnoDB</code> などのほかのトランザクション対応のストレージエンジンと異なります。
          </p></li><li class="listitem"><p><b>トランザクションとメモリー使用量 </b><a class="indexterm" name="idm139979044387472"></a><a class="indexterm" name="idm139979044385248"></a>
              この章の別の場所で説明したように、MySQL Cluster では大規模なトランザクションが適切に処理されません。多数の操作を含む 1 つの大規模なトランザクションを実行するより、少数の操作を含む複数の小規模なトランザクションを実行する方が適切です。特に考慮すべき点は、大規模なトランザクションが非常に大量のメモリーを必要とすることです。このため、いくつかの MySQL ステートメントのトランザクション動作に対して次のリストに示すような影響があります。
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">TRUNCATE TABLE</code> は、<code class="literal">NDB</code> テーブルに対して使用した場合、トランザクションになりません。<code class="literal">TRUNCATE TABLE</code> でテーブルを空にできない場合は、成功するまでこれを再実行する必要があります。
              </p></li><li class="listitem"><p>
                <code class="literal">DELETE FROM</code> (<code class="literal">WHERE</code> 句が内場合も含む) は、トランザクションに<span class="emphasis"><em>なります</em></span>。テーブルに非常に多くの行が含まれる場合は、複数の <code class="literal">DELETE FROM ... LIMIT ...</code> ステートメントを使用して削除操作を<span class="quote">「<span class="quote">ひとまとめに</span>」</span>すると、パフォーマンスが向上することがあります。テーブルを空にすることが目的である場合は、代わりに <code class="literal">TRUNCATE TABLE</code> を使用することをお勧めします。
              </p></li><li class="listitem"><p><b>LOAD DATA ステートメント </b>
                  <code class="literal">LOAD DATA INFILE</code> は、<code class="literal">NDB</code> テーブルに使用した場合、トランザクションになりません。
                </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
                  <code class="literal">LOAD DATA INFILE</code> ステートメントを実行すると、<code class="literal">NDB</code> エンジンは通信ネットワークの利用率が高くなるように不規則な間隔でコミットを実行します。このようなコミットが発生するタイミングを事前に知ることはできません。
                </p></div></li><li class="listitem"><p><b>ALTER TABLE とトランザクション </b>
                  <code class="literal">ALTER TABLE</code> の一部として <code class="literal">NDB</code> テーブルをコピーする場合、コピーの作成はトランザクションになりません。(いずれにしても、コピーが削除されたときにこの操作はロールバックされます。)
                </p></li></ul></div></li><li class="listitem"><p><b>トランザクションと COUNT() 関数 </b>
              MySQL Cluster レプリケーションを使用する場合、スレーブでの <code class="literal">COUNT()</code> 関数のトランザクション一貫性は保証されません。つまり、1 つのトランザクション内でテーブル内の行数を変更する一連のステートメント (<code class="literal">INSERT</code>、<code class="literal">DELETE</code>、またはその両方) をマスターで実行しているときに、スレーブで <code class="literal">SELECT COUNT(*) FROM <em class="replaceable"><code>table</code></em></code> クエリーを実行すると、中間の結果が返される可能性があります。これは、<code class="literal">SELECT COUNT(...)</code> がダーティー読み取りを行うために発生し、<code class="literal">NDB</code> ストレージエンジンのバグではありません。(詳細は、Bug #31321 を参照してください。)
            </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-limitations-error-handling"></a>18.1.6.4 MySQL Cluster のエラー処理</h4></div></div></div><a class="indexterm" name="idm139979044350304"></a><p>
        ノードの起動、停止、および再起動によって、トランザクションが失敗する原因となる一時的なエラーが発生する場合があります。これらには、次のケースが含まれます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>一時エラー </b>
              ノードを最初に起動するときは、エラー 1204 <span class="errortext">Temporary failure, distribution changed</span>および同様の一時エラーが発生する可能性があります。
            </p></li><li class="listitem"><p><b>ノード障害によるエラー </b>
              データノードの停止または障害によって、いくつかの異なるノード障害エラーが発生する場合があります。(ただし、クラスタの計画的なシャットダウンを実行したときに中止されるトランザクションは存在しないはずです。)
            </p></li></ul></div><p>
        これらのいずれの場合も、生成されたエラーはアプリケーションの内部で処理する必要があります。これは、トランザクションの再試行によって行うべきです。
      </p><p>
        <a class="xref" href="mysql-cluster.html#mysql-cluster-limitations-limits" title="18.1.6.2 MySQL Cluster の制限と標準の MySQL の制限との違い">セクション18.1.6.2「MySQL Cluster の制限と標準の MySQL の制限との違い」</a>も参照してください。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-limitations-database-objects"></a>18.1.6.5 MySQL Cluster 内のデータベースオブジェクトに関する制限</h4></div></div></div><a class="indexterm" name="idm139979044338880"></a><p>
        <code class="literal">NDBCLUSTER</code> ストレージエンジンを使用するときは、テーブルやインデックスなどの一部のデータベースオブジェクトに関してさまざまな制限があります。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>データベース名とテーブル名 </b>
              <code class="literal">NDB</code> ストレージエンジンを使用するときは、データベース名とテーブル名の最大許容長はどちらも 63 文字です。
            </p><p>
            MySQL Cluster NDB 7.3.8 以降では、この制限を超える長さのデータベース名またはテーブル名を使用するステートメントは該当するエラーで失敗します。(Bug #19550973)
          </p></li><li class="listitem"><p><b>データベースオブジェクトの数 </b>
              1 つの MySQL Cluster に含まれる<span class="emphasis"><em>すべての</em></span> <code class="literal">NDB</code> データベースオブジェクト (データベース、テーブル、およびインデックスを含む) の最大数は、20320 に制限されています。
            </p></li><li class="listitem"><p><b>テーブルあたりの属性数 </b>
              特定のテーブルに属すことができる属性 (つまり、カラムとインデックス) の最大数は 512 です。
            </p></li><li class="listitem"><p><b>キーあたりの属性数 </b>
              キーあたりの属性の最大数は 32 です。
            </p></li><li class="listitem"><p><b>行サイズ </b>
              

              1 行の最大許容サイズは 14000 バイトです (MySQL Cluster NDB 7.0 の時点で)。この合計のうち、個々の <code class="literal">BLOB</code> または <code class="literal">TEXT</code> カラムは 256 + 8 = 264 バイトを占めます。
            </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-limitations-unsupported"></a>18.1.6.6 MySQL Cluster の未サポート機能または欠落している機能</h4></div></div></div><a class="indexterm" name="idm139979044317984"></a><p>
        <code class="literal">NDB</code> テーブルでは、ほかのストレージエンジンでサポートされるいくつかの機能がサポートされません。MySQL Cluster でこれらの機能を使用しようとすると、それ自体ではエラーは発生しませんが、その機能がサポートまたは適用されることを予期するアプリケーションでエラーが発生する可能性があります。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>インデックスのプリフィクス </b>
              <code class="literal">NDBCLUSTER</code> テーブルでは、インデックスのプリフィクスはサポートされません。<code class="literal">CREATE TABLE</code>、<code class="literal">ALTER TABLE</code>、<code class="literal">CREATE INDEX</code> などのステートメントでインデックス指定の一部としてプリフィクスが使用された場合、そのプリフィクスは無視されます。
            </p></li><li class="listitem"><p><b>セーブポイントとロールバック </b>
              セーブポイントおよびセーブポイントへのロールバックは、<code class="literal">MyISAM</code> と同様に無視されます。
            </p></li><li class="listitem"><p><b>コミットの持続性 </b>
              ディスクに対する永続的なコミットはありません。コミットはレプリケートされますが、コミット時にログがディスクにフラッシュされる保証はありません。
            </p></li><li class="listitem"><p><b>レプリケーション </b>
              ステートメントベースのレプリケーションはサポートされません。クラスタのレプリケーションを設定するときは、<code class="option">--binlog-format=ROW</code> (または <code class="option">--binlog-format=MIXED</code>) を使用してください。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication" title="18.6 MySQL Cluster レプリケーション">セクション18.6「MySQL Cluster レプリケーション」</a>を参照してください。
            </p><p>
            グローバルトランザクション ID (GTID) を使用したレプリケーションは、MySQL Cluster と互換性がなく、MySQL Cluster NDB 7.3 または MySQL Cluster NDB 7.4 ではサポートされません。MySQL Cluster レプリケーションの失敗を含む問題が発生する可能性が非常に高いため、NDB ストレージエンジンを使用するときは GTID を有効にしないでください。
          </p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          <code class="literal">NDB</code> でのトランザクション処理に関する制限の詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-limitations-transactions" title="18.1.6.3 MySQL Cluster でのトランザクション処理に関する制限">セクション18.1.6.3「MySQL Cluster でのトランザクション処理に関する制限」</a>を参照してください。
        </p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-limitations-performance"></a>18.1.6.7 MySQL Cluster のパフォーマンスに関する制限</h4></div></div></div><a class="indexterm" name="idm139979044293792"></a><p>
        次のパフォーマンスの問題は、MySQL Cluster に固有の問題または MySQL Cluster で特に顕著な問題です。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>Range scans </b>
              <code class="literal">NDB</code> ストレージエンジンへの順次アクセスによって発生するクエリーのパフォーマンスの問題があります。多数の範囲スキャンの実行も、<code class="literal">MyISAM</code> や <code class="literal">InnoDB</code> に比べて負荷が高くなります。
            </p></li><li class="listitem"><p><b>Records in range の信頼性 </b>
              <code class="literal">Records in range</code> 統計は使用可能ですが、完全なテストや正式なサポートは行われていません。このため、場合によっては最適でないクエリー計画が生成されることがあります。必要な場合は、<code class="literal">USE INDEX</code> または <code class="literal">FORCE INDEX</code> を使用して実行プランを変更できます。これを行う方法の詳細は、<a class="xref" href="sql-syntax.html#index-hints" title="13.2.9.3 インデックスヒントの構文">セクション13.2.9.3「インデックスヒントの構文」</a>を参照してください。
            </p></li><li class="listitem"><p><b>一意のハッシュインデックス </b>
              <code class="literal">USING HASH</code> で作成された一意のハッシュインデックスは、<code class="literal">NULL</code> がキーの一部として指定された場合はテーブルへのアクセスに使用できません。
            </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-limitations-exclusive-to-cluster"></a>18.1.6.8 MySQL Cluster に限定された問題</h4></div></div></div><a class="indexterm" name="idm139979044276368"></a><p>
        <code class="literal">NDBCLUSTER</code> ストレージエンジンに固有の制限を次に示します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>マシンアーキテクチャー </b>
              クラスタ内で使用されるすべてのマシンが同じアーキテクチャーである必要があります。つまり、ノードをホストするすべてのマシンがビッグエンディアンまたはリトルエンディアンのどちらかである必要があり、両者を組み合わせて使用することはできません。たとえば、PowerPC で実行されている管理ノードから x86 マシンで実行されているデータノードに指示することはできません。この制限は、クラスタの SQL ノードにアクセスする可能性がある <span class="command"><strong>mysql</strong></span> またはその他のクライアントを実行するだけのマシンには適用されません。
            </p></li><li class="listitem"><p><b>バイナリロギング </b><a class="indexterm" name="idm139979044268432"></a><a class="indexterm" name="idm139979044266208"></a>
              MySQL Cluster には、バイナリロギングに関して次の制限または規制があります。
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">sql_log_bin</code> は、データ操作では効果がありませんが、スキーマ操作ではサポートされます。
              </p></li><li class="listitem"><p>
                MySQL Cluster は、<code class="literal">BLOB</code> カラムがあっても主キーがないテーブルのバイナリログを生成できません。
              </p></li><li class="listitem"><p>
                ステートメントを実行する <span class="command"><strong>mysqld</strong></span> に配置されて<span class="emphasis"><em>いない</em></span>クラスタバイナリログには、次のスキーマ操作だけが記録されます。
              </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>
                    <code class="literal">CREATE TABLE</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">ALTER TABLE</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">DROP TABLE</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">CREATE DATABASE</code> / <code class="literal">CREATE SCHEMA</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">DROP DATABASE</code> / <code class="literal">DROP SCHEMA</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">CREATE TABLESPACE</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">ALTER TABLESPACE</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">DROP TABLESPACE</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">CREATE LOGFILE GROUP</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">ALTER LOGFILE GROUP</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">DROP LOGFILE GROUP</code>
                  </p></li></ul></div></li></ul></div></li></ul></div><p>
        <a class="xref" href="mysql-cluster.html#mysql-cluster-limitations-multiple-nodes" title="18.1.6.10 複数の MySQL Cluster ノードに関する制限">セクション18.1.6.10「複数の MySQL Cluster ノードに関する制限」</a>も参照してください。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-limitations-disk-data"></a>18.1.6.9 MySQL Cluster のディスクデータストレージに関する制限</h4></div></div></div><a class="indexterm" name="idm139979044232032"></a><p><b>ディスクデータオブジェクトの最大数と最小数 </b>
          ディスクデータオブジェクトには、次の最大数および最小数が適用されます。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            テーブルスペースの最大数: 2<sup>32</sup> (4294967296)
          </p></li><li class="listitem"><p>
            テーブルスペースあたりのデータファイルの最大数: 2<sup>16</sup> (65536)
          </p></li><li class="listitem"><p>
            データファイルの最大サイズ: 理論的な限界は 64G ですが、実際的な上限は 32G です。これは、1M のエクステント 32768 個分に相当します。
          </p><p>
            MySQL Cluster のディスクデータテーブルは最大 1 つのテーブルスペースを使用できます。つまり、1 つの <code class="literal">NDB</code> テーブルによってディスク上に格納できるデータ量 (バイト単位) の理論的な上限は 32G * 65536 = 2251799813685248 (およそ 2 ペタバイト) です。
          </p></li><li class="listitem"><p>
            テーブルスペースのデータファイルあたりのエクステントの理論的な最大数は 2<sup>16</sup> (65536) です。ただし、実際的に推奨されるデータファイルあたりのエクステントの最大数は 2<sup>15</sup> (32768) です。
          </p><p>
            テーブルスペースのデータファイルのエクステントが取り得る最小および最大サイズは、それぞれ 32K および 2G です。詳細は、<a class="xref" href="sql-syntax.html#create-tablespace" title="13.1.18 CREATE TABLESPACE 構文">セクション13.1.18「CREATE TABLESPACE 構文」</a>を参照してください。
          </p></li></ul></div><p><b>ディスクデータテーブルとディスクレスモード </b>
          クラスタをディスクレスモードで実行しているときは、ディスクデータテーブルを使用できません。
        </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-limitations-multiple-nodes"></a>18.1.6.10 複数の MySQL Cluster ノードに関する制限</h4></div></div></div><p><b>複数の SQL ノード </b><a class="indexterm" name="idm139979044215248"></a>
          複数の MySQL サーバーを MySQL Cluster の SQL ノードとして使用することに関する <code class="literal">NDBCLUSTER</code> ストレージエンジン固有の問題を次に示します。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>分散型のテーブルロックがない </b>
              <code class="literal">LOCK TABLES</code> は、ロックが発行された SQL ノードに対してのみ機能します。クラスタ内のほかの SQL ノードでは、このロックは<span class="quote">「<span class="quote">認識</span>」</span>されません。これは、操作の一部としてテーブルをロックするステートメントによって発行されたロックにも当てはまります。(例については、次の項目を参照してください。)
            </p></li><li class="listitem"><p><b>ALTER TABLE 操作 </b>
              複数の MySQL サーバー (SQL ノード) が実行されているときは、<code class="literal">ALTER TABLE</code> によるロックは完全ではありません。(前の項目で説明したように、MySQL Cluster は分散型のテーブルロックをサポートしません。)
            </p></li></ul></div><p><b>複数の管理ノード </b><a class="indexterm" name="idm139979044203504"></a>
          複数の管理サーバーを使用する場合:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            ノード ID の自動割り当てが複数の管理サーバー間で機能しないため、接続文字列にノードの明示的な ID を指定する必要があります。
          </p></li><li class="listitem"><p>
            管理サーバーを起動すると、まず同じ MySQL Cluster 内にほかの管理サーバーがあるかどうかがチェックされ、ほかの管理サーバーへの接続に成功すると、その構成データが使用されます。つまり、管理サーバーの <code class="option">--reload</code> および <code class="option">--initial</code> 起動オプションは、それが実行中の唯一の管理サーバーでないかぎり、無視されます。また、複数の管理ノードを含む MySQL Cluster のローリング再起動を実行すると、管理サーバーはその MySQL Cluster で実行中の唯一の管理サーバーである場合にかぎって、それ自身の構成ファイルを読み取ります。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-rolling-restart" title="18.5.5 MySQL Cluster のローリング再起動の実行">セクション18.5.5「MySQL Cluster のローリング再起動の実行」</a>を参照してください。
          </p></li></ul></div><p><b>複数のネットワークアドレス </b>
          1 つのデータノードに対する複数のネットワークアドレスはサポートされません。これらを使用すると、問題が発生しやすくなります。データノードに障害が発生すると、SQL ノードはデータノードが停止したことの確認を待機しますが、そのデータノードへの別のルートが開いたままであるため、この確認を受信できません。これにより、クラスタは実質的に操作不能になります。
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          1 つのデータノードで複数のネットワークハードウェア<span class="emphasis"><em>インタフェース</em></span> (Ethernet カードなど) を使用できますが、これらは同じアドレスにバインドする必要があります。これは、<code class="literal">config.ini</code> ファイルで接続ごとに複数の <code class="literal">[tcp]</code> セクションを使用できないことも意味します。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-tcp-definition" title="18.3.2.8 MySQL クラスタの TCP/IP 接続">セクション18.3.2.8「MySQL クラスタの TCP/IP 接続」</a>を参照してください。
        </p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-limitations-resolved"></a>18.1.6.11 MySQL Cluster NDB 7.3 で解決された以前の MySQL Cluster の問題</h4></div></div></div><a class="indexterm" name="idm139979044187504"></a><p>
        MySQL Cluster NDB 7.3 では、MySQL Cluster の以前のバージョンに存在したいくつかの制限および関連する問題が解決されました。これらについて、次のリストで簡単に説明します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>外部キーのサポート </b>
              <code class="literal">NDB</code> テーブルの外部キー制約が、<code class="literal">InnoDB</code> ストレージエンジンでのサポートと同様の方法でサポートされました。
            </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              ユーザーパーティション化された <code class="literal">InnoDB</code> テーブルの場合とは異なり、<code class="literal">KEY</code> または <code class="literal">LINEAR KEY</code> によってパーティション化された <code class="literal">NDB</code> テーブルで外部キーがサポートされます。
            </p></div><p>
            MySQL での外部キーのサポートの詳細は、<a class="xref" href="introduction.html#constraint-foreign-key" title="1.8.3.2 FOREIGN KEY の制約">セクション1.8.3.2「FOREIGN KEY の制約」</a>を参照してください。MySQL でサポートされる外部キーの構文の詳細は、<a class="xref" href="sql-syntax.html#create-table-foreign-keys" title="13.1.17.2 外部キー制約の使用">セクション13.1.17.2「外部キー制約の使用」</a>を参照してください。
          </p></li></ul></div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mysql-cluster-installation"></a>18.2 MySQL Cluster のインストール</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-auto">18.2.1 MySQL Cluster Auto-Installer</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-linux">18.2.2 Linux での MySQL Cluster のインストール</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-windows">18.2.3 Windows での MySQL Cluster のインストール</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-configuration">18.2.4 MySQL Cluster の初期構成</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-first-start">18.2.5 MySQL Cluster の初期起動</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-example-data">18.2.6 テーブルとデータを含む MySQL Cluster の例</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-shutdown-restart">18.2.7 MySQL Cluster の安全なシャットダウンと再起動</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-upgrade-downgrade">18.2.8 MySQL Cluster NDB 7.3 のアップグレードとダウングレード</a></span></dt></dl></div><a class="indexterm" name="idm139979044171936"></a><a class="indexterm" name="idm139979044170464"></a><a class="indexterm" name="idm139979044169056"></a><a class="indexterm" name="idm139979044167024"></a><a class="indexterm" name="idm139979044165632"></a><p>
    このセクションでは、MySQL Cluster の計画、インストール、構成、および実行の基本について説明します。<a class="xref" href="mysql-cluster.html#mysql-cluster-configuration" title="18.3 MySQL Cluster の構成">セクション18.3「MySQL Cluster の構成」</a>の例ではクラスタリングのさまざまなオプションと構成について詳しく説明しますが、ここで概説するガイドラインと手順に従うことで、データの可用性と保護に関する<span class="emphasis"><em>最小</em></span>要件を満たす使用可能な MySQL Cluster が構築されます。
  </p><p>
    MySQL Cluster のリリースバージョンでのアップグレードまたはダウングレードについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-upgrade-downgrade" title="18.2.8 MySQL Cluster NDB 7.3 のアップグレードとダウングレード">セクション18.2.8「MySQL Cluster NDB 7.3 のアップグレードとダウングレード」</a>を参照してください。
  </p><p>
    このセクションでは、ハードウェアとソフトウェアの要件、ネットワークの問題、MySQL Cluster のインストール、基本的な構成の問題、クラスタの開始、停止、および再起動、サンプルデータベースのロード、およびクエリーの実行について説明します。
  </p><p>
    MySQL Cluster NDB 7.3 以降では、Web ベースのグラフィカルインストーラである MySQL Cluster Auto-Installer が MySQL Cluster 配布の一部として提供されます。Auto-Installer を使用すると、1 台 (テスト用) または複数のホストコンピュータに対して MySQL Cluster の基本的なインストールとセットアップを実行できます。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto" title="18.2.1 MySQL Cluster Auto-Installer">セクション18.2.1「MySQL Cluster Auto-Installer」</a>を参照してください。
  </p><p><b>仮定 </b>
      以降のセクションでは、クラスタの物理的構成とネットワーク構成に関していくつかの仮定を立てています。これらの仮定については、次のいくつかの段落で説明します。
    </p><p><a name="mysql-cluster-install-nodes-hosts"></a><b>クラスタノードとホストコンピュータ </b>
      このクラスタは、ここに示す 4 つのノードで構成されます。各ノードは別個のホストコンピュータ上に配置され、一般的な Ethernet ネットワーク上に固定のネットワークアドレスを持っています。
    </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">ノード</th><th scope="col">IP アドレス</th></tr></thead><tbody><tr><td scope="row">管理ノード (<span class="command"><strong>mgmd</strong></span>)</td><td>192.168.0.10</td></tr><tr><td scope="row">SQL ノード (<span class="command"><strong>mysqld</strong></span>)</td><td>192.168.0.20</td></tr><tr><td scope="row">データノード "A" (<span class="command"><strong>ndbd</strong></span>)</td><td>192.168.0.30</td></tr><tr><td scope="row">データノード "B" (<span class="command"><strong>ndbd</strong></span>)</td><td>192.168.0.40</td></tr></tbody></table></div><p>
    これをより明確に表したものが次の図です。
  </p><div class="mediaobject"><img src="images/multi-comp-1.png" width="500" height="393" alt="複数のコンピュータによる MySQL Cluster のセットアップ"></div><p><b>ネットワークアドレス設定 </b>
      <a class="indexterm" name="idm139979044134832"></a> <a class="indexterm" name="idm139979044132640"></a>簡略化 (および信頼性) のため、この<em class="citetitle">操作手順</em>では数値の IP アドレスのみを使用します。ただし、ネットワーク上で DNS 解決が利用可能な場合は、クラスタ構成時に IP アドレスの代わりにホスト名を使用できます。また、<code class="filename">hosts</code> ファイル (通常、Linux およびその他の Unix 系オペレーティングシステムでは <code class="filename">/etc/hosts</code>、Windows では <code class="filename">C:\WINDOWS\system32\drivers\etc\hosts</code>、または使用しているオペレーティングシステムの同等のファイル) が使用可能な場合は、ホスト検索を行う手段として使用することもできます。
    </p><p><b>hosts ファイルの潜在的な問題 </b>
      クラスタノードにホスト名を使用しようとしたときによくある問題は、一部のオペレーティングシステム (一部の Linux 配布を含む) がインストール中にシステム独自のホスト名を <code class="filename">/etc/hosts</code> に設定する方法が原因で発生します。<code class="literal">ndb1</code> および <code class="literal">ndb2</code> というホスト名を持つ 2 台のマシンがどちらも <code class="literal">cluster</code> ネットワークドメインに含まれる場合について考えます。Red Hat Linux (CentOS や Fedora などの一部の派生バージョンを含む) では、これらのマシンの <code class="filename">/etc/hosts</code> ファイルに次のエントリが設定されます。
    </p><pre class="programlisting">
#  ndb1 <code class="filename">/etc/hosts</code>:
127.0.0.1   ndb1.cluster ndb1 localhost.localdomain localhost
</pre><pre class="programlisting">
#  ndb2 <code class="filename">/etc/hosts</code>:
127.0.0.1   ndb2.cluster ndb2 localhost.localdomain localhost
</pre><p>
    SUSE Linux (OpenSUSE を含む) では、マシンの <code class="filename">/etc/hosts</code> ファイルにこれらのエントリが設定されます。
  </p><pre class="programlisting">
#  ndb1 <code class="filename">/etc/hosts</code>:
127.0.0.1       localhost
127.0.0.2       ndb1.cluster ndb1
</pre><pre class="programlisting">
#  ndb2 <code class="filename">/etc/hosts</code>:
127.0.0.1       localhost
127.0.0.2       ndb2.cluster ndb2
</pre><p>
    どちらの場合も、<code class="literal">ndb1</code> は <code class="literal">ndb1.cluster</code> をループバック IP アドレスにルーティングしますが、DNS から <code class="literal">ndb2.cluster</code> のパブリック IP アドレスを取得します。一方、<code class="literal">ndb2</code> は <code class="literal">ndb2.cluster</code> をループバックアドレスにルーティングし、<code class="literal">ndb1.cluster</code> のパブリックアドレスを取得します。その結果、各データノードは管理サーバーに接続しますが、ほかのデータノードが接続したことを検出できないため、データノードが起動中にハングアップしたように見えます。
  </p><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注意</div><p>
      <code class="filename">config.ini</code> では <code class="literal">localhost</code> とほかのホスト名または IP アドレスを混在できません。これらの理由により、このようなケースの (<code class="filename">config.ini</code> の<span class="emphasis"><em>すべての</em></span> <code class="literal">HostName</code> エントリで IP アドレスを使用する以外の) 解決策は、すべてのクラスタホストの <code class="filename">/etc/hosts</code> から完全修飾ホスト名を削除し、<code class="filename">config.ini</code> で使用することです。
    </p></div><p><b>ホストコンピュータのタイプ </b>
      このインストールシナリオに含まれる各ホストコンピュータは、標準的な構成でディスクにインストールされたサポート対象のオペレーティングシステムを実行し、不要なサービスを実行していない Intel ベースのデスクトップ PC です。標準の TCP/IP ネットワーク機能を含む中核的なオペレーティングシステムで十分です。また、簡略化のため、すべてのホストのファイルシステムが完全に同じように設定されていると仮定します。そうでない場合は、状況に応じてこれらの手順を適用してください。
    </p><p><b>ネットワークハードウェア </b>
      各マシンには標準の 100M ビット/秒または 1 ギガビット Ethernet カードが (カードに対応するドライバとともに) 取り付けられ、4 台のホストすべてがスイッチなどの標準仕様の Ethernet ネットワークアプライアンスを介して接続されています。(すべてのマシンで同じスループットのネットワークカードを使用してください。つまり、クラスタ内の 4 台のマシンで 100M ビット/秒カードを使用するか、<span class="emphasis"><em>または</em></span> 4 台のマシンで 1 ギガビットカードを使用してください。)MySQL Cluster は 100M ビット/秒のネットワークで動作しますが、ギガビット Ethernet ではパフォーマンスがさらに向上します。
    </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
      MySQL Cluster は、スループットが 100M ビット/秒未満のネットワークや長い待機時間が発生するネットワークで使用できるように設計されて<span class="emphasis"><em>いません</em></span>。特にこの理由により、インターネットなどの広域ネットワークを介して MySQL Cluster を実行することは、成功する可能性が低く、本番環境ではサポートされていません。
    </p></div><p><b>サンプルデータ </b>
      ここでは、MySQL Web サイトからダウンロードできる <code class="literal">world</code> データベースを使用します (<a class="ulink" href="http://dev.mysql.com/doc/index-other.html" target="_top">http://dev.mysql.com/doc/index-other.html</a> を参照してください)。ここでは、オペレーティングシステムと必要な MySQL Cluster プロセスを実行し、(データノードで) データベースを格納するための十分なメモリーが各マシンにあると仮定します。
    </p><p>
    MySQL のインストールに関する一般的な情報は、<a class="xref" href="installing.html" title="第 2 章 MySQL のインストールと更新">第2章「<i>MySQL のインストールと更新</i>」</a>を参照してください。Linux およびその他の Unix 系オペレーティングシステムに対する MySQL Cluster のインストールについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-install-linux" title="18.2.2 Linux での MySQL Cluster のインストール">セクション18.2.2「Linux での MySQL Cluster のインストール」</a>を参照してください。Windows オペレーティングシステムに対する MySQL Cluster のインストールについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows" title="18.2.3 Windows での MySQL Cluster のインストール">セクション18.2.3「Windows での MySQL Cluster のインストール」</a>を参照してください。
  </p><p>
    MySQL Cluster のハードウェア、ソフトウェア、およびネットワーク要件に関する一般的な情報は、<a class="xref" href="mysql-cluster.html#mysql-cluster-overview-requirements" title="18.1.3 MySQL Cluster のハードウェア、ソフトウェア、およびネットワーク要件">セクション18.1.3「MySQL Cluster のハードウェア、ソフトウェア、およびネットワーク要件」</a>を参照してください。
  </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-install-auto"></a>18.2.1 MySQL Cluster Auto-Installer</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-auto-requirements">18.2.1.1 MySQL Cluster Auto-Installer の要件</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-auto-overview">18.2.1.2 MySQL Cluster Auto-Installer の概要</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-auto-using">18.2.1.3 MySQL Cluster Auto-Installer の使用</a></span></dt></dl></div><a class="indexterm" name="idm139979044085808"></a><a class="indexterm" name="idm139979044084432"></a><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto-requirements" title="18.2.1.1 MySQL Cluster Auto-Installer の要件">セクション18.2.1.1「MySQL Cluster Auto-Installer の要件」</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto-overview" title="18.2.1.2 MySQL Cluster Auto-Installer の概要">セクション18.2.1.2「MySQL Cluster Auto-Installer の概要」</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto-using" title="18.2.1.3 MySQL Cluster Auto-Installer の使用">セクション18.2.1.3「MySQL Cluster Auto-Installer の使用」</a>
        </p></li></ul></div><p>
      このセクションでは、MySQL Cluster NDB 7.3.1 から MySQL Cluster 配布の一部として組み込まれた Web ベースのグラフィカル構成インストーラについて説明します。説明するトピックには、インストーラとその各部分の概要、インストーラを実行するためのソフトウェアおよびその他の要件、GUI の操作、およびインストーラを使用して 1 台以上のホストコンピュータに MySQL Cluster をセットアップし、起動または停止する方法が含まれます。
    </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-install-auto-requirements"></a>18.2.1.1 MySQL Cluster Auto-Installer の要件</h4></div></div></div><a class="indexterm" name="idm139979044074832"></a><p>
        このセクションでは、サポートされるオペレーティングプラットフォームとソフトウェア、必要なソフトウェア、および MySQL Cluster Auto-Installer を実行するためのその他の前提条件について説明します。
      </p><p><b>サポートされるプラットフォーム </b>
          <a class="indexterm" name="idm139979044070768"></a>MySQL Cluster Auto-Installer は、Linux、Windows、Solaris、および MacOS X の最近のバージョンに対応する MySQL Cluster NDB 7.3 以降のほとんどの配布で使用できます。MySQL Cluster および MySQL Cluster Auto-Installer のプラットフォームサポートの詳細は、<a class="ulink" href="http://www.mysql.com/support/supportedplatforms/cluster.html" target="_top">http://www.mysql.com/support/supportedplatforms/cluster.html</a> を参照してください。
        </p><p><b>サポートされる Web ブラウザ </b>
          <a class="indexterm" name="idm139979044066256"></a>この Web ベースのインストーラは、Firefox および Microsoft Internet Explorer の最近のバージョンでサポートされます。また、Opera、Safari、および Chrome の最近のバージョンでも動作しますが、これらのブラウザとの互換性に関する詳細なテストは行われていません。
        </p><p><b>必要なソフトウェア (セットアップホスト) </b>
          <a class="indexterm" name="idm139979044062096"></a>Auto-Installer を実行するホストには、次のソフトウェアがインストールされている必要があります。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>Python 2.6 以降 </b>
              <a class="indexterm" name="idm139979044057984"></a>Auto-Installer には、Python インタプリタおよび標準ライブラリが必要です。これらがシステムにまだインストールされていない場合は、システムのパッケージマネージャーを使用して追加できる可能性があります。そうでない場合は、<a class="ulink" href="http://python.org/download/" target="_top">http://python.org/download/</a> からダウンロードできます。
            </p></li><li class="listitem"><p><b>Paramiko 1.7.7.1 以降 </b>
              これは、SSH を使用してリモートホストと通信するために必要です。<a class="ulink" href="http://www.lag.net/paramiko/" target="_top">http://www.lag.net/paramiko/</a> からダウンロードできます。Paramiko は、使用しているシステムのパッケージマネージャーから入手することもできます。
            </p></li><li class="listitem"><p><b>Pycrypto バージョン 2.6 以降 </b>
              この暗号化モジュールは Paramiko が必要とします。使用しているシステムのパッケージマネージャーを使用して入手できない場合は、<a class="ulink" href="https://www.dlitz.net/software/pycrypto/" target="_top">https://www.dlitz.net/software/pycrypto/</a> からダウンロードできます。
            </p></li></ul></div><p>
        構成ツールの Windows バージョンには、前のリストに示したすべてのソフトウェアが含まれているため、別個にインストールする必要はありません。
      </p><p>
        Paramiko および Pycrypto ライブラリは、MySQL Cluster ノードをリモートホストに配備する場合にのみ必要です。インストーラを実行する同じホストにすべてのノードを配置する場合は必要ありません。
      </p><p><b>必要なソフトウェア (リモートホスト) </b>
          <a class="indexterm" name="idm139979044046016"></a>MySQL Cluster ノードを配備するリモートホストに必要な唯一のソフトウェアは、Linux および Solaris システムでは通常デフォルトでインストールされる SSH サーバーです。Windows では、いくつかの代わりとなるものが使用可能です。概要については、<a class="ulink" href="http://en.wikipedia.org/wiki/Comparison_of_SSH_servers" target="_top">http://en.wikipedia.org/wiki/Comparison_of_SSH_servers</a> を参照してください。
        </p><p>
        <a class="indexterm" name="idm139979044042080"></a>複数のホストを使用するときの追加要件は、次の段落で説明するように、SSH と適切な鍵またはユーザー資格証明を使用してリモートホストで認証できるようにすることです。
      </p><p><b>認証とセキュリティー </b>
          <a class="indexterm" name="idm139979044038528"></a>Auto-Installer では、リモートアクセスに対してここに示す 3 つの基本的なセキュリティーまたは認証メカニズムを使用できます。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>SSH </b>
              セキュアシェル接続を使用すると、バックエンドからリモートホストでのアクションを実行できるようになります。そのためには、リモートホストで SSH サーバーが実行されている必要があります。また、インストーラを実行するシステムユーザーがユーザー名とパスワードまたは公開鍵と秘密鍵を使用してリモートサーバーにアクセスできる必要があります。
            </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
              システムの <code class="literal">root</code> アカウントは安全性がきわめて低いため、リモートアクセスには決して使用しないでください。また、<span class="command"><strong>mysqld</strong></span> はシステムの <code class="literal">root</code> によって正常に起動できません。これらの理由やその他の理由から、システムの <code class="literal">root</code> ではく、ターゲットシステム上の通常のユーザーアカウントの SSH 資格証明を提供してください。この問題の詳細は、<a class="xref" href="security.html#changing-mysql-user" title="6.1.5 MySQL を通常ユーザーとして実行する方法">セクション6.1.5「MySQL を通常ユーザーとして実行する方法」</a>を参照してください。
            </p></div></li><li class="listitem"><p><b>HTTPS </b>
              Web ブラウザのフロントエンドとバックエンド間のリモート通信は、デフォルトでは暗号化されません。これは、ユーザーの SSH パスワードなどの情報がすべてのユーザーに判読可能な平文で転送されることを意味します。リモートクライアントからの通信を暗号化するには、バックエンドに証明書を用意し、フロントエンドが HTTP ではなく HTTPS を使用してバックエンドと通信する必要があります。HTTPS を有効にするには、自己署名証明書を発行するのがもっとも簡単です。証明書を発行したあとは、それが使用されていることを確認する必要があります。これを行うには、コマンド行から <code class="option">--use-https</code> および <code class="option">--cert-file</code> オプションを指定して <span class="command"><strong>ndb_setup.py</strong></span> コマンドを起動します。
            </p></li><li class="listitem"><p><b>証明書ベースの認証 </b>
              バックエンドの <span class="command"><strong>ndb_setup.py</strong></span> プロセスは、ローカルホストだけでなくリモートホストに対してもコマンドを実行できます。これは、バックエンドに接続した任意のユーザーがコマンドの実行方法を管理できることを意味します。バックエンドへの不要な接続を拒否するには、クライアントを認証するための証明書が必要です。この場合は、証明書がユーザーによって発行され、ブラウザにインストールされ、バックエンドで認証に使用できるようになっている必要があります。この要件を (パスワードまたは鍵による認証と組み合わせて、またはその代わりに) 設定するには、<code class="option">--ca-certs-file</code> オプションを指定して <span class="command"><strong>ndb_setup.py</strong></span> を起動します。
            </p></li></ul></div><p>
        <a class="indexterm" name="idm139979044016912"></a>クライアントブラウザを Auto-Installer のバックエンドと同じホストで実行する場合は、セキュアな認証の必要性または要件はありません。
      </p><p>
        MySQL のより一般的なセキュリティー情報については、<a class="xref" href="mysql-cluster.html#mysql-cluster-security" title="18.5.11 MySQL Cluster のセキュリティー上の問題">セクション18.5.11「MySQL Cluster のセキュリティー上の問題」</a>(MySQL Cluster を配備するときに考慮に入れるセキュリティーの検討事項について説明しています) および<a class="xref" href="security.html" title="第 6 章 セキュリティー">第6章「<i>セキュリティー</i>」</a>も参照してください。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-install-auto-overview"></a>18.2.1.2 MySQL Cluster Auto-Installer の概要</h4></div></div></div><a class="indexterm" name="idm139979044010816"></a><p>
        MySQL Cluster Auto-Installer は 2 つのコンポーネントで構成されます。フロントエンドは、Firefox や Microsoft Internet Explorer などの標準的な Web ブラウザ内でロードおよび実行される Web ページとして実装された GUI クライアントです (<a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto-requirements" title="18.2.1.1 MySQL Cluster Auto-Installer の要件">セクション18.2.1.1「MySQL Cluster Auto-Installer の要件」</a>を参照してください)。バックエンドは、ローカルマシンまたはユーザーがアクセスできる別のホストで実行されるサーバープロセス (<span class="command"><strong>ndb_setup.py</strong></span>) です。
      </p><p>
        これら 2 つのコンポーネント (クライアントとサーバー) は、標準の HTTP 要求および応答を使用して相互に通信します。バックエンドでは、バックエンドのユーザーがアクセスを許可された任意のホスト上の MySQL Cluster ソフトウェアプログラムを管理できます。MySQL Cluster ソフトウェアが別のホスト上にある場合、バックエンドは SSH を利用してアクセスし、Paramiko ライブラリを使用してリモートでコマンドを実行します (<a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto-requirements" title="18.2.1.1 MySQL Cluster Auto-Installer の要件">セクション18.2.1.1「MySQL Cluster Auto-Installer の要件」</a>を参照してください)。
      </p><p>
        このセクションの残りの部分では、主に Web クライアントについて説明します。コマンド行ツールの使用方法の詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-setup-py" title="18.4.23 ndb_setup.py — MySQL Cluster のブラウザベース自動インストーラの開始">セクション18.4.23「<span class="command"><strong>ndb_setup.py</strong></span> — MySQL Cluster のブラウザベース自動インストーラの開始」</a>を参照してください。
      </p><p><b>MySQL Cluster Auto-Installer のインタフェース </b>
          <a class="indexterm" name="idm139979044001840"></a>このセクションでは、MySQL Cluster Auto-Installer のレイアウトとナビゲーションについて説明します。Auto-Installer を Web ブラウザで最初に開くと、ここに示すような「ようこそ」画面が表示されます。
        </p><div class="mediaobject"><img src="images/welcome-first.png" width="600" height="429" alt="MySQL Cluster Auto-Installer の「ようこそ」画面。"></div><p>
        インストーラの UI にアクセスするには、<span class="bold"><strong>「Create New MySQL Cluster」</strong></span>または<span class="bold"><strong>「Continue Previous Cluster Configuration」</strong></span>のいずれかのオプションを選択します。Auto-Installer の一般的な画面には、次の要素が含まれています。
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><b>表示パネル </b>
              構成設定に関するデータとそれらを変更するためのコントロールが表示される中央の領域です。
            </p></li><li class="listitem"><p><b>ブレッドクラムナビゲーション </b>
              GUI の左上および中央上部にあるブレッドクラムナビゲーションバーは、MySQL Cluster の構成の各ステップに対応する画面にリンクする一連のタイトルで構成されます。ブレッドクラムを使用すると、これらの段階の間を任意の順序でジャンプできます。
            </p></li><li class="listitem"><p><b>順次ナビゲーション </b>
              これは、<span class="guibutton">「Previous」</span>、<span class="guibutton">「Next」</span>、および<span class="guibutton">「Finished」</span>というラベルが付いた一連のボタンで構成され、GUI の右下隅にあります。順次ナビゲーションは、指示された順序でステップ間を移動するために使用します。
            </p></li><li class="listitem"><p><b>「設定」および「ヘルプ」メニュー </b>
              これらのメニューは、GUI の右上隅 (ブレッドクラムナビゲーションバーの右側) にあります。<span class="guimenu">「設定」</span>では、Auto-Installer の構成設定を確認 (場合によっては変更) できます。<span class="guimenu">「ヘルプ」</span>は、インストーラの組み込みヘルプファイルにアクセスするために使用できます。
            </p></li></ol></div><p>
        この図は、前述の各要素の場所を Auto-Installer の一般的なページで示したものです。図に重ね合わせた番号は、前のリストの番号に対応しています。
      </p><div class="mediaobject"><img src="images/layout.png" width="600" height="430" alt="MySQL Cluster Auto-Installer GUI のレイアウト"></div><p>
        このセクションの残りの部分では、表示パネルを除くすべての要素について詳しく説明します。<a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto-using" title="18.2.1.3 MySQL Cluster Auto-Installer の使用">セクション18.2.1.3「MySQL Cluster Auto-Installer の使用」</a>では、表示領域に表示されるパネルについて、各パネルの機能とそこに含まれるコントロールとともに説明します。
      </p><p><b>任意および順次ナビゲーション </b>
          Auto-Installer には、MySQL Cluster 配備のセットアップと構成の異なる段階をカバーするページのいずれかが表示されます。ページ間を移動するには、次の 2 つの方法のいずれかを使用します。1 つ目は、さまざまなページのタイトルを表示するブレッドクラムトレイルナビゲーションツールバーです (現在のページのタイトルは強調表示され、無効になっています)。この中から目的のページのタイトルを選択すると、任意のページに任意の順序で移動できます。このツールバーを次に示します。
        </p><div class="mediaobject"><img src="images/breadcrumb-detail.png" width="600" height="53" alt="ページのタイトル (リンク) を表示する MySQL Cluster Auto-Installer のブレッドクラムナビゲーションの詳細"></div><p>
        Auto-Installer に用意されている 2 つ目のナビゲーションメカニズムは、ページの右下にある順次ナビゲーションボタン<span class="guibutton">「Next」</span>、<span class="guibutton">「Previous」</span>、および<span class="guibutton">「Finish」</span>で構成されます。これを使用すると、特定の順序で次または前のページに移動したり、最後のページに移動したりできます。このボタンは必要に応じて有効および無効にして、最後のページをとばして進めないようにしたりできます。
      </p><p><b>「設定」および「ヘルプ」メニュー </b>
          これらのメニューは、このセクションの冒頭で説明したように、GUI の右上隅に並んで配置されています。<span class="guimenu">「設定」</span>メニューの詳細を次に示します。
        </p><div class="mediaobject"><img src="images/settings-detail.png" width="400" height="175" alt="MySQL Cluster Auto-Installer の「設定」メニューの詳細。"></div><p>
        次のリストでは、<span class="guimenu">「設定」</span>メニューのエントリについて説明します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="guimenuitem">「Clear configuration and restart」</span>: すべてのホストおよびプロセスを削除し、すべてのパラメータ値をデフォルトに戻し、インストーラを最初のページからやり直します。
          </p></li><li class="listitem"><p>
            <span class="guimenuitem">「Automatically save configuration as cookies」</span>: 構成情報 (ホスト名、プロセスデータ、パラメータ値など) をブラウザの Cookie として保存します。このオプションを選択すると、SSH パスワードを除くすべての情報が保存されます。つまり、ブラウザを終了して再起動したときに、前のセッションと同じ構成作業を最後に中止したポイントから続行できます。
          </p><p>
            SSH パスワードは保存されないため、使用している場合は、新しいセッションの開始時にもう一度入力する必要があります。
          </p></li><li class="listitem"><p>
            <span class="guimenuitem">「Show advanced configuration options」</span>: Auto-Installer に高度な構成パラメータを表示し、ユーザーが設定できるようにします。
          </p><p>
            高度なパラメータは、一度設定すると、明示的に変更またはリセットするまで構成ファイル内で使用され続けます。これは、高度なパラメータが現在インストーラに表示されているかどうかは関係ありません。メニュー項目を無効にしても、パラメータの値はリセットされません。
          </p></li><li class="listitem"><p>
            <span class="guimenuitem">「Automatically get resource information for new hosts」</span>: 新しいホストのハードウェアリソース情報を自動的にクエリーして、構成オプションおよび値を事前に移入します。この場合、提案された値は必須ではありませんが、インストーラの対応する編集オプションを使用して明示的に変更しないかぎり、その値が使用されます。
          </p></li></ul></div><p>
        インストーラのナビゲーション要素と同様に、ユーザーがそれまでに行なった選択に応じて、<span class="guimenu">「設定」</span>メニューの 1 つ以上のエントリが無効になることがあります。
      </p><p>
        展開時の<span class="guimenu">「ヘルプ」</span>メニューを次に示します。
      </p><div class="mediaobject"><img src="images/help-detail.png" width="400" height="175" alt="MySQL Cluster Auto-Installer の展開された「ヘルプ」メニュー。"></div><p>
        <span class="guimenu">「ヘルプ」</span>メニューには、次のリストで説明する複数のオプションがあります。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="guibutton">「Content」</span>: 組み込みのユーザーガイドを表示します。これは、別のブラウザウィンドウで開くため、ワークフローを中断せずにインストーラと同時に使用できます。
          </p></li><li class="listitem"><p>
            <span class="guibutton">「現在のページ」</span>: 組み込みのユーザーガイドの、インストーラに現在表示されているページについて説明するセクションを開きます。
          </p></li><li class="listitem"><p>
            <span class="guibutton">「この製品について」</span>: ここに示すように、インストーラの名前とこのインストーラが提供される MySQL Cluster 配布のバージョン番号が表示された小さいダイアログを表示します。
          </p><div class="mediaobject"><img src="images/about.png" width="500" height="200" alt="MySQL Cluster Auto-Installer の「この製品について」ダイアログ。"></div></li></ul></div><p>
        Auto-Installer では、ほとんどの入力ウィジェットでツールチップ形式のコンテキスト依存ヘルプも提供されます。これらのツールチップの 1 つは、ウィジェットやウィジェットラベルの横に表示されることがある小さい疑問符にマウスを合わせたときに表示されます。
      </p><p>
        また、MySQL Cluster の構成パラメータの名前は MySQL Cluster のオンラインドキュメント内の対応する説明にリンクされているため、特定のパラメータの名前をクリックすると、そのパラメータのドキュメントが別のウィンドウに表示されます。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-install-auto-using"></a>18.2.1.3 MySQL Cluster Auto-Installer の使用</h4></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-auto-using-starting">18.2.1.3.1 MySQL Cluster Auto-Installer の起動</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-auto-using-welcome">18.2.1.3.2 MySQL Cluster Auto-Installer の「ようこそ」画面</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-auto-using-define-cluster">18.2.1.3.3 MySQL Cluster Auto-Installer の「Define Cluster」画面</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-auto-using-define-hosts">18.2.1.3.4 MySQL Cluster Auto-Installer の「Define Hosts」画面</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-auto-using-define-processes">18.2.1.3.5 MySQL Cluster Auto-Installer の「Define Processes」画面</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-auto-using-define-attributes">18.2.1.3.6 MySQL Cluster Auto-Installer の「Define Attributes」画面</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-auto-using-deploy-cluster">18.2.1.3.7 MySQL Cluster Auto-Installer の「Deploy Cluster」画面</a></span></dt></dl></div><a class="indexterm" name="idm139979043917088"></a><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto-using-starting" title="18.2.1.3.1 MySQL Cluster Auto-Installer の起動">セクション18.2.1.3.1「MySQL Cluster Auto-Installer の起動」</a>
          </p></li><li class="listitem"><p>
            <a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto-using-welcome" title="18.2.1.3.2 MySQL Cluster Auto-Installer の「ようこそ」画面">セクション18.2.1.3.2「MySQL Cluster Auto-Installer の「ようこそ」画面」</a>
          </p></li><li class="listitem"><p>
            <a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto-using-define-cluster" title="18.2.1.3.3 MySQL Cluster Auto-Installer の「Define Cluster」画面">セクション18.2.1.3.3「MySQL Cluster Auto-Installer の「Define Cluster」画面」</a>
          </p></li><li class="listitem"><p>
            <a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto-using-define-hosts" title="18.2.1.3.4 MySQL Cluster Auto-Installer の「Define Hosts」画面">セクション18.2.1.3.4「MySQL Cluster Auto-Installer の「Define Hosts」画面」</a>
          </p></li><li class="listitem"><p>
            <a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto-using-define-processes" title="18.2.1.3.5 MySQL Cluster Auto-Installer の「Define Processes」画面">セクション18.2.1.3.5「MySQL Cluster Auto-Installer の「Define Processes」画面」</a>
          </p></li><li class="listitem"><p>
            <a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto-using-define-attributes" title="18.2.1.3.6 MySQL Cluster Auto-Installer の「Define Attributes」画面">セクション18.2.1.3.6「MySQL Cluster Auto-Installer の「Define Attributes」画面」</a>
          </p></li><li class="listitem"><p>
            <a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto-using-deploy-cluster" title="18.2.1.3.7 MySQL Cluster Auto-Installer の「Deploy Cluster」画面">セクション18.2.1.3.7「MySQL Cluster Auto-Installer の「Deploy Cluster」画面」</a>
          </p></li></ul></div><p>
        MySQL Cluster Auto-Installer は複数のページで構成され、各ページは MySQL Cluster を構成して配備するために使用されるプロセス内のステップに対応しています。各ページについて次に示します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="bold"><strong><a class="link" href="mysql-cluster.html#mysql-cluster-install-auto-using-welcome" title="18.2.1.3.2 MySQL Cluster Auto-Installer の「ようこそ」画面">「ようこそ」</a></strong></span>: 新しい MySQL Cluster の構成または既存の MySQL Cluster 構成の続行のいずれかを選択して、Auto-Installer の使用を開始します。
          </p></li><li class="listitem"><p>
            <span class="bold"><strong><a class="link" href="mysql-cluster.html#mysql-cluster-install-auto-using-define-cluster" title="18.2.1.3.3 MySQL Cluster Auto-Installer の「Define Cluster」画面">「Define Cluster」</a></strong></span>: クラスタ全体の基本的な情報 (名前、ホスト、負荷タイプなど) を設定します。ここでは、必要に応じてリモートホストへのアクセスに使用する SSH 認証のタイプを設定することもできます。
          </p></li><li class="listitem"><p>
            <span class="bold"><strong><a class="link" href="mysql-cluster.html#mysql-cluster-install-auto-using-define-hosts" title="18.2.1.3.4 MySQL Cluster Auto-Installer の「Define Hosts」画面">「Define Hosts」</a></strong></span>: MySQL Cluster プロセスを実行するホストを特定します。
          </p></li><li class="listitem"><p>
            <span class="bold"><strong><a class="link" href="mysql-cluster.html#mysql-cluster-install-auto-using-define-processes" title="18.2.1.3.5 MySQL Cluster Auto-Installer の「Define Processes」画面">「Define Processes」</a></strong></span>: 各クラスタホストに特定のタイプのプロセスを 1 つ以上割り当てます。
          </p></li><li class="listitem"><p>
            <span class="bold"><strong><a class="link" href="mysql-cluster.html#mysql-cluster-install-auto-using-define-attributes" title="18.2.1.3.6 MySQL Cluster Auto-Installer の「Define Attributes」画面">「Define Attributes」</a></strong></span>: プロセスまたはプロセスタイプの構成属性を設定します。
          </p></li><li class="listitem"><p>
            <span class="bold"><strong><a class="link" href="mysql-cluster.html#mysql-cluster-install-auto-using-deploy-cluster" title="18.2.1.3.7 MySQL Cluster Auto-Installer の「Deploy Cluster」画面">「Deploy Cluster」</a></strong></span>: 前に設定された構成でクラスタを配備します。また、配備されたクラスタを開始および停止します。
          </p></li></ul></div><p>
        次のセクションでは、これらの各ページの目的と機能について、リストに示した順に詳しく説明します。
      </p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="mysql-cluster-install-auto-using-starting"></a>18.2.1.3.1 MySQL Cluster Auto-Installer の起動</h5></div></div></div><a class="indexterm" name="idm139979043885824"></a><p>
          Auto-Installer は、MySQL Cluster ソフトウェアとともに提供されます。(<a class="xref" href="mysql-cluster.html#mysql-cluster-installation" title="18.2 MySQL Cluster のインストール">セクション18.2「MySQL Cluster のインストール」</a>を参照してください。)このセクションでは、インストーラの起動方法について説明します。起動するには、<span class="command"><strong>ndb_setup.py</strong></span> 実行可能ファイルを起動します。<span class="command"><strong>ndb_setup.py</strong></span> は、MySQL Cluster インストールディレクトリ内の <code class="filename">bin</code> にあります。一般的な場所は、Linux システムでは <code class="filename">/usr/local/mysql/bin</code>、Windows システムでは <code class="filename">C:\Program Files\MySQL\MySQL Server 5.6\bin</code> ですが、これは MySQL Cluster ソフトウェアをインストールしたシステム上の場所によって異なる可能性があります。
        </p><p>
          Windows では、MySQL Cluster インストールディレクトリ内の <span class="command"><strong>setup.bat</strong></span> を実行してインストーラを起動することもできます。コマンド行から起動するときは、<span class="command"><strong>ndb_setup.py</strong></span> と同じオプションを指定できます。
        </p><a class="indexterm" name="idm139979043875552"></a><a class="indexterm" name="idm139979043873360"></a><p>
          <span class="command"><strong>ndb_setup.py</strong></span> は、その動作に影響を与える複数のオプションを指定して起動できますが、通常はデフォルト設定を使用するだけで十分です。その場合は、次の 2 つの方法で <span class="command"><strong>ndb_setup.py</strong></span> を起動できます。
        </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
              端末で MySQL Cluster の <code class="filename">bin</code> ディレクトリに移動し、このようにコマンド行から引数やオプションを追加せずに起動します。
            </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndb_setup</code></strong>
</pre><p>
              これは、オペレーティングシステムに関係なく有効です。
            </p></li><li class="listitem"><p>
              ファイルブラウザ (Windows の Windows Explorer、Linux の Konqueror、Dolphin、Nautilus など) で MySQL Cluster の <code class="filename">bin</code> ディレクトリに移動し、<span class="guilabel">ndb_setup.py</span> ファイルアイコンを (通常はダブルクリックによって) アクティブ化します。これは Windows で有効ですが、ほとんどの一般的な Linux デスクトップでも有効です。
            </p><p>
              Windows では、MySQL Cluster インストールディレクトリに移動して、<span class="guilabel">setup.bat</span> ファイルアイコンをアクティブ化することもできます。
            </p></li></ol></div><p>
          どちらの場合も、<span class="command"><strong>ndb_setup.py</strong></span> を起動すると、システムのデフォルトの Web ブラウザで Auto-Installer の<a class="link" href="mysql-cluster.html#mysql-cluster-install-auto-using-welcome" title="18.2.1.3.2 MySQL Cluster Auto-Installer の「ようこそ」画面"><span class="bold"><strong>「ようこそ」</strong></span>画面</a>が開きます。
        </p><p>
          場合によっては、Auto-Installer に含まれている Web サーバーの実行用として異なるポートを指定するなど、インストーラのデフォルト以外の設定を使用する必要があります。その場合は、必要なデフォルトをオーバーライドする値を含む起動オプションを指定して <span class="command"><strong>ndb_setup.py</strong></span> を起動する必要があります。Windows システムで同じ起動オプションを使用するには、MySQL Cluster ソフトウェア配布でそのようなプラットフォーム用に提供されている <span class="command"><strong>setup.bat</strong></span> ファイルを使用します。これはコマンド行を使用して実行できますが、これらのオプションを 1 つ以上使用しながらデスクトップまたはファイルブラウザからインストーラを起動する必要がある場合は、適切な起動を含むスクリプトまたはバッチファイルを作成し、ファイルブラウザでそのファイルアイコンをダブルクリックしてインストーラを起動することもできます。(Linux システムでは、最初にスクリプトファイルを実行可能にする必要もあります。)MySQL Cluster Auto-Installer の高度な起動オプションについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-setup-py" title="18.4.23 ndb_setup.py — MySQL Cluster のブラウザベース自動インストーラの開始">セクション18.4.23「<span class="command"><strong>ndb_setup.py</strong></span> — MySQL Cluster のブラウザベース自動インストーラの開始」</a>を参照してください。
        </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="mysql-cluster-install-auto-using-welcome"></a>18.2.1.3.2 MySQL Cluster Auto-Installer の「ようこそ」画面</h5></div></div></div><a class="indexterm" name="idm139979043850336"></a><p>
          <span class="bold"><strong>「ようこそ」</strong></span>画面は、ここに示すように、<span class="command"><strong>ndb_setup.py</strong></span> を起動したときにデフォルトのブラウザにロードされます。
        </p><div class="mediaobject"><img src="images/welcome-closeup.png" width="600" height="411" alt="MySQL Cluster Auto-Installer の「ようこそ」画面。"></div><p>
          この画面には、インストーラに入るための選択肢として次の 2 つが表示されます。続行するには、そのいずれかを選択する必要があります。
        </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
              <span class="guilabel">「Create New MySQL Cluster」</span>: 完全に新しいクラスタをセットアップして配備するために Auto-Installer を起動します。
            </p></li><li class="listitem"><p>
              <span class="guilabel">「Continue Previous Cluster Configuration」</span>: 前のセッションが終了した同じポイントから、前の設定をすべて保持した状態で Auto-Installer を起動します。
            </p></li></ol></div><p>
          2 つ目のオプションでは、ブラウザが前のセッションの Cookie にアクセスできる必要があります。これらの Cookie は、セッション中に生成された構成やその他の情報を格納するメカニズムとして使用されています。つまり、Auto-Installer で前のセッションを続行するには、前のセッションと同じホストで実行される同じブラウザを使用する必要があります。
        </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="mysql-cluster-install-auto-using-define-cluster"></a>18.2.1.3.3 MySQL Cluster Auto-Installer の「Define Cluster」画面</h5></div></div></div><a class="indexterm" name="idm139979043833328"></a><p>
          <span class="bold"><strong>「Define Cluster」</strong></span>画面は、<a class="link" href="mysql-cluster.html#mysql-cluster-install-auto-using-welcome" title="18.2.1.3.2 MySQL Cluster Auto-Installer の「ようこそ」画面"><span class="bold"><strong>「ようこそ」</strong></span>画面</a>での選択に続いて表示される最初の画面で、クラスタの一般的なプロパティーを設定するために使用されます。<span class="bold"><strong>「Define Cluster」</strong></span>画面のレイアウトを次に示します。
        </p><div class="mediaobject"><img src="images/define-cluster.png" width="600" height="439" alt="MySQL Cluster Auto-Installer の「Define Cluster」画面。"></div><p>
          <span class="bold"><strong>「Define Cluster」</strong></span>画面では、このリストで説明するクラスタの一般的なプロパティーを設定できます。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <span class="guilabel">「Cluster name」</span>: クラスタを識別する名前。デフォルトは <code class="literal">MyCluster</code> です。
            </p></li><li class="listitem"><p>
              <span class="guilabel">「Host list」</span>: クラスタプロセスを実行する 1 台以上のホストのカンマ区切りリスト。デフォルトでは、これは <code class="literal">127.0.0.1</code> です。このリストにリモートホストを追加した場合は、指定した<span class="guilabel">「SSH Credentials」</span>を使用して接続できる必要があります。
            </p></li><li class="listitem"><p>
              <span class="guilabel">「Application type」</span>: 次のいずれかを選択します。
            </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
                  <span class="guimenuitem">「Simple testing」</span>: 小規模なテストに対応する最小限のリソース使用。これはデフォルトです。<span class="emphasis"><em>本番環境を目的にしたものではありません</em></span>。
                </p></li><li class="listitem"><p>
                  <span class="guimenuitem">「Web」</span>: 特定のハードウェアに合わせてパフォーマンスを最大化します。
                </p></li><li class="listitem"><p>
                  <span class="guimenuitem">「Real-time」</span>: 障害の発生したクラスタプロセスの検出にかかる時間を最小限に抑えるため、タイムアウトへの感度を最大限にしながらパフォーマンスを最大化します。
                </p></li></ol></div></li><li class="listitem"><p>
              <span class="guilabel">「Write load」</span>: クラスタ全体で予測される書き込み数のレベルを選択します。次のいずれかのレベルを選択できます。
            </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
                  <span class="guimenuitem">「Low」</span>: 予想される負荷に、1 秒あたり 100 件未満の書き込みトランザクションが含まれます。
                </p></li><li class="listitem"><p>
                  <span class="guimenuitem">「Medium」</span>: 予想される負荷に、1 秒あたり 100-1000 件の書き込みトランザクションが含まれます。
                </p></li><li class="listitem"><p>
                  <span class="guimenuitem">「High」</span>: 予想される負荷に、1 秒あたり 1000 件を超える書き込みトランザクションが含まれます。
                </p></li></ol></div></li><li class="listitem"><p>
              <span class="guilabel">「SSH Credentials」</span>: <span class="guilabel">「Key-Based SSH」</span>を選択するか、<span class="guilabel">「User」</span>および<span class="guilabel">「Password」</span>資格証明を入力します。この SSH 鍵またはユーザー名とパスワードは、<span class="guilabel">「Host list」</span>に指定したリモートホストに接続するときに必要になります。デフォルトでは、<span class="guilabel">「Key-Based SSH」</span>が選択され、<span class="guilabel">「User」</span>および<span class="guilabel">「Password」</span>フィールドは空になっています。
            </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="mysql-cluster-install-auto-using-define-hosts"></a>18.2.1.3.4 MySQL Cluster Auto-Installer の「Define Hosts」画面</h5></div></div></div><a class="indexterm" name="idm139979043790912"></a><p>
          ここに示す<span class="bold"><strong>「Define Hosts」</strong></span>画面では、各クラスタホストのいくつかの主要なプロパティーを表示および指定できます。
        </p><div class="mediaobject"><img src="images/define-hosts.png" width="600" height="435" alt="MySQL Cluster の「Define Hosts」画面。"></div><a class="indexterm" name="idm139979043782464"></a><p>
          現在入力されているホストが各種の情報とともにグリッドに表示されます。ホストを追加するには、<span class="guibutton">「Add hosts」</span>ボタンをクリックし、(<a class="link" href="mysql-cluster.html#mysql-cluster-install-auto-using-define-cluster" title="18.2.1.3.3 MySQL Cluster Auto-Installer の「Define Cluster」画面"><span class="bold"><strong>「Define Cluster」</strong></span>画面</a>のホストリストを編集するときと同じように) カンマで区切られた 1 つ以上のホスト名、IP アドレス、またはその両方のリストを入力します。
        </p><p>
          同様に、<span class="guibutton">「Remove selected host(s)」</span>というラベルのボタンを使用して 1 台以上のホストを削除できます。この方法でホストを削除すると、そのホストに構成されたプロセスもすべて削除されます。
        </p><p>
          <a class="link" href="mysql-cluster.html#mysql-cluster-install-auto-overview" title="18.2.1.2 MySQL Cluster Auto-Installer の概要"><span class="guimenu">「設定」</span>メニュー</a>で<span class="guilabel">「Automatically get resource information for new hosts」</span>にチェックマークを付けると、Auto-Installer はプラットフォーム名、メモリーの量、および CPU コアの数を取得して、それらを自動的に設定しようとします。このステータスは<span class="emphasis"><em>「Resource info」</em></span>カラムに表示されます。リモートホストからの情報は即座にフェッチできず、特に Windows を実行しているホストからは、ある程度時間がかかることがあります。
        </p><p>
          <a class="link" href="mysql-cluster.html#mysql-cluster-install-auto-using-define-cluster" title="18.2.1.3.3 MySQL Cluster Auto-Installer の「Define Cluster」画面"><span class="emphasis"><em>「Define Cluster」</em></span>画面</a>の SSH ユーザー資格情報を変更すると、このツールは情報が欠落しているホストのハードウェア情報をリフレッシュしようとします。ただし、特定のフィールドがすでに編集されている場合、ユーザーが指定した情報がホストからフェッチされた値で上書きされることは<span class="emphasis"><em>ありません</em></span>。
        </p><p>
          ハードウェアリソース情報、プラットフォーム名、インストールディレクトリ、およびデータディレクトリは、ユーザーがグリッド内の対応するセルをクリックし、1 台以上のホストを選択し、<span class="guilabel">「Edit selected host(s)」</span>というラベルのボタンをクリックすると編集できます。これにより、ここに示すように、これらのフィールドを編集できるダイアログボックスが表示されます。
        </p><div class="mediaobject"><img src="images/edit-hosts.png" width="600" height="169" alt="MySQL Cluster Auto-Installer の「Edit Hosts(s)」ダイアログ。"></div><p>
          複数のホストを選択すると、編集した値が選択したすべてのホストに適用されます。
        </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="mysql-cluster-install-auto-using-define-processes"></a>18.2.1.3.5 MySQL Cluster Auto-Installer の「Define Processes」画面</h5></div></div></div><a class="indexterm" name="idm139979043760560"></a><p>
          ここに示す<span class="bold"><strong>「Define Processes」</strong></span>画面では、MySQL Cluster プロセス (ノード) をクラスタホストに割り当てることができます。
        </p><div class="mediaobject"><img src="images/define-processes.png" width="600" height="435" alt="MySQL Cluster Auto-Installer の「Define Processes」画面。"></div><p>
          この画面の左側には、クラスタホストと各ホストで実行するように設定されたプロセスを示すツリーが含まれています。右側には、ツリーで現在選択されている項目に関する情報を表示するパネルがあります。
        </p><p>
          特定のクラスタでこの画面に最初にアクセスすると、ホストの数に基づいてデフォルトのプロセスセットが自動的に定義されます。その後<a class="link" href="mysql-cluster.html#mysql-cluster-install-auto-using-define-hosts" title="18.2.1.3.4 MySQL Cluster Auto-Installer の「Define Hosts」画面"><span class="bold"><strong>「Define Hosts」</strong></span></a>画面に戻り、すべてのホストを削除して新しいホストを追加した場合も、新しいデフォルトのプロセスセットが定義されます。
        </p><p>
          MySQL Cluster プロセスには次のタイプがあります。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>管理ノード </b>
                個々のデータノードの停止、ノードやクラスタのステータスのクエリー、バックアップの作成などの管理タスクを実行します。実行可能ファイル: <span class="command"><strong>ndb_mgmd</strong></span>。
              </p></li><li class="listitem"><p><b>シングルスレッドのデータノード </b>
                データを格納し、クエリーを実行します。実行可能ファイル: <span class="command"><strong>ndbd</strong></span>。
              </p></li><li class="listitem"><p><b>マルチスレッドのデータノード </b>
                並列で実行される複数のワーカースレッドによってデータを格納し、クエリーを実行します。実行可能ファイル: <span class="command"><strong>ndbmtd</strong></span>。
              </p></li><li class="listitem"><p><b>SQL ノード </b>
                <code class="literal">NDB</code> に対して SQL クエリーを実行するための MySQL サーバー。実行可能ファイル: <span class="command"><strong>mysqld</strong></span>。
              </p></li><li class="listitem"><p><b>API ノード </b>
                SQL を使用せずに、NDB API またはその他の低レベルのクライアント API を使用して <code class="literal">NDB</code> 内のデータにアクセスするクライアント。詳細は、<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/index.html" target="_top">MySQL Cluster API Developer Guide</a>を参照してください。
              </p></li></ul></div><p>
          プロセス (ノード) タイプの詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-basics" title="18.1.1 MySQL Cluster の主な概念">セクション18.1.1「MySQL Cluster の主な概念」</a>を参照してください。
        </p><p>
          ツリーに表示されるプロセスには、簡単に識別できるように (たとえば、<code class="literal">SQL node 1</code>、<code class="literal">SQL node 2</code> のように) ホストごとにタイプ別の連番が付けられています。
        </p><p>
          個々の管理ノード、データノード、または SQL プロセスは、特定のホストに割り当てる必要があり、ほかのホストでは実行できません。API ノードは 1 台のホストに割り当てる<span class="emphasis"><em>こともできます</em></span>が、これは必須ではありません。代わりに、ほかのホストとは別にツリー内に表示される<span class="guimenuitem">「Any host」</span>エントリに別途割り当てることができます。このエントリは、任意のホストで実行できるプロセスのプレースホルダとして機能します。<span class="emphasis"><em>この<span class="guimenuitem">「Any host」</span>エントリを使用できるのは API プロセスだけです</em></span>。
        </p><p><b>プロセスの追加 </b>
            <a class="indexterm" name="idm139979043724704"></a>特定のホストに新しいプロセスを追加するには、ツリー内のそのホストのエントリを右クリックし、表示された<span class="guilabel">「Add process」</span>ポップアップを選択するか、プロセスツリー内のホストを選択して、プロセスツリーの下にある<span class="guibutton">「Add process」</span>ボタンをクリックします。これらのアクションのどちらを実行した場合も、ここに示すようなプロセス追加ダイアログが開きます。
          </p><div class="mediaobject"><img src="images/add-process.png" width="600" height="300" alt="MySQL Cluster Auto-Installer の「Define Processes」画面で新しいクラスタプロセスを追加するために使用されるダイアログ。"></div><p>
          ここでは、このセクションで前述した利用可能なプロセスタイプを選択できます。必要に応じて、提案された値の代わりに任意のプロセス名を入力することもできます。
        </p><p><b>プロセスの削除 </b>
            <a class="indexterm" name="idm139979043713344"></a>プロセスを削除するには、ツリー内のプロセスを右クリックし、表示されるポップアップメニューから<span class="guilabel">「delete process」</span>を選択します。または、プロセスを選択して、プロセスツリーの下にある<span class="guibutton">「delete process」</span>ボタンを使用します。
          </p><p>
          プロセスツリー内のプロセスを選択すると、そのプロセスに関する情報がツリーの右側のパネルに表示され、ここでプロセス名 (場合によってはプロセスタイプ) を変更できます。<span class="emphasis"><em>重要</em></span>: 現在のところ、シングルスレッドデータノード (<span class="command"><strong>ndbd</strong></span>) をマルチスレッドデータノード (<span class="command"><strong>ndbmtd</strong></span>) に (またはその逆に) 変更できます。ほかのプロセスタイプには変更できません。ほかのプロセスタイプ間で変更する場合は、最初に元のプロセスを削除し、次に目的のタイプの新しいプロセスを追加する必要があります。
        </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="mysql-cluster-install-auto-using-define-attributes"></a>18.2.1.3.6 MySQL Cluster Auto-Installer の「Define Attributes」画面</h5></div></div></div><a class="indexterm" name="idm139979043704240"></a><p>
          この画面のレイアウトは<a class="link" href="mysql-cluster.html#mysql-cluster-install-auto-using-define-processes" title="18.2.1.3.5 MySQL Cluster Auto-Installer の「Define Processes」画面"><span class="bold"><strong>「Define Processes」</strong></span>画面</a>とほぼ同じで、左側にプロセスツリーが表示されます。その画面のツリーとは異なり、<span class="bold"><strong>「Define Attributes」</strong></span>プロセスツリーはプロセスまたはノードのタイプで分類され (この場合、シングルスレッドおよびマルチスレッドデータノードは同じタイプとみなされます)、各グループに<span class="guimenu">「Management Layer」</span>、<span class="guimenu">「Data Layer」</span>、<span class="guimenu">「SQL Layer」</span>、および<span class="guimenu">「API Layer」</span>というラベルが付けられています。このツリーの右側のパネルには、現在選択されている項目に関する情報が表示されます。<span class="bold"><strong>「Define Attributes」</strong></span>画面をここに示します。
        </p><div class="mediaobject"><img src="images/define-attributes.png" width="600" height="435" alt="MySQL Cluster Auto-Installer の「Define Attributes」画面。"></div><p>
          プロセスツリーの下に<span class="guilabel">「Show advanced configuration」</span>というラベルのチェックボックスがあります。このボックスにチェックマークを付けると、情報ペインに高度なオプションが表示されます。これらのオプションは、表示されているかどうかに関係なく設定および使用されます。
        </p><p>
          1 つのプロセスの属性を編集するには、ツリーからそのプロセスを選択します。クラスタに含まれる同じタイプのプロセスすべての属性を編集するには、いずれかの<span class="guimenu">「Layer」</span>フォルダを選択します。プロセス単位で設定された特定の属性の値は、該当するプロセスに以前に適用されていた属性のグループ単位の設定をオーバーライドします。このような情報パネルの例 (SQL プロセスの場合) をここに示します。
        </p><div class="mediaobject"><img src="images/define-attributes-mysqld.png" width="600" height="300" alt="ツリー内で選択した SQL プロセスの属性が情報パネルに表示された「Define Attributes」プロセス"></div><p>
          情報パネルに表示された属性の一部については、その右側に、この属性の値をオーバーライドできることを示すプラス記号が付いたボタンが表示されます。この <span class="guibutton">+</span> ボタンをクリックすると、属性の入力ウィジェットがアクティブ化され、属性の値を変更できるようになります。値がオーバーライドされている場合は、ここに示すように、このボタンが <span class="guibutton">X</span> を示すボタンに変更されます。
        </p><div class="mediaobject"><img src="images/define-attributes-mysqld-overridden.png" width="600" height="300" alt="X ボタンで示されるように、SQL プロセス属性のデフォルト値がオーバーライドされています。"></div><p>
          属性の横にある <span class="guibutton">X</span> ボタンをクリックすると、その属性に対する変更が取り消され、ただちに事前定義値に戻ります。
        </p><p>
          すべての構成属性には、インストーラがホスト名、ノード ID、ノードタイプなどの要因に基づいて計算した事前定義値があります。ほとんどの場合、これらの値はそのままにしておくことができます。これらの操作をまだ習熟していない場合は、属性値を変更する前に該当するドキュメントを読むことを強くお勧めします。この情報を見つけやすくするため、情報パネルに表示される個々の属性名は、MySQL Cluster のオンラインドキュメント内の対応する説明にリンクされています。
        </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="mysql-cluster-install-auto-using-deploy-cluster"></a>18.2.1.3.7 MySQL Cluster Auto-Installer の「Deploy Cluster」画面</h5></div></div></div><a class="indexterm" name="idm139979043667728"></a><p>
          この画面では、次のタスクを実行できます。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              適用されるプロセス起動コマンドと構成ファイルを確認します
            </p></li><li class="listitem"><p>
              すべてのクラスタホストで必要なファイルおよびディレクトリを作成して、構成ファイルを配布します (つまり、現在の構成に従ってクラスタを<span class="emphasis"><em>配備</em></span>します)
            </p></li><li class="listitem"><p>
              クラスタを起動および停止します
            </p></li></ul></div><p>
          <span class="bold"><strong>「Deploy Cluster」</strong></span>画面をここに示します。
        </p><div class="mediaobject"><img src="images/deploy-cluster.png" width="600" height="440" alt="MySQL Cluster Auto-Installer の「Deploy Cluster」画面。"></div><p>
          <a class="link" href="mysql-cluster.html#mysql-cluster-install-auto-using-define-attributes" title="18.2.1.3.6 MySQL Cluster Auto-Installer の「Define Attributes」画面"><span class="bold"><strong>「Define Attributes」</strong></span>画面</a>と同じように、この画面の左側にはプロセスタイプで分類されたプロセスツリーが表示されます。各プロセスの横には、プロセスの現在のステータスを色で示すステータスアイコン (実行中の場合は緑、起動または停止中の場合は黄、プロセスが停止している場合は赤) が表示されます。
        </p><p>
          プロセスツリーの右側には、2 つの情報パネルが表示されます。上側のパネルには起動コマンド (選択したプロセスを起動するのに必要なコマンド) が表示されます。(プロセスによっては、初期化が必要な場合など、複数のコマンドが必要な場合があります。)下側のパネルには、指定したプロセスの構成ファイル (あれば) の内容が表示されます。現在のところ、構成ファイルがあるプロセスタイプは管理ノードプロセスだけです。ほかのプロセスタイプは、プロセスの起動時にコマンド行パラメータを使用して、または必要に応じて管理ノードからリアルタイムで構成情報を取得して構成されます。
        </p><p>
          プロセスツリーのすぐ下には、3 つのボタンがあります。これらは、次のリストで説明する機能を実行し、各機能を示すラベルが付いています。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <span class="guibutton">「Deploy cluster」</span>: 構成が有効かどうか検証します。クラスタホスト上に必要なディレクトリを作成し、各ホストに構成ファイルを配布します。進行状況バーに、配備の進行状況が表示されます。
            </p></li><li class="listitem"><p>
              <span class="guibutton">「Start cluster」</span>: <span class="guibutton">「Deploy cluster」</span>と同様にクラスタを配備し、その後、すべてのクラスタプロセスを正しい順序で起動します。
            </p><p>
              これらのプロセスの起動には、ある程度時間がかかることがあります。完了までの推定時間が長すぎる場合は、起動プロセスを取り消しまたは続行できます。ここに示すように、進行状況バーに起動手順の現在のステータスが示されます。
            </p><div class="mediaobject"><img src="images/starting-cluster.png" width="375" height="125" alt="画像について説明するテキスト。"></div><p>
              前述したプロセスツリーの横にあるプロセスステータスアイコンも、各プロセスのステータスに合わせて更新されます。
            </p></li><li class="listitem"><p>
              <span class="guibutton">「Stop cluster」</span>: クラスタを起動したあとは、これを使用して停止できます。クラスタの起動と同様に、クラスタは瞬時にシャットダウンされず、ある程度時間がかかることがあります。クラスタの起動時に表示されるのと同様の進行状況バーが表示され、プロセスツリーの横にあるプロセスステータスアイコンと同じように、クラスタのシャットダウン手順の現在の大まかなステータスが示されます。
            </p></li></ul></div><p>
          MySQL Cluster NDB 7.3.3 より前のバージョンでは、SQL ノードはコマンド行で指定されたすべてのオプションを使用して起動されました。MySQL Cluster NDB 7.3.3 以降では、Auto-Installer によってクラスタ内の各 <span class="command"><strong>mysqld</strong></span> プロセスに適したオプションを含む <code class="filename">my.cnf</code> ファイルが生成されます。(Bug #16994782)
        </p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-install-linux"></a>18.2.2 Linux での MySQL Cluster のインストール</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-linux-binary">18.2.2.1 Linux での MySQL Cluster バイナリリリースのインストール</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-linux-rpm">18.2.2.2 RPM からの MySQL Cluster のインストール</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-linux-source">18.2.2.3 Linux でのソースからの MySQL Cluster のビルド</a></span></dt></dl></div><a class="indexterm" name="idm139979043631344"></a><a class="indexterm" name="idm139979043629296"></a><p>
      このセクションでは、Linux およびその他の Unix 系オペレーティングシステムでの MySQL Cluster のインストール方法について説明します。次のセクションでは Linux オペレーティングシステムについて言及しますが、記載されている指示と手順は、サポートされるほかの Unix 系プラットフォームにも簡単に適用できます。Windows システムに固有の手動のインストールおよびセットアップ手順については、<a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows" title="18.2.3 Windows での MySQL Cluster のインストール">セクション18.2.3「Windows での MySQL Cluster のインストール」</a>を参照してください。
    </p><p>
      個々の MySQL Cluster ホストコンピュータに適切な実行可能プログラムがインストールされている必要があります。SQL ノードを実行するホストには、MySQL Server バイナリ (<span class="command"><strong>mysqld</strong></span>) がインストールされている必要があります。管理ノードには、管理サーバーデーモン (<span class="command"><strong>ndb_mgmd</strong></span>) が必要です。データノードには、データノードデーモン (<span class="command"><strong>ndbd</strong></span> または <span class="command"><strong>ndbmtd</strong></span>) が必要です。管理ノードホストおよびデータノードホストに MySQL Server バイナリをインストールする必要はありません。管理サーバーホストには管理クライアント (<span class="command"><strong>ndb_mgm</strong></span>) もインストールすることをお勧めします。
    </p><p>
      Linux での MySQL Cluster のインストールは、オラクルが提供する事前コンパイル済みバイナリ (.tar.gz アーカイブとしてダウンロード) を使用するか、RPM パッケージ (これもオラクルから入手可能) を使用するか、ソースコードから実行できます。次のセクションでは、これら 3 つのすべてのインストール方法について説明します。
    </p><p>
      使用する方法に関係なく、クラスタを起動する前に、MySQL Cluster バイナリのインストールに続いてすべてのクラスタノードの構成ファイルを作成する必要もあります。<a class="xref" href="mysql-cluster.html#mysql-cluster-install-configuration" title="18.2.4 MySQL Cluster の初期構成">セクション18.2.4「MySQL Cluster の初期構成」</a>を参照してください。
    </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-install-linux-binary"></a>18.2.2.1 Linux での MySQL Cluster バイナリリリースのインストール</h4></div></div></div><a class="indexterm" name="idm139979043615984"></a><a class="indexterm" name="idm139979043613760"></a><p>
        このセクションでは、オラクルが提供する事前コンパイル済みバイナリからクラスタノードの各タイプに対応する適切な実行可能ファイルをインストールするために必要なステップについて説明します。
      </p><p>
        事前コンパイル済みバイナリを使用してクラスタをセットアップする場合は、各クラスタホストのインストールプロセスの最初のステップとして、<a class="ulink" href="http://dev.mysql.com/downloads/cluster/" target="_top">MySQL Cluster ダウンロード領域</a>から最新の MySQL Cluster NDB 7.3 以降のバイナリアーカイブ (<code class="filename">mysql-cluster-gpl-7.3.9-linux-i686-glibc23.tar.gz</code> または <code class="filename">mysql-cluster-gpl-7.4.4-linux-i686-glibc23.tar.gz</code>) をダウンロードします。ここでは、このファイルが各マシンの <code class="filename">/var/tmp</code> ディレクトリに配置されていると仮定します。(カスタムバイナリが必要な場合は、<a class="xref" href="installing.html#installing-development-tree" title="2.9.3 開発ソースツリーを使用して MySQL をインストールする">セクション2.9.3「開発ソースツリーを使用して MySQL をインストールする」</a>を参照してください。)
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          インストールが完了しても、バイナリはまだ起動しないでください。ノードの構成に続いてその実行方法を示します (<a class="xref" href="mysql-cluster.html#mysql-cluster-install-configuration" title="18.2.4 MySQL Cluster の初期構成">セクション18.2.4「MySQL Cluster の初期構成」</a>を参照してください)。
        </p></div><p><b>SQL ノード </b>
          SQL ノードのホストとして指定された各マシンで、システムの <code class="literal">root</code> ユーザーとして次のステップを実行します。
        </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            <code class="filename">/etc/passwd</code> および <code class="filename">/etc/group</code> ファイルを調べて (または、オペレーティングシステムが提供する何らかのユーザーおよびグループ管理ツールを使用して)、システムに <code class="literal">mysql</code> グループと <code class="literal">mysql</code> ユーザーがすでに存在しているかどうかを確認します。一部の OS 配布では、オペレーティングシステムのインストールプロセスの一部としてこれらが作成されます。まだ存在しない場合は、<code class="literal">mysql</code> ユーザーグループを新規作成し、このグループに <code class="literal">mysql</code> ユーザーを追加します。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>groupadd mysql</code></strong>
shell&gt; <strong class="userinput"><code>useradd -g mysql mysql</code></strong>
</pre><p>
            <span class="command"><strong>useradd</strong></span> および <span class="command"><strong>groupadd</strong></span> の構文は、Unix のバージョンによって多少異なる場合があり、また <span class="command"><strong>adduser</strong></span> および <span class="command"><strong>addgroup</strong></span> などの別な名前を使用している場合もあります。
          </p></li><li class="listitem"><p>
            ダウンロードしたファイルを含むディレクトリに移動し、アーカイブを解凍して、<code class="filename">mysql</code> という名前で <code class="filename">mysql</code> ディレクトリへのシンボリックリンクを作成します。実際のファイルおよびディレクトリ名は、MySQL Cluster のバージョン番号によって異なります。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cd /var/tmp</code></strong>
shell&gt; <strong class="userinput"><code>tar -C /usr/local -xzvf mysql-cluster-gpl-7.4.4-linux2.6.tar.gz</code></strong>
shell&gt; <strong class="userinput"><code>ln -s /usr/local/mysql-cluster-gpl-7.4.4-linux2.6-i686 /usr/local/mysql</code></strong>
</pre></li><li class="listitem"><p>
            <code class="filename">mysql</code> ディレクトリに移動し、システムデータベースを作成するための付属のスクリプトを実行します。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cd mysql</code></strong>
shell&gt; <strong class="userinput"><code>scripts/mysql_install_db --user=mysql</code></strong>
</pre></li><li class="listitem"><p>
            MySQL サーバーおよびデータディレクトリで必要なアクセス許可を設定します。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>chown -R root .</code></strong>
shell&gt; <strong class="userinput"><code>chown -R mysql data</code></strong>
shell&gt; <strong class="userinput"><code>chgrp -R mysql .</code></strong>
</pre></li><li class="listitem"><p>
            MySQL 起動スクリプトを適切なディレクトリにコピーし、実行可能にして、オペレーティングシステムがブートしたときに起動するように設定します。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cp support-files/mysql.server /etc/rc.d/init.d/</code></strong>
shell&gt; <strong class="userinput"><code>chmod +x /etc/rc.d/init.d/mysql.server</code></strong>
shell&gt; <strong class="userinput"><code>chkconfig --add mysql.server</code></strong>
</pre><p>
            (起動スクリプトのディレクトリは、オペレーティングシステムとバージョンによって異なります。たとえば、一部の Linux 配布では <code class="filename">/etc/init.d</code> です。)
          </p><p>
            ここでは、起動スクリプトへのリンクを作成するために Red Hat の <span class="command"><strong>chkconfig</strong></span> を使用します。使用しているプラットフォームのこの目的に適した何らかの手段 (Debian の <span class="command"><strong>update-rc.d</strong></span> など) を使用してください。
          </p></li></ol></div><p>
        前述の各ステップは、SQL ノードを配置するマシンごとに繰り返す必要があります。
      </p><p><b>データノード </b>
          データノードのインストールには、<span class="command"><strong>mysqld</strong></span> バイナリは必要ありません。MySQL Cluster のデータノード実行可能ファイル <span class="command"><strong>ndbd</strong></span> (シングルスレッド) または <span class="command"><strong>ndbmtd</strong></span> (マルチスレッド) のみが必要です。これらのバイナリも、<code class="filename">.tar.gz</code> アーカイブに含まれています。ここでも、このアーカイブが <code class="filename">/var/tmp</code> に配置されていると仮定します。
        </p><p>
        システムの <code class="literal">root</code> として (つまり、<span class="command"><strong>sudo</strong></span>、<span class="command"><strong>su root</strong></span>、または使用しているシステムでシステム管理者アカウントの特権を一時的に持つための同等のコマンドを使用したあとで)、次のステップを実行してデータノードホストにデータノードバイナリをインストールします。
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            <code class="filename">/var/tmp</code> ディレクトリに移動し、アーカイブに含まれる <span class="command"><strong>ndbd</strong></span> および <span class="command"><strong>ndbmtd</strong></span> バイナリを <code class="filename">/usr/local/bin</code> などの適切なディレクトリに抽出します。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cd /var/tmp</code></strong>
shell&gt; <strong class="userinput"><code>tar -zxvf mysql-5.6.22-ndb-7.4.4-linux-i686-glibc23.tar.gz</code></strong>
shell&gt; <strong class="userinput"><code>cd mysql-5.6.22-ndb-7.4.4-linux-i686-glibc23</code></strong>
shell&gt; <strong class="userinput"><code>cp bin/ndbd /usr/local/bin/ndbd</code></strong>
shell&gt; <strong class="userinput"><code>cp bin/ndbmtd /usr/local/bin/ndbmtd</code></strong>
</pre><p>
            (<span class="command"><strong>ndb_mgm</strong></span> および <span class="command"><strong>ndb_mgmd</strong></span> を実行可能ファイルのディレクトリにコピーしたあとは、ダウンロードしたアーカイブを解凍したときに作成されたディレクトリ (およびディレクトリ内のファイル) を <code class="filename">/var/tmp</code> から安全に削除できます。)
          </p></li><li class="listitem"><p>
            ファイルをコピーしたディレクトリに移動して、両方のファイルを実行可能にします。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cd /usr/local/bin</code></strong>
shell&gt; <strong class="userinput"><code>chmod +x ndb*</code></strong>
</pre></li></ol></div><p>
        前述のステップは、データノードホストごとに繰り返してください。
      </p><p>
        MySQL Cluster データノードを実行するために必要なのはいずれかのデータノード実行可能ファイルだけですが、前の説明では <span class="command"><strong>ndbd</strong></span> と <span class="command"><strong>ndbmtd</strong></span> の両方のインストール方法を示しました。MySQL Cluster をインストールまたはアップグレードするときは、どちらか一方のみを使用する予定であっても、あとでもう一方に変更する場合の時間と問題が減るため、このようにすることをお勧めします。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          データノードをホストする各マシン上のデータディレクトリは <code class="filename">/usr/local/mysql/data</code> です。この情報は、管理ノードを構成するときに重要になります。(<a class="xref" href="mysql-cluster.html#mysql-cluster-install-configuration" title="18.2.4 MySQL Cluster の初期構成">セクション18.2.4「MySQL Cluster の初期構成」</a>を参照してください。)
        </p></div><p><b>管理ノード </b>
          管理ノードのインストールには、<span class="command"><strong>mysqld</strong></span> バイナリは必要ありません。MySQL Cluster の管理サーバー (<span class="command"><strong>ndb_mgmd</strong></span>) のみが必要です。ほとんどの場合、管理クライアント (<span class="command"><strong>ndb_mgm</strong></span>) もインストールする必要があります。これらのバイナリは、どちらも <code class="filename">.tar.gz</code> アーカイブに含まれています。ここでも、このアーカイブが <code class="filename">/var/tmp</code> に配置されていると仮定します。
        </p><p>
        システムの <code class="literal">root</code> として、次のステップを実行して管理ノードホストに <span class="command"><strong>ndb_mgmd</strong></span> および <span class="command"><strong>ndb_mgm</strong></span> をインストールします。
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            <code class="filename">/var/tmp</code> ディレクトリに移動し、アーカイブに含まれる <span class="command"><strong>ndb_mgm</strong></span> および <span class="command"><strong>ndb_mgmd</strong></span> を <code class="filename">/usr/local/bin</code> などの適切なディレクトリに抽出します。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cd /var/tmp</code></strong>
shell&gt; <strong class="userinput"><code>tar -zxvf mysql-5.6.22-ndb-7.4.4-linux2.6-i686.tar.gz</code></strong>
shell&gt; <strong class="userinput"><code>cd mysql-5.6.22-ndb-7.4.4-linux2.6-i686</code></strong>
shell&gt; <strong class="userinput"><code>cp bin/ndb_mgm* /usr/local/bin</code></strong>
</pre><p>
            (<span class="command"><strong>ndb_mgm</strong></span> および <span class="command"><strong>ndb_mgmd</strong></span> を実行可能ファイルのディレクトリにコピーしたあとは、ダウンロードしたアーカイブを解凍したときに作成されたディレクトリ (およびディレクトリ内のファイル) を <code class="filename">/var/tmp</code> から安全に削除できます。)
          </p></li><li class="listitem"><p>
            ファイルをコピーしたディレクトリに移動して、両方のファイルを実行可能にします。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cd /usr/local/bin</code></strong>
shell&gt; <strong class="userinput"><code>chmod +x ndb_mgm*</code></strong>
</pre></li></ol></div><p>
        <a class="xref" href="mysql-cluster.html#mysql-cluster-install-configuration" title="18.2.4 MySQL Cluster の初期構成">セクション18.2.4「MySQL Cluster の初期構成」</a>では、この例の MySQL Cluster に含まれるすべてのノード用の構成ファイルを作成しています。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-install-linux-rpm"></a>18.2.2.2 RPM からの MySQL Cluster のインストール</h4></div></div></div><a class="indexterm" name="idm139979043510720"></a><a class="indexterm" name="idm139979043508672"></a><p>
        このセクションでは、オラクルが提供する RPM パッケージを使用して MySQL Cluster ノードの各タイプに対応する適切な実行可能ファイルをインストールするために必要なステップについて説明します。
      </p><p>
        RPM は、32 ビットと 64 ビットの両方の Linux プラットフォームで使用できます。これらの RPM のファイル名には、次のパターンが使用されています。
      </p><pre class="programlisting">
MySQL-Cluster-<em class="replaceable"><code>component</code></em>-<em class="replaceable"><code>producttype</code></em>-<em class="replaceable"><code>ndbversion</code></em>.<em class="replaceable"><code>distribution</code></em>.<em class="replaceable"><code>architecture</code></em>.rpm

<em class="replaceable"><code>component</code></em>:= {server | client [| <em class="replaceable"><code>other</code></em>]}

<em class="replaceable"><code>producttype</code></em>:= {gpl | advanced}

<em class="replaceable"><code>ndbversion</code></em>:= <em class="replaceable"><code>major</code></em>.<em class="replaceable"><code>minor</code></em>.<em class="replaceable"><code>release</code></em>

<em class="replaceable"><code>distribution</code></em>:= {sles10 | rhel5 | el6}

<em class="replaceable"><code>architecture</code></em>:= {i386 | x86_64}
</pre><p>
        <em class="replaceable"><code>component</code></em> は、<code class="literal">server</code> または <code class="literal">client</code> です。(ほかの値になる可能性もありますが、MySQL Cluster の正常なインストールには <code class="literal">server</code> および <code class="literal">client</code> コンポーネントのみが必要であるため、ここでは説明しません。)<a class="ulink" href="http://dev.mysql.com/downloads/cluster/" target="_top">http://dev.mysql.com/downloads/cluster/</a> からダウンロードした Community RPM の <em class="replaceable"><code>producttype</code></em> は常に <code class="literal">gpl</code> です。<code class="literal">advanced</code> は商用リリースを示すために使用されます。<em class="replaceable"><code>ndbversion</code></em> は、3 つの部分から成る (7.3.<em class="replaceable"><code>x</code></em> または 7.4.<em class="replaceable"><code>x</code></em> 形式の) <code class="literal">NDB</code> ストレージエンジンのバージョン番号を表します。<em class="replaceable"><code>distribution</code></em> は、<code class="literal">sles11</code> (SUSE Enterprise Linux 11)、<code class="literal">rhel5</code> (Oracle Linux 5、Red Hat Enterprise Linux 4 および 5)、<code class="literal">el6</code> (Oracle Linux 6、Red Hat Enterprise Linux 6) のいずれかです。<em class="replaceable"><code>architecture</code></em> は、32 ビット RPM の場合は <code class="literal">i386</code>、64 ビットバージョンの場合は <code class="literal">x86_64</code> です。
      </p><p>
        MySQL Cluster では、1 つ (場合によっては 2 つ) の RPM が必要です。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">NDBCLUSTER</code> ストレージエンジンのサポート付きで (つまり、MySQL Cluster の SQL ノードとして) MySQL Server を実行するために必要なコアファイルと、管理ノード、データノード、および <span class="command"><strong>ndb_mgm</strong></span> クライアントのバイナリを含むすべての MySQL Cluster 実行可能ファイルを提供する <code class="literal">server</code> RPM (たとえば、<code class="filename">MySQL-Cluster-server-gpl-7.3.9-1.sles11.i386.rpm</code> または <code class="filename">MySQL-Cluster-server-gpl-7.4.4-1.sles11.i386.rpm</code>)。MySQL Cluster をインストールするには、常にこの RPM が必要です。
          </p></li><li class="listitem"><p>
            MySQL サーバーを管理する機能を持つ独自のクライアントアプリケーションがない場合は、<span class="command"><strong>mysql</strong></span> クライアントを提供する <code class="literal">client</code> RPM (たとえば、<code class="filename">MySQL-Cluster-client-gpl-7.3.9-1.sles11.i386.rpm</code> または <code class="filename">MySQL-Cluster-client-gpl-7.4.4-1.sles11.i386.rpm</code>) も入手してインストールしてください。
          </p></li></ul></div><p>
        RPM ファイル名に含まれる MySQL Cluster のバージョン番号 (ここでは、MySQL Cluster NDB 7.3 と MySQL Cluster NDB 7.4 のどちらをインストールするかに応じて <code class="literal">7.3.9</code> または <code class="literal">7.4.4</code> として示したもの) は、実際に使用するバージョンによって異なります。<span class="emphasis"><em>インストールするすべてのクラスタ RPM のバージョン番号が同じになっていることが非常に重要です</em></span>。<em class="replaceable"><code>architecture</code></em> の指定も、RPM をインストールするマシンに適合するようにしてください。特に、32 ビットオペレーティングシステムでは 64 ビット RPM を使用できないことを留意してください。
      </p><p><b>データノード </b>
          クラスタのデータノードをホストするコンピュータには、<code class="literal">server</code> RPM のみをインストールする必要があります。これを行うには、この RPM をデータノードホストにコピーし、システムの root ユーザーとして次のコマンドを実行します。示された RPM の名前は、必要に応じて MySQL Web サイトからダウンロードした RPM の名前と一致するように置き換えてください。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>rpm -Uhv MySQL-Cluster-server-gpl-7.3.9-1.sles11.i386.rpm</code></strong>
</pre><p>
        または
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>rpm -Uhv MySQL-Cluster-server-gpl-7.4.4-1.sles11.i386.rpm</code></strong>
</pre><p>
        これによってすべての MySQL Cluster バイナリがインストールされますが、MySQL Cluster のデータノードを実行するために実際に必要なのは <span class="command"><strong>ndbd</strong></span> または <span class="command"><strong>ndbmtd</strong></span> プログラム (どちらも <code class="filename">/usr/sbin</code> にあります) だけです。
      </p><p><b>SQL ノード </b>
          クラスタの SQL ノードをホストするために使用される各マシンで、システムの root ユーザーとして次のコマンドを実行して <code class="literal">server</code> RPM をインストールします。示された RPM の名前は、必要に応じて MySQL Web サイトからダウンロードした RPM の名前と一致するように置き換えてください。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>rpm -Uhv MySQL-Cluster-server-gpl-7.3.9-1.sles11.i386.rpm</code></strong>
</pre><p>
        または
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>rpm -Uhv MySQL-Cluster-server-gpl-7.4.4-1.sles11.i386.rpm</code></strong>
</pre><p>
        これにより、<code class="literal">NDB</code> ストレージエンジンのサポートを含む MySQL サーバーバイナリ (<span class="command"><strong>mysqld</strong></span>) と必要なすべての MySQL Server サポートファイルが <code class="filename">/usr/sbin</code> ディレクトリにインストールされます。また、<span class="command"><strong>mysql.server</strong></span> および <span class="command"><strong>mysqld_safe</strong></span> 起動スクリプトも (それぞれ <code class="filename">/usr/share/mysql</code> および <code class="filename">/usr/bin</code> に) インストールされます。RPM インストーラでは、一般的な構成の問題 (必要に応じて <code class="literal">mysql</code> ユーザーおよびグループを作成するなど) に自動的に対応します。
      </p><p>
        SQL ノード (MySQL サーバー) を管理するには、ここに示すように <code class="literal">client</code> RPM もインストールするようにしてください。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>rpm -Uhv MySQL-Cluster-client-gpl-7.3.9-1.sles11.i386.rpm</code></strong>
</pre><p>
        または
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>rpm -Uhv MySQL-Cluster-client-gpl-7.4.4-1.sles11.i386.rpm</code></strong>
</pre><p>
        これにより、<span class="command"><strong>mysql</strong></span> クライアントプログラムがインストールされます。
      </p><p><b>管理ノード </b>
          MySQL Cluster の管理サーバーをインストールするには、<code class="literal">server</code> RPM のみを使用する必要があります。この RPM を管理ノードをホストするためのコンピュータにコピーし、システムの root ユーザーとして次のコマンドを実行して、この RPM をインストールします (示された RPM の名前は、必要に応じて MySQL Web サイトからダウンロードした <code class="literal">server</code> RPM の名前と一致するように置き換えてください)。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>rpm -Uhv MySQL-Cluster-server-gpl-7.3.9-1.sles11.i386.rpm</code></strong>
</pre><p>
        または
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>rpm -Uhv MySQL-Cluster-server-gpl-7.4.4-1.sles11.i386.rpm</code></strong>
</pre><p>
        この RPM によってほかの多くのファイルがインストールされますが、管理ノードを実行するために実際に必要なのは管理サーバーバイナリ <span class="command"><strong>ndb_mgmd</strong></span> (<code class="filename">/usr/sbin</code> ディレクトリにあります) だけです。<code class="literal">server</code> RPM によって、<code class="literal">NDB</code> の管理クライアントである <span class="command"><strong>ndb_mgm</strong></span> もインストールされます。
      </p><p>
        オラクルが提供する RPM を使った MySQL のインストールに関する一般的な情報は、<a class="xref" href="installing.html#linux-installation-rpm" title="2.5.5 RPM パッケージを使用して MySQL を Linux にインストールする">セクション2.5.5「RPM パッケージを使用して MySQL を Linux にインストールする」</a>を参照してください。
      </p><p>
        RPM からインストールしたあとは、<a class="xref" href="mysql-cluster.html#mysql-cluster-install-configuration" title="18.2.4 MySQL Cluster の初期構成">セクション18.2.4「MySQL Cluster の初期構成」</a>の説明に従ってクラスタを構成する必要もあります。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL Cluster NDB 7.1 で使用されていた一部の RPM は、MySQL Cluster NDB 7.3 で非推奨になり、廃止されました。これには、以前の <code class="literal">MySQL-Cluster-clusterj</code>、<code class="literal">MySQL-Cluster-extra</code>、<code class="literal">MySQL-Cluster-management</code>、<code class="literal">MySQL-Cluster-storage</code>、および <code class="literal">MySQL Cluster-tools</code> RPM が含まれます。このパッケージの以前の内容は、現在 <code class="literal">MySQL-Cluster-server</code> RPM に含まれています。
        </p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-install-linux-source"></a>18.2.2.3 Linux でのソースからの MySQL Cluster のビルド</h4></div></div></div><a class="indexterm" name="idm139979043419872"></a><a class="indexterm" name="idm139979043417664"></a><p>
        このセクションでは、Linux およびその他の Unix 系プラットフォームでの MySQL Cluster のコンパイルについて説明します。ソースからの MySQL Cluster のビルドは、標準の MySQL Server のビルドとほぼ同じですが、ここで説明するいくつかの重要な点が異なります。ソースからの MySQL のビルドに関する一般的な情報は、<a class="xref" href="installing.html#source-installation" title="2.9 ソースから MySQL をインストールする">セクション2.9「ソースから MySQL をインストールする」</a>を参照してください。Windows プラットフォームでの MySQL Cluster のコンパイルについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows-source" title="18.2.3.2 Windows でのソースからの MySQL Cluster のコンパイルとインストール">セクション18.2.3.2「Windows でのソースからの MySQL Cluster のコンパイルとインストール」</a>を参照してください。
      </p><p>
        MySQL Cluster をビルドするには、MySQL Cluster ソースを使用する必要があります。これらは、MySQL Cluster のダウンロードページ (<a class="ulink" href="http://dev.mysql.com/downloads/cluster/" target="_top">http://dev.mysql.com/downloads/cluster/</a>) から入手できます。アーカイブされたソースファイルには、<code class="filename">mysql-cluster-gpl-7.3.9.tar.gz</code> (MySQL Cluster NDB 7.3) や <code class="filename">mysql-cluster-gpl-7.4.4.tar.gz</code> (MySQL Cluster NDB 7.4) のような名前が付いています。<a class="ulink" href="launchpad.net" target="_top">launchpad.net</a> から MySQL の開発ソースを入手することもできます。<span class="emphasis"><em>標準の MySQL Server 5.6 ソースからの MySQL Cluster のビルドはサポートされません</em></span>。
      </p><p>
        <span class="command"><strong>CMake</strong></span> に <code class="option">WITH_NDBCLUSTER_STORAGE_ENGINE</code> オプションを指定すると、管理ノード、データノード、およびその他の MySQL Cluster プログラムのバイナリがビルドされます。また、これによって <code class="literal">NDB</code> ストレージエンジンのサポート付きで <span class="command"><strong>mysqld</strong></span> がコンパイルされます。このオプションは、MySQL Cluster NDB 7.3 以降のソースではデフォルトで有効になっています。
      </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
          MySQL Cluster NDB 7.3 以降では、<code class="option">WITH_NDB_JAVA</code> オプションがデフォルトで有効になっています。つまり、デフォルトでは <span class="command"><strong>CMake</strong></span> でシステム上の Java の場所が見つからなかった場合に構成プロセスが失敗します。Java および ClusterJ のサポートを有効にしない場合は、<code class="option">-DWITH_NDB_JAVA=OFF</code> を使用してビルドを構成することで、これを明示的に示す必要があります。必要な場合は、<code class="option">WITH_CLASSPATH</code> を使用して Java クラスパスを指定します。
        </p></div><p>
        MySQL Cluster のビルドに固有の <span class="command"><strong>CMake</strong></span> オプションの詳細は、<a class="link" href="installing.html#cmake-mysql-cluster-options" title="MySQL Cluster のコンパイルのための CMake オプション">MySQL Cluster をコンパイルするためのオプション</a>を参照してください。
      </p><p>
        <span class="command"><strong>make &amp;&amp; make install</strong></span> (または使用しているシステムの同等のコマンド) を実行すると、同じ場所に事前コンパイル済みバイナリを解凍した場合と同じ結果が得られます。
      </p><p><b>管理ノード </b>
          ソースからビルドしてデフォルトの <span class="command"><strong>make install</strong></span> を実行すると、管理サーバーと管理クライアントのバイナリ (<span class="command"><strong>ndb_mgmd</strong></span> と <span class="command"><strong>ndb_mgm</strong></span>) が <code class="filename">/usr/local/mysql/bin</code> に見つかります。管理ノードホストに配置する必要があるのは <span class="command"><strong>ndb_mgmd</strong></span> だけですが、同じホストマシンに <span class="command"><strong>ndb_mgm</strong></span> も配置することをお勧めします。これらの実行可能ファイルは、どちらもホストマシンのファイルシステム上の特定の場所に配置する必要はありません。
        </p><p><b>データノード </b>
          データノードホストに配置する必要がある実行可能ファイルは、データノードバイナリ <span class="command"><strong>ndbd</strong></span> または <span class="command"><strong>ndbmtd</strong></span> だけです。(たとえば、<span class="command"><strong>mysqld</strong></span> をホストマシンに配置する必要はありません。)ソースからビルドすると、デフォルトではこのファイルは <code class="filename">/usr/local/mysql/bin</code> ディレクトリに配置されます。複数のデータノードホストにインストールする場合、ほかのマシンにコピーする必要があるのは <span class="command"><strong>ndbd</strong></span> または <span class="command"><strong>ndbmtd</strong></span> だけです。(これは、すべてのデータノードホストで同じアーキテクチャーとオペレーティングシステムが使用されていることが前提です。そうでない場合は、異なるプラットフォームごとに別個にコンパイルする必要がある可能性があります。)データノードバイナリは、その場所が既知であるかぎり、ホストのファイルシステム上の特定の場所に配置する必要はありません。
        </p><p>
        ソースから MySQL Cluster をコンパイルする場合、マルチスレッドのデータノードバイナリをビルドするために特別なオプションは必要ありません。<code class="literal">NDB</code> ストレージエンジンのサポート付きでビルドを構成すると、自動的に <span class="command"><strong>ndbmtd</strong></span> がビルドされます。<span class="command"><strong>make install</strong></span> を実行すると、<span class="command"><strong>ndbmtd</strong></span> バイナリは <span class="command"><strong>mysqld</strong></span>、<span class="command"><strong>ndbd</strong></span>、および <span class="command"><strong>ndb_mgm</strong></span> とともにインストールの <code class="filename">bin</code> ディレクトリに配置されます。
      </p><p><b>SQL ノード </b>
          クラスタリングのサポート付きで MySQL をコンパイルし、デフォルトのインストールを実行 (システムの <code class="literal">root</code> ユーザーとして <span class="command"><strong>make install</strong></span> を使用) すると、<span class="command"><strong>mysqld</strong></span> は <code class="filename">/usr/local/mysql/bin</code> に配置されます。<a class="xref" href="installing.html#source-installation" title="2.9 ソースから MySQL をインストールする">セクション2.9「ソースから MySQL をインストールする」</a>に示したステップに従って、<span class="command"><strong>mysqld</strong></span> を使用できるようにします。複数の SQL ノードを実行する場合は、同じ <span class="command"><strong>mysqld</strong></span> 実行可能ファイルと関連するサポートファイルのコピーを複数のマシンで使用できます。これを実行するもっとも簡単な方法は、<code class="filename">/usr/local/mysql</code> ディレクトリ全体およびその内部に含まれているすべてのディレクトリとファイルをほかの SQL ノードホストにコピーし、各マシンで<a class="xref" href="installing.html#source-installation" title="2.9 ソースから MySQL をインストールする">セクション2.9「ソースから MySQL をインストールする」</a>のステップを繰り返すことです。デフォルトではない <code class="option">PREFIX</code> オプションを指定してビルドを構成する場合は、それに合わせてディレクトリを調整する必要があります。
        </p><p>
        <a class="xref" href="mysql-cluster.html#mysql-cluster-install-configuration" title="18.2.4 MySQL Cluster の初期構成">セクション18.2.4「MySQL Cluster の初期構成」</a>では、この例の MySQL Cluster に含まれるすべてのノード用の構成ファイルを作成しています。
      </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-install-windows"></a>18.2.3 Windows での MySQL Cluster のインストール</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-windows-binary">18.2.3.1 Windows でのバイナリリリースからの MySQL Cluster のインストール</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-windows-source">18.2.3.2 Windows でのソースからの MySQL Cluster のコンパイルとインストール</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-windows-initial-start">18.2.3.3 Windows での MySQL Cluster の初期起動</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-windows-service">18.2.3.4 Windows サービスとしての MySQL Cluster プロセスのインストール</a></span></dt></dl></div><a class="indexterm" name="idm139979043363360"></a><a class="indexterm" name="idm139979043361312"></a><p>
      このセクションでは、Windows ホストでの MySQL Cluster のインストール手順について説明します。Windows 用の MySQL Cluster NDB 7.3 および MySQL Cluster NDB 7.4 バイナリは、<a class="ulink" href="http://dev.mysql.com/downloads/cluster/" target="_top">http://dev.mysql.com/downloads/cluster/</a> から入手できます。Windows でオラクルが提供するバイナリリリースから MySQL Cluster をインストールする方法については、<a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows-binary" title="18.2.3.1 Windows でのバイナリリリースからの MySQL Cluster のインストール">セクション18.2.3.1「Windows でのバイナリリリースからの MySQL Cluster のインストール」</a>を参照してください。
    </p><p>
      Windows では、Microsoft Visual Studio を使用してソースから MySQL Cluster をコンパイルしてインストールすることもできます。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows-source" title="18.2.3.2 Windows でのソースからの MySQL Cluster のコンパイルとインストール">セクション18.2.3.2「Windows でのソースからの MySQL Cluster のコンパイルとインストール」</a>を参照してください。
    </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-install-windows-binary"></a>18.2.3.1 Windows でのバイナリリリースからの MySQL Cluster のインストール</h4></div></div></div><a class="indexterm" name="idm139979043353840"></a><a class="indexterm" name="idm139979043351616"></a><p>
        このセクションでは、オラクルが提供する MySQL Cluster の <code class="literal">no-install</code> バイナリリリースを使用した MySQL Cluster の基本的なインストールについて説明します。ここでは、次の表に示すように、このセクションの冒頭 (<a class="xref" href="mysql-cluster.html#mysql-cluster-installation" title="18.2 MySQL Cluster のインストール">セクション18.2「MySQL Cluster のインストール」</a>を参照してください) で概説したのと同じ 4 ノードのセットアップを使用します。
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">ノード</th><th scope="col">IP アドレス</th></tr></thead><tbody><tr><td scope="row">管理 (MGMD) ノード</td><td>192.168.0.10</td></tr><tr><td scope="row">MySQL サーバー (SQL) ノード</td><td>192.168.0.20</td></tr><tr><td scope="row">データ (NDBD) ノード "A"</td><td>192.168.0.30</td></tr><tr><td scope="row">データ (NDBD) ノード "B"</td><td>192.168.0.40</td></tr></tbody></table></div><p>
        ほかのプラットフォームと同様に、SQL ノードを実行する MySQL Cluster ホストコンピュータには MySQL Server バイナリ (<span class="command"><strong>mysqld.exe</strong></span>) をインストールする必要があります。このホストには MySQL クライアント (<span class="command"><strong>mysql.exe</strong></span>) も配置するようにしてください。管理ノードおよびデータノードに MySQL Server バイナリをインストールする必要はありません。各管理サーバーには、管理サーバーデーモン (<span class="command"><strong>ndb_mgmd.exe</strong></span>) が必要です。各データノードには、データノードデーモン (<span class="command"><strong>ndbd.exe</strong></span> または <span class="command"><strong>ndbmtd.exe</strong></span>) が必要です。この例では <span class="command"><strong>ndbd.exe</strong></span> をデータノード実行可能ファイルと呼びますが、代わりにこのプログラムのマルチスレッドバージョンである <span class="command"><strong>ndbmtd.exe</strong></span> をまったく同じ方法でインストールできます。管理サーバーホストには、管理クライアント (<span class="command"><strong>ndb_mgm.exe</strong></span>) もインストールするようにしてください。このセクションでは、MySQL Cluster ノードの各タイプに対応する適切な Windows バイナリをインストールするのに必要なステップについて説明します。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          ほかの Windows プログラムと同様に、MySQL Cluster 実行可能ファイルの名前には <code class="filename">.exe</code> ファイル拡張子が付けられています。ただし、コマンド行からこれらのプログラムを起動するときに <code class="filename">.exe</code> 拡張子を含める必要はありません。そのため、このドキュメントでは多くの場合、これらのプログラムを <span class="command"><strong>mysqld</strong></span>、<span class="command"><strong>mysql</strong></span>、<span class="command"><strong>ndb_mgmd</strong></span> などと呼びます。ここでは、(たとえば) <span class="command"><strong>mysqld</strong></span> と <span class="command"><strong>mysqld.exe</strong></span> のどちらの呼び方であっても、どちらの名前も同じもの (MySQL Server プログラム) を意味しています。
        </p></div><p>
        オラクルの <code class="literal">no-install</code> バイナリを使用して MySQL Cluster をセットアップする場合は、インストールプロセスの最初のステップとして、<a class="ulink" href="http://dev.mysql.com/downloads/cluster/" target="_top">http://dev.mysql.com/downloads/cluster/</a> から最新の MySQL Cluster Windows バイナリアーカイブをダウンロードします。このアーカイブには、<code class="filename">mysql-cluster-gpl-noinstall-<em class="replaceable"><code>ver</code></em>-win<em class="replaceable"><code>arch</code></em>.zip</code> という形式のファイル名が付けられます。<em class="replaceable"><code>ver</code></em> は <code class="literal">NDB</code> ストレージエンジンのバージョン (<code class="literal">7.3.1</code> など) であり、<em class="replaceable"><code>arch</code></em> はアーキテクチャー (32 ビットバイナリの場合は <code class="literal">32</code>、64 ビットバイナリの場合は <code class="literal">64</code>) です。たとえば、MySQL Cluster NDB 7.3.1 の 32 ビット Windows システム用 <code class="literal">no-install</code> アーカイブの名前は <code class="filename">mysql-cluster-gpl-noinstall-7.3.1-win32.zip</code> です。
      </p><p>
        32 ビット MySQL Cluster バイナリは Windows の 32 ビットと 64 ビットの両方のバージョンで実行できますが、64 ビット MySQL Cluster バイナリは Windows の 64 ビットバージョンでのみ使用できます。64 ビット CPU を搭載したコンピュータで Windows の 32 ビットバージョンを使用する場合は、32 ビット MySQL Cluster バイナリを使用する必要があります。
      </p><p>
        インターネットからダウンロードしたりマシン間でコピーしたりする必要があるファイルの数を最小限に抑えるため、ここでは SQL ノードを実行するコンピュータから始めます。
      </p><p><b>SQL ノード </b>
          ここでは、IP アドレスが 192.168.0.20 であるコンピュータ上の <code class="filename">C:\Documents and Settings\<em class="replaceable"><code>username</code></em>\My Documents\Downloads</code> (<em class="replaceable"><code>username</code></em> は現在のユーザーの名前です) ディレクトリに <code class="literal">no-install</code> アーカイブのコピーが配置されていると仮定します。(この名前は、コマンド行で <code class="literal">ECHO %USERNAME%</code> を使用すると表示されます。)MySQL Cluster 実行可能ファイルを Windows サービスとしてインストールおよび実行するには、このユーザーが <code class="literal">Administrators</code> グループのメンバーになります。
        </p><p>
        アーカイブからすべてのファイルを抽出します。このタスクには、Windows Explorer に組み込まれた抽出ウィザードが適しています。(別のアーカイブプログラムを使用する場合は、アーカイブからすべてのファイルとディレクトリが抽出されたこと、アーカイブのディレクトリ構造が維持されていることを確認してください。)出力先のディレクトリを求められたら、<code class="filename">C:\</code> と入力します。抽出ウィザードによってディレクトリ <code class="filename">C:\mysql-cluster-gpl-noinstall-<em class="replaceable"><code>ver</code></em>-win<em class="replaceable"><code>arch</code></em></code> にアーカイブが抽出されます。このディレクトリの名前を <code class="filename">C:\mysql</code> に変更します。
      </p><p>
        MySQL Cluster バイナリを <code class="filename">C:\mysql\bin</code> 以外のディレクトリにインストールすることもできますが、その場合は、この手順に示されているパスをそれに合わせて変更する必要があります。特に、MySQL Server (SQL ノード) バイナリを <code class="filename">C:\mysql</code> または <code class="filename">C:\Program Files\MySQL\MySQL Server 5.6</code> 以外の場所にインストールした場合や、SQL ノードのデータディレクトリが <code class="filename">C:\mysql\data</code> または <code class="filename">C:\Program Files\MySQL\MySQL Server 5.6\data</code> 以外の場所にある場合は、SQL ノードの起動時に、追加の構成オプションをコマンド行で使用するか、<code class="filename">my.ini</code> または <code class="filename">my.cnf</code> ファイルに追加する必要があります。標準以外の場所で実行するように MySQL Server を構成する方法の詳細は、<a class="xref" href="installing.html#windows-install-archive" title="2.3.5 非インストール Zip アーカイブを使用して Microsoft Windows に MySQL をインストールする">セクション2.3.5「非インストール Zip アーカイブを使用して Microsoft Windows に MySQL をインストールする」</a>を参照してください。
      </p><p>
        MySQL Cluster サポートを含む MySQL Server を MySQL Cluster の一部として実行するには、<code class="option">--ndbcluster</code> および <code class="option">--ndb-connectstring</code> オプションを指定して起動する必要があります。これらのオプションは、コマンド行で指定することもできますが、通常はオプションファイルに設定する方が便利です。そのためには、メモ帳などのテキストエディタで新しいテキストファイルを作成します。このファイルに次の構成情報を入力します。
      </p><pre class="programlisting">
[mysqld]
# Options for mysqld process:
ndbcluster                      # run NDB storage engine
ndb-connectstring=192.168.0.10  # location of management server
</pre><p>
        この MySQL Server が使用するほかのオプション (<a class="xref" href="installing.html#windows-create-option-file" title="2.3.5.2 オプションファイルの作成">セクション2.3.5.2「オプションファイルの作成」</a>を参照してください) を必要に応じて追加できますが、このファイルには少なくともここに示したオプションを含める必要があります。このファイルを <code class="filename">C:\mysql\my.ini</code> として保存します。これで、SQL ノードのインストールとセットアップが完了します。
      </p><p><b>データノード </b>
          Windows ホストの MySQL Cluster データノードには、<span class="command"><strong>ndbd.exe</strong></span> または <span class="command"><strong>ndbmtd.exe</strong></span> のいずれか 1 つの実行可能ファイルのみが必要です。この例では、<span class="command"><strong>ndbd.exe</strong></span> を使用すると仮定しますが、<span class="command"><strong>ndbmtd.exe</strong></span> を使用するときも同じ手順が適用されます。データノードを実行する各コンピュータ (IP アドレスが 192.168.0.30 および 192.168.0.40 のコンピュータ) で、<code class="filename">C:\mysql</code>、<code class="filename">C:\mysql\bin</code>、および <code class="filename">C:\mysql\cluster-data</code> の各ディレクトリを作成します。次に、<code class="literal">no-install</code> アーカイブをダウンロードして抽出したコンピュータで、<code class="filename">C:\mysql\bin</code> ディレクトリ内の <code class="filename">ndbd.exe</code> を見つけます。このファイルを 2 台のデータノードホストの <code class="filename">C:\mysql\bin</code> ディレクトリにそれぞれコピーします。
        </p><p>
        データノードを MySQL Cluster の一部として機能させるには、各ノードに対して管理サーバーのアドレスまたはホスト名を指定する必要があります。この情報を指定するには、各データノードプロセスの起動時にコマンド行で <code class="option">--ndb-connectstring</code> または <code class="option">-c</code> オプションを使用します。ただし、通常はオプションファイルにこの情報を指定することをお勧めします。そのためには、メモ帳などのテキストエディタで新しいテキストファイルを作成して、次のテキストを入力します。
      </p><pre class="programlisting">
[mysql_cluster]
# Options for data node process:
ndb-connectstring=192.168.0.10  # location of management server
</pre><p>
        このファイルをデータノードホストに <code class="filename">C:\mysql\my.ini</code> として保存します。もう一方のデータノードホストで同じ内容を含むテキストファイルをもう 1 つ作成し、それを <code class="filename">C:mysql\my.ini</code> として保存するか、my.ini ファイルを 1 つ目のデータノードホストから 2 つ目のデータノードホストにコピーし、そのコピーを 2 つ目のデータノードの <code class="filename">C:\mysql</code> ディレクトリに確実に配置します。これで、両方のデータノードホストを MySQL Cluster で使用できるようになりました。あとは、管理ノードをインストールして構成するだけです。
      </p><p><b>管理ノード </b>
          MySQL Cluster 管理ノードのホストとして使用するコンピュータに必要な実行可能プログラムは、管理サーバープログラム <span class="command"><strong>ndb_mgmd.exe</strong></span> だけです。ただし、起動された MySQL Cluster を管理するため、管理サーバーと同じマシンに MySQL Cluster 管理クライアントプログラム <span class="command"><strong>ndb_mgm.exe</strong></span> もインストールしてください。<code class="literal">no-install</code> アーカイブをダウンロードして抽出したマシンで、これら 2 つのプログラムを見つけます。これは、SQL ノードホストの <code class="filename">C:\mysql\bin</code> ディレクトリになります。IP アドレスが 192.168.0.10 であるコンピュータに <code class="filename">C:\mysql\bin</code> ディレクトリを作成し、両方のプログラムをこのディレクトリにコピーします。
        </p><p>
        ここで、<code class="filename">ndb_mgmd.exe</code> が使用する 2 つの構成ファイルを作成してください。
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            管理ノード自体に固有の構成データを提供するローカル構成ファイル。通常、このファイルに指定する必要があるのは、MySQL Cluster グローバル構成ファイル (項目 2 を参照してください) の場所だけです。
          </p><p>
            このファイルを作成するには、メモ帳などのテキストエディタで新しいテキストファイルを作成し、次の情報を入力します。
          </p><pre class="programlisting">
[mysql_cluster]
# Options for management node process
config-file=C:/mysql/bin/config.ini
</pre><p>
            このファイルをプレーンテキストファイル <code class="filename">C:\mysql\bin\my.ini</code> として保存します。
          </p></li><li class="listitem"><p>
            管理ノードが MySQL Cluster 全体を制御する構成情報を取得できるグローバル構成ファイル。このファイルには、少なくとも MySQL Cluster 内の各ノード用のセクションと、管理ノードおよびすべてのデータノードの IP アドレスまたはホスト名 (<code class="literal">HostName</code> 構成パラメータ) が含まれている必要があります。また、次の追加情報も含めることをお勧めします。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                SQL ノードの IP アドレスまたはホスト名
              </p></li><li class="listitem"><p>
                各データノードに割り当てられたデータメモリーおよびインデックスメモリー (<code class="literal">DataMemory</code> および <code class="literal">IndexMemory</code> 構成パラメータ)
              </p></li><li class="listitem"><p>
                レプリカの数 (<code class="literal">NoOfReplicas</code> 構成パラメータを使用します。<a class="xref" href="mysql-cluster.html#mysql-cluster-nodes-groups" title="18.1.2 MySQL Cluster のノード、ノードグループ、レプリカ、およびパーティション">セクション18.1.2「MySQL Cluster のノード、ノードグループ、レプリカ、およびパーティション」</a>を参照してください)
              </p></li><li class="listitem"><p>
                各データノードがデータおよびログファイルを格納するディレクトリと、管理ノードがログファイルを保持するディレクトリ (どちらの場合も、<code class="literal">DataDir</code> 構成パラメータ)
              </p></li></ul></div><p>
            メモ帳などのテキストエディタを使用して新しいテキストファイルを作成し、次の情報を入力します。
          </p><pre class="programlisting">
[ndbd default]
# Options affecting ndbd processes on all data nodes:
NoOfReplicas=2                      # Number of replicas
DataDir=C:/mysql/cluster-data       # Directory for each data node's data files
                                    # Forward slashes used in directory path,
                                    # rather than backslashes. This is correct;
                                    # see <span class="bold"><strong>Important</strong></span> note in text
DataMemory=80M    # Memory allocated to data storage
IndexMemory=18M   # Memory allocated to index storage
                  # For DataMemory and IndexMemory, we have used the
                  # default values. Since the "world" database takes up
                  # only about 500KB, this should be more than enough for
                  # this example Cluster setup.

[ndb_mgmd]
# Management process options:
HostName=192.168.0.10               # Hostname or IP address of management node
DataDir=C:/mysql/bin/cluster-logs   # Directory for management node log files

[ndbd]
# Options for data node "A":
                                # (one [ndbd] section per data node)
HostName=192.168.0.30           # Hostname or IP address

[ndbd]
# Options for data node "B":
HostName=192.168.0.40           # Hostname or IP address

[mysqld]
# SQL node options:
HostName=192.168.0.20           # Hostname or IP address
</pre><p>
            このファイルをプレーンテキストファイル <code class="filename">C:\mysql\bin\config.ini</code> として保存します。
          </p></li></ol></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
          Windows 上の MySQL Cluster が使用するプログラムオプションまたは構成ファイルでは、ディレクトリパスを指定するときに単独のバックスラッシュ文字 (<code class="literal">\</code>) を使用できません。代わりに、個々のバックスラッシュ文字を 2 つ目のバックスラッシュ (<code class="literal">\\</code>) でエスケープするか、バックスラッシュをスラッシュ文字 (<code class="literal">/</code>) に置き換えてください。たとえば、MySQL Cluster の <code class="filename">config.ini</code> ファイルの <code class="literal">[ndb_mgmd]</code> セクションから抜粋した次の行は機能しません。
        </p><pre class="programlisting">
DataDir=C:\mysql\bin\cluster-logs
</pre><p>
          代わりに、次のいずれかを使用できます。
        </p><pre class="programlisting">
DataDir=C:\\mysql\\bin\\cluster-logs  # Escaped backslashes
</pre><pre class="programlisting">
DataDir=C:/mysql/bin/cluster-logs     # Forward slashes
</pre><p>
          簡潔さと読みやすさのため、Windows 上の MySQL Cluster プログラムのオプションや構成ファイルで使用するディレクトリパスには、スラッシュを使用することをお勧めします。
        </p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-install-windows-source"></a>18.2.3.2 Windows でのソースからの MySQL Cluster のコンパイルとインストール</h4></div></div></div><a class="indexterm" name="idm139979043229440"></a><a class="indexterm" name="idm139979043227264"></a><p>
        オラクルは、ほとんどのユーザーに適合する事前コンパイル済みの Windows 用 MySQL Cluster バイナリを提供しています。ただし、必要な場合はソースコードから Windows 用の MySQL Cluster をコンパイルすることもできます。これを実行する手順は、標準の Windows 用 MySQL Server バイナリをコンパイルする場合の手順とほぼ同じであり、同じツールを使用します。ただし、2 つの大きな違いがあります。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            MySQL Cluster をビルドするには、<a class="ulink" href="http://dev.mysql.com/downloads/cluster/" target="_top">http://dev.mysql.com/downloads/cluster/</a> から入手できる MySQL Cluster ソースを使用する必要があります。
          </p><p>
            標準の MySQL Server のソースコードから MySQL Cluster をビルドしようとすると、失敗する可能性が高く、オラクルではサポートされません。
          </p></li><li class="listitem"><p>
            <span class="command"><strong>CMake</strong></span> で使用するほかのビルドオプションに加えて、<code class="option">WITH_NDBCLUSTER_STORAGE_ENGINE</code> または <code class="option">WITH_NDBCLUSTER</code> オプションを使用してビルドを構成する必要があります。(<code class="option">WITH_NDBCLUSTER</code> は <code class="option">WITH_NDBCLUSTER_STORAGE_ENGINE</code> のエイリアスとしてサポートされており、まったく同じように機能します。)
          </p></li></ul></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
          MySQL Cluster NDB 7.3 以降では、<code class="option">WITH_NDB_JAVA</code> オプションがデフォルトで有効になっています。つまり、デフォルトでは <span class="command"><strong>CMake</strong></span> でシステム上の Java の場所が見つからなかった場合に構成プロセスが失敗します。Java および ClusterJ のサポートを有効にしない場合は、<code class="option">-DWITH_NDB_JAVA=OFF</code> を使用してビルドを構成することで、これを明示的に示す必要があります。(Bug #12379735) 必要な場合は、<code class="option">WITH_CLASSPATH</code> を使用して Java クラスパスを指定します。
        </p></div><p>
        MySQL Cluster のビルドに固有の <span class="command"><strong>CMake</strong></span> オプションの詳細は、<a class="link" href="installing.html#cmake-mysql-cluster-options" title="MySQL Cluster のコンパイルのための CMake オプション">MySQL Cluster をコンパイルするためのオプション</a>を参照してください。
      </p><p>
        ビルドプロセスが完了したら、コンパイルされたバイナリを含む Zip アーカイブを作成できます。Windows システムでこのタスクを実行するのに必要なコマンドについては、<a class="xref" href="installing.html#installing-source-distribution" title="2.9.2 標準ソース配布を使用して MySQL をインストールする">セクション2.9.2「標準ソース配布を使用して MySQL をインストールする」</a>を参照してください。MySQL Cluster バイナリは、生成されたアーカイブの <code class="filename">bin</code> ディレクトリに含まれています。このアーカイブは <code class="literal">no-install</code> アーカイブと同等であり、同じ方法でインストールおよび構成できます。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows-binary" title="18.2.3.1 Windows でのバイナリリリースからの MySQL Cluster のインストール">セクション18.2.3.1「Windows でのバイナリリリースからの MySQL Cluster のインストール」</a>を参照してください。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-install-windows-initial-start"></a>18.2.3.3 Windows での MySQL Cluster の初期起動</h4></div></div></div><a class="indexterm" name="idm139979043204800"></a><p>
        MySQL Cluster の実行可能ファイルと必要な構成ファイルを配置したあと、クラスタの初期起動を行うには、単純にクラスタ内のすべてのノードで MySQL Cluster の実行可能ファイルを起動します。各クラスタノードプロセスは、それが配置されているホストコンピュータ上で別個に起動する必要があります。最初に管理ノード、次にデータノード、最後に SQL ノードを起動するようにしてください。
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            管理ノードホストでは、コマンド行から次のコマンドを発行して管理ノードプロセスを起動します。ここに示すような出力が表示されます。
          </p><pre class="programlisting">
C:\mysql\bin&gt; <strong class="userinput"><code>ndb_mgmd</code></strong>
2010-06-23 07:53:34 [MgmtSrvr] INFO -- NDB Cluster Management Server. mysql-5.6.22-ndb-7.4.4
2010-06-23 07:53:34 [MgmtSrvr] INFO -- Reading cluster configuration from 'config.ini'
</pre><p>
            管理ノードプロセスは、ロギング出力をコンソールに出力し続けます。管理ノードは Windows サービスとして実行されていないため、これは正常な動作です。(Linux などの Unix 系プラットフォームで MySQL Cluster を使用したことがある場合は、これに関する Windows での管理ノードのデフォルトの動作が実質的に Unix システムの動作 (デフォルトでは Unix デーモンプロセスとして実行されます) と逆であることに気付くでしょう。この動作は、Windows で実行される MySQL Cluster データノードプロセスにも当てはまります。)このため、<span class="command"><strong>ndb_mgmd.exe</strong></span> が実行されているウィンドウを閉じないでください。閉じると、管理ノードプロセスが強制終了されます。(MySQL Cluster プロセスを Windows サービスとしてインストールして実行する方法については、<a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows-service" title="18.2.3.4 Windows サービスとしての MySQL Cluster プロセスのインストール">セクション18.2.3.4「Windows サービスとしての MySQL Cluster プロセスのインストール」</a>を参照してください。)
          </p><p>
            必須の <code class="option">-f</code> オプションで、管理ノードにグローバル構成ファイル (<code class="filename">config.ini</code>) がある場所を指示します。このオプションの長形式は <code class="option">--config-file</code> です。
          </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
              MySQL Cluster 管理ノードは、<code class="filename">config.ini</code> から読み取った構成データをキャッシュします。構成キャッシュが作成されたあとは、強制的に読み取りを行わないかぎり、その後の起動時に <code class="filename">config.ini</code> ファイルは無視されます。つまり、このファイル内のエラーが原因で管理ノードが起動に失敗した場合は、エラーを修正してから、管理ノードに <code class="filename">config.ini</code> を再度読み取らせる必要があります。これを行うには、コマンド行で <code class="option">--reload</code> または <code class="option">--initial</code> オプションを指定して <span class="command"><strong>ndb_mgmd.exe</strong></span> を起動します。これらのオプションは、どちらも構成キャッシュをリフレッシュする機能を持っています。
            </p><p>
              管理ノードの <code class="filename">my.ini</code> ファイルでこれらのオプションのいずれかを使用することは、必要ないか、または推奨されません。
            </p></div><p>
            <span class="command"><strong>ndb_mgmd</strong></span> で使用できるオプションに関する追加情報は、<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="18.4.4 ndb_mgmd — MySQL Cluster 管理サーバーデーモン">セクション18.4.4「<span class="command"><strong>ndb_mgmd</strong></span> — MySQL Cluster 管理サーバーデーモン」</a>および<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="18.4.27 MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション">セクション18.4.27「MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション」</a>を参照してください。
          </p></li><li class="listitem"><p>
            各データノードホストで、ここに示すコマンドを実行してデータノードプロセスを起動します。
          </p><pre class="programlisting">
C:\mysql\bin&gt; <strong class="userinput"><code>ndbd</code></strong>
2010-06-23 07:53:46 [ndbd] INFO -- Configuration fetched from 'localhost:1186', generation: 1
</pre><p>
            いずれの場合も、データノードプロセスによって生成される出力の最初の行は前の例で示したものと似ていますが、そのあとにロギング出力の行が追加されます。管理ノードと同様に、データノードは Windows サービスとして実行されていないため、これは正常な動作です。このため、データノードプロセスが実行されているコンソールウィンドウを閉じないでください。閉じると、<span class="command"><strong>ndbd.exe</strong></span> が強制終了されます。(詳細は<a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows-service" title="18.2.3.4 Windows サービスとしての MySQL Cluster プロセスのインストール">セクション18.2.3.4「Windows サービスとしての MySQL Cluster プロセスのインストール」</a>を参照してください。)
          </p></li><li class="listitem"><p>
            SQL ノードをまだ起動しないでください。データノードの起動 (しばらく時間がかかることがあります) が完了するまでは、SQL ノードをクラスタに接続できません。代わりに、管理ノードホストの新しいコンソールウィンドウで、管理ノードホストの <code class="filename">C:\mysql\bin</code> にある MySQL Cluster 管理クライアント <span class="command"><strong>ndb_mgm.exe</strong></span> を起動します。(<span class="keycap"><strong>CTRL</strong></span>+<span class="keycap"><strong>C</strong></span> を入力して <span class="command"><strong>ndb_mgmd.exe</strong></span> が実行されているコンソールウィンドウを再利用しないでください。これを行うと管理ノードが強制終了されます。)生成される出力は次のようになります。
          </p><pre class="programlisting">
C:\mysql\bin&gt; <strong class="userinput"><code>ndb_mgm</code></strong>
-- NDB Cluster -- Management Client --
ndb_mgm&gt;
</pre><p>
            <code class="literal">ndb_mgm&gt;</code> というプロンプトが表示された場合、これは管理クライアントが MySQL Cluster の管理コマンドを受信できるようになったことを示します。管理クライアントのプロンプトで <code class="literal">ALL STATUS</code> と入力すると、データノードの起動時のステータスを確認できます。このコマンドによって、データノードの起動シーケンスのレポートが実行され、次のように表示されます。
          </p><pre class="programlisting">
ndb_mgm&gt; <strong class="userinput"><code>ALL STATUS</code></strong>
Connected to Management Server at: localhost:1186
Node 2: starting (Last completed phase 3) (mysql-5.6.22-ndb-7.4.4)
Node 3: starting (Last completed phase 3) (mysql-5.6.22-ndb-7.4.4)

Node 2: starting (Last completed phase 4) (mysql-5.6.22-ndb-7.4.4)
Node 3: starting (Last completed phase 4) (mysql-5.6.22-ndb-7.4.4)

Node 2: Started (version 7.4.4)
Node 3: Started (version 7.4.4)

ndb_mgm&gt;
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              管理クライアントで発行されるコマンドでは大文字と小文字が区別されません。ここでは、コマンドの標準形式として大文字を使用しますが、<span class="command"><strong>ndb_mgm</strong></span> クライアントに入力するときに、この表記法に従う必要はありません。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-mgm-client-commands" title="18.5.2 MySQL Cluster 管理クライアントのコマンド">セクション18.5.2「MySQL Cluster 管理クライアントのコマンド」</a>を参照してください。
            </p></div><p>
            <code class="literal">ALL STATUS</code> によって生成される出力は、データノードの起動速度、使用する MySQL Cluster ソフトウェアのリリースバージョン番号、およびその他の要因によって、ここに示すものと異なる可能性があります。重要なのは、両方のデータノードの起動を確認したときに、SQL ノードの起動準備が整うことです。
          </p><p>
            <span class="command"><strong>ndb_mgm.exe</strong></span> は実行したままにできます。MySQL Cluster のパフォーマンスに悪影響を与えることはありません。次のステップではこれを使用して、起動した SQL ノードがクラスタに接続したか確認します。
          </p></li><li class="listitem"><p>
            SQL ノードホストとして指定したコンピュータで、コンソールウィンドウを開き、MySQL Cluster バイナリを解凍したディレクトリ (この例に従っている場合、これは <code class="filename">C:\mysql\bin</code> です) に移動します。
          </p><p>
            SQL ノードを起動するには、ここに示すように、コマンド行で <span class="command"><strong>mysqld.exe</strong></span> を起動します。
          </p><pre class="programlisting">
C:\mysql\bin&gt; <strong class="userinput"><code>mysqld --console</code></strong>
</pre><p>
            <code class="option">--console</code> オプションによって、コンソールにロギング情報が書き込まれます。これは問題が発生したときに役立つことがあります。(SQL ノードが問題なく実行されていることを確認できたら、SQL ノードを停止してから <code class="option">--console</code> オプションを指定せずに起動すると、ロギングが通常どおり実行されるようになります。)
          </p><p>
            管理ノードホストの管理クライアント (<span class="command"><strong>ndb_mgm.exe</strong></span>) が実行されているコンソールウィンドウで、<code class="literal">SHOW</code> コマンドを入力します。ここに示すような出力が生成されます。
          </p><pre class="programlisting">
ndb_mgm&gt; <strong class="userinput"><code>SHOW</code></strong>
Connected to Management Server at: localhost:1186
Cluster Configuration
---------------------
[ndbd(NDB)]     2 node(s)
id=2    @192.168.0.30  (Version: 5.6.22-ndb-7.4.4, Nodegroup: 0, *)
id=3    @192.168.0.40  (Version: 5.6.22-ndb-7.4.4, Nodegroup: 0)

[ndb_mgmd(MGM)] 1 node(s)
id=1    @192.168.0.10  (Version: 5.6.22-ndb-7.4.4)

[mysqld(API)]   1 node(s)
id=4    @192.168.0.20  (Version: 5.6.22-ndb-7.4.4)
</pre><p>
            また、SQL ノードが MySQL Cluster に接続されているか確認するには、<span class="command"><strong>mysql</strong></span> クライアント (<span class="command"><strong>mysql.exe</strong></span>) で <code class="literal">SHOW ENGINE NDB STATUS</code> ステートメントを使用します。
          </p></li></ol></div><p>
        これで、MySQL Cluster の <code class="literal">NDBCLUSTER</code> ストレージエンジンを使用してデータベースオブジェクトとデータを操作する準備ができました。詳細と例については、<a class="xref" href="mysql-cluster.html#mysql-cluster-install-example-data" title="18.2.6 テーブルとデータを含む MySQL Cluster の例">セクション18.2.6「テーブルとデータを含む MySQL Cluster の例」</a>を参照してください。
      </p><p>
        <span class="command"><strong>ndb_mgmd.exe</strong></span>、<span class="command"><strong>ndbd.exe</strong></span>、および <span class="command"><strong>ndbmtd.exe</strong></span> を Windows サービスとしてインストールすることもできます。これを行う方法については、<a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows-service" title="18.2.3.4 Windows サービスとしての MySQL Cluster プロセスのインストール">セクション18.2.3.4「Windows サービスとしての MySQL Cluster プロセスのインストール」</a>を参照してください)。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-install-windows-service"></a>18.2.3.4 Windows サービスとしての MySQL Cluster プロセスのインストール</h4></div></div></div><p>
        MySQL Cluster が要求どおりに実行されていることを確認できたら、管理ノードとデータノードを Windows サービスとしてインストールできます。これにより、Windows の起動または停止に合わせて各プロセスを自動的に起動および停止できます。また、この場合は、コマンド行で適切な <span class="command"><strong>NET START</strong></span> または <span class="command"><strong>NET STOP</strong></span> コマンドを使用するか、Windows のグラフィカルな<span class="command"><strong>「サービス」</strong></span>ユーティリティーを使用すると、このプロセスを制御できます。
      </p><p>
        プログラムを Windows サービスとしてインストールする場合は、通常、システム上の Administrator 権利を持つアカウントを使用する必要があります。
      </p><p>
        管理ノードを Windows 上のサービスとしてインストールするには、ここに示すように、管理ノードをホストするマシンのコマンド行で <code class="option">--install</code> オプションを使用して <span class="command"><strong>ndb_mgmd.exe</strong></span> を起動します。
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>C:\mysql\bin\ndb_mgmd.exe --install</code></strong>
Installing service 'MySQL Cluster Management Server' 
  as '"C:\mysql\bin\ndbd.exe" "--service=ndb_mgmd"'
Service successfully installed.
</pre><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
          MySQL Cluster プログラムを Windows サービスとしてインストールするときは、常に完全なパスを指定するようにしてください。そうしないと、サービスのインストールが失敗し、次のエラーが発生します: <span class="errortext">The system cannot find the file specified</span>。
        </p></div><p>
        <code class="option">--install</code> オプションは、<span class="command"><strong>ndb_mgmd.exe</strong></span> に指定できるほかのオプションより先に使用する必要があります。ただし、このようなオプションはオプションファイルに指定することをお勧めします。オプションファイルが <span class="command"><strong>ndb_mgmd.exe</strong></span> <code class="option">--help</code> の出力に示されるデフォルトの場所のいずれにも存在しない場合は、<code class="option">--config-file</code> オプションを使用するとその場所を指定できます。
      </p><p>
        これで、このように管理サーバーを起動および停止できるようになります。
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>NET START ndb_mgmd</code></strong>
The MySQL Cluster Management Server service is starting.
The MySQL Cluster Management Server service was started successfully.

C:\&gt; <strong class="userinput"><code>NET STOP ndb_mgmd</code></strong>
The MySQL Cluster Management Server service is stopping..
The MySQL Cluster Management Server service was stopped successfully.
</pre><p>
        ここに示すように、管理サーバーを Windows サービスとして起動または停止するときに記述名を使用することもできます。
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>NET START 'MySQL Cluster Management Server'</code></strong>
The MySQL Cluster Management Server service is starting.
The MySQL Cluster Management Server service was started successfully.

C:\&gt; <strong class="userinput"><code>NET STOP  'MySQL Cluster Management Server'</code></strong>
The MySQL Cluster Management Server service is stopping..
The MySQL Cluster Management Server service was stopped successfully.
</pre><p>
        ただし、通常は短いサービス名を指定するか、サービスのインストール時にデフォルトのサービス名を使用できるように設定して、サービスの起動または停止時にその名前を参照する方が簡単です。<code class="literal">ndb_mgmd</code> 以外のサービス名を指定するには、この例に示すように <code class="option">--install</code> オプションを追加します。
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>C:\mysql\bin\ndb_mgmd.exe --install=mgmd1</code></strong>
Installing service 'MySQL Cluster Management Server' 
  as '"C:\mysql\bin\ndb_mgmd.exe" "--service=mgmd1"'
Service successfully installed.
</pre><p>
        これで、このように指定した名前を使用してサービスを起動または停止できるようになります。
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>NET START mgmd1</code></strong>
The MySQL Cluster Management Server service is starting.
The MySQL Cluster Management Server service was started successfully.

C:\&gt; <strong class="userinput"><code>NET STOP mgmd1</code></strong>
The MySQL Cluster Management Server service is stopping..
The MySQL Cluster Management Server service was stopped successfully.
</pre><p>
        管理ノードサービスを削除するには、ここに示すように <code class="option">--remove</code> オプションを指定して <span class="command"><strong>ndb_mgmd.exe</strong></span> を起動します。
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>C:\mysql\bin\ndb_mgmd.exe --remove</code></strong>
Removing service 'MySQL Cluster Management Server'
Service successfully removed.
</pre><p>
        デフォルト以外のサービス名を使用してサービスをインストールした場合は、このように <code class="option">--remove</code> オプションの値としてこの名前を渡すと、サービスを削除できます。
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>C:\mysql\bin\ndb_mgmd.exe --remove=mgmd1</code></strong>
Removing service 'mgmd1'
Service successfully removed.
</pre><p>
        Windows サービスとしての MySQL Cluster データノードプロセスのインストールは、ここに示すように、<span class="command"><strong>ndbd.exe</strong></span> (または <span class="command"><strong>ndbmtd.exe</strong></span>) の <code class="option">--install</code> オプションを使用して同じように実行できます。
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>C:\mysql\bin\ndbd.exe --install</code></strong>
Installing service 'MySQL Cluster Data Node Daemon' as '"C:\mysql\bin\ndbd.exe" "--service=ndbd"'
Service successfully installed.
</pre><p>
        これで、次の例に示すように <span class="command"><strong>net start</strong></span> または <span class="command"><strong>net stop</strong></span> でデフォルトのサービス名または記述名を使用してデータノードを起動または停止できます。
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>NET START ndbd</code></strong>
The MySQL Cluster Data Node Daemon service is starting.
The MySQL Cluster Data Node Daemon service was started successfully.

C:\&gt; <strong class="userinput"><code>NET STOP ndbd</code></strong>
The MySQL Cluster Data Node Daemon service is stopping..
The MySQL Cluster Data Node Daemon service was stopped successfully.

C:\&gt; <strong class="userinput"><code>NET START 'MySQL Cluster Data Node Daemon'</code></strong>
The MySQL Cluster Data Node Daemon service is starting.
The MySQL Cluster Data Node Daemon service was started successfully.

C:\&gt; <strong class="userinput"><code>NET STOP 'MySQL Cluster Data Node Daemon'</code></strong>
The MySQL Cluster Data Node Daemon service is stopping..
The MySQL Cluster Data Node Daemon service was stopped successfully.
</pre><p>
        データノードサービスを削除するには、ここに示すように <code class="option">--remove</code> オプションを指定して <span class="command"><strong>ndbd.exe</strong></span> を起動します。
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>C:\mysql\bin\ndbd.exe --remove</code></strong>
Removing service 'MySQL Cluster Data Node Daemon'
Service successfully removed.
</pre><p>
        <span class="command"><strong>ndb_mgmd.exe</strong></span> (および <span class="command"><strong>mysqld.exe</strong></span>) と同様に、<span class="command"><strong>ndbd.exe</strong></span> を Windows サービスとしてインストールするときは、このようにサービスの名前を <code class="option">--install</code> の値として指定し、サービスの起動または停止時にそれを使用することもできます。
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>C:\mysql\bin\ndbd.exe --install=dnode1</code></strong>
Installing service 'dnode1' as '"C:\mysql\bin\ndbd.exe" "--service=dnode1"'
Service successfully installed.

C:\&gt; <strong class="userinput"><code>NET START dnode1</code></strong>
The MySQL Cluster Data Node Daemon service is starting.
The MySQL Cluster Data Node Daemon service was started successfully.

C:\&gt; <strong class="userinput"><code>NET STOP dnode1</code></strong>
The MySQL Cluster Data Node Daemon service is stopping..
The MySQL Cluster Data Node Daemon service was stopped successfully.
</pre><p>
        データノードサービスのインストール時にサービス名を指定した場合は、ここに示すように、それを削除するときもこの名前を (<code class="option">--remove</code> オプションの値として渡すことで) 使用できます。
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>C:\mysql\bin\ndbd.exe --remove=dnode1</code></strong>
Removing service 'dnode1'
Service successfully removed.
</pre><p>
        Windows サービスとしての SQL ノードのインストール、サービスの起動、サービスの停止、およびサービスの削除も、<span class="command"><strong>mysqld</strong></span> <code class="option">--install</code>、<span class="command"><strong>NET START</strong></span>、<span class="command"><strong>NET STOP</strong></span>、および <span class="command"><strong>mysqld</strong></span> <code class="option">--remove</code> を使用して同じように行います。追加情報については、<a class="xref" href="installing.html#windows-start-service" title="2.3.5.7 Windows のサービスとして MySQL を起動する">セクション2.3.5.7「Windows のサービスとして MySQL を起動する」</a>を参照してください。
      </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-install-configuration"></a>18.2.4 MySQL Cluster の初期構成</h3></div></div></div><a class="indexterm" name="idm139979043067616"></a><a class="indexterm" name="idm139979043065536"></a><a class="indexterm" name="idm139979043063504"></a><p>
      このセクションでは、構成ファイルの作成と編集によるインストール済み MySQL Cluster の手動構成について説明します。
    </p><p>
      MySQL Cluster (NDB バージョン 7.3 以降) には、別のアプリケーションでテキストファイルを編集せずに構成を行うために使用できる GUI インストーラも用意されています。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto" title="18.2.1 MySQL Cluster Auto-Installer">セクション18.2.1「MySQL Cluster Auto-Installer」</a>を参照してください。
    </p><p>
      ここで使用する 4 ノードおよび 4 ホストの MySQL Cluster (<a class="xref" href="mysql-cluster.html#mysql-cluster-install-nodes-hosts" title="クラスタノードとホストコンピュータ">クラスタノードとホストコンピュータ</a>を参照してください) では、4 つ (ノードホストごとに 1 つずつ) の構成ファイルを作成する必要があります。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          個々のデータノードまたは SQL ノードには <code class="filename">my.cnf</code> ファイルが必要です。このファイルは、管理ノードが配置されたノードを指定する<em class="firstterm">接続文字列</em>と、このホスト (データノードをホストしているマシン) の MySQL サーバーに対して <code class="literal">NDBCLUSTER</code> ストレージエンジンを有効にするように指示する行の 2 つの情報を提供します。
        </p><p>
          接続文字列の詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-connection-strings" title="18.3.2.3 MySQL Cluster の接続文字列">セクション18.3.2.3「MySQL Cluster の接続文字列」</a>を参照してください。
        </p></li><li class="listitem"><p>
          管理ノードには <code class="filename">config.ini</code> ファイルが必要です。このファイルは、保持するレプリカの数、各データノードのデータおよびインデックスに割り当てるメモリーの量、データノードの場所、各データノードのデータを保存するディスク上の場所、および SQL ノードの場所を指示します。
        </p></li></ul></div><p><b>データノードと SQL ノードの構成 </b>
        データノードに必要な <code class="filename">my.cnf</code> ファイルはかなり単純です。この構成ファイルは、<code class="filename">/etc</code> ディレクトリに配置され、任意のテキストエディタを使用して編集できます。(このファイルが存在しない場合は作成してください。)例:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>vi /etc/my.cnf</code></strong>
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        ここでは、<span class="command"><strong>vi</strong></span> を使用してこのファイルを作成しますが、どのテキストエディタでも同じように機能します。
      </p></div><p>
      このセットアップ例の各データノードおよび SQL ノードでは、<code class="filename">my.cnf</code> はこのようになります。
    </p><pre class="programlisting">
[mysqld]
# Options for mysqld process:
ndbcluster                      # run NDB storage engine

[mysql_cluster]
# Options for MySQL Cluster processes:
ndb-connectstring=192.168.0.10  # location of management server
</pre><p>
      上記の情報を入力したら、このファイルを保存してテキストエディタを終了します。これを、データノード <span class="quote">「<span class="quote">A</span>」</span>、データノード<span class="quote">「<span class="quote">B</span>」</span>、および SQL ノードをホストしているマシンで実行します。
    </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
        上記の <code class="filename">my.cnf</code> ファイルの <code class="literal">[mysqld]</code> および <code class="literal">[mysql_cluster]</code> セクションの <code class="literal">ndbcluster</code> および <code class="literal">ndb-connectstring</code> パラメータを使用して <span class="command"><strong>mysqld</strong></span> プロセスを起動したあとは、クラスタが実際に起動しないと、<code class="literal">CREATE TABLE</code> または <code class="literal">ALTER TABLE</code> ステートメントを実行できません。そうでない場合、これらのステートメントはエラーで失敗します。これは意図的なものです。
      </p></div><p><b>管理ノードの構成 </b>
        管理ノードの構成では、最初のステップとして構成ファイルを配置するディレクトリを作成し、その後構成ファイル自体を作成します。例 (<code class="literal">root</code> として実行します):
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mkdir /var/lib/mysql-cluster</code></strong>
shell&gt; <strong class="userinput"><code>cd /var/lib/mysql-cluster</code></strong>
shell&gt; <strong class="userinput"><code>vi config.ini</code></strong>
</pre><p>
      ここで使用する典型的なセットアップでは、<code class="filename">config.ini</code> ファイルは次のようになります。
    </p><pre class="programlisting">
[ndbd default]
# Options affecting ndbd processes on all data nodes:
NoOfReplicas=2    # Number of replicas
DataMemory=80M    # How much memory to allocate for data storage
IndexMemory=18M   # How much memory to allocate for index storage
                  # For DataMemory and IndexMemory, we have used the
                  # default values. Since the "world" database takes up
                  # only about 500KB, this should be more than enough for
                  # this example Cluster setup.

[tcp default]
# TCP/IP options:
portnumber=2202   # This the default; however, you can use any
                  # port that is free for all the hosts in the cluster
                  # Note: It is recommended that you do not specify the port
                  # number at all and simply allow the default value to be used
                  # instead

[ndb_mgmd]
# Management process options:
hostname=192.168.0.10           # Hostname or IP address of MGM node
datadir=/var/lib/mysql-cluster  # Directory for MGM node log files

[ndbd]
# Options for data node "A":
                                # (one [ndbd] section per data node)
hostname=192.168.0.30           # Hostname or IP address
datadir=/usr/local/mysql/data   # Directory for this data node's data files

[ndbd]
# Options for data node "B":
hostname=192.168.0.40           # Hostname or IP address
datadir=/usr/local/mysql/data   # Directory for this data node's data files

[mysqld]
# SQL node options:
hostname=192.168.0.20           # Hostname or IP address
                                # (additional mysqld connections can be
                                # specified for this node for various
                                # purposes such as running ndb_restore)
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        <code class="literal">world</code> データベースは <a class="ulink" href="http://dev.mysql.com/doc/" target="_top">http://dev.mysql.com/doc/</a> からダウンロードできます (<span class="quote">「<span class="quote">Examples</span>」</span> の下にあります)。
      </p></div><p>
      すべての構成ファイルを作成し、最小限のオプションを指定したら、クラスタの起動とすべてのプロセスの実行確認に進む準備が整います。これを行う方法については、<a class="xref" href="mysql-cluster.html#mysql-cluster-install-first-start" title="18.2.5 MySQL Cluster の初期起動">セクション18.2.5「MySQL Cluster の初期起動」</a>で説明します。
    </p><p>
      使用可能な MySQL Cluster 構成パラメータとその使用方法の詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-config-file" title="18.3.2 MySQL Cluster の構成ファイル">セクション18.3.2「MySQL Cluster の構成ファイル」</a>および<a class="xref" href="mysql-cluster.html#mysql-cluster-configuration" title="18.3 MySQL Cluster の構成">セクション18.3「MySQL Cluster の構成」</a>を参照してください。MySQL Cluster のバックアップ作成に関する構成については、<a class="xref" href="mysql-cluster.html#mysql-cluster-backup-configuration" title="18.5.3.3 MySQL Cluster バックアップ用の構成">セクション18.5.3.3「MySQL Cluster バックアップ用の構成」</a>を参照してください。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        クラスタ管理ノードのデフォルトポートは 1186 です。データノードのデフォルトポートは 2202 です。ただし、クラスタではすでに開放されているポートからデータノードのポートを自動的に割り当てることができます。
      </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-install-first-start"></a>18.2.5 MySQL Cluster の初期起動</h3></div></div></div><a class="indexterm" name="idm139979043013808"></a><p>
      構成後のクラスタを起動することは、それほど難しいことではありません。各クラスタノードプロセスは、配置されているホストで別個に起動する必要があります。最初に管理ノード、次にデータノード、最後に SQL ノードを起動してください。
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          管理ホストで、システムシェルから次のコマンドを発行して管理ノードプロセスを起動します。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndb_mgmd -f /var/lib/mysql-cluster/config.ini</code></strong>
</pre><p>
          <span class="command"><strong>ndb_mgmd</strong></span> をはじめて起動するときは、<code class="option">-f</code> または <code class="option">--config-file</code> オプションを使用してその構成ファイルの場所を指定する必要があります。(詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="18.4.4 ndb_mgmd — MySQL Cluster 管理サーバーデーモン">セクション18.4.4「<span class="command"><strong>ndb_mgmd</strong></span> — MySQL Cluster 管理サーバーデーモン」</a>を参照してください。)
        </p><p>
          <span class="command"><strong>ndb_mgmd</strong></span> で使用できる追加のオプションについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="18.4.27 MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション">セクション18.4.27「MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション」</a>を参照してください。
        </p></li><li class="listitem"><p>
          個々のデータノードホストで、このコマンドを実行して <span class="command"><strong>ndbd</strong></span> プロセスを起動します。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndbd</code></strong>
</pre></li><li class="listitem"><p>
          SQL ノードを配置するクラスタホストで RPM ファイルを使用して MySQL をインストールした場合は、付属の起動スクリプトを使用して SQL ノードの MySQL サーバープロセスを起動できます (起動するようにしてください)。
        </p></li></ol></div><a class="indexterm" name="idm139979042997648"></a><a class="indexterm" name="idm139979042995616"></a><p>
      すべてが順調に進み、クラスタが正しくセットアップされると、クラスタは使用できる状態になります。これをテストするには、<span class="command"><strong>ndb_mgm</strong></span> 管理ノードクライアントを起動します。ここに示すような出力が表示されますが、使用している MySQL の特定のバージョンによって出力内容がやや異なる場合があります。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndb_mgm</code></strong>
-- NDB Cluster -- Management Client --
ndb_mgm&gt; <strong class="userinput"><code>SHOW</code></strong>
Connected to Management Server at: localhost:1186
Cluster Configuration
---------------------
[ndbd(NDB)]     2 node(s)
id=2    @192.168.0.30  (Version: 5.6.22-ndb-7.4.4, Nodegroup: 0, *)
id=3    @192.168.0.40  (Version: 5.6.22-ndb-7.4.4, Nodegroup: 0)

[ndb_mgmd(MGM)] 1 node(s)
id=1    @192.168.0.10  (Version: 5.6.22-ndb-7.4.4)

[mysqld(API)]   1 node(s)
id=4    @192.168.0.20  (Version: 5.6.22-ndb-7.4.4)
</pre><p>
      ここでは、SQL ノードが <code class="literal">[mysqld(API)]</code> として参照されています。これは、<span class="command"><strong>mysqld</strong></span> プロセスが MySQL Cluster の API ノードとして機能していることを反映しています。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        <code class="literal">SHOW</code> の出力で MySQL Cluster の特定の SQL ノードまたはその他の API ノードに関して表示されている IP アドレスは、SQL または API ノードが管理ノードではなくクラスタデータノードに接続するために使用するアドレスです。
      </p></div><p>
      これで、MySQL Cluster 内のデータベース、テーブル、およびデータを操作する準備が整いました。簡単な説明については、<a class="xref" href="mysql-cluster.html#mysql-cluster-install-example-data" title="18.2.6 テーブルとデータを含む MySQL Cluster の例">セクション18.2.6「テーブルとデータを含む MySQL Cluster の例」</a>を参照してください。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-install-example-data"></a>18.2.6 テーブルとデータを含む MySQL Cluster の例</h3></div></div></div><a class="indexterm" name="idm139979042982240"></a><a class="indexterm" name="idm139979042980112"></a><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        このセクションの情報は、Unix と Windows のプラットフォームで実行される MySQL Cluster に適用されます。
      </p></div><p>
      MySQL Cluster 内のデータベースデーブルおよびデータの操作は、標準の MySQL の場合とほとんど違いはありません。留意すべき重要なポイントが 2 つあります。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          クラスタ内でレプリケートされるテーブルでは、<code class="literal">NDBCLUSTER</code> ストレージエンジンを使用する必要があります。これを指定するには、テーブルの作成時に <code class="literal">ENGINE=NDBCLUSTER</code> または <code class="literal">ENGINE=NDB</code> オプションを使用します。
        </p><pre class="programlisting">
CREATE TABLE <em class="replaceable"><code>tbl_name</code></em> (<em class="replaceable"><code>col_name</code></em> <em class="replaceable"><code>column_definitions</code></em>) ENGINE=NDBCLUSTER;
</pre><p>
          または、異なるストレージエンジンを使用する既存のテーブルに対して <code class="literal">ALTER TABLE</code> を使用して、<code class="literal">NDBCLUSTER</code> を使用するようにテーブルを変更します。
        </p><pre class="programlisting">
ALTER TABLE <em class="replaceable"><code>tbl_name</code></em> ENGINE=NDBCLUSTER;
</pre></li><li class="listitem"><p>
          すべての <code class="literal">NDBCLUSTER</code> テーブルには主キーがあります。テーブルの作成時にユーザーが主キーを定義しなかった場合は、<code class="literal">NDBCLUSTER</code> ストレージエンジンが隠し主キーを自動的に生成します。このようなキーは、ほかのテーブルインデックスと同じサイズの領域を占有します。(これらの自動的に作成されるインデックスを格納する十分なメモリーがないために問題が発生することは、珍しくありません。)
        </p></li></ul></div><p>
      <span class="command"><strong>mysqldump</strong></span> の出力を使用して既存のデータベースからテーブルをインポートする場合は、SQL スクリプトをテキストエディタで開いて、テーブル作成ステートメントに <code class="literal">ENGINE</code> オプションを追加するか、既存の <code class="literal">ENGINE</code> オプションを置き換えることができます。MySQL Cluster をサポートしない別の MySQL サーバーに <code class="literal">world</code> サンプルデータベースがあり、<code class="literal">City</code> テーブルをエクスポートする必要があるとします。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqldump --add-drop-table world City &gt; city_table.sql</code></strong>
</pre><p>
      この結果作成される <code class="filename">city_table.sql</code> ファイルには、このテーブル作成ステートメント (およびテーブルデータをインポートするために必要な <code class="literal">INSERT</code> ステートメント) が格納されます。
    </p><pre class="programlisting">
DROP TABLE IF EXISTS `City`;
CREATE TABLE `City` (
  `ID` int(11) NOT NULL auto_increment,
  `Name` char(35) NOT NULL default '',
  `CountryCode` char(3) NOT NULL default '',
  `District` char(20) NOT NULL default '',
  `Population` int(11) NOT NULL default '0',
  PRIMARY KEY  (`ID`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1;

INSERT INTO `City` VALUES (1,'Kabul','AFG','Kabol',1780000);
INSERT INTO `City` VALUES (2,'Qandahar','AFG','Qandahar',237500);
INSERT INTO `City` VALUES (3,'Herat','AFG','Herat',186800);
<em class="replaceable"><code>(remaining INSERT statements omitted)</code></em>
</pre><p>
      MySQL がこのテーブルに対して <code class="literal">NDBCLUSTER</code> ストレージエンジンを使用するか確認する必要があります。これを行うには 2 つの方法があります。1 つは、テーブル定義をクラスタデータベースにインポートする<span class="emphasis"><em>前に</em></span>変更することです。例として <code class="literal">City</code> テーブルを使用し、定義の <code class="literal">ENGINE</code> オプションを次のように変更します。
    </p><pre class="programlisting">
DROP TABLE IF EXISTS `City`;
CREATE TABLE `City` (
  `ID` int(11) NOT NULL auto_increment,
  `Name` char(35) NOT NULL default '',
  `CountryCode` char(3) NOT NULL default '',
  `District` char(20) NOT NULL default '',
  `Population` int(11) NOT NULL default '0',
  PRIMARY KEY  (`ID`)
) <span class="bold"><strong>ENGINE=NDBCLUSTER</strong></span> DEFAULT CHARSET=latin1;

INSERT INTO `City` VALUES (1,'Kabul','AFG','Kabol',1780000);
INSERT INTO `City` VALUES (2,'Qandahar','AFG','Qandahar',237500);
INSERT INTO `City` VALUES (3,'Herat','AFG','Herat',186800);
<em class="replaceable"><code>(remaining INSERT statements omitted)</code></em>
</pre><p>
      クラスタ化されたデータベースの一部になる個々のテーブルの定義で、これを行う必要があります。これを行うもっとも簡単な方法は、定義を含むファイルに対して検索置換を実行し、<code class="literal">TYPE=<em class="replaceable"><code>engine_name</code></em></code> または <code class="literal">ENGINE=<em class="replaceable"><code>engine_name</code></em></code> のすべてのインスタンスを <code class="literal">ENGINE=NDBCLUSTER</code> に置換することです。ファイルを変更したくない場合は、変更していないファイルを使用してテーブルを作成してから、<code class="literal">ALTER TABLE</code> を使用してストレージエンジンを変更します。詳細はこのセクションで後述します。
    </p><p>
      クラスタの SQL ノードで <code class="literal">world</code> という名前のデータベースがすでに作成されていることを前提に、<span class="command"><strong>mysql</strong></span> コマンド行クライアントを使用して <code class="filename">city_table.sql</code> を読み取り、対応するテーブルを通常の方法で作成して移入します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql world &lt; city_table.sql</code></strong>
</pre><p>
      非常に重要な留意点として、前述のコマンドは SQL ノードを実行しているホスト (この場合は、IP アドレスが <code class="literal">192.168.0.20</code> のマシン) で実行する必要があります。
    </p><p>
      SQL ノードで <code class="literal">world</code> データベース全体のコピーを作成するには、非クラスタサーバーで <span class="command"><strong>mysqldump</strong></span> を使用して、(たとえば) <code class="filename">/tmp</code> ディレクトリの <code class="filename">world.sql</code> という名前のファイルにデータベースをエクスポートします。次に、前述のとおりにテーブル定義を変更し、このようにファイルをクラスタの SQL ノードにインポートします。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql world &lt; /tmp/world.sql</code></strong>
</pre><p>
      ファイルを別の場所に保存する場合は、それに合わせて前述の手順を調整してください。
    </p><p>
      SQL ノードでの <code class="literal">SELECT</code> クエリーの実行は、MySQL サーバーのほかのインスタンスでの実行と違いはありません。コマンド行からクエリーを実行するには、最初に通常の方法で (<code class="literal">Enter password:</code> プロンプトで <code class="literal">root</code> パスワードを指定して) MySQL Monitor にログインする必要があります。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password:
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 1 to server version: 5.6.22-ndb-7.4.4

Type 'help;' or '\h' for help. Type '\c' to clear the buffer.

mysql&gt;
</pre><p>
      ここでは、MySQL サーバーの <code class="literal">root</code> アカウントを使用し、MySQL サーバーのインストールに関する標準的なセキュリティー対策 (強力な <code class="literal">root</code> パスワードの設定を含む) に従っていると仮定します。詳細は、<a class="xref" href="installing.html#default-privileges" title="2.10.2 最初の MySQL アカウントのセキュリティー設定">セクション2.10.2「最初の MySQL アカウントのセキュリティー設定」</a>を参照してください。
    </p><p>
      クラスタノードが相互にアクセスするときは MySQL の権限システムが利用<span class="emphasis"><em>されない</em></span>ことを考慮に入れてください。MySQL ユーザーアカウント (<code class="literal">root</code> アカウントを含む) の設定または変更は、SQL ノードにアクセスするアプリケーションにのみ影響し、ノード間のやり取りには影響しません。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-security-mysql-privileges" title="18.5.11.2 MySQL Cluster と MySQL 権限">セクション18.5.11.2「MySQL Cluster と MySQL 権限」</a>を参照してください。
    </p><p>
      SQL スクリプトをインポートする前にテーブル定義の <code class="literal">ENGINE</code> 句を変更しなかった場合は、この時点で次のステートメントを実行してください。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>USE world;</code></strong>
mysql&gt; <strong class="userinput"><code>ALTER TABLE City ENGINE=NDBCLUSTER;</code></strong>
mysql&gt; <strong class="userinput"><code>ALTER TABLE Country ENGINE=NDBCLUSTER;</code></strong>
mysql&gt; <strong class="userinput"><code>ALTER TABLE CountryLanguage ENGINE=NDBCLUSTER;</code></strong>
</pre><p>
      データベースの選択とそのデータベース内のテーブルに対する <span class="command"><strong>SELECT</strong></span> クエリーの実行も、MySQL Monitor の終了と同様に通常の方法で行います。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>USE world;</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT Name, Population FROM City ORDER BY Population DESC LIMIT 5;</code></strong>
+-----------+------------+
| Name      | Population |
+-----------+------------+
| Bombay    |   10500000 |
| Seoul     |    9981619 |
| São Paulo |    9968485 |
| Shanghai  |    9696300 |
| Jakarta   |    9604900 |
+-----------+------------+
5 rows in set (0.34 sec)

mysql&gt; <strong class="userinput"><code>\q</code></strong>
Bye

shell&gt;
</pre><p>
      MySQL を使用するアプリケーションは、標準の API を使用して <code class="literal">NDB</code> テーブルにアクセスできます。アプリケーションは、管理ノードやデータノードではなく、SQL ノードにアクセスする必要があります。この簡単な例では、ネットワーク上の別の場所にある Web サーバーで実行されている PHP 5.X の <code class="literal">mysqli</code> 拡張を使用して、ここに示す <code class="literal">SELECT</code> ステートメントを実行する方法を示しています。
    </p><pre class="programlisting">
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
  "http://www.w3.org/TR/html4/loose.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta http-equiv="Content-Type"
           content="text/html; charset=iso-8859-1"&gt;
  &lt;title&gt;SIMPLE mysqli SELECT&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php
  # connect to SQL node:
  $link = new mysqli('192.168.0.20', 'root', '<em class="replaceable"><code>root_password</code></em>', 'world');
  # parameters for mysqli constructor are:
  #   host, user, password, database

  if( mysqli_connect_errno() )
    die("Connect failed: " . mysqli_connect_error());

  $query = "SELECT Name, Population
            FROM City
            ORDER BY Population DESC
            LIMIT 5";

  # if no errors...
  if( $result = $link-&gt;query($query) )
  {
?&gt;
&lt;table border="1" width="40%" cellpadding="4" cellspacing ="1"&gt;
  &lt;tbody&gt;
  &lt;tr&gt;
    &lt;th width="10%"&gt;City&lt;/th&gt;
    &lt;th&gt;Population&lt;/th&gt;
  &lt;/tr&gt;
&lt;?
    # then display the results...
    while($row = $result-&gt;fetch_object())
      printf("&lt;tr&gt;\n  &lt;td align=\"center\"&gt;%s&lt;/td&gt;&lt;td&gt;%d&lt;/td&gt;\n&lt;/tr&gt;\n",
              $row-&gt;Name, $row-&gt;Population);
?&gt;
  &lt;/tbody
&lt;/table&gt;
&lt;?
  # ...and verify the number of rows that were retrieved
    printf("&lt;p&gt;Affected rows: %d&lt;/p&gt;\n", $link-&gt;affected_rows);
  }
  else
    # otherwise, tell us what went wrong
    echo mysqli_error();

  # free the result set and the mysqli connection object
  $result-&gt;close();
  $link-&gt;close();
?&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre><p>
      ここでは、Web サーバーで実行されているプロセスが SQL ノードの IP アドレスに到達できると仮定します。
    </p><p>
      同様の方法で、MySQL C API、Perl-DBI、Python-mysql、または MySQL Connector を使用して、MySQL で通常実行する同じデータの定義や操作のタスクを実行できます。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-install-shutdown-restart"></a>18.2.7 MySQL Cluster の安全なシャットダウンと再起動</h3></div></div></div><a class="indexterm" name="idm139979042897232"></a><a class="indexterm" name="idm139979042895088"></a><p>
      クラスタをシャットダウンするには、管理ノードをホストしているマシン上のシェルで次のコマンドを入力します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndb_mgm -e shutdown</code></strong>
</pre><p>
      この <code class="option">-e</code> オプションは、シェルから <span class="command"><strong>ndb_mgm</strong></span> クライアントにコマンドを渡すために使用されます。(このオプションの詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="18.4.27 MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション">セクション18.4.27「MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション」</a>を参照してください。)このコマンドによって、<span class="command"><strong>ndb_mgm</strong></span>、<span class="command"><strong>ndb_mgmd</strong></span>、およびすべての <span class="command"><strong>ndbd</strong></span> または <span class="command"><strong>ndbmtd</strong></span> プロセスが適切な方法で終了します。SQL ノードは <span class="command"><strong>mysqladmin shutdown</strong></span> およびその他の方法で終了できます。Windows プラットフォームでは、SQL ノードを Windows サービスとしてインストールした場合に <span class="command"><strong>NET STOP MYSQL</strong></span> を使用できます。
    </p><p>
      Unix プラットフォームでクラスタを再起動するには、次のコマンドを実行します。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          管理ホスト (このセットアップ例では <code class="literal">192.168.0.10</code>):
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndb_mgmd -f /var/lib/mysql-cluster/config.ini</code></strong>
</pre></li><li class="listitem"><p>
          個々のデータノードホスト (<code class="literal">192.168.0.30</code> および <code class="literal">192.168.0.40</code>):
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndbd</code></strong>
</pre></li><li class="listitem"><p>
          <span class="command"><strong>ndb_mgm</strong></span> クライアントを使用して、両方のデータノードが正常に起動したか確認します。
        </p></li><li class="listitem"><p>
          SQL ホスト (<code class="literal">192.168.0.20</code>):
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqld_safe &amp;</code></strong>
</pre></li></ul></div><p>
      Windows プラットフォームでは、すべての MySQL Cluster プロセスをデフォルトのサービス名を使用して Windows サービスとしてインストールした場合に (<a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows-service" title="18.2.3.4 Windows サービスとしての MySQL Cluster プロセスのインストール">セクション18.2.3.4「Windows サービスとしての MySQL Cluster プロセスのインストール」</a>を参照してください)、次のようにクラスタを再起動できます。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          管理ホスト (このセットアップ例では <code class="literal">192.168.0.10</code>) で、次のコマンドを実行します。
        </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>NET START ndb_mgmd</code></strong>
</pre></li><li class="listitem"><p>
          個々のデータノードホスト (<code class="literal">192.168.0.30</code> および <code class="literal">192.168.0.40</code>) で、次のコマンドを実行します。
        </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>NET START ndbd</code></strong>
</pre></li><li class="listitem"><p>
          管理ノードホストで、<span class="command"><strong>ndb_mgm</strong></span> クライアントを使用して管理ノードと両方のデータノードが正常に起動したか確認します (<a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows-initial-start" title="18.2.3.3 Windows での MySQL Cluster の初期起動">セクション18.2.3.3「Windows での MySQL Cluster の初期起動」</a>を参照してください)。
        </p></li><li class="listitem"><p>
          SQL ノードホスト (<code class="literal">192.168.0.20</code>) で、次のコマンドを実行します。
        </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>NET START mysql</code></strong>
</pre></li></ul></div><p>
      本番設定では、通常、クラスタを完全にシャットダウンすることは望ましくありません。多くの場合、構成変更やクラスタのハードウェアまたはソフトウェア (あるいはその両方) のアップグレードを実行して個々のホストマシンをシャットダウンする必要が生じた場合でも、クラスタの<em class="firstterm">ローリング再起動</em>を実行することで、クラスタ全体をシャットダウンせずに処理を完了できます。この実行方法の詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-rolling-restart" title="18.5.5 MySQL Cluster のローリング再起動の実行">セクション18.5.5「MySQL Cluster のローリング再起動の実行」</a>を参照してください。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-upgrade-downgrade"></a>18.2.8 MySQL Cluster NDB 7.3 のアップグレードとダウングレード</h3></div></div></div><a class="indexterm" name="idm139979042852848"></a><a class="indexterm" name="idm139979042850640"></a><a class="indexterm" name="idm139979042848528"></a><a class="indexterm" name="idm139979042846608"></a><p>
      このセクションでは、異なる MySQL Cluster NDB 7.3 リリース間でのアップグレードおよびダウングレードの実行に関する MySQL Cluster ソフトウェアおよびテーブルファイルの互換性、および互換性のマトリックスと注意事項について説明します。アップグレードまたはダウングレードを試行する前に、ユーザーは MySQL Cluster のインストールと構成にすでに習熟していることが求められます。<a class="xref" href="mysql-cluster.html#mysql-cluster-configuration" title="18.3 MySQL Cluster の構成">セクション18.3「MySQL Cluster の構成」</a>を参照してください。
    </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
        このセクションでは、MySQL バージョン間の <code class="literal">NDBCLUSTER</code> に関する互換性のみを考慮しますが、考慮すべき問題はほかにもある場合があります。<span class="emphasis"><em>ほかの MySQL ソフトウェアのアップグレードまたはダウングレードと同様に、MySQL Cluster ソフトウェアのアップグレードまたはダウングレードを試行する前に、移行先および移行元の MySQL バージョンの MySQL マニュアルの関連部分を確認することを強くお勧めします</em></span>。<a class="xref" href="installing.html#upgrading" title="2.11.1 MySQL のアップグレード">セクション2.11.1「MySQL のアップグレード」</a>を参照してください。
      </p></div><p>
      ここに示す表は、MySQL Cluster NDB 7.3 の異なるリリース間での MySQL Cluster のアップグレードおよびダウングレードの互換性に関する情報を示しています。表の直後に、MySQL Cluster NDB 7.3 リリースシリーズへの、リリースシリーズからの、またはリリースシリーズ間のアップグレードおよびダウングレードに関する追加の注意事項を示します。
    </p><div class="mediaobject"><img src="images/mysql-cluster-upgrade-downgrade-7-3.png" width="205" height="335" alt="MySQL Cluster NDB 7.3.x のアップグレード/ダウングレードの互換性"></div><h4><a name="idm139979042831184"></a>注意事項: MySQL Cluster NDB 7.3</h4><p><b>サポートされるバージョン </b>
        MySQL Cluster NDB 7.3 (7.3.2 移行) へのアップグレードについては、MySQL Cluster の次のバージョンがサポートされます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          MySQL Cluster NDB 7.2 GA リリース (7.2.4 以降)
        </p></li><li class="listitem"><p>
          MySQL Cluster NDB 7.1 GA リリース (7.1.3 以降)
        </p></li><li class="listitem"><p>
          MySQL Cluster NDB 7.0 GA リリース (7.0.5 以降)
        </p></li><li class="listitem"><p>
          MySQL Cluster NDB 7.1 にアップグレードできる MySQL Cluster NDB 6.3 GA リリース (6.3.8 以降)
        </p></li></ul></div><p>
      以前の MySQL Cluster リリースシリーズでのアップグレードとダウングレードについては、<a class="ulink" href="http://dev.mysql.com/doc/refman/5.1/en/mysql-cluster-upgrade-downgrade-compatibility-6.x.html" target="_top">http://dev.mysql.com/doc/refman/5.1/en/mysql-cluster-upgrade-downgrade-compatibility-6.x.html</a>、<a class="ulink" href="http://dev.mysql.com/doc/refman/5.1/en/mysql-cluster-upgrade-downgrade-compatibility-7.x.html" target="_top">http://dev.mysql.com/doc/refman/5.1/en/mysql-cluster-upgrade-downgrade-compatibility-7.x.html</a>、および<a class="ulink" href="http://dev.mysql.com/doc/refman/5.5/en/mysql-cluster-upgrade-downgrade.html" target="_top">Upgrading and Downgrading MySQL Cluster NDB 7.2</a>を参照してください。
    </p><p>
      MySQL Cluster NDB 6.3 以降の最近のリリースで使用される <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndbapi.html" target="_top">NDB API</a>、<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/mccj.html" target="_top">ClusterJ</a>、およびその他のアプリケーションは、書き換えや再コンパイルをしなくても MySQL Cluster NDB 7.3.2 以降で引き続き使用できます。
    </p><p>
      MySQL Cluster NDB 7.3.3 以降から MySQL Cluster NDB 7.3.2 以前にオンラインでダウングレードすることはできません。MySQL Cluster NDB 7.3.2 からその後の MySQL Cluster NDB 7.3 リリースへのオンラインでのアップグレードはサポートされます。
    </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mysql-cluster-configuration"></a>18.3 MySQL Cluster の構成</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-quick">18.3.1 MySQL Cluster の簡易テストセットアップ</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-config-file">18.3.2 MySQL Cluster の構成ファイル</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-params-overview">18.3.3 MySQL Cluster 構成パラメータの概要</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-options-variables">18.3.4 MySQL Cluster 用の MySQL Server オプションおよび変数</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-interconnects">18.3.5 MySQL Cluster での高速インターコネクトの使用</a></span></dt></dl></div><a class="indexterm" name="idm139979042815888"></a><a class="indexterm" name="idm139979042814432"></a><p>
    MySQL Cluster の一部である MySQL サーバーが通常の (クラスタ化されていない) MySQL サーバーと大きく異なる点は、<code class="literal">NDB</code> ストレージエンジンを採用していることです。このエンジンは <code class="literal">NDBCLUSTER</code> と呼ばれることもありますが、<code class="literal">NDB</code> が推奨されます。
  </p><p>
    不要なリソースの割り当てを避けるため、デフォルトでは <code class="literal">NDB</code> ストレージエンジンを無効にするようにサーバーが構成されます。<code class="literal">NDB</code> を有効にするには、サーバーの <code class="filename">my.cnf</code> 構成ファイルを変更するか、<code class="option">--ndbcluster</code> オプションを指定してサーバーを起動する必要があります。
  </p><p>
    この MySQL サーバーはクラスタの一部であるため、管理ノードにアクセスしてクラスタ構成データを取得する方法も認識する必要があります。デフォルトの動作では、<code class="literal">localhost</code> 上の管理ノードを検索します。ただし、それがほかの場所であることを指定する必要がある場合は、<code class="filename">my.cnf</code> で、または <span class="command"><strong>mysql</strong></span> クライアントを使用してこれを行います。<code class="literal">NDB</code> ストレージエンジンを使用する前に、少なくとも 1 つの管理ノードと必要なデータノードが使用可能である必要があります。
  </p><p>
    <code class="option">--ndbcluster</code> および MySQL Cluster に固有のその他の <span class="command"><strong>mysqld</strong></span> オプションの詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-mysqld" title="18.3.4.2 MySQL Cluster 用の MySQL Server オプション">セクション18.3.4.2「MySQL Cluster 用の MySQL Server オプション」</a>を参照してください。
  </p><p>
    MySQL Cluster NDB 7.3.1 以降では、MySQL Cluster Auto-Installer を使用して、ブラウザベースの GUI を使用する 1 台以上のホストに MySQL Cluster をセットアップおよび配備できます。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto" title="18.2.1 MySQL Cluster Auto-Installer">セクション18.2.1「MySQL Cluster Auto-Installer」</a>を参照してください。
  </p><p>
    MySQL Cluster のインストールに関する一般情報は、<a class="xref" href="mysql-cluster.html#mysql-cluster-installation" title="18.2 MySQL Cluster のインストール">セクション18.2「MySQL Cluster のインストール」</a>を参照してください。
  </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-quick"></a>18.3.1 MySQL Cluster の簡易テストセットアップ</h3></div></div></div><a class="indexterm" name="idm139979042793040"></a><a class="indexterm" name="idm139979042790912"></a><a class="indexterm" name="idm139979042788880"></a><p>
      ここでは、基本を習得するため、実用的な MySQL Cluster のもっとも簡単な構成について説明します。その後、この章の関連するほかのセクションに示した情報から、必要なセットアップを設計できるようになります。
    </p><p>
      最初に、システムの <code class="literal">root</code> ユーザーとして次のコマンドを実行して、<code class="filename">/var/lib/mysql-cluster</code> などの構成ディレクトリを作成する必要があります。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mkdir /var/lib/mysql-cluster</code></strong>
</pre><p>
      このディレクトリで、次の情報を含む <code class="filename">config.ini</code> という名前のファイルを作成します。必要に応じて、<code class="literal">HostName</code> および <code class="literal">DataDir</code> をシステムの適切な値に置き換えます。
    </p><pre class="programlisting">
# file "config.ini" - showing minimal setup consisting of 1 data node,
# 1 management server, and 3 MySQL servers.
# The empty default sections are not required, and are shown only for
# the sake of completeness.
# Data nodes must provide a hostname but MySQL Servers are not required
# to do so.
# If you don't know the hostname for your machine, use localhost.
# The DataDir parameter also has a default value, but it is recommended to
# set it explicitly.
# Note: [db], [api], and [mgm] are aliases for [ndbd], [mysqld], and [ndb_mgmd],
# respectively. [db] is deprecated and should not be used in new installations.

[ndbd default]
NoOfReplicas= 1

[mysqld  default]
[ndb_mgmd default]
[tcp default]

[ndb_mgmd]
HostName= myhost.example.com

[ndbd]
HostName= myhost.example.com
DataDir= /var/lib/mysql-cluster

[mysqld]
[mysqld]
[mysqld]
</pre><p>
      これで、<span class="command"><strong>ndb_mgmd</strong></span> 管理サーバーを起動できるようになりました。デフォルトでは現在の作業ディレクトリ内にある <code class="filename">config.ini</code> ファイルの読み取りが試行されるため、このファイルが配置されているディレクトリに場所を移動してから <span class="command"><strong>ndb_mgmd</strong></span> を起動します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cd /var/lib/mysql-cluster</code></strong>
shell&gt; <strong class="userinput"><code>ndb_mgmd</code></strong>
</pre><p>
      次に、<span class="command"><strong>ndbd</strong></span> を実行して 1 つのデータノードを起動します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndbd</code></strong>
</pre><p>
      <span class="command"><strong>ndbd</strong></span> の起動時に使用できるコマンド行オプションについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="18.4.27 MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション">セクション18.4.27「MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション」</a>を参照してください。
    </p><p>
      デフォルトでは、<span class="command"><strong>ndbd</strong></span> は <code class="literal">localhost</code> のポート 1186 で管理サーバーを検索します。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        バイナリ tarball から MySQL をインストールした場合は、<span class="command"><strong>ndb_mgmd</strong></span> および <span class="command"><strong>ndbd</strong></span> サーバーのパスを明示的に指定する必要があります。(通常、これらは <code class="filename">/usr/local/mysql/bin</code> にあります。)
      </p></div><p>
      最後に、MySQL データディレクトリ (通常は <code class="filename">/var/lib/mysql</code> または <code class="filename">/usr/local/mysql/data</code>) に場所を変更して、NDB ストレージエンジンを有効にするのに必要なオプションが <code class="filename">my.cnf</code> ファイルに含まれていることを確認します。
    </p><pre class="programlisting">
[mysqld]
ndbcluster
</pre><p>
      これで、MySQL サーバーを通常どおり起動できるようになりました。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqld_safe --user=mysql &amp;</code></strong>
</pre><p>
      しばらく待ってから、MySQL サーバーが適切に実行されていることを確認します。<code class="literal">「mysql ended」</code>という通知が表示された場合は、サーバーの <code class="filename">.err</code> ファイルをチェックして、どのような不具合があったかを調べます。
    </p><p>
      ここまで問題なく進んだ場合は、クラスタを使用し始めることができます。サーバーに接続して、<code class="literal">NDBCLUSTER</code> ストレージエンジンが有効になっていることを確認します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql</code></strong>
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 1 to server version: 5.6.23

Type 'help;' or '\h' for help. Type '\c' to clear the buffer.

mysql&gt; <strong class="userinput"><code>SHOW ENGINES\G</code></strong>
...
*************************** 12. row ***************************
Engine: NDBCLUSTER
Support: YES
Comment: Clustered, fault-tolerant, memory-based tables
*************************** 13. row ***************************
Engine: NDB
Support: YES
Comment: Alias for NDBCLUSTER
...
</pre><p>
      前の出力例に表示されている行番号は、サーバーの構成方法によっては、使用しているシステムで表示されるものと異なる可能性があります。
    </p><p>
      <code class="literal">NDBCLUSTER</code> テーブルを作成してみます。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql</code></strong>
mysql&gt; <strong class="userinput"><code>USE test;</code></strong>
Database changed

mysql&gt; <strong class="userinput"><code>CREATE TABLE ctest (i INT) ENGINE=NDBCLUSTER;</code></strong>
Query OK, 0 rows affected (0.09 sec)

mysql&gt; <strong class="userinput"><code>SHOW CREATE TABLE ctest \G</code></strong>
*************************** 1. row ***************************
       Table: ctest
Create Table: CREATE TABLE `ctest` (
  `i` int(11) default NULL
) ENGINE=ndbcluster DEFAULT CHARSET=latin1
1 row in set (0.00 sec)
</pre><p>
      ノードが適切にセットアップされたことをチェックするには、管理クライアントを起動します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndb_mgm</code></strong>
</pre><a class="indexterm" name="idm139979042741184"></a><p>
      クラスタのステータスに関するレポートを取得するには、管理クライアント内で <span class="command"><strong>SHOW</strong></span> コマンドを使用します。
    </p><pre class="programlisting">
ndb_mgm&gt; <strong class="userinput"><code>SHOW</code></strong>
Cluster Configuration
---------------------
[ndbd(NDB)]     1 node(s)
id=2    @127.0.0.1  (Version: 5.6.22-ndb-7.4.4, Nodegroup: 0, *)

[ndb_mgmd(MGM)] 1 node(s)
id=1    @127.0.0.1  (Version: 5.6.22-ndb-7.4.4)

[mysqld(API)]   3 node(s)
id=3    @127.0.0.1  (Version: 5.6.22-ndb-7.4.4)
id=4 (not connected, accepting connect from any host)
id=5 (not connected, accepting connect from any host)
</pre><p>
      この時点で、機能する MySQL Cluster が正常にセットアップされました。これで、<code class="literal">ENGINE=NDBCLUSTER</code> またはそのエイリアスである <code class="literal">ENGINE=NDB</code> を指定して作成したテーブルを使用して、クラスタにデータを格納できます。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-config-file"></a>18.3.2 MySQL Cluster の構成ファイル</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-config-example">18.3.2.1 MySQL Cluster 構成の基本的な例</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-config-starting">18.3.2.2 MySQL Cluster の推奨される初期構成</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-connection-strings">18.3.2.3 MySQL Cluster の接続文字列</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-computer-definition">18.3.2.4 MySQL Cluster 内のコンピュータの定義</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-mgm-definition">18.3.2.5 MySQL Cluster 管理サーバーの定義</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbd-definition">18.3.2.6 MySQL Cluster データノードの定義</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-api-definition">18.3.2.7 MySQL Cluster 内の SQL ノードおよびその他の API ノードの定義</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-tcp-definition">18.3.2.8 MySQL クラスタの TCP/IP 接続</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-tcp-definition-direct">18.3.2.9 直接接続を使用する MySQL Cluster の TCP/IP 接続</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-shm-definition">18.3.2.10 MySQL Cluster の共有メモリー接続</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-sci-definition">18.3.2.11 MySQL Cluster での SCI トランスポート接続</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-config-send-buffers">18.3.2.12 MySQL Cluster の送信バッファーパラメータの構成</a></span></dt></dl></div><a class="indexterm" name="idm139979042732128"></a><a class="indexterm" name="idm139979042730016"></a><a class="indexterm" name="idm139979042727984"></a><p>
      MySQL Cluster を構成するには、2 つのファイルを操作する必要があります。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="filename">my.cnf</code>: MySQL Cluster のすべての実行可能ファイルのオプションを指定します。このファイルは、(これまでの MySQL の使用経験からご存じのとおり) クラスタ内で実行されている個々の実行可能ファイルからアクセスできる必要があります。
        </p></li><li class="listitem"><p>
          <code class="filename">config.ini</code>: このファイルは、<em class="firstterm">グローバル構成ファイル</em>とも呼ばれますが、MySQL Cluster 管理サーバーからのみ読み取られます。管理サーバーに格納された情報は、クラスタに参加しているすべてのプロセスに配布されます。<code class="filename">config.ini</code> には、クラスタに関与する各ノードの記述が含まれています。これには、データノードに関する構成パラメータと、クラスタ内のすべてのノード間の接続に関する構成パラメータが含まれます。このファイルに含まれる可能性があるセクションと各セクションに配置される構成パラメータの種類を簡単に確認するには、「<a class="link" href="mysql-cluster.html#mysql-cluster-config-ini-sections" title="config.ini ファイルのセクション"><code class="filename">config.ini</code> ファイルのセクション</a>」を参照してください。
        </p></li></ul></div><p><b>構成データのキャッシュ </b>
        MySQL Cluster NDB 7.3 以降では、<code class="literal">NDB</code> は<em class="firstterm">ステートフル構成</em>を使用します。管理サーバーは、再起動されるたびにグローバル構成ファイルを読み取るのではなく、最初の起動時に構成をキャッシュし、その後は次の条件のいずれかが true である場合にのみグローバル構成ファイルを読み取ります。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>--initial オプションを使用すると管理サーバーが起動します </b>
            この場合は、グローバル構成ファイルが再度読み取られ、既存のキャッシュファイルが削除され、管理サーバーによって新しい構成キャッシュが作成されます。
          </p></li><li class="listitem"><p><b>--reload オプションを使用すると管理サーバーが起動します </b>
            この場合は、管理サーバーのキャッシュとグローバル構成ファイルが比較されます。これらが異なる場合は、管理サーバーによって新しい構成キャッシュが作成されます。既存の構成キャッシュは保持されますが、使用されません。管理サーバーのキャッシュとグローバル構成ファイルに同じ構成データが含まれている場合は、既存のキャッシュが使用され、新しいキャッシュは作成されません。
          </p></li><li class="listitem"><p><b>--config-cache オプションを使用すると管理サーバーが起動します </b>
            このオプションを使用すると、管理サーバーは構成キャッシュを完全にバイパスします。この場合、管理サーバーは存在する可能性がある構成ファイルを無視し、常に <code class="filename">config.ini</code> ファイルからその構成データを読み取ります。
          </p></li><li class="listitem"><p><b>構成キャッシュがみつかりません </b>
            この場合、管理サーバーはグローバル構成ファイルを読み取り、そのファイルと同じ構成データを含むキャッシュを作成します。
          </p></li></ul></div><p><b>構成キャッシュファイル </b>
        管理サーバーは、デフォルトで MySQL インストールディレクトリ内の <code class="filename">mysql-cluster</code> という名前のディレクトリに構成キャッシュファイルを作成します。(Unix システムでソースから MySQL Cluster をビルドした場合、デフォルトの場所は <code class="filename">/usr/local/mysql-cluster</code> です。)これは、<code class="option">--configdir</code> オプションを指定して管理サーバーを起動すると、実行時にオーバーライドできます。構成キャッシュファイルは、<code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_config.bin.<em class="replaceable"><code>seq_id</code></em></code> というパターンで命名されるバイナリファイルです。<em class="replaceable"><code>node_id</code></em> は管理サーバーのクラスタ内のノード ID で、<em class="replaceable"><code>seq_id</code></em> はキャッシュの識別子です。キャッシュファイルには、作成された順に <em class="replaceable"><code>seq_id</code></em> を使用して連番が付けられます。管理サーバーは、<em class="replaceable"><code>seq_id</code></em> で特定される最新のキャッシュファイルを使用します。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        あとの構成キャッシュファイルを削除するか、<em class="replaceable"><code>seq_id</code></em> が大きくなるように前のキャッシュファイルの名前を変更すると、前の構成にロールバックできます。ただし、構成キャッシュファイルはバイナリ形式で書き込まれるため、その内容を手動で編集しないでください。
      </p></div><p>
      MySQL Cluster 管理サーバーの <code class="option">--configdir</code>、<code class="option">--config-cache</code>、<code class="option">--initial</code>、および <code class="option">--reload</code> オプションの詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="18.4.4 ndb_mgmd — MySQL Cluster 管理サーバーデーモン">セクション18.4.4「<span class="command"><strong>ndb_mgmd</strong></span> — MySQL Cluster 管理サーバーデーモン」</a>を参照してください。
    </p><p>
      クラスタ構成の改良とこのプロセスを簡素化する試みを継続的に行なっています。下位互換性の維持に努めていますが、場合によっては互換性のない変更が行われる可能性があります。下位互換のない変更の場合には、クラスタのユーザーに事前に通知するように努めます。このような変更を発見し、それに関する情報が提供されていない場合は、<a class="xref" href="introduction.html#bug-reports" title="1.7 質問またはバグをレポートする方法">セクション1.7「質問またはバグをレポートする方法」</a>に示した手順を使用して MySQL バグデータベースに報告してください。
    </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-config-example"></a>18.3.2.1 MySQL Cluster 構成の基本的な例</h4></div></div></div><a class="indexterm" name="idm139979042687904"></a><a class="indexterm" name="idm139979042685792"></a><a class="indexterm" name="idm139979042683760"></a><p>
        MySQL Cluster をサポートするには、次の例に示すように <code class="filename">my.cnf</code> を更新する必要があります。これらのパラメータを実行可能ファイルの起動時にコマンド行に指定することもできます。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          ここに示すオプションを、<code class="filename">config.ini</code> グローバル構成ファイルで使用されるものと混同しないようにしてください。グローバル構成オプションについては、このセクションで後述します。
        </p></div><pre class="programlisting">
# my.cnf
# example additions to my.cnf for MySQL Cluster
# (valid in MySQL 5.6)

# enable ndbcluster storage engine, and provide connection string for
# management server host (default port is 1186)
[mysqld]
ndbcluster
ndb-connectstring=ndb_mgmd.mysql.com


# provide connection string for management server host (default port: 1186)
[ndbd]
connect-string=ndb_mgmd.mysql.com

# provide connection string for management server host (default port: 1186)
[ndb_mgm]
connect-string=ndb_mgmd.mysql.com

# provide location of cluster configuration file
[ndb_mgmd]
config-file=/etc/config.ini
</pre><p>
        (接続文字列の詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-connection-strings" title="18.3.2.3 MySQL Cluster の接続文字列">セクション18.3.2.3「MySQL Cluster の接続文字列」</a>を参照してください。)
      </p><pre class="programlisting">
# my.cnf
# example additions to my.cnf for MySQL Cluster
# (will work on all versions)

# enable ndbcluster storage engine, and provide connection string for management
# server host to the default port 1186
[mysqld]
ndbcluster
ndb-connectstring=ndb_mgmd.mysql.com:1186
</pre><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
          前に示したように、<code class="filename">my.cnf</code> ファイルの <code class="literal">[mysqld]</code> に <code class="literal">NDBCLUSTER</code> および <code class="literal">ndb-connectstring</code> パラメータを指定して <span class="command"><strong>mysqld</strong></span> プロセスを起動したあとは、クラスタを実際に起動しないと、<code class="literal">CREATE TABLE</code> または <code class="literal">ALTER TABLE</code> ステートメントを実行できません。そうでない場合、これらのステートメントはエラーで失敗します。<span class="emphasis"><em>これは意図的なものです</em></span>。
        </p></div><p>
        クラスタの <code class="filename">my.cnf</code> ファイルでは、すべての実行可能ファイルによって読み取られ、使用される設定で別個の <code class="literal">[mysql_cluster]</code> セクションを使用することもできます。
      </p><pre class="programlisting">
# cluster-specific settings
[mysql_cluster]
ndb-connectstring=ndb_mgmd.mysql.com:1186
</pre><p>
        <code class="filename">my.cnf</code> ファイルに設定できる追加の <code class="literal">NDB</code> 変数については、<a class="xref" href="mysql-cluster.html#mysql-cluster-system-variables" title="18.3.4.3 MySQL Cluster のシステム変数">セクション18.3.4.3「MySQL Cluster のシステム変数」</a>を参照してください。
      </p><p>
        MySQL Cluster のグローバル構成ファイルには、慣例で <code class="filename">config.ini</code> という名前が付けられています (ただし、これは必須ではありません)。これは、必要に応じて <span class="command"><strong>ndb_mgmd</strong></span> が起動時に読み取るため、読み取りが可能な任意の場所に配置できます。構成の場所と名前は、コマンド行の <span class="command"><strong>ndb_mgmd</strong></span> で <code class="option">--config-file=<em class="replaceable"><code>path_name</code></em></code> を使用して指定します。このオプションにデフォルト値はなく、<span class="command"><strong>ndb_mgmd</strong></span> で構成キャッシュを使用する場合、このオプションは無視されます。
      </p><p>
        MySQL Cluster のグローバル構成では、複数のセクションからなる INI 形式が使用されます。各セクションの先頭には (角括弧で囲まれた) セクション見出しが付き、そのあとに適切なパラメータ名と値が続きます。標準の INI 形式との違いの 1 つは、パラメータ名と値を等号 (<span class="quote">「<span class="quote"><code class="literal">=</code></span>」</span>) だけでなくコロン (<span class="quote">「<span class="quote"><code class="literal">:</code></span>」</span>) で区切ることもできることです (ただし、等号が推奨されます)。もう 1 つの違いは、セクションがセクション名で一意に識別されないことです。代わりに、一意のセクション (同じタイプの 2 つの異なるノードなど) はセクション内のパラメータとして指定された一意の ID で識別されます。
      </p><p>
        デフォルト値は、ほとんどのパラメータに定義されており、<code class="filename">config.ini</code> で指定することもできます。デフォルト値のセクションを作成するには、セクション名に <code class="literal">default</code> という単語を追加します。たとえば、<code class="literal">[ndbd]</code> セクションには特定のデータノードに適用されるパラメータが含まれていますが、<code class="literal">[ndbd default]</code> セクションにはすべてのデータノードに適用されるパラメータが含まれています。すべてのデータノードが同じデータメモリーサイズを使用するとします。これらすべてを構成するには、データメモリーサイズを指定する <code class="literal">DataMemory</code> 行を含む <code class="literal">[ndbd default]</code> セクションを作成します。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL Cluster の一部の古いリリースでは、<code class="literal">NoOfReplicas</code> のデフォルト値が存在しないため、常に <code class="literal">[ndbd default]</code> セクションに明示的にその値を指定する必要がありました。現在、このパラメータのデフォルト値はほとんどの一般的な使用シナリオでの推奨設定である 2 になっていますが、今後もこのパラメータを明示的に設定することが推奨されます。
        </p></div><p>
        グローバル構成ファイルでは、クラスタに関与するコンピュータとノード、およびノードをどのコンピュータに配置するかを定義する必要があります。1 つの管理サーバー、2 つのデータノード、および 2 つの MySQL サーバーで構成されるクラスタ用の簡単な構成ファイルの例をここに示します。
      </p><pre class="programlisting">
# file "config.ini" - 2 data nodes and 2 SQL nodes
# This file is placed in the startup directory of ndb_mgmd (the
# management server)
# The first MySQL Server can be started from any host. The second
# can be started only on the host mysqld_5.mysql.com

[ndbd default]
NoOfReplicas= 2
DataDir= /var/lib/mysql-cluster

[ndb_mgmd]
Hostname= ndb_mgmd.mysql.com
DataDir= /var/lib/mysql-cluster

[ndbd]
HostName= ndbd_2.mysql.com

[ndbd]
HostName= ndbd_3.mysql.com

[mysqld]
[mysqld]
HostName= mysqld_5.mysql.com
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          前の例は、MySQL Cluster に習熟するために必要な最小限の初期構成であり、本番環境の設定としては不十分です。完全な初期構成例については、<a class="xref" href="mysql-cluster.html#mysql-cluster-config-starting" title="18.3.2.2 MySQL Cluster の推奨される初期構成">セクション18.3.2.2「MySQL Cluster の推奨される初期構成」</a>を参照してください。
        </p></div><p>
        <code class="filename">config.ini</code> ファイルには、各ノードに固有のセクションがあります。たとえば、このクラスタには 2 つのデータノードがあるため、前に示した構成ファイルにはこれらのノードを定義する 2 つの <code class="literal">[ndbd]</code> セクションがあります。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          <code class="filename">config.ini</code> ファイルでは、セクション見出しと同じ行にコメントを配置しないでください。これを行うと、管理サーバーはこのような構成ファイルを解析できないため、起動しなくなります。
        </p></div><h5><a name="mysql-cluster-config-ini-sections"></a>config.ini ファイルのセクション</h5><p>
        次のリストで説明するように、<code class="filename">config.ini</code> 構成ファイルでは 6 つの異なるセクションを使用できます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">[computer]</code>: クラスタホストを定義します。これは、実行可能な MySQL Cluster の構成に必須ではありませんが、大規模なクラスタをセットアップするときに使用すると便利です。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-computer-definition" title="18.3.2.4 MySQL Cluster 内のコンピュータの定義">セクション18.3.2.4「MySQL Cluster 内のコンピュータの定義」</a>を参照してください。
          </p></li><li class="listitem"><p>
            <code class="literal">[ndbd]</code>: クラスタデータノード (<span class="command"><strong>ndbd</strong></span> プロセス) を定義します。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndbd-definition" title="18.3.2.6 MySQL Cluster データノードの定義">セクション18.3.2.6「MySQL Cluster データノードの定義」</a>を参照してください。
          </p></li><li class="listitem"><p>
            <code class="literal">[mysqld]</code>: クラスタの MySQL サーバーノード (SQL ノードや API ノードとも呼ばれる) を定義します。SQL ノードの構成については、<a class="xref" href="mysql-cluster.html#mysql-cluster-api-definition" title="18.3.2.7 MySQL Cluster 内の SQL ノードおよびその他の API ノードの定義">セクション18.3.2.7「MySQL Cluster 内の SQL ノードおよびその他の API ノードの定義」</a>を参照してください。
          </p></li><li class="listitem"><p>
            <code class="literal">[mgm]</code> または <code class="literal">[ndb_mgmd]</code>: クラスタの管理サーバー (MGM) ノードを定義します。管理ノードの構成については、<a class="xref" href="mysql-cluster.html#mysql-cluster-mgm-definition" title="18.3.2.5 MySQL Cluster 管理サーバーの定義">セクション18.3.2.5「MySQL Cluster 管理サーバーの定義」</a>を参照してください。
          </p></li><li class="listitem"><p>
            <code class="literal">[tcp]</code>: TCP/IP がデフォルトの接続プロトコルであるクラスタノード間の TCP/IP 接続を定義します。通常、<code class="literal">[tcp]</code> または <code class="literal">[tcp default]</code> セクションは、クラスタが自動的に処理するため、MySQL Cluster をセットアップするときは必要ありません。ただし、状況によっては、クラスタが提供するデフォルトをオーバーライドするために必要になることがあります。使用可能な TCP/IP 構成パラメータと使用方法については、<a class="xref" href="mysql-cluster.html#mysql-cluster-tcp-definition" title="18.3.2.8 MySQL クラスタの TCP/IP 接続">セクション18.3.2.8「MySQL クラスタの TCP/IP 接続」</a>を参照してください。(場合によっては、<a class="xref" href="mysql-cluster.html#mysql-cluster-tcp-definition-direct" title="18.3.2.9 直接接続を使用する MySQL Cluster の TCP/IP 接続">セクション18.3.2.9「直接接続を使用する MySQL Cluster の TCP/IP 接続」</a>も参考になる可能性があります。)
          </p></li><li class="listitem"><p>
            <code class="literal">[shm]</code>: ノード間の共有メモリー接続を定義します。これは、MySQL 5.6 ではデフォルトで有効になっていますが、まだ実験的なものだと考えるようにしてください。SHM 相互接続については、<a class="xref" href="mysql-cluster.html#mysql-cluster-shm-definition" title="18.3.2.10 MySQL Cluster の共有メモリー接続">セクション18.3.2.10「MySQL Cluster の共有メモリー接続」</a>を参照してください。
          </p></li><li class="listitem"><p>
            <code class="literal">[sci]</code>: クラスタデータノード間の<em class="firstterm">スケーラブルコヒーラントインタフェース</em>接続を定義します。このような接続には、無償で入手でき MySQL Cluster 配布には含まれないソフトウェアと、専用のハードウェアが必要です。SCI 相互接続の詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-sci-definition" title="18.3.2.11 MySQL Cluster での SCI トランスポート接続">セクション18.3.2.11「MySQL Cluster での SCI トランスポート接続」</a>を参照してください。
          </p></li></ul></div><p>
        セクションごとに <code class="literal">default</code> 値を定義できます。<code class="filename">my.cnf</code> または <code class="filename">my.ini</code> ファイルに指定されるパラメータと異なり、すべてのクラスタパラメータ名は大文字と小文字を区別しません。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-config-starting"></a>18.3.2.2 MySQL Cluster の推奨される初期構成</h4></div></div></div><p>
        MySQL Cluster で最良のパフォーマンスを実現できるかどうかは、次を含むいくつかの要因に依存します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            MySQL Cluster ソフトウェアのバージョン
          </p></li><li class="listitem"><p>
            データノードおよび SQL ノードの数
          </p></li><li class="listitem"><p>
            ハードウェア
          </p></li><li class="listitem"><p>
            オペレーティングシステム
          </p></li><li class="listitem"><p>
            格納されるデータの量
          </p></li><li class="listitem"><p>
            クラスタ稼働時の負荷のサイズとタイプ
          </p></li></ul></div><p>
        このため、最適な構成を獲得するプロセスは反復的なものになる可能性が高く、その結果は個々の MySQL Cluster 配備によって大きく異なる可能性があります。クラスタが動作するプラットフォームや MySQL Cluster のデータを使用するアプリケーションに変更が加えられたときは、構成の変更も必要になる可能性があります。これらの理由により、すべての使用シナリオに適した単一の構成を提示することは不可能です。ただし、このセクションでは推奨されるベース構成を示します。
      </p><p><b>初期の config.ini ファイル </b>
          MySQL Cluster NDB 7.3 以降を実行するクラスタ構成の開始点として、次の <code class="filename">config.ini</code> ファイルを推奨します。
        </p><pre class="programlisting">
# TCP PARAMETERS

[tcp default]
<code class="literal">SendBufferMemory</code>=2M
<code class="literal">ReceiveBufferMemory</code>=2M

# Increasing the sizes of these 2 buffers beyond the default values
# helps prevent bottlenecks due to slow disk I/O.

# MANAGEMENT NODE PARAMETERS

[ndb_mgmd default]
<code class="literal">DataDir</code>=<em class="replaceable"><code>path/to/management/server/data/directory</code></em>

# It is possible to use a different data directory for each management
# server, but for ease of administration it is preferable to be
# consistent.

[ndb_mgmd]
<code class="literal">HostName</code>=<em class="replaceable"><code>management-server-A-hostname</code></em>
# <code class="literal">NodeId</code>=<em class="replaceable"><code>management-server-A-nodeid</code></em>

[ndb_mgmd]
<code class="literal">HostName</code>=<em class="replaceable"><code>management-server-B-hostname</code></em>
# <code class="literal">NodeId</code>=<em class="replaceable"><code>management-server-B-nodeid</code></em>

# Using 2 management servers helps guarantee that there is always an
# arbitrator in the event of network partitioning, and so is
# recommended for high availability. Each management server must be
# identified by a HostName. You may for the sake of convenience specify
# a NodeId for any management server, although one will be allocated
# for it automatically; if you do so, it must be in the range 1-255
# inclusive and must be unique among all IDs specified for cluster
# nodes.

# DATA NODE PARAMETERS

[ndbd default]
<code class="literal">NoOfReplicas</code>=2

# Using 2 replicas is recommended to guarantee availability of data; 
# using only 1 replica does not provide any redundancy, which means 
# that the failure of a single data node causes the entire cluster to 
# shut down. We do not recommend using more than 2 replicas, since 2 is 
# sufficient to provide high availability, and we do not currently test 
# with greater values for this parameter.

<code class="literal">LockPagesInMainMemory</code>=1

# On Linux and Solaris systems, setting this parameter locks data node
# processes into memory. Doing so prevents them from swapping to disk,
# which can severely degrade cluster performance.

<code class="literal">DataMemory</code>=3072M
<code class="literal">IndexMemory</code>=384M

# The values provided for DataMemory and IndexMemory assume 4 GB RAM
# per data node. However, for best results, you should first calculate
# the memory that would be used based on the data you actually plan to
# store (you may find the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-size-pl" title="18.4.25 ndb_size.pl — NDBCLUSTER サイズ要件エスティメータ">ndb_size.pl</a> utility helpful in estimating
# this), then allow an extra 20% over the calculated values. Naturally,
# you should ensure that each data node host has at least as much
# physical memory as the sum of these two values.

# <code class="literal">ODirect</code>=1

# Enabling this parameter causes NDBCLUSTER to try using O_DIRECT
# writes for local checkpoints and redo logs; this can reduce load on
# CPUs. We recommend doing so when using MySQL Cluster on systems running 
# Linux kernel 2.6 or later.

<code class="literal">NoOfFragmentLogFiles</code>=300
<code class="literal">DataDir</code>=<em class="replaceable"><code>path/to/data/node/data/directory</code></em>
<code class="literal">MaxNoOfConcurrentOperations</code>=100000

<code class="literal">SchedulerSpinTimer</code>=400
<code class="literal">SchedulerExecutionTimer</code>=100
<code class="literal">RealTimeScheduler</code>=1
# Setting these parameters allows you to take advantage of real-time scheduling
# of NDB threads to achieve increased throughput when using <span class="command"><strong>ndbd</strong></span>. They 
# are not needed when using <span class="command"><strong>ndbmtd</strong></span>; in particular, you should not set 
# <code class="literal">RealTimeScheduler</code> for <span class="command"><strong>ndbmtd</strong></span> data nodes.

<code class="literal">TimeBetweenGlobalCheckpoints</code>=1000
<code class="literal">TimeBetweenEpochs</code>=200
<code class="literal">DiskCheckpointSpeed</code>=10M
<code class="literal">DiskCheckpointSpeedInRestart</code>=100M
<code class="literal">RedoBuffer</code>=32M

# <code class="literal">CompressedLCP</code>=1
# <code class="literal">CompressedBackup</code>=1
# Enabling CompressedLCP and CompressedBackup causes, respectively, local
checkpoint files and backup files to be compressed, which can result in a space
savings of up to 50% over noncompressed LCPs and backups.

# <code class="literal">MaxNoOfLocalScans</code>=64
<code class="literal">MaxNoOfTables</code>=1024
<code class="literal">MaxNoOfOrderedIndexes</code>=256

[ndbd]
<code class="literal">HostName</code>=<em class="replaceable"><code>data-node-A-hostname</code></em>
# <code class="literal">NodeId</code>=<em class="replaceable"><code>data-node-A-nodeid</code></em>

<code class="literal">LockExecuteThreadToCPU</code>=1
<code class="literal">LockMaintThreadsToCPU</code>=0
# On systems with multiple CPUs, these parameters can be used to lock NDBCLUSTER
# threads to specific CPUs

[ndbd]
<code class="literal">HostName</code>=<em class="replaceable"><code>data-node-B-hostname</code></em>
# <code class="literal">NodeId</code>=<em class="replaceable"><code>data-node-B-nodeid</code></em>

<code class="literal">LockExecuteThreadToCPU</code>=1
<code class="literal">LockMaintThreadsToCPU</code>=0

# You must have an [ndbd] section for every data node in the cluster;
# each of these sections must include a HostName. Each section may
# optionally include a NodeId for convenience, but in most cases, it is
# sufficient to allow the cluster to allocate node IDs dynamically. If
# you do specify the node ID for a data node, it must be in the range 1
# to 48 inclusive and must be unique among all IDs specified for
# cluster nodes.

# SQL NODE / API NODE PARAMETERS

[mysqld]
# <code class="literal">HostName</code>=<em class="replaceable"><code>sql-node-A-hostname</code></em>
# <code class="literal">NodeId</code>=<em class="replaceable"><code>sql-node-A-nodeid</code></em>

[mysqld]

[mysqld]

# Each API or SQL node that connects to the cluster requires a [mysqld]
# or [api] section of its own. Each such section defines a connection
# <span class="quote">「<span class="quote">slot</span>」</span>; you should have at least as many of these sections in the
# config.ini file as the total number of API nodes and SQL nodes that
# you wish to have connected to the cluster at any given time. There is
# no performance or other penalty for having extra slots available in
# case you find later that you want or need more API or SQL nodes to
# connect to the cluster at the same time.
# If no HostName is specified for a given [mysqld] or [api] section,
# then <span class="emphasis"><em>any</em></span> API or SQL node may use that slot to connect to the
# cluster. You may wish to use an explicit HostName for one connection slot
# to guarantee that an API or SQL node from that host can always
# connect to the cluster. If you wish to prevent API or SQL nodes from
# connecting from other than a desired host or hosts, then use a
# HostName for every [mysqld] or [api] section in the config.ini file.
# You can if you wish define a node ID (NodeId parameter) for any API or
# SQL node, but this is not necessary; if you do so, it must be in the
# range 1 to 255 inclusive and must be unique among all IDs specified
# for cluster nodes.
</pre><p><b>推奨される SQL ノードの my.cnf オプション </b>
          MySQL Cluster SQL ノードとして機能する MySQL サーバーは、常にコマンド行または <code class="filename">my.cnf</code> に <code class="option">--ndbcluster</code> および <code class="option">--ndb-connectstring</code> オプションを指定して起動する必要があります。さらに、セットアップでほかのオプションを必要とする場合を除き、クラスタ内のすべての <span class="command"><strong>mysqld</strong></span> プロセスに次のオプションを設定してください。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="option">--ndb-use-exact-count=0</code>
          </p></li><li class="listitem"><p>
            <code class="option">--ndb-index-stat-enable=0</code>
          </p></li><li class="listitem"><p>
            <code class="option">--ndb-force-send=1</code>
          </p></li><li class="listitem"><p>
            <code class="option">--engine-condition-pushdown=1</code>
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-connection-strings"></a>18.3.2.3 MySQL Cluster の接続文字列</h4></div></div></div><a class="indexterm" name="idm139979042530000"></a><a class="indexterm" name="idm139979042527888"></a><p>
        MySQL Cluster 管理サーバー (<span class="command"><strong>ndb_mgmd</strong></span>) を除き、MySQL Cluster の一部となる各ノードには、管理サーバーの場所を指定する<em class="firstterm">接続文字列</em>が必要です。この接続文字列は、管理サーバーとの接続を確立するときに使用されるほか、クラスタ内でのノードの役割によっては、ほかのタスクを実行するときにも使用されます。接続文字列の構文は次のとおりです。
      </p><pre class="programlisting">
[nodeid=<em class="replaceable"><code>node_id</code></em>, ]<em class="replaceable"><code>host-definition</code></em>[, <em class="replaceable"><code>host-definition</code></em>[, ...]]

<em class="replaceable"><code>host-definition</code></em>:
    <em class="replaceable"><code>host_name</code></em>[:<em class="replaceable"><code>port_number</code></em>]
</pre><p>
        <code class="literal">node_id</code> は、<code class="filename">config.ini</code> 内のノードを識別する 1 以上の整数です。<em class="replaceable"><code>host_name</code></em> は、有効なインターネット名または IP アドレスを表す文字列です。<em class="replaceable"><code>port_number</code></em> は、TCP/IP ポート番号を参照する整数です。
      </p><pre class="programlisting">
example 1 (long):    "nodeid=2,myhost1:1100,myhost2:1100,192.168.0.3:1200"
example 2 (short):   "myhost1"
</pre><p>
        何も指定されなかった場合は、デフォルトの接続文字列値として <code class="literal">localhost:1186</code> が使用されます。接続文字列から <em class="replaceable"><code>port_num</code></em> が省略された場合、デフォルトポートは 1186 です。このポートは、この目的のために IANA によって割り当てられたものであるため、ネットワーク上で常に使用可能です (詳細は、<a class="ulink" href="http://www.iana.org/assignments/port-numbers" target="_top">http://www.iana.org/assignments/port-numbers</a>を参照してください)。
      </p><p>
        複数のホスト定義を列挙すると、複数の冗長管理サーバーを指定できます。MySQL Cluster のデータまたは API ノードは、正常な接続が確立されるまで、各ホスト上の連続する管理サーバーへの接続を指定された順序で試行します。
      </p><p>
        接続文字列には、管理サーバーに接続する複数のネットワークインタフェースを持つノードで使用される 1 つ以上のバインドアドレスを指定することもできます。バインドアドレスは、ホスト名またはネットワークアドレスと、オプションのポート番号で構成されます。この拡張された接続文字列の構文をここに示します。
      </p><pre class="programlisting">
[nodeid=<em class="replaceable"><code>node_id</code></em>, ]
    [bind-address=<em class="replaceable"><code>host-definition</code></em>, ]
    <em class="replaceable"><code>host-definition</code></em>[; bind-address=<em class="replaceable"><code>host-definition</code></em>]
    <em class="replaceable"><code>host-definition</code></em>[; bind-address=<em class="replaceable"><code>host-definition</code></em>]
    [, ...]]

<em class="replaceable"><code>host-definition</code></em>:
    <em class="replaceable"><code>host_name</code></em>[:<em class="replaceable"><code>port_number</code></em>]
</pre><p>
        接続文字列で管理ホストを指定する<span class="emphasis"><em>前に</em></span> 1 つのバインドアドレスを使用すると、そのアドレスは管理ホストのいずれかに接続するためのデフォルトとして使用されます (特定の管理サーバーにオーバーライドされた場合を除きます。例については、このセクションで後述します)。たとえば、次の接続文字列によって、このノードは接続先の管理サーバーに関係なく <code class="literal">192.168.178.242</code> を使用します。
      </p><pre class="programlisting">
bind-address=192.168.178.242, poseidon:1186, perch:1186
</pre><p>
        管理ホストの定義の<span class="emphasis"><em>あとに</em></span>バインドアドレスを指定すると、そのアドレスはその管理ノードへの接続でのみ使用されます。次の接続文字列について考えます。
      </p><pre class="programlisting">
poseidon:1186;bind-address=localhost, perch:1186;bind-address=192.168.178.242
</pre><p>
        この場合、ノードは <code class="literal">poseidon</code> という名前のホストで実行されている管理サーバーに接続するために <code class="literal">localhost</code> を使用し、<code class="literal">perch</code> という名前のホストで実行されている管理サーバーに接続するために <code class="literal">192.168.178.242</code> を使用します。
      </p><p>
        デフォルトのバインドアドレスを指定してから、1 台以上の管理ホストにこのデフォルトをオーバーライドできます。次の例では、ホスト <code class="literal">poseidon</code> で実行されている管理サーバーに接続するために <code class="literal">localhost</code> が使用されます。<code class="literal">192.168.178.242</code> は、最初に (どの管理サーバーの定義よりも前に) 指定されているため、デフォルトのバインドアドレスであり、ホスト <code class="literal">perch</code> および <code class="literal">orca</code> 上の管理サーバーに接続するために使用されます。
      </p><pre class="programlisting">
bind-address=192.168.178.242,poseidon:1186;bind-address=localhost,perch:1186,orca:2200
</pre><p>
        接続文字列を指定するには、いくつかの異なる方法があります。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            各実行可能ファイルには、起動時に管理サーバーを指定できる固有のコマンド行オプションがあります。(各実行可能ファイルのドキュメントを参照してください。)
          </p></li><li class="listitem"><p>
            管理サーバーの <code class="filename">my.cnf</code> ファイルの <code class="literal">[mysql_cluster]</code> セクションに接続文字列を配置することで、クラスタ内のすべてのノードの接続文字列を同時に設定することもできます。
          </p></li><li class="listitem"><p>
            下位互換性のため、同じ構文を使用するオプションがほかに 2 つ用意されています。
          </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
                <code class="envar">NDB_CONNECTSTRING</code> 環境変数を設定して、接続文字列を含めます。
              </p></li><li class="listitem"><p>
                各実行可能ファイル用の接続文字列を <code class="filename">Ndb.cfg</code> という名前のテキストファイルに記述し、このファイルを実行可能ファイルの起動ディレクトリに配置します。
              </p></li></ol></div><p>
            ただし、これらは現在非推奨であり、新しいインストールに使用しないでください。
          </p></li></ul></div><p>
        推奨される接続文字列の指定方法は、各実行可能ファイルのコマンド行または <code class="filename">my.cnf</code> ファイルでの設定です。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-computer-definition"></a>18.3.2.4 MySQL Cluster 内のコンピュータの定義</h4></div></div></div><a class="indexterm" name="idm139979042478832"></a><a class="indexterm" name="idm139979042476688"></a><p>
        <code class="literal">[computer]</code> セクションは、システム内の各ノードのホスト名を定義しないで済む方法を提供する以外は、基本的には重要ではありません。ここに示すすべてのパラメータは必須です。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-computer-id"></a>
            <code class="literal">Id</code>
          </p><div class="informaltable"><a name="id-computer-table"></a><table summary="この表は、Id コンピュータ構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>文字列</td><td>[none]</td><td>...</td><td>IS</td></tr></tbody></table></div><p>
            これは、構成ファイルに含まれるホストコンピュータを参照するために使用する一意の識別子です。
          </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
              コンピュータ ID は、管理、API、またはデータノードに使用するノード ID とは<span class="emphasis"><em>異なります</em></span>。ノード ID の場合と異なり、<code class="filename">config.ini</code> ファイルの <code class="literal">[computer]</code> セクションでは、<code class="literal">Id</code> の代わりに <code class="literal">NodeId</code> を使用できません。
            </p></div></li><li class="listitem"><p><a name="ndbparam-computer-hostname"></a>
            <code class="literal">HostName</code>
          </p><div class="informaltable"><a name="hostname-computer-table"></a><table summary="この表は、HostName コンピュータ構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>名前または IP アドレス</td><td>[none]</td><td>...</td><td>N</td></tr></tbody></table></div><p>
            これは、コンピュータのホスト名または IP アドレスです。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-mgm-definition"></a>18.3.2.5 MySQL Cluster 管理サーバーの定義</h4></div></div></div><a class="indexterm" name="idm139979042436816"></a><a class="indexterm" name="idm139979042434672"></a><p>
        <code class="literal">[ndb_mgmd]</code> セクションは、管理サーバーの動作を構成するために使用されます。複数の管理サーバーが採用されている場合は、それらのすべてに共通するパラメータを <code class="literal">[ndb_mgmd default]</code> セクションに指定できます。<code class="literal">[mgm]</code> と <code class="literal">[mgm default]</code> はこれらの古いエイリアスで、下位互換性に対応しています。
      </p><p>
        次のリストに示すパラメータはすべてオプションであり、省略した場合はデフォルト値が使用されます。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          <code class="literal">ExecuteOnComputer</code> パラメータと <code class="literal">HostName</code> パラメータがどちらも存在しない場合は、デフォルト値の <code class="literal">localhost</code> が両方に使用されます。
        </p></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-mgmd-id"></a>
            <a class="indexterm" name="idm139979042423712"></a> <code class="literal">Id</code>
          </p><div class="informaltable"><a name="id-mgmd-table"></a><table summary="この表は、Id 管理ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-mgmd" title="18.3.3.2 MySQL Cluster 管理ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>[none]</td><td>1 - 255</td><td>IS</td></tr></tbody></table></div><p>
            クラスタ内の各ノードは一意の ID を持っています。管理ノードの場合、これは 1-255 の (これらを含む) 範囲の整数値で表されます。この ID はすべての内部クラスタメッセージでノードを解決するために使用されるため、ノードのタイプに関係なく、各 MySQL Cluster ノードで一意である必要があります。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              データノードの ID は、49 未満にする必要があります。多数のデータノードを配備する予定の場合は、管理ノード (および API ノード) のノード ID を 48 より大きい値に制限することをお勧めします。
            </p></div><p>
            <code class="literal">Id</code> パラメータを使った管理ノードの識別は、<code class="literal">NodeId</code> を優先するため非推奨になりました。<code class="literal">Id</code> は、下位互換性に引き続き対応しますが、現在は警告を生成するようになっており、MySQL Cluster の今後のバージョンで削除される予定です。
          </p></li><li class="listitem"><p><a name="ndbparam-mgmd-nodeid"></a>
            <a class="indexterm" name="idm139979042402192"></a> <code class="literal">NodeId</code>
          </p><div class="informaltable"><a name="nodeid-mgmd-table"></a><table summary="この表は、NodeId 管理ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-mgmd" title="18.3.3.2 MySQL Cluster 管理ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>[none]</td><td>1 - 255</td><td>IS</td></tr></tbody></table></div><p>
            クラスタ内の各ノードは一意の ID を持っています。管理ノードでは、これは 1-255 の (これらを含む) 範囲の整数値で表されます。この ID はすべての内部クラスタメッセージでノードを解決するために使用されるため、ノードのタイプに関係なく、各 MySQL Cluster ノードで一意である必要があります。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              データノードの ID は、49 未満にする必要があります。多数のデータノードを配備する予定の場合は、管理ノード (および API ノード) のノード ID を 48 より大きい値に制限することをお勧めします。
            </p></div><p>
            <code class="literal">NodeId</code> は、管理ノードを識別時の使用が推奨されるパラメータ名です。古い <code class="literal">Id</code> は、下位互換性に引き続き対応しますが、現在は非推奨であり、使用時に警告を生成します。また、MySQL Cluster の今後のリリースで削除される予定です。
          </p></li><li class="listitem"><p><a name="ndbparam-mgmd-executeoncomputer"></a>
            <a class="indexterm" name="idm139979042381440"></a> <code class="literal">ExecuteOnComputer</code>
          </p><div class="informaltable"><a name="executeoncomputer-mgmd-table"></a><table summary="この表は、ExecuteOnComputer 管理ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-mgmd" title="18.3.3.2 MySQL Cluster 管理ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>name</td><td>[none]</td><td>...</td><td>S</td></tr></tbody></table></div><p>
            これは、<code class="filename">config.ini</code> ファイルの <code class="literal">[computer]</code> セクションに定義されたいずれかのコンピュータに設定されている <code class="literal">Id</code> を参照します。
          </p></li><li class="listitem"><p><a name="ndbparam-mgmd-portnumber"></a>
            <a class="indexterm" name="idm139979042362912"></a> <code class="literal">PortNumber</code>
          </p><div class="informaltable"><a name="portnumber-mgmd-table"></a><table summary="この表は、PortNumber 管理ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-mgmd" title="18.3.3.2 MySQL Cluster 管理ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>1186</td><td>0 - 64K</td><td>N</td></tr></tbody></table></div><p>
            これは、管理サーバーが構成要求と管理コマンドを待機するポートの番号です。
          </p></li><li class="listitem"><p><a name="ndbparam-mgmd-hostname"></a>
            <a class="indexterm" name="idm139979042346592"></a> <code class="literal">HostName</code>
          </p><div class="informaltable"><a name="hostname-mgmd-table"></a><table summary="この表は、HostName 管理ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-mgmd" title="18.3.3.2 MySQL Cluster 管理ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>名前または IP アドレス</td><td>[none]</td><td>...</td><td>N</td></tr></tbody></table></div><p>
            このパラメータを指定すると、管理ノードを配置するコンピュータのホスト名が定義されます。<code class="literal">localhost</code> 以外のホスト名を指定するには、このパラメータまたは <code class="literal">ExecuteOnComputer</code> のどちらかが必要です。
          </p></li><li class="listitem"><p><a name="ndbparam-mgmd-logdestination"></a>
            <a class="indexterm" name="idm139979042328496"></a> <code class="literal">LogDestination</code>
          </p><div class="informaltable"><a name="logdestination-mgmd-table"></a><table summary="この表は、LogDestination 管理ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-mgmd" title="18.3.3.2 MySQL Cluster 管理ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>{CONSOLE|SYSLOG|FILE}</td><td>[テキストを参照]</td><td>...</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、クラスタのロギング情報の送信先を指定します。これには <code class="literal">CONSOLE</code>、<code class="literal">SYSLOG</code>、<code class="literal">FILE</code> の 3 つのオプションがあり、<code class="literal">FILE</code> がデフォルトです。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">CONSOLE</code> では、<code class="literal">stdout</code> にログが出力されます。
              </p><pre class="programlisting">
CONSOLE
</pre></li><li class="listitem"><p>
                <code class="literal">SYSLOG</code> では、<code class="literal">syslog</code> 機能にログが送信されます。指定できる値は、<code class="literal">auth</code>、<code class="literal">authpriv</code>、<code class="literal">cron</code>、<code class="literal">daemon</code>、<code class="literal">ftp</code>、<code class="literal">kern</code>、<code class="literal">lpr</code>、<code class="literal">mail</code>、<code class="literal">news</code>、<code class="literal">syslog</code>、<code class="literal">user</code>、<code class="literal">uucp</code>、<code class="literal">local0</code>、<code class="literal">local1</code>、<code class="literal">local2</code>、<code class="literal">local3</code>、<code class="literal">local4</code>、<code class="literal">local5</code>、<code class="literal">local6</code>、<code class="literal">local7</code> のいずれかです。
              </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
                  すべてのオペレーティングシステムで必ずしもすべての機能がサポートされるとはかぎりません。
                </p></div><pre class="programlisting">
SYSLOG:facility=syslog
</pre></li><li class="listitem"><p>
                <code class="literal">FILE</code> では、クラスタのログ出力が同じマシン上の通常のファイルにパイプされます。次の値を指定できます。
              </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>
                    <code class="literal">filename</code>: ログファイルの名前。
                  </p><p>
                    MySQL Cluster NDB 7.3 以降では、このような場合に使用されるデフォルトのログファイル名は <code class="filename">ndb_<em class="replaceable"><code>nodeid</code></em>_cluster.log</code> です (一部の古いバージョンでは、<code class="literal">filename</code> を設定せずに <code class="literal">FILE</code> を指定した場合に使用されるデフォルトのログファイル名は <code class="filename">logger.log</code> でした)。
                  </p></li><li class="listitem"><p>
                    <code class="literal">maxsize</code>: ロギングが新しいファイルにロールオーバーされる前のファイルの最大サイズ (バイト単位)。これが発生すると、古いログファイルの名前が変更され、ファイル名の末尾に <em class="replaceable"><code>.N</code></em> が追加されます (<em class="replaceable"><code>N</code></em> はこの名前に対してまだ使用されていない次の番号です)。
                  </p></li><li class="listitem"><p>
                    <code class="literal">maxfiles</code>: ログファイルの最大数。
                  </p></li></ul></div><pre class="programlisting">
FILE:filename=cluster.log,maxsize=1000000,maxfiles=6
</pre><p>
                <code class="literal">FILE</code> パラメータのデフォルト値は、<code class="literal">FILE:filename=ndb_<em class="replaceable"><code>node_id</code></em>_cluster.log,maxsize=1000000,maxfiles=6</code> です (<em class="replaceable"><code>node_id</code></em> はノードの ID です)。
              </p></li></ul></div><p>
            ここに示すように、複数のログの保存先をセミコロンで区切って指定できます。
          </p><pre class="programlisting">
CONSOLE;SYSLOG:facility=local0;FILE:filename=/var/log/mgmd
</pre></li><li class="listitem"><p><a name="ndbparam-mgmd-arbitrationrank"></a>
            <a class="indexterm" name="idm139979042269104"></a> <code class="literal">ArbitrationRank</code>
          </p><div class="informaltable"><a name="arbitrationrank-mgmd-table"></a><table summary="この表は、ArbitrationRank 管理ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-mgmd" title="18.3.3.2 MySQL Cluster 管理ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>0-2</td><td>1</td><td>0 - 2</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、アービトレータとして機能するノードを定義するために使用されます。アービトレータにできるのは、管理ノードと SQL ノードだけです。<code class="literal">ArbitrationRank</code> には次のいずれかの値を指定できます。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">0</code>: このノードはアービトレータとして使用できません。
              </p></li><li class="listitem"><p>
                <code class="literal">1</code>: このノードは高い優先度を持っており、優先度の低いノードより優先的にアービトレータになります。
              </p></li><li class="listitem"><p>
                <code class="literal">2</code>: 優先度の高いノードがこの目的で使用できない場合にのみアービトレータとして使用される、優先度の低いノードを示します。
              </p></li></ul></div><p>
            通常は、管理サーバーの <code class="literal">ArbitrationRank</code> を 1 (管理ノードのデフォルト) に設定し、すべての SQL ノードを 0 (SQL ノードのデフォルト) に設定することにより、管理サーバーをアービトレータとして構成してください。
          </p><p>
            すべての管理および SQL ノードで <code class="literal">ArbitrationRank</code> を 0 に設定するか、<code class="filename">config.ini</code> グローバル構成ファイルの <code class="literal">[ndbd default]</code> セクションに <code class="literal">Arbitration</code> パラメータを設定することで、アービトレーションを完全に無効化できます。<code class="literal">Arbitration</code> を設定すると、<code class="literal">ArbitrationRank</code> の設定はすべて無視されます。
          </p></li><li class="listitem"><p><a name="ndbparam-mgmd-arbitrationdelay"></a>
            <a class="indexterm" name="idm139979042238544"></a> <code class="literal">ArbitrationDelay</code>
          </p><div class="informaltable"><a name="arbitrationdelay-mgmd-table"></a><table summary="この表は、ArbitrationDelay 管理ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-mgmd" title="18.3.3.2 MySQL Cluster 管理ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ミリ秒</td><td>0</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            アービトレーション要求に対する管理サーバーの応答をミリ秒数だけ遅らせるための整数値。デフォルトでは、この値は 0 です。通常、これを変更する必要はありません。
          </p></li><li class="listitem"><p><a name="ndbparam-mgmd-datadir"></a>
            <a class="indexterm" name="idm139979042221904"></a> <code class="literal">DataDir</code>
          </p><div class="informaltable"><a name="datadir-mgmd-table"></a><table summary="この表は、DataDir 管理ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-mgmd" title="18.3.3.2 MySQL Cluster 管理ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>パス</td><td>.</td><td>...</td><td>N</td></tr></tbody></table></div><p>
            これは、管理サーバーの出力ファイルを配置するディレクトリを指定します。これらのファイルには、クラスタのログファイル、プロセスの出力ファイル、およびデーモンのプロセス ID (PID) ファイルが含まれます。(ログファイルでは、<code class="literal">LogDestination</code> の <code class="literal">FILE</code> パラメータをこのセクションで前述したように設定することで、この場所をオーバーライドできます。)
          </p><p>
            このパラメータのデフォルト値は、<span class="command"><strong>ndb_mgmd</strong></span> が配置されているディレクトリです。
          </p></li><li class="listitem"><p><a name="ndbparam-mgmd-portnumberstats"></a>
            <a class="indexterm" name="idm139979042201824"></a> <code class="literal">PortNumberStats</code>
          </p><div class="informaltable"><a name="portnumberstats-mgmd-table"></a><table summary="この表は、PortNumberStats 管理ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-mgmd" title="18.3.3.2 MySQL Cluster 管理ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>[none]</td><td>0 - 64K</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、MySQL Cluster 管理サーバーから統計情報を取得するために使用されるポート番号を指定します。デフォルト値はありません。
          </p></li><li class="listitem"><p><a name="ndbparam-mgmd-wan"></a>
            <a class="indexterm" name="idm139979042185248"></a> <code class="literal">Wan</code>
          </p><div class="informaltable"><a name="wan-mgmd-table"></a><table summary="この表は、wan 管理ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-mgmd" title="18.3.3.2 MySQL Cluster 管理ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ブール</td><td>false</td><td>true、false</td><td>N</td></tr></tbody></table></div><p>
            WAN の TCP 設定をデフォルトとして使用します。
          </p></li><li class="listitem"><p><a name="ndbparam-mgmd-heartbeatthreadpriority"></a>
            <a class="indexterm" name="idm139979042168672"></a> <code class="literal">HeartbeatThreadPriority</code>
          </p><div class="informaltable"><a name="heartbeatthreadpriority-mgmd-table"></a><table summary="この表は、HeartbeatThreadPriority 管理ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-mgmd" title="18.3.3.2 MySQL Cluster 管理ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>文字列</td><td>[none]</td><td>...</td><td>S</td></tr></tbody></table></div><p>
            管理および API ノードのハートビートスレッドのスケジューリングポリシーと優先度を設定します。
          </p><p>
            このパラメータを設定するための構文をここに示します。
          </p><pre class="programlisting">
HeartbeatThreadPriority = <em class="replaceable"><code>policy</code></em>[, <em class="replaceable"><code>priority</code></em>]

<em class="replaceable"><code>policy</code></em>:
  {FIFO | RR}
</pre><p>
            このパラメータを設定するときは、ポリシーを指定する必要があります。これは、<code class="literal">FIFO</code> (先入れ先出し) または <code class="literal">RR</code> (ラウンドロビン) のいずれかです。オプションで、ポリシー値のあとに優先度 (整数) を指定できます。
          </p></li><li class="listitem"><p><a name="ndbparam-mgmd-totalsendbuffermemory"></a>
            <a class="indexterm" name="idm139979042147200"></a> <code class="literal">TotalSendBufferMemory</code>
          </p><div class="informaltable"><a name="totalsendbuffermemory-mgmd-table"></a><table summary="この表は、TotalSendBufferMemory 管理ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-mgmd" title="18.3.3.2 MySQL Cluster 管理ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>256K</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、すべての構成済みトランスポータ間で共有される送信バッファーメモリーの、このノードに割り当てられるメモリー合計量を決定するために使用されます。
          </p><p>
            このパラメータを設定する場合、許容される最小値は 256K バイト、最大値は 4294967039 です。<code class="literal">TotalSendBufferMemory</code> の動作と使用、および送信バッファーメモリーパラメータの構成の詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-config-send-buffers" title="18.3.2.12 MySQL Cluster の送信バッファーパラメータの構成">セクション18.3.2.12「MySQL Cluster の送信バッファーパラメータの構成」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="ndbparam-mgmd-heartbeatintervalmgmdmgmd"></a>
            <a class="indexterm" name="idm139979042127328"></a> <code class="literal">HeartbeatIntervalMgmdMgmd</code>
          </p><div class="informaltable"><a name="heartbeatintervalmgmdmgmd-mgmd-table"></a><table summary="この表は、HeartbeatIntervalMgmdMgmd 管理ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-mgmd" title="18.3.3.2 MySQL Cluster 管理ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ミリ秒</td><td>1500</td><td>100 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr><tr><td scope="row">NDB 7.3.3</td><td>ミリ秒</td><td>1500</td><td>100 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            別の管理ノードがこの管理ノードに接続しているかどうかを判定するために使用されるハートビートメッセージの間隔を指定します。管理ノードは、この間隔を 3 回待ったあとで接続の切断を宣言します。このため、デフォルト設定の 1500 ミリ秒では、管理ノードはおよそ 1600 ミリ秒待ってからタイムアウトします。
          </p><p>
            このパラメータは MySQL Cluster NDB 7.3.3 で追加されました。(Bug #16426805)
          </p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          管理ノードの構成を変更したあとは、新しい構成を有効にするためにクラスタのローリング再起動を実行する必要があります。
        </p><p>
          実行中の MySQL Cluster に新しい管理サーバーを追加するには、既存の <code class="filename">config.ini</code> ファイルを変更したあとで、すべてのクラスタノードのローリング再起動を実行する必要もあります。複数の管理ノードを使用するときに発生する問題の詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-limitations-multiple-nodes" title="18.1.6.10 複数の MySQL Cluster ノードに関する制限">セクション18.1.6.10「複数の MySQL Cluster ノードに関する制限」</a>を参照してください。
        </p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-ndbd-definition"></a>18.3.2.6 MySQL Cluster データノードの定義</h4></div></div></div><a class="indexterm" name="idm139979042102576"></a><a class="indexterm" name="idm139979042100432"></a><p>
        クラスタのデータノードの動作を構成するには、<code class="literal">[ndbd]</code> および <code class="literal">[ndbd default]</code> セクションを使用します。
      </p><p>
        データノードのプロセスとして <span class="command"><strong>ndbd</strong></span> バイナリと <span class="command"><strong>ndbmtd</strong></span> バイナリのどちらを使用する場合でも、セクション名としては常に <code class="literal">[ndbd]</code> と <code class="literal">[ndbd default]</code> が使用されます。
      </p><p>
        バッファーサイズ、プールサイズ、タイムアウトなどを制御する数多くのパラメータがあります。唯一の必須パラメータは、<code class="literal">ExecuteOnComputer</code> または <code class="literal">HostName</code> のいずれかです。これは、ローカルの <code class="literal">[ndbd]</code> セクションで定義する必要があります。
      </p><p>
        <code class="literal">NoOfReplicas</code> パラメータは、すべてのクラスタデータノードに共通であるため、<code class="literal">[ndbd default]</code> セクションに定義してください。<code class="literal">NoOfReplicas</code> を設定する必要は必ずしもありませんが、これを明示的に設定することをお勧めします。
      </p><p>
        ほとんどのデータノードパラメータは <code class="literal">[ndbd default]</code> セクションに設定します。<code class="literal">[ndbd]</code> セクションでの変更が許可されるのは、ローカル値の設定を明示的に規定されているパラメータだけです。<code class="literal">HostName</code>、<code class="literal">NodeId</code>、および <code class="literal">ExecuteOnComputer</code> (存在する場合) は、<code class="filename">config.ini</code> のほかのセクションではなく、ローカルの <code class="literal">[ndbd]</code> で定義する<span class="emphasis"><em>必要があります</em></span>。つまり、これらのパラメータの設定は 1 つのデータノードに固有のものです。
      </p><p>
        メモリー使用状況やバッファーサイズに影響を与えるパラメータでは、1024、1024 * 1024、または 1024 * 1024 * 1024 の単位を示すサフィクスとして <code class="literal">K</code>、<code class="literal">M</code>、または <code class="literal">G</code> を使用できます。(たとえば、<code class="literal">100K</code> は 100 * 1024 = 102400 を意味します。)現在のところ、パラメータの名前と値では大文字と小文字を区別します。
      </p><p>
        MySQL Cluster ディスクデータのテーブルに固有の構成パラメータについては、このセクションで後述します (<a class="xref" href="mysql-cluster.html#mysql-cluster-ndbd-definition-disk-data-parameters" title="ディスクデータの構成パラメータ">ディスクデータの構成パラメータ</a>を参照してください)。
      </p><p>
        これらすべてのパラメータは、<span class="command"><strong>ndbmtd</strong></span> (<span class="command"><strong>ndbd</strong></span> のマルチスレッドバージョン) にも適用されます。追加の 3 つのデータノード構成パラメータ (<code class="literal">MaxNoOfExecutionThreads</code>、<code class="literal">ThreadConfig</code>、および <code class="literal">NoOfFragmentLogParts</code>) は、<span class="command"><strong>ndbmtd</strong></span> にのみ適用されます。これらを <span class="command"><strong>ndbd</strong></span> に使用しても、無効になります。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndbd-definition-ndbmtd-parameters" title="マルチスレッドの構成パラメータ (ndbmtd)">マルチスレッドの構成パラメータ (ndbmtd)</a>を参照してください。<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="18.4.3 ndbmtd — MySQL Cluster データノードデーモン (マルチスレッド)">セクション18.4.3「<span class="command"><strong>ndbmtd</strong></span> — MySQL Cluster データノードデーモン (マルチスレッド)」</a>も参照してください。
      </p><p><a name="mysql-cluster-identifying-data-nodes"></a><b>データノードの識別 </b>
          <code class="literal">NodeId</code> または <code class="literal">Id</code> の値 (つまり、データノードの識別子) は、ノード起動時のコマンド行、または構成ファイルで割り当てることができます。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-id"></a>
            <a class="indexterm" name="idm139979042061024"></a> <code class="literal">Id</code>
          </p><div class="informaltable"><a name="id-ndbd-table"></a><table summary="この表は、Id データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>[none]</td><td>1 - 48</td><td>IS</td></tr></tbody></table></div><p>
            一意のノード ID は、クラスタのすべての内部メッセージでノードのアドレスとして使用されます。データノードでは、これは 1-48 の (これらを含む) 範囲の整数です。クラスタ内の各ノードは、一意の識別子を持っている必要があります。
          </p><p>
            <code class="literal">NodeId</code> は、データノードの識別時での使用が推奨されるパラメータ名です。古い <code class="literal">Id</code> は、下位互換性に引き続き対応しますが、現在は非推奨であり、使用時に警告を生成します。<code class="literal">Id</code> は MySQL Cluster の今後のリリースで削除される予定です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-nodeid"></a>
            <a class="indexterm" name="idm139979042040864"></a> <code class="literal">NodeId</code>
          </p><div class="informaltable"><a name="nodeid-ndbd-table"></a><table summary="この表は、NodeId データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>[none]</td><td>1 - 48</td><td>IS</td></tr></tbody></table></div><p>
            一意のノード ID は、クラスタのすべての内部メッセージでノードのアドレスとして使用されます。データノードでは、これは 1-48 の (これらを含む) 範囲の整数です。クラスタ内の各ノードは、一意の識別子を持っている必要があります。
          </p><p>
            <code class="literal">NodeId</code> は、データノードの識別時での使用が推奨されるパラメータ名です。<code class="literal">Id</code> は、下位互換性に引き続き対応しますが、現在は非推奨であり、使用時に警告を生成します。また、MySQL Cluster の今後のバージョンで削除される予定です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-executeoncomputer"></a>
            <a class="indexterm" name="idm139979042021456"></a> <code class="literal">ExecuteOnComputer</code>
          </p><div class="informaltable"><a name="executeoncomputer-ndbd-table"></a><table summary="この表は、ExecuteOnComputer データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>name</td><td>[none]</td><td>...</td><td>S</td></tr></tbody></table></div><p>
            これは、<code class="literal">[computer]</code> セクションに定義されたいずれかのコンピュータに設定されている <code class="literal">Id</code> を参照します。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-hostname"></a>
            <a class="indexterm" name="idm139979042003728"></a> <code class="literal">HostName</code>
          </p><div class="informaltable"><a name="hostname-ndbd-table"></a><table summary="この表は、HostName データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>名前または IP アドレス</td><td>localhost</td><td>...</td><td>N</td></tr></tbody></table></div><p>
            このパラメータを指定すると、データノードを配置するコンピュータのホスト名が定義されます。<code class="literal">localhost</code> 以外のホスト名を指定するには、このパラメータまたは <code class="literal">ExecuteOnComputer</code> のどちらかが必要です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-serverport"></a>
            <a class="indexterm" name="idm139979041985616"></a> <code class="literal">ServerPort</code>
          </p><div class="informaltable"><a name="serverport-ndbd-table"></a><table summary="この表は、ServerPort データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>[none]</td><td>1 - 64K</td><td>N</td></tr></tbody></table></div><p>
            クラスタ内の各ノードは、ほかのノードに接続するためにポートを使用します。デフォルトでは、このポートは同じホストコンピュータ上の 2 つのノードで同じポート番号を受け取らないよう動的に割り当てられるため、通常はこのパラメータの値を指定する必要はありません。
          </p><p>
            ただし、データノートと API ノード (SQL ノードを含む) 間の通信を許可するため、ファイアウォールで特定のポートを開く必要がある場合は、<code class="filename">config.ini</code> ファイルの <code class="literal">[ndbd]</code> セクションまたは (複数のデータノードに対してこれを行う必要がある場合は) <code class="literal">[ndbd default]</code> セクションでこのパラメータを必要なポートの番号に設定すると、SQL ノード、API ノード、またはその両方からの着信接続のためにその番号のポートを開くことができます。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              データノードから管理ノードへの接続は <span class="command"><strong>ndb_mgmd</strong></span> 管理ポート (管理サーバーの <code class="literal">PortNumber</code>。<a class="xref" href="mysql-cluster.html#mysql-cluster-mgm-definition" title="18.3.2.5 MySQL Cluster 管理サーバーの定義">セクション18.3.2.5「MySQL Cluster 管理サーバーの定義」</a>を参照してください) を使用して行われるため、データノードからポートへの送信接続は常に許可されます。
            </p></div></li><li class="listitem"><p><a name="ndbparam-ndbd-tcpbind_inaddr_any"></a>
            <code class="literal">TcpBind_INADDR_ANY</code>
          </p><p>
            このパラメータを <code class="literal">TRUE</code> または <code class="literal">1</code> に設定すると、<code class="literal">IP_ADDR_ANY</code> がバインドされ、任意の場所から接続できるようになります (自動生成接続の場合)。デフォルトは <code class="literal">FALSE</code> (<code class="literal">0</code>) です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-nodegroup"></a>
            <a class="indexterm" name="idm139979041955408"></a> <code class="literal">NodeGroup</code>
          </p><div class="informaltable"><a name="nodegroup-ndbd-table"></a><table summary="この表は、NodeGroup データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td> </td><td>[none]</td><td>0 - 65536</td><td>IS</td></tr></tbody></table></div><p>
            このパラメータを使用して、データノードを特定のノードグループに割り当てることができます。これはクラスタを最初に起動したときは読み取り専用であり、オンラインでデータノードを別のノードグループに再割り当てすることはできません。<code class="filename">config.ini</code> ファイルの <code class="literal">[ndbd default]</code> セクションでこのパラメータを使用することは、通常望ましくありません。また、ノードをノードグループに割り当てるときは、ノードグループに無効な数のノードが割り当てられないように注意する必要があります。
          </p><p>
            <code class="literal">NodeGroup</code> パラメータの主な用途は、ローリング再起動を実行せずに実行中の MySQL Cluster に新しいノードグループを追加することです。そのためには、これを 65536 (最大値) に設定します。<code class="literal">NodeGroup</code> の値は、すべてのクラスタデータノードではなく、あとで起動され、新しいノードグループとしてクラスタに追加されるノードにのみ設定する必要があります。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-online-add-node-example" title="18.5.13.3 MySQL Cluster データノードのオンライン追加: 詳細な例">セクション18.5.13.3「MySQL Cluster データノードのオンライン追加: 詳細な例」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-noofreplicas"></a>
            <a class="indexterm" name="idm139979041932304"></a> <code class="literal">NoOfReplicas</code>
          </p><div class="informaltable"><a name="noofreplicas-ndbd-table"></a><table summary="この表は、NoOfReplicas データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>整数</td><td>2</td><td>1 - 4</td><td>IS</td></tr></tbody></table></div><p>
            このグローバルパラメータは、<code class="literal">[ndbd default]</code> セクションでのみ設定でき、クラスタに格納されている各テーブルのレプリカの数を定義します。このパラメータは、ノードグループのサイズも指定します。ノードグループは、すべてが同じ情報を格納するノードのセットです。
          </p><p>
            ノードグループは暗黙的に形成されます。最初のノードグループはノード ID がもっとも小さいデータノードのセットで形成され、次のノードグループはノード ID が次に小さいデータノードのセットで形成されます (以下同様)。例として、4 つのデータノードがあり、<code class="literal">NoOfReplicas</code> が 2 に設定されているとします。4 つのデータノードのノード ID はそれぞれ 2、3、4、および 5 です。この場合、1 つ目のノードグループはノード 2 および 3 で形成され、2 つ目のノードグループはノード 4 および 5 で形成されます。1 つのハードウェアの障害によってクラスタ全体が機能停止するため、同じノードグループ内のノードが同じコンピュータに配置されないようにクラスタを構成することが重要です。
          </p><p>
            ノード ID が指定されていない場合は、データノードの順序がノードグループの決定要因になります。明示的な割り当てが行われたかどうかに関係なく、管理クライアントの <code class="literal">SHOW</code> コマンドの出力に表示されます。
          </p><p>
            <code class="literal">NoOfReplicas</code> のデフォルト値は 2 です。これは、ほとんどの一般的な使用シナリオで推奨される設定です。
          </p><p>
            指定可能な最大値は 4 ですが、<span class="emphasis"><em>現時点で実際にサポートされている値は 1 と 2 だけです</em></span>。
          </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
              <code class="literal">NoOfReplicas</code> を 1 に設定することは、すべてのクラスタデータのコピーが 1 つだけ存在することを意味します。この場合は、そのデータに格納されているデータの追加のコピーが存在しないため、1 つのデータノードの喪失によってクラスタが機能停止します。
            </p></div><p>
            このパラメータの値は、クラスタ内のデータノードの数で均等に割れる必要があります。たとえば、データノードが 2 つの場合、2/3 と 2/4 はどちらも小数値になるため、<code class="literal">NoOfReplicas</code> は 1 または 2 である必要があります。データノードが 4 つの場合、<code class="literal">NoOfReplicas</code> は 1、2、または 4 である必要があります。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-datadir"></a>
            <a class="indexterm" name="idm139979041901824"></a> <code class="literal">DataDir</code>
          </p><div class="informaltable"><a name="datadir-ndbd-table"></a><table summary="この表は、DataDir データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>パス</td><td>.</td><td>...</td><td>IN</td></tr></tbody></table></div><p>
            このパラメータは、トレースファイル、ログファイル、PID ファイル、およびエラーログが配置されるディレクトリを指定します。
          </p><p>
            デフォルトはデータノードプロセスの作業ディレクトリです。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-filesystempath"></a>
            <a class="indexterm" name="idm139979041884688"></a> <code class="literal">FileSystemPath</code>
          </p><div class="informaltable"><a name="filesystempath-ndbd-table"></a><table summary="この表は、FileSystemPath データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>パス</td><td>DataDir</td><td>...</td><td>IN</td></tr></tbody></table></div><p>
            このパラメータは、メタデータ用に作成されるすべてのファイル、Redo ログ、Undo ログ (ディスクデータテーブル用)、およびデータファイルが配置されるディレクトリを指定します。デフォルトは、<code class="literal">DataDir</code> で指定されたディレクトリです。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              このディレクトリは、<span class="command"><strong>ndbd</strong></span> プロセスが開始される前に存在している必要があります。
            </p></div><p>
            MySQL Cluster の推奨されるディレクトリ階層には <code class="filename">/var/lib/mysql-cluster</code> が含まれており、この下にノードのファイルシステム用のディレクトリが作成されます。このサブディレクトリの名前にはノード ID が含まれます。たとえば、ノード ID が 2 の場合、このサブディレクトリの名前は <code class="filename">ndb_2_fs</code> です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-backupdatadir"></a>
            <a class="indexterm" name="idm139979041862512"></a> <code class="literal">BackupDataDir</code>
          </p><div class="informaltable"><a name="backupdatadir-ndbd-table"></a><table summary="この表は、BackupDataDir データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>パス</td><td>[テキストを参照]</td><td>...</td><td>IN</td></tr></tbody></table></div><p>
            このパラメータは、バックアップが配置されるディレクトリを指定します。
          </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
              この値の末尾には常に '<code class="literal">/BACKUP</code>' という文字列が追加されます。たとえば、<code class="literal">BackupDataDir</code> の値を <code class="filename">/var/lib/cluster-data</code> に設定すると、すべてのバックアップが <code class="filename">/var/lib/cluster-data/BACKUP</code> の下に格納されます。これは、<span class="emphasis"><em>事実上の</em></span>デフォルトのバックアップ場所が <code class="literal">FileSystemPath</code> パラメータで指定された場所の下にある <code class="filename">BACKUP</code> という名前のディレクトリであることも意味しています。
            </p></div></li></ul></div><h5><a name="mysql-cluster-data-memory-index-memory-string-memory"></a>データメモリー、インデックスメモリー、および文字列メモリー</h5><p>
        <code class="literal">DataMemory</code> と <code class="literal">IndexMemory</code> は、実際のレコードとインデックスの格納に使用されるメモリーセグメントのサイズを指定する <code class="literal">[ndbd]</code> パラメータです。これらの値を設定するときは、<code class="literal">DataMemory</code> と <code class="literal">IndexMemory</code> がどのように使用されるかを理解することが重要です。これらは、通常、クラスタでの実際の使用状況を反映して更新する必要があるためです。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-datamemory"></a>
            <a class="indexterm" name="idm139979041831472"></a> <code class="literal">DataMemory</code>
          </p><div class="informaltable"><a name="datamemory-ndbd-table"></a><table summary="この表は、DataMemory データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>80M</td><td>1M - 1024G</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、データベースレコードの格納に使用できるスペースの量 (バイト単位) を定義します。この値によって指定される量の全体がメモリー内に割り当てられるため、それに対応できるだけの十分な物理メモリーがマシンに搭載されていることが非常に重要です。
          </p><p>
            <code class="literal">DataMemory</code> によって割り当てられたメモリーは、実際のレコードとインデックスの両方を格納するために使用されます。各レコードには 16 バイトのオーバーヘッドがあります。各レコードは 128 バイトのページオーバーヘッドを含む 32K バイトのページに格納されるため、レコードごとに追加の量が発生します (次を参照してください)。また、各レコードが 1 つのページのみに格納されるため、ページごとに少量の無駄が発生します。
          </p><p>
            可変サイズのテーブル属性については、<code class="literal">DataMemory</code> から割り当てられた別個のデータページにデータが格納されます。可変長レコードは、可変サイズ部分を参照するための 4 バイトの追加オーバーヘッドを含む固定サイズ部分を使用します。可変サイズ部分には、2 バイトのオーバーヘッドと属性あたり 2 バイトが含まれます。
          </p><p>
            最大レコードサイズは 14000 バイトです。
          </p><p>
            <code class="literal">DataMemory</code> によって定義されたメモリースペースは、順序付けされたインデックスを格納するためにも使用されます。これには、レコードあたり約 10 バイトが使用されます。各テーブル行は順序付けされたインデックスで表されます。ユーザーの間では共通して、すべてのインデックスが <code class="literal">IndexMemory</code> によって割り当てられたメモリーに格納されるという誤解がありますが、これは正しくありません。主キーと一意のハッシュインデックスのみがこのメモリーを使用します。順序付けされたインデックスは、<code class="literal">DataMemory</code> によって割り当てられたメモリーを使用します。ただし、主キーまたは一意のハッシュインデックスを作成するときに、インデックス作成ステートメントに <code class="literal">USING HASH</code> を指定しなかった場合は、同じキーに対して順序付けされたインデックスも作成されます。これは、管理クライアントで <span class="command"><strong>ndb_desc -d <em class="replaceable"><code>db_name</code></em> <em class="replaceable"><code>table_name</code></em></strong></span> を実行すると確認できます。
          </p><a class="indexterm" name="idm139979041802704"></a><a class="indexterm" name="idm139979041800528"></a><a class="indexterm" name="idm139979041799136"></a><p>
            現在、MySQL Cluster ではハッシュインデックスにパーティションあたり最大 512M バイトを使用できます。つまり、場合によっては<span class="command"><strong>ndb_mgm -e "ALL REPORT MEMORYUSAGE"</strong></span> で <code class="literal">DataMemory</code> に大きい空き領域が示されていても<span class="errortext">Table is full</span>というエラーがMySQL クライアントアプリケーションで表示されることがあります。このため、データの負荷が高いノードでデータノードを再起動するときに問題が発生する場合もあります。<code class="literal">CREATE TABLE</code> に <code class="literal">MAX_ROWS</code> オプションを使用すると、MySQL Cluster のテーブルのために追加のパーティションを作成して、ハッシュインデックスに使用できるメモリーを増やすように <code class="literal">NDB</code> に強制できます。通常、テーブルに格納することが予期されている行数の 2 倍の数値を <code class="literal">MAX_ROWS</code> に設定すれば十分です。<code class="literal">MinFreePct</code> 構成パラメータを使用して、ノード再起動の問題を回避することもできます。(Bug #13436216)
          </p><p>
            <code class="literal">DataMemory</code> によって割り当てられるメモリースペースは 32K バイトのページで構成され、テーブルのフラグメントに割り当てられます。各テーブルは、通常、クラスタ内のデータノードと同じ数のフラグメントにパーティション化されます。このため、各ノードには <code class="literal">NoOfReplicas</code> での設定と同じ数のフラグメントがあります。
          </p><p>
            ページの割り当て後、テーブルを削除する以外の方法で空きページのプールに戻すことは、現在不可能です。(これは、特定のページに割り当てられた <code class="literal">DataMemory</code> ページをほかのテーブルで使用できないことも意味します。)データノードのリカバリを実行すると、すべてのレコードがほかの稼働しているノードから空のパーティションに挿入されるため、パーティションも圧縮されます。
          </p><p>
            <a class="indexterm" name="idm139979041783600"></a><code class="literal">DataMemory</code> メモリースペースには、Undo 情報も含まれています。更新のたびに、変更されていないレコードのコピーが <code class="literal">DataMemory</code> に割り当てられます。順序付けされたテーブルインデックスにも各コピーへの参照が含まれています。一意のハッシュインデックスは、一意のインデックスカラムが更新されたときだけ更新されます。その場合は、コミット時にインデックステーブル内の新しいエントリが挿入され、古いエントリが削除されます。このため、クラスタを使用するアプリケーションによって実行される大規模なトランザクションを処理できるだけの十分なメモリーを割り当てる必要もあります。いずれにしても、次の理由から、少数の大規模なトランザクションを実行するよりも、多数の小規模なトランザクションを使用する方がメリットがあります。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                大規模なトランザクションは小規模なトランザクションより高速に実行できません
              </p></li><li class="listitem"><p>
                大規模なトランザクションでは、トランザクション障害の発生時に消失して繰り返す必要がある操作の数が多くなります
              </p></li><li class="listitem"><p>
                大規模なトランザクションはより多くのメモリーを使用します
              </p></li></ul></div><p>
            <code class="literal">DataMemory</code> のデフォルト値は 80M バイトです。最小値は 1M バイトです。最大サイズはありませんが、実際には、制限に達したときにプロセスがスワップを開始しないように最大サイズを決定する必要があります。この制限は、マシン上の使用可能な物理 RAM 量と、オペレーティングシステムが 1 つのプロセスに振り向けることができるメモリー量によって決まります。32 ビットオペレーティングシステムでは通常プロセスあたり 2-4G バイトに制限されますが、64 ビットオペレーティングシステムではより多くのメモリーを使用できます。このため、大規模なデータベースでは 64 ビットオペレーティングシステムを使用することをお勧めします。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-indexmemory"></a>
            <a class="indexterm" name="idm139979041769616"></a> <code class="literal">IndexMemory</code>
          </p><div class="informaltable"><a name="indexmemory-ndbd-table"></a><table summary="この表は、IndexMemory データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>18M</td><td>1M - 1T</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、MySQL Cluster 内のハッシュインデックスに使用されるストレージの量を制御します。ハッシュインデックスは、常に主キーのインデックス、一意のインデックス、および一意の制約に使用されます。主キーまたは一意のインデックスを定義すると、2 つのインデックスが作成され、そのうちの 1 つのハッシュインデックスが、すべてのタプルへのアクセスとロックの処理に使用されます。このインデックスは、一意の制約を適用するためにも使用されます。
          </p><p>
            ハッシュインデックスのサイズは、この式を使用して見積もることができます。
          </p><pre class="programlisting">
            size  = ( (<em class="replaceable"><code>fragments</code></em> * 32K) + (<em class="replaceable"><code>rows</code></em> * 18) ) 
            * <em class="replaceable"><code>replicas</code></em>

          </pre><p>
            <em class="replaceable"><code>fragments</code></em> はフラグメントの数、<em class="replaceable"><code>replicas</code></em> はレプリカの数 (通常 2)、<em class="replaceable"><code>rows</code></em> は行の数です。テーブルに 100 万個の行、8 個のフラグメント、2 つのレプリカが含まれる場合、予想されるインデックスのメモリー使用量は、ここに示すように計算されます。
          </p><pre class="programlisting">            
  ((8 * 32K) + (1000000 * 18)) * 2 = ((8 * 32768) + (1000000 * 18)) * 2
  = (262144 + 18000000) * 2
  = 18262144 * 2 = 36524288 bytes = ~35MB
</pre><p>
            MySQL Cluster NDB 7.2 以降では、順序付けされたインデックスのインデックス統計が (有効になっている場合は) <code class="literal">mysql.ndb_index_stat_sample</code> テーブルに格納されます。このテーブルにはハッシュインデックスがあるため、これによってインデックスのメモリー使用量が追加されます。特定の順序付けされたインデックスの行数の上限は、次のように計算できます。
          </p><pre class="programlisting">
  sample_size= key_size + ((key_attributes + 1) * 4)
  
  sample_rows = <code class="literal">IndexStatSaveSize</code> 
                * ((0.01 * <code class="literal">IndexStatSaveScale</code> * log2(rows * sample_size)) + 1) 
                / sample_size
</pre><p>
            前の式で、<em class="replaceable"><code>key_size</code></em> は順序付けされたインデックスキーのサイズ (バイト単位)、<em class="replaceable"><code>key_attributes</code></em> は順序付けされたインデックスキー内の属性の数、<em class="replaceable"><code>rows</code></em> はベーステーブルの行数です。
          </p><p>
            テーブル <code class="literal">t1</code> に、100 万個の行と、2 つの 4 バイト整数に対する <code class="literal">ix1</code> という名前の順序付けされたインデックスがあるとします。また、<code class="literal">IndexStatSaveSize</code> と <code class="literal">IndexStatSaveScale</code> がこのデフォルト値 (それぞれ 32K および 100) に設定されているとします。前の 2 つの式を使用して、次のように計算できます。
          </p><pre class="programlisting">
  sample_size = 8  + ((1 + 2) * 4) = 20 bytes
  
  sample_rows = 32K 
                * ((0.01 * 100 * log<sub>2</sub>(1000000*20)) + 1) 
                / 20 
                = 32768 * ( (1 * ~16.811) +1) / 20
                = 32768 * ~17.811 / 20 
                = ~29182 rows
</pre><p>
            予想されるインデックスのメモリー使用量は 2 * 18 * 29182 = 約 1050550 バイトです。
          </p><p>
            <code class="literal">IndexMemory</code> のデフォルト値は 18M バイトです。最小は 1M バイトです。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-stringmemory"></a>
            <a class="indexterm" name="idm139979041730896"></a> <code class="literal">StringMemory</code>
          </p><div class="informaltable"><a name="stringmemory-ndbd-table"></a><table summary="この表は、StringMemory データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>% またはバイト</td><td>25</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>S</td></tr></tbody></table></div><p>
            このパラメータは、テーブル名などの文字列用に割り当てられるメモリー量を決定するもので、<code class="filename">config.ini</code> ファイルの <code class="literal">[ndbd]</code> または <code class="literal">[ndbd default]</code> セクションに指定されます。<code class="literal">0</code> から <code class="literal">100</code> までの (これらを含む) 値は、デフォルトの最大値のパーセントとして解釈されます。デフォルトの最大値は、テーブルの数、テーブル名のサイズ、<code class="filename">.FRM</code> ファイルの最大サイズ、<code class="literal">MaxNoOfTriggers</code>、カラム名の最大サイズ、およびデフォルトの最大カラム値を含むいくつかの係数に基づいて計算されます。
          </p><p>
            <code class="literal">100</code> を超える値は、バイト数として解釈されます。
          </p><p>
            デフォルト値は 25 (つまり、デフォルトの最大の 25%) です。
          </p><p>
            ほとんどの状況ではデフォルト値で十分ですが、クラスタテーブルの数が非常に多い (1000 個以上) 場合は、エラー 773 <span class="errortext">Out of string memory, please modify StringMemory config parameter: Permanent error: Schema error</span>が発生する可能性があるので、その場合はこの値を増やすようにしてください。<code class="literal">25</code> (25%) であれば、多すぎることはなく、もっとも極端な状況を除き、このエラーは繰り返し発生しません。
          </p></li></ul></div><p>
        次の例は、1 つのテーブルでメモリーがどのように使用されるかを示しています。このテーブル定義について考えます。
      </p><pre class="programlisting">
CREATE TABLE example (
  a INT NOT NULL,
  b INT NOT NULL,
  c INT NOT NULL,
  PRIMARY KEY(a),
  UNIQUE(b)
) ENGINE=NDBCLUSTER;
</pre><p>
        各レコードに、12 バイトのデータと 12 バイトのオーバーヘッドがあります。NULL 可能カラムがない場合は、4 バイトのオーバーヘッドを節約できます。さらに、カラム <code class="literal">a</code> および <code class="literal">b</code> に対して 2 つの順序付けされたインデックスがあり、レコードごとにおよそ 10 バイトが消費されます。ベーステーブルには主キーのハッシュインデックスがあり、レコードあたりおよそ 29 バイトが使用されます。<code class="literal">b</code> を主キーとし、<code class="literal">a</code> をカラムとする別のテーブルによって一意の制約が実装されています。この別のテーブルでは、8 バイトのレコードデータと 12 バイトのオーバーヘッドに加えて、<code class="literal">example</code> テーブル内のレコードあたり 29 バイトのインデックスメモリーが追加で消費されます。
      </p><p>
        したがって、100 万個のレコードに対して、主キーと一意の制約のハッシュインデックスを処理するには 58M バイトのインデックスメモリーが必要です。さらに、ベーステーブルのレコード、一意のインデックステーブル、および 2 つの順序付けされたインデックステーブルに 64M バイトが必要です。
      </p><p>
        ハッシュインデックスがかなりのメモリー量を占有しますが、データへのアクセスは非常に高速になります。これらは、MySQL Cluster では一意制約を処理するためにも使用されます。
      </p><p>
        現在、唯一のパーティション化アルゴリズムはハッシュ化であり、順序付けされたインデックスは各ノードでローカルに使用されます。したがって、一般的なケースで順序付けされたインデックスを使用して一意制約を処理することはできません。
      </p><p>
        <code class="literal">IndexMemory</code> と <code class="literal">DataMemory</code> の両方で重要な点は、各ノードグループのすべてのデータメモリーとインデックスメモリーの合計がデータベースの合計サイズになることです。各ノードグループはレプリケートされた情報の格納に使用されるため、2 つのレプリカを含むノードが 4 つある場合は、2 つのノードグループが作成されます。したがって、使用可能なデータメモリーの合計はデータノードごとに 2 * <code class="literal">DataMemory</code> です。
      </p><p>
        すべてのノードで <code class="literal">DataMemory</code> と <code class="literal">IndexMemory</code> を同じ値に設定することを強くお勧めします。データの分布はクラスタ内のすべてのノードで均等であるため、各ノードで使用できるスペースの最大量はクラスタ内でもっとも小さいノードの最大量と同じになります。
      </p><p>
        <code class="literal">DataMemory</code> と <code class="literal">IndexMemory</code> は変更できますが、これらのいずれかを減らすのは危険です。その場合、ノードまたは MySQL Cluster 全体がメモリースペースの不足によって再起動できなくなる可能性が高くなります。これらの値を増やすことは問題ありませんが、このようなアップグレードはソフトウェアのアップグレードと同じ方法で行うことをお勧めします。つまり、最初に構成ファイルを更新し、次に管理サーバーを起動して、各データノードを順に再起動します。
      </p><p><a name="ndbparam-ndbd-minfreepct"></a><b>MinFreePct </b>
          <a class="indexterm" name="idm139979041683488"></a><code class="literal">DataMemory</code> と <code class="literal">IndexMemory</code> を含むデータノードリソースの一定割合 (デフォルトでは 5%) は、データノードが再起動するときにそのメモリーを使い果たさないように予備として残されます。これは、<code class="literal">MinFreePct</code> データノード構成パラメータを使用して調整できます (デフォルトは 5)。
        </p><div class="informaltable"><a name="minfreepct-ndbd-table"></a><table summary="この表は、MinFreePct データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>5</td><td>0 - 100</td><td>N</td></tr></tbody></table></div><p>
        更新によって、使用されるインデックスメモリーの量は増えません。挿入はただちに有効になりますが、行の削除はトランザクションがコミットされるまで実際には行われません。
      </p><p><a name="mysql-cluster-transaction-parameters"></a><b>トランザクションパラメータ </b>
          次に説明する <code class="literal">[ndbd]</code> のいくつかのパラメータは、システムで処理できる並列トランザクションの数とトランザクションのサイズに影響を与えるという点で重要です。<code class="literal">MaxNoOfConcurrentTransactions</code> は、ノード内で実行できる並列トランザクションの数を設定します。<code class="literal">MaxNoOfConcurrentOperations</code> は、同時に更新フェーズに入ったり、ロックしたりできるレコードの数を設定します。
        </p><p>
        これらのパラメータはどちらも (特に <code class="literal">MaxNoOfConcurrentOperations</code> は)、デフォルト値を使用せずに特定の値を設定するユーザーのターゲットになる可能性があります。デフォルト値は、小規模なトランザクションを使用するシステムで過大なメモリーが使用されないように設定されています。
      </p><p>
        <code class="literal">MaxDMLOperationsPerTransaction</code> は、特定のトランザクションで実行できる DML 操作の最大数を設定します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-maxnoofconcurrenttransactions"></a>
            <a class="indexterm" name="idm139979041654800"></a> <code class="literal">MaxNoOfConcurrentTransactions</code>
          </p><div class="informaltable"><a name="maxnoofconcurrenttransactions-ndbd-table"></a><table summary="この表は、MaxNoOfConcurrentTransactions データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>整数</td><td>4096</td><td>32 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            各クラスタデータノードには、クラスタ内の個々のアクティブなトランザクションに対するトランザクションレコードが必要です。トランザクションを調整するタスクは、すべてのデータノードに分配されます。クラスタ内のトランザクションレコードの合計数は、特定のノード内のトランザクションの数にクラスタ内のノードの数を掛けた値です。
          </p><p>
            トランザクションレコードは、個々の MySQL サーバーに割り当てられます。MySQL サーバーへの個々の接続には、少なくとも 1 つのトランザクションレコードと、その接続でアクセスされるテーブルごとに追加のトランザクションオブジェクトが必要です。つまり、クラスタ内のトランザクション合計数の妥当な最小値を次のように表すことができます。
          </p><pre class="programlisting">
MinTotalNoOfConcurrentTransactions =
    (maximum number of tables accessed in any single transaction + 1)
    * number of SQL nodes
</pre><p>
            クラスタを使用する 10 個の SQL ノードがあるとします。10 個のテーブルが関与する 1 回の結合には、11 個のトランザクションレコードが必要です。トランザクション内にこのような結合が 10 回ある場合、このトランザクションには MySQL サーバーあたり 10 * 11 = 110 個のトランザクションレコード (または合計 110 * 10 = 1100 個のトランザクションレコード) が必要です。各データノードは、MinTotalNoOfConcurrentTransactions / データノード数が処理されます。この場合、4 個のデータノードを含む MySQL Cluster では、各データノードの <code class="literal">MaxNoOfConcurrentTransactions</code> を 1100/4 = 275 に設定することになります。さらに、1 つのノードグループですべての並列トランザクションに対応できるようにすることで、障害リカバリを提供します。つまり、各データノードの MaxNoOfConcurrentTransactions を、MinTotalNoOfConcurrentTransactions/ノードグループ数と同じ数のトランザクションに対応できるだけの十分な数に設定します。このクラスタにノードグループが 1 つだけある場合は、<code class="literal">MaxNoOfConcurrentTransactions</code> を 1100 (クラスタ全体の並列トランザクションの数と同じ) に設定するようにしてください。
          </p><p>
            また、各トランザクションに少なくとも 1 つの操作が関与します。このため、<code class="literal">MaxNoOfConcurrentTransactions</code> に設定する値は常に <code class="literal">MaxNoOfConcurrentOperations</code> の値以下にします。
          </p><p>
            このパラメータは、すべてのクラスタデータノードで同じ値に設定する必要があります。これは、データノードの機能停止時に、残存するもっとも古いノードが機能停止したノードで実行されていたトランザクションのトランザクション状態を再作成するためです。
          </p><p>
            ローリング再起動を使用してこの値を変更できますが、実行中のクラスタ上のトラフィック量は、発生するトランザクションが新旧どちらか低い方のレベルを超えない程度にする必要があります。
          </p><p>
            デフォルト値は 4096 です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxnoofconcurrentoperations"></a>
            <a class="indexterm" name="idm139979041626560"></a> <code class="literal">MaxNoOfConcurrentOperations</code>
          </p><div class="informaltable"><a name="maxnoofconcurrentoperations-ndbd-table"></a><table summary="この表は、MaxNoOfConcurrentOperations データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>整数</td><td>32K</td><td>32 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            このパラメータの値は、トランザクションのサイズと数に合わせて調整することをお勧めします。少数の操作とレコードしか関与しないトランザクションを実行する場合は、通常、このパラメータのデフォルト値で十分です。多数のレコードが関与する大規模なトランザクションを実行する場合は、通常、その値を増やす必要があります。
          </p><p>
            クラスタデータを更新する各トランザクションでは、トランザクションコーディネータと実際の更新が実行されるノードの両方でレコードが保持されます。これらのレコードには、ロールバック、ロックキュー、およびその他の目的に使用する Undo レコードを見つけるために必要な状態情報が含まれています。
          </p><p>
            このパラメータは、最低でも、トランザクションで同時に更新されるレコードの数をクラスタデータノードの数で割った値に設定するようにしてください。たとえば、4 つのデータノードがあるクラスタで、トランザクションを使用して 100 万件の並列更新を処理することが予想される場合は、この値を 1000000/4 = 250000 に設定します。障害からの回復力を提供できるように、このパラメータを、個々のデータノードでノードグループの負荷を処理できる十分な大きさの値に設定することをお勧めします。つまり、<code class="literal">並列操作の合計数/ノードグループの数</code>と同じ値に設定するようにしてください。(ノードグループが 1 つだけの場合、これはクラスタ全体の並列操作の合計数と同じです。)
          </p><p>
            各トランザクションには常に少なくとも 1 つの操作が関与しているため、<code class="literal">MaxNoOfConcurrentOperations</code> の値は常に <code class="literal">MaxNoOfConcurrentTransactions</code> の値以上にします。
          </p><p>
            ロックを設定する読み取りクエリーでも、操作レコードが作成されます。ノード間の分布が完全でない場合に対応できるように、個々のノード内にある程度の追加スペースが割り当てられます。
          </p><p>
            クエリーで一意のハッシュインデックスが使用されると、実際にはトランザクション内のレコードあたり 2 つの操作レコードが使用されます。1 つ目のレコードはインデックステーブルの読み取りを表し、2 つ目はベーステーブルに対する操作を扱います。
          </p><p>
            デフォルト値は 32768 です。
          </p><p>
            このパラメータは、実際には別個に構成できる 2 つの値を扱います。これらのうち 1 つ目は、トランザクションコーディネータによって配置される操作レコードの数を指定します。2 つ目の部分は、データベースにローカルに格納される操作レコードの数を指定します。
          </p><p>
            8 ノードのクラスタで実行される非常に大規模なトランザクションでは、そのトランザクションに関与する読み取り、更新、および削除と同じ数の操作レコードがトランザクションコーディネータ内に必要です。ただし、これらの操作レコードは 8 個のノードすべてに分散しています。このため、1 つの非常に大規模なトランザクション用にシステムを構成する必要がある場合は、この 2 つの部分を別個に構成することをお勧めします。<code class="literal">MaxNoOfConcurrentOperations</code> は常に、ノードのトランザクションコーディネータ部分の操作レコード数を計算するために使用されます。
          </p><p>
            操作レコードのメモリー要件を考慮することも重要です。これらは、レコードあたり約 1K バイトを消費します。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxnooflocaloperations"></a>
            <a class="indexterm" name="idm139979041596528"></a> <code class="literal">MaxNoOfLocalOperations</code>
          </p><div class="informaltable"><a name="maxnooflocaloperations-ndbd-table"></a><table summary="この表は、MaxNoOfLocalOperations データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>整数</td><td>UNDEFINED</td><td>32 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            デフォルトでは、このパラメータは 1.1 * <code class="literal">MaxNoOfConcurrentOperations</code> として計算されます。これは、多くの同時トランザクションを含み、そのいずれもが大規模ではないシステムに適合します。一度に 1 つの非常に大規模なトランザクションが実行され、多数のノードがある場合は、このパラメータを明示的に指定してデフォルトをオーバーライドすることをお勧めします。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxdmloperationspertransaction"></a>
            <a class="indexterm" name="idm139979041578256"></a> <code class="literal">MaxDMLOperationsPerTransaction</code>
          </p><div class="informaltable"><a name="maxdmloperationspertransaction-ndbd-table"></a><table summary="この表は、MaxDMLOperationsPerTransaction データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>操作 (DML)</td><td>4294967295</td><td>32 - 4294967295</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、トランザクションのサイズを制限します。これを超える数の DML 操作が必要になった場合、トランザクションは中止されます。トランザクションあたりの最小操作数は 32 ですが、<code class="literal">MaxDMLOperationsPerTransaction</code> を 0 に設定すると、トランザクションあたりの DML 操作の数に対する制限を無効にできます。最大 (およびデフォルト) は 4294967295 です。
          </p></li></ul></div><p><a name="mysql-cluster-transaction-temporary-storage"></a><b>トランザクションの一時ストレージ </b>
          次の一連の <code class="literal">[ndbd]</code> パラメータは、クラスタトランザクションの一部であるステートメントの実行時に一時ストレージを決定するために使用されます。このステートメントが完了し、クラスタがコミットまたはロールバックを待機しているときに、すべてのレコードが解放されます。
        </p><p>
        これらのパラメータのデフォルト値は、ほとんどの状況に適しています。ただし、多数の行または操作が関与するトランザクションをサポートする必要がある場合は値を増やして、システム内の並列性を高める必要があることがあります。一方、比較的小規模なトランザクションを必要とするアプリケーションでは、これらの値を減らしてメモリーを節約できます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-maxnoofconcurrentindexoperations"></a>
            <a class="indexterm" name="idm139979041555456"></a> <code class="literal">MaxNoOfConcurrentIndexOperations</code>
          </p><div class="informaltable"><a name="maxnoofconcurrentindexoperations-ndbd-table"></a><table summary="この表は、MaxNoOfConcurrentIndexOperations データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>整数</td><td>8K</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            一意のハッシュインデックスを使用するクエリーでは、クエリーの実行フェーズで別の一時的な操作レコードのセットが使用されます。このパラメータは、そのレコードプールのサイズを設定します。このため、このレコードはクエリーの一部を実行している間だけ割り当てられます。この部分の実行が完了した直後にレコードは解放されます。中止とコミットを処理するために必要な状態では通常の操作レコードによって処理され、プールサイズは <code class="literal">MaxNoOfConcurrentOperations</code> パラメータで設定されます。
          </p><p>
            このパラメータのデフォルト値は 8192 です。一意のハッシュインデックスを使用して非常に高い並列性を実現させるまれなケースでのみ、この値を増やす必要があります。クラスタに高いレベルの並列性が必要ないことを DBA が確信している場合は、小さい値を使用してメモリーを節約できます。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxnooffiredtriggers"></a>
            <a class="indexterm" name="idm139979041536144"></a> <code class="literal">MaxNoOfFiredTriggers</code>
          </p><div class="informaltable"><a name="maxnooffiredtriggers-ndbd-table"></a><table summary="この表は、MaxNoOfFiredTriggers データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>整数</td><td>4000</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            <code class="literal">MaxNoOfFiredTriggers</code> のデフォルト値は 4000 です。ほとんどの状況では、これで十分です。場合によっては、クラスタに並列性はそれほど必要ないと DBA が確信している場合は、値を減らすこともできます。
          </p><p>
            一意のハッシュインデックスに影響を与える操作が実行されたときに、レコードが作成されます。一意のハッシュインデックスを使用してテーブル内のレコードを挿入または削除したり、一意のハッシュインデックスの一部であるカラムを更新したりすると、インデックステーブルで挿入または削除が発生します。生成されたレコードは、このインデックステーブル操作を発生させた元の操作の完了を待機している間、インデックステーブル操作を表すために使用されます。この操作は短期間ですが、一意のハッシュインデックスのセットを含むベーステーブルに対して多数の並列書き込み操作が行われる状況では、レコードプール内に多数のレコードを必要とする可能性があります。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-transactionbuffermemory"></a>
            <a class="indexterm" name="idm139979041515984"></a> <code class="literal">TransactionBufferMemory</code>
          </p><div class="informaltable"><a name="transactionbuffermemory-ndbd-table"></a><table summary="この表は、TransactionBufferMemory データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>1M</td><td>1K - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            このパラメータの影響を受けるメモリーは、インデックステーブルの更新と一意のインデックスの読み取り時に発生した操作を追跡するために使用されます。このメモリーは、これらの操作のキーおよびカラムの情報を格納するために使用されます。このパラメータの値をデフォルトから変更する必要があるのは、非常にまれなケースだけです。
          </p><p>
            <code class="literal">TransactionBufferMemory</code> のデフォルト値は 1M バイトです。
          </p><p>
            通常の読み取りおよび書き込み操作でも同じようなバッファーが使用されますが、その使用期間はさらに短くなります。コンパイル時のパラメータ <code class="literal">ZATTRBUF_FILESIZE</code> (<code class="filename">ndb/src/kernel/blocks/Dbtc/Dbtc.hpp</code> にあります) は 4000 * 128 バイト (500K バイト) に設定されています。キー情報用の同様のバッファー <code class="literal">ZDATABUF_FILESIZE</code> (これも <code class="filename">Dbtc.hpp</code> にあります) には、4000 * 16 = 62.5K バイトのバッファースペースが含まれています。<code class="literal">Dbtc</code> は、トランザクションのコーディネーションを扱うモジュールです。
          </p></li></ul></div><p><a name="mysql-cluster-scans-and-buffering"></a><b>スキャンとバッファリング </b>
          (<code class="filename">ndb/src/kernel/blocks/Dblqh/Dblqh.hpp</code> 内の) <code class="literal">Dblqh</code> モジュールには、読み取りと更新に影響を与える追加の <code class="literal">[ndbd]</code> パラメータがあります。これらには、デフォルトで 10000 * 128 バイト (1250K バイト) に設定される <code class="literal">ZATTRINBUF_FILESIZE</code> と、デフォルトで 10000 * 16 バイト (およそ 156K バイト) のバッファースペースに設定される <code class="literal">ZDATABUF_FILE_SIZE</code> が含まれます。これまでに、これらのコンパイル時制限のいずれかを増やすことを示すユーザーからの報告または弊社の大規模なテストの結果はありません。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-maxnoofconcurrentscans"></a>
            <a class="indexterm" name="idm139979041485552"></a> <code class="literal">MaxNoOfConcurrentScans</code>
          </p><div class="informaltable"><a name="maxnoofconcurrentscans-ndbd-table"></a><table summary="この表は、MaxNoOfConcurrentScans データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>整数</td><td>256</td><td>2 - 500</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、クラスタ内で実行できる並列スキャンの数を制御するために使用されます。各トランザクションコーディネータは、このパラメータで定義された数の並列スキャンを処理できます。各スキャンクエリーは、すべてのパーティションを並列でスキャンして実行されます。各パーティションスキャンでは、パーティションが配置されているノード内のスキャンレコードが使用されます。レコードの数は、このパラメータの値にノードの数を掛けた値です。クラスタは、クラスタ内のすべてのノードで同時に発生した <code class="literal">MaxNoOfConcurrentScans</code> 個のスキャンを維持できます。
          </p><p>
            スキャンは、実際には 2 つのケースで実行されます。これらのうち 1 つ目のケースは、クエリーを処理するためのハッシュまたは順序付けされたインデックスが存在しないときに発生します。この場合は、フルテーブルスキャンを実行するとクエリーが実行されます。2 つ目のケースは、クエリーをサポートするハッシュインデックスが存在せず、順序付けされたインデックスが存在する場合に発生します。順序付けされたインデックスの使用は、並列の範囲スキャンの実行を意味します。この順序はローカルのパーティションでのみ維持されるため、すべてのパーティションでインデックススキャンを実行する必要があります。
          </p><p>
            <code class="literal">MaxNoOfConcurrentScans</code> のデフォルト値は 256 です。最大値は 500 です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxnooflocalscans"></a>
            <a class="indexterm" name="idm139979041462848"></a> <code class="literal">MaxNoOfLocalScans</code>
          </p><div class="informaltable"><a name="maxnooflocalscans-ndbd-table"></a><table summary="この表は、MaxNoOfLocalScans データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>整数</td><td>[テキストを参照]</td><td>32 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            多くのスキャンが完全に並列化されていない場合の、ローカルスキャンレコードの数を指定します。ローカルスキャンレコードの数が指定されていない場合は、ここに示すように計算されます。
          </p><pre class="programlisting">
4 * <code class="literal">MaxNoOfConcurrentScans</code> * [# data nodes] + 2
</pre><p>
            最小値は 32 です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-batchsizeperlocalscan"></a>
            <a class="indexterm" name="idm139979041443584"></a> <code class="literal">BatchSizePerLocalScan</code>
          </p><div class="informaltable"><a name="batchsizeperlocalscan-ndbd-table"></a><table summary="この表は、BatchSizePerLocalScan データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>整数</td><td>256</td><td>1 - 992</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、並列スキャン操作を処理するために使用されるロックレコードの数を計算するために使用されます。
          </p><p>
            <code class="literal">BatchSizePerLocalScan</code> は、SQL ノードで定義される <code class="literal">BatchSize</code> と深い関係があります。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-longmessagebuffer"></a>
            <a class="indexterm" name="idm139979041424592"></a> <code class="literal">LongMessageBuffer</code>
          </p><div class="informaltable"><a name="longmessagebuffer-ndbd-table"></a><table summary="この表は、LongMessageBuffer データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>64M</td><td>512K - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr><tr><td scope="row">NDB 7.3.1</td><td>バイト</td><td>4M</td><td>512K - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr><tr><td scope="row">NDB 7.3.5</td><td>バイト</td><td>64M</td><td>512K - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            これは、個々のノード内およびノード間でメッセージを渡すために使用される内部バッファーです。デフォルトは 64M バイトです。(MySQL Cluster NDB 7.3.5 より前では、これは 4M バイトでした。)
          </p><p>
            ほとんどの場合、このパラメータをデフォルトから変更する必要はありません。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxparallelscansperfragment"></a>
            <a class="indexterm" name="idm139979041401936"></a> <code class="literal">MaxParallelScansPerFragment</code>
          </p><div class="informaltable"><a name="maxparallelscansperfragment-ndbd-table"></a><table summary="この表は、MaxParallelScansPerFragment データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>256</td><td>1 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            順次処理のキューイングが開始される前に許可される並列スキャン (<code class="literal">TUP</code> スキャンおよび <code class="literal">TUX</code> スキャン) の最大数を構成できます。これを増やすことにより、多数のスキャンを並列で実行するときに未使用の CPU を利用して、パフォーマンスを向上させることができます。
          </p><p>
            MySQL Cluster NDB 7.3 以降では、このパラメータのデフォルト値は 256 です。
          </p></li></ul></div><h5><a name="mysql-cluster-memory-allocation"></a>メモリー割り当て</h5><p><a name="ndbparam-ndbd-maxallocate"></a>
        <a class="indexterm" name="idm139979041380768"></a> <code class="literal">MaxAllocate</code>
      </p><div class="informaltable"><a name="maxallocate-ndbd-table"></a><table summary="この表は、MaxAllocate データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>32M</td><td>1M - 1G</td><td>N</td></tr></tbody></table></div><p>
        これは、テーブル用のメモリーを割り当てるときに使用するメモリーユニットの最大サイズです。<code class="literal">NDB</code> で <span class="errortext">Out of memory</span>エラーが発生したが、クラスタログまたは <code class="literal">DUMP 1000</code> (<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-dump-command-1000.html" target="_top">DUMP 1000</a>を参照してください) の出力を調べると、使用可能なすべてのメモリーがまだ使用されていないことが明らかな場合は、このパラメータ (または <code class="literal">MaxNoOfTables</code>、あるいはその両方) の値を増やすと、<code class="literal">NDB</code> が十分なメモリーを使用できるようになります。
      </p><h5><a name="mysql-cluster-hash-map-size"></a>ハッシュマップサイズ</h5><p><a name="ndbparam-ndbd-defaulthashmapsize"></a>
        <a class="indexterm" name="idm139979041357360"></a> <code class="literal">DefaultHashMapSize</code>
      </p><div class="informaltable"><a name="defaulthashmapsize-ndbd-table"></a><table summary="この表は、DefaultHashMapSize データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>LDM スレッド</td><td>3840</td><td>0 - 3840</td><td>N</td></tr></tbody></table></div><p>
        MySQL Cluster NDB 7.2.7 以降では、前のリリース (240) より大きなテーブルハッシュマップのデフォルトサイズ (3840) が使用されます。MySQL Cluster NDB 7.2.11 以降では、このパラメータを使用して <code class="literal">NDB</code> が使用するテーブルハッシュマップのサイズを構成できます (以前は、この値はハードコーディングされていました)。<code class="literal">DefaultHashMapSize</code> には、3 つの値 (0、240、3840) のいずれかを指定できます。これらの値とその効果について、次の表で説明します。
      </p><div class="informaltable"><a name="mysql-cluster-defaulthashmapsize-table"></a><table summary="DefaultHashMapSize パラメータの値とその効果" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">値</th><th scope="col">説明/効果</th></tr></thead><tbody><tr><td scope="row"><code class="literal">0</code></td><td>クラスタ内のすべてのデータおよび API ノードの中で、このパラメータに設定されたもっとも小さい値を (あれば) 使用します。どのデータまたは API ノードにも設定されていない場合は、デフォルト値を使用します。</td></tr><tr><td scope="row"><code class="literal">240</code></td><td>MySQL Cluster NDB 7.2.7 より前のすべての MySQL Cluster リリースでデフォルトで使用されていた元のハッシュマップサイズです。</td></tr><tr><td scope="row"><code class="literal">3840</code></td><td>MySQL Cluster NDB 7.2.7 以降でデフォルトで使用される、より大きなハッシュマップサイズ</td></tr></tbody></table></div><p>
        このパラメータの主な用途は、より大きなハッシュマップサイズ (3840) がデフォルトである MySQL Cluster NDB 7.2.7 以降の MySQL Cluster バージョンと以前のリリース (デフォルトが 240 だった) との間のアップグレードと (特に) ダウングレードを容易にすることです。これは、この変更に下位互換性がない (Bug #14800539) ためです。このパラメータを 240 に設定してから、この値を使用している古いバージョンからのアップグレードを実行すると、クラスタはテーブルハッシュマップに対して引き続き小さいサイズを使用するため、アップグレード後のテーブルでも前のバージョンとの互換性が維持されます。<code class="literal">DefaultHashMapSize</code> は個々のデータノード、API ノード、またはその両方で設定できますが、<code class="filename">config.ini</code> ファイルの <code class="literal">[ndbd default]</code> セクションに一度だけ設定する方法をお勧めします。
      </p><p>
        このパラメータを増やしたあと、既存のテーブルで新しいサイズを利用するには、そのテーブルに対して <code class="literal">ALTER TABLE ... REORGANIZE PARTITION</code> を実行します。その後、そのテーブルでより大きなハッシュマップサイズを使用できるようになります。これは、ローリング再起動の実行に加えて行います。ローリング再起動を実行すると、より大きなハッシュマップを新しいテーブルで使用できるようになりますが、既存のテーブルでは使用できません。
      </p><p>
        <code class="literal">DefaultHashMapSize</code> を 3840 に設定してテーブルを作成または変更したあと、オンラインでこのパラメータを減らす方法は、現在サポートされていません。
      </p><p><a name="mysql-cluster-logging-and-checkpointing"></a><b>ロギングとチェックポイント </b>
          次の <code class="literal">[ndbd]</code> パラメータは、ログとチェックポイントの動作を制御します。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-nooffragmentlogfiles"></a>
            <a class="indexterm" name="idm139979041315488"></a> <code class="literal">NoOfFragmentLogFiles</code>
          </p><div class="informaltable"><a name="nooffragmentlogfiles-ndbd-table"></a><table summary="この表は、NoOfFragmentLogFiles データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>整数</td><td>16</td><td>3 - 4294967039 (0xFFFFFEFF)</td><td>IN</td></tr></tbody></table></div><p>
            このパラメータは、ノードの Redo ログファイルの数 (つまり、Redo ロギングに割り当てられるスペースの量) を設定します。Redo ログファイルはリング状に編成されるため、セット内の最初と最後のログファイル (それぞれ <span class="quote">「<span class="quote">head</span>」</span> および <span class="quote">「<span class="quote">tail</span>」</span> ログファイルとも呼ばれる) が交わらないことが非常に重要です。これらが互いに近寄りすぎると、新しいログレコードを追加する余裕がないため、ノードは更新を含むすべてのトランザクションを中止し始めます。
          </p><p>
            <code class="literal">Redo</code> ログレコードは、挿入されたあと、必要な数のローカルチェックポイントが完了するまで削除されません。(MySQL Cluster NDB 7.3 以降では、2 つのローカルチェックポイントのみが必要です)。チェックポイントの頻度は、この章で別途説明する固有の構成パラメータセットによって決定されます。
          </p><p>
            デフォルトのパラメータ値は 16 です。これは、デフォルトでは 16M バイトのファイル 4 個が 16 セット (合計 1024M バイト) あることを意味します。個々のログファイルのサイズは、<code class="literal">FragmentLogFileSize</code> パラメータを使用して構成できます。非常に多くの更新が必要なシナリオでは、Redo ログに対して十分なスペースを提供するため、<code class="literal">NoOfFragmentLogFiles</code> の値を 300 以上に設定する必要がある場合があります。
          </p><p>
            チェックポイントが遅く、データベースへの書き込みが多いためにログファイルがいっぱいになって、リカバリに悪影響を与えずにログの末尾をカットできない場合は、すべての更新トランザクションが内部エラーコード 410<code class="literal">「Out of log file space temporarily」</code>によって中止されます。この状態は、チェックポイントが完了してログの末尾を前に移動できるようになるまで続きます。
          </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
              このパラメータは<span class="quote">「<span class="quote">実行中に</span>」</span>変更できません。<code class="option">--initial</code> を使用してノードを再起動する必要があります。実行中のクラスタのすべてのデータノードでこの値を変更する必要がある場合は、(各データノードの起動時に <code class="option">--initial</code> を使用して) ノードのローリング再起動を使用します。
            </p></div></li><li class="listitem"><p><a name="ndbparam-ndbd-fragmentlogfilesize"></a>
            <a class="indexterm" name="idm139979041287120"></a> <code class="literal">FragmentLogFileSize</code>
          </p><div class="informaltable"><a name="fragmentlogfilesize-ndbd-table"></a><table summary="この表は、FragmentLogFileSize データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>16M</td><td>4M - 1G</td><td>IN</td></tr></tbody></table></div><p>
            このパラメータを設定すると、Redo ログファイルのサイズを直接制御できます。これは、MySQL Cluster が負荷の高い状態で稼働し、フラグメントログファイルを閉じるまでに時間がかかって新しいファイルを開けない (一度に開けるフラグメントログファイルは 2 つだけです) 場合に便利です。フラグメントログファイルのサイズを増やすと、クラスタ内で新しいフラグメントログファイルを開く必要が生じるまでの時間が長くなります。このパラメータのデフォルト値は 16M です。
          </p><p>
            フラグメントログファイルの詳細は、<code class="literal">NoOfFragmentLogFiles</code> の説明を参照してください。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-initfragmentlogfiles"></a>
            <a class="indexterm" name="idm139979041267792"></a> <code class="literal">InitFragmentLogFiles</code>
          </p><div class="informaltable"><a name="initfragmentlogfiles-ndbd-table"></a><table summary="この表は、InitFragmentLogFiles データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>[値を参照]</td><td>SPARSE</td><td>SPARSE、FULL</td><td>IN</td></tr></tbody></table></div><p>
            デフォルトでは、データノードの初期起動の実行時はフラグメントログファイルがまばらに作成されます。つまり、使用するオペレーティングシステムとファイルシステムによって、必ずしもすべてのバイトがディスクに書き込まれるわけではありません。ただし、このパラメータを使用すると、使用されているプラットフォームやファイルシステムのタイプに関係なく、この動作をオーバーライドしてすべてのバイトが強制的に書き込まれるように設定できます。<code class="literal">InitFragmentLogFiles</code> は 2 つの値のいずれかを取ります。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">SPARSE</code>。フラグメントログファイルがまばらに作成されます。これはデフォルト値です。
              </p></li><li class="listitem"><p>
                <code class="literal">FULL</code>。フラグメントログファイルのすべてのバイトが強制的にディスクに書き込まれます。
              </p></li></ul></div><p>
            オペレーティングシステムとファイルシステムによっては、<code class="literal">InitFragmentLogFiles=FULL</code> を設定することで、Redo ログへの書き込み時の I/O エラーを解消できる場合があります。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxnoofopenfiles"></a>
            <a class="indexterm" name="idm139979041243760"></a> <code class="literal">MaxNoOfOpenFiles</code>
          </p><div class="informaltable"><a name="maxnoofopenfiles-ndbd-table"></a><table summary="この表は、MaxNoOfOpenFiles データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>0</td><td>20 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、開いたファイルに割り当てる内部スレッド数の上限を設定します。<span class="emphasis"><em>このパラメータの変更が必要な状況が発生した場合は、それをバグとして報告するようにしてください</em></span>。
          </p><p>
            デフォルト値は 0 です。ただし、このパラメータに設定できる最小値は 20 です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-initialnoofopenfiles"></a>
            <a class="indexterm" name="idm139979041225808"></a> <code class="literal">InitialNoOfOpenFiles</code>
          </p><div class="informaltable"><a name="initialnoofopenfiles-ndbd-table"></a><table summary="この表は、InitialNoOfOpenFiles データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ファイル</td><td>27</td><td>20 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、開いたファイルに割り当てる初期の内部スレッド数を設定します。
          </p><p>
            デフォルト値は 27 です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxnoofsavedmessages"></a>
            <a class="indexterm" name="idm139979041208560"></a> <code class="literal">MaxNoOfSavedMessages</code>
          </p><div class="informaltable"><a name="maxnoofsavedmessages-ndbd-table"></a><table summary="この表は、MaxNoOfSavedMessages データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>整数</td><td>25</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、古いファイルを上書きする前に保持されるトレースファイルの最大数を設定します。トレースファイルは、何らかの理由でノードがクラッシュしたときに生成されます。
          </p><p>
            デフォルトは 25 個のトレースファイルです。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxlcpstartdelay"></a>
            <a class="indexterm" name="idm139979041191040"></a> <code class="literal">MaxLCPStartDelay</code>
          </p><div class="informaltable"><a name="maxlcpstartdelay-ndbd-table"></a><table summary="この表は、MaxLCPStartDelay データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>秒</td><td>0</td><td>0 - 600</td><td>N</td></tr></tbody></table></div><p>
            データノードの並列リカバリでは、実際にはテーブルデータのみが並列でコピーされ、同期されます。ディクショナリ情報やチェックポイント情報などのメタデータの同期は順次に行われます。また、ディクショナリおよびチェックポイント情報のリカバリは、ローカルチェックポイントの実行と並列で実行できません。つまり、多くのデータノードを同時に起動したり再起動したりすると、データノードがローカルチェックポイントの実行中に待たされて、ノードのリカバリ時間が長くなる可能性があります。
          </p><p>
            より多くの (場合によってはすべての) データノードでメタデータの同期を完了できるように、ローカルチェックポイントの遅延を強制できます。各データノードでメタデータの同期が完了したあとは、ローカルチェックポイントの実行中でも、すべてのデータノードで並列にテーブルデータをリカバリできます。このような遅延を強制するには、<code class="literal">MaxLCPStartDelay</code> を設定します。これは、データノードでメタデータの同期が継続されている間にクラスタがローカルチェックポイントの開始を待機する秒数を決定します。このパラメータは、すべてのデータノードで同じになるように <code class="filename">config.ini</code> ファイルの <code class="literal">[ndbd default]</code> セクションに設定するようにしてください。最大値は 600、デフォルトは 0 です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-lcpscanprogresstimeout"></a>
            <a class="indexterm" name="idm139979041168880"></a> <code class="literal">LcpScanProgressTimeout</code>
          </p><div class="informaltable"><a name="lcpscanprogresstimeout-ndbd-table"></a><table summary="この表は、LcpScanProgressTimeout データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>second</td><td>60</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr><tr><td scope="row">NDB 7.3.3</td><td>second</td><td>60</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            ローカルチェックポイントのフラグメントスキャンウォッチドッグは、ローカルチェックポイントの一部として実行されている各フラグメントスキャンが進行していないかどうか定期的にチェックし、特定の時間が経過しても進行しない場合はそのノードをシャットダウンします。MySQL Cluster NDB 7.3.3 より前では、この間隔は常に 60 秒でした (Bug #16630410)。MySQL Cluster NDB 7.3.3 以降では、<code class="literal">LcpScanProgressTimeout</code> データノード構成パラメータを使用してこの間隔を設定できます。これは、LCP のフラグメントスキャンウォッチドッグがノードをシャットダウンするまでローカルチェックポイントの停滞が許可される最大時間を設定します。
          </p><p>
            デフォルト値は 60 秒です (以前のリリースと互換性があります)。このパラメータを 0 に設定すると、LCP のフラグメントスキャンウォッチドッグが完全に無効化されます。
          </p></li></ul></div><p><a name="mysql-cluster-metadata-objects"></a><b>メタデータオブジェクト </b>
          次の一連の <code class="literal">[ndbd]</code> パラメータは、インデックス、イベント、およびクラスタ間のレプリケーションで使用される属性、テーブル、インデックス、およびトリガーオブジェクトの最大数を定義するために使用されるメタデータオブジェクトのプールサイズを定義します。これらはクラスタに対する<span class="quote">「<span class="quote">推奨</span>」</span>の役割を果たすだけであり、指定されなかったものはすべて示されたデフォルト値に戻ります。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-maxnoofattributes"></a>
            <a class="indexterm" name="idm139979041142848"></a> <code class="literal">MaxNoOfAttributes</code>
          </p><div class="informaltable"><a name="maxnoofattributes-ndbd-table"></a><table summary="この表は、MaxNoOfAttributes データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>整数</td><td>1000</td><td>32 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、クラスタに定義できる属性の推奨最大数を設定します。<code class="literal">MaxNoOfTables</code> と同様、厳密な上限の役割を果たすためのものではありません。
          </p><p>
            (古い MySQL Cluster リリースでは、このパラメータは特定の操作に対する厳密な制限として扱われることがありました。このため、MySQL Cluster レプリケーションでレプリケートできる数を超えるテーブルを作成したときに問題が発生し、<code class="literal">MaxNoOfAttributes</code> を超える数の属性を作成した (状況によってはできない) ときに混乱を招くことがありました。)
          </p><p>
            デフォルト値は 1000 です。指定可能な最小値は 32 です。最大は 4294967039 です。すべてのメタデータがサーバー上で完全にレプリケートされるため、各属性はノードあたり 200 バイト前後のストレージを消費します。
          </p><p>
            <code class="literal">MaxNoOfAttributes</code> を設定するときは、今後実行する可能性がある <code class="literal">ALTER TABLE</code> ステートメントを事前に用意することが重要です。これは、クラスタテーブルで <code class="literal">ALTER TABLE</code> の実行中に、元のテーブルに含まれる 3 倍の数の属性が使用されるためであり、この数の 2 倍を許可することをお勧めします。たとえば、属性の数がもっとも多い (<em class="replaceable"><code>greatest_number_of_attributes</code></em>) MySQL Cluster テーブルに 100 個の属性がある場合、<code class="literal">MaxNoOfAttributes</code> の適切な初期値は <code class="literal">6 * <em class="replaceable"><code>greatest_number_of_attributes</code></em> = 600</code> です。
          </p><p>
            また、テーブルあたりの平均属性数を見積もり、それに <code class="literal">MaxNoOfTables</code> を掛けることもお勧めします。この値が前の段落で得られた値より大きい場合は、大きい値を使用するようにしてください。
          </p><p>
            必要なすべてのテーブルが問題なく作成できると仮定して、パラメータの構成後に実際に <code class="literal">ALTER TABLE</code> を試行し、この数が十分であることを確認するようにしてください。これが成功しなかった場合は、<code class="literal">MaxNoOfAttributes</code> をさらに <code class="literal">MaxNoOfTables</code> の数だけ増やして、再度テストしてください。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxnooftables"></a>
            <a class="indexterm" name="idm139979041109072"></a> <code class="literal">MaxNoOfTables</code>
          </p><div class="informaltable"><a name="maxnooftables-ndbd-table"></a><table summary="この表は、MaxNoOfTables データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>整数</td><td>128</td><td>8 - 20320</td><td>N</td></tr></tbody></table></div><p>
            テーブルオブジェクトは、クラスタ内のテーブルごと、および一意のハッシュインデックスごとに割り当てられます。このパラメータは、クラスタ全体のテーブルオブジェクトの推奨最大数を設定します。<code class="literal">MaxNoOfAttributes</code> と同様、厳密な上限の役割を果たすためのものではありません。
          </p><p>
            (古い MySQL Cluster リリースでは、このパラメータは特定の操作に対する厳密な制限として扱われることがありました。このため、MySQL Cluster レプリケーションでレプリケートできる数を超えるテーブルを作成したときに問題が発生し、<code class="literal">MaxNoOfTables</code> を超える数のテーブルを作成した (状況によってはできない) ときに混乱を招くことがありました。)
          </p><p>
            <code class="literal">BLOB</code> データ型を持つ各属性では、<code class="literal">BLOB</code> データの大部分を格納するために追加のテーブルが使用されます。テーブルの合計数を定義するときは、これらのテーブルも考慮に入れる必要があります。
          </p><p>
            このパラメータのデフォルト値は 128 です。最小値は 8、最大値は 20320 です。各テーブルオブジェクトは、ノードあたりおよそ 20K バイトを消費します。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              <code class="literal">MaxNoOfTables</code>、<code class="literal">MaxNoOfOrderedIndexes</code>、および <code class="literal">MaxNoOfUniqueHashIndexes</code> の合計が <code class="literal">2<sup>32</sup> - 2</code> (4294967294) を超えないようにする必要があります。
            </p></div></li><li class="listitem"><p><a name="ndbparam-ndbd-maxnooforderedindexes"></a>
            <a class="indexterm" name="idm139979041080112"></a> <code class="literal">MaxNoOfOrderedIndexes</code>
          </p><div class="informaltable"><a name="maxnooforderedindexes-ndbd-table"></a><table summary="この表は、MaxNoOfOrderedIndexes データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>整数</td><td>128</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            クラスタ内の順序付けされたインデックスごとに、インデックスされた内容とそのストレージセグメントを記述するオブジェクトが割り当てられます。デフォルトでは、そのように定義された各インデックスによって、順序付けされたインデックスも定義されます。個々の一意のインデックスおよび主キーには、順序付けされたインデックスとハッシュインデックスの両方が含まれています。<code class="literal">MaxNoOfOrderedIndexes</code> は、システム内で一度に使用できる順序付けされたインデックスの合計数を設定します。
          </p><p>
            このパラメータのデフォルト値は 128 です。各インデックスオブジェクトは、ノードあたりおよそ 10K バイトのデータを消費します。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              <code class="literal">MaxNoOfTables</code>、<code class="literal">MaxNoOfOrderedIndexes</code>、および <code class="literal">MaxNoOfUniqueHashIndexes</code> の合計が <code class="literal">2<sup>32</sup> - 2</code> (4294967294) を超えないようにする必要があります。
            </p></div></li><li class="listitem"><p><a name="ndbparam-ndbd-maxnoofuniquehashindexes"></a>
            <a class="indexterm" name="idm139979041055968"></a> <code class="literal">MaxNoOfUniqueHashIndexes</code>
          </p><div class="informaltable"><a name="maxnoofuniquehashindexes-ndbd-table"></a><table summary="この表は、MaxNoOfUniqueHashIndexes データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>整数</td><td>64</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            主キー以外の個々の一意のインデックスには、一意キーをインデックスされたテーブルの主キーにマップする専用のテーブルが割り当てられます。デフォルトでは、個々の一意のインデックスに対して順序付けされたインデックスも定義されます。これを禁止するには、一意のインデックスを定義するときに <code class="literal">USING HASH</code> オプションを指定する必要があります。
          </p><p>
            デフォルト値は 64 です。各インデックスは、ノードあたりおよそ 15K バイトを消費します。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              <code class="literal">MaxNoOfTables</code>、<code class="literal">MaxNoOfOrderedIndexes</code>、および <code class="literal">MaxNoOfUniqueHashIndexes</code> の合計が <code class="literal">2<sup>32</sup> - 2</code> (4294967294) を超えないようにする必要があります。
            </p></div></li><li class="listitem"><p><a name="ndbparam-ndbd-maxnooftriggers"></a>
            <a class="indexterm" name="idm139979041032288"></a> <code class="literal">MaxNoOfTriggers</code>
          </p><div class="informaltable"><a name="maxnooftriggers-ndbd-table"></a><table summary="この表は、MaxNoOfTriggers データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>整数</td><td>768</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            個々の一意のハッシュインデックスには、内部更新、挿入、および削除のトリガーが割り当てられます。(これは、一意のハッシュインデックスごとに 3 つのトリガーが作成されることを意味します。)ただし、<span class="emphasis"><em>順序付けされた</em></span>インデックスに必要なトリガーオブジェクトは 1 つだけです。バックアップでも、クラスタ内の通常のテーブルごとに 3 つのトリガーオブジェクトが使用されます。
          </p><p>
            クラスタ間のレプリケーションでも、内部トリガーが使用されます。
          </p><p>
            このパラメータは、クラスタ内のトリガーオブジェクトの最大数を設定します。
          </p><p>
            デフォルト値は 768 です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxnoofindexes"></a>
            <a class="indexterm" name="idm139979041012704"></a> <code class="literal">MaxNoOfIndexes</code>
          </p><p>
            このパラメータは非推奨であり、MySQL Cluster の今後のバージョンで削除される予定です。代わりに <code class="literal">MaxNoOfOrderedIndexes</code> および <code class="literal">MaxNoOfUniqueHashIndexes</code> を使用するようにしてください。
          </p><p>
            このパラメータは、一意のハッシュインデックスでのみ使用されます。　クラスタ内に定義された一意のハッシュインデックスごとに 1 つのレコードがこのプールに存在している必要があります。
          </p><p>
            このパラメータのデフォルト値は 128 です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxnoofsubscriptions"></a>
            <a class="indexterm" name="idm139979041004080"></a> <code class="literal">MaxNoOfSubscriptions</code>
          </p><div class="informaltable"><a name="maxnoofsubscriptions-ndbd-table"></a><table summary="この表は、MaxNoOfSubscriptions データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>0</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            MySQL Cluster 内の各 <code class="literal">NDB</code> テーブルには、NDB カーネル内のサブスクリプションが必要です。一部の NDB API アプリケーションでは、このパラメータの変更が必要または望ましい場合があります。ただし、SQL ノードとして機能する MySQL サーバーを通常どおりに使用する場合は、これを行う必要はありません。
          </p><p>
            <code class="literal">MaxNoOfSubscriptions</code> のデフォルト値は 0 です。これは、<code class="literal">MaxNoOfTables</code> と等価として扱われます。各サブスクリプションは 108 バイトを消費します。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxnoofsubscribers"></a>
            <a class="indexterm" name="idm139979040983344"></a> <code class="literal">MaxNoOfSubscribers</code>
          </p><div class="informaltable"><a name="maxnoofsubscribers-ndbd-table"></a><table summary="この表は、MaxNoOfSubscribers データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>0</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、MySQL Cluster レプリケーションの使用時にのみ関連します。デフォルト値は 0 です。これは、<code class="literal">2 * MaxNoOfTables</code> として扱われます。つまり、2 つの MySQL サーバー (1 つはレプリケーションマスターとして機能し、もう 1 つはスレーブとして機能します) のそれぞれに対して <code class="literal">NDB</code> テーブルあたり 1 つのサブスクリプションがあります。各サブスクライバは 16 バイトのメモリーを使用します。
          </p><p>
            循環レプリケーション、マルチマスターレプリケーション、および 3 つ以上の MySQL サーバーが関与するその他のレプリケーションセットアップを使用するときは、このパラメータをレプリケーションに含まれる <span class="command"><strong>mysqld</strong></span> プロセスの数 (これは通常 (常にではありませんが) クラスタの数と同じです) まで増やすようにしてください。たとえば、3 つの MySQL Cluster を使用する循環レプリケーションセットアップがあり、1 つの <span class="command"><strong>mysqld</strong></span> が各クラスタに接続され、これらの <span class="command"><strong>mysqld</strong></span> プロセスがそれぞれマスターおよびスレーブとして機能する場合は、<code class="literal">MaxNoOfSubscribers</code> を <code class="literal">3 * MaxNoOfTables</code> に設定するようにしてください。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication" title="18.6 MySQL Cluster レプリケーション">セクション18.6「MySQL Cluster レプリケーション」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxnoofconcurrentsuboperations"></a>
            <a class="indexterm" name="idm139979040957232"></a> <code class="literal">MaxNoOfConcurrentSubOperations</code>
          </p><div class="informaltable"><a name="maxnoofconcurrentsuboperations-ndbd-table"></a><table summary="この表は、MaxNoOfConcurrentSubOperations データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>256</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、クラスタ内のすべての API ノードが一度に実行できる操作数の上限を設定します。通常の操作ではデフォルト値 (256) で十分ですが、API ノードが多数あり、それぞれが大量の操作を同時に実行しているシナリオでのみ、調整が必要になる可能性があります。
          </p></li></ul></div><p><a name="mysql-cluster-boolean-parameters"></a><b>ブールパラメータ </b>
          データノードの動作は、ブール値を取る一連の <code class="literal">[ndbd]</code> パラメータにも影響されます。これらの各パラメータは、<code class="literal">TRUE</code> として指定する場合は <code class="literal">1</code> または <code class="literal">Y</code> に設定し、<code class="literal">FALSE</code> として指定する場合は <code class="literal">0</code> または <code class="literal">N</code> に設定します。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-latealloc"></a>
            <a class="indexterm" name="idm139979040932704"></a> <code class="literal">LateAlloc</code>
          </p><div class="informaltable"><a name="latealloc-ndbd-table"></a><table summary="この表は、LateAlloc データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>数値</td><td>1</td><td>0 - 1</td><td>N</td></tr></tbody></table></div><p>
            管理サーバーへの接続が確立されたあとで、このデータノードのメモリーを割り当てます。デフォルトで有効。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-lockpagesinmainmemory"></a>
            <a class="indexterm" name="idm139979040915936"></a> <code class="literal">LockPagesInMainMemory</code>
          </p><div class="informaltable"><a name="lockpagesinmainmemory-ndbd-table"></a><table summary="この表は、LockPagesInMainMemory データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>数値</td><td>0</td><td>0 - 2</td><td>N</td></tr></tbody></table></div><p>
            Solaris と Linux を含むいくつかのオペレーティングシステムでは、プロセスをメモリーにロックすると、ディスクへのスワップを回避できます。これを使用すると、クラスタのリアルタイム特性が保証されやすくなります。
          </p><p>
            このパラメータは、整数値 <code class="literal">0</code>、<code class="literal">1</code>、または <code class="literal">2</code> のいずれかを取ります。これらの機能を次のリストに示します。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">0</code>: ロックを無効にします。これはデフォルト値です。
              </p></li><li class="listitem"><p>
                <code class="literal">1</code>: プロセスのメモリーを割り当てたあとでロックを実行します。
              </p></li><li class="listitem"><p>
                <code class="literal">2</code>: プロセスのメモリーを割り当てる前にロックを実行します。
              </p></li></ul></div><p>
            権限のないユーザーがページをロックできるようにオペレーティングシステムが構成されていない場合は、このパラメータを利用するデータノードプロセスをシステムの root として実行する必要がある可能性があります。(<code class="literal">LockPagesInMainMemory</code> では、<code class="literal">mlockall</code> 関数が使用されます。Linux kernel 2.6.9 以降では、権限のないユーザーが <code class="literal">max locked memory</code> の制限に従ってメモリーをロックできます。詳細は、<span class="command"><strong>ulimit -l</strong></span> および <a class="ulink" href="http://linux.die.net/man/2/mlock" target="_top">http://linux.die.net/man/2/mlock</a> を参照してください)。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              古い MySQL Cluster リリースでは、このパラメータはブール型でした。デフォルト設定だった <code class="literal">0</code> または <code class="literal">false</code> では、ロックが無効化されました。<code class="literal">1</code> または <code class="literal">true</code> では、プロセスのメモリーが割り当てられたあとでそのロックが有効化されました。MySQL Cluster NDB 7.3 以降では、このパラメータの値に <code class="literal">true</code> または <code class="literal">false</code> を使用すると、エラーとして処理されます。
            </p></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
              <code class="literal">glibc</code> 2.10 以降では、<code class="literal">glibc</code> が共有プールでのロック競合を減らすためにスレッド単位のアリーナを使用し、これによって実メモリーが消費されます。通常、データノードプロセスは起動後にメモリー割り当てを実行しないため、スレッド単位のアリーナを必要としません。(このアロケータの違いがパフォーマンスに重大な影響を与えることはありません。)
            </p><p>
              この <code class="literal">glibc</code> の動作は <code class="literal">MALLOC_ARENA_MAX</code> 環境変数を使用して構成できるようになっていますが、<code class="literal">glibc</code> 2.16 より前では、このメカニズムのバグが原因でこの変数を 8 未満に設定できなかったため、無駄になったメモリーを再利用できませんでした。(Bug #15907219。この問題の詳細は、<a class="ulink" href="http://sourceware.org/bugzilla/show_bug.cgi?id=13137" target="_top">http://sourceware.org/bugzilla/show_bug.cgi?id=13137</a> も参照してください。)
            </p><p>
              この問題の考えられる回避策は、<code class="literal">LD_PRELOAD</code> 環境変数を使用して <code class="literal">jemalloc</code> メモリー割り当てライブラリをプリロードし、<code class="literal">glibc</code> に付属するライブラリの代わりに使用することです。
            </p></div></li><li class="listitem"><p><a name="ndbparam-ndbd-stoponerror"></a>
            <a class="indexterm" name="idm139979040870160"></a> <code class="literal">StopOnError</code>
          </p><div class="informaltable"><a name="stoponerror-ndbd-table"></a><table summary="この表は、StopOnError データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ブール</td><td>1</td><td>0、1</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、データノードプロセスでエラー状態が発生したときに、プロセスを終了するか、自動的に再起動するか指定します。
          </p><p>
            このパラメータのデフォルト値は <code class="literal">1</code> です。これは、デフォルトで、エラー発生時にデータノードプロセスが停止することを意味します。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-crashoncorruptedtuple"></a>
            <a class="indexterm" name="idm139979040851904"></a> <code class="literal">CrashOnCorruptedTuple</code>
          </p><div class="informaltable"><a name="crashoncorruptedtuple-ndbd-table"></a><table summary="この表は、CrashOnCorruptedTuple データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ブール</td><td>true</td><td>true、false</td><td>S</td></tr></tbody></table></div><p>
            このパラメータを有効にすると、破損したタプルが検出されたときにデータノードが強制的にシャットダウンされます。MySQL Cluster NDB 7.3 以降では、これはデフォルトで有効になっています。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-diskless"></a>
            <a class="indexterm" name="idm139979040834912"></a> <code class="literal">Diskless</code>
          </p><div class="informaltable"><a name="diskless-ndbd-table"></a><table summary="この表は、Diskless データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>true|false (1|0)</td><td>false</td><td>true、false</td><td>IS</td></tr></tbody></table></div><p>
            MySQL Cluster のテーブルを<em class="firstterm">ディスクレス</em>として指定できます。これは、テーブルがディスクにチェックポイントされず、ロギングが発生しないことを意味します。このようなテーブルはメインメモリーにのみ存在します。ディスクレステーブルを使用すると、クラッシュ発生時にテーブルもテーブル内のレコードも失われます。ただし、ディスクレスモードで動作するときは、ディスクレスコンピュータで <span class="command"><strong>ndbd</strong></span> を実行できます。
          </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
              この機能を使用すると、クラスタ<span class="emphasis"><em>全体</em></span>がディスクレスモードで動作します。
            </p></div><p>
            この機能を有効にすると、クラスタのオンラインバックアップが無効になります。また、クラスタの部分的起動ができなくなります。
          </p><p>
            <code class="literal">Diskless</code> はデフォルトで無効になっています。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-odirect"></a>
            <a class="indexterm" name="idm139979040812480"></a> <code class="literal">ODirect</code>
          </p><div class="informaltable"><a name="odirect-ndbd-table"></a><table summary="この表は、ODirect データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ブール</td><td>false</td><td>true、false</td><td>N</td></tr></tbody></table></div><p>
            このパラメータを有効にすると、<code class="literal">NDB</code> が LCP、バックアップ、および Redo ログで <code class="literal">O_DIRECT</code> 書き込みを試行し、多くの場合 <span class="command"><strong>kswapd</strong></span> と CPU の使用率が低下します。Linux 上で MySQL Cluster を使用するときに 2.6 以降のカーネルを使用する場合は、<code class="literal">ODirect</code> を有効にしてください。
          </p><p>
            <code class="literal">ODirect</code> はデフォルトで無効になっています。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-restartonerrorinsert"></a>
            <a class="indexterm" name="idm139979040790576"></a> <code class="literal">RestartOnErrorInsert</code>
          </p><div class="informaltable"><a name="restartonerrorinsert-ndbd-table"></a><table summary="この表は、RestartOnErrorInsert データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>エラーコード</td><td>2</td><td>0 - 4</td><td>N</td></tr></tbody></table></div><p>
            この機能は、コードの個々のブロックをテストの一部として実行する際に、エラーの挿入が可能なデバッグバージョンをビルドする場合にのみ利用できます。
          </p><p>
            この機能はデフォルトで無効になっています。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-compressedbackup"></a>
            <a class="indexterm" name="idm139979040773088"></a> <code class="literal">CompressedBackup</code>
          </p><div class="informaltable"><a name="compressedbackup-ndbd-table"></a><table summary="この表は、CompressedBackup データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ブール</td><td>false</td><td>true、false</td><td>N</td></tr></tbody></table></div><p>
            このパラメータを <code class="literal">1</code> に設定すると、バックアップファイルが圧縮されます。使用される圧縮は <span class="command"><strong>gzip --fast</strong></span> と同等であり、データノードで非圧縮バックアップファイルの格納に必要なスペースの 50% 以上を節約できます。圧縮バックアップは、個々のデータノードまたは (<code class="filename">config.ini</code> ファイルの <code class="literal">[ndbd default]</code> セクションにこのパラメータを設定することで) すべてのデータノードで有効化できます。
          </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
              圧縮バックアップを、この機能をサポートしない MySQL バージョンを実行するクラスタにリストアすることはできません。
            </p></div><p>
            デフォルト値は <code class="literal">0</code> (無効) です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-compressedlcp"></a>
            <a class="indexterm" name="idm139979040750416"></a> <code class="literal">CompressedLCP</code>
          </p><div class="informaltable"><a name="compressedlcp-ndbd-table"></a><table summary="この表は、CompressedLCP データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ブール</td><td>false</td><td>true、false</td><td>N</td></tr></tbody></table></div><p>
            このパラメータを <code class="literal">1</code> に設定すると、ローカルチェックポイントが圧縮されます。使用される圧縮は <span class="command"><strong>gzip --fast</strong></span> と同等であり、データノードで非圧縮チェックポイントファイルの格納に必要なスペースの 50% 以上を節約できます。圧縮 LCP は、個々のデータノードまたは (<code class="filename">config.ini</code> ファイルの <code class="literal">[ndbd default]</code> セクションにこのパラメータを設定することで) すべてのデータノードで有効化できます。
          </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
              圧縮ローカルチェックポイントを、この機能をサポートしない MySQL バージョンを実行するクラスタにリストアすることはできません。
            </p></div><p>
            デフォルト値は <code class="literal">0</code> (無効) です。
          </p></li></ul></div><h5><a name="mysql-cluster-timeouts-intervals-disk-paging"></a>タイムアウト、間隔、およびディスクページングの制御</h5><p>
        クラスタデータノード内のさまざまなアクション間のタイムアウトと間隔を指定する、いくつかの <code class="literal">[ndbd]</code> パラメータがあります。ほとんどのタイムアウト値はミリ秒単位で指定します。この例外については、該当する箇所で説明します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-timebetweenwatchdogcheck"></a>
            <a class="indexterm" name="idm139979040724224"></a> <code class="literal">TimeBetweenWatchDogCheck</code>
          </p><div class="informaltable"><a name="timebetweenwatchdogcheck-ndbd-table"></a><table summary="この表は、TimeBetweenWatchDogCheck データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ミリ秒</td><td>6000</td><td>70 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            メインスレッドがある時点で無限ループに陥ることを防ぐため、<span class="quote">「<span class="quote">ウォッチドッグ</span>」</span>スレッドがメインスレッドをチェックします。このパラメータは、チェック間のミリ秒数を指定します。プロセスが 3 回のチェック後も同じ状態の場合、ウォッチドッグスレッドはプロセスを強制終了します。
          </p><p>
            このパラメータは、実験のため、またはローカルの状態に合わせて簡単に変更できます。これをノード単位で指定することもできますが、指定することはほとんどありません。
          </p><p>
            デフォルトのタイムアウトは 6000 ミリ秒 (6 秒) です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-timebetweenwatchdogcheckinitial"></a>
            <a class="indexterm" name="idm139979040705184"></a> <code class="literal">TimeBetweenWatchDogCheckInitial</code>
          </p><div class="informaltable"><a name="timebetweenwatchdogcheckinitial-ndbd-table"></a><table summary="この表は、TimeBetweenWatchDogCheckInitial データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ミリ秒</td><td>6000</td><td>70 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            これは <code class="literal">TimeBetweenWatchDogCheck</code> パラメータとほぼ同じですが、<code class="literal">TimeBetweenWatchDogCheckInitial</code> はメモリー割り当てが行われる初期起動段階でデータベースノード内部の実行チェック間に経過する時間を制御します。
          </p><p>
            デフォルトのタイムアウトは 6000 ミリ秒 (6 秒) です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-startpartialtimeout"></a>
            <a class="indexterm" name="idm139979040685632"></a> <code class="literal">StartPartialTimeout</code>
          </p><div class="informaltable"><a name="startpartialtimeout-ndbd-table"></a><table summary="この表は、StartPartialTimeout データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ミリ秒</td><td>30000</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、クラスタの初期化ルーチンが呼び出されるまでにクラスタがデータノードの起動を待つ時間を指定します。このタイムアウトは、可能なかぎり、クラスタの部分的起動を回避するために使用されます。
          </p><p>
            このパラメータは、クラスタの初期起動または初期再起動の実行時にオーバーライドされます。
          </p><p>
            デフォルト値は 30000 ミリ秒 (30 秒) です。0 にするとタイムアウトが無効になり、すべてのノードが使用可能な場合にのみクラスタを起動できるようになります。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-startpartitionedtimeout"></a>
            <a class="indexterm" name="idm139979040666944"></a> <code class="literal">StartPartitionedTimeout</code>
          </p><div class="informaltable"><a name="startpartitionedtimeout-ndbd-table"></a><table summary="この表は、StartPartitionedTimeout データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ミリ秒</td><td>60000</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            <code class="literal">StartPartialTimeout</code> ミリ秒の待機後にクラスタが起動できる状態になっても、まだパーティション化された状態の可能性がある場合、クラスタはこのタイムアウトが経過するまで待機します。<code class="literal">StartPartitionedTimeout</code> を 0 に設定すると、クラスタは無期限で待機します。
          </p><p>
            このパラメータは、クラスタの初期起動または初期再起動の実行時にオーバーライドされます。
          </p><p>
            デフォルトのタイムアウトは 60000 ミリ秒 (60 秒) です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-startfailuretimeout"></a>
            <a class="indexterm" name="idm139979040646624"></a> <code class="literal">StartFailureTimeout</code>
          </p><div class="informaltable"><a name="startfailuretimeout-ndbd-table"></a><table summary="この表は、StartFailureTimeout データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ミリ秒</td><td>0</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            データノードでこのパラメータで指定された時間内に起動シーケンスが完了されなかった場合、ノードの起動は失敗します。このパラメータを 0 (デフォルト値) に設定すると、データノードのタイムアウトは適用されません。
          </p><p>
            このパラメータでは、0 以外の値はミリ秒単位で測定されます。非常に多くのデータを含むデータノードでは、このパラメータを増やすようにしてください。たとえば、数ギガバイトのデータを含むデータノードの場合、ノードを再起動するのに 10-15 分 (つまり、600000-1000000 ミリ秒) の時間が必要です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-startnonodegrouptimeout"></a>
            <a class="indexterm" name="idm139979040628528"></a> <code class="literal">StartNoNodeGroupTimeout</code>
          </p><div class="informaltable"><a name="startnonodegrouptimeout-ndbd-table"></a><table summary="この表は、StartNoNodeGroupTimeout データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ミリ秒</td><td>15000</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            <code class="literal">Nodegroup = 65536</code> でデータノードを構成すると、そのノードはどのノードグループにも割り当てられないものとみなされます。その場合、クラスタは <code class="literal">StartNoNodegroupTimeout</code> ミリ秒待機してから、そのようなノードを <code class="option">--nowait-nodes</code> オプションに渡されたリストに追加されたものとして扱い、起動します。デフォルト値は <code class="literal">15000</code> です (つまり、管理サーバーは 15 秒待機します)。このパラメータを <code class="literal">0</code> に設定すると、クラスタは無期限に待機します。
          </p><p>
            <code class="literal">StartNoNodegroupTimeout</code> はクラスタ内のすべてのデータノードで同じにする必要があります。そのため、これは個々のデータノードではなく、常に <code class="filename">config.ini</code> ファイルの <code class="literal">[ndbd default]</code> セクションに設定するようにしてください。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-online-add-node" title="18.5.13 MySQL Cluster データノードのオンライン追加">セクション18.5.13「MySQL Cluster データノードのオンライン追加」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-heartbeatintervaldbdb"></a>
            <a class="indexterm" name="idm139979040603040"></a> <code class="literal">HeartbeatIntervalDbDb</code>
          </p><div class="informaltable"><a name="heartbeatintervaldbdb-ndbd-table"></a><table summary="この表は、HeartbeatIntervalDbDb データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ミリ秒</td><td>5000</td><td>10 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            障害の発生したノードを検出する主な方法の 1 つは、ハートビートを使用することです。このパラメータは、ハートビート信号の送信回数と予想される受信回数を指定します。3 回連続でハートビート間隔が失敗すると、そのノードはデッドと宣言されます。したがって、ハートビートメカニズムによる障害検出の最大時間は、ハートビート間隔の 4 倍になります。
          </p><p>
            MySQL Cluster NDB 7.3 以降では、デフォルトのハートビート間隔は 5000 ミリ秒 (5 秒) です。このパラメータを大幅に変更しないでください。また、ノード間の違いが大きくならないようにしてください。あるノードが 5000 ミリ秒を使用し、それを監視するノードが 1000 ミリ秒を使用する場合、そのノードは非常に速くデッドと宣言されます。このパラメータはオンラインのソフトウェアアップグレード中に変更できますが、少しずつ増やしてください。
          </p><p>
            <a class="xref" href="mysql-cluster.html#mysql-cluster-network-latency-issues" title="ネットワーク通信と待機時間">ネットワーク通信と待機時間</a>も参照してください。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-heartbeatintervaldbapi"></a>
            <a class="indexterm" name="idm139979040583680"></a> <code class="literal">HeartbeatIntervalDbApi</code>
          </p><div class="informaltable"><a name="heartbeatintervaldbapi-ndbd-table"></a><table summary="この表は、HeartbeatIntervalDbApi データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ミリ秒</td><td>1500</td><td>100 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            各データノードは各 MySQL サーバー (SQL ノード) にハートビート信号を送信して、接続されたままであるか確認します。MySQL サーバーが時間内にハートビートを送信できなかった場合、<span class="quote">「<span class="quote">デッド</span>」</span>と宣言されます。その場合、進行中のすべてのトランザクションが完了し、リソースが解放されます。以前の MySQL インスタンスによって開始されたすべてのアクティビティーが完了するまで、SQL ノードは再接続できません。この判定に使用される 3 ハートビートの条件は、<code class="literal">HeartbeatIntervalDbDb</code> で説明したものと同じです。
          </p><p>
            デフォルトの間隔は 1500 ミリ秒 (1.5 秒) です。個々のデータノードはほかのすべてのデータノードと関係なく接続中の MySQL サーバーを監視するため、この間隔は各データノードで異なることがあります。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-network-latency-issues" title="ネットワーク通信と待機時間">ネットワーク通信と待機時間</a>を参照してください。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-heartbeatorder"></a>
            <a class="indexterm" name="idm139979040562320"></a> <code class="literal">HeartbeatOrder</code>
          </p><div class="informaltable"><a name="heartbeatorder-ndbd-table"></a><table summary="この表は、HeartbeatOrder データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>数値</td><td>0</td><td>0 - 65535</td><td>S</td></tr></tbody></table></div><p>
            データノードは、各データノードが直前のデータノードをモニターする循環的な方法で、相互にハートビートを送信します。ハートビートが特定のデータノードによって検出されなかった場合、このノードは循環の直前のデータノードを<span class="quote">「<span class="quote">デッド</span>」</span> (つまり、クラスタからアクセスできなくなった) と宣言します。データノードがデッドであるという判定はグローバルに行われます。つまり、データノードがデッドと宣言されると、そのノードはクラスタ内のすべてのノードからそのようにみなされます。
          </p><p>
            異なるホストに配置されたデータノード間のハートビートが (たとえば、非常に長いハートビート間隔や一時的な接続の問題によって) ほかのノードペア間のハートビートに比べて遅すぎるために、データノードがまだクラスタの一部として機能しているにもかかわらず、デッドと宣言される可能性があります。
          </p><p>
            このような状況では、データノード間のハートビートの転送順序が、特定のデータノードがデッドと宣言されるかどうかに影響している可能性があります。この宣言が不必要に発生すると、それがノードグループの損失を招き、さらにクラスタの障害につながる可能性があります。
          </p><p>
            次の表に示すように、2 台のホストコンピュータ <code class="literal">host1</code> および <code class="literal">host2</code> で実行されている 4 つのデータノード A、B、C、および D があり、これらのデータノードが 2 つのノードグループを構成しているセットアップについて考えます。
          </p><div class="informaltable"><table summary="この表は、2 台のホストコンピュータ host1 および host2 で実行されている 4 つのデータノード A、B、C、および D があり、各データノードが 2 つのノードグループのいずれかに属しているセットアップを示しています。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><p>
                      ノードグループ
                    </p></th><th scope="col"><p>
                      <code class="literal">host1</code> で実行されているノード
                    </p></th><th scope="col"><code class="literal">host2</code> で実行されているノード</th></tr></thead><tbody><tr><td scope="row"><p>
                      <span class="emphasis"><em>ノードグループ 0</em></span>:
                    </p></td><td><p>
                      ノード A
                    </p></td><td>ノード B</td></tr><tr><td scope="row"><p>
                      <span class="emphasis"><em>ノードグループ 1</em></span>:
                    </p></td><td><p>
                      ノード C
                    </p></td><td>ノード D</td></tr></tbody></table></div><p>
            ハートビートが A-&gt;B-&gt;C-&gt;D-&gt;A の順に転送されるとします。この場合、ホスト間のハートビートが失われると、ノード B がノード A をデッドと宣言し、ノード C が B をデッドと宣言します。この結果、ノードグループ 0 が失われるため、クラスタが機能停止します。一方、転送の順序が A-&gt;B-&gt;D-&gt;C-&gt;A である (およびほかのすべての条件が前述のままである) 場合は、ハートビートが失われると、ノート A および D がデッドと宣言されます。この場合、各ノードグループに 1 つずつノードが残っているため、クラスタは存続します。
          </p><p>
            <code class="literal">HeartbeatOrder</code> 構成パラメータは、ユーザーがハートビートの転送順序を構成できるようにします。<code class="literal">HeartbeatOrder</code> のデフォルト値は 0 です。すべてのデータノードでデフォルト値を使用できるようにすると、ハートビートの転送順序は <code class="literal">NDB</code> によって決定されます。このパラメータを使用する場合は、クラスタ内のすべてのデータノードで 0 以外の値 (最大 65535) に設定する必要があります。また、この値は各データノードで一意である必要があります。これにより、ハートビートが <code class="literal">HeartbeatOrder</code> 値の小さいノードから大きいノードに順に転送される (その後、<code class="literal">HeartbeatOrder</code> がもっとも大きいノードからもっとも小さいノードに転送され、循環が完結する) ようになります。たとえば、前述のシナリオでハートビートの転送順序 A-&gt;B-&gt;D-&gt;C-&gt;A を強制するために、値を連続させる必要はありません。ここに示すような <code class="literal">HeartbeatOrder</code> 値を設定できます。
          </p><div class="informaltable"><table summary="この表は、各ノードとハートビート順序の値を示し、A-&gt;B-&gt;D-&gt;C-&gt;A というハートビートの転送順序を強制するように HeartbeatOrder 値を設定する前述のシナリオについて説明しています。" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">ノード</th><th scope="col"><code class="literal">HeartbeatOrder</code></th></tr></thead><tbody><tr><td scope="row">A</td><td>10</td></tr><tr><td scope="row">B</td><td>20</td></tr><tr><td scope="row">C</td><td>30</td></tr><tr><td scope="row">D</td><td>25</td></tr></tbody></table></div><p>
            このパラメータを使用して実行中の MySQL Cluster 内のハートビートの転送順序を変更するには、最初にグローバル構成 (<code class="filename">config.ini</code>) ファイルにクラスタ内の各データノードの <code class="literal">HeartbeatOrder</code> を設定する必要があります。変更を有効にするには、次のいずれかを実行する必要があります。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                クラスタ全体の完全なシャットダウンと再起動。
              </p></li><li class="listitem"><p>
                2 回連続のクラスタのローリング再起動。<span class="emphasis"><em>両方のローリング再起動で、すべてのノードが同じ順序で再起動される必要があります</em></span>。
              </p></li></ul></div><p>
            <code class="literal">DUMP 908</code> を使用すると、データノードログでこのパラメータの効果を観察できます。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-connectcheckintervaldelay"></a>
            <a class="indexterm" name="idm139979040498336"></a> <code class="literal">ConnectCheckIntervalDelay</code>
          </p><div class="informaltable"><a name="connectcheckintervaldelay-ndbd-table"></a><table summary="この表は、ConnectCheckIntervalDelay データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>文字列</td><td>0</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、データノード間の接続チェックを有効にします。<code class="literal">ConnectCheckIntervalDelay</code> 秒の間隔以内に応答できないデータノードは疑いありとみなされ、そのような間隔が 2 回続いたあとでデッドとみなされます。
          </p><p>
            このパラメータのデフォルト値は 0 です。これは、MySQL Cluster NDB 7.1 からの変更点です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-timebetweenlocalcheckpoints"></a>
            <a class="indexterm" name="idm139979040479792"></a> <code class="literal">TimeBetweenLocalCheckpoints</code>
          </p><div class="informaltable"><a name="timebetweenlocalcheckpoints-ndbd-table"></a><table summary="この表は、TimeBetweenLocalCheckpoints データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>4 バイトワードの数 (底 2 の対数として)</td><td>20</td><td>0 - 31</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、新しいローカルポイントを開始するまでの待機時間を指定しないという点で例外です。どちらかといえば、比較的少数の更新が行われるクラスタ内でローカルチェックポイントが実行されないようにするために使用されます。更新回数が多いほとんどのクラスタでは、直前のローカルチェックポイントが完了した直後に新しいローカルチェックポイントが開始される可能性があります。
          </p><p>
            前のローカルチェックポイントの開始以降に実行されたすべての書き込み操作のサイズが追加されます。このパラメータは、4 バイトワードの数の底 2 の対数として指定される点でも例外的です。したがって、デフォルト値の 20 は 4M バイト (4 * 2<sup>20</sup>) の書き込み操作を意味し、21 は 8M バイトを意味し、最大値の 31 は 8G バイトの書き込み操作と同等です。
          </p><p>
            クラスタ内のすべての書き込み操作がまとめて追加されます。<code class="literal">TimeBetweenLocalCheckpoints</code> を 6 以下に設定すると、ローカルチェックポイントはクラスタのワークロードと無関係に途切れることなく連続的に実行されます。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-timebetweenglobalcheckpoints"></a>
            <a class="indexterm" name="idm139979040458912"></a> <code class="literal">TimeBetweenGlobalCheckpoints</code>
          </p><div class="informaltable"><a name="timebetweenglobalcheckpoints-ndbd-table"></a><table summary="この表は、TimeBetweenGlobalCheckpoints データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ミリ秒</td><td>2000</td><td>20 - 32000</td><td>N</td></tr></tbody></table></div><p>
            トランザクションがコミットされると、データがミラー化されているノードのメインメモリーでコミットされます。ただし、トランザクションログレコードはコミットの一部としてディスクにフラッシュされません。トランザクションを少なくとも 2 台の自立的なホストマシン上で安全にコミットすることで、持続性に関する妥当な基準が満たされるはずだということがこの動作の根拠です。
          </p><p>
            また、最悪のケース (クラスタの完全なクラッシュ) も適切に処理されるようにすることが重要です。この実行を保証するために、特定の間隔以内に行われるすべてのトランザクションはグローバルチェックポイントに取り込まれます。これは、ディスクにフラッシュされたコミット済みのトランザクションとみなすことができます。つまり、トランザクションはコミットプロセスの一部としてグローバルチェックポイントグループに組み込まれます。その後、このグループのログレコードがディスクにフラッシュされると、トランザクションのグループ全体がクラスタ内のコンピュータ上のディスクに安全にコミットされます。
          </p><p>
            このパラメータは、グローバルチェックポイント間の間隔を定義します。デフォルトは 2000 ミリ秒です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-timebetweenepochs"></a>
            <a class="indexterm" name="idm139979040438928"></a> <code class="literal">TimeBetweenEpochs</code>
          </p><div class="informaltable"><a name="timebetweenepochs-ndbd-table"></a><table summary="この表は、TimeBetweenEpochs データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ミリ秒</td><td>100</td><td>0 - 32000</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、MySQL Cluster レプリケーションの同期エポック間の間隔を定義します。デフォルト値は 100 ミリ秒です。
          </p><p>
            <code class="literal">TimeBetweenEpochs</code> は、MySQL Cluster レプリケーションのパフォーマンスを向上させるために使用できる <span class="quote">「<span class="quote">micro-GCP</span>」</span> の実装の一部です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-timebetweenepochstimeout"></a>
            <a class="indexterm" name="idm139979040420032"></a> <code class="literal">TimeBetweenEpochsTimeout</code>
          </p><div class="informaltable"><a name="timebetweenepochstimeout-ndbd-table"></a><table summary="この表は、TimeBetweenEpochsTimeout データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ミリ秒</td><td>0</td><td>0 - 256000</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、MySQL Cluster レプリケーションの同期エポックのタイムアウトを定義します。このパラメータで決定された時間内にノードがグローバルチェックポイントに参加できなかった場合、ノードはシャットダウンされます。MySQL Cluster NDB 7.3 以降では、デフォルト値は 0 です (つまり、タイムアウトは無効になっています)。
          </p><p>
            <code class="literal">TimeBetweenEpochsTimeout</code> は、MySQL Cluster レプリケーションのパフォーマンスを向上させるために使用できる <span class="quote">「<span class="quote">micro-GCP</span>」</span> の実装の一部です。
          </p><p>
            GCP の保存に 1 分を超える時間がかかった場合、または GCP の保存に 10 秒を超える時間がかかった場合は、常にこのパラメータの現在の値と警告がクラスタログに書き込まれます。
          </p><p>
            このパラメータを 0 に設定すると、保存のタイムアウト、コミットのタイムアウト、またはその両方によって発生する GCP の停止を無効にします。このパラメータに指定できる最大値は 256000 ミリ秒です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxbufferedepochs"></a>
            <a class="indexterm" name="idm139979040398880"></a> <code class="literal">MaxBufferedEpochs</code>
          </p><div class="informaltable"><a name="maxbufferedepochs-ndbd-table"></a><table summary="この表は、MaxBufferedEpochs データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>エポック</td><td>100</td><td>0 - 100000</td><td>N</td></tr></tbody></table></div><p>
            サブスクライブするノードが遅延できる未処理のエポック数。この数を超えると、遅延するサブスクライバが切断されます。
          </p><p>
            ほとんどの通常の操作では、デフォルト値の 100 で十分です。サブスクライブするノードの遅延によって切断が発生する場合、その原因は通常、プロセスまたはスレッドに関するネットワークまたはスケジューリングの問題です。(まれな状況ですが、<code class="literal">NDB</code> クライアントのバグによってこの問題が起きることもあります。)エポックが大きいときは、この値をデフォルトより小さく設定するのが望ましい場合もあります。
          </p><p>
            切断することで、クライアントの問題によってデータノードサービスが影響を受け、データをバッファリングするためのメモリーが不足し、最終的にシャットダウンすることはなくなります。代わりに、切断の結果として (たとえば、バイナリログのギャップイベントによって) クライアントが影響を受け、クライアントは強制的にプロセスを再接続または再起動します。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxbufferedepochbytes"></a>
            <a class="indexterm" name="idm139979040378640"></a> <code class="literal">MaxBufferedEpochBytes</code>
          </p><div class="informaltable"><a name="maxbufferedepochbytes-ndbd-table"></a><table summary="この表は、MaxBufferedEpochBytes データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>26214400</td><td>26214400 (0x01900000) - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            このノードがエポックをバッファリングするために割り当てるバイトの合計数。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-timebetweeninactivetransactionabortcheck"></a>
            <a class="indexterm" name="idm139979040361824"></a> <code class="literal">TimeBetweenInactiveTransactionAbortCheck</code>
          </p><div class="informaltable"><a name="timebetweeninactivetransactionabortcheck-ndbd-table"></a><table summary="この表は、TimeBetweenInactiveTransactionAbortCheck データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ミリ秒</td><td>1000</td><td>1000 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            タイムアウトの処理は、各トランザクションのタイマーをこのパラメータで指定された間隔ごとに 1 回チェックして実行されます。したがって、このパラメータを 1000 ミリ秒に設定すると、すべてのトランザクションのタイムアウトが毎秒 1 回チェックされます。
          </p><p>
            デフォルト値は 1000 ミリ秒 (1 秒) です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-transactioninactivetimeout"></a>
            <a class="indexterm" name="idm139979040344064"></a> <code class="literal">TransactionInactiveTimeout</code>
          </p><div class="informaltable"><a name="transactioninactivetimeout-ndbd-table"></a><table summary="この表は、TransactionInactiveTimeout データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ミリ秒</td><td>[テキストを参照]</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、トランザクションが中止されるまでに、同じトランザクション内の操作間で経過が許容される最大時間を指定します。
          </p><p>
            このパラメータのデフォルトは <code class="literal">4G</code> です (最大も同じです)。トランザクションがロックを保持する期間が長すぎないようにする必要があるリアルタイムデータベースでは、このパラメータを比較的小さい値に設定するようにしてください。単位はミリ秒です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-transactiondeadlockdetectiontimeout"></a>
            <a class="indexterm" name="idm139979040325248"></a> <code class="literal">TransactionDeadlockDetectionTimeout</code>
          </p><div class="informaltable"><a name="transactiondeadlockdetectiontimeout-ndbd-table"></a><table summary="この表は、TransactionDeadlockDetectionTimeout データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ミリ秒</td><td>1200</td><td>50 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            ノードは、トランザクションを含むクエリーの実行時に、クラスタ内のほかのノードが応答するのを待機してから処理を続行します。応答の失敗は、次のいずれかの理由で発生します。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                ノードが<span class="quote">「<span class="quote">デッド</span>」</span>です
              </p></li><li class="listitem"><p>
                操作がロックキューに入りました
              </p></li><li class="listitem"><p>
                アクションの実行を要求したノードに非常に高い負荷がかかっている可能性があります。
              </p></li></ul></div><p>
            このタイムアウトパラメータは、トランザクションが中止されるまでにトランザクションコーディネータが別のノードによるクエリーの実行を待機する時間を指定するもので、ノード障害の処理とデッドロックの検出において重要です。
          </p><p>
            デフォルトのタイムアウト値は 1200 ミリ秒 (1.2 秒) です。
          </p><p>
            このパラメータの最小は 50 ミリ秒です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-disksyncsize"></a>
            <a class="indexterm" name="idm139979040302288"></a> <code class="literal">DiskSyncSize</code>
          </p><div class="informaltable"><a name="disksyncsize-ndbd-table"></a><table summary="この表は、DiskSyncSize データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>4M</td><td>32K - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            これは、ローカルチェックポイントファイルにデータをフラッシュするまでに格納される最大バイト数です。これは、パフォーマンスを大幅に低下させる可能性がある書き込みバッファリングを禁止するために行われます。このパラメータは、<code class="literal">TimeBetweenLocalCheckpoints</code> の代わりに使用するためのものでは<span class="emphasis"><em>ありません</em></span>。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              <code class="literal">ODirect</code> が有効になっている場合は、<code class="literal">DiskSyncSize</code> を設定する必要はありません。実際、そのような場合は、その値が無視されます。
            </p></div><p>
            デフォルト値は 4M (4 メガバイト) です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-diskcheckpointspeed"></a>
            <a class="indexterm" name="idm139979040280096"></a> <code class="literal">DiskCheckpointSpeed</code>
          </p><div class="informaltable"><a name="diskcheckpointspeed-ndbd-table"></a><table summary="この表は、DiskCheckpointSpeed データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>10M</td><td>1M - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            ローカルチェックポイント中にディスクに転送されるデータの量 (バイト/秒)。この割り当ては DML 操作とバックアップ (バックアップロギングは除く) で共有されます。これは、集約的な DML の実行中に開始されたバックアップが Redo ログバッファーの大量発生によって妨害され、競合が深刻な場合は完全に失敗する可能性があることを意味します。
          </p><p>
            デフォルト値は 10M (10 メガバイト/秒) です。
          </p><p>
            MySQL Cluster 7.4.1 以降では、このパラメータは非推奨であり、代わりに構成パラメータ <code class="literal">MinDiskWriteSpeed</code>, <code class="literal">MaxDiskWriteSpeed</code>、<code class="literal">MaxDiskWriteSpeedOtherNodeRestart</code>、および <code class="literal">MaxDiskWriteSpeedOwnRestart</code> を使用して LCP とバックアップの書き込み速度を制御できます。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-diskcheckpointspeedinrestart"></a>
            <a class="indexterm" name="idm139979040257600"></a> <code class="literal">DiskCheckpointSpeedInRestart</code>
          </p><div class="informaltable"><a name="diskcheckpointspeedinrestart-ndbd-table"></a><table summary="この表は、DiskCheckpointSpeedInRestart データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>100M</td><td>1M - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            再起動操作の一部であるローカルチェックポイント中にディスクに転送されるデータの量 (バイト/秒)。
          </p><p>
            デフォルト値は 100M (100 メガバイト/秒) です。
          </p><p>
            MySQL Cluster 7.4.1 以降では、このパラメータは非推奨であり、代わりに構成パラメータ <code class="literal">MinDiskWriteSpeed</code>, <code class="literal">MaxDiskWriteSpeed</code>、<code class="literal">MaxDiskWriteSpeedOtherNodeRestart</code>、および <code class="literal">MaxDiskWriteSpeedOwnRestart</code> を使用して LCP とバックアップの書き込み速度を制御できます。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-noofdiskpagestodiskafterrestarttup"></a>
            <a class="indexterm" name="idm139979040235328"></a> <code class="literal">NoOfDiskPagesToDiskAfterRestartTUP</code>
          </p><p>
            このパラメータは非推奨であり、MySQL Cluster の今後のバージョンで削除される予定です。代わりに <code class="literal">DiskCheckpointSpeedInRestart</code> および <code class="literal">DiskSyncSize</code> を使用してください。MySQL Cluster 7.4.1 以降では、代わりにそのリリースで導入された構成パラメータ <code class="literal">MinDiskWriteSpeed</code>, <code class="literal">MaxDiskWriteSpeed</code>、<code class="literal">MaxDiskWriteSpeedOtherNodeRestart</code>、および <code class="literal">MaxDiskWriteSpeedOwnRestart</code> を使用するようにしてください。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxdiskwritespeed"></a>
            <a class="indexterm" name="idm139979040223904"></a> <code class="literal">MaxDiskWriteSpeed</code>
          </p><div class="informaltable"><a name="maxdiskwritespeed-ndbd-table"></a><table summary="この表は、MaxDiskWriteSpeed データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.4.1</td><td>数値</td><td>20M</td><td>1M - 1024G</td><td>S</td></tr></tbody></table></div><p>
            この MySQL Cluster で (このデータノードまたはその他のデータノードによって) 再起動が行われていない場合に、ローカルチェックポイントおよびバックアップ操作によるディスク書き込みの最大速度 (バイト/秒) を設定します。
          </p><p>
            このデータノードの再起動中に許可されるディスク書き込みの最大速度を設定するには、<code class="literal">MaxDiskWriteSpeedOwnRestart</code> を使用します。ほかのデータノードの再起動中に許可されるディスク書き込みの最大速度を設定するには、<code class="literal">MaxDiskWriteSpeedOtherNodeRestart</code> を使用します。すべての LCP およびバックアップ操作によるディスク書き込みの最小速度を調整するには、<code class="literal">MinDiskWriteSpeed</code> を設定します。
          </p><p>
            <code class="literal">MaxDiskWriteSpeed</code> は MySQL Cluster NDB 7.4.1 で追加されました。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxdiskwritespeedothernoderestart"></a>
            <a class="indexterm" name="idm139979040201264"></a> <code class="literal">MaxDiskWriteSpeedOtherNodeRestart</code>
          </p><div class="informaltable"><a name="maxdiskwritespeedothernoderestart-ndbd-table"></a><table summary="この表は、MaxDiskWriteSpeedOtherNodeRestart データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.4.1</td><td>数値</td><td>50M</td><td>1M - 1024G</td><td>S</td></tr></tbody></table></div><p>
            この MySQL Cluster に含まれるこのノード以外の 1 つ以上のデータノードが再起動している場合に、ローカルチェックポイントおよびバックアップ操作によるディスク書き込みの最大速度 (バイト/秒) を設定します。
          </p><p>
            このデータノードの再起動中に許可されるディスク書き込みの最大速度を設定するには、<code class="literal">MaxDiskWriteSpeedOwnRestart</code> を使用します。クラスタ内ではデータノードが再起動されていない場合に許可されるディスク書き込みの最大速度を設定するには、<code class="literal">MaxDiskWriteSpeed</code> を使用します。すべての LCP およびバックアップ操作によるディスク書き込みの最小速度を調整するには、<code class="literal">MinDiskWriteSpeed</code> を設定します。
          </p><p>
            <code class="literal">MaxDiskWriteSpeedOtherNodeRestart</code> は MySQL Cluster NDB 7.4.1 で追加されました。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxdiskwritespeedownrestart"></a>
            <a class="indexterm" name="idm139979040178608"></a> <code class="literal">MaxDiskWriteSpeedOwnRestart</code>
          </p><div class="informaltable"><a name="maxdiskwritespeedownrestart-ndbd-table"></a><table summary="この表は、MaxDiskWriteSpeedOwnRestart データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.4.1</td><td>数値</td><td>200M</td><td>1M - 1024G</td><td>S</td></tr></tbody></table></div><p>
            このデータノードの再起動時の、ローカルチェックポイントおよびバックアップ操作によるディスク書き込みの最大速度 (バイト/秒) を設定します。
          </p><p>
            ほかのデータノードの再起動中に許可されるディスク書き込みの最大速度を設定するには、<code class="literal">MaxDiskWriteSpeedOtherNodeRestart</code> を使用します。クラスタ内ではデータノードが再起動されていない場合に許可されるディスク書き込みの最大速度を設定するには、<code class="literal">MaxDiskWriteSpeed</code> を使用します。すべての LCP およびバックアップ操作によるディスク書き込みの最小速度を調整するには、<code class="literal">MinDiskWriteSpeed</code> を設定します。
          </p><p>
            <code class="literal">MaxDiskWriteSpeedOwnRestart</code> は MySQL Cluster NDB 7.4.1 で追加されました。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-mindiskwritespeed"></a>
            <a class="indexterm" name="idm139979040156160"></a> <code class="literal">MinDiskWriteSpeed</code>
          </p><div class="informaltable"><a name="mindiskwritespeed-ndbd-table"></a><table summary="この表は、MinDiskWriteSpeed データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.4.1</td><td>数値</td><td>10M</td><td>1M - 1024G</td><td>S</td></tr></tbody></table></div><p>
            ローカルチェックポイントおよびバックアップ操作によるディスク書き込みの最小速度 (バイト/秒) を設定します。
          </p><p>
            さまざまな条件下で LCP およびバックアップに許可されるディスク書き込みの最大速度は、パラメータ <code class="literal">MaxDiskWriteSpeed</code>、<code class="literal">MaxDiskWriteSpeedOwnRestart</code>、および <code class="literal">MaxDiskWriteSpeedOtherNodeRestart</code> を使用して調整できます。詳細は、これらのパラメータの説明を参照してください。
          </p><p>
            <code class="literal">MinDiskWriteSpeed</code> は MySQL Cluster NDB 7.4.1 で追加されました。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-noofdiskpagestodiskafterrestartacc"></a>
            <a class="indexterm" name="idm139979040134160"></a> <code class="literal">NoOfDiskPagesToDiskAfterRestartACC</code>
          </p><p>
            このパラメータは非推奨であり、MySQL Cluster の今後のバージョンで削除される予定です。MySQL Cluster NDB 7.3 では、代わりに <code class="literal">DiskCheckpointSpeedInRestart</code> および <code class="literal">DiskSyncSize</code> を使用してください。MySQL Cluster NDB 7.4.1 以降では、パラメータ <code class="literal">MinDiskWriteSpeed</code>、<code class="literal">MaxDiskWriteSpeed</code>、<code class="literal">MaxDiskWriteSpeedOtherNodeRestart</code>、および <code class="literal">MaxDiskWriteSpeedOwnRestart</code> を使用するようにしてください。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-noofdiskpagestodiskduringrestarttup"></a>
            <a class="indexterm" name="idm139979040122688"></a> <code class="literal">NoOfDiskPagesToDiskDuringRestartTUP</code> (非推奨)
          </p><p>
            このパラメータは非推奨であり、MySQL Cluster の今後のバージョンで削除される予定です。MySQL Cluster NDB 7.3 では、代わりに <code class="literal">DiskCheckpointSpeedInRestart</code> および <code class="literal">DiskSyncSize</code> を使用してください。MySQL Cluster NDB 7.4.1 以降では、パラメータ <code class="literal">MinDiskWriteSpeed</code>、<code class="literal">MaxDiskWriteSpeed</code>、<code class="literal">MaxDiskWriteSpeedOtherNodeRestart</code>、および <code class="literal">MaxDiskWriteSpeedOwnRestart</code> を使用するようにしてください。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-noofdiskpagestodiskduringrestartacc"></a>
            <a class="indexterm" name="idm139979040111232"></a> <code class="literal">NoOfDiskPagesToDiskDuringRestartACC</code> (非推奨)
          </p><p>
            このパラメータは非推奨であり、MySQL Cluster の今後のバージョンで削除される予定です。MySQL Cluster NDB 7.3 では、代わりに <code class="literal">DiskCheckpointSpeedInRestart</code> および <code class="literal">DiskSyncSize</code> を使用してください。MySQL Cluster NDB 7.4.1 以降では、パラメータ <code class="literal">MinDiskWriteSpeed</code>、<code class="literal">MaxDiskWriteSpeed</code>、<code class="literal">MaxDiskWriteSpeedOtherNodeRestart</code>、および <code class="literal">MaxDiskWriteSpeedOwnRestart</code> を使用するようにしてください。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-arbitrationtimeout"></a>
            <a class="indexterm" name="idm139979040099824"></a> <code class="literal">ArbitrationTimeout</code>
          </p><div class="informaltable"><a name="arbitrationtimeout-ndbd-table"></a><table summary="この表は、ArbitrationTimeout データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ミリ秒</td><td>7500</td><td>10 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、データノードがアービトレーションメッセージに対するアービトレータからの応答を待機する時間を設定します。これを超えた場合は、ネットワークが切断されたとみなされます。
          </p><p>
            MySQL Cluster NDB 7.3 以降では、デフォルト値は 7500 ミリ秒 (7.5 秒) です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-arbitration"></a>
            <a class="indexterm" name="idm139979040082112"></a> <code class="literal">Arbitration</code>
          </p><div class="informaltable"><a name="arbitration-ndbd-table"></a><table summary="この表は、Arbitration データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>列挙</td><td>デフォルト</td><td>デフォルト、無効、WaitExternal</td><td>N</td></tr></tbody></table></div><p>
            <code class="literal">Arbitration</code> パラメータを使用して、このパラメータに指定できる 3 つの値のいずれかに対応するアービトレーションスキームを選択できます。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><b>デフォルト </b>
                  この場合は、管理および API ノードの <code class="literal">ArbitrationRank</code> 設定で指定されるとおりに、アービトレーションが正常に進行します。これはデフォルト値です。
                </p></li><li class="listitem"><p><b>Disabled </b>
                  <code class="filename">config.ini</code> ファイルの <code class="literal">[ndbd default]</code> セクションに <code class="literal">Arbitration = Disabled</code> を設定すると、すべての管理および API ノードで <code class="literal">ArbitrationRank</code> の 0 を設定した場合と同じ結果が得られます。<code class="literal">Arbitration</code> をこのように設定すると、<code class="literal">ArbitrationRank</code> の設定はすべて無視されます。
                </p></li><li class="listitem"><p><b>WaitExternal </b>
                  <code class="literal">Arbitration</code> パラメータを使用して、クラスタが内部でアービトレーションを処理する代わりに <code class="literal">ArbitrationTimeout</code> で指定された時間が経過するまで外部のクラスタマネージャーアプリケーションによるアービトレーションの実行を待機する方法で、アービトレーションを構成することもできます。これを行うには、<code class="filename">config.ini</code> ファイルの <code class="literal">[ndbd default]</code> セクションに <code class="literal">Arbitration = WaitExternal</code> を設定します。<code class="literal">WaitExternal</code> の設定で最良の結果を得るためには、<code class="literal">ArbitrationTimeout</code> を外部クラスタマネージャーがアービトレーションを実行するのに必要な間隔の 2 倍に設定することをお勧めします。
                </p></li></ul></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
              このパラメータは、クラスタ構成ファイルの <code class="literal">[ndbd default]</code> セクションでのみ使用するようにしてください。<code class="literal">Arbitration</code> を個々のデータノードで異なる値に設定すると、クラスタの動作は不特定になります。
            </p></div></li></ul></div><p><a name="mysql-cluster-buffering-and-logging"></a><b>バッファリングとロギング </b>
          上級ユーザーは、いくつかの <code class="literal">[ndbd]</code> 構成パラメータを使用するとことで、ノードプロセスが使用するリソースをより細かく制御したり、必要に応じてさまざまなバッファーサイズを調整したりできます。
        </p><p>
        これらのバッファーは、ログレコードをディスクに書き込む際に、ファイルシステムに対するフロントエンドとして使用されます。ノードがディスクレスモードで実行されている場合は、<code class="literal">NDB</code> ストレージエンジンのファイルシステム抽象化レイヤーによってディスク書き込みが<span class="quote">「<span class="quote">偽装</span>」</span>されるため、ペナルティーなしでこれらのパラメータを最小値に設定できます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-undoindexbuffer"></a>
            <a class="indexterm" name="idm139979040037184"></a> <code class="literal">UndoIndexBuffer</code>
          </p><div class="informaltable"><a name="undoindexbuffer-ndbd-table"></a><table summary="この表は、UndoIndexBuffer データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>2M</td><td>1M - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            このパラメータでサイズが設定される Undo インデックスバッファーは、ローカルチェックポイント中に使用されます。<code class="literal">NDB</code> ストレージエンジンは、使用可能な Redo ログとともに、チェックポイントの一貫性に基づくリカバリスキームを使用します。システム全体の書き込みをブロックせずに一貫性のあるチェックポイントを作成するため、ローカルチェックポイントの実行中に Undo ロギングが行われます。Undo ロギングは、一度に 1 つのテーブルフラグメントに対してアクティブ化されます。この最適化が可能なのは、テーブルが完全にメインメモリーに格納されているためです。
          </p><p>
            Undo インデックスバッファーは、主キーのハッシュインデックスの更新で使用されます。挿入と削除では、ハッシュインデックスが再編成されます。NDB ストレージエンジンは、すべての物理的な変更をシステムの再起動時に取り消すことができるように、変更を 1 つのインデックスページにマップする Undo ログレコードを書き込みます。また、ローカルチェックポイントの開始時に、各フラグメントのアクティブな挿入操作も記録します。
          </p><p>
            読み取りと更新では、ロックビットが設定され、ハッシュインデックスエントリのヘッダーが更新されます。これらの変更はページ書き込みアルゴリズムによって処理されるため、これらの操作に Undo ロギングは必要ありません。
          </p><p>
            このバッファーはデフォルトで 2M バイトです。最小値は 1M バイトです。ほとんどのアプリケーションではこれで十分です。大規模なトランザクションや大規模な主キーとともに非常に大規模または多数の挿入および削除を実行するアプリケーションでは、このバッファーのサイズを増やす必要がある場合があります。このバッファーが小さすぎる場合、NDB ストレージエンジンは内部エラーコード 677<code class="literal">「Index UNDO buffers overloaded」</code>を発行します。
          </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
              ローリング再起動中にこのパラメータの値を減らすのは安全ではありません。
            </p></div></li><li class="listitem"><p><a name="ndbparam-ndbd-undodatabuffer"></a>
            <a class="indexterm" name="idm139979040013264"></a> <code class="literal">UndoDataBuffer</code>
          </p><div class="informaltable"><a name="undodatabuffer-ndbd-table"></a><table summary="この表は、UndoDataBuffer データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>16M</td><td>1M - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、Undo データバッファーのサイズを設定します。Undo データバッファーは、Undo インデックスバッファーとほぼ同じ機能を実行しますが、インデックスメモリーではなくデータメモリーに関して使用されます。このバッファーは、フラグメントのローカルチェックポイントフェーズで挿入、削除、および更新のために使用されます。
          </p><p>
            Undo ログエントリは記録される操作が増えるにつれて大きくなる傾向があるため、このバッファーも対応するインデックスメモリーより大きくなります (デフォルト値は 16M バイトです)。
          </p><p>
            一部のアプリケーションでは、このメモリー量が不必要に大きい場合があります。そのような場合は、このサイズを最小の 1M バイトに減らすことができます。
          </p><p>
            ほとんどの場合、このバッファーのサイズを増やす必要はありません。そのような必要がある場合は、データベースの更新アクティビティーによって発生する負荷をディスクが実際に処理できているかどうかをチェックすることをお勧めします。このバッファーのサイズを増やしても、ディスクスペースの不足を解消することはできません。
          </p><p>
            このバッファーが小さすぎて過密状態になった場合、NDB ストレージエンジンは次の内部エラーコードを発行します: 891  (<span class="errortext">Data UNDO buffers overloaded</span>)。
          </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
              ローリング再起動中にこのパラメータの値を減らすのは安全ではありません。
            </p></div></li><li class="listitem"><p><a name="ndbparam-ndbd-redobuffer"></a>
            <a class="indexterm" name="idm139979039991056"></a> <code class="literal">RedoBuffer</code>
          </p><div class="informaltable"><a name="redobuffer-ndbd-table"></a><table summary="この表は、RedoBuffer データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>32M</td><td>1M - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            更新アクティビティーも、すべて記録する必要があります。Redo ログにより、システムが再起動されるたびにこれらの更新を再現できるようになります。NDB のリカバリアルゴリズムは、Undo ログとともにデータの<span class="quote">「<span class="quote">ファジー</span>」</span>チェックポイントを使用し、Redo ログを適用してリストアポイントまでのすべての変更を再現します。
          </p><p>
            <code class="literal">RedoBuffer</code> は、Redo ログが書き込まれるバッファーのサイズを設定します。デフォルト値は 32M バイトです。最小値は 1M バイトです。
          </p><p>
            このバッファーが小さすぎる場合、<code class="literal">NDB</code>ストレージエンジンは内部エラーコード 1221  (<span class="errortext">REDO log buffers overloaded</span>)を発行します。このため、クラスタ構成のオンライン変更の一部として <code class="literal">RedoBuffer</code> の値を減らそうとする場合は注意してください。
          </p><p>
            <span class="command"><strong>ndbmtd</strong></span> は、LDM スレッドごとに別個のバッファーを割り当てます (<code class="literal">ThreadConfig</code> を参照してください)。たとえば、4 つの LDM スレッドがある場合、<span class="command"><strong>ndbmtd</strong></span> データノードには実際には 4 つのバッファーがあり、それぞれに <code class="literal">RedoBuffer</code> バイト (合計で <code class="literal">4 * RedoBuffer</code> バイト) が割り当てられます。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-eventlogbuffersize"></a>
            <a class="indexterm" name="idm139979039964176"></a> <code class="literal">EventLogBufferSize</code>
          </p><div class="informaltable"><a name="eventlogbuffersize-ndbd-table"></a><table summary="この表は、EventLogBufferSize データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>8192</td><td>0 - 64K</td><td>S</td></tr></tbody></table></div><p>
            データノード内部の NDB ログイベントに使用される循環バッファーのサイズを制御します。
          </p></li></ul></div><p><a name="mysql-cluster-controlling-log-messages"></a><b>ログメッセージの制御 </b>
          クラスタの管理では、<code class="literal">stdout</code> に送信されるさまざまなイベントタイプのログメッセージ数を制御できることが非常に重要です。イベントカテゴリごとに、16 個の設定可能なイベントレベル (番号 0-15) があります。特定のイベントカテゴリのイベントレポートをレベル 15 に設定すると、そのカテゴリのすべてのイベントレポートが <code class="literal">stdout</code> に送信されます。0 に設定すると、そのカテゴリのイベントレポートがまったく行われなくなります。
        </p><p>
        デフォルトでは、起動メッセージのみが <code class="literal">stdout</code> に送信され、残りのイベントレポートのレベルはデフォルトの 0 に設定されます。これは、これらのメッセージが管理サーバーのクラスタログにも送信されるためです。
      </p><p>
        管理クライアントで同じようなレベルのセットを設定すると、クラスタログに記録するイベントのレベルを指定できます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-loglevelstartup"></a>
            <a class="indexterm" name="idm139979039940448"></a> <code class="literal">LogLevelStartup</code>
          </p><div class="informaltable"><a name="loglevelstartup-ndbd-table"></a><table summary="この表は、LogLevelStartup データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>整数</td><td>1</td><td>0 - 15</td><td>N</td></tr></tbody></table></div><p>
            プロセスの起動中に生成されるイベントのレポートレベル。
          </p><p>
            デフォルトのレベルは 1 です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-loglevelshutdown"></a>
            <a class="indexterm" name="idm139979039923280"></a> <code class="literal">LogLevelShutdown</code>
          </p><div class="informaltable"><a name="loglevelshutdown-ndbd-table"></a><table summary="この表は、LogLevelShutdown データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>整数</td><td>0</td><td>0 - 15</td><td>N</td></tr></tbody></table></div><p>
            ノードの正常なシャットダウンの一部として生成されるイベントのレポートレベル。
          </p><p>
            デフォルトのレベルは 0 です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-loglevelstatistic"></a>
            <a class="indexterm" name="idm139979039906032"></a> <code class="literal">LogLevelStatistic</code>
          </p><div class="informaltable"><a name="loglevelstatistic-ndbd-table"></a><table summary="この表は、LogLevelStatistic データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>整数</td><td>0</td><td>0 - 15</td><td>N</td></tr></tbody></table></div><p>
            主キー読み取りの数、更新の数、挿入の数、バッファーの使用状況に関する情報などの統計イベントのレポートレベル。
          </p><p>
            デフォルトのレベルは 0 です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-loglevelcheckpoint"></a>
            <a class="indexterm" name="idm139979039888752"></a> <code class="literal">LogLevelCheckpoint</code>
          </p><div class="informaltable"><a name="loglevelcheckpoint-ndbd-table"></a><table summary="この表は、LogLevelCheckpoint データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ログレベル</td><td>0</td><td>0 - 15</td><td>N</td></tr></tbody></table></div><p>
            ローカルおよびグローバルチェックポイントによって生成されるイベントのレポートレベル。
          </p><p>
            デフォルトのレベルは 0 です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-loglevelnoderestart"></a>
            <a class="indexterm" name="idm139979039871488"></a> <code class="literal">LogLevelNodeRestart</code>
          </p><div class="informaltable"><a name="loglevelnoderestart-ndbd-table"></a><table summary="この表は、LogLevelNodeRestart データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>整数</td><td>0</td><td>0 - 15</td><td>N</td></tr></tbody></table></div><p>
            ノード再起動中に生成されるイベントのレポートレベル。
          </p><p>
            デフォルトのレベルは 0 です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-loglevelconnection"></a>
            <a class="indexterm" name="idm139979039854320"></a> <code class="literal">LogLevelConnection</code>
          </p><div class="informaltable"><a name="loglevelconnection-ndbd-table"></a><table summary="この表は、LogLevelConnection データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>整数</td><td>0</td><td>0 - 15</td><td>N</td></tr></tbody></table></div><p>
            クラスタノード間の接続によって生成されるイベントのレポートレベル。
          </p><p>
            デフォルトのレベルは 0 です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-loglevelerror"></a>
            <a class="indexterm" name="idm139979039837120"></a> <code class="literal">LogLevelError</code>
          </p><div class="informaltable"><a name="loglevelerror-ndbd-table"></a><table summary="この表は、LogLevelError データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>整数</td><td>0</td><td>0 - 15</td><td>N</td></tr></tbody></table></div><p>
            クラスタ全体のエラーおよび警告によって生成されるイベントのレポートレベル。これらのエラーは、ノードの障害の原因にはなりませんが、レポートする価値はあると考えられます。
          </p><p>
            デフォルトのレベルは 0 です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-loglevelcongestion"></a>
            <a class="indexterm" name="idm139979039819616"></a> <code class="literal">LogLevelCongestion</code>
          </p><div class="informaltable"><a name="loglevelcongestion-ndbd-table"></a><table summary="この表は、LogLevelCongestion データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>levelr</td><td>0</td><td>0 - 15</td><td>N</td></tr></tbody></table></div><p>
            輻輳によって生成されるイベントのレポートレベル。これらのエラーは、ノードの障害の原因にはなりませんが、レポートする価値はあると考えられます。
          </p><p>
            デフォルトのレベルは 0 です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-loglevelinfo"></a>
            <a class="indexterm" name="idm139979039802240"></a> <code class="literal">LogLevelInfo</code>
          </p><div class="informaltable"><a name="loglevelinfo-ndbd-table"></a><table summary="この表は、LogLevelInfo データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>整数</td><td>0</td><td>0 - 15</td><td>N</td></tr></tbody></table></div><p>
            クラスタの一般的な状態に関する情報として生成されるイベントのレポートレベル。
          </p><p>
            デフォルトのレベルは 0 です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-memreportfrequency"></a>
            <a class="indexterm" name="idm139979039785040"></a> <code class="literal">MemReportFrequency</code>
          </p><div class="informaltable"><a name="memreportfrequency-ndbd-table"></a><table summary="この表は、MemReportFrequency データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>0</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、データノードのメモリー使用状況レポートをクラスタログに記録する頻度を制御します。これは、レポート間の秒数を表す整数値です。
          </p><p>
            各データノードのデータメモリーおよびインデックスメモリーの使用状況は、<code class="filename">config.ini</code> ファイルに設定された <code class="literal">DataMemory</code> および <code class="literal">IndexMemory</code> の割合と 32K バイトのページ数の両方でそれぞれ記録されます。たとえば、<code class="literal">DataMemory</code> が 100M バイトであり、特定のデータノードがデータメモリーのストレージとして 50M バイトを使用している場合、クラスタログの対応する行はこのようになります。
          </p><pre class="programlisting">
2006-12-24 01:18:16 [MgmSrvr] INFO -- Node 2: Data usage is 50%(1280 32K pages of total 2560)
</pre><p>
            <code class="literal">MemReportFrequency</code> は必須のパラメータではありません。使用する場合は、<code class="filename">config.ini</code> の <code class="literal">[ndbd default]</code> セクションですべてのクラスタデータノード用に設定することも、構成ファイルの対応する <code class="literal">[ndbd]</code> セクションで個々のデータノード用に設定またはオーバーライドすることもできます。最小値 (デフォルト値も同じ) は 0 です。この場合は、<a class="xref" href="mysql-cluster.html#mysql-cluster-log-events" title="18.5.6.2 MySQL Cluster ログイベント">セクション18.5.6.2「MySQL Cluster ログイベント」</a>の統計イベントの説明で指摘したように、メモリー使用量が特定の割合 (80%、90%、および 100%) に達したときにのみ、メモリーのレポートが記録されます。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-startupstatusreportfrequency"></a>
            <a class="indexterm" name="idm139979039756960"></a> <code class="literal">StartupStatusReportFrequency</code>
          </p><div class="informaltable"><a name="startupstatusreportfrequency-ndbd-table"></a><table summary="この表は、StartupStatusReportFrequency データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>秒</td><td>0</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            <code class="option">--initial</code> を指定してデータノードを起動すると、起動フェーズ 4 (<a class="xref" href="mysql-cluster.html#mysql-cluster-start-phases" title="18.5.1 MySQL Cluster の起動フェーズのサマリー">セクション18.5.1「MySQL Cluster の起動フェーズのサマリー」</a>を参照してください) で Redo ログファイルが初期化されます。<code class="literal">NoOfFragmentLogFiles</code>、<code class="literal">FragmentLogFileSize</code>、またはその両方に非常に大きな値を設定すると、この初期化に長い時間がかかることがあります。<code class="literal">StartupStatusReportFrequency</code> 構成パラメータを使用して、このプロセスの進行に関するレポートを定期的に記録するよう強制できます。この場合、ここに示すように、初期化されたファイルの数とスペースの量に関する進行状況がクラスタログにレポートされます。
          </p><pre class="programlisting">
2009-06-20 16:39:23 [MgmSrvr] INFO -- Node 1: Local redo log file initialization status:
#Total files: 80, Completed: 60
#Total MBytes: 20480, Completed: 15557
2009-06-20 16:39:23 [MgmSrvr] INFO -- Node 2: Local redo log file initialization status:
#Total files: 80, Completed: 60
#Total MBytes: 20480, Completed: 15570
</pre><p>
            これらのレポートは、起動フェーズ 4 で <code class="literal">StartupStatusReportFrequency</code> 秒ごとに記録されます。<code class="literal">StartupStatusReportFrequency</code> が 0 (デフォルト) の場合は、Redo ログファイルの初期化プロセスの開始時と完了時にのみ、レポートがクラスタログに書き込まれます。
          </p></li></ul></div><p><a name="ndbparam-ndbd-dicttrace"></a><b>デバッグパラメータ </b>
          MySQL Cluster NDB 7.3 以降では、<code class="literal">DictTrace</code> を使用して、テーブルの作成および削除によって生成されたイベントのトレースを記録できます。このパラメータは、NDB のカーネルコードをデバッグする場合にのみ役立ちます。<code class="literal">DictTrace</code> は整数値を取ります。現在サポートされる唯一の値は 0 (デフォルト。ロギングなし) と 1 (ロギングが有効) です。
        </p><p><a name="mysql-cluster-backup-parameters"></a><b>バックアップパラメータ </b>
          このセクションで説明する <code class="literal">[ndbd]</code> パラメータは、オンラインバックアップの実行用に確保されるメモリーバッファーを定義します。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-backupdatabuffersize"></a>
            <a class="indexterm" name="idm139979039723504"></a> <code class="literal">BackupDataBufferSize</code>
          </p><div class="informaltable"><a name="backupdatabuffersize-ndbd-table"></a><table summary="この表は、BackupDataBufferSize データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>16M</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            バックアップの作成では、データをディスクに転送するために使用される 2 つのバッファーがあります。バックアップデータバッファーは、ノードのテーブルをスキャンして記録されるデータを書き込むために使用されます。このバッファーへの書き込みが <code class="literal">BackupWriteSize</code> で指定されたレベルに達すると、ページがディスクに転送されます。バックアッププロセスでは、データをディスクにフラッシュしながら、スペースがなくなるまでこのバッファーに書き込み続けることができます。これが発生すると、バックアッププロセスでスキャンを一時停止し、ディスク書き込みがある程度完了してメモリーが解放され、スキャンを続行できるようになるまで待機します。
          </p><p>
            このパラメータのデフォルト値は 16M バイトです。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-backuplogbuffersize"></a>
            <a class="indexterm" name="idm139979039704256"></a> <code class="literal">BackupLogBufferSize</code>
          </p><div class="informaltable"><a name="backuplogbuffersize-ndbd-table"></a><table summary="この表は、BackupLogBufferSize データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>16M</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            バックアップログバッファーはバックアップデータバッファーと同じような役割を果たしますが、バックアップの実行中に行われたテーブル書き込みのログを生成するために使用されます。これらのページの書き込みにはバックアップデータバッファーと同じ原則が適用されますが、バックアップログバッファーのスペースがなくなると、バックアップは失敗します。そのため、バックアップログバッファーのサイズは、バックアップ実行中の書き込みアクティビティーによって発生する負荷を処理するのに十分な大きさである必要があります。<a class="xref" href="mysql-cluster.html#mysql-cluster-backup-configuration" title="18.5.3.3 MySQL Cluster バックアップ用の構成">セクション18.5.3.3「MySQL Cluster バックアップ用の構成」</a>を参照してください。
          </p><p>
            ほとんどのアプリケーションでは、このパラメータのデフォルト値で十分です。実際、バックアップログバッファーがいっぱいになった場合より、ディスク書き込みの速度が不十分な場合の方が、バックアップが失敗する可能性は高くなります。ディスクサブシステムがアプリケーションから発生する書き込み負荷に合わせて構成されていない場合は、クラスタが必要な操作を実行できない可能性が高くなります。
          </p><p>
            ディスクやネットワーク接続よりもプロセッサがボトルネックになるような方法でクラスタノードを構成することをお勧めします。
          </p><p>
            このパラメータのデフォルト値は 16M バイトです。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-backupmemory"></a>
            <a class="indexterm" name="idm139979039683200"></a> <code class="literal">BackupMemory</code>
          </p><div class="informaltable"><a name="backupmemory-ndbd-table"></a><table summary="この表は、BackupMemory データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>32M</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、単純に <code class="literal">BackupDataBufferSize</code> と <code class="literal">BackupLogBufferSize</code> の合計です。
          </p><p>
            MySQL Cluster NDB 7.3 以降では、このパラメータのデフォルト値は 16M バイト + 16M バイト = 32M バイトです。
          </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
              <code class="literal">BackupDataBufferSize</code> と <code class="literal">BackupLogBufferSize</code> の合計が <code class="literal">BackupMemory</code> のデフォルト値を超える場合は、<code class="filename">config.ini</code> ファイルでこのパラメータをこれらの合計に明示的に設定する必要があります。
            </p></div></li><li class="listitem"><p><a name="ndbparam-ndbd-backupreportfrequency"></a>
            <a class="indexterm" name="idm139979039659200"></a> <code class="literal">BackupReportFrequency</code>
          </p><div class="informaltable"><a name="backupreportfrequency-ndbd-table"></a><table summary="この表は、BackupReportFrequency データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>秒</td><td>0</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、バックアップ中に管理クライアントでバックアップステータスレポートを発行する頻度と、そのようなレポートをクラスタログに書き込む頻度を制御します (クラスタイベントロギングで許可するように構成されている場合。<a class="xref" href="mysql-cluster.html#mysql-cluster-logging-and-checkpointing" title="ロギングとチェックポイント">ロギングとチェックポイント</a>を参照してください)。<code class="literal">BackupReportFrequency</code> は、バックアップステータスレポート間の時間 (秒単位) を表します。
          </p><p>
            デフォルト値は 0 です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-backupwritesize"></a>
            <a class="indexterm" name="idm139979039639584"></a> <code class="literal">BackupWriteSize</code>
          </p><div class="informaltable"><a name="backupwritesize-ndbd-table"></a><table summary="この表は、BackupWriteSize データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>256K</td><td>2K - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、バックアップログおよびバックアップデータバッファーによってディスクに書き込まれるメッセージのデフォルトサイズを指定します。
          </p><p>
            このパラメータのデフォルト値は 256K バイトです。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-backupmaxwritesize"></a>
            <a class="indexterm" name="idm139979039622112"></a> <code class="literal">BackupMaxWriteSize</code>
          </p><div class="informaltable"><a name="backupmaxwritesize-ndbd-table"></a><table summary="この表は、BackupMaxWriteSize データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>1M</td><td>2K - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、バックアップログおよびバックアップデータバッファーによってディスクに書き込まれるメッセージの最大サイズを指定します。
          </p><p>
            このパラメータのデフォルト値は 1M バイトです。
          </p></li></ul></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
          これらのパラメータを指定するときは、次の関係が有効である必要があります。そうでない場合は、データノードを起動できません。
        </p></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">BackupDataBufferSize &gt;= BackupWriteSize + 188K バイト</code>
          </p></li><li class="listitem"><p>
            <code class="literal">BackupLogBufferSize &gt;= BackupWriteSize + 16K バイト</code>
          </p></li><li class="listitem"><p>
            <code class="literal">BackupMaxWriteSize &gt;= BackupWriteSize</code>
          </p></li></ul></div><h5><a name="mysql-cluster-realtime-performance-parameters"></a>MySQL Cluster のリアルタイムパフォーマンスパラメータ</h5><p>
        このセクションで説明する <code class="literal">[ndbd]</code> パラメータは、マルチプロセッサのデータノードホスト上の特定の CPU に対するスレッドのスケジューリングとロックで使用されます。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          これらのパラメータを使用するには、システムの root としてデータノードプロセスを実行する必要があります。
        </p></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-lockexecutethreadtocpu"></a>
            <a class="indexterm" name="idm139979039593936"></a> <code class="literal">LockExecuteThreadToCPU</code>
          </p><div class="informaltable"><a name="lockexecutethreadtocpu-ndbd-table"></a><table summary="この表は、LockExecuteThreadToCPU データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>CPU ID</td><td>64K</td><td>0 - 64K</td><td>N</td></tr></tbody></table></div><p>
            <span class="command"><strong>ndbd</strong></span> で使用する場合、このパラメータ (現在は文字列) は <code class="literal">NDBCLUSTER</code> の実行スレッドを処理するために割り当てられる CPU の ID を指定します。<span class="command"><strong>ndbmtd</strong></span> で使用する場合、このパラメータの値は実行スレッドを処理するために割り当てられる CPU ID のカンマ区切りリストです。リスト内の各 CPU ID は、0-65535 の (これらを含む) 範囲の整数にします。
          </p><p>
            指定する ID の数は、<code class="literal">MaxNoOfExecutionThreads</code> によって指定される実行スレッドの数と一致するようにしてください。ただし、このパラメータを使用したときに、特定の順序でスレッドが CPU に割り当てられる保証はありません。<code class="literal">ThreadConfig</code> を使用すると、このようなより細かい制御が可能になります。
          </p><p>
            <code class="literal">LockExecuteThreadToCPU</code> にデフォルト値はありません。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-lockmaintthreadstocpu"></a>
            <a class="indexterm" name="idm139979039569632"></a> <code class="literal">LockMaintThreadsToCPU</code>
          </p><div class="informaltable"><a name="lockmaintthreadstocpu-ndbd-table"></a><table summary="この表は、LockMaintThreadsToCPU データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>CPU ID</td><td>[none]</td><td>0 - 64K</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、<code class="literal">NDBCLUSTER</code> の管理スレッドを処理するために割り当てられる CPU の ID を指定します。
          </p><p>
            このパラメータの値は、0-65535 の (これらを含む) 範囲の整数です。MySQL Cluster NDB 7.3 以降では、デフォルト値はありません。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-realtimescheduler"></a>
            <a class="indexterm" name="idm139979039551136"></a> <code class="literal">RealtimeScheduler</code>
          </p><div class="informaltable"><a name="realtimescheduler-ndbd-table"></a><table summary="この表は、RealtimeScheduler データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ブール</td><td>false</td><td>true、false</td><td>N</td></tr></tbody></table></div><p>
            このパラメータを 1 に設定すると、データノードスレッドのリアルタイムスケジューリングが有効になります。
          </p><p>
            MySQL Cluster NDB 7.3.3 より前では、このパラメータは <span class="command"><strong>ndbmtd</strong></span> を実行するノードで正常に機能しませんでした。(Bug #16961971)
          </p><p>
            デフォルトは 0 (スケジューリングが無効) です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-schedulerexecutiontimer"></a>
            <a class="indexterm" name="idm139979039532336"></a> <code class="literal">SchedulerExecutionTimer</code>
          </p><div class="informaltable"><a name="schedulerexecutiontimer-ndbd-table"></a><table summary="この表は、SchedulerExecutionTimer データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>マイクロ秒</td><td>50</td><td>0 - 11000</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、スレッドがスケジューラで実行されてから送信されるまでの時間 (ミリ秒) を指定します。これを 0 に設定すると、応答時間が最小化されます。スループットを向上させるため、この値を増やすことができますが、その代償として応答時間は長くなります。
          </p><p>
            デフォルトは 50 マイクロ秒です。弊社のテストでは、これによって高負荷のケースで実質的に要求を遅延させずにスループットが若干向上することがわかっています。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-schedulerspintimer"></a>
            <a class="indexterm" name="idm139979039514432"></a> <code class="literal">SchedulerSpinTimer</code>
          </p><div class="informaltable"><a name="schedulerspintimer-ndbd-table"></a><table summary="この表は、SchedulerSpinTimer データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>マイクロ秒</td><td>0</td><td>0 - 500</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、スレッドがスケジューラで実行されてからスリープ状態になるまでの時間 (ミリ秒) を指定します。
          </p><p>
            デフォルト値は 0 です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-buildindexthreads"></a>
            <a class="indexterm" name="idm139979039497104"></a> <code class="literal">BuildIndexThreads</code>
          </p><div class="informaltable"><a name="buildindexthreads-ndbd-table"></a><table summary="この表は、BuildIndexThreads データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>数値</td><td>0</td><td>0 - 128</td><td>S</td></tr></tbody></table></div><p>
            このパラメータは、システムまたはノードの起動中に順序付けされたインデックスの再構築時、および <span class="command"><strong>ndb_restore</strong></span> <code class="option">--rebuild-indexes</code> の実行時に作成するスレッドの数を指定します。これは、データノードあたり複数のフラグメントがテーブルに存在するとき (たとえば、<code class="literal">CREATE TABLE</code> で <code class="literal">MAX_ROWS</code> オプションが使用されたときなど) にのみサポートされます。
          </p><p>
            このパラメータを 0 (デフォルト) に設定すると、マルチスレッドによる順序付けされたインデックスの構築が無効になります。
          </p><p>
            このパラメータは、<span class="command"><strong>ndbd</strong></span> または <span class="command"><strong>ndbmtd</strong></span> を使用するときにサポートされます。
          </p><p>
            データノードの初期再起動中にマルチスレッドによる構築を有効にするには、<code class="literal">TwoPassInitialNodeRestartCopy</code> データノード構成パラメータを <code class="literal">TRUE</code> に設定します。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-twopassinitialnoderestartcopy"></a>
            <a class="indexterm" name="idm139979039471360"></a> <code class="literal">TwoPassInitialNodeRestartCopy</code>
          </p><div class="informaltable"><a name="twopassinitialnoderestartcopy-ndbd-table"></a><table summary="この表は、TwoPassInitialNodeRestartCopy データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ブール</td><td>false</td><td>true、false</td><td>N</td></tr></tbody></table></div><p>
            データノードの初期再起動でマルチスレッドによる順序付けされたインデックスの構築を有効にするには、この構成パラメータを <code class="literal">TRUE</code> に設定します。これにより、ノードの初期再起動中にデータの 2 パスコピーが有効になります。
          </p><p>
            同時に <code class="literal">BuildIndexThreads</code> を 0 以外の値に設定する必要があります。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-numa"></a>
            <a class="indexterm" name="idm139979039451968"></a> <code class="literal">Numa</code>
          </p><div class="informaltable"><a name="numa-ndbd-table"></a><table summary="この表は、Numa データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ブール</td><td>1</td><td>...</td><td>N</td></tr></tbody></table></div><p>
            <code class="literal">NDB</code> は、Non-Uniform Memory Access の設定と (発生するタイムアウトによる) マルチ CPU システムの影響をかなり受けやすくなっています。この事実と、ほとんどの MySQL Cluster ユーザーが <span class="command"><strong>numactl</strong></span> を採用しないことから、Linux システムで <span class="command"><strong>ndbd</strong></span> を実行しているときは、NUMA のサポートはデフォルトで無視されます。Linux システムが NUMA をサポートしていて、データノードのメモリーを NUMA で制御する必要がある場合は、このパラメータを 0 に設定できます。
          </p><p>
            <code class="literal">Numa</code> 構成パラメータは、<code class="filename">libnuma.so</code> がインストールされている Linux システムでのみサポートされます。
          </p></li></ul></div><p><a name="mysql-cluster-ndbd-definition-ndbmtd-parameters"></a><b>マルチスレッドの構成パラメータ (ndbmtd) </b>
          <span class="command"><strong>ndbmtd</strong></span> は、デフォルトではシングルスレッドプロセスとして動作するため、2 つの方法のいずれかを使用して、複数のスレッドを使用するように構成する必要があります。どちらの場合も、<code class="filename">config.ini</code> ファイルに構成パラメータを設定する必要があります。1 つ目の方法では、<code class="literal">MaxNoOfExecutionThreads</code> 構成パラメータに適切な値を設定します。MySQL Cluster NDB 7.3 以降では、<code class="literal">ThreadConfig</code> を使用して <span class="command"><strong>ndbmtd</strong></span> のマルチスレッドに関するより複雑なルールを設定できる 2 つ目の方法もサポートされます。このパラメータとマルチスレッドデータノードでの使用について、次のいくつかの段落で説明します。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbmtd-maxnoofexecutionthreads"></a>
            <a class="indexterm" name="idm139979039422272"></a> <a class="indexterm" name="idm139979039420832"></a> <a class="indexterm" name="idm139979039418784"></a> <a class="indexterm" name="idm139979039416864"></a> <code class="literal">MaxNoOfExecutionThreads</code>
          </p><div class="informaltable"><a name="maxnoofexecutionthreads-ndbmtd-table"></a><table summary="この表は、MaxNoOfExecutionThreads マルチスレッドデータノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>整数</td><td>2</td><td>2 - 36</td><td>IS</td></tr><tr><td scope="row">NDB 7.3.3</td><td>整数</td><td>2</td><td>2 - 72</td><td>IS</td></tr></tbody></table></div><p>
            このパラメータは、<span class="command"><strong>ndbmtd</strong></span> によって使用される実行スレッドの数を制御します。最大数は 72 です (MySQL Cluster NDB 7.3.3 より前では、これは 36 でした)。このパラメータは、<code class="filename">config.ini</code> ファイルの <code class="literal">[ndbd]</code> または <code class="literal">[ndbd default]</code> セクションに設定しますが、<span class="command"><strong>ndbmtd</strong></span> 専用であり、<span class="command"><strong>ndbd</strong></span> には適用されません。
          </p><p>
            <code class="literal">MaxNoOfExecutionThreads</code> を設定すると、<code class="filename">storage/ndb/kernel/src/vm/mt_thr_config.cpp</code> ファイルのマトリックスで決定される各タイプのスレッド数が設定されます。この表は、MySQL Cluster NDB 7.4.3 以降で <code class="literal">MaxNoOfExecutionThreads</code> に指定できる値に対応するこれらのスレッド数を示しています (Bug #75220、Bug #20215689)。(以前のバージョンの MySQL Cluster に適用されるマトリックスに関する情報を示す表は、このあとにあります。)MySQL Cluster NDB 7.4.3 で変更された値を含む行は、強調表示のテキストで示しています。
          </p><div class="informaltable"><table summary="この表は、MaxNoOfExecutionThreads の値と、スレッドタイプ (LQH、TC、送信、受信) ごとの対応するスレッド数を示しています。MySQL Cluster NDB 7.4.3 以降。" border="1"><colgroup><col><col><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">MaxNoOfExecutionThreads</code> の値</th><th scope="col">LDM スレッド</th><th scope="col">TC スレッド</th><th scope="col">送信スレッド</th><th scope="col">受信スレッド</th></tr></thead><tbody><tr><td scope="row">0 .. 3</td><td>1</td><td>1</td><td>0</td><td>1</td></tr><tr><td scope="row">4 .. 6</td><td>2</td><td>1</td><td>0</td><td>1</td></tr><tr><td scope="row">7 .. 8</td><td>4</td><td>1</td><td>0</td><td>1</td></tr><tr><td scope="row">9</td><td>4</td><td>2</td><td>0</td><td>1</td></tr><tr><td scope="row">10</td><td>4</td><td>2</td><td>1</td><td>1</td></tr><tr><td scope="row">11</td><td>4</td><td>3</td><td>1</td><td>1</td></tr><tr><td scope="row">12</td><td>4</td><td>3</td><td>1</td><td>2</td></tr><tr><td scope="row">13</td><td>4</td><td>3</td><td>2</td><td>2</td></tr><tr><td scope="row">14</td><td>4</td><td>4</td><td>2</td><td>2</td></tr><tr><td scope="row">15</td><td>4</td><td>5</td><td>2</td><td>2</td></tr><tr><td scope="row">16</td><td>8</td><td>3</td><td>1</td><td>2</td></tr><tr><td scope="row">17</td><td>8</td><td>4</td><td>1</td><td>2</td></tr><tr><td scope="row">18</td><td>8</td><td>4</td><td>2</td><td>2</td></tr><tr><td scope="row">19</td><td>8</td><td>5</td><td>2</td><td>2</td></tr><tr><td scope="row"><span class="emphasis"><em>20</em></span></td><td><span class="emphasis"><em>10</em></span></td><td><span class="emphasis"><em>4</em></span></td><td><span class="emphasis"><em>2</em></span></td><td><span class="emphasis"><em>2</em></span></td></tr><tr><td scope="row"><span class="emphasis"><em>21</em></span></td><td><span class="emphasis"><em>10</em></span></td><td><span class="emphasis"><em>5</em></span></td><td><span class="emphasis"><em>2</em></span></td><td><span class="emphasis"><em>2</em></span></td></tr><tr><td scope="row"><span class="emphasis"><em>22</em></span></td><td><span class="emphasis"><em>10</em></span></td><td><span class="emphasis"><em>5</em></span></td><td><span class="emphasis"><em>2</em></span></td><td><span class="emphasis"><em>3</em></span></td></tr><tr><td scope="row"><span class="emphasis"><em>23</em></span></td><td><span class="emphasis"><em>10</em></span></td><td><span class="emphasis"><em>6</em></span></td><td><span class="emphasis"><em>2</em></span></td><td><span class="emphasis"><em>3</em></span></td></tr><tr><td scope="row">24</td><td>12</td><td>5</td><td>2</td><td>3</td></tr><tr><td scope="row">25</td><td>12</td><td>6</td><td>2</td><td>3</td></tr><tr><td scope="row">26</td><td>12</td><td>6</td><td>3</td><td>3</td></tr><tr><td scope="row">27</td><td>12</td><td>7</td><td>3</td><td>3</td></tr><tr><td scope="row">28</td><td>12</td><td>7</td><td>3</td><td>4</td></tr><tr><td scope="row">29</td><td>12</td><td>8</td><td>3</td><td>4</td></tr><tr><td scope="row">30</td><td>12</td><td>8</td><td>4</td><td>4</td></tr><tr><td scope="row">31</td><td>12</td><td>9</td><td>4</td><td>4</td></tr><tr><td scope="row">32</td><td>16</td><td>8</td><td>3</td><td>3</td></tr><tr><td scope="row">33</td><td>16</td><td>8</td><td>3</td><td>4</td></tr><tr><td scope="row">34</td><td>16</td><td>8</td><td>4</td><td>4</td></tr><tr><td scope="row">35</td><td>16</td><td>9</td><td>4</td><td>4</td></tr><tr><td scope="row">36</td><td>16</td><td>10</td><td>4</td><td>4</td></tr><tr><td scope="row">37</td><td>16</td><td>10</td><td>4</td><td>5</td></tr><tr><td scope="row">38</td><td>16</td><td>11</td><td>4</td><td>5</td></tr><tr><td scope="row">39</td><td>16</td><td>11</td><td>5</td><td>5</td></tr><tr><td scope="row"><span class="emphasis"><em>40</em></span></td><td><span class="emphasis"><em>20</em></span></td><td><span class="emphasis"><em>10</em></span></td><td><span class="emphasis"><em>4</em></span></td><td><span class="emphasis"><em>4</em></span></td></tr><tr><td scope="row"><span class="emphasis"><em>41</em></span></td><td><span class="emphasis"><em>20</em></span></td><td><span class="emphasis"><em>10</em></span></td><td><span class="emphasis"><em>4</em></span></td><td><span class="emphasis"><em>5</em></span></td></tr><tr><td scope="row"><span class="emphasis"><em>42</em></span></td><td><span class="emphasis"><em>20</em></span></td><td><span class="emphasis"><em>11</em></span></td><td><span class="emphasis"><em>4</em></span></td><td><span class="emphasis"><em>5</em></span></td></tr><tr><td scope="row"><span class="emphasis"><em>43</em></span></td><td><span class="emphasis"><em>20</em></span></td><td><span class="emphasis"><em>11</em></span></td><td><span class="emphasis"><em>5</em></span></td><td><span class="emphasis"><em>5</em></span></td></tr><tr><td scope="row"><span class="emphasis"><em>44</em></span></td><td><span class="emphasis"><em>20</em></span></td><td><span class="emphasis"><em>12</em></span></td><td><span class="emphasis"><em>5</em></span></td><td><span class="emphasis"><em>5</em></span></td></tr><tr><td scope="row"><span class="emphasis"><em>45</em></span></td><td><span class="emphasis"><em>20</em></span></td><td><span class="emphasis"><em>12</em></span></td><td><span class="emphasis"><em>5</em></span></td><td><span class="emphasis"><em>6</em></span></td></tr><tr><td scope="row"><span class="emphasis"><em>46</em></span></td><td><span class="emphasis"><em>20</em></span></td><td><span class="emphasis"><em>13</em></span></td><td><span class="emphasis"><em>5</em></span></td><td><span class="emphasis"><em>6</em></span></td></tr><tr><td scope="row"><span class="emphasis"><em>47</em></span></td><td><span class="emphasis"><em>20</em></span></td><td><span class="emphasis"><em>13</em></span></td><td><span class="emphasis"><em>6</em></span></td><td><span class="emphasis"><em>6</em></span></td></tr><tr><td scope="row">48</td><td>24</td><td>12</td><td>5</td><td>5</td></tr><tr><td scope="row">49</td><td>24</td><td>12</td><td>5</td><td>6</td></tr><tr><td scope="row">50</td><td>24</td><td>13</td><td>5</td><td>6</td></tr><tr><td scope="row">51</td><td>24</td><td>13</td><td>6</td><td>6</td></tr><tr><td scope="row">52</td><td>24</td><td>14</td><td>6</td><td>6</td></tr><tr><td scope="row">53</td><td>24</td><td>14</td><td>6</td><td>7</td></tr><tr><td scope="row">54</td><td>24</td><td>15</td><td>6</td><td>7</td></tr><tr><td scope="row">55</td><td>24</td><td>15</td><td>7</td><td>7</td></tr><tr><td scope="row">56</td><td>24</td><td>16</td><td>7</td><td>7</td></tr><tr><td scope="row">57</td><td>24</td><td>16</td><td>7</td><td>8</td></tr><tr><td scope="row">58</td><td>24</td><td>17</td><td>7</td><td>8</td></tr><tr><td scope="row">59</td><td>24</td><td>17</td><td>8</td><td>8</td></tr><tr><td scope="row">60</td><td>24</td><td>18</td><td>8</td><td>8</td></tr><tr><td scope="row">61</td><td>24</td><td>18</td><td>8</td><td>9</td></tr><tr><td scope="row">62</td><td>24</td><td>19</td><td>8</td><td>9</td></tr><tr><td scope="row">63</td><td>24</td><td>19</td><td>9</td><td>9</td></tr><tr><td scope="row">64</td><td>32</td><td>16</td><td>7</td><td>7</td></tr><tr><td scope="row">65</td><td>32</td><td>16</td><td>7</td><td>8</td></tr><tr><td scope="row">66</td><td>32</td><td>17</td><td>7</td><td>8</td></tr><tr><td scope="row">67</td><td>32</td><td>17</td><td>8</td><td>8</td></tr><tr><td scope="row">68</td><td>32</td><td>18</td><td>8</td><td>8</td></tr><tr><td scope="row">69</td><td>32</td><td>18</td><td>8</td><td>9</td></tr><tr><td scope="row">70</td><td>32</td><td>19</td><td>8</td><td>9</td></tr><tr><td scope="row">71</td><td>32</td><td>20</td><td>8</td><td>9</td></tr><tr><td scope="row">72</td><td>32</td><td>20</td><td>8</td><td>10</td></tr></tbody></table></div><p>
            次の表に、MySQL CLuster NDB 7.4.2 以前の <code class="literal">MaxNoOfExecutionThreads</code> の値に対応する各タイプのスレッド数を取得する方法を示します。この表は MySQL Cluster NDB 7.3.2 以前でも使用できますが、これらのバージョンでは <code class="literal">MaxNoOfExecutionThreads</code> の最大値が 36 であるため、この表の 36 より大きい値に対応する行は、MySQL Cluster NDB 7.3.3 より前には適用されません。
          </p><div class="informaltable"><table summary="この表は、MaxNoOfExecutionThreads の値と、スレッドタイプ (LQH、TC、送信、受信) ごとの対応するスレッド数を示しています。MySQL Cluster NDB 7.4.2 以前。" border="1"><colgroup><col><col><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">MaxNoOfExecutionThreads</code> の値</th><th scope="col">LDM スレッド</th><th scope="col">TC スレッド</th><th scope="col">送信スレッド</th><th scope="col">受信スレッド</th></tr></thead><tbody><tr><td scope="row">0 .. 3</td><td>1</td><td>1</td><td>0</td><td>1</td></tr><tr><td scope="row">4 .. 6</td><td>2</td><td>1</td><td>0</td><td>1</td></tr><tr><td scope="row">7 .. 8</td><td>4</td><td>1</td><td>0</td><td>1</td></tr><tr><td scope="row">9</td><td>4</td><td>2</td><td>0</td><td>1</td></tr><tr><td scope="row">10</td><td>4</td><td>2</td><td>1</td><td>1</td></tr><tr><td scope="row">11</td><td>4</td><td>3</td><td>1</td><td>1</td></tr><tr><td scope="row">12</td><td>4</td><td>3</td><td>1</td><td>2</td></tr><tr><td scope="row">13</td><td>4</td><td>3</td><td>2</td><td>2</td></tr><tr><td scope="row">14</td><td>4</td><td>4</td><td>2</td><td>2</td></tr><tr><td scope="row">15</td><td>4</td><td>5</td><td>2</td><td>2</td></tr><tr><td scope="row">16</td><td>8</td><td>3</td><td>1</td><td>2</td></tr><tr><td scope="row">17</td><td>8</td><td>4</td><td>1</td><td>2</td></tr><tr><td scope="row">18</td><td>8</td><td>4</td><td>2</td><td>2</td></tr><tr><td scope="row">19</td><td>8</td><td>5</td><td>2</td><td>2</td></tr><tr><td scope="row">20</td><td>8</td><td>5</td><td>2</td><td>3</td></tr><tr><td scope="row">21</td><td>8</td><td>5</td><td>3</td><td>3</td></tr><tr><td scope="row">22</td><td>8</td><td>6</td><td>3</td><td>3</td></tr><tr><td scope="row">23</td><td>8</td><td>7</td><td>3</td><td>3</td></tr><tr><td scope="row">24</td><td>12</td><td>5</td><td>2</td><td>3</td></tr><tr><td scope="row">25</td><td>12</td><td>6</td><td>2</td><td>3</td></tr><tr><td scope="row">26</td><td>12</td><td>6</td><td>3</td><td>3</td></tr><tr><td scope="row">27</td><td>12</td><td>7</td><td>3</td><td>3</td></tr><tr><td scope="row">28</td><td>12</td><td>7</td><td>3</td><td>4</td></tr><tr><td scope="row">29</td><td>12</td><td>8</td><td>3</td><td>4</td></tr><tr><td scope="row">30</td><td>12</td><td>8</td><td>4</td><td>4</td></tr><tr><td scope="row">31</td><td>12</td><td>9</td><td>4</td><td>4</td></tr><tr><td scope="row">32</td><td>16</td><td>8</td><td>3</td><td>3</td></tr><tr><td scope="row">33</td><td>16</td><td>8</td><td>3</td><td>4</td></tr><tr><td scope="row">34</td><td>16</td><td>8</td><td>4</td><td>4</td></tr><tr><td scope="row">35</td><td>16</td><td>9</td><td>4</td><td>4</td></tr><tr><td scope="row">36</td><td>16</td><td>10</td><td>4</td><td>4</td></tr><tr><td scope="row">37</td><td>16</td><td>10</td><td>4</td><td>5</td></tr><tr><td scope="row">38</td><td>16</td><td>11</td><td>4</td><td>5</td></tr><tr><td scope="row">39</td><td>16</td><td>11</td><td>5</td><td>5</td></tr><tr><td scope="row">40</td><td>16</td><td>12</td><td>5</td><td>5</td></tr><tr><td scope="row">41</td><td>16</td><td>12</td><td>5</td><td>6</td></tr><tr><td scope="row">42</td><td>16</td><td>13</td><td>5</td><td>6</td></tr><tr><td scope="row">43</td><td>16</td><td>13</td><td>6</td><td>6</td></tr><tr><td scope="row">44</td><td>16</td><td>14</td><td>6</td><td>6</td></tr><tr><td scope="row">45</td><td>16</td><td>14</td><td>6</td><td>7</td></tr><tr><td scope="row">46</td><td>16</td><td>15</td><td>6</td><td>7</td></tr><tr><td scope="row">47</td><td>16</td><td>15</td><td>7</td><td>7</td></tr><tr><td scope="row">48</td><td>24</td><td>12</td><td>5</td><td>5</td></tr><tr><td scope="row">49</td><td>24</td><td>12</td><td>5</td><td>6</td></tr><tr><td scope="row">50</td><td>24</td><td>13</td><td>5</td><td>6</td></tr><tr><td scope="row">51</td><td>24</td><td>13</td><td>6</td><td>6</td></tr><tr><td scope="row">52</td><td>24</td><td>14</td><td>6</td><td>6</td></tr><tr><td scope="row">53</td><td>24</td><td>14</td><td>6</td><td>7</td></tr><tr><td scope="row">54</td><td>24</td><td>15</td><td>6</td><td>7</td></tr><tr><td scope="row">55</td><td>24</td><td>15</td><td>7</td><td>7</td></tr><tr><td scope="row">56</td><td>24</td><td>16</td><td>7</td><td>7</td></tr><tr><td scope="row">57</td><td>24</td><td>16</td><td>7</td><td>8</td></tr><tr><td scope="row">58</td><td>24</td><td>17</td><td>7</td><td>8</td></tr><tr><td scope="row">59</td><td>24</td><td>17</td><td>8</td><td>8</td></tr><tr><td scope="row">60</td><td>24</td><td>18</td><td>8</td><td>8</td></tr><tr><td scope="row">61</td><td>24</td><td>18</td><td>8</td><td>9</td></tr><tr><td scope="row">62</td><td>24</td><td>19</td><td>8</td><td>9</td></tr><tr><td scope="row">63</td><td>24</td><td>19</td><td>9</td><td>9</td></tr><tr><td scope="row">64</td><td>32</td><td>16</td><td>7</td><td>7</td></tr><tr><td scope="row">65</td><td>32</td><td>16</td><td>7</td><td>8</td></tr><tr><td scope="row">66</td><td>32</td><td>17</td><td>7</td><td>8</td></tr><tr><td scope="row">67</td><td>32</td><td>17</td><td>8</td><td>8</td></tr><tr><td scope="row">68</td><td>32</td><td>18</td><td>8</td><td>8</td></tr><tr><td scope="row">69</td><td>32</td><td>18</td><td>8</td><td>9</td></tr><tr><td scope="row">70</td><td>32</td><td>19</td><td>8</td><td>9</td></tr><tr><td scope="row">71</td><td>32</td><td>20</td><td>8</td><td>9</td></tr><tr><td scope="row">72</td><td>32</td><td>20</td><td>8</td><td>10</td></tr></tbody></table></div><p>
            MySQL Cluster NDB 7.3 以降では、SUMA (レプリケーション) スレッドが常に 1 つ存在します。
          </p><p>
            LDM スレッドの数が <code class="literal">NoOfFragmentLogParts</code> を超えないようにする必要があります。このため、このパラメータの値がデフォルト (4) の場合は、<code class="literal">MaxNoOfExecutionThreads</code> を 16 以上に設定したときに、この値も増やす必要があります。つまり、<code class="literal">NoOfFragmentLogParts</code> を、前の表に示された <code class="literal">MaxNoOfExecutionThreads</code> のこのパラメータの値に対応する LDM スレッド数の値に設定してください。
          </p><p>
            スレッドタイプについては、このセクションで後述します (<code class="literal">ThreadConfig</code> を参照してください)。
          </p><p>
            このパラメータを許容範囲外の値に設定すると、管理サーバーの起動が中止され、次のエラーが発生します: <span class="errortext">Error line <em class="replaceable"><code>number</code></em>: Illegal value <em class="replaceable"><code>value</code></em> for parameter MaxNoOfExecutionThreads</span>。
          </p><p>
            <code class="literal">MaxNoOfExecutionThreads</code> では、値 0 または 1 は <code class="literal">NDB</code> の内部で 2 に切り上げられるため、2 がこのパラメータのデフォルト値および最小値とみなされます。
          </p><p>
            <code class="literal">MaxNoOfExecutionThreads</code> は、通常、使用可能な CPU スレッド数と同じ値に設定し、各タイプのスレッド数を一般的なワークロードに合わせて割り当てることを目的としています。指定された CPU に特定のスレッドを割り当てるものではありません。提供された設定を変更することが望ましい場合や、スレッドを CPU にバインドする場合は、代わりに必要なタイプ、CPU、またはその両方に直接スレッドを割り当てることができる <code class="literal">ThreadConfig</code> を使用するようにしてください。
          </p><p>
            マルチスレッドのデータノードプロセスでは、少なくともここに示す 5 個のスレッドを常に生成します。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                1 個のローカルクエリーハンドラ (LDM) スレッド
              </p></li><li class="listitem"><p>
                1 個のトランザクションコーディネータ (TC) スレッド
              </p></li><li class="listitem"><p>
                1 個の送信スレッド
              </p><p>
                (このセクションの別の場所で説明するように、独立した送信スレッドを採用しないようにすることもできます。)
              </p></li><li class="listitem"><p>
                1 個の受信スレッド
              </p></li><li class="listitem"><p>
                1 個のサブスクリプションマネージャー (SUMA またはレプリケーション) スレッド
              </p></li></ul></div><p>
            LDM スレッドの数を変更するには、このパラメータと <code class="literal">ThreadConfig</code> のどちらを使用して変更する場合でも、常にシステムの再起動が必要です。クラスタの <code class="literal">IndexMemory</code> の使用率が 50% を超える場合、これを変更するにはクラスタの初期再起動が必要です。(このような場合は、最大で 30-35% の <code class="literal">IndexMemory</code> 使用率が推奨されます。)それ以外の場合は、ノード間でリソースの使用率と LDM スレッドの割り当てのバランスを取ることができず、結果として LDM スレッドの利用が不十分または過剰になり、最終的にデータノードに障害が発生します。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbmtd-nooffragmentlogparts"></a>
            <a class="indexterm" name="idm139979039025616"></a> <a class="indexterm" name="idm139979039024272"></a> <code class="literal">NoOfFragmentLogParts</code>
          </p><div class="informaltable"><a name="nooffragmentlogparts-ndbmtd-table"></a><table summary="この表は、NoOfFragmentLogParts マルチスレッドデータノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>数値</td><td>4</td><td>4、8、12、16</td><td>IN</td></tr><tr><td scope="row">NDB 7.3.3</td><td>数値</td><td>4</td><td>4、8、12、16、24、32</td><td>IN</td></tr></tbody></table></div><p>
            この <span class="command"><strong>ndbmtd</strong></span> に属する Redo ログのログファイルグループの数を設定します。MySQL Cluster NDB 7.3.3 より前では、この値は 4 から 16 までの (これらを含む) 4 の偶数倍である必要があります。MySQL Cluster NDB 7.3.3 以降では、最大は 32 です。以前と同様に、値は 4 の偶数倍である必要があります。
          </p><p>
            <span class="command"><strong>ndbmtd</strong></span> が使用する LQH スレッドの数が <code class="literal">NoOfFragmentLogParts</code> を超えないようにする必要があります。また、<code class="literal">MaxNoOfExecutionThreads</code> を増やすとこの数が増える場合があります。詳細は、このパラメータの説明を参照してください。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbmtd-threadconfig"></a>
            <a class="indexterm" name="idm139979039000320"></a> <a class="indexterm" name="idm139979038998976"></a> <code class="literal">ThreadConfig</code>
          </p><div class="informaltable"><a name="threadconfig-ndbmtd-table"></a><table summary="この表は、ThreadConfig マルチスレッドデータノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>文字列</td><td>''</td><td>...</td><td>IS</td></tr></tbody></table></div><p>
            このパラメータは、<span class="command"><strong>ndbmtd</strong></span> で異なるタイプのスレッドを別の CPU に割り当てるために使用されます。この値は、次の構文を持つ形式の文字列です。
          </p><pre class="programlisting">
ThreadConfig := <em class="replaceable"><code>entry</code></em>[,<em class="replaceable"><code>entry</code></em>[,...]]

<em class="replaceable"><code>entry</code></em> := <em class="replaceable"><code>type</code></em>={<em class="replaceable"><code>param</code></em>[,<em class="replaceable"><code>param</code></em>[,...]]}

<em class="replaceable"><code>type</code></em> := ldm | main | recv | send | rep | io

<em class="replaceable"><code>param</code></em> := count=<em class="replaceable"><code>number</code></em> | cpubind=<em class="replaceable"><code>cpu_list</code></em>
</pre><p>
            パラメータのリストを囲む中括弧 (<code class="literal">{</code>...<code class="literal">}</code>) は、リスト内にパラメータが 1 つしかない場合でも必要です。
          </p><p>
            <em class="replaceable"><code>param</code></em> (パラメータ) には、特定タイプのスレッドの数 (<code class="literal">count</code>)、特定タイプのスレッドのバインド先となる CPU (<code class="literal">cpubind</code>)、またはその両方を指定します。
          </p><p>
            <em class="replaceable"><code>type</code></em> 属性は、NDB のスレッドタイプを表します。MySQL Cluster NDB 7.3 以降でサポートされるスレッドタイプと各タイプで許容される <code class="literal">count</code> 値の範囲を、次のリストに示します。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">ldm</code>: データを処理するローカルクエリーハンドラ (<code class="literal">DBLQH</code> カーネルブロック)。使用される LDM スレッドの数が多いほど、データがより高度にパーティション化されます。各 LDM スレッドには、固有のデータおよびインデックスパーティションのセットと固有の Redo ログが保持されます。MySQL Cluster NDB 7.3.3 以降では、このようなスレッドの最大数は 32 です。MySQL Cluster NDB 7.3.2 以前では、最大は 16 です。
              </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
                  LDM スレッドの数を変更するには、システムの再起動をクラスタの操作に対して効果的かつ安全に行う必要があります。(これは、<code class="literal">MaxNoOfExecutionThreads</code> を使用して実行する場合にもあてはまります。)<code class="literal">IndexMemory</code> の使用率が 50% を超える場合は、クラスタの初期再起動が必要です。このような場合は、<code class="literal">IndexMemory</code> の使用率を最大で 30-35% にすることをお勧めします。そうでない場合は、<code class="literal">IndexMemory</code> および <code class="literal">DataMemory</code> の使用率と LDM スレッドのノード間の割り当てのバランスが取れず、最終的にはデータノードの障害につながる可能性があります。
                </p></div></li><li class="listitem"><p>
                <code class="literal">tc</code>: 進行中のトランザクションの状態を含むトランザクションコーディネータスレッド (<code class="literal">DBTC</code> カーネルブロック)。MySQL Cluster NDB 7.3 では、TC スレッドの数を構成できます。MySQL Cluster NDB 7.3.3 以降では、合計 32 個が使用可能です。以前は 16 個でした。
              </p><p>
                新しいトランザクションをそれぞれ 1 つの新しい TC スレッドに適切に割り当てることができます。ほとんどの場合、この実行が保証されるには、2 つの LDM スレッドに対して 1 つの TC スレッドで十分です。読み取りの数に比べて書き込みの数が少ないケースでは、4 つの LQH スレッドあたり 1 つの TC スレッドがあればトランザクション状態を維持できる可能性があります。逆に、非常に多くの更新を実行するアプリケーションでは、LDM スレッドに対する TC スレッドの比率を 1 に近づける (たとえば、4 つの LDM スレッドに対して TC スレッドを 3 つにする) 必要がある場合があります。
              </p><p>
                範囲: (<span class="emphasis"><em>NDB 7.3.3 以降</em></span>) 1-32、(<span class="emphasis"><em>NDB 7.3.2 以前</em></span>) 1-16。
              </p></li><li class="listitem"><p>
                <code class="literal">main</code>: スキーマ管理を提供するデータディクショナリおよびトランザクションコーディネータ (<code class="literal">DBDIH</code> および <code class="literal">DBTC</code> カーネルブロック)。これは、常に 1 つの専用スレッドで処理されます。
              </p><p>
                範囲: 1 のみ。
              </p></li><li class="listitem"><p>
                <code class="literal">recv</code>: 受信スレッド (<code class="literal">CMVMI</code> カーネルブロック)。各受信スレッドは、MySQL Cluster 内のほかのノードと通信するための 1 つ以上のソケット (ノードあたり 1 ソケット) を処理します。MySQL Cluster NDB 7.3 以降では、複数の受信スレッドがサポートされます。MySQL Cluster NDB 7.3.2 以前では、このようなスレッドの最大数は 8 です。MySQL Cluster NDB 7.3.3 以降では、最大は 16 です。
              </p><p>
                範囲: (<span class="emphasis"><em>NDB 7.3.3 以降</em></span>) 1-16、(<span class="emphasis"><em>NDB 7.3.2 以前</em></span>) 1-8。
              </p></li><li class="listitem"><p>
                <code class="literal">send</code>: 送信スレッド (<code class="literal">CMVMI</code> カーネルブロック)。スループットを向上させるため、1 つ以上 (最大 8 個) の独立した専用スレッドから送信を実行できます。
              </p><p>
                以前は、すべてのスレッドが自身の送信を直接処理していました。今でも、送信スレッドの数を 0 に設定することでこれを行うことができます (<code class="literal">MaxNoOfExecutionThreads</code> を 9 に設定した場合もこれが行われます)。これを行うと、スループットに悪影響を及ぼす可能性がありますが、場合によっては待機時間が減る可能性もあります。
              </p><p>
                範囲: (<span class="emphasis"><em>NDB 7.3.3 以降</em></span>) 0-16、(<span class="emphasis"><em>NDB 7.3.2 以前</em></span>) 0-8。
              </p></li><li class="listitem"><p>
                <code class="literal">rep</code>: レプリケーションスレッド (<code class="literal">SUMA</code> カーネルブロック)。非同期のレプリケーション操作は、常に 1 つの専用スレッドで処理されます。
              </p><p>
                範囲: 1 のみ。
              </p></li><li class="listitem"><p>
                <code class="literal">io</code>: ファイルシステムおよびその他の操作。これらは、要求の厳しいタスクではなく、常に 1 つの I/O 専用スレッドでまとめて処理されます。
              </p><p>
                範囲: 1 のみ。
              </p></li></ul></div></li></ul></div><p>
        簡単な例:
      </p><pre class="programlisting">
# Example 1.

ThreadConfig=ldm={count=2,cpubind=1,2},main={cpubind=12},rep={cpubind=11}

# Example 2.

Threadconfig=main={cpubind=0},ldm={count=4,cpubind=1,2,5,6},io={cpubind=3}
</pre><p>
        通常、スレッドの使用法を構成するときは、データノードホストの 1 つ以上の CPU をオペレーティングシステムおよびその他のタスク用に確保します。したがって、24 個の CPU を搭載したホストマシンでは、20 個の CPU スレッド (8 個の LDM スレッド、4 個の TC スレッド (LDM スレッドの半分)、3 個の送信スレッド、3 個の受信スレッド、およびスキーマ管理、非同期レプリケーション、I/O 操作のそれぞれに 1 個のスレッド) を使用できます (ほかの用途のために 4 個を残します)。(これは、<code class="literal">MaxNoOfExecutionThreads</code> を 20 に設定したときに使用されるスレッドの分布とほぼ同じです。)次の <code class="literal">ThreadConfig</code> 設定では、これらの割り当てを行い、さらにこれらのスレッドを特定の CPU にバインドしています。
      </p><pre class="programlisting">
ThreadConfig=ldm{count=8,cpubind=1,2,3,4,5,6,7,8},main={cpubind=9},io={cpubind=9}, \
rep={cpubind=10},tc{count=4,cpubind=11,12,13,14},recv={count=3,cpubind=15,16,17}, \
send{count=3,cpubind=18,19,20}
</pre><p>
        ほとんどの場合、ここに示す例で行なったように、main (スキーマ管理) スレッドと I/O スレッドは同じ CPU にバインドできます。
      </p><p>
        <code class="literal">ThreadConfig</code> を使用することで得られる高い安定性を生かすには、CPU が隔離されていて、割り込みを受けたり、オペレーティングシステムによってほかのタスクをスケジュールされたりしない必要があります。多くの Linux システムでは、<code class="filename">/etc/sysconfig/irqbalance</code> の <code class="literal">IRQBALANCE_BANNED_CPUS</code> を <code class="literal">0xFFFFF0</code> に設定し、<code class="filename">grub.conf</code> の <code class="literal">isolcpus</code> ブートオプションを使用することで、これを実現できます。具体的な情報については、オペレーティングシステムまたはプラットフォームのドキュメントを参照してください。
      </p><p><a name="mysql-cluster-ndbd-definition-disk-data-parameters"></a><b>ディスクデータの構成パラメータ </b>
          ディスクデータの動作に影響を与える構成パラメータには、次が含まれます。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-diskpagebuffermemory"></a>
            <a class="indexterm" name="idm139979038917600"></a> <code class="literal">DiskPageBufferMemory</code>
          </p><div class="informaltable"><a name="diskpagebuffermemory-ndbd-table"></a><table summary="この表は、DiskPageBufferMemory データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>64M</td><td>4M - 1T</td><td>N</td></tr></tbody></table></div><p>
            これは、ディスク上のページをキャッシュするために使用されるスペースの量を指定するもので、<code class="filename">config.ini</code> ファイルの <code class="literal">[ndbd]</code> または <code class="literal">[ndbd default]</code> セクションで設定されます。これは、バイト単位で測定されます。各ページは最大 32K バイトを占有します。これは、常に <em class="replaceable"><code>N</code></em> * 32K バイトのメモリーがクラスタディスクデータのストレージに使用されることを意味します (<em class="replaceable"><code>N</code></em> は負でない整数です)。
          </p><p>
            このパラメータのデフォルト値は <code class="literal">64M</code> (32K バイトのページ 2000 個分) です。
          </p><p>
            <code class="literal">ndbinfo.diskpagebuffer</code> テーブルをクエリーすると、不要なディスクシークを最小限に抑えるためにこのパラメータの値を増やすべきかどうか判定しやすくなります。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndbinfo-diskpagebuffer" title="18.5.10.12 ndbinfo diskpagebuffer テーブル">セクション18.5.10.12「ndbinfo diskpagebuffer テーブル」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-sharedglobalmemory"></a>
            <a class="indexterm" name="idm139979038893312"></a> <code class="literal">SharedGlobalMemory</code>
          </p><div class="informaltable"><a name="sharedglobalmemory-ndbd-table"></a><table summary="この表は、SharedGlobalMemory データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>128M</td><td>0 - 64T</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、テーブルスペース、ログファイルグループ、<code class="literal">Undo</code> ファイル、およびデータファイル用のログバッファー、ディスク操作 (ページ要求や待機キューなど)、およびメタデータに使用されるメモリーの量を指定します。この共有グローバルメモリープールから、<code class="literal">CREATE LOGFILE GROUP</code> および <code class="literal">ALTER LOGFILE GROUP</code> ステートメントで使用される <code class="literal">INITIAL_SIZE</code> および <code class="literal">UNDO_BUFFER_SIZE</code> オプション (<code class="literal">InitialLogFileGroup</code> データノード構成パラメータの設定によって示されるこれらのオプションのデフォルト値を含む) のメモリー要件を満たすために使用されるメモリーも提供されます。<code class="literal">SharedGlobalMemory</code> は、<code class="filename">config.ini</code> 構成ファイルの <code class="literal">[ndbd]</code> または <code class="literal">[ndbd default]</code> セクションに設定でき、バイト単位で測定されます。
          </p><p>
            デフォルト値は <code class="literal">128M</code> です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-diskiothreadpool"></a>
            <a class="indexterm" name="idm139979038866208"></a> <a class="indexterm" name="idm139979038864864"></a> <code class="literal">DiskIOThreadPool</code>
          </p><div class="informaltable"><a name="diskiothreadpool-ndbd-table"></a><table summary="この表は、DiskIOThreadPool データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>スレッド</td><td>2</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、ディスクデータファイルへのアクセスに使用される未バインドスレッドの数を指定します。<code class="literal">DiskIOThreadPool</code> が導入される前は、ディスクデータファイルごとに 1 つのスレッドしか生成されなかったため、特に非常に大きいデータファイルを使用する場合に、パフォーマンスの問題が発生する可能性がありました。<code class="literal">DiskIOThreadPool</code> を使用すると、たとえば、並列で動作する複数のスレッドを使用して 1 つの大きなデータファイルにアクセスできます。
          </p><p>
            このパラメータは、ディスクデータ I/O スレッドにのみ適用されます。
          </p><p>
            このパラメータの最適な値は、使用しているハードウェアと構成によって異なり、次の要因を含みます。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><b>ディスクデータファイルの物理的な分布 </b>
                  データファイル、Undo ログファイル、およびデータノードファイルシステムを別々の物理ディスクに配置することで、パフォーマンスを向上させることができます。これらの一部またはすべてのファイルを使用してこれを行う場合は、各ディスク上のファイルを別個のスレッドで処理できるようにするために、<code class="literal">DiskIOThreadPool</code> を大きな値に設定できます。
                </p></li><li class="listitem"><p><b>ディスクのパフォーマンスとタイプ </b>
                  ディスクデータファイルの処理用に提供できるスレッドの数は、ディスクの速度とスループットにも依存します。ディスクの速度が速く、スループットが高いほど、より多くの I/O スレッドを使用できます。弊社のテスト結果では、従来のディスクよりソリッドステートディスクドライブの方が (つまり <code class="literal">DiskIOThreadPool</code> の値が大きいほど) はるかに多くのディスク I/O スレッドを処理できることを示しています。
                </p></li></ul></div><p>
            このパラメータのデフォルト値は 2 です。
          </p></li><li class="listitem"><p><a name="mysql-cluster-ndbd-disk-data-filesystem-parameters"></a><b>ディスクデータのファイルシステムパラメータ </b>
              次のリストのパラメータを使用すると、シンボリックリンクを使用せずに MySQL Cluster ディスクデータのファイルを特定のディレクトリに配置できるようになります。
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><a name="ndbparam-ndbd-filesystempathdd"></a>
                <a class="indexterm" name="idm139979038832832"></a> <code class="literal">FileSystemPathDD</code>
              </p><div class="informaltable"><a name="filesystempathdd-ndbd-table"></a><table summary="この表は、FileSystemPathDD データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ファイル名</td><td>[テキストを参照]</td><td>...</td><td>IN</td></tr></tbody></table></div><p>
                このパラメータを指定すると、MySQL Cluster ディスクデータのデータファイルと Undo ログファイルが指定されたディレクトリに配置されます。データファイル、Undo ログファイル、またはその両方をオーバーライドするには、<code class="literal">FileSystemPathDataFiles</code>、<code class="literal">FileSystemPathUndoFiles</code>、またはその両方の値をこれらのパラメータの説明に従って指定します。データファイルでは <code class="literal">CREATE TABLESPACE</code> または <code class="literal">ALTER TABLESPACE</code> ステートメントの <code class="literal">ADD DATAFILE</code> 句にパスを指定し、Undo ログファイルでは <code class="literal">CREATE LOGFILE GROUP</code> または <code class="literal">ALTER LOGFILE GROUP</code> ステートメントの <code class="literal">ADD UNDOFILE</code> 句でパスを指定してオーバーライドすることもできます。<code class="literal">FileSystemPathDD</code> が指定されていない場合は、<code class="literal">FileSystemPath</code> が使用されます。
              </p><p>
                特定のデータノードで <code class="literal">FileSystemPathDD</code> ディレクトリが指定された場合 (<code class="filename">config.ini</code> ファイルの <code class="literal">[ndbd default]</code> セクションでこのパラメータが指定された場合を含む)、<code class="option">--initial</code> を指定してデータノードを起動すると、ディレクトリ内のすべてのファイルが削除されます。
              </p></li><li class="listitem"><p><a name="ndbparam-ndbd-filesystempathdatafiles"></a>
                <a class="indexterm" name="idm139979038802000"></a> <code class="literal">FileSystemPathDataFiles</code>
              </p><div class="informaltable"><a name="filesystempathdatafiles-ndbd-table"></a><table summary="この表は、FileSystemPathDataFiles データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ファイル名</td><td>[テキストを参照]</td><td>...</td><td>IN</td></tr></tbody></table></div><p>
                このパラメータを指定すると、MySQL Cluster ディスクデータのデータファイルが指定されたディレクトリに配置されます。これは、<code class="literal">FileSystemPathDD</code> に設定された値をオーバーライドします。特定のデータファイルのパラメータをオーバーライドするには、そのデータファイルを作成するために使用される <code class="literal">CREATE TABLESPACE</code> または <code class="literal">ALTER TABLESPACE</code> ステートメントの <code class="literal">ADD DATAFILE</code> 句でパスを指定します。<code class="literal">FileSystemPathDataFiles</code> が指定されていない場合は、<code class="literal">FileSystemPathDD</code> が使用されます (<code class="literal">FileSystemPathDD</code> も設定されていない場合は、<code class="literal">FileSystemPath</code> が使用されます)。
              </p><p>
                特定のデータノードで <code class="literal">FileSystemPathDataFiles</code> ディレクトリが指定された場合 (<code class="filename">config.ini</code> ファイルの <code class="literal">[ndbd default]</code> セクションにこのパラメータが指定された場合を含む)、<code class="option">--initial</code> を指定してそのデータノードを起動すると、ディレクトリ内のすべてのファイルが削除されます。
              </p></li><li class="listitem"><p><a name="ndbparam-ndbd-filesystempathundofiles"></a>
                <a class="indexterm" name="idm139979038772848"></a> <code class="literal">FileSystemPathUndoFiles</code>
              </p><div class="informaltable"><a name="filesystempathundofiles-ndbd-table"></a><table summary="この表は、FileSystemPathUndoFiles データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ファイル名</td><td>[テキストを参照]</td><td>...</td><td>IN</td></tr></tbody></table></div><p>
                このパラメータを指定すると、MySQL Cluster ディスクデータの Undo ログファイルが指定されたディレクトリに配置されます。これは、<code class="literal">FileSystemPathDD</code> に設定された値をオーバーライドします。特定のデータファイルについてこのパラメータをオーバーライドするには、そのデータファイルを作成するために使用される <code class="literal">CREATE LOGFILE GROUP</code> または <code class="literal">CREATE LOGFILE GROUP</code> ステートメントの <code class="literal">ADD UNDO</code> 句にパスを指定します。<code class="literal">FileSystemPathUndoFiles</code> が指定されていない場合は、<code class="literal">FileSystemPathDD</code> が使用されます (<code class="literal">FileSystemPathDD</code> も設定されていない場合は、<code class="literal">FileSystemPath</code> が使用されます)。
              </p><p>
                特定のデータノードで <code class="literal">FileSystemPathUndoFiles</code> ディレクトリが指定された場合 (<code class="filename">config.ini</code> ファイルの <code class="literal">[ndbd default]</code> セクションにこのパラメータが指定された場合を含む)、<code class="option">--initial</code> を指定してそのデータノードを起動すると、ディレクトリ内のすべてのファイルが削除されます。
              </p></li></ul></div><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-disk-data-objects" title="18.5.12.1 MySQL Cluster ディスクデータオブジェクト">セクション18.5.12.1「MySQL Cluster ディスクデータオブジェクト」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="mysql-cluster-ndbd-disk-data-object-creation-parameters"></a><b>ディスクデータのオブジェクト作成パラメータ </b>
              次の 2 つのパラメータを使用すると、クラスタを最初に起動したときに、SQL ステートメントを使用せずにディスクデータのログファイルグループ、テーブルスペース、またはその両方を作成できます。
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><a name="ndbparam-ndbd-initiallogfilegroup"></a>
                <a class="indexterm" name="idm139979038739344"></a> <code class="literal">InitialLogFileGroup</code>
              </p><div class="informaltable"><a name="initiallogfilegroup-ndbd-table"></a><table summary="この表は、InitialLogFileGroup データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>文字列</td><td>[テキストを参照]</td><td>...</td><td>S</td></tr></tbody></table></div><p>
                このパラメータを使用して、クラスタの初期起動の実行時に作成されるログファイルグループを指定できます。<code class="literal">InitialLogFileGroup</code> は、ここに示すように指定されます。
              </p><pre class="programlisting">
InitialLogFileGroup = [name=<em class="replaceable"><code>name</code></em>;] [undo_buffer_size=<em class="replaceable"><code>size</code></em>;] <em class="replaceable"><code>file-specification-list</code></em>

<em class="replaceable"><code>file-specification-list</code></em>:
    <em class="replaceable"><code>file-specification</code></em>[; <em class="replaceable"><code>file-specification</code></em>[; ...]]

<em class="replaceable"><code>file-specification</code></em>:
    <em class="replaceable"><code>filename</code></em>:<em class="replaceable"><code>size</code></em>
</pre><p>
                ログファイルグループの <code class="literal">name</code> はオプションであり、デフォルト値は <code class="literal">DEFAULT-LG</code> です。<code class="literal">undo_buffer_size</code> もオプションです。省略した場合のデフォルト値は <code class="literal">64M</code> です。<em class="replaceable"><code>file-specification</code></em> は、それぞれ 1 つの Undo ログファイルに対応し、<em class="replaceable"><code>file-specification-list</code></em> に少なくとも 1 つ指定する必要があります。Undo ログファイルは、<code class="literal">FileSystemPath</code>、<code class="literal">FileSystemPathDD</code>、および <code class="literal">FileSystemPathUndoFiles</code> に設定された値に従って、<code class="literal">CREATE LOGFILE GROUP</code> または <code class="literal">ALTER LOGFILE GROUP</code> ステートメントの結果として作成された場合と同じように配置されます。
              </p><p>
                次について考えます。
              </p><pre class="programlisting">
InitialLogFileGroup = name=LG1; undo_buffer_size=128M; undo1.log:250M; undo2.log:150M
</pre><p>
                これは、次の SQL ステートメントと同等です。
              </p><pre class="programlisting">
CREATE LOGFILE GROUP LG1
    ADD UNDOFILE 'undo1.log'
    INITIAL_SIZE 250M
    UNDO_BUFFER_SIZE 128M
    ENGINE NDBCLUSTER;

ALTER LOGFILE GROUP LG1
    ADD UNDOFILE 'undo2.log'
    INITIAL_SIZE 150M
    ENGINE NDBCLUSTER;
</pre><p>
                このログファイルグループは、<code class="option">--initial</code> を指定してデータノードを起動したときに作成されます。
              </p><p>
                初期のログファイルグループのリソースは、<code class="literal">SharedGlobalMemory</code> データノード構成パラメータの値でサイズが決定されるグローバルメモリープールから取得されます。このパラメータの設定値が小さすぎて、ログファイルグループの初期サイズまたは Undo バッファーサイズとして <code class="literal">InitialLogFileGroup</code> に設定された値が大きすぎる場合は、クラスタの起動時にデフォルトのログファイルグループが作成されないか、クラスタの起動が完全に失敗する可能性があります。
              </p><p>
                このパラメータを使用する場合は、常に <code class="filename">config.ini</code> ファイルの <code class="literal">[ndbd default]</code> セクションに設定するようにしてください。異なるデータノードに異なる値を設定した場合の MySQL Cluster の動作は定義されていません。
              </p></li><li class="listitem"><p><a name="ndbparam-ndbd-initialtablespace"></a>
                <a class="indexterm" name="idm139979038697216"></a> <code class="literal">InitialTablespace</code>
              </p><div class="informaltable"><a name="initialtablespace-ndbd-table"></a><table summary="この表は、InitialTablespace データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>文字列</td><td>[テキストを参照]</td><td>...</td><td>S</td></tr></tbody></table></div><p>
                このパラメータを使用して、クラスタの初期起動を実行したときに作成される MySQL Cluster ディスクデータのテーブルスペースを指定できます。<code class="literal">InitialTablespace</code> は、ここに示すように指定されます。
              </p><pre class="programlisting">
InitialTablespace = [name=<em class="replaceable"><code>name</code></em>;] [extent_size=<em class="replaceable"><code>size</code></em>;] <em class="replaceable"><code>file-specification-list</code></em>
</pre><p>
                テーブルスペースの <code class="literal">name</code> はオプションであり、デフォルト値は <code class="literal">DEFAULT-TS</code> です。<code class="literal">extent_size</code> もオプションです。デフォルト値は <code class="literal">1M</code> です。<em class="replaceable"><code>file-specification-list</code></em> には、<code class="literal">InitialLogfileGroup</code> パラメータに示された同じ構文が使用されます。唯一の違いは、<code class="literal">InitialTablespace</code> で使用される <em class="replaceable"><code>file-specification</code></em> がそれぞれ 1 つのデータファイルに対応することです。<em class="replaceable"><code>file-specification-list</code></em> には、少なくとも 1 つを指定する必要があります。データファイルは、<code class="literal">FileSystemPath</code>、<code class="literal">FileSystemPathDD</code>、および <code class="literal">FileSystemPathDataFiles</code> に設定された値に従って、<code class="literal">CREATE TABLESPACE</code> または <code class="literal">ALTER TABLESPACE</code> ステートメントの結果として作成された場合と同じように配置されます。
              </p><p>
                たとえば、<code class="filename">config.ini</code> ファイルの <code class="literal">[ndbd default]</code> セクションに <code class="literal">InitialTablespace</code> を指定する次の行について考えます (<code class="literal">InitialLogfileGroup</code> と同様、異なるデータノードに異なる値を設定したときの MySQL Cluster の動作は定義されていないため、このパラメータは常に <code class="literal">[ndbd default]</code> セクションに設定するようにしてください)。
              </p><pre class="programlisting">
InitialTablespace = name=TS1; extent_size=8M; data1.dat:2G; data2.dat:4G
</pre><p>
                これは、次の SQL ステートメントと同等です。
              </p><pre class="programlisting">
CREATE TABLESPACE TS1
    ADD DATAFILE 'data1.dat'
    EXTENT_SIZE 8M
    INITIAL_SIZE 2G
    ENGINE NDBCLUSTER;

ALTER TABLESPACE TS1
    ADD DATAFILE 'data2.dat'
    INITIAL_SIZE 4G
    ENGINE NDBCLUSTER;
</pre><p>
                このテーブルスペースは、<code class="option">--initial</code> を指定してデータノードを起動したときに作成され、その後 MySQL Cluster ディスクデータのテーブルを作成するたびに使用できます。
              </p></li></ul></div></li></ul></div><p><a name="mysql-cluster-ndbd-definition-gcp-stop-errors"></a><b>ディスクデータと GCP 停止エラー </b>
          <a class="indexterm" name="idm139979038655088"></a> <a class="indexterm" name="idm139979038652928"></a>ディスクデータテーブルを使用するときに発生するエラー:<span class="errortext">Node <em class="replaceable"><code>nodeid</code></em> killed this node because GCP stop was detected</span>(エラー 2303) などは、多くの場合、<span class="quote">「<span class="quote">GCP 停止エラー</span>」</span>と呼ばれています。このようなエラーは、Redo ログが十分な速さでディスクにフラッシュされていない場合に発生します。これは通常、ディスクの速度が低く、ディスクのスループットが十分でないことが原因です。
        </p><p>
        高速なディスクを使用し、ディスクデータファイルをデータノードファイルシステムとは別のディスクに配置することで、これらのエラーを回避しやすくなります。<code class="literal">TimeBetweenGlobalCheckpoints</code> の値を減らすと、グローバルチェックポイントごとに書き込まれるデータの量が減りやすくなるため、グローバルチェックポイントを書き込もうとしたときに Redo ログバッファーのオーバーフローをある程度回避できる可能性があります。ただし、この値を減らすと GCP を書き込むことができる時間も減るため、注意が必要です。
      </p><a class="indexterm" name="idm139979038647056"></a><a class="indexterm" name="idm139979038645712"></a><a class="indexterm" name="idm139979038644368"></a><p>
        前述の <code class="literal">DiskPageBufferMemory</code> について示した考慮事項に加えて、<code class="literal">DiskIOThreadPool</code> 構成パラメータを正しく設定することも非常に重要です。<code class="literal">DiskIOThreadPool</code> の設定値が大きすぎると、GCP 停止エラーが発生する可能性が非常に高くなります (Bug #37227)。
      </p><p>
        GCP の停止は、保存またはコミットのタイムアウトによって発生することがあります。<code class="literal">TimeBetweenEpochsTimeout</code> データノード構成パラメータは、コミットのタイムアウトを指定します。ただし、このパラメータを 0 に設定することで、両方のタイプのタイムアウトを無効にできます。
      </p><p><b>送信バッファーメモリーの割り当てを構成するためのパラメータ </b>
          送信バッファーメモリーは、すべてのトランスポータ間で共有されるメモリープールから動的に割り当てられます。これは、送信バッファーのサイズを必要に応じて調整できることを意味します。(以前は、クラスタ内のすべてのノードで NDB カーネルが固定サイズの送信バッファーを使用していました。これは、ノードの起動時に割り当てられ、ノードの実行中は変更できませんでした。)<code class="literal">TotalSendBufferMemory</code> および <code class="literal">OverLoadLimit</code> データノード構成パラメータを使用して、このメモリー割り当ての制限を設定できます。これらのパラメータ (および <code class="literal">SendBufferMemory</code>) の使用方法の詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-config-send-buffers" title="18.3.2.12 MySQL Cluster の送信バッファーパラメータの構成">セクション18.3.2.12「MySQL Cluster の送信バッファーパラメータの構成」</a>を参照してください。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-extrasendbuffermemory"></a>
            <a class="indexterm" name="idm139979038629760"></a> <code class="literal">ExtraSendBufferMemory</code>
          </p><p>
            このパラメータは、<code class="literal">TotalSendBufferMemory</code>、<code class="literal">SendBufferMemory</code>、またはその両方を使用して設定されたメモリーに加えて割り当てられるトランスポータ送信バッファーメモリーの量を指定します。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-totalsendbuffermemory"></a>
            <a class="indexterm" name="idm139979038622848"></a> <code class="literal">TotalSendBufferMemory</code>
          </p><p>
            このパラメータは、MySQL Cluster NDB 6.4.0 以降で使用可能です。これは、すべての構成済みトランスポータ間で共有される送信バッファーメモリーの、このノード上で割り当てられるメモリーの合計量を指定するために使用されます。
          </p><p>
            このパラメータを設定する場合、許容される最小値は 256K バイト、最大値は 4294967039 です。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-reservedsendbuffermemory"></a>
            <a class="indexterm" name="idm139979038616816"></a> <code class="literal">ReservedSendBufferMemory</code>
          </p><p>
            このパラメータは、MySQL Cluster NDB 6.4.0 以降の <code class="literal">NDBCLUSTER</code> のソースコード内にあります。しかし、現在は有効になっていません。
          </p><p>
            このパラメータは MySQL Cluster NDB 7.2 で非推奨になり、MySQL Cluster の今後のバージョンで削除される予定です (Bug #11760629、Bug #53053)。
          </p></li></ul></div><p>
        <code class="literal">TotalSendBufferMemory</code> の動作と使用、



        および MySQL Cluster での送信バッファーメモリーパラメータの構成の詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-config-send-buffers" title="18.3.2.12 MySQL Cluster の送信バッファーパラメータの構成">セクション18.3.2.12「MySQL Cluster の送信バッファーパラメータの構成」</a>を参照してください。
      </p><p>
        <a class="xref" href="mysql-cluster.html#mysql-cluster-online-add-node" title="18.5.13 MySQL Cluster データノードのオンライン追加">セクション18.5.13「MySQL Cluster データノードのオンライン追加」</a>も参照してください。
      </p><p><a name="mysql-cluster-redo-over-commit-handling"></a><b>Redo ログのオーバーコミット処理 </b>
          Redo ログをディスクにフラッシュする時間が長すぎる場合の、データノードによる操作の処理を制御できます。これは、特定の Redo ログのフラッシュが <code class="literal">RedoOverCommitLimit</code> 秒より長い時間をかけて <code class="literal">RedoOverCommitCounter</code> 回を超える回数分行われ、保留中のトランザクションが中止されたときに発生します。これが発生すると、トランザクションを送信した API ノードは、コミットされるはずだった操作を (<code class="literal">DefaultOperationRedoProblemAction</code> の指定に従って) キューに配置して再試行するか、中止することで処理できます。API ノードでこのアクションが実行される前に超過が許されるタイムアウトと回数を設定するためのデータノード構成パラメータについて、次のリストで説明します。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-redoovercommitcounter"></a>
            <a class="indexterm" name="idm139979038600496"></a> <code class="literal">RedoOverCommitCounter</code>
          </p><div class="informaltable"><a name="redoovercommitcounter-ndbd-table"></a><table summary="この表は、RedoOverCommitCounter データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>数値</td><td>3</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            特定の Redo ログをディスクに書き込もうとしたときに <code class="literal">RedoOverCommitLimit</code> を超過した回数がこの回数を超えると、結果としてコミットされなかったトランザクションはすべて中止され、トランザクションの発生元である API ノードは、これらのトランザクションを構成する操作を <code class="literal">DefaultOperationRedoProblemAction</code> の値に従って (操作をキューに入れて再試行するか、中止して) 処理します。
          </p><p>
            <code class="literal">RedoOverCommitCounter</code> のデフォルト値は 3 です。0 に設定すると、この制限は無効になります。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-redoovercommitlimit"></a>
            <a class="indexterm" name="idm139979038579120"></a> <code class="literal">RedoOverCommitLimit</code>
          </p><div class="informaltable"><a name="redoovercommitlimit-ndbd-table"></a><table summary="この表は、RedoOverCommitLimit データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>秒</td><td>20</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、特定の Redo ログをディスクに書き込もうとしたときにタイムアウトするまでの上限 (秒単位) を設定します。データノードがこの Redo ログをフラッシュしようとして <code class="literal">RedoOverCommitLimit</code> よりも長い時間がかかった回数が保存され、<code class="literal">RedoOverCommitCounter</code> と比較されます。フラッシュにかかる時間が長すぎた回数がこのパラメータの値より多くなったときは、フラッシュタイムアウトの結果としてコミットされなかったトランザクションがすべて中止されます。これが発生すると、トランザクションの発生元である API ノードは、これらのトランザクションを構成する操作を <code class="literal">DefaultOperationRedoProblemAction</code> の設定に従って (操作をキューに入れて再試行するか、中止することで) 処理します。
          </p><p>
            デフォルトでは、<code class="literal">RedoOverCommitLimit</code> は 20 秒です。0 に設定すると、Redo ログのフラッシュタイムアウトのチェックが無効になります。このパラメータは MySQL Cluster NDB 7.1.10 で追加されました。
          </p></li></ul></div><p><b>再起動試行の制御 </b>
          <code class="literal">MaxStartFailRetries</code> および <code class="literal">StartFailRetryDelay</code> データノード構成パラメータを使用すると、データノードによる起動失敗時の再起動試行を細かく制御できます。
        </p><p>
        <code class="literal">MaxStartFailRetries</code> は、データノードの起動を中止するまでに行われる再試行の合計数を制限します。<code class="literal">StartFailRetryDelay</code> は、再試行間の秒数を設定します。これらのパラメータをここに示します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-startfailretrydelay"></a>
            <a class="indexterm" name="idm139979038549568"></a> <code class="literal">StartFailRetryDelay</code>
          </p><div class="informaltable"><a name="startfailretrydelay-ndbd-table"></a><table summary="この表は、StartFailRetryDelay データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>0</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            このパラメータを使用して、データノードによる起動失敗時の再試行間の秒数を設定します。デフォルトは 0 (遅延なし) です。
          </p><p>
            <code class="literal">StopOnError</code> が 0 でない場合は、このパラメータと <code class="literal">MaxStartFailRetries</code> の両方が無視されます。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxstartfailretries"></a>
            <a class="indexterm" name="idm139979038530192"></a> <code class="literal">MaxStartFailRetries</code>
          </p><div class="informaltable"><a name="maxstartfailretries-ndbd-table"></a><table summary="この表は、MaxStartFailRetries データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>3</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            このパラメータを使用して、データノードによる起動失敗時の再試行回数を制限します。デフォルトは 3 回です。
          </p><p>
            <code class="literal">StopOnError</code> が 0 でない場合は、このパラメータと <code class="literal">StartFailRetryDelay</code> の両方が無視されます。
          </p></li></ul></div><p><a name="mysql-cluster-ndbd-definition-index-statistics-parameters"></a><b>NDB インデックス統計のパラメータ </b>
          <a class="indexterm" name="idm139979038510128"></a>次のリストのパラメータは、MySQL Cluster NDB 7.2.1 で導入された NDB インデックス統計の生成に関連しています。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-indexstatautocreate"></a>
            <a class="indexterm" name="idm139979038506368"></a> <code class="literal">IndexStatAutoCreate</code>
          </p><div class="informaltable"><a name="indexstatautocreate-ndbd-table"></a><table summary="この表は、IndexStatAutoCreate データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ブール</td><td>false</td><td>false、true</td><td>S</td></tr></tbody></table></div><p>
            インデックスが作成されたときの自動統計収集を有効または無効にします。デフォルトで無効になっています。
          </p><p>
            このパラメータは MySQL Cluster NDB 7.2.1 で追加されました。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-indexstatautoupdate"></a>
            <a class="indexterm" name="idm139979038488240"></a> <code class="literal">IndexStatAutoUpdate</code>
          </p><div class="informaltable"><a name="indexstatautoupdate-ndbd-table"></a><table summary="この表は、IndexStatAutoUpdate データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ブール</td><td>false</td><td>false、true</td><td>S</td></tr></tbody></table></div><p>
            インデックス変更のモニタリングを有効または無効にし、変更が検出される自動統計更新をトリガーします。更新をトリガーするために必要な変更の量およびレベルは、<code class="literal">IndexStatTriggerPct</code> および <code class="literal">IndexStatTriggerScale</code> オプションの設定によって決定されます。
          </p><p>
            このパラメータは MySQL Cluster NDB 7.2.1 で追加されました。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-indexstatsavesize"></a>
            <a class="indexterm" name="idm139979038467872"></a> <code class="literal">IndexStatSaveSize</code>
          </p><div class="informaltable"><a name="indexstatsavesize-ndbd-table"></a><table summary="この表は、IndexStatSaveSize データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>32768</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>IN</td></tr></tbody></table></div><p>
            <code class="literal">NDB</code> システムテーブルおよび <span class="command"><strong>mysqld</strong></span> メモリーキャッシュに保存される特定のインデックスの統計に対して許容される最大スペース (バイト単位)。これは、<code class="literal">IndexMemory</code> を消費します。
          </p><p>
            サイズ制限に関係なく、常に少なくとも 1 つのサンプルが生成されます。このサイズは、<code class="literal">IndexStatSaveScale</code> によって調整されます。
          </p><p>
            このパラメータは MySQL Cluster NDB 7.2.1 で追加されました。
          </p><p>
            大規模なインデックスでは、<code class="literal">IndexStatSaveSize</code> に指定されたサイズが <code class="literal">IndexStatTriggerPct</code> に 0.01 を掛けた値によって調整されます。これは、さらにインデックスサイズの底 2 の対数で乗算されます。<code class="literal">IndexStatTriggerPct</code> を 0 に設定すると、この調整が無効になります。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-indexstatsavescale"></a>
            <a class="indexterm" name="idm139979038441904"></a> <code class="literal">IndexStatSaveScale</code>
          </p><div class="informaltable"><a name="indexstatsavescale-ndbd-table"></a><table summary="この表は、IndexStatSaveScale データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>パーセンテージ</td><td>100</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>IN</td></tr></tbody></table></div><p>
            大規模なインデックスでは、<code class="literal">IndexStatSaveSize</code> に指定されたサイズが <code class="literal">IndexStatTriggerPct</code> に 0.01 を掛けた値によって調整されます。これは、さらにインデックスサイズの底 2 の対数で乗算されます。<code class="literal">IndexStatTriggerPct</code> を 0 に設定すると、この調整が無効になります。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-indexstattriggerpct"></a>
            <a class="indexterm" name="idm139979038421872"></a> <code class="literal">IndexStatTriggerPct</code>
          </p><div class="informaltable"><a name="indexstattriggerpct-ndbd-table"></a><table summary="この表は、IndexStatTriggerPct データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>パーセンテージ</td><td>100</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>IN</td></tr></tbody></table></div><p>
            インデックス統計更新をトリガーする更新内の変更割合。この値は、<code class="literal">IndexStatTriggerScale</code> によって調整されます。このトリガーを完全に無効にするには、<code class="literal">IndexStatTriggerPct</code> を 0 に設定します。
          </p><p>
            このパラメータは MySQL Cluster NDB 7.2.1 で追加されました。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-indexstattriggerscale"></a>
            <a class="indexterm" name="idm139979038401984"></a> <code class="literal">IndexStatTriggerScale</code>
          </p><div class="informaltable"><a name="indexstattriggerscale-ndbd-table"></a><table summary="この表は、IndexStatTriggerScale データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>パーセンテージ</td><td>100</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>IN</td></tr></tbody></table></div><p>
            大規模なインデックスでは、この量に 0.01 を掛けた値で <code class="literal">IndexStatTriggerPct</code> を調整します。値 0 で調整が無効になります。
          </p><p>
            このパラメータは MySQL Cluster NDB 7.2.1 で追加されました。
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-indexstatupdatedelay"></a>
            <a class="indexterm" name="idm139979038383008"></a> <code class="literal">IndexStatUpdateDelay</code>
          </p><div class="informaltable"><a name="indexstatupdatedelay-ndbd-table"></a><table summary="この表は、IndexStatUpdateDelay データノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-ndbd" title="18.3.3.1 MySQL Cluster データノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>秒</td><td>60</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>IN</td></tr></tbody></table></div><p>
            特定のインデックスの自動インデックス統計更新間の最小遅延 (秒数)。この変数を 0 に設定すると、遅延が無効になります。デフォルトは 60 秒です。
          </p><p>
            このパラメータは MySQL Cluster NDB 7.2.1 で追加されました。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-api-definition"></a>18.3.2.7 MySQL Cluster 内の SQL ノードおよびその他の API ノードの定義</h4></div></div></div><a class="indexterm" name="idm139979038364352"></a><a class="indexterm" name="idm139979038362208"></a><a class="indexterm" name="idm139979038360160"></a><p>
        <code class="filename">config.ini</code> ファイルの <code class="literal">[mysqld]</code> および <code class="literal">[api]</code> セクションでは、クラスタデータへのアクセスに使用される MySQL サーバー (SQL ノード) およびその他のアプリケーション (API ノード) が定義されます。示されているどのパラメータも必須ではありません。コンピュータ名またはホスト名が指定されていない場合は、任意のホストでこの SQL または API ノードを使用できます。
      </p><p>
        一般的には、<code class="literal">[mysqld]</code> セクションはクラスタへの SQL インタフェースを提供する MySQL サーバーを示すために使用され、<code class="literal">[api]</code> セクションはクラスタデータにアクセスする <span class="command"><strong>mysqld</strong></span> プロセス以外のアプリケーションのために使用されますが、この 2 つの指定は実際には同義です。たとえば、SQL ノードとして機能する MySQL サーバーのパラメータを <code class="literal">[api]</code> セクションに指定できます。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL Cluster 用の MySQL サーバーオプションについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-mysqld" title="18.3.4.2 MySQL Cluster 用の MySQL Server オプション">セクション18.3.4.2「MySQL Cluster 用の MySQL Server オプション」</a>を参照してください。MySQL Cluster に関連する MySQL サーバーシステム変数については、<a class="xref" href="mysql-cluster.html#mysql-cluster-system-variables" title="18.3.4.3 MySQL Cluster のシステム変数">セクション18.3.4.3「MySQL Cluster のシステム変数」</a>を参照してください。
        </p></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-api-id"></a>
            <a class="indexterm" name="idm139979038347184"></a> <code class="literal">Id</code>
          </p><div class="informaltable"><a name="id-api-table"></a><table summary="この表は、Id API ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-api" title="18.3.3.3 MySQL Cluster SQL ノードおよび API ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>[none]</td><td>1 - 255</td><td>IS</td></tr></tbody></table></div><p>
            <code class="literal">Id</code> は、すべてのクラスタ内部メッセージ内でノードを識別するために使用される整数値です。許容される値の範囲は、1-255 (これらを含む) です。この値は、ノードのタイプに関係なく、クラスタ内の各ノードで一意である必要があります。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              データノード ID は、使用する MySQL Cluster のバージョンに関係なく、49 未満である必要があります。多数のデータノードを配備する予定の場合は、API ノード (および管理ノード) のノード ID を 48 より大きい値に制限することをお勧めします。
            </p></div><p>
            <code class="literal">NodeId</code> は、API ノードを識別するときに使用することが推奨されるパラメータ名です。(<code class="literal">Id</code> は、下位互換性に引き続き対応しますが、現在は非推奨であり、使用時に警告を生成します。また、これは今後削除される予定です。)
          </p></li><li class="listitem"><p><a name="ndbparam-api-connectionmap"></a>
            <a class="indexterm" name="idm139979038325616"></a> <code class="literal">ConnectionMap</code>
          </p><div class="informaltable"><a name="connectionmap-api-table"></a><table summary="この表は、ConnectionMap API ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-api" title="18.3.3.3 MySQL Cluster SQL ノードおよび API ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>文字列</td><td>[none]</td><td>...</td><td>N</td></tr></tbody></table></div><p>
            接続するデータノードを指定します。
          </p></li><li class="listitem"><p><a name="ndbparam-api-nodeid"></a>
            <a class="indexterm" name="idm139979038309392"></a> <code class="literal">NodeId</code>
          </p><div class="informaltable"><a name="nodeid-api-table"></a><table summary="この表は、NodeId API ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-api" title="18.3.3.3 MySQL Cluster SQL ノードおよび API ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>[none]</td><td>1 - 255</td><td>IS</td></tr></tbody></table></div><p>
            <code class="literal">NodeId</code> は、すべてのクラスタ内部メッセージ内でノードを識別するために使用される整数値です。許容される値の範囲は、1-255 (これらを含む) です。この値は、ノードのタイプに関係なく、クラスタ内の各ノードで一意である必要があります。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              データノード ID は、使用する MySQL Cluster のバージョンに関係なく、49 未満である必要があります。多数のデータノードを配備する予定の場合は、API ノード (および管理ノード) のノード ID を 48 より大きい値に制限することをお勧めします。
            </p></div><p>
            <code class="literal">NodeId</code> は、管理ノードを識別するときに使用することが推奨されるパラメータ名です。MySQL Cluster の非常に古いバージョンでは、この目的のためにエイリアス (<code class="literal">Id</code>) が使用されていました。これは、下位互換性に引き続き対応していますが、現在は非推奨であり、使用時に警告を生成します。また、MySQL Cluster の今後のリリースで削除される予定です。
          </p></li><li class="listitem"><p><a name="ndbparam-api-executeoncomputer"></a>
            <a class="indexterm" name="idm139979038287584"></a> <code class="literal">ExecuteOnComputer</code>
          </p><div class="informaltable"><a name="executeoncomputer-api-table"></a><table summary="この表は、ExecuteOnComputer API ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-api" title="18.3.3.3 MySQL Cluster SQL ノードおよび API ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>name</td><td>[none]</td><td>...</td><td>S</td></tr></tbody></table></div><p>
            これは、構成ファイルの <code class="literal">[computer]</code> セクションに定義されたいずれかのコンピュータ (ホスト) に設定されている <code class="literal">Id</code> を参照します。
          </p></li><li class="listitem"><p><a name="ndbparam-api-hostname"></a>
            <a class="indexterm" name="idm139979038269728"></a> <code class="literal">HostName</code>
          </p><div class="informaltable"><a name="hostname-api-table"></a><table summary="この表は、HostName API ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-api" title="18.3.3.3 MySQL Cluster SQL ノードおよび API ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>名前または IP アドレス</td><td>[none]</td><td>...</td><td>N</td></tr></tbody></table></div><p>
            このパラメータを指定すると、SQL ノード (API ノード) が配置されるコンピュータのホスト名が定義されます。ホスト名を指定するには、このパラメータまたは <code class="literal">ExecuteOnComputer</code> のいずれかが必要です。
          </p><p>
            <code class="filename">config.ini</code> ファイルの特定の <code class="literal">[mysql]</code> または <code class="literal">[api]</code> セクションに <code class="literal">HostName</code> または <code class="literal">ExecuteOnComputer</code> が指定されていない場合、SQL または API ノードはネットワーク接続を確立できる任意のホストから対応する<span class="quote">「<span class="quote">スロット</span>」</span>を使用して管理サーバーホストマシンに接続できます。<span class="emphasis"><em>これは、ほかに指定されていない場合 <code class="literal">localhost</code> が <code class="literal">HostName</code> として使用されるデータノードのデフォルトの動作とは異なります</em></span>。
          </p></li><li class="listitem"><p><a name="ndbparam-api-arbitrationrank"></a>
            <a class="indexterm" name="idm139979038245424"></a> <code class="literal">ArbitrationRank</code>
          </p><div class="informaltable"><a name="arbitrationrank-api-table"></a><table summary="この表は、ArbitrationRank API ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-api" title="18.3.3.3 MySQL Cluster SQL ノードおよび API ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>0-2</td><td>0</td><td>0 - 2</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、アービトレータとして機能できるノードを定義します。管理ノードと SQL ノードの両方がアービトレータになることができます。値 0 は、指定されたノードがアービトレータとして使用されないことを意味します。値 1 は、ノードにアービトレータとしての高い優先度を与えます。値 2 は低い優先度を与えます。通常の構成では、管理サーバーの <code class="literal">ArbitrationRank</code> が 1 (管理ノードのデフォルト) に設定され、各 SQL ノードでは 0 (SQL ノードのデフォルト) に設定されるため、管理サーバーがアービトレータとして使用されます。
          </p><p>
            すべての管理および SQL ノードで <code class="literal">ArbitrationRank</code> を 0 に設定すると、アービトレーションを完全に無効化できます。このパラメーラをオーバーライドしてアービトレーションを制御することもできます。そのためには、<code class="filename">config.ini</code> グローバル構成ファイルの <code class="literal">[ndbd default]</code> セクションに <code class="literal">Arbitration</code> パラメータを設定します。
          </p></li><li class="listitem"><p><a name="ndbparam-api-arbitrationdelay"></a>
            <a class="indexterm" name="idm139979038223216"></a> <code class="literal">ArbitrationDelay</code>
          </p><div class="informaltable"><a name="arbitrationdelay-api-table"></a><table summary="この表は、ArbitrationDelay API ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-api" title="18.3.3.3 MySQL Cluster SQL ノードおよび API ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ミリ秒</td><td>0</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            このパラメータを 0 (デフォルト) 以外の値に設定すると、アービトレーション要求に対するアービトレータの応答が指定されたミリ秒数だけ遅延します。通常、この値を変更する必要はありません。
          </p></li><li class="listitem"><p><a name="ndbparam-api-batchbytesize"></a>
            <a class="indexterm" name="idm139979038206512"></a> <code class="literal">BatchByteSize</code>
          </p><div class="informaltable"><a name="batchbytesize-api-table"></a><table summary="この表は、BatchByteSize API ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-api" title="18.3.3.3 MySQL Cluster SQL ノードおよび API ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>16K</td><td>1024 - 1M</td><td>N</td></tr></tbody></table></div><p>
            フルテーブルスキャンまたはインデックスの範囲スキャンに変換されるクエリーでは、最良のパフォーマンスを得るため、適切にサイズ調整されたバッチでレコードをフェッチすることが重要です。レコード数 (<code class="literal">BatchSize</code>) とバイト数 (<code class="literal">BatchByteSize</code>) の両方で、適切なサイズを設定できます。実際のバッチサイズは両方のパラメータによって制限されます。
          </p><p>
            このパラメータの設定方法によっては、クエリーの実行速度の変化率が 40% を超える可能性があります。
          </p><p>
            このパラメータはバイト単位で測定されます。MySQL Cluster NDB 7.3 以降では、デフォルト値は 16K です。
          </p></li><li class="listitem"><p><a name="ndbparam-api-batchsize"></a>
            <a class="indexterm" name="idm139979038186080"></a> <code class="literal">BatchSize</code>
          </p><div class="informaltable"><a name="batchsize-api-table"></a><table summary="この表は、BatchSize API ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-api" title="18.3.3.3 MySQL Cluster SQL ノードおよび API ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>レコード</td><td>256</td><td>1 - 992</td><td>N</td></tr></tbody></table></div><p>
            このパラメータはレコード数で測定され、デフォルトで 256 に設定されます。最大サイズは 992 です。
          </p></li><li class="listitem"><p><a name="ndbparam-api-extrasendbuffermemory"></a>
            <a class="indexterm" name="idm139979038169360"></a> <code class="literal">ExtraSendBufferMemory</code>
          </p><div class="informaltable"><a name="extrasendbuffermemory-api-table"></a><table summary="この表は、ExtraSendBufferMemory API ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-api" title="18.3.3.3 MySQL Cluster SQL ノードおよび API ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>0</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、<code class="literal">TotalSendBufferMemory</code>、<code class="literal">SendBufferMemory</code>、またはその両方を使用して設定されたメモリーに加えて割り当てられるトランスポータ送信バッファーメモリーの量を指定します。
          </p></li><li class="listitem"><p><a name="ndbparam-api-heartbeatthreadpriority"></a>
            <a class="indexterm" name="idm139979038149968"></a> <code class="literal">HeartbeatThreadPriority</code>
          </p><div class="informaltable"><a name="heartbeatthreadpriority-api-table"></a><table summary="この表は、HeartbeatThreadPriority API ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-api" title="18.3.3.3 MySQL Cluster SQL ノードおよび API ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>文字列</td><td>[none]</td><td>...</td><td>S</td></tr></tbody></table></div><p>
            このパラメータを使用して、管理および API ノードのハートビートスレッドのスケジューリングポリシーと優先度を設定します。このパラメータを設定するための構文をここに示します。
          </p><pre class="programlisting">
HeartbeatThreadPriority = <em class="replaceable"><code>policy</code></em>[, <em class="replaceable"><code>priority</code></em>]

<em class="replaceable"><code>policy</code></em>:
  {FIFO | RR}
</pre><p>
            このパラメータを設定するときは、ポリシーを指定する必要があります。これは、<code class="literal">FIFO</code> (先入れ先出し) または <code class="literal">RR</code> (ラウンドロビン) のいずれかです。このあとに、オプションで優先度 (整数) を指定できます。
          </p></li><li class="listitem"><p><a name="ndbparam-api-maxscanbatchsize"></a>
            <a class="indexterm" name="idm139979038128640"></a> <code class="literal">MaxScanBatchSize</code>
          </p><div class="informaltable"><a name="maxscanbatchsize-api-table"></a><table summary="この表は、MaxScanBatchSize API ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-api" title="18.3.3.3 MySQL Cluster SQL ノードおよび API ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>256K</td><td>32K - 16M</td><td>N</td></tr></tbody></table></div><p>
            バッチサイズは、各データノードから送信される各バッチのサイズです。多数のノードから並列で受信される過大なデータ量から MySQL サーバーを保護するため、ほとんどのスキャンは並列で実行されます。このパラメータは、すべてのノードの合計バッチサイズに対する制限を設定します。
          </p><p>
            このパラメータのデフォルトの値は 256K バイトです。最大サイズは 16M バイトです。
          </p></li><li class="listitem"><p><a name="ndbparam-api-totalsendbuffermemory"></a>
            <a class="indexterm" name="idm139979038110880"></a> <code class="literal">TotalSendBufferMemory</code>
          </p><div class="informaltable"><a name="totalsendbuffermemory-api-table"></a><table summary="この表は、TotalSendBufferMemory API ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-api" title="18.3.3.3 MySQL Cluster SQL ノードおよび API ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>256K</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、すべての構成済みトランスポータ間で共有される送信バッファーメモリーの、このノードに割り当てられるメモリー合計量を決定するために使用されます。
          </p><p>
            このパラメータを設定する場合、許容される最小値は 256K バイト、最大値は 4294967039 です。<code class="literal">TotalSendBufferMemory</code> の動作と使用、および MySQL Cluster での送信バッファーメモリーパラメータの構成の詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-config-send-buffers" title="18.3.2.12 MySQL Cluster の送信バッファーパラメータの構成">セクション18.3.2.12「MySQL Cluster の送信バッファーパラメータの構成」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="ndbparam-api-autoreconnect"></a>
            <a class="indexterm" name="idm139979038091104"></a> <code class="literal">AutoReconnect</code>
          </p><div class="informaltable"><a name="autoreconnect-api-table"></a><table summary="この表は、AutoReconnect API ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-api" title="18.3.3.3 MySQL Cluster SQL ノードおよび API ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ブール</td><td>false</td><td>true、false</td><td>N</td></tr></tbody></table></div><p>
            このパラメータは、デフォルトで <code class="literal">false</code> です。これによって、切断された API ノード (SQL ノードとして機能する MySQL サーバーを含む) が既存の接続を再使用しようとせずに、クラスタへの新しい接続を強制的に使用するようになります (接続を再使用すると、動的に割り当てられたノード ID を使用するときに問題が発生することがあるため)。(Bug #45921)
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              このパラメータは、NDB API を使用してオーバーライドできます。詳細は、<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-ndb-cluster-connection-methods.html#ndb-ndb-cluster-connection-set-auto-reconnect" target="_top">Ndb_cluster_connection::set_auto_reconnect()</a> および <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-ndb-cluster-connection-methods.html#ndb-ndb-cluster-connection-get-auto-reconnect" target="_top">Ndb_cluster_connection::get_auto_reconnect()</a> を参照してください。
            </p></div></li><li class="listitem"><p><a name="ndbparam-api-defaultoperationredoproblemaction"></a>
            <a class="indexterm" name="idm139979038069680"></a> <code class="literal">DefaultOperationRedoProblemAction</code>
          </p><div class="informaltable"><a name="defaultoperationredoproblemaction-api-table"></a><table summary="この表は、DefaultOperationRedoProblemAction API ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-api" title="18.3.3.3 MySQL Cluster SQL ノードおよび API ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>列挙</td><td>QUEUE</td><td>ABORT、QUEUE</td><td>S</td></tr></tbody></table></div><p>
            このパラメータは、(<code class="literal">RedoOverCommitLimit</code> および <code class="literal">RedoOverCommitCounter</code> とともに) Redo ログをディスクにフラッシュする時間が長すぎる場合にデータノードによる操作の処理を制御します。これは、特定の Redo ログのフラッシュが <code class="literal">RedoOverCommitLimit</code> 秒より長い時間をかけて <code class="literal">RedoOverCommitCounter</code> 回を超える回数分行われ、保留中のトランザクションが中止されたときに発生します。
          </p><p>
            この発生時は、ノードはここに示す <code class="literal">DefaultOperationRedoProblemAction</code> の値に応じた 2 つの方法のいずれかで応答できます。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">ABORT</code>: 中止されたトランザクションに含まれる保留中の操作も中止されます。
              </p></li><li class="listitem"><p>
                <code class="literal">QUEUE</code>: 中止されたトランザクションに含まれる保留中の操作がキューに入れられ、再試行されます。
              </p></li></ul></div></li><li class="listitem"><p><a name="ndbparam-api-defaulthashmapsize"></a>
            <a class="indexterm" name="idm139979038042368"></a> <code class="literal">DefaultHashMapSize</code>
          </p><div class="informaltable"><a name="defaulthashmapsize-api-table"></a><table summary="この表は、DefaultHashMapSize API ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-api" title="18.3.3.3 MySQL Cluster SQL ノードおよび API ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>LDM スレッド</td><td>3840</td><td>0 - 3840</td><td>N</td></tr></tbody></table></div><p>
            MySQL Cluster NDB 7.2.7 以降では、前のリリース (240) より大きなテーブルハッシュマップのデフォルトサイズ (3840) が使用されます。MySQL Cluster NDB 7.2.11 以降では、このパラメータを使用して <code class="literal">NDB</code> が使用するテーブルハッシュマップのサイズを構成できます (以前は、この値はハードコーディングされていました)。<code class="literal">DefaultHashMapSize</code> には、3 つの値 (0、240、3840) のいずれかを指定できます。これらの値とその効果について、次の表で説明します。
          </p><div class="informaltable"><table summary="DefaultHashMapSize パラメータの値とその効果" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">値</th><th scope="col">説明/効果</th></tr></thead><tbody><tr><td scope="row"><code class="literal">0</code></td><td>クラスタ内のすべてのデータおよび API ノードの中で、このパラメータに設定されたもっとも小さい値を (あれば) 使用します。どのデータまたは API ノードにも設定されていない場合は、デフォルト値を使用します。</td></tr><tr><td scope="row"><code class="literal">240</code></td><td>MySQL Cluster NDB 7.2.7 より前のすべての MySQL Cluster リリースでデフォルトで使用されていた元のハッシュマップサイズです。</td></tr><tr><td scope="row"><code class="literal">3840</code></td><td>MySQL Cluster NDB 7.2.7 以降でデフォルトで使用される、より大きなハッシュマップサイズ</td></tr></tbody></table></div><p>
            このパラメータの主な用途は、より大きなハッシュマップサイズ (3840) がデフォルトである MySQL Cluster NDB 7.2.7 以降の MySQL Cluster バージョンと以前のリリース (デフォルトが 240 だった) との間のアップグレードと (特に) ダウングレードを容易にすることです。これは、この変更に下位互換性がない (Bug #14800539) ためです。このパラメータを 240 に設定してから、この値を使用している古いバージョンからのアップグレードを実行すると、クラスタはテーブルハッシュマップに対して引き続き小さいサイズを使用するため、アップグレード後のテーブルでも前のバージョンとの互換性が維持されます。<code class="literal">DefaultHashMapSize</code> は個々のデータノード、API ノード、またはその両方で設定できますが、<code class="filename">config.ini</code> ファイルの <code class="literal">[ndbd default]</code> セクションに一度だけ設定する方法をお勧めします。
          </p><p>
            このパラメータを増やしたあと、既存のテーブルで新しいサイズを利用するには、そのテーブルに対して <code class="literal">ALTER TABLE ... REORGANIZE PARTITION</code> を実行します。その後、そのテーブルでより大きなハッシュマップサイズを使用できるようになります。これは、ローリング再起動の実行に加えて行います。ローリング再起動を実行すると、より大きなハッシュマップを新しいテーブルで使用できるようになりますが、既存のテーブルでは使用できません。
          </p><p>
            <code class="literal">DefaultHashMapSize</code> を 3840 に設定してテーブルを作成または変更したあと、オンラインでこのパラメータを減らす方法は、現在サポートされていません。
          </p></li><li class="listitem"><p><a name="ndbparam-api-wan"></a>
            <a class="indexterm" name="idm139979038004112"></a> <code class="literal">Wan</code>
          </p><div class="informaltable"><a name="wan-api-table"></a><table summary="この表は、wan API ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-api" title="18.3.3.3 MySQL Cluster SQL ノードおよび API ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ブール</td><td>false</td><td>true、false</td><td>N</td></tr></tbody></table></div><p>
            WAN の TCP 設定をデフォルトとして使用します。
          </p></li><li class="listitem"><p><a name="ndbparam-api-connectbackoffmaxtime"></a>
            <a class="indexterm" name="idm139979037987584"></a> <code class="literal">ConnectBackoffMaxTime</code>
          </p><div class="informaltable"><a name="connectbackoffmaxtime-api-table"></a><table summary="この表は、ConnectBackoffMaxTime API ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-api" title="18.3.3.3 MySQL Cluster SQL ノードおよび API ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>整数</td><td>0</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            MySQL Cluster NDB 7.3.7 および MySQL Cluster NDB 7.4.2 以降では、MySQL Cluster 内に起動されていないデータノードが多数ある場合に、このパラメータの値を増やし、クラスタ内のまだ機能し始めていないデータノードへの接続試行を回避して、管理ノードへの大量のトラフィックを抑えることができます。API ノードが新しいデータノードに接続されていない場合は、<code class="literal">StartConnectBackoffMaxTime</code> パラメータの値が適用されます。それ以外の場合は、<code class="literal">ConnectBackoffMaxTime</code> を使用して接続試行間の待機時間の長さ (ミリ秒) が決定されます。
          </p><p>
            このパラメータの経過時間を計算する際に、ノードの接続試行<span class="emphasis"><em>中</em></span>に経過する時間は考慮されません。タイムアウトは、100 ミリ秒の遅延から始まり、約 100 ミリ秒の分解能で適用されます。後続の試行のたびに、<code class="literal">ConnectBackoffMaxTime</code> ミリ秒 (最大 100000 ミリ秒 (100 秒)) に達するまでこの期間の長さが倍加されます。
          </p><p>
            API ノードがデータノードに接続され、そのノードが (ハートビートメッセージで) ほかのデータノードに接続したことを報告すると、データノードに対する接続試行はこのパラメータの影響を受けなくなり、その後接続されるまで 100 ミリ秒間隔で行われます。データノードが起動すると、これが発生したことが API ノードに通知されるまでに <code class="literal">HeartbeatIntervalDbApi</code> を要します。
          </p></li><li class="listitem"><p><a name="ndbparam-api-startconnectbackoffmaxtime"></a>
            <a class="indexterm" name="idm139979037964176"></a> <code class="literal">StartConnectBackoffMaxTime</code>
          </p><div class="informaltable"><a name="startconnectbackoffmaxtime-api-table"></a><table summary="この表は、StartConnectBackoffMaxTime API ノード構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-api" title="18.3.3.3 MySQL Cluster SQL ノードおよび API ノードの構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>整数</td><td>1500</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            MySQL Cluster NDB 7.3.7 および MySQL Cluster NDB 7.4.2 以降では、MySQL Cluster 内に起動されていないデータノードが多数ある場合に、このパラメータの値を増やし、クラスタ内のまだ機能し始めていないデータノードへの接続試行を回避して、管理ノードへの大量のトラフィックを抑えることができます。API ノードが新しいデータノードに接続されていない場合は、<code class="literal">StartConnectBackoffMaxTime</code> パラメータの値が適用されます。それ以外の場合は、<code class="literal">ConnectBackoffMaxTime</code> を使用して接続試行間の待機時間の長さ (ミリ秒) が決定されます。
          </p><p>
            このパラメータの経過時間を計算する際に、ノードの接続試行<span class="emphasis"><em>中</em></span>に経過する時間は考慮されません。タイムアウトは、100 ミリ秒の遅延から始まり、約 100 ミリ秒の分解能で適用されます。後続の試行のたびに、<code class="literal">StartConnectBackoffMaxTime</code> ミリ秒 (最大 100000 ミリ秒 (100 秒)) に達するまでこの期間の長さが倍加されます。
          </p><p>
            API ノードがデータノードに接続され、そのノードが (ハートビートメッセージで) ほかのデータノードに接続したことを報告すると、データノードに対する接続試行はこのパラメータの影響を受けなくなり、その後接続されるまで 100 ミリ秒間隔で行われます。データノードが起動すると、これが発生したことが API ノードに通知されるまでに <code class="literal">HeartbeatIntervalDbApi</code> を要します。
          </p></li></ul></div><p>
        ここに示すように、<span class="command"><strong>mysql</strong></span> クライアントの <code class="literal">SHOW STATUS</code> を使用して、MySQL Cluster SQL ノードとして実行されている MySQL サーバーから情報を取得することもできます。
      </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SHOW STATUS LIKE 'ndb%';</code></strong>
+-----------------------------+---------------+
| Variable_name               | Value         |
+-----------------------------+---------------+
| Ndb_cluster_node_id         | 5             |
| Ndb_config_from_host        | 192.168.0.112 |
| Ndb_config_from_port        | 1186          |
| Ndb_number_of_storage_nodes | 4             |
+-----------------------------+---------------+
4 rows in set (0.02 sec)
</pre><p>
        このステートメントの出力に表示されるステータス変数については、<a class="xref" href="mysql-cluster.html#mysql-cluster-status-variables" title="18.3.4.4 MySQL Cluster のステータス変数">セクション18.3.4.4「MySQL Cluster のステータス変数」</a>を参照してください。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          実行中の MySQL Cluster の構成に新しい SQL または API ノードを追加するには、<code class="filename">config.ini</code> ファイル (複数の管理サーバーを使用する場合は複数のファイル) に新しい <code class="literal">[mysqld]</code> または <code class="literal">[api]</code> セクションを追加したあとで、すべてのクラスタノードのローリング再起動を実行する必要があります。これは、新しい SQL または API ノードをクラスタに接続する前に実行する必要があります。
        </p><p>
          新しい SQL または API ノードがクラスタ構成内の以前に使用されていない API スロットを使用してクラスタに接続する場合、クラスタの再起動を実行する必要は<span class="emphasis"><em>ありません</em></span>。
        </p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-tcp-definition"></a>18.3.2.8 MySQL クラスタの TCP/IP 接続</h4></div></div></div><p>
        TCP/IP は、MySQL Cluster に含まれるノード間のすべての接続で使用されるデフォルトのトランスポートメカニズムです。通常、TCP/IP 接続を定義する必要はありません。MySQL Cluster は、すべてのデータノード、管理ノード、および SQL または API ノードに対してそのような接続を自動的に設定します。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          このルールの例外については、<a class="xref" href="mysql-cluster.html#mysql-cluster-tcp-definition-direct" title="18.3.2.9 直接接続を使用する MySQL Cluster の TCP/IP 接続">セクション18.3.2.9「直接接続を使用する MySQL Cluster の TCP/IP 接続」</a>を参照してください。
        </p></div><p>
        デフォルトの接続パラメータをオーバーライドするには、<code class="filename">config.ini</code> ファイルで 1 つ以上の <code class="literal">[tcp]</code> セクションを使用して接続を定義する必要があります。各 <code class="literal">[tcp]</code> セクションは、2 つの MySQL Cluster クラスタノード間の TCP/IP 接続を定義します。これには、最低でも <code class="literal">NodeId1</code> および <code class="literal">NodeId2</code> パラメータと、オーバーライドする接続パラメータを含める必要があります。
      </p><p>
        これらのパラメータのデフォルト値を <code class="literal">[tcp default]</code> セクションに設定して変更することもできます。
      </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
          <code class="filename">config.ini</code> ファイル内の <code class="literal">[tcp]</code> セクションは、<span class="emphasis"><em>最後に</em></span> (ファイル内のほかのすべてのセクションのあとで) 指定するようにしてください。ただし、<code class="literal">[tcp default]</code> セクションについては、これは必須ではありません。この要件は、MySQL Cluster 管理サーバーが <code class="filename">config.ini</code> ファイルを読み取る方法に関する既知の問題です。
        </p></div><p>
        <code class="filename">config.ini</code> ファイルの <code class="literal">[tcp]</code> および <code class="literal">[tcp default]</code> セクションに設定できる接続パラメータをここに示します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-tcp-nodeid1"></a>
            <a class="indexterm" name="idm139979037911264"></a> <code class="literal">NodeId1</code>
          </p><div class="informaltable"><a name="nodeid1-tcp-table"></a><table summary="この表は、NodeId1 TCP 構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>数値</td><td>[none]</td><td>...</td><td>N</td></tr></tbody></table></div><p>
            2 つのノード間の接続を識別するには、構成ファイルの <code class="literal">[tcp]</code> セクションに <code class="literal">NodeId1</code> および <code class="literal">NodeId2</code> の値としてノード ID を指定する必要があります。これらは、各ノードに対する一意の <code class="literal">Id</code> 値であり、<a class="xref" href="mysql-cluster.html#mysql-cluster-api-definition" title="18.3.2.7 MySQL Cluster 内の SQL ノードおよびその他の API ノードの定義">セクション18.3.2.7「MySQL Cluster 内の SQL ノードおよびその他の API ノードの定義」</a>で説明しているものと同じです。
          </p></li><li class="listitem"><p><a name="ndbparam-tcp-nodeid2"></a>
            <a class="indexterm" name="idm139979037890864"></a> <code class="literal">NodeId2</code>
          </p><div class="informaltable"><a name="nodeid2-tcp-table"></a><table summary="この表は、NodeId2 TCP 構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>数値</td><td>[none]</td><td>...</td><td>N</td></tr></tbody></table></div><p>
            2 つのノード間の接続を識別するには、構成ファイルの <code class="literal">[tcp]</code> セクションに <code class="literal">NodeId1</code> および <code class="literal">NodeId2</code> の値としてノード ID を指定する必要があります。これらは、各ノードに対する一意の <code class="literal">Id</code> 値であり、<a class="xref" href="mysql-cluster.html#mysql-cluster-api-definition" title="18.3.2.7 MySQL Cluster 内の SQL ノードおよびその他の API ノードの定義">セクション18.3.2.7「MySQL Cluster 内の SQL ノードおよびその他の API ノードの定義」</a>で説明しているものと同じです。
          </p></li><li class="listitem"><p><a name="ndbparam-tcp-hostname1"></a>
            <a class="indexterm" name="idm139979037870464"></a> <code class="literal">HostName1</code>
          </p><div class="informaltable"><a name="hostname1-tcp-table"></a><table summary="この表は、HostName1 TCP 構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>名前または IP アドレス</td><td>[none]</td><td>...</td><td>N</td></tr></tbody></table></div><p>
            <code class="literal">HostName1</code> および <code class="literal">HostName2</code> パラメータを使用すると、2 つのノード間の特定の TCP 接続で使用する特定のネットワークインタフェースを指定できます。これらのパラメータに使用する値は、ホスト名または IP アドレスです。
          </p></li><li class="listitem"><p><a name="ndbparam-tcp-hostname2"></a>
            <a class="indexterm" name="idm139979037852144"></a> <code class="literal">HostName2</code>
          </p><div class="informaltable"><a name="hostname2-tcp-table"></a><table summary="この表は、HostName1 TCP 構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>名前または IP アドレス</td><td>[none]</td><td>...</td><td>N</td></tr></tbody></table></div><p>
            <code class="literal">HostName1</code> および <code class="literal">HostName2</code> パラメータを使用すると、2 つのノード間の特定の TCP 接続で使用する特定のネットワークインタフェースを指定できます。これらのパラメータに使用する値は、ホスト名または IP アドレスです。
          </p></li><li class="listitem"><p><a name="ndbparam-tcp-overloadlimit"></a>
            <a class="indexterm" name="idm139979037833776"></a> <code class="literal">OverloadLimit</code>
          </p><div class="informaltable"><a name="overloadlimit-tcp-table"></a><table summary="この表は、OverloadLimit TCP 構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>0</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            送信バッファーにこれより多くの未送信バイトがあるときは、接続が過負荷状態であるとみなされます。
          </p><p>
            このパラメータを使用すると、接続を過負荷状態であるとみなす前に送信バッファーに存在する未送信データ量を決定できます。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-config-send-buffers" title="18.3.2.12 MySQL Cluster の送信バッファーパラメータの構成">セクション18.3.2.12「MySQL Cluster の送信バッファーパラメータの構成」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="ndbparam-tcp-sendbuffermemory"></a>
            <a class="indexterm" name="idm139979037815776"></a> <code class="literal">SendBufferMemory</code>
          </p><div class="informaltable"><a name="sendbuffermemory-tcp-table"></a><table summary="この表は、SendBufferMemory TCP 構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>2M</td><td>256K - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            TCP トランスポータは、オペレーティングシステムに対する送信呼び出しを実行する前に、バッファーを使用してすべてのメッセージを格納します。このバッファーが 64K バイトに達すると、その内容が送信されます。これは、一連のメッセージが実行されたときにも送信されます。一時的な過負荷状態に対応するため、より大きな送信バッファーを定義することもできます。
          </p><p>
            このパラメータが明示的に設定されている場合は、メモリーが各トランスポータ専用でなくなります。代わりに、使用された値によって、(使用可能なメモリーの合計、つまり <code class="literal">TotalSendBufferMemory</code> のうち) 単一のトランスポータが使用できるメモリー量に関する厳密な制限が示されます。MySQL Cluster でトランスポータ送信バッファーメモリーの動的割り当てを構成する方法の詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-config-send-buffers" title="18.3.2.12 MySQL Cluster の送信バッファーパラメータの構成">セクション18.3.2.12「MySQL Cluster の送信バッファーパラメータの構成」</a>を参照してください。
          </p><p>
            送信バッファーのデフォルトサイズは 2M バイトです。これは、ほとんどの状況で推奨されるサイズです。最小サイズは 64K バイトです。理論的な最大は 4G バイトです。
          </p></li><li class="listitem"><p><a name="ndbparam-tcp-sendsignalid"></a>
            <a class="indexterm" name="idm139979037795040"></a> <code class="literal">SendSignalId</code>
          </p><div class="informaltable"><a name="sendsignalid-tcp-table"></a><table summary="この表は、SendSignalId TCP 構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ブール</td><td>[テキストを参照]</td><td>true、false</td><td>N</td></tr></tbody></table></div><p>
            配信されたメッセージデータグラムを再トレースできるようにするには、各メッセージを識別する必要があります。このパラメータを <code class="literal">Y</code> に設定すると、メッセージ ID がネットワーク経由で転送されます。この機能は、製品ビルドではデフォルトで無効になっており、<code class="literal">-debug</code> ビルドで有効になります。
          </p></li><li class="listitem"><p><a name="ndbparam-tcp-checksum"></a>
            <a class="indexterm" name="idm139979037776688"></a> <code class="literal">Checksum</code>
          </p><div class="informaltable"><a name="checksum-tcp-table"></a><table summary="この表は、Checksum TCP 構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ブール</td><td>false</td><td>true、false</td><td>N</td></tr></tbody></table></div><p>
            このパラメータはブールパラメータです (<code class="literal">Y</code> または <code class="literal">1</code> に設定すると有効になり、<code class="literal">N</code> または <code class="literal">0</code> に設定すると無効になります)。デフォルトでは無効になっています。有効にすると、送信バッファーに配置される前にすべてのメッセージのチェックサムが計算されます。この機能によって、メッセージが送信バッファーでの待機中に (またはトランスポートメカニズムによって) 破損していないことが確認されます。
          </p></li><li class="listitem"><p><a name="ndbparam-tcp-portnumber"></a>
            <a class="indexterm" name="idm139979037757008"></a> <code class="literal">PortNumber</code> (<span class="emphasis"><em>廃止</em></span>)
          </p><p>
            以前は、ほかのノードからの接続を待機するために使用するポート番号をこれで指定していました。このパラメータは今後使用しないようにしてください。代わりに <code class="literal">ServerPort</code> データノード構成パラメータを使用します。
          </p></li><li class="listitem"><p><a name="ndbparam-tcp-receivebuffermemory"></a>
            <a class="indexterm" name="idm139979037751216"></a> <code class="literal">ReceiveBufferMemory</code>
          </p><div class="informaltable"><a name="receivebuffermemory-tcp-table"></a><table summary="この表は、ReceiveBufferMemory TCP 構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>2M</td><td>16K - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            TCP/IP ソケットからデータを受信するときに使用するバッファーのサイズを指定します。
          </p><p>
            このパラメータのデフォルト値は 2M バイトです。指定可能な最小値は 16K バイトです。理論的な最大は 4G バイトです。
          </p></li><li class="listitem"><p><a name="ndbparam-tcp-tcp_rcv_buf_size"></a>
            <a class="indexterm" name="idm139979037733728"></a> <code class="literal">TCP_RCV_BUF_SIZE</code>
          </p><div class="informaltable"><a name="tcp_rcv_buf_size-tcp-table"></a><table summary="この表は、TCP_RCV_BUF_SIZE TCP 構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>70080</td><td>1 - 2G</td><td>N</td></tr><tr><td scope="row">NDB 7.3.1</td><td>符号なし</td><td>0</td><td>0 - 2G</td><td>N</td></tr></tbody></table></div><p>
            TCP トランスポータの初期化時に設定される受信バッファーのサイズを指定します。MySQL Cluster NDB 7.3.1 より前では、デフォルトは 70080、最小は 1 でした。MySQL Cluster NDB 7.3.1 以降では、デフォルトおよび最小値は 0 です。その場合は、オペレーティングシステムまたはプラットフォームによってこの値が設定されます。ほとんどの一般的な使用ケースでは、デフォルトが推奨されます。
          </p></li><li class="listitem"><p><a name="ndbparam-tcp-tcp_snd_buf_size"></a>
            <a class="indexterm" name="idm139979037714288"></a> <code class="literal">TCP_SND_BUF_SIZE</code>
          </p><div class="informaltable"><a name="tcp_snd_buf_size-tcp-table"></a><table summary="この表は、TCP_SND_BUF_SIZE TCP 構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>71540</td><td>1 - 2G</td><td>N</td></tr><tr><td scope="row">NDB 7.3.1</td><td>符号なし</td><td>0</td><td>0 - 2G</td><td>N</td></tr></tbody></table></div><p>
            TCP トランスポータの初期化時に設定される送信バッファーのサイズを指定します。MySQL Cluster NDB 7.3.1 より前では、デフォルトは 71540、最小は 1 でした。MySQL Cluster NDB 7.3.1 以降では、デフォルトおよび最小値は 0 です。その場合は、オペレーティングシステムまたはプラットフォームによってこの値が設定されます。ほとんどの一般的な使用ケースでは、デフォルトが推奨されます。
          </p></li><li class="listitem"><p><a name="ndbparam-tcp-tcp_maxseg_size"></a>
            <a class="indexterm" name="idm139979037694800"></a> <code class="literal">TCP_MAXSEG_SIZE</code>
          </p><div class="informaltable"><a name="tcp_maxseg_size-tcp-table"></a><table summary="この表は、TCP_MAXSEG_SIZE TCP 構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>0</td><td>0 - 2G</td><td>N</td></tr></tbody></table></div><p>
            TCP トランスポータの初期化時に設定されるメモリーのサイズを決定します。ほとんどの一般的な使用ケースでは、デフォルトが推奨されます。
          </p></li><li class="listitem"><p><a name="ndbparam-tcp-tcpbind_inaddr_any"></a>
            <code class="literal">TcpBind_INADDR_ANY</code>
          </p><p>
            このパラメータを <code class="literal">TRUE</code> または <code class="literal">1</code> に設定すると、<code class="literal">IP_ADDR_ANY</code> がバインドされ、任意の場所から接続できるようになります (自動生成接続の場合)。デフォルトは <code class="literal">FALSE</code> (<code class="literal">0</code>) です。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-tcp-definition-direct"></a>18.3.2.9 直接接続を使用する MySQL Cluster の TCP/IP 接続</h4></div></div></div><a class="indexterm" name="idm139979037671312"></a><a class="indexterm" name="idm139979037669168"></a><a class="indexterm" name="idm139979037666560"></a><p>
        データノード間の直接接続を使用するクラスタをセットアップするには、クラスタの <code class="filename">config.ini</code> ファイルの <code class="literal">[tcp]</code> セクションに、そのように接続されるデータノードのクロスオーバー IP アドレスを明示的に指定する必要があります。
      </p><p>
        次の例では、少なくとも 4 台 (管理サーバー、SQL ノード、および 2 つのデータノード用に 1 台ずつ) のホストを含むクラスタについて考えます。クラスタ全体が LAN の <code class="literal">172.23.72.*</code> サブネットに配置されています。次に示すように、通常のネットワーク接続に加えて、2 つのデータノードが標準のクロスオーバーケーブルにより直接接続されており、<code class="literal">1.1.0.*</code> アドレス範囲内の IP アドレスを使用して相互に直接通信します。
      </p><pre class="programlisting">
# Management Server
[ndb_mgmd]
Id=1
HostName=172.23.72.20

# SQL Node
[mysqld]
Id=2
HostName=172.23.72.21

# Data Nodes
[ndbd]
Id=3
HostName=172.23.72.22

[ndbd]
Id=4
HostName=172.23.72.23

# TCP/IP Connections
[tcp]
NodeId1=3
NodeId2=4
HostName1=1.1.0.1
HostName2=1.1.0.2
</pre><p>
        <code class="literal">HostName1</code> および <code class="literal">HostName2</code> パラメータは、直接接続を指定するときにのみ使用されます。
      </p><p>
        データノード間の直接 TCP 接続を使用すると、データノードがスイッチ、ハブ、ルーターなどの Ethernet デバイスをバイパスできるようになり、クラスタの待機時間が減るため、クラスタ全体の効率が向上する可能性があります。3 つ以上のデータノードでこのような直接接続を最大限に活用するには、各データノードと同じノードグループ内のほかのすべてのデータノート間で直接接続を行う必要があります。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-shm-definition"></a>18.3.2.10 MySQL Cluster の共有メモリー接続</h4></div></div></div><a class="indexterm" name="idm139979037653280"></a><a class="indexterm" name="idm139979037651136"></a><a class="indexterm" name="idm139979037649376"></a><a class="indexterm" name="idm139979037647296"></a><p>
        MySQL Cluster は、共有メモリートランスポータを使用し、可能な場合は自動的にそれを構成しようとします。<code class="filename">config.ini</code> ファイルの <code class="literal">[shm]</code> セクションでは、クラスタ内のノード間の共有メモリー接続を明示的に定義します。共有メモリーを接続方法として明示的に定義するときは、少なくとも <code class="literal">NodeId1</code>、<code class="literal">NodeId2</code>、および <code class="literal">ShmKey</code> を定義する必要があります。ほかのすべてのパラメータには、ほとんどのケースで適切に機能するデフォルト値があります。
      </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
          <span class="emphasis"><em>SHM 機能は、あくまでも実験的なものとみなされます</em></span>。これは現在のどの MySQL Cluster リリースでも公式にサポートされておらず、テスト結果から、トランスポータに TCP/IP を使用した場合に比べて SHM のパフォーマンスが明らかに優れているとは言えません。
        </p><p>
          これらの理由により、特定のケースで SHM が正しく機能するようになるかどうかは、ユーザー自身で、または無償のリソース (フォーラム、メーリングリスト) を使用して判定する必要があります。
        </p></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-shm-nodeid1"></a>
            <a class="indexterm" name="idm139979037634912"></a> <a class="indexterm" name="idm139979037633600"></a> <code class="literal">NodeId1</code>
          </p><div class="informaltable"><a name="nodeid1-shm-table"></a><table summary="この表は、NodeId1 共有メモリー構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>数値</td><td>[none]</td><td>...</td><td>N</td></tr></tbody></table></div><p>
            2 つのノード間の接続を識別するには、各ノードのノード識別子を <code class="literal">NodeId1</code> および <code class="literal">NodeId2</code> として指定する必要があります。
          </p></li><li class="listitem"><p><a name="ndbparam-shm-nodeid2"></a>
            <a class="indexterm" name="idm139979037614752"></a> <a class="indexterm" name="idm139979037613440"></a> <code class="literal">NodeId2</code>
          </p><div class="informaltable"><a name="nodeid2-shm-table"></a><table summary="この表は、NodeId2 共有メモリー構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>数値</td><td>[none]</td><td>...</td><td>N</td></tr></tbody></table></div><p>
            2 つのノード間の接続を識別するには、各ノードのノード識別子を <code class="literal">NodeId1</code> および <code class="literal">NodeId2</code> として指定する必要があります。
          </p></li><li class="listitem"><p><a name="ndbparam-shm-hostname1"></a>
            <a class="indexterm" name="idm139979037594592"></a> <code class="literal">HostName1</code>
          </p><div class="informaltable"><a name="hostname1-shm-table"></a><table summary="この表は、HostName1 共有メモリー構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>名前または IP アドレス</td><td>[none]</td><td>...</td><td>N</td></tr></tbody></table></div><p>
            <code class="literal">HostName1</code> および <code class="literal">HostName2</code> パラメータを使用すると、2 つのノード間の特定の SHM 接続で使用する特定のネットワークインタフェースを指定できます。これらのパラメータに使用する値は、ホスト名または IP アドレスです。
          </p></li><li class="listitem"><p><a name="ndbparam-shm-hostname2"></a>
            <a class="indexterm" name="idm139979037576256"></a> <code class="literal">HostName2</code>
          </p><div class="informaltable"><a name="hostname2-shm-table"></a><table summary="この表は、HostName1 共有メモリー構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>名前または IP アドレス</td><td>[none]</td><td>...</td><td>N</td></tr></tbody></table></div><p>
            <code class="literal">HostName1</code> および <code class="literal">HostName2</code> パラメータを使用すると、2 つのノード間の特定の SHM 接続で使用する特定のネットワークインタフェースを指定できます。これらのパラメータに使用する値は、ホスト名または IP アドレスです。
          </p></li><li class="listitem"><p><a name="ndbparam-shm-overloadlimit"></a>
            <a class="indexterm" name="idm139979037557872"></a> <code class="literal">OverloadLimit</code>
          </p><div class="informaltable"><a name="overloadlimit-shm-table"></a><table summary="この表は、OverloadLimit 共有メモリー構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>0</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            送信バッファーにこれより多くの未送信バイトがあるときは、接続が過負荷状態であるとみなされます。
          </p><p>
            このパラメータを使用すると、接続を過負荷状態であるとみなす前に送信バッファーに存在する未送信データ量を決定できます。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-config-send-buffers" title="18.3.2.12 MySQL Cluster の送信バッファーパラメータの構成">セクション18.3.2.12「MySQL Cluster の送信バッファーパラメータの構成」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="ndbparam-shm-shmkey"></a>
            <a class="indexterm" name="idm139979037539904"></a> <code class="literal">ShmKey</code>
          </p><div class="informaltable"><a name="shmkey-shm-table"></a><table summary="この表は、ShmKey 共有メモリー構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>[none]</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            共有メモリーセグメントを設定するときは、整数で表されるノード ID を使用して、通信に使用する共有メモリーセグメントを一意に識別します。デフォルト値はありません。
          </p></li><li class="listitem"><p><a name="ndbparam-shm-shmsize"></a>
            <a class="indexterm" name="idm139979037523040"></a> <code class="literal">ShmSize</code>
          </p><div class="informaltable"><a name="shmsize-shm-table"></a><table summary="この表は、ShmSize 共有メモリー構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>1M</td><td>64K - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            各 SHM 接続には、送信側と読み取り側でノード間のメッセージを配置する共有メモリーセグメントがあります。このセグメントのサイズは <code class="literal">ShmSize</code> で定義されます。デフォルト値は 1M バイトです。
          </p></li><li class="listitem"><p><a name="ndbparam-shm-sendsignalid"></a>
            <a class="indexterm" name="idm139979037505072"></a> <code class="literal">SendSignalId</code>
          </p><div class="informaltable"><a name="sendsignalid-shm-table"></a><table summary="この表は、SendSignalId 共有メモリー構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ブール</td><td>false</td><td>true、false</td><td>N</td></tr></tbody></table></div><p>
            配信されたメッセージの経路をたどるには、各メッセージに一意の識別子を設定する必要があります。このパラメータを <code class="literal">Y</code> に設定すると、メッセージ ID もネットワーク経由で転送されるようになります。この機能は、製品ビルドではデフォルトで無効になっており、<code class="literal">-debug</code> ビルドで有効になります。
          </p></li><li class="listitem"><p><a name="ndbparam-shm-checksum"></a>
            <a class="indexterm" name="idm139979037486736"></a> <code class="literal">Checksum</code>
          </p><div class="informaltable"><a name="checksum-shm-table"></a><table summary="この表は、Checksum 共有メモリー構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ブール</td><td>true</td><td>true、false</td><td>N</td></tr></tbody></table></div><p>
            このパラメータはブール (<code class="literal">Y</code>/<code class="literal">N</code>) パラメータであり、デフォルトで無効になっています。有効にすると、送信バッファーに配置される前にすべてのメッセージのチェックサムが計算されます。
          </p><p>
            この機能によって、送信バッファーで待機中のメッセージの破損が回避されます。これは、トランスポート時のデータ破損に対するチェックとしても機能します。
          </p></li><li class="listitem"><p><a name="ndbparam-shm-signum"></a>
            <a class="indexterm" name="idm139979037467872"></a> <code class="literal">SigNum</code>
          </p><div class="informaltable"><a name="signum-shm-table"></a><table summary="この表は、Signum 共有メモリー構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>[none]</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            共有メモリートランスポータを使用すると、共有メモリー内に使用可能な新しいデータが発生したときに、プロセスからもう一方のプロセスにオペレーティングシステムシグナルが送信されます。そのシグナルが既存のシグナルと競合する場合は、このパラメータを使用して変更できます。これは、SHM の使用時に、異なるオペレーティングシステムで異なるシグナル番号が使用されるために発生する可能性があります。
          </p><p>
            <code class="literal">SigNum</code> のデフォルト値は 0 です。したがって、共有メモリートランスポータの使用時にクラスタログ内のエラーを回避するために、これを設定する必要があります。通常、このパラメータは <code class="filename">config.ini</code> ファイルの <code class="literal">[shm default]</code> セクションで 10 に設定します。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-sci-definition"></a>18.3.2.11 MySQL Cluster での SCI トランスポート接続</h4></div></div></div><a class="indexterm" name="idm139979037446928"></a><a class="indexterm" name="idm139979037444784"></a><a class="indexterm" name="idm139979037442864"></a><a class="indexterm" name="idm139979037440672"></a><p>
        <code class="filename">config.ini</code> ファイルの <code class="literal">[sci]</code> セクションでは、クラスタノード間の SCI (スケーラブルコヒーラントインタフェース) 接続が明示的に定義されます。MySQL Cluster での SCI トランスポータの使用は、<code class="option">--with-ndb-sci=<em class="replaceable"><code>/your/path/to/SCI</code></em></code> を使用して MySQL バイナリがビルドされている場合にのみサポートされます。<em class="replaceable"><code>path</code></em> には、最低でも SISCI のライブラリとヘッダーファイルを含む <code class="filename">lib</code> および <code class="filename">include</code> ディレクトリを含むディレクトリを指定するようにしてください。(SCI の詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-interconnects" title="18.3.5 MySQL Cluster での高速インターコネクトの使用">セクション18.3.5「MySQL Cluster での高速インターコネクトの使用」</a>を参照してください。)
      </p><p>
        また、SCI には専用のハードウェアが必要です。
      </p><p>
        <span class="command"><strong>ndbd</strong></span> プロセス間の通信にのみ SCI トランスポータを使用することを強くお勧めします。SCI トランスポータを使用すると <span class="command"><strong>ndbd</strong></span> プロセスがスリープしないことにも注意してください。このため、<span class="command"><strong>ndbd</strong></span> プロセスが少なくとも 2 個の CPU を専用で使用できるマシンでのみ、SCI トランスポータを使用するようにしてください。<span class="command"><strong>ndbd</strong></span> プロセスごとに少なくとも 1 つの CPU と、オペレーティングシステムのアクティビティーを処理するために少なくとも 1 つの CPU を予備として残します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-sci-nodeid1"></a>
            <a class="indexterm" name="idm139979037425712"></a> <a class="indexterm" name="idm139979037424400"></a> <code class="literal">NodeId1</code>
          </p><div class="informaltable"><a name="nodeid1-sci-table"></a><table summary="この表は、NodeId1 SCI 構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>数値</td><td>[none]</td><td>...</td><td>N</td></tr></tbody></table></div><p>
            2 つのノード間の接続を識別するには、各ノードのノード識別子を <code class="literal">NodeId1</code> および <code class="literal">NodeId2</code> として指定する必要があります。
          </p></li><li class="listitem"><p><a name="ndbparam-sci-nodeid2"></a>
            <a class="indexterm" name="idm139979037405568"></a> <a class="indexterm" name="idm139979037404256"></a> <code class="literal">NodeId2</code>
          </p><div class="informaltable"><a name="nodeid2-sci-table"></a><table summary="この表は、NodeId2 SCI 構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>数値</td><td>[none]</td><td>...</td><td>N</td></tr></tbody></table></div><p>
            2 つのノード間の接続を識別するには、各ノードのノード識別子を <code class="literal">NodeId1</code> および <code class="literal">NodeId2</code> として指定する必要があります。
          </p></li><li class="listitem"><p><a name="ndbparam-sci-host1sciid0"></a>
            <a class="indexterm" name="idm139979037385440"></a> <code class="literal">Host1SciId0</code>
          </p><div class="informaltable"><a name="host1sciid0-sci-table"></a><table summary="この表は、Host1SciId0 SCI 構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>[none]</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            これは、(<code class="literal">NodeId1</code> によって識別される) 1 つ目のクラスタノード上の SCI ノード ID を識別します。
          </p></li><li class="listitem"><p><a name="ndbparam-sci-host1sciid1"></a>
            <code class="literal">Host1SciId1</code>
          </p><div class="informaltable"><a name="host1sciid1-sci-table"></a><table summary="この表は、Host1SciId1 SCI 構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>0</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            ノード間で別個のネットワークを使用する 2 つの SCI カード間のフェイルオーバー用に SCI トランスポータを設定できます。これは、1 つ目のノードで使用されるノード ID と 2 つ目の SCI カードを識別します。
          </p></li><li class="listitem"><p><a name="ndbparam-sci-host2sciid0"></a>
            <code class="literal">Host2SciId0</code>
          </p><div class="informaltable"><a name="host2sciid0-sci-table"></a><table summary="この表は、Host2SciId0 SCI 構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>[none]</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            これは、(<code class="literal">NodeId2</code> によって識別される) 2 つ目のクラスタノード上の SCI ノード ID を識別します。
          </p></li><li class="listitem"><p><a name="ndbparam-sci-host2sciid1"></a>
            <code class="literal">Host2SciId1</code>
          </p><div class="informaltable"><a name="host2sciid1-sci-table"></a><table summary="この表は、Host2SciId1 SCI 構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>0</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            2 つの SCI カードを使用してフェイルオーバーを提供するときに、このパラメータは 2 つ目のノードで使用される 2 つ目の SCI カードを識別します。
          </p></li><li class="listitem"><p><a name="ndbparam-sci-hostname1"></a>
            <a class="indexterm" name="idm139979037320288"></a> <code class="literal">HostName1</code>
          </p><div class="informaltable"><a name="hostname1-sci-table"></a><table summary="この表は、HostName1 SCI 構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>名前または IP アドレス</td><td>[none]</td><td>...</td><td>N</td></tr></tbody></table></div><p>
            <code class="literal">HostName1</code> および <code class="literal">HostName2</code> パラメータを使用すると、2 つのノード間の特定の SCI 接続で使用する特定のネットワークインタフェースを指定できます。これらのパラメータに使用する値は、ホスト名または IP アドレスです。
          </p></li><li class="listitem"><p><a name="ndbparam-sci-hostname2"></a>
            <a class="indexterm" name="idm139979037301968"></a> <code class="literal">HostName2</code>
          </p><div class="informaltable"><a name="hostname2-sci-table"></a><table summary="この表は、HostName1 SCI 構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>名前または IP アドレス</td><td>[none]</td><td>...</td><td>N</td></tr></tbody></table></div><p>
            <code class="literal">HostName1</code> および <code class="literal">HostName2</code> パラメータを使用すると、2 つのノード間の特定の SCI 接続で使用する特定のネットワークインタフェースを指定できます。これらのパラメータに使用する値は、ホスト名または IP アドレスです。
          </p></li><li class="listitem"><p><a name="ndbparam-sci-sharedbuffersize"></a>
            <a class="indexterm" name="idm139979037283760"></a> <code class="literal">SharedBufferSize</code>
          </p><div class="informaltable"><a name="sharedbuffersize-sci-table"></a><table summary="この表は、SharedBufferSize SCI 構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>10M</td><td>64K - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            各 SCI トランスポートには、2 つのノード間の通信に使用される共有メモリーセグメントがあります。ほとんどのアプリケーションでは、このセグメントのサイズをデフォルト値の 1M バイトに設定すれば十分です。より小さい値を使用すると、多数の並列挿入を実行するときに問題が発生する可能性があります。共有バッファーが小さすぎる場合は、これによって <span class="command"><strong>ndbd</strong></span> プロセスがクラッシュする可能性もあります。
          </p></li><li class="listitem"><p><a name="ndbparam-sci-sendlimit"></a>
            <code class="literal">SendLimit</code> <a class="indexterm" name="idm139979037265072"></a>
          </p><div class="informaltable"><a name="sendlimit-sci-table"></a><table summary="この表は、SendLimit SCI 構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>符号なし</td><td>8K</td><td>128 - 32K</td><td>N</td></tr></tbody></table></div><p>
            SCI ネットワークで転送されるメッセージは、その前に SCI メディアの直前の小さなバッファーに保存されます。デフォルトでは、これは 8K バイトに設定されます。弊社のベンチマークによれば、64K バイトでパフォーマンスが最高になりますが、16K バイトではこの数パーセント以内であり、8K バイトを超える値に増やしても利点は (あるとしても) ほとんどありませんでした。
          </p></li><li class="listitem"><p><a name="ndbparam-sci-sendsignalid"></a>
            <a class="indexterm" name="idm139979037248960"></a> <code class="literal">SendSignalId</code>
          </p><div class="informaltable"><a name="sendsignalid-sci-table"></a><table summary="この表は、SendSignalId SCI 構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ブール</td><td>true</td><td>true、false</td><td>N</td></tr></tbody></table></div><p>
            配信されたメッセージをトレースするには、各メッセージを一意に識別する必要があります。このパラメータを <code class="literal">Y</code> に設定すると、メッセージ ID がネットワーク経由で転送されます。この機能は、製品ビルドではデフォルトで無効になっており、<code class="literal">-debug</code> ビルドで有効になります。
          </p></li><li class="listitem"><p><a name="ndbparam-sci-checksum"></a>
            <a class="indexterm" name="idm139979037230688"></a> <code class="literal">Checksum</code>
          </p><div class="informaltable"><a name="checksum-sci-table"></a><table summary="この表は、Checksum SCI 構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>ブール</td><td>false</td><td>true、false</td><td>N</td></tr></tbody></table></div><p>
            このパラメータはブール値であり、デフォルトで無効になっています。<code class="literal">Checksum</code> を有効にすると、送信バッファーに配置される前にすべてのメッセージのチェックサムが計算されます。この機能によって、送信バッファーで待機中のメッセージの破損が回避されます。これは、トランスポート時のデータ破損に対するチェックとしても機能します。
          </p></li><li class="listitem"><p><a name="ndbparam-sci-overloadlimit"></a>
            <a class="indexterm" name="idm139979037212976"></a> <code class="literal">OverloadLimit</code>
          </p><div class="informaltable"><a name="overloadlimit-sci-table"></a><table summary="この表は、OverloadLimit SCI 構成パラメータの型と値の情報を示しています" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"><col class="restart"></colgroup><thead><tr><th scope="col">有効なバージョン</th><th scope="col">型/単位</th><th scope="col">デフォルト</th><th scope="col">範囲/値</th><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-params-other" title="18.3.3.4 その他の MySQL Cluster 構成パラメータ">再起動タイプ</a></th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>バイト</td><td>0</td><td>0 - 4294967039 (0xFFFFFEFF)</td><td>N</td></tr></tbody></table></div><p>
            送信バッファーにこれより多くの未送信バイトがあるときは、接続が過負荷状態であるとみなされます。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-config-send-buffers" title="18.3.2.12 MySQL Cluster の送信バッファーパラメータの構成">セクション18.3.2.12「MySQL Cluster の送信バッファーパラメータの構成」</a>を参照してください。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-config-send-buffers"></a>18.3.2.12 MySQL Cluster の送信バッファーパラメータの構成</h4></div></div></div><p>
        以前の NDB カーネルでは、クラスタ内の各ノードに対してサイズが 2M バイトに固定された送信バッファーが採用され、このバッファーはノードの起動時に割り当てられていました。このバッファーのサイズは、クラスタの起動後に変更できなかったため、事前にトランスポータソケットに対する最大負荷に対応できる十分な大きさにする必要がありました。しかし、多くの場合ほとんどのメモリーが使用されないため、これは非効率的なメモリーの使用方法であり、その結果多数の API ノードに対応して拡張したときに、大量のリソースが浪費される可能性がありました。
      </p><p>
        この問題は、最終的には (MySQL Cluster NDB 7.0 で) すべてのトランスポータが共有するプールからメモリーを動的に割り当てる統合された送信バッファーを採用することで解決されました。これにより、送信バッファーのサイズを必要に応じて調整できます。統合された送信バッファーの構成は、次のパラメータを設定すると実現できます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>TotalSendBufferMemory </b>
              このパラメータは、すべてのタイプの MySQL Cluster ノードに対して設定できます。つまり、<code class="filename">config.ini</code> ファイルの <code class="literal">[ndbd]</code>、<code class="literal">[mgm]</code>、および <code class="literal">[api]</code> (または <code class="literal">[mysql]</code>) セクションに設定できます。これは、各ノードによって割り当てられ、すべての構成済みトランスポータ間での使用に設定されるメモリーの合計量 (バイト単位) を表します。設定する場合、その最小は 256K バイト、最大は 4294967039 です。
            </p><p>
            既存の構成との下位互換性を確保するため、このパラメータのデフォルト値は、すべての構成済みトランスポータの最大送信バッファーサイズの合計にトランスポータあたり 32K バイト (1 ページ) を加えた値になっています。最大は、次の表に示すように、トランスポータのタイプによって異なります。
          </p><div class="informaltable"><table summary="この表は、トランスポータのタイプと最大送信バッファーサイズ (バイト) を示しています。" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">トランスポータ</th><th scope="col">最大送信バッファーサイズ (バイト)</th></tr></thead><tbody><tr><td scope="row">TCP</td><td><code class="literal">SendBufferMemory</code> (デフォルト = 2M)</td></tr><tr><td scope="row">SCI</td><td><code class="literal">SendLimit</code> (デフォルト = 8K) + 16K</td></tr><tr><td scope="row">SHM</td><td>20K</td></tr></tbody></table></div><p>
            これにより、既存の構成が MySQL Cluster NDB 6.3 以前とほぼ同じように機能し、各トランスポータで同じ量のメモリーと送信バッファースペースを使用できます。ただし、特定のトランスポータで使用されていないメモリーは、ほかのトランスポータでも使用できません。
          </p></li><li class="listitem"><p><b>OverloadLimit </b>
              このパラメータは、<code class="literal">config.ini</code> ファイルの <code class="literal">[tcp]</code> セクションで使用され、接続が過負荷状態であるとみなされる前に送信バッファーに存在する未送信データの量 (バイト単位) を表します。このような過負荷状態が発生すると、過負荷の接続に影響を与えるトランザクションが失敗し、過負荷のステータスが終了するまで次のエラーが発生します: NDB API エラー 1218 (<span class="errortext">Send Buffers overloaded in NDB kernel</span>)。デフォルト値は 0 です。その場合、特定の接続に対する実質的な過負荷の制限は <code class="literal">SendBufferMemory * 0.8</code> として計算されます。このパラメータの最大値は 4G です。
            </p></li><li class="listitem"><p><b>SendBufferMemory </b>
              この値は、単一のトランスポータが <code class="literal">TotalSendBufferMemory</code> で指定されたプール全体から使用できるメモリー量に対する厳密な制限を表します。ただし、すべての構成済みトランスポータの <code class="literal">SendBufferMemory</code> の合計は、特定のノードに対して設定された <code class="literal">TotalSendBufferMemory</code> より大きくなることがあります。多数のノードが使用されているときは、すべてのトランスポータがメモリーの最大量を同時に必要としないかぎり、このような方法でメモリーが節約されます。
            </p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-params-overview"></a>18.3.3 MySQL Cluster 構成パラメータの概要</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-params-ndbd">18.3.3.1 MySQL Cluster データノードの構成パラメータ</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-params-mgmd">18.3.3.2 MySQL Cluster 管理ノードの構成パラメータ</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-params-api">18.3.3.3 MySQL Cluster SQL ノードおよび API ノードの構成パラメータ</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-params-other">18.3.3.4 その他の MySQL Cluster 構成パラメータ</a></span></dt></dl></div><a class="indexterm" name="idm139979037160432"></a><a class="indexterm" name="idm139979037158320"></a><p>
      次の 4 つのセクションでは、クラスタの機能を管理するために <code class="filename">config.ini</code> ファイルで使用される MySQL Cluster 構成パラメータのサマリー表を示します。各表は、クラスタノードプロセスのいずれかのタイプ (<span class="command"><strong>ndbd</strong></span>、<span class="command"><strong>ndb_mgmd</strong></span>、および <span class="command"><strong>mysqld</strong></span>) に対応するパラメータのリストであり、パラメータのタイプと、場合に応じてそのデフォルト、最小、および最大値を含んでいます。
    </p><p>
      これらの表は、特定の構成パラメータの値を変更するために必要な再起動のタイプ (ノードの再起動またはシステムの再起動) と、<code class="option">--initial</code> を指定して再起動を実行する必要があるかどうかも示しています。
    </p><p>
      ノードの再起動またはノードの初期再起動を実行するときは、クラスタのすべてのデータノードを順に再起動する必要があります (<em class="firstterm">ローリング再起動</em>とも呼ばれます)。<code class="literal">node</code> としてマークされたクラスタ構成パラメータは、オンラインで (つまり、この方法でクラスタをシャットダウンすることなく) 更新できます。ノードの初期再起動では、<code class="option">--initial</code> オプションを指定して各 <span class="command"><strong>ndbd</strong></span> プロセスを再起動する必要があります。
    </p><p>
      システムの再起動では、クラスタ全体を完全にシャットダウンして再起動する必要があります。システムの初期再起動では、クラスタのバックアップを取り、シャットダウン後にクラスタファイルシステムを消去して、再起動後にバックアップからリストアする必要があります。
    </p><p>
      どのクラスタ再起動でも、クラスタのすべての管理サーバーを再起動して、更新された構成パラメータ値を読み取ることができるようにする必要があります。
    </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
        数値型のクラスタパラメータの値は通常問題なく増やすことができますが、そのような調整は比較的小さいインクリメントで徐々に行うことをお勧めします。多くのパラメータは、ローリング再起動を使用してオンラインで増やすことができます。
      </p><p>
        ただし、このようなパラメータ値の削減は、ノードの再起動、ノードの初期再起動、またはクラスタの完全なシステムの再起動のどれを使用するかに関係なく、安易に行うべきではありません。その場合は、事前に入念な計画とテストを行うことをお勧めします。これは、メモリー使用やディスクスペースに関連するパラメータ (<code class="literal">MaxNoOfTables</code>、<code class="literal">MaxNoOfOrderedIndexes</code>、<code class="literal">MaxNoOfUniqueHashIndexes</code> など) に関して特に当てはまります。さらに、一般的には、メモリーおよびディスク使用に関連する構成パラメータは単純なノードの再起動により値を増やすことができますが、値を減らすにはノードの初期再起動が必要になります。
      </p></div><p>
      これらのパラメータの一部は、複数のタイプのクラスタノードの構成に使用できるため、複数の表に表示されている場合があります。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        これらの表では、多くの場合、最大値として <code class="literal">4294967039</code> が表示されています。この値は、<code class="literal">NDBCLUSTER</code> のソースで <code class="literal">MAX_INT_RNIL</code> として定義されており、<code class="literal">0xFFFFFEFF</code>、または <code class="literal">2<sup>32</sup> - 2<sup>8</sup> - 1</code> と等価です。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-params-ndbd"></a>18.3.3.1 MySQL Cluster データノードの構成パラメータ</h4></div></div></div><a class="indexterm" name="idm139979037130624"></a><a class="indexterm" name="idm139979037128512"></a><a class="indexterm" name="idm139979037127280"></a><p>
        このセクションのサマリー表では、MySQL Cluster データノードを構成するために <code class="filename">config.ini</code> ファイルの <code class="literal">[ndbd]</code> または <code class="literal">[ndbd default]</code> セクションで使用されるパラメータについて説明します。これらの各パラメータに関する詳しい説明およびその他の追加情報については、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndbd-definition" title="18.3.2.6 MySQL Cluster データノードの定義">セクション18.3.2.6「MySQL Cluster データノードの定義」</a>を参照してください。
      </p><p>
        これらのパラメータは、<span class="command"><strong>ndbd</strong></span> のマルチスレッドバージョンである <span class="command"><strong>ndbmtd</strong></span> にも適用されます。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="18.4.3 ndbmtd — MySQL Cluster データノードデーモン (マルチスレッド)">セクション18.4.3「<span class="command"><strong>ndbmtd</strong></span> — MySQL Cluster データノードデーモン (マルチスレッド)」</a>を参照してください。
      </p><p><b>再起動のタイプ </b>
          MySQL Cluster 構成パラメータの変更は、クラスタが再起動されるまで有効になりません。サマリー表では、特定のパラメータの変更に必要な再起動のタイプを次のように示します。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">N</code> - ノードの再起動: このパラメータは、ローリング再起動を使用して更新できます (<a class="xref" href="mysql-cluster.html#mysql-cluster-rolling-restart" title="18.5.5 MySQL Cluster のローリング再起動の実行">セクション18.5.5「MySQL Cluster のローリング再起動の実行」</a>を参照してください)。
          </p></li><li class="listitem"><p>
            <code class="literal">S</code> - システムの再起動: このパラメータの変更を有効にするには、クラスタを完全にシャットダウンしてから再起動する必要があります。
          </p></li><li class="listitem"><p>
            <code class="literal">I</code> - 初期再起動: <code class="option">--initial</code> オプションを使用してデータノードを再起動する必要があります。
          </p></li></ul></div><p>
        再起動のタイプの詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-params-overview" title="18.3.3 MySQL Cluster 構成パラメータの概要">セクション18.3.3「MySQL Cluster 構成パラメータの概要」</a>を参照してください。
      </p><p>
        MySQL Cluster NDB 7.3 以降では、新しいデータノードグループを実行中のクラスタにオンラインで追加する方法がサポートされます。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-online-add-node" title="18.5.13 MySQL Cluster データノードのオンライン追加">セクション18.5.13「MySQL Cluster データノードのオンライン追加」</a>を参照してください。
      </p><div class="table"><a name="ndbparam-summary-table-ndbd"></a><p class="title"><b>表 18.1 データノード構成パラメータ</b></p><div class="table-contents"><table summary="この表は、MySQL Cluster データノード構成パラメータを示しています" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"><col class="c4"></colgroup><thead><tr><th scope="col" rowspan="3" align="left" valign="middle">パラメータ名</th><th scope="col">型または単位</th><th scope="col" rowspan="3" align="center" valign="middle">再起動タイプ</th><th scope="col" rowspan="3" align="center" valign="middle">バージョン ... (以降)</th></tr><tr><th scope="col">デフォルト値</th></tr><tr><th scope="col">最小値/最大値または許可される値</th></tr></thead><tbody><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-arbitration">Arbitration</a></code>
            </p></td><td>列挙</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">デフォルト</td></tr><tr><td scope="row">デフォルト、無効、WaitExternal</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-arbitrationtimeout">ArbitrationTimeout</a></code>
            </p></td><td>ミリ秒</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">7500</td></tr><tr><td scope="row">10 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupdatabuffersize">BackupDataBufferSize</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">16M</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupdatadir">BackupDataDir</a></code>
            </p></td><td>パス</td><td rowspan="3" align="center" valign="middle">IN</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">FileSystemPath</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-backuplogbuffersize">BackupLogBufferSize</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">16M</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupmaxwritesize">BackupMaxWriteSize</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">1M</td></tr><tr><td scope="row">2K / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupmemory">BackupMemory</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">32M</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupreportfrequency">BackupReportFrequency</a></code>
            </p></td><td>秒</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupwritesize">BackupWriteSize</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">256K</td></tr><tr><td scope="row">2K / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-batchsizeperlocalscan">BatchSizePerLocalScan</a></code>
            </p></td><td>整数</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">256</td></tr><tr><td scope="row">1 / 992</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-buildindexthreads">BuildIndexThreads</a></code>
            </p></td><td>数値</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 128</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-compressedbackup">CompressedBackup</a></code>
            </p></td><td>ブール</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">true、false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-compressedlcp">CompressedLCP</a></code>
            </p></td><td>ブール</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">true、false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-connectcheckintervaldelay">ConnectCheckIntervalDelay</a></code>
            </p></td><td>文字列</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-crashoncorruptedtuple">CrashOnCorruptedTuple</a></code>
            </p></td><td>ブール</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">true</td></tr><tr><td scope="row">true、false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-datadir">DataDir</a></code>
            </p></td><td>パス</td><td rowspan="3" align="center" valign="middle">IN</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">.</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory">DataMemory</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">80M</td></tr><tr><td scope="row">1M / 1024G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-defaulthashmapsize">DefaultHashMapSize</a></code>
            </p></td><td>LDM スレッド</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">3840</td></tr><tr><td scope="row">0 / 3840</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-dicttrace" title="デバッグパラメータ">DictTrace</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">未定義</td></tr><tr><td scope="row">0 / 100</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskcheckpointspeed">DiskCheckpointSpeed</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">10M</td></tr><tr><td scope="row">1M / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskcheckpointspeedinrestart">DiskCheckpointSpeedInRestart</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">100M</td></tr><tr><td scope="row">1M / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskiothreadpool">DiskIOThreadPool</a></code>
            </p></td><td>スレッド</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">2</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskless">Diskless</a></code>
            </p></td><td>true|false (1|0)</td><td rowspan="3" align="center" valign="middle">IS</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">true、false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskpagebuffermemory">DiskPageBufferMemory</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">64M</td></tr><tr><td scope="row">4M / 1T</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-disksyncsize">DiskSyncSize</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">4M</td></tr><tr><td scope="row">32K / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-executeoncomputer">ExecuteOnComputer</a></code>
            </p></td><td>name</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-extrasendbuffermemory">ExtraSendBufferMemory</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 32G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempath">FileSystemPath</a></code>
            </p></td><td>パス</td><td rowspan="3" align="center" valign="middle">IN</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">DataDir</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathdatafiles">FileSystemPathDataFiles</a></code>
            </p></td><td>ファイル名</td><td rowspan="3" align="center" valign="middle">IN</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[テキストを参照]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathdd">FileSystemPathDD</a></code>
            </p></td><td>ファイル名</td><td rowspan="3" align="center" valign="middle">IN</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">FileSystemPath</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathundofiles">FileSystemPathUndoFiles</a></code>
            </p></td><td>ファイル名</td><td rowspan="3" align="center" valign="middle">IN</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[テキストを参照]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-fragmentlogfilesize">FragmentLogFileSize</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">IN</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">16M</td></tr><tr><td scope="row">4M / 1G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-heartbeatintervaldbapi">HeartbeatIntervalDbApi</a></code>
            </p></td><td>ミリ秒</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">1500</td></tr><tr><td scope="row">100 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-heartbeatintervaldbdb">HeartbeatIntervalDbDb</a></code>
            </p></td><td>ミリ秒</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">5000</td></tr><tr><td scope="row">10 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-heartbeatorder">HeartbeatOrder</a></code>
            </p></td><td>数値</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 65535</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-hostname">HostName</a></code>
            </p></td><td>名前または IP アドレス</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">localhost</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-id">Id</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">IS</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">1 / 48</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-indexmemory">IndexMemory</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">18M</td></tr><tr><td scope="row">1M / 1T</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-indexstatautocreate">IndexStatAutoCreate</a></code>
            </p></td><td>ブール</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">false、true</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-indexstatautoupdate">IndexStatAutoUpdate</a></code>
            </p></td><td>ブール</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">false、true</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-indexstatsavescale">IndexStatSaveScale</a></code>
            </p></td><td>パーセンテージ</td><td rowspan="3" align="center" valign="middle">IN</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">100</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-indexstatsavesize">IndexStatSaveSize</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">IN</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">32768</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-indexstattriggerpct">IndexStatTriggerPct</a></code>
            </p></td><td>パーセンテージ</td><td rowspan="3" align="center" valign="middle">IN</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">100</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-indexstattriggerscale">IndexStatTriggerScale</a></code>
            </p></td><td>パーセンテージ</td><td rowspan="3" align="center" valign="middle">IN</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">100</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-indexstatupdatedelay">IndexStatUpdateDelay</a></code>
            </p></td><td>秒</td><td rowspan="3" align="center" valign="middle">IN</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">60</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-initfragmentlogfiles">InitFragmentLogFiles</a></code>
            </p></td><td>[値を参照]</td><td rowspan="3" align="center" valign="middle">IN</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">SPARSE</td></tr><tr><td scope="row">SPARSE、FULL</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-initiallogfilegroup">InitialLogFileGroup</a></code>
            </p></td><td>文字列</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[テキストを参照]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-initialnoofopenfiles">InitialNoOfOpenFiles</a></code>
            </p></td><td>ファイル</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">27</td></tr><tr><td scope="row">20 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-initialtablespace">InitialTablespace</a></code>
            </p></td><td>文字列</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[テキストを参照]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-latealloc">LateAlloc</a></code>
            </p></td><td>数値</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">1</td></tr><tr><td scope="row">0 / 1</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-lcpscanprogresstimeout">LcpScanProgressTimeout</a></code>
            </p></td><td>second</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.3</td></tr><tr><td scope="row">60</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-lockexecutethreadtocpu">LockExecuteThreadToCPU</a></code>
            </p></td><td>CPU ID</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">64K</td></tr><tr><td scope="row">0 / 64K</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-lockmaintthreadstocpu">LockMaintThreadsToCPU</a></code>
            </p></td><td>CPU ID</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">0 / 64K</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-lockpagesinmainmemory">LockPagesInMainMemory</a></code>
            </p></td><td>数値</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 2</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-loglevelcheckpoint">LogLevelCheckpoint</a></code>
            </p></td><td>ログレベル</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 15</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-loglevelcongestion">LogLevelCongestion</a></code>
            </p></td><td>levelr</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 15</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-loglevelconnection">LogLevelConnection</a></code>
            </p></td><td>整数</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 15</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-loglevelerror">LogLevelError</a></code>
            </p></td><td>整数</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 15</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-loglevelinfo">LogLevelInfo</a></code>
            </p></td><td>整数</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 15</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-loglevelnoderestart">LogLevelNodeRestart</a></code>
            </p></td><td>整数</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 15</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-loglevelshutdown">LogLevelShutdown</a></code>
            </p></td><td>整数</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 15</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-loglevelstartup">LogLevelStartup</a></code>
            </p></td><td>整数</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">1</td></tr><tr><td scope="row">0 / 15</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-loglevelstatistic">LogLevelStatistic</a></code>
            </p></td><td>整数</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 15</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-longmessagebuffer">LongMessageBuffer</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.5</td></tr><tr><td scope="row">64M</td></tr><tr><td scope="row">512K / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxallocate">MaxAllocate</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">32M</td></tr><tr><td scope="row">1M / 1G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxbufferedepochs">MaxBufferedEpochs</a></code>
            </p></td><td>エポック</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">100</td></tr><tr><td scope="row">0 / 100000</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxbufferedepochbytes">MaxBufferedEpochBytes</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">26214400</td></tr><tr><td scope="row">26214400 (0x01900000) / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxdiskwritespeed">MaxDiskWriteSpeed</a></code>
            </p></td><td>数値</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.4.1</td></tr><tr><td scope="row">20M</td></tr><tr><td scope="row">1M / 1024G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxdiskwritespeedothernoderestart">MaxDiskWriteSpeedOtherNodeRestart</a></code>
            </p></td><td>数値</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.4.1</td></tr><tr><td scope="row">50M</td></tr><tr><td scope="row">1M / 1024G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxdiskwritespeedownrestart">MaxDiskWriteSpeedOwnRestart</a></code>
            </p></td><td>数値</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.4.1</td></tr><tr><td scope="row">200M</td></tr><tr><td scope="row">1M / 1024G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxdmloperationspertransaction">MaxDMLOperationsPerTransaction</a></code>
            </p></td><td>操作 (DML)</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">4294967295</td></tr><tr><td scope="row">32 / 4294967295</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxlcpstartdelay">MaxLCPStartDelay</a></code>
            </p></td><td>秒</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 600</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofattributes">MaxNoOfAttributes</a></code>
            </p></td><td>整数</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">1000</td></tr><tr><td scope="row">32 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrentindexoperations">MaxNoOfConcurrentIndexOperations</a></code>
            </p></td><td>整数</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">8K</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrentoperations">MaxNoOfConcurrentOperations</a></code>
            </p></td><td>整数</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">32K</td></tr><tr><td scope="row">32 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrentscans">MaxNoOfConcurrentScans</a></code>
            </p></td><td>整数</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">256</td></tr><tr><td scope="row">2 / 500</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrentsuboperations">MaxNoOfConcurrentSubOperations</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">256</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrenttransactions">MaxNoOfConcurrentTransactions</a></code>
            </p></td><td>整数</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">4096</td></tr><tr><td scope="row">32 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooffiredtriggers">MaxNoOfFiredTriggers</a></code>
            </p></td><td>整数</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">4000</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooflocaloperations">MaxNoOfLocalOperations</a></code>
            </p></td><td>整数</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">UNDEFINED</td></tr><tr><td scope="row">32 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooflocalscans">MaxNoOfLocalScans</a></code>
            </p></td><td>整数</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[テキストを参照]</td></tr><tr><td scope="row">32 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofopenfiles">MaxNoOfOpenFiles</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">20 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooforderedindexes">MaxNoOfOrderedIndexes</a></code>
            </p></td><td>整数</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">128</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofsavedmessages">MaxNoOfSavedMessages</a></code>
            </p></td><td>整数</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">25</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofsubscribers">MaxNoOfSubscribers</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofsubscriptions">MaxNoOfSubscriptions</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooftables">MaxNoOfTables</a></code>
            </p></td><td>整数</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">128</td></tr><tr><td scope="row">8 / 20320</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooftriggers">MaxNoOfTriggers</a></code>
            </p></td><td>整数</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">768</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofuniquehashindexes">MaxNoOfUniqueHashIndexes</a></code>
            </p></td><td>整数</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">64</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxparallelscansperfragment">MaxParallelScansPerFragment</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">256</td></tr><tr><td scope="row">1 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxstartfailretries">MaxStartFailRetries</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">3</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-memreportfrequency">MemReportFrequency</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-mindiskwritespeed">MinDiskWriteSpeed</a></code>
            </p></td><td>数値</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.4.1</td></tr><tr><td scope="row">10M</td></tr><tr><td scope="row">1M / 1024G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-minfreepct" title="MinFreePct">MinFreePct</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">5</td></tr><tr><td scope="row">0 / 100</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-nodegroup">NodeGroup</a></code>
            </p></td><td> </td><td rowspan="3" align="center" valign="middle">IS</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">0 / 65536</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-nodeid">NodeId</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">IS</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">1 / 48</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-nooffragmentlogfiles">NoOfFragmentLogFiles</a></code>
            </p></td><td>整数</td><td rowspan="3" align="center" valign="middle">IN</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">16</td></tr><tr><td scope="row">3 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-noofreplicas">NoOfReplicas</a></code>
            </p></td><td>整数</td><td rowspan="3" align="center" valign="middle">IS</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">2</td></tr><tr><td scope="row">1 / 4</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-numa">Numa</a></code>
            </p></td><td>ブール</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">1</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-odirect">ODirect</a></code>
            </p></td><td>ブール</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">true、false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-realtimescheduler">RealtimeScheduler</a></code>
            </p></td><td>ブール</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">true、false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-redobuffer">RedoBuffer</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">32M</td></tr><tr><td scope="row">1M / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-redoovercommitcounter">RedoOverCommitCounter</a></code>
            </p></td><td>数値</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">3</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-redoovercommitlimit">RedoOverCommitLimit</a></code>
            </p></td><td>秒</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">20</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-reservedsendbuffermemory">ReservedSendBufferMemory</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">256K</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-restartonerrorinsert">RestartOnErrorInsert</a></code>
            </p></td><td>エラーコード</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">2</td></tr><tr><td scope="row">0 / 4</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-schedulerexecutiontimer">SchedulerExecutionTimer</a></code>
            </p></td><td>マイクロ秒</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">50</td></tr><tr><td scope="row">0 / 11000</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-schedulerspintimer">SchedulerSpinTimer</a></code>
            </p></td><td>マイクロ秒</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 500</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-serverport">ServerPort</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">1 / 64K</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-sharedglobalmemory">SharedGlobalMemory</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">128M</td></tr><tr><td scope="row">0 / 64T</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-startfailretrydelay">StartFailRetryDelay</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-startfailuretimeout">StartFailureTimeout</a></code>
            </p></td><td>ミリ秒</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-startnonodegrouptimeout">StartNoNodeGroupTimeout</a></code>
            </p></td><td>ミリ秒</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">15000</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-startpartialtimeout">StartPartialTimeout</a></code>
            </p></td><td>ミリ秒</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">30000</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-startpartitionedtimeout">StartPartitionedTimeout</a></code>
            </p></td><td>ミリ秒</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">60000</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-startupstatusreportfrequency">StartupStatusReportFrequency</a></code>
            </p></td><td>秒</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-stoponerror">StopOnError</a></code>
            </p></td><td>ブール</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">1</td></tr><tr><td scope="row">0、1</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-stringmemory">StringMemory</a></code>
            </p></td><td>% またはバイト</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">25</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-tcpbind_inaddr_any">TcpBind_INADDR_ANY</a></code>
            </p></td><td>ブール</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">true、false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenepochs">TimeBetweenEpochs</a></code>
            </p></td><td>ミリ秒</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">100</td></tr><tr><td scope="row">0 / 32000</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenepochstimeout">TimeBetweenEpochsTimeout</a></code>
            </p></td><td>ミリ秒</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 256000</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenglobalcheckpoints">TimeBetweenGlobalCheckpoints</a></code>
            </p></td><td>ミリ秒</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">2000</td></tr><tr><td scope="row">20 / 32000</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweeninactivetransactionabortcheck">TimeBetweenInactiveTransactionAbortCheck</a></code>
            </p></td><td>ミリ秒</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">1000</td></tr><tr><td scope="row">1000 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenlocalcheckpoints">TimeBetweenLocalCheckpoints</a></code>
            </p></td><td>4 バイトワードの数 (底 2 の対数として)</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">20</td></tr><tr><td scope="row">0 / 31</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenwatchdogcheck">TimeBetweenWatchDogCheck</a></code>
            </p></td><td>ミリ秒</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">6000</td></tr><tr><td scope="row">70 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenwatchdogcheckinitial">TimeBetweenWatchDogCheckInitial</a></code>
            </p></td><td>ミリ秒</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">6000</td></tr><tr><td scope="row">70 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-totalsendbuffermemory">TotalSendBufferMemory</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">256K</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-transactionbuffermemory">TransactionBufferMemory</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">1M</td></tr><tr><td scope="row">1K / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-transactiondeadlockdetectiontimeout">TransactionDeadlockDetectionTimeout</a></code>
            </p></td><td>ミリ秒</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">1200</td></tr><tr><td scope="row">50 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-transactioninactivetimeout">TransactionInactiveTimeout</a></code>
            </p></td><td>ミリ秒</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[テキストを参照]</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-twopassinitialnoderestartcopy">TwoPassInitialNodeRestartCopy</a></code>
            </p></td><td>ブール</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">true、false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-undodatabuffer">UndoDataBuffer</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">16M</td></tr><tr><td scope="row">1M / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-undoindexbuffer">UndoIndexBuffer</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">2M</td></tr><tr><td scope="row">1M / 4294967039 (0xFFFFFEFF)</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="ndbparam-summary-table-ndbmtd"></a><p class="title"><b>表 18.2 マルチスレッドデータノード構成パラメータ</b></p><div class="table-contents"><table summary="この表は、MySQL Cluster マルチスレッドデータノード構成パラメータを示しています" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"><col class="c4"></colgroup><thead><tr><th scope="col" rowspan="3" align="left" valign="middle">パラメータ名</th><th scope="col">型または単位</th><th scope="col" rowspan="3" align="center" valign="middle">再起動タイプ</th><th scope="col" rowspan="3" align="center" valign="middle">バージョン ... (以降)</th></tr><tr><th scope="col">デフォルト値</th></tr><tr><th scope="col">最小値/最大値または許可される値</th></tr></thead><tbody><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbmtd-maxnoofexecutionthreads">MaxNoOfExecutionThreads</a></code>
            </p></td><td>整数</td><td rowspan="3" align="center" valign="middle">IS</td><td rowspan="3" align="center" valign="middle">NDB 7.3.3</td></tr><tr><td scope="row">2</td></tr><tr><td scope="row">2 / 72</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbmtd-nooffragmentlogparts">NoOfFragmentLogParts</a></code>
            </p></td><td>数値</td><td rowspan="3" align="center" valign="middle">IN</td><td rowspan="3" align="center" valign="middle">NDB 7.3.3</td></tr><tr><td scope="row">4</td></tr><tr><td scope="row">4、8、12、16、24、32</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbmtd-threadconfig">ThreadConfig</a></code>
            </p></td><td>文字列</td><td rowspan="3" align="center" valign="middle">IS</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">''</td></tr><tr><td scope="row">...</td></tr></tbody></table></div></div><br class="table-break"></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-params-mgmd"></a>18.3.3.2 MySQL Cluster 管理ノードの構成パラメータ</h4></div></div></div><a class="indexterm" name="idm139979036110192"></a><a class="indexterm" name="idm139979036108080"></a><a class="indexterm" name="idm139979036106816"></a><p>
        このセクションのサマリー表では、MySQL Cluster 管理ノードを構成するために <code class="filename">config.ini</code> ファイルの <code class="literal">[ndb_mgmd]</code> または <code class="literal">[mgm]</code> セクションで使用するパラメータについて説明します。各パラメータ関する詳しい説明およびその他の追加情報については、<a class="xref" href="mysql-cluster.html#mysql-cluster-mgm-definition" title="18.3.2.5 MySQL Cluster 管理サーバーの定義">セクション18.3.2.5「MySQL Cluster 管理サーバーの定義」</a>を参照してください。
      </p><p><b>再起動のタイプ </b>
          MySQL Cluster 構成パラメータの変更は、クラスタが再起動されるまで有効になりません。サマリー表では、特定のパラメータの変更に必要な再起動のタイプを次のように示します。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">N</code> - ノードの再起動: このパラメータは、ローリング再起動を使用して更新できます (<a class="xref" href="mysql-cluster.html#mysql-cluster-rolling-restart" title="18.5.5 MySQL Cluster のローリング再起動の実行">セクション18.5.5「MySQL Cluster のローリング再起動の実行」</a>を参照してください)。
          </p></li><li class="listitem"><p>
            <code class="literal">S</code> - システムの再起動: このパラメータの変更を有効にするには、クラスタを完全にシャットダウンしてから再起動する必要があります。
          </p></li><li class="listitem"><p>
            <code class="literal">I</code> - 初期再起動: <code class="option">--initial</code> オプションを使用してデータノードを再起動する必要があります。
          </p></li></ul></div><p>
        再起動のタイプの詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-params-overview" title="18.3.3 MySQL Cluster 構成パラメータの概要">セクション18.3.3「MySQL Cluster 構成パラメータの概要」</a>を参照してください。
      </p><div class="table"><a name="ndbparam-summary-table-mgmd"></a><p class="title"><b>表 18.3 管理ノード構成パラメータ</b></p><div class="table-contents"><table summary="この表は、MySQL Cluster 管理ノード構成パラメータを示しています" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"><col class="c4"></colgroup><thead><tr><th scope="col" rowspan="3" align="left" valign="middle">パラメータ名</th><th scope="col">型または単位</th><th scope="col" rowspan="3" align="center" valign="middle">再起動タイプ</th><th scope="col" rowspan="3" align="center" valign="middle">バージョン ... (以降)</th></tr><tr><th scope="col">デフォルト値</th></tr><tr><th scope="col">最小値/最大値または許可される値</th></tr></thead><tbody><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-mgmd-arbitrationdelay">ArbitrationDelay</a></code>
            </p></td><td>ミリ秒</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-mgmd-arbitrationrank">ArbitrationRank</a></code>
            </p></td><td>0-2</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">1</td></tr><tr><td scope="row">0 / 2</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-mgmd-datadir">DataDir</a></code>
            </p></td><td>パス</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">.</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-mgmd-executeoncomputer">ExecuteOnComputer</a></code>
            </p></td><td>name</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-mgmd-heartbeatintervalmgmdmgmd">HeartbeatIntervalMgmdMgmd</a></code>
            </p></td><td>ミリ秒</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.3</td></tr><tr><td scope="row">1500</td></tr><tr><td scope="row">100 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-mgmd-heartbeatthreadpriority">HeartbeatThreadPriority</a></code>
            </p></td><td>文字列</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-mgmd-hostname">HostName</a></code>
            </p></td><td>名前または IP アドレス</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-mgmd-id">Id</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">IS</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">1 / 255</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-mgmd-logdestination">LogDestination</a></code>
            </p></td><td>{CONSOLE|SYSLOG|FILE}</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[テキストを参照]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal">MaxNoOfSavedEvents</code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">100</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-mgmd-nodeid">NodeId</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">IS</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">1 / 255</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-mgmd-portnumber">PortNumber</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">1186</td></tr><tr><td scope="row">0 / 64K</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-mgmd-portnumberstats">PortNumberStats</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">0 / 64K</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-mgmd-totalsendbuffermemory">TotalSendBufferMemory</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">256K</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-mgmd-wan">wan</a></code>
            </p></td><td>ブール</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">true、false</td></tr></tbody></table></div></div><br class="table-break"><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          管理ノードの構成に変更を加えたあとは、新しい構成を有効にするために、クラスタのローリング再起動を実行する必要があります。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-mgm-definition" title="18.3.2.5 MySQL Cluster 管理サーバーの定義">セクション18.3.2.5「MySQL Cluster 管理サーバーの定義」</a>を参照してください。
        </p><p>
          実行中の MySQL Cluster に新しい管理サーバーを追加するには、既存の <code class="filename">config.ini</code> ファイルを変更したあとで、すべてのクラスタノードのローリング再起動も実行する必要があります。複数の管理ノードを使用するときに発生する問題の詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-limitations-multiple-nodes" title="18.1.6.10 複数の MySQL Cluster ノードに関する制限">セクション18.1.6.10「複数の MySQL Cluster ノードに関する制限」</a>を参照してください。
        </p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-params-api"></a>18.3.3.3 MySQL Cluster SQL ノードおよび API ノードの構成パラメータ</h4></div></div></div><a class="indexterm" name="idm139979035967056"></a><a class="indexterm" name="idm139979035964944"></a><a class="indexterm" name="idm139979035963696"></a><p>
        このセクションのサマリー表では、MySQL Cluster SQL ノードおよび API ノードを構成するために <code class="filename">config.ini</code> ファイルの <code class="literal">[mysqld]</code> および <code class="literal">[api]</code> セクションで使用するパラメータについて説明します。各パラメータに関する詳しい説明およびその他の追加情報については、<a class="xref" href="mysql-cluster.html#mysql-cluster-api-definition" title="18.3.2.7 MySQL Cluster 内の SQL ノードおよびその他の API ノードの定義">セクション18.3.2.7「MySQL Cluster 内の SQL ノードおよびその他の API ノードの定義」</a>を参照してください。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL Cluster 用の MySQL サーバーオプションについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-mysqld" title="18.3.4.2 MySQL Cluster 用の MySQL Server オプション">セクション18.3.4.2「MySQL Cluster 用の MySQL Server オプション」</a>を参照してください。MySQL Cluster に関連する MySQL サーバーシステム変数については、<a class="xref" href="mysql-cluster.html#mysql-cluster-system-variables" title="18.3.4.3 MySQL Cluster のシステム変数">セクション18.3.4.3「MySQL Cluster のシステム変数」</a>を参照してください。
        </p></div><p><b>再起動のタイプ </b>
          MySQL Cluster 構成パラメータの変更は、クラスタが再起動されるまで有効になりません。サマリー表では、特定のパラメータの変更に必要な再起動のタイプを次のように示します。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">N</code> - ノードの再起動: このパラメータは、ローリング再起動を使用して更新できます (<a class="xref" href="mysql-cluster.html#mysql-cluster-rolling-restart" title="18.5.5 MySQL Cluster のローリング再起動の実行">セクション18.5.5「MySQL Cluster のローリング再起動の実行」</a>を参照してください)。
          </p></li><li class="listitem"><p>
            <code class="literal">S</code> - システムの再起動: このパラメータの変更を有効にするには、クラスタを完全にシャットダウンしてから再起動する必要があります。
          </p></li><li class="listitem"><p>
            <code class="literal">I</code> - 初期再起動: <code class="option">--initial</code> オプションを使用してデータノードを再起動する必要があります。
          </p></li></ul></div><p>
        再起動のタイプの詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-params-overview" title="18.3.3 MySQL Cluster 構成パラメータの概要">セクション18.3.3「MySQL Cluster 構成パラメータの概要」</a>を参照してください。
      </p><div class="table"><a name="ndbparam-summary-table-api"></a><p class="title"><b>表 18.4 SQL ノード/API ノード構成パラメータ</b></p><div class="table-contents"><table summary="この表は、MySQL Cluster SQL ノード/API ノード構成パラメータを示しています" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"><col class="c4"></colgroup><thead><tr><th scope="col" rowspan="3" align="left" valign="middle">パラメータ名</th><th scope="col">型または単位</th><th scope="col" rowspan="3" align="center" valign="middle">再起動タイプ</th><th scope="col" rowspan="3" align="center" valign="middle">バージョン ... (以降)</th></tr><tr><th scope="col">デフォルト値</th></tr><tr><th scope="col">最小値/最大値または許可される値</th></tr></thead><tbody><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-arbitrationdelay">ArbitrationDelay</a></code>
            </p></td><td>ミリ秒</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-arbitrationrank">ArbitrationRank</a></code>
            </p></td><td>0-2</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 2</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-autoreconnect">AutoReconnect</a></code>
            </p></td><td>ブール</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">true、false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-batchbytesize">BatchByteSize</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">16K</td></tr><tr><td scope="row">1024 / 1M</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-batchsize">BatchSize</a></code>
            </p></td><td>レコード</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">256</td></tr><tr><td scope="row">1 / 992</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-connectbackoffmaxtime">ConnectBackoffMaxTime</a></code>
            </p></td><td>整数</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-connectionmap">ConnectionMap</a></code>
            </p></td><td>文字列</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-defaulthashmapsize">DefaultHashMapSize</a></code>
            </p></td><td>LDM スレッド</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">3840</td></tr><tr><td scope="row">0 / 3840</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-defaultoperationredoproblemaction">DefaultOperationRedoProblemAction</a></code>
            </p></td><td>列挙</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">QUEUE</td></tr><tr><td scope="row">ABORT、QUEUE</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-eventlogbuffersize">EventLogBufferSize</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">8192</td></tr><tr><td scope="row">0 / 64K</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-executeoncomputer">ExecuteOnComputer</a></code>
            </p></td><td>name</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-extrasendbuffermemory">ExtraSendBufferMemory</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-heartbeatthreadpriority">HeartbeatThreadPriority</a></code>
            </p></td><td>文字列</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-hostname">HostName</a></code>
            </p></td><td>名前または IP アドレス</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-id">Id</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">IS</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">1 / 255</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-maxscanbatchsize">MaxScanBatchSize</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">256K</td></tr><tr><td scope="row">32K / 16M</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-nodeid">NodeId</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">IS</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">1 / 255</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-startconnectbackoffmaxtime">StartConnectBackoffMaxTime</a></code>
            </p></td><td>整数</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">1500</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-totalsendbuffermemory">TotalSendBufferMemory</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">256K</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-wan">wan</a></code>
            </p></td><td>ブール</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">true、false</td></tr></tbody></table></div></div><br class="table-break"><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          実行中の MySQL Cluster の構成に新しい SQL または API ノードを追加するには、<code class="filename">config.ini</code> ファイル (複数の管理サーバーを使用する場合は複数のファイル) に新しい <code class="literal">[mysqld]</code> または <code class="literal">[api]</code> セクションを追加したあとで、すべてのクラスタノードのローリング再起動を実行する必要があります。これは、新しい SQL または API ノードをクラスタに接続する前に実行する必要があります。
        </p><p>
          新しい SQL または API ノードがクラスタ構成内の以前に使用されていない API スロットを使用してクラスタに接続する場合、クラスタの再起動を実行する必要は<span class="emphasis"><em>ありません</em></span>。
        </p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-params-other"></a>18.3.3.4 その他の MySQL Cluster 構成パラメータ</h4></div></div></div><a class="indexterm" name="idm139979035784464"></a><a class="indexterm" name="idm139979035782352"></a><a class="indexterm" name="idm139979035781104"></a><a class="indexterm" name="idm139979035779760"></a><a class="indexterm" name="idm139979035778416"></a><p>
        このセクションのサマリー表では、MySQL Cluster 管理ノードを構成するために <code class="filename">config.ini</code> ファイルの <code class="literal">[computer]</code>、<code class="literal">[tcp]</code>、<code class="literal">[shm]</code>、および <code class="literal">[sci]</code> セクションで使用するパラメータについて説明します。個々のパラメータに関する詳しい説明およびその他の追加情報については、<a class="xref" href="mysql-cluster.html#mysql-cluster-tcp-definition" title="18.3.2.8 MySQL クラスタの TCP/IP 接続">セクション18.3.2.8「MySQL クラスタの TCP/IP 接続」</a>、<a class="xref" href="mysql-cluster.html#mysql-cluster-shm-definition" title="18.3.2.10 MySQL Cluster の共有メモリー接続">セクション18.3.2.10「MySQL Cluster の共有メモリー接続」</a>、または<a class="xref" href="mysql-cluster.html#mysql-cluster-sci-definition" title="18.3.2.11 MySQL Cluster での SCI トランスポート接続">セクション18.3.2.11「MySQL Cluster での SCI トランスポート接続」</a>を必要に応じて参照してください。
      </p><p><b>再起動のタイプ </b>
          MySQL Cluster 構成パラメータの変更は、クラスタが再起動されるまで有効になりません。サマリー表では、特定のパラメータを変更するために必要な再起動のタイプを次のように示します。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">N</code> - ノードの再起動: このパラメータは、ローリング再起動を使用して更新できます (<a class="xref" href="mysql-cluster.html#mysql-cluster-rolling-restart" title="18.5.5 MySQL Cluster のローリング再起動の実行">セクション18.5.5「MySQL Cluster のローリング再起動の実行」</a>を参照してください)。
          </p></li><li class="listitem"><p>
            <code class="literal">S</code> - システムの再起動: このパラメータの変更を有効にするには、クラスタを完全にシャットダウンしてから再起動する必要があります。
          </p></li><li class="listitem"><p>
            <code class="literal">I</code> - 初期再起動: <code class="option">--initial</code> オプションを使用してデータノードを再起動する必要があります。
          </p></li></ul></div><p>
        再起動のタイプの詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-params-overview" title="18.3.3 MySQL Cluster 構成パラメータの概要">セクション18.3.3「MySQL Cluster 構成パラメータの概要」</a>を参照してください。
      </p><div class="table"><a name="ndbparam-summary-table-computer"></a><p class="title"><b>表 18.5 コンピュータ構成パラメータ</b></p><div class="table-contents"><table summary="この表は、MySQL Cluster コンピュータ構成パラメータを示しています" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"><col class="c4"></colgroup><thead><tr><th scope="col" rowspan="3" align="left" valign="middle">パラメータ名</th><th scope="col">型または単位</th><th scope="col" rowspan="3" align="center" valign="middle">再起動タイプ</th><th scope="col" rowspan="3" align="center" valign="middle">バージョン ... (以降)</th></tr><tr><th scope="col">デフォルト値</th></tr><tr><th scope="col">最小値/最大値または許可される値</th></tr></thead><tbody><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-computer-hostname">HostName</a></code>
            </p></td><td>名前または IP アドレス</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-computer-id">Id</a></code>
            </p></td><td>文字列</td><td rowspan="3" align="center" valign="middle">IS</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="ndbparam-summary-table-tcp"></a><p class="title"><b>表 18.6 TCP 構成パラメータ</b></p><div class="table-contents"><table summary="この表は、MySQL Cluster TCP 構成パラメータを示しています" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"><col class="c4"></colgroup><thead><tr><th scope="col" rowspan="3" align="left" valign="middle">パラメータ名</th><th scope="col">型または単位</th><th scope="col" rowspan="3" align="center" valign="middle">再起動タイプ</th><th scope="col" rowspan="3" align="center" valign="middle">バージョン ... (以降)</th></tr><tr><th scope="col">デフォルト値</th></tr><tr><th scope="col">最小値/最大値または許可される値</th></tr></thead><tbody><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-tcp-checksum">Checksum</a></code>
            </p></td><td>ブール</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">true、false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal">Group</code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">55</td></tr><tr><td scope="row">0 / 200</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-tcp-nodeid1">NodeId1</a></code>
            </p></td><td>数値</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-tcp-nodeid2">NodeId2</a></code>
            </p></td><td>数値</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal">NodeIdServer</code>
            </p></td><td>数値</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-tcp-overloadlimit">OverloadLimit</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-tcp-portnumber">PortNumber</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">0 / 64K</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal">Proxy</code>
            </p></td><td>文字列</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-tcp-receivebuffermemory">ReceiveBufferMemory</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">2M</td></tr><tr><td scope="row">16K / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-tcp-sendbuffermemory">SendBufferMemory</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">2M</td></tr><tr><td scope="row">256K / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-tcp-sendsignalid">SendSignalId</a></code>
            </p></td><td>ブール</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[テキストを参照]</td></tr><tr><td scope="row">true、false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-tcp-tcp_maxseg_size">TCP_MAXSEG_SIZE</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 2G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-tcp-tcp_rcv_buf_size">TCP_RCV_BUF_SIZE</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.1</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 2G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-tcp-tcp_snd_buf_size">TCP_SND_BUF_SIZE</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.1</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 2G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-tcp-tcpbind_inaddr_any">TcpBind_INADDR_ANY</a></code>
            </p></td><td>ブール</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">true、false</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="ndbparam-summary-table-shm"></a><p class="title"><b>表 18.7 共有メモリー構成パラメータ</b></p><div class="table-contents"><table summary="この表は、MySQL Cluster 共有メモリー構成パラメータを示しています" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"><col class="c4"></colgroup><thead><tr><th scope="col" rowspan="3" align="left" valign="middle">パラメータ名</th><th scope="col">型または単位</th><th scope="col" rowspan="3" align="center" valign="middle">再起動タイプ</th><th scope="col" rowspan="3" align="center" valign="middle">バージョン ... (以降)</th></tr><tr><th scope="col">デフォルト値</th></tr><tr><th scope="col">最小値/最大値または許可される値</th></tr></thead><tbody><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-shm-checksum">Checksum</a></code>
            </p></td><td>ブール</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">true</td></tr><tr><td scope="row">true、false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal">Group</code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">35</td></tr><tr><td scope="row">0 / 200</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-shm-nodeid1">NodeId1</a></code>
            </p></td><td>数値</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-shm-nodeid2">NodeId2</a></code>
            </p></td><td>数値</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal">NodeIdServer</code>
            </p></td><td>数値</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-shm-overloadlimit">OverloadLimit</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal">PortNumber</code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">0 / 64K</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-shm-sendsignalid">SendSignalId</a></code>
            </p></td><td>ブール</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">true、false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-shm-shmkey">ShmKey</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-shm-shmsize">ShmSize</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">1M</td></tr><tr><td scope="row">64K / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-shm-signum">Signum</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="ndbparam-summary-table-sci"></a><p class="title"><b>表 18.8 SCI 構成パラメータ</b></p><div class="table-contents"><table summary="この表は、MySQL Cluster SCI 構成パラメータを示しています" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"><col class="c4"></colgroup><thead><tr><th scope="col" rowspan="3" align="left" valign="middle">パラメータ名</th><th scope="col">型または単位</th><th scope="col" rowspan="3" align="center" valign="middle">再起動タイプ</th><th scope="col" rowspan="3" align="center" valign="middle">バージョン ... (以降)</th></tr><tr><th scope="col">デフォルト値</th></tr><tr><th scope="col">最小値/最大値または許可される値</th></tr></thead><tbody><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-sci-checksum">Checksum</a></code>
            </p></td><td>ブール</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">true、false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal">Group</code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">15</td></tr><tr><td scope="row">0 / 200</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-sci-host1sciid0">Host1SciId0</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-sci-host1sciid1">Host1SciId1</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-sci-host2sciid0">Host2SciId0</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-sci-host2sciid1">Host2SciId1</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-sci-nodeid1">NodeId1</a></code>
            </p></td><td>数値</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-sci-nodeid2">NodeId2</a></code>
            </p></td><td>数値</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal">NodeIdServer</code>
            </p></td><td>数値</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-sci-overloadlimit">OverloadLimit</a></code>
            </p></td><td>バイト</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4294967039 (0xFFFFFEFF)</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal">PortNumber</code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">0 / 64K</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-sci-sendlimit">SendLimit</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">8K</td></tr><tr><td scope="row">128 / 32K</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-sci-sendsignalid">SendSignalId</a></code>
            </p></td><td>ブール</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">true</td></tr><tr><td scope="row">true、false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-sci-sharedbuffersize">SharedBufferSize</a></code>
            </p></td><td>符号なし</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">10M</td></tr><tr><td scope="row">64K / 4294967039 (0xFFFFFEFF)</td></tr></tbody></table></div></div><br class="table-break"></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-options-variables"></a>18.3.4 MySQL Cluster 用の MySQL Server オプションおよび変数</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-option-tables">18.3.4.1 MySQL Cluster の mysqld オプションおよび変数のリファレンス</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-program-options-mysqld">18.3.4.2 MySQL Cluster 用の MySQL Server オプション</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-system-variables">18.3.4.3 MySQL Cluster のシステム変数</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-status-variables">18.3.4.4 MySQL Cluster のステータス変数</a></span></dt></dl></div><a class="indexterm" name="idm139979035415360"></a><a class="indexterm" name="idm139979035413232"></a><p>
      このセクションでは、MySQL Cluster に固有の MySQL サーバーオプションとサーバーおよびステータス変数について説明します。これらの使用に関する一般情報と、MySQL Cluster に固有でないその他のオプションおよび変数については、<a class="xref" href="server-administration.html#mysqld-server" title="5.1 MySQL Server">セクション5.1「MySQL Server」</a>を参照してください。
    </p><p>
      クラスタ構成ファイル (通常、<code class="filename">config.ini</code> という名前) で使用する MySQL Cluster 構成パラメータについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-configuration" title="18.3 MySQL Cluster の構成">セクション18.3「MySQL Cluster の構成」</a>を参照してください。
    </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-option-tables"></a>18.3.4.1 MySQL Cluster の mysqld オプションおよび変数のリファレンス</h4></div></div></div><p>
        次の表に、MySQL Cluster 内で SQL ノードとして実行されているときの <code class="literal">mysqld</code> に適用されるコマンド行オプションとサーバーおよびステータス変数のリストを示します。<span class="command"><strong>mysqld</strong></span> で使用できる<span class="emphasis"><em>すべての</em></span>コマンド行オプションとサーバーおよびステータス変数を示す表については、<a class="xref" href="server-administration.html#mysqld-option-tables" title="5.1.1 サーバーオプションおよび変数リファレンス">セクション5.1.1「サーバーオプションおよび変数リファレンス」</a>を参照してください。
      </p><div class="table"><a name="mysql-cluster-mysqld-optvars-table"></a><p class="title"><b>表 18.9 
        MySQL Cluster 用の MySQL Server オプションおよび変数: MySQL Cluster NDB 7.3-7.4</b></p><div class="table-contents"><table id="mysql-cluster-mysqld-optvars-table" summary="This table describes MySQL Server options and variables relating to MySQL Cluster in MySQL Cluster NDB 7.3-7.4"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
      <th id="optvar" colspan="3" abbr="Name" align="center">オプションまたは変数名</th>
    </tr><tr>
      <th id="cli" abbr="CLI">コマンド行</th>
      <th id="sysvar" abbr="System">システム変数</th>
      <th id="statvar" abbr="Status">ステータス変数</th>
    </tr><tr>
      <th id="optfile" abbr="File">オプションファイル</th>
      <th id="scope">スコープ</th>
      <th id="dynamic">動的</th>
    </tr><tr>
      <th id="notes" colspan="3">メモ</th>
    </tr></thead><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Handler_discover" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Handler_discover">Handler_discover</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Handler_discover cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Handler_discover sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Handler_discover statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Handler_discover optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Handler_discover scope">両方</td>
      <td headers="ndbmysqldsumrow-Handler_discover dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Handler_discover notes">
        <p>
          説明: テーブルが検出された回数
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_wait_exec_complete_count_session" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_exec_complete_count_session">Ndb_api_wait_exec_complete_count_session</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_exec_complete_count_session cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_exec_complete_count_session sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_exec_complete_count_session statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_exec_complete_count_session optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_exec_complete_count_session scope">セッション</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_exec_complete_count_session dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_wait_exec_complete_count_session notes">
        <p>
          説明: このクライアントセッションで、操作の実行が完了するのを待機する間にスレッドがブロックされた回数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_wait_exec_complete_count_slave" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_exec_complete_count_slave">Ndb_api_wait_exec_complete_count_slave</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_exec_complete_count_slave cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_exec_complete_count_slave sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_exec_complete_count_slave statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_exec_complete_count_slave optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_exec_complete_count_slave scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_exec_complete_count_slave dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_wait_exec_complete_count_slave notes">
        <p>
          説明: このスレーブによって、操作の実行が完了するのを待機する間にスレッドがブロックされた回数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_wait_exec_complete_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_exec_complete_count">Ndb_api_wait_exec_complete_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_exec_complete_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_exec_complete_count sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_exec_complete_count statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_exec_complete_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_exec_complete_count scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_exec_complete_count dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_wait_exec_complete_count notes">
        <p>
          説明: この MySQL Server (SQL ノード) によって、操作の実行が完了するのを待機する間にスレッドがブロックされた回数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_wait_scan_result_count_session" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_scan_result_count_session">Ndb_api_wait_scan_result_count_session</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_scan_result_count_session cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_scan_result_count_session sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_scan_result_count_session statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_scan_result_count_session optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_scan_result_count_session scope">セッション</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_scan_result_count_session dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_wait_scan_result_count_session notes">
        <p>
          説明: このクライアントセッションで、スキャンベースの信号を待機する間にスレッドがブロックされた回数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_wait_scan_result_count_slave" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_scan_result_count_slave">Ndb_api_wait_scan_result_count_slave</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_scan_result_count_slave cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_scan_result_count_slave sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_scan_result_count_slave statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_scan_result_count_slave optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_scan_result_count_slave scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_scan_result_count_slave dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_wait_scan_result_count_slave notes">
        <p>
          説明: このスレーブによって、スキャンベースの信号を待機する間にスレッドがブロックされた回数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_wait_scan_result_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_scan_result_count">Ndb_api_wait_scan_result_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_scan_result_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_scan_result_count sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_scan_result_count statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_scan_result_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_scan_result_count scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_scan_result_count dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_wait_scan_result_count notes">
        <p>
          説明: この MySQL Server (SQL ノード) によって、スキャンベースの信号を待機する間にスレッドがブロックされた回数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_wait_meta_request_count_session" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_meta_request_count_session">Ndb_api_wait_meta_request_count_session</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_meta_request_count_session cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_meta_request_count_session sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_meta_request_count_session statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_meta_request_count_session optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_meta_request_count_session scope">セッション</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_meta_request_count_session dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_wait_meta_request_count_session notes">
        <p>
          説明: このクライアントセッションで、メタデータベースの信号を待機する間にスレッドがブロックされた回数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_wait_meta_request_count_slave" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_meta_request_count_slave">Ndb_api_wait_meta_request_count_slave</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_meta_request_count_slave cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_meta_request_count_slave sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_meta_request_count_slave statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_meta_request_count_slave optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_meta_request_count_slave scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_meta_request_count_slave dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_wait_meta_request_count_slave notes">
        <p>
          説明: このスレーブによって、メタデータベースの信号を待機する間にスレッドがブロックされた回数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_wait_meta_request_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_meta_request_count">Ndb_api_wait_meta_request_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_meta_request_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_meta_request_count sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_meta_request_count statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_meta_request_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_meta_request_count scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_meta_request_count dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_wait_meta_request_count notes">
        <p>
          説明: この MySQL Server (SQL ノード) によって、メタデータベースの信号を待機する間にスレッドがブロックされた回数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_wait_nanos_count_session" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_nanos_count_session">Ndb_api_wait_nanos_count_session</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_nanos_count_session cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_nanos_count_session sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_nanos_count_session statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_nanos_count_session optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_nanos_count_session scope">セッション</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_nanos_count_session dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_wait_nanos_count_session notes">
        <p>
          説明: このクライアントセッションで、データノードからのある種の信号の待機にかかった合計時間 (ナノ秒)。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_wait_nanos_count_slave" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_nanos_count_slave">Ndb_api_wait_nanos_count_slave</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_nanos_count_slave cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_nanos_count_slave sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_nanos_count_slave statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_nanos_count_slave optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_nanos_count_slave scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_nanos_count_slave dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_wait_nanos_count_slave notes">
        <p>
          説明: このスレーブによって、データノードからのある種の信号の待機にかかった合計時間 (ナノ秒)。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_wait_nanos_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_nanos_count">Ndb_api_wait_nanos_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_nanos_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_nanos_count sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_nanos_count statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_nanos_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_nanos_count scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_wait_nanos_count dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_wait_nanos_count notes">
        <p>
          説明: この MySQL Server (SQL ノード) によって、データノードからのある種の信号の待機にかかった合計時間 (ナノ秒)。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_bytes_sent_count_session" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_bytes_sent_count_session">Ndb_api_bytes_sent_count_session</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_sent_count_session cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_sent_count_session sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_sent_count_session statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_sent_count_session optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_sent_count_session scope">セッション</td>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_sent_count_session dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_bytes_sent_count_session notes">
        <p>
          説明: このクライアントセッションで、データノードに送信されたデータ量 (バイト単位)。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_bytes_sent_count_slave" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_bytes_sent_count_slave">Ndb_api_bytes_sent_count_slave</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_sent_count_slave cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_sent_count_slave sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_sent_count_slave statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_sent_count_slave optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_sent_count_slave scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_sent_count_slave dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_bytes_sent_count_slave notes">
        <p>
          説明: このスレーブによって、データノードに送信されたデータ量 (バイト単位)。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_bytes_sent_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_bytes_sent_count">Ndb_api_bytes_sent_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_sent_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_sent_count sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_sent_count statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_sent_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_sent_count scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_sent_count dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_bytes_sent_count notes">
        <p>
          説明: この MySQL Server (SQL ノード) によって、データノードに送信されたデータ量 (バイト単位)。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_bytes_received_count_session" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_bytes_received_count_session">Ndb_api_bytes_received_count_session</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_received_count_session cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_received_count_session sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_received_count_session statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_received_count_session optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_received_count_session scope">セッション</td>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_received_count_session dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_bytes_received_count_session notes">
        <p>
          説明: このクライアントセッションで、データノードから受信されたデータ量 (バイト単位)。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_bytes_received_count_slave" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_bytes_received_count_slave">Ndb_api_bytes_received_count_slave</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_received_count_slave cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_received_count_slave sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_received_count_slave statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_received_count_slave optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_received_count_slave scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_received_count_slave dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_bytes_received_count_slave notes">
        <p>
          説明: このスレーブによって、データノードから受信されたデータ量 (バイト単位)。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_bytes_received_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_bytes_received_count">Ndb_api_bytes_received_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_received_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_received_count sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_received_count statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_received_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_received_count scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_bytes_received_count dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_bytes_received_count notes">
        <p>
          説明: この MySQL Server (SQL ノード) によって、データノードから受信されたデータ量 (バイト単位)。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_trans_start_count_session" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_start_count_session">Ndb_api_trans_start_count_session</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_start_count_session cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_start_count_session sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_start_count_session statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_start_count_session optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_start_count_session scope">セッション</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_start_count_session dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_trans_start_count_session notes">
        <p>
          説明: このクライアントセッションで開始されたトランザクションの数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_trans_start_count_slave" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_start_count_slave">Ndb_api_trans_start_count_slave</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_start_count_slave cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_start_count_slave sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_start_count_slave statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_start_count_slave optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_start_count_slave scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_start_count_slave dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_trans_start_count_slave notes">
        <p>
          説明: このスレーブにより開始されたトランザクションの数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_trans_start_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_start_count">Ndb_api_trans_start_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_start_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_start_count sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_start_count statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_start_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_start_count scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_start_count dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_trans_start_count notes">
        <p>
          説明: この MySQL Server (SQL ノード) により開始されたトランザクションの数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_trans_commit_count_session" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_commit_count_session">Ndb_api_trans_commit_count_session</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_commit_count_session cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_commit_count_session sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_commit_count_session statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_commit_count_session optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_commit_count_session scope">セッション</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_commit_count_session dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_trans_commit_count_session notes">
        <p>
          説明: このクライアントセッションでコミットされたトランザクションの数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_trans_commit_count_slave" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_commit_count_slave">Ndb_api_trans_commit_count_slave</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_commit_count_slave cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_commit_count_slave sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_commit_count_slave statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_commit_count_slave optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_commit_count_slave scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_commit_count_slave dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_trans_commit_count_slave notes">
        <p>
          説明: このスレーブによりコミットされたトランザクションの数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_trans_commit_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_commit_count">Ndb_api_trans_commit_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_commit_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_commit_count sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_commit_count statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_commit_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_commit_count scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_commit_count dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_trans_commit_count notes">
        <p>
          説明: この MySQL Server (SQL ノード) によりコミットされたトランザクションの数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_trans_abort_count_session" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_abort_count_session">Ndb_api_trans_abort_count_session</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_abort_count_session cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_abort_count_session sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_abort_count_session statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_abort_count_session optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_abort_count_session scope">セッション</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_abort_count_session dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_trans_abort_count_session notes">
        <p>
          説明: このクライアントセッションで中止されたトランザクションの数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_trans_abort_count_slave" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_abort_count_slave">Ndb_api_trans_abort_count_slave</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_abort_count_slave cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_abort_count_slave sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_abort_count_slave statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_abort_count_slave optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_abort_count_slave scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_abort_count_slave dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_trans_abort_count_slave notes">
        <p>
          説明: このスレーブにより中止されたトランザクションの数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_trans_abort_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_abort_count">Ndb_api_trans_abort_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_abort_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_abort_count sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_abort_count statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_abort_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_abort_count scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_abort_count dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_trans_abort_count notes">
        <p>
          説明: この MySQL Server (SQL ノード) により中止されたトランザクションの数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_trans_close_count_session" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_close_count_session">Ndb_api_trans_close_count_session</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_close_count_session cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_close_count_session sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_close_count_session statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_close_count_session optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_close_count_session scope">セッション</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_close_count_session dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_trans_close_count_session notes">
        <p>
          説明: このクライアントセッションで、中止されたトランザクションの数 (TransCommitCount と TransAbortCount との合計より大きい場合があります)。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_trans_close_count_slave" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_close_count_slave">Ndb_api_trans_close_count_slave</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_close_count_slave cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_close_count_slave sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_close_count_slave statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_close_count_slave optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_close_count_slave scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_close_count_slave dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_trans_close_count_slave notes">
        <p>
          説明: このスレーブによって中止されたトランザクションの数 (TransCommitCount と TransAbortCount との合計より大きい場合があります)。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_trans_close_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_close_count">Ndb_api_trans_close_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_close_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_close_count sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_close_count statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_close_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_close_count scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_close_count dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_trans_close_count notes">
        <p>
          説明: この MySQL Server (SQL ノード) によって中止されたトランザクションの数 (TransCommitCount と TransAbortCount との合計より大きい場合があります)。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_pk_op_count_session" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_pk_op_count_session">Ndb_api_pk_op_count_session</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_pk_op_count_session cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_pk_op_count_session sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_pk_op_count_session statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_pk_op_count_session optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_pk_op_count_session scope">セッション</td>
      <td headers="ndbmysqldsumrow-Ndb_api_pk_op_count_session dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_pk_op_count_session notes">
        <p>
          説明: このクライアントセッションで、主キーに基づいた、または主キーを使用した操作の数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_pk_op_count_slave" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_pk_op_count_slave">Ndb_api_pk_op_count_slave</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_pk_op_count_slave cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_pk_op_count_slave sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_pk_op_count_slave statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_pk_op_count_slave optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_pk_op_count_slave scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_pk_op_count_slave dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_pk_op_count_slave notes">
        <p>
          説明: このスレーブによる、主キーに基づいた、または主キーを使用した操作の数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_pk_op_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_pk_op_count">Ndb_api_pk_op_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_pk_op_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_pk_op_count sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_pk_op_count statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_pk_op_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_pk_op_count scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_pk_op_count dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_pk_op_count notes">
        <p>
          説明: この MySQL Server (SQL ノード) による、主キーに基づいた、または主キーを使用した操作の数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_uk_op_count_session" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_uk_op_count_session">Ndb_api_uk_op_count_session</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_uk_op_count_session cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_uk_op_count_session sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_uk_op_count_session statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_uk_op_count_session optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_uk_op_count_session scope">セッション</td>
      <td headers="ndbmysqldsumrow-Ndb_api_uk_op_count_session dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_uk_op_count_session notes">
        <p>
          説明: このクライアントセッションで、一意のキーに基づいた、または一意のキーを使用した操作の数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_uk_op_count_slave" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_uk_op_count_slave">Ndb_api_uk_op_count_slave</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_uk_op_count_slave cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_uk_op_count_slave sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_uk_op_count_slave statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_uk_op_count_slave optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_uk_op_count_slave scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_uk_op_count_slave dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_uk_op_count_slave notes">
        <p>
          説明: このスレーブによる、一意のキーに基づいた、または一意のキーを使用した操作の数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_uk_op_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_uk_op_count">Ndb_api_uk_op_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_uk_op_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_uk_op_count sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_uk_op_count statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_uk_op_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_uk_op_count scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_uk_op_count dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_uk_op_count notes">
        <p>
          説明: この MySQL Server (SQL ノード) による、一意のキーに基づいた、または一意のキーを使用した操作の数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_table_scan_count_session" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_table_scan_count_session">Ndb_api_table_scan_count_session</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_table_scan_count_session cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_table_scan_count_session sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_table_scan_count_session statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_table_scan_count_session optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_table_scan_count_session scope">セッション</td>
      <td headers="ndbmysqldsumrow-Ndb_api_table_scan_count_session dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_table_scan_count_session notes">
        <p>
          説明: このクライアントセッションで開始された、内部テーブルのスキャンを含むテーブルスキャンの回数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_table_scan_count_slave" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_table_scan_count_slave">Ndb_api_table_scan_count_slave</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_table_scan_count_slave cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_table_scan_count_slave sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_table_scan_count_slave statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_table_scan_count_slave optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_table_scan_count_slave scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_table_scan_count_slave dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_table_scan_count_slave notes">
        <p>
          説明: このスレーブによって開始された、内部テーブルのスキャンを含むテーブルスキャンの回数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_table_scan_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_table_scan_count">Ndb_api_table_scan_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_table_scan_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_table_scan_count sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_table_scan_count statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_table_scan_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_table_scan_count scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_table_scan_count dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_table_scan_count notes">
        <p>
          説明: この MySQL Server (SQL ノード) によって開始された、内部テーブルのスキャンを含むテーブルスキャンの回数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_range_scan_count_session" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_range_scan_count_session">Ndb_api_range_scan_count_session</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_range_scan_count_session cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_range_scan_count_session sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_range_scan_count_session statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_range_scan_count_session optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_range_scan_count_session scope">セッション</td>
      <td headers="ndbmysqldsumrow-Ndb_api_range_scan_count_session dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_range_scan_count_session notes">
        <p>
          説明: このクライアントセッションで開始された範囲スキャンの回数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_range_scan_count_slave" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_range_scan_count_slave">Ndb_api_range_scan_count_slave</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_range_scan_count_slave cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_range_scan_count_slave sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_range_scan_count_slave statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_range_scan_count_slave optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_range_scan_count_slave scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_range_scan_count_slave dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_range_scan_count_slave notes">
        <p>
          説明: このスレーブによって開始された範囲スキャンの回数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_range_scan_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_range_scan_count">Ndb_api_range_scan_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_range_scan_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_range_scan_count sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_range_scan_count statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_range_scan_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_range_scan_count scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_range_scan_count dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_range_scan_count notes">
        <p>
          説明: この MySQL Server (SQL ノード) によって開始された範囲スキャンの回数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_pruned_scan_count_session" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_pruned_scan_count_session">Ndb_api_pruned_scan_count_session</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_pruned_scan_count_session cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_pruned_scan_count_session sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_pruned_scan_count_session statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_pruned_scan_count_session optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_pruned_scan_count_session scope">セッション</td>
      <td headers="ndbmysqldsumrow-Ndb_api_pruned_scan_count_session dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_pruned_scan_count_session notes">
        <p>
          説明: このクライアントセッションで単一のパーティションにプルーニングされたスキャンの回数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_pruned_scan_count_slave" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_pruned_scan_count_slave">Ndb_api_pruned_scan_count_slave</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_pruned_scan_count_slave cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_pruned_scan_count_slave sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_pruned_scan_count_slave statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_pruned_scan_count_slave optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_pruned_scan_count_slave scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_pruned_scan_count_slave dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_pruned_scan_count_slave notes">
        <p>
          説明: このスレーブによって単一のパーティションにプルーニングされたスキャンの回数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_pruned_scan_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_pruned_scan_count">Ndb_api_pruned_scan_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_pruned_scan_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_pruned_scan_count sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_pruned_scan_count statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_pruned_scan_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_pruned_scan_count scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_pruned_scan_count dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_pruned_scan_count notes">
        <p>
          説明: この MySQL Server (SQL ノード) によって単一のパーティションにプルーニングされたスキャンの回数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_scan_batch_count_session" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_scan_batch_count_session">Ndb_api_scan_batch_count_session</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_scan_batch_count_session cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_scan_batch_count_session sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_scan_batch_count_session statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_scan_batch_count_session optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_scan_batch_count_session scope">セッション</td>
      <td headers="ndbmysqldsumrow-Ndb_api_scan_batch_count_session dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_scan_batch_count_session notes">
        <p>
          説明: このクライアントセッションで受信されたバッチの行数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_scan_batch_count_slave" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_scan_batch_count_slave">Ndb_api_scan_batch_count_slave</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_scan_batch_count_slave cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_scan_batch_count_slave sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_scan_batch_count_slave statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_scan_batch_count_slave optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_scan_batch_count_slave scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_scan_batch_count_slave dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_scan_batch_count_slave notes">
        <p>
          説明: このスレーブによって受信されたバッチの行数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_scan_batch_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_scan_batch_count">Ndb_api_scan_batch_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_scan_batch_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_scan_batch_count sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_scan_batch_count statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_scan_batch_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_scan_batch_count scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_scan_batch_count dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_scan_batch_count notes">
        <p>
          説明: この MySQL Server (SQL ノード) によって受信されたバッチの行数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_read_row_count_session" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_read_row_count_session">Ndb_api_read_row_count_session</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_read_row_count_session cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_read_row_count_session sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_read_row_count_session statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_read_row_count_session optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_read_row_count_session scope">セッション</td>
      <td headers="ndbmysqldsumrow-Ndb_api_read_row_count_session dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_read_row_count_session notes">
        <p>
          説明: このクライアントセッションで読み取られた行の合計数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_read_row_count_slave" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_read_row_count_slave">Ndb_api_read_row_count_slave</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_read_row_count_slave cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_read_row_count_slave sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_read_row_count_slave statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_read_row_count_slave optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_read_row_count_slave scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_read_row_count_slave dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_read_row_count_slave notes">
        <p>
          説明: このスレーブによって読み取られた行の合計数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_read_row_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_read_row_count">Ndb_api_read_row_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_read_row_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_read_row_count sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_read_row_count statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_read_row_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_read_row_count scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_read_row_count dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_read_row_count notes">
        <p>
          説明: この MySQL Server (SQL ノード) によって読み取られた行の合計数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_trans_local_read_row_count_session" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_local_read_row_count_session">Ndb_api_trans_local_read_row_count_session</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_local_read_row_count_session cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_local_read_row_count_session sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_local_read_row_count_session statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_local_read_row_count_session optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_local_read_row_count_session scope">セッション</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_local_read_row_count_session dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_trans_local_read_row_count_session notes">
        <p>
          説明: このクライアントセッションで読み取られた行の合計数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_trans_local_read_row_count_slave" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_local_read_row_count_slave">Ndb_api_trans_local_read_row_count_slave</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_local_read_row_count_slave cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_local_read_row_count_slave sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_local_read_row_count_slave statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_local_read_row_count_slave optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_local_read_row_count_slave scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_local_read_row_count_slave dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_trans_local_read_row_count_slave notes">
        <p>
          説明: このスレーブによって読み取られた行の合計数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_trans_local_read_row_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_local_read_row_count">Ndb_api_trans_local_read_row_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_local_read_row_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_local_read_row_count sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_local_read_row_count statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_local_read_row_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_local_read_row_count scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_trans_local_read_row_count dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_trans_local_read_row_count notes">
        <p>
          説明: この MySQL Server (SQL ノード) によって読み取られた行の合計数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_event_data_count_injector" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_event_data_count_injector">Ndb_api_event_data_count_injector</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_event_data_count_injector cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_event_data_count_injector sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_event_data_count_injector statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_event_data_count_injector optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_event_data_count_injector scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_event_data_count_injector dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_event_data_count_injector notes">
        <p>
          説明: NDB バイナリログインジェクタスレッドによって受信された行変更イベントの数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_event_data_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_event_data_count">Ndb_api_event_data_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_event_data_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_event_data_count sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_event_data_count statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_event_data_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_event_data_count scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_event_data_count dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_event_data_count notes">
        <p>
          説明: この MySQL Server (SQL ノード) によって受信された行変更イベントの数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_event_nondata_count_injector" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_event_nondata_count_injector">Ndb_api_event_nondata_count_injector</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_event_nondata_count_injector cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_event_nondata_count_injector sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_event_nondata_count_injector statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_event_nondata_count_injector optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_event_nondata_count_injector scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_event_nondata_count_injector dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_event_nondata_count_injector notes">
        <p>
          説明: NDB バイナリログインジェクタスレッドによって受信された、行変更イベント以外のイベントの数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_event_nondata_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_event_nondata_count">Ndb_api_event_nondata_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_event_nondata_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_event_nondata_count sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_event_nondata_count statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_event_nondata_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_event_nondata_count scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_event_nondata_count dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_event_nondata_count notes">
        <p>
          説明: この MySQL Server (SQL ノード) によって受信された、行変更イベント以外のイベントの数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_event_bytes_count_injector" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_event_bytes_count_injector">Ndb_api_event_bytes_count_injector</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_event_bytes_count_injector cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_event_bytes_count_injector sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_event_bytes_count_injector statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_event_bytes_count_injector optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_event_bytes_count_injector scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_event_bytes_count_injector dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_event_bytes_count_injector notes">
        <p>
          説明: NDB バイナリログインジェクタスレッドによって受信されたイベントのバイト数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_api_event_bytes_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_event_bytes_count">Ndb_api_event_bytes_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_event_bytes_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_event_bytes_count sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_event_bytes_count statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_api_event_bytes_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_api_event_bytes_count scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_api_event_bytes_count dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_api_event_bytes_count notes">
        <p>
          説明: この MySQL Server (SQL ノード) によって受信されたイベントのバイト数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_conflict_fn_max" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_conflict_fn_max">Ndb_conflict_fn_max</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_conflict_fn_max cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_fn_max sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_fn_max statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_conflict_fn_max optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_fn_max scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_fn_max dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_conflict_fn_max notes">
        <p>
          説明: サーバーが、クラスタレプリケーションに関連する MySQL Cluster の一部である場合、この変数の値は、「大きい方のタイムスタンプを優先」に基づく競合解決が適用された回数を示します
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_conflict_fn_old" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_conflict_fn_old">Ndb_conflict_fn_old</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_conflict_fn_old cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_fn_old sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_fn_old statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_conflict_fn_old optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_fn_old scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_fn_old dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_conflict_fn_old notes">
        <p>
          説明: サーバーが、クラスタレプリケーションに関連する MySQL Cluster の一部である場合、この変数の値は、「同じタイムスタンプを優先」の競合解決が適用された回数を示します
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_conflict_fn_epoch" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_conflict_fn_epoch">Ndb_conflict_fn_epoch</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_conflict_fn_epoch cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_fn_epoch sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_fn_epoch statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_conflict_fn_epoch optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_fn_epoch scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_fn_epoch dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_conflict_fn_epoch notes">
        <p>
          説明: NDB$EPOCH() 競合検出関数によって競合状態であることが検出された行数
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_conflict_fn_epoch_trans" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_conflict_fn_epoch_trans">Ndb_conflict_fn_epoch_trans</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_conflict_fn_epoch_trans cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_fn_epoch_trans sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_fn_epoch_trans statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_conflict_fn_epoch_trans optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_fn_epoch_trans scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_fn_epoch_trans dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_conflict_fn_epoch_trans notes">
        <p>
          説明: NDB$EPOCH_TRANS() 競合検出関数によって競合状態であることが検出された行数
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_conflict_trans_row_conflict_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_conflict_trans_row_conflict_count">Ndb_conflict_trans_row_conflict_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_row_conflict_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_row_conflict_count sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_row_conflict_count statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_row_conflict_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_row_conflict_count scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_row_conflict_count dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_conflict_trans_row_conflict_count notes">
        <p>
          説明: トランザクション競合関数によって競合状態であることが検出された行数
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_conflict_trans_row_reject_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_conflict_trans_row_reject_count">Ndb_conflict_trans_row_reject_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_row_reject_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_row_reject_count sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_row_reject_count statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_row_reject_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_row_reject_count scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_row_reject_count dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_conflict_trans_row_reject_count notes">
        <p>
          説明: トランザクション競合関数によって競合状態であることが検出されたあと、再調整された行の合計数。Ndb_conflict_trans_row_conflict_count、および競合するトランザクションに含まれているか、または依存しているすべての行が含まれます。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_conflict_trans_reject_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_conflict_trans_reject_count">Ndb_conflict_trans_reject_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_reject_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_reject_count sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_reject_count statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_reject_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_reject_count scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_reject_count dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_conflict_trans_reject_count notes">
        <p>
          説明: トランザクション競合関数によって競合状態であることが検出されたあと、拒否されたトランザクションの数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_conflict_trans_detect_iter_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_conflict_trans_detect_iter_count">Ndb_conflict_trans_detect_iter_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_detect_iter_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_detect_iter_count sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_detect_iter_count statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_detect_iter_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_detect_iter_count scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_detect_iter_count dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_conflict_trans_detect_iter_count notes">
        <p>
          説明: エポックトランザクションのコミットに必要な内部反復回数。Ndb_conflict_trans_conflict_commit_count より (わずかに) 大きいか、または等しい値にしてください。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_conflict_trans_conflict_commit_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_conflict_trans_conflict_commit_count">Ndb_conflict_trans_conflict_commit_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_conflict_commit_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_conflict_commit_count sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_conflict_commit_count statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_conflict_commit_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_conflict_commit_count scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_conflict_trans_conflict_commit_count dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_conflict_trans_conflict_commit_count notes">
        <p>
          説明: トランザクション競合処理を要求したあとにコミットされたエポックトランザクションの数。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_number_of_data_nodes" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_number_of_data_nodes">Ndb_number_of_data_nodes</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_number_of_data_nodes cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_number_of_data_nodes sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_number_of_data_nodes statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_number_of_data_nodes optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_number_of_data_nodes scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_number_of_data_nodes dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_number_of_data_nodes notes">
        <p>
          説明: サーバーが MySQL Cluster の一部である場合、この変数の値はクラスタ内のデータノードの数
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_slave_last_conflict_epoch" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_slave_last_conflict_epoch">Ndb_slave_last_conflict_epoch</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_slave_last_conflict_epoch cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_slave_last_conflict_epoch sysvar">はい</td>
      <td headers="ndbmysqldsumrow-Ndb_slave_last_conflict_epoch statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_slave_last_conflict_epoch optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_slave_last_conflict_epoch scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_slave_last_conflict_epoch dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_slave_last_conflict_epoch notes">
        <p>
          説明: このスレーブで、競合が検出された直近の NDB エポック。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_slave_max_replicated_epoch" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_slave_max_replicated_epoch">Ndb_slave_max_replicated_epoch</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_slave_max_replicated_epoch cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_slave_max_replicated_epoch sysvar">はい</td>
      <td headers="ndbmysqldsumrow-Ndb_slave_max_replicated_epoch statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_slave_max_replicated_epoch optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_slave_max_replicated_epoch scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_slave_max_replicated_epoch dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_slave_max_replicated_epoch notes">
        <p>
          説明: このスレーブで、直近でコミットされた NDB エポック。この値が Ndb_slave_last_conflict_epoch 以上である場合、まだ競合は検出されていません。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_optimization_delay" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb_optimization_delay">ndb_optimization_delay</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_optimization_delay cli">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb_optimization_delay sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_optimization_delay statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_optimization_delay optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb_optimization_delay scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndb_optimization_delay dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_optimization_delay notes">
        <p>
          説明: NDB テーブルに対して OPTIMIZE TABLE で行のセットを処理する間に待機する時間をミリ秒で設定します。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_table_temporary" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_table_temporary">ndb_table_temporary</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_table_temporary cli">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb_table_temporary sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_table_temporary statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_table_temporary optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb_table_temporary scope">セッション</td>
      <td headers="ndbmysqldsumrow-ndb_table_temporary dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_table_temporary notes">
        <p>
          説明: NDB テーブルはディスク上で永続的ではありません。スキーマファイルは作成されず、テーブルはログに記録されません
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_table_no_logging" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_table_no_logging">ndb_table_no_logging</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_table_no_logging cli">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb_table_no_logging sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_table_no_logging statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_table_no_logging optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb_table_no_logging scope">セッション</td>
      <td headers="ndbmysqldsumrow-ndb_table_no_logging dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_table_no_logging notes">
        <p>
          説明: この設定が有効なときに作成された NDB テーブルはディスクに対してチェックポイントを設定しません (ただし、テーブルスキーマファイルは作成されます)。テーブルが NDBCLUSTER で作成されるか、またはそれを使用するように変更されたときに有効な設定は、そのテーブルの有効期間にわたって保持されます。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_autoincrement_prefetch_sz" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_autoincrement_prefetch_sz">ndb_autoincrement_prefetch_sz</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_autoincrement_prefetch_sz cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb_autoincrement_prefetch_sz sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_autoincrement_prefetch_sz statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_autoincrement_prefetch_sz optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb_autoincrement_prefetch_sz scope">両方</td>
      <td headers="ndbmysqldsumrow-ndb_autoincrement_prefetch_sz dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_autoincrement_prefetch_sz notes">
        <p>
          説明: NDB 自動インクリメント値のプリフェッチサイズ
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb-batch-size" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-batch-size">ndb-batch-size</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-batch-size cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb-batch-size sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb-batch-size statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-batch-size optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb-batch-size scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndb-batch-size dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb-batch-size notes">
        <p>
          説明: NDB トランザクションバッチで使用するサイズ (バイト単位)
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb-blob-read-batch-bytes" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-blob-read-batch-bytes">ndb-blob-read-batch-bytes</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-blob-read-batch-bytes cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb-blob-read-batch-bytes sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb-blob-read-batch-bytes statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-blob-read-batch-bytes optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb-blob-read-batch-bytes scope">両方</td>
      <td headers="ndbmysqldsumrow-ndb-blob-read-batch-bytes dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb-blob-read-batch-bytes notes">
        <p>
          説明: 大規模な BLOB 読み取りがバッチ化されるサイズをバイト単位で指定します。0 = 制限なし。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb-blob-write-batch-bytes" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-blob-write-batch-bytes">ndb-blob-write-batch-bytes</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-blob-write-batch-bytes cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb-blob-write-batch-bytes sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb-blob-write-batch-bytes statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-blob-write-batch-bytes optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb-blob-write-batch-bytes scope">両方</td>
      <td headers="ndbmysqldsumrow-ndb-blob-write-batch-bytes dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb-blob-write-batch-bytes notes">
        <p>
          説明: 大規模な BLOB 書き込みがバッチ化されるサイズをバイト単位で指定します。0 = 制限なし。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_cache_check_time" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_cache_check_time">ndb_cache_check_time</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_cache_check_time cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb_cache_check_time sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_cache_check_time statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_cache_check_time optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb_cache_check_time scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndb_cache_check_time dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_cache_check_time notes">
        <p>
          説明: MySQL クエリーキャッシュによって行われるクラスタ SQL ノードのチェック間のミリ秒数
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb-cluster-connection-pool" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-cluster-connection-pool">ndb-cluster-connection-pool</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-cluster-connection-pool cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb-cluster-connection-pool sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb-cluster-connection-pool statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-cluster-connection-pool optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb-cluster-connection-pool scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndb-cluster-connection-pool dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb-cluster-connection-pool notes">
        <p>
          説明: MySQL によって使用されるクラスタへの接続の数
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_join_pushdown" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_join_pushdown">ndb_join_pushdown</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_join_pushdown cli">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb_join_pushdown sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_join_pushdown statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_join_pushdown optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb_join_pushdown scope">両方</td>
      <td headers="ndbmysqldsumrow-ndb_join_pushdown dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_join_pushdown notes">
        <p>
          説明: データノードへの結合のプッシュダウンを有効化
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_execute_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_execute_count">Ndb_execute_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_execute_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_execute_count sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_execute_count statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_execute_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_execute_count scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_execute_count dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_execute_count notes">
        <p>
          説明: 操作によって行われる NDB カーネルへのラウンドトリップの数を指定
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_scan_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_scan_count">Ndb_scan_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_scan_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_scan_count sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_scan_count statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_scan_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_scan_count scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_scan_count dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_scan_count notes">
        <p>
          説明: クラスタが最後に起動されたあとに NDB によって実行されたスキャンの合計数
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_pruned_scan_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_pruned_scan_count">Ndb_pruned_scan_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_pruned_scan_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_pruned_scan_count sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_pruned_scan_count statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_pruned_scan_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_pruned_scan_count scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_pruned_scan_count dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_pruned_scan_count notes">
        <p>
          説明: クラスタが最後に起動されたあとに NDB によって実行された、パーティションプルーニングが使用可能であったスキャンの数
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb-connectstring" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-connectstring">ndb-connectstring</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-connectstring cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb-connectstring sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb-connectstring statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-connectstring optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb-connectstring scope"></td>
      <td headers="ndbmysqldsumrow-ndb-connectstring dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb-connectstring notes">
        <p>
          説明: クラスタ構成を配布する管理サーバーへのポイント
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_extra_logging" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_extra_logging">ndb_extra_logging</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_extra_logging cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb_extra_logging sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_extra_logging statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_extra_logging optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb_extra_logging scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndb_extra_logging dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_extra_logging notes">
        <p>
          説明: MySQL Cluster スキーマ、接続、およびデータ配布イベントの、MySQL エラーログへのロギングを制御
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_force_send" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_force_send">ndb_force_send</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_force_send cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb_force_send sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_force_send statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_force_send optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb_force_send scope">両方</td>
      <td headers="ndbmysqldsumrow-ndb_force_send dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_force_send notes">
        <p>
          説明: ほかのスレッドを待機することなく、ただちにバッファーを NDB に強制的に送信
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_use_exact_count" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_use_exact_count">ndb_use_exact_count</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_use_exact_count cli">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb_use_exact_count sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_use_exact_count statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_use_exact_count optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb_use_exact_count scope">両方</td>
      <td headers="ndbmysqldsumrow-ndb_use_exact_count dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_use_exact_count notes">
        <p>
          説明: クエリーを計画する際に正確な行数を使用
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb-log-apply-status" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-apply-status">ndb-log-apply-status</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-log-apply-status cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb-log-apply-status sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb-log-apply-status statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-log-apply-status optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb-log-apply-status scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndb-log-apply-status dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb-log-apply-status notes">
        <p>
          説明: スレーブとして機能している MySQL サーバーが、直接のマスターから受信した mysql.ndb_apply_status の更新を、自身のサーバー ID を使用して自身のバイナリログに記録するようになります。サーバーが --ndbcluster オプションで起動された場合にのみ有効です。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_log_apply_status" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_log_apply_status">ndb_log_apply_status</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_log_apply_status cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb_log_apply_status sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_log_apply_status statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_log_apply_status optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb_log_apply_status scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndb_log_apply_status dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_log_apply_status notes">
        <p>
          説明: スレーブとして機能している MySQL サーバーが、直接のマスターから受信した mysql.ndb_apply_status の更新を、自身のサーバー ID を使用して自身のバイナリログに記録するかどうか。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_log_bin" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_log_bin">ndb_log_bin</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_log_bin cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb_log_bin sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_log_bin statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_log_bin optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb_log_bin scope">両方</td>
      <td headers="ndbmysqldsumrow-ndb_log_bin dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_log_bin notes">
        <p>
          説明: NDB テーブルの更新をバイナリログに書き込みます。--log-bin でバイナリロギングが有効になっている場合にのみ有効です。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_log_binlog_index" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_log_binlog_index">ndb_log_binlog_index</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_log_binlog_index cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb_log_binlog_index sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_log_binlog_index statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_log_binlog_index optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb_log_binlog_index scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndb_log_binlog_index dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_log_binlog_index notes">
        <p>
          説明: エポックとバイナリログの位置の間のマッピングを ndb_binlog_index テーブルに挿入します。デフォルトでは ON になります。サーバー上でバイナリロギングが有効になっている場合にのみ有効です。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb-log-exclusive-reads" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-exclusive-reads">ndb-log-exclusive-reads</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-log-exclusive-reads cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb-log-exclusive-reads sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb-log-exclusive-reads statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-log-exclusive-reads optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb-log-exclusive-reads scope">両方</td>
      <td headers="ndbmysqldsumrow-ndb-log-exclusive-reads dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb-log-exclusive-reads notes">
        <p>
          説明: 排他的ロックによる主キーの読み取りをログに記録します。読み取りの競合に基づく競合解決を許可します。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_log_exclusive_reads" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_log_exclusive_reads">ndb_log_exclusive_reads</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_log_exclusive_reads cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb_log_exclusive_reads sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_log_exclusive_reads statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_log_exclusive_reads optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb_log_exclusive_reads scope">両方</td>
      <td headers="ndbmysqldsumrow-ndb_log_exclusive_reads dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_log_exclusive_reads notes">
        <p>
          説明: 排他的ロックによる主キーの読み取りをログに記録します。読み取りの競合に基づく競合解決を許可します。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb-log-orig" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-orig">ndb-log-orig</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-log-orig cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb-log-orig sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb-log-orig statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-log-orig optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb-log-orig scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndb-log-orig dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb-log-orig notes">
        <p>
          説明: 発信サーバー ID とエポックを mysql.ndb_binlog_index テーブルに記録します。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_log_orig" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_log_orig">ndb_log_orig</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_log_orig cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb_log_orig sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_log_orig statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_log_orig optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb_log_orig scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndb_log_orig dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_log_orig notes">
        <p>
          説明: 発信サーバーの ID とエポックが mysql.ndb_binlog_index テーブルに記録されるかどうか。mysqld を起動するときに --ndb-log-orig オプションを使用して設定します。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb-log-transaction-id" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-transaction-id">ndb-log-transaction-id</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-log-transaction-id cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb-log-transaction-id sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb-log-transaction-id statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-log-transaction-id optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb-log-transaction-id scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndb-log-transaction-id dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb-log-transaction-id notes">
        <p>
          説明: NDB トランザクション ID をバイナリログに書き込みます。--log-bin-v1-events=OFF が必要です。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_log_transaction_id" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_log_transaction_id">ndb_log_transaction_id</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_log_transaction_id cli">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb_log_transaction_id sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_log_transaction_id statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_log_transaction_id optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb_log_transaction_id scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndb_log_transaction_id dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_log_transaction_id notes">
        <p>
          説明: NDB トランザクション ID がバイナリログに書き込まれるかどうか。(読み取り専用。)
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_log_updated_only" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-updated-only">ndb_log_updated_only</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_log_updated_only cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb_log_updated_only sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_log_updated_only statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_log_updated_only optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb_log_updated_only scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndb_log_updated_only dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_log_updated_only notes">
        <p>
          説明: 完全な行 (ON) または更新のみ (OFF) をログに記録
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb-log-update-as-write" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-update-as-write">ndb-log-update-as-write</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-log-update-as-write cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb-log-update-as-write sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb-log-update-as-write statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-log-update-as-write optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb-log-update-as-write scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndb-log-update-as-write dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb-log-update-as-write notes">
        <p>
          説明: マスターでの更新のロギングを、更新 (OFF) と書き込み (ON) の間で切り替え
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb-log-empty-epochs" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-empty-epochs">ndb-log-empty-epochs</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-log-empty-epochs cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb-log-empty-epochs sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb-log-empty-epochs statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-log-empty-epochs optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb-log-empty-epochs scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndb-log-empty-epochs dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb-log-empty-epochs notes">
        <p>
          説明: 有効な場合は、--log-slave-updates が有効であっても、変更がなかったエポックが ndb_apply_status および ndb_binlog_index テーブルに書き込まれるようになります。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_log_empty_epochs" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_log_empty_epochs">ndb_log_empty_epochs</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_log_empty_epochs cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb_log_empty_epochs sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_log_empty_epochs statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_log_empty_epochs optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb_log_empty_epochs scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndb_log_empty_epochs dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_log_empty_epochs notes">
        <p>
          説明: 有効な場合は、log_slave_updates が有効であっても、変更がなかったエポックが ndb_apply_status および ndb_binlog_index テーブルに書き込まれます。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_slave_conflict_role" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_slave_conflict_role">ndb_slave_conflict_role</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_slave_conflict_role cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb_slave_conflict_role sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_slave_conflict_role statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_slave_conflict_role optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb_slave_conflict_role scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndb_slave_conflict_role dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_slave_conflict_role notes">
        <p>
          説明: スレーブが、競合の検出と解決で果たすロール。値は PRIMARY、SECONDARY、PASS、NONE (デフォルト) のいずれかです。スレーブ SQL スレッドが停止されている場合にのみ変更できます。詳細は、ドキュメントを参照してください。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb-transid-mysql-connection-map" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-transid-mysql-connection-map">ndb-transid-mysql-connection-map</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-transid-mysql-connection-map cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb-transid-mysql-connection-map sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb-transid-mysql-connection-map statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-transid-mysql-connection-map optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb-transid-mysql-connection-map scope"></td>
      <td headers="ndbmysqldsumrow-ndb-transid-mysql-connection-map dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb-transid-mysql-connection-map notes">
        <p>
          説明: ndb_transid_mysql_connection_map プラグインを有効または無効にします。つまり、その名前を持つ INFORMATION_SCHEMA テーブルを有効または無効にします。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_pushed_reads" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_pushed_reads">Ndb_pushed_reads</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_pushed_reads cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_pushed_reads sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_pushed_reads statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_pushed_reads optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_pushed_reads scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_pushed_reads dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_pushed_reads notes">
        <p>
          説明: プッシュダウン結合によってデータノード上で実行された読み取りの数
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_pushed_queries_defined" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_pushed_queries_defined">Ndb_pushed_queries_defined</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_pushed_queries_defined cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_pushed_queries_defined sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_pushed_queries_defined statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_pushed_queries_defined optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_pushed_queries_defined scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_pushed_queries_defined dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_pushed_queries_defined notes">
        <p>
          説明: API ノードがデータノードにプッシュダウンしようとした結合の数
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_pushed_queries_dropped" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_pushed_queries_dropped">Ndb_pushed_queries_dropped</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_pushed_queries_dropped cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_pushed_queries_dropped sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_pushed_queries_dropped statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_pushed_queries_dropped optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_pushed_queries_dropped scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_pushed_queries_dropped dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_pushed_queries_dropped notes">
        <p>
          説明: API ノードがプッシュダウンしようとしたが、失敗した結合の数
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_pushed_queries_executed" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_pushed_queries_executed">Ndb_pushed_queries_executed</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_pushed_queries_executed cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_pushed_queries_executed sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_pushed_queries_executed statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_pushed_queries_executed optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_pushed_queries_executed scope">グローバル</td>
      <td headers="ndbmysqldsumrow-Ndb_pushed_queries_executed dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_pushed_queries_executed notes">
        <p>
          説明: 正常にプッシュダウンされ、データノード上で実行された結合の数
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb-nodeid" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-nodeid">ndb-nodeid</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-nodeid cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb-nodeid sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb-nodeid statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-nodeid optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb-nodeid scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndb-nodeid dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb-nodeid notes">
        <p>
          説明: この MySQL サーバーの MySQL Cluster ノード ID
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb-mgmd-host" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-mgmd-host">ndb-mgmd-host</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-mgmd-host cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb-mgmd-host sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb-mgmd-host statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-mgmd-host optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb-mgmd-host scope"></td>
      <td headers="ndbmysqldsumrow-ndb-mgmd-host dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb-mgmd-host notes">
        <p>
          説明: 管理サーバーに接続するためのホスト (およびポート (必要な場合)) を設定します
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb-recv-thread-activation-threshold" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-recv-thread-activation-threshold">ndb-recv-thread-activation-threshold</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-recv-thread-activation-threshold cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb-recv-thread-activation-threshold sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb-recv-thread-activation-threshold statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-recv-thread-activation-threshold optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb-recv-thread-activation-threshold scope"></td>
      <td headers="ndbmysqldsumrow-ndb-recv-thread-activation-threshold dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb-recv-thread-activation-threshold notes">
        <p>
          説明: 受信スレッドがクラスタ接続のポーリングを引き継ぐときのアクティブ化のしきい値 (同時にアクティブなスレッドで測定されます)
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_recv_thread_activation_threshold" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_recv_thread_activation_threshold">ndb_recv_thread_activation_threshold</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_recv_thread_activation_threshold cli">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb_recv_thread_activation_threshold sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb_recv_thread_activation_threshold statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_recv_thread_activation_threshold optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb_recv_thread_activation_threshold scope"></td>
      <td headers="ndbmysqldsumrow-ndb_recv_thread_activation_threshold dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_recv_thread_activation_threshold notes">
        <p>
          説明: 受信スレッドがクラスタ接続のポーリングを引き継ぐときのアクティブ化のしきい値 (同時にアクティブなスレッドで測定されます)
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb-recv-thread-cpu-mask" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-recv-thread-cpu-mask">ndb-recv-thread-cpu-mask</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-recv-thread-cpu-mask cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb-recv-thread-cpu-mask sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb-recv-thread-cpu-mask statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-recv-thread-cpu-mask optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb-recv-thread-cpu-mask scope"></td>
      <td headers="ndbmysqldsumrow-ndb-recv-thread-cpu-mask dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb-recv-thread-cpu-mask notes">
        <p>
          説明: 受信者スレッドを特定の CPU にロックするための CPU マスク。16 進数として指定されます。詳細は、ドキュメントを参照してください。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_recv_thread_cpu_mask" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_recv_thread_cpu_mask">ndb_recv_thread_cpu_mask</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_recv_thread_cpu_mask cli">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb_recv_thread_cpu_mask sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_recv_thread_cpu_mask statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_recv_thread_cpu_mask optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb_recv_thread_cpu_mask scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndb_recv_thread_cpu_mask dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_recv_thread_cpu_mask notes">
        <p>
          説明: 受信者スレッドを特定の CPU にロックするための CPU マスク。16 進数として指定されます。詳細は、ドキュメントを参照してください。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb-wait-connected" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-wait-connected">ndb-wait-connected</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-wait-connected cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb-wait-connected sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb-wait-connected statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-wait-connected optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb-wait-connected scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndb-wait-connected dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb-wait-connected notes">
        <p>
          説明: MySQL サーバーが、MySQL クライアントの接続を受け入れる前にクラスタ管理およびデータノードへの接続を待機する時間 (秒単位)。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb-wait-setup" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-wait-setup">ndb-wait-setup</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-wait-setup cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb-wait-setup sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb-wait-setup statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-wait-setup optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb-wait-setup scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndb-wait-setup dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb-wait-setup notes">
        <p>
          説明: MySQL サーバーが NDB エンジンのセットアップの完了を待機する時間 (秒単位)。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndbcluster" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndbcluster">ndbcluster</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndbcluster cli">はい</td>
      <td headers="ndbmysqldsumrow-ndbcluster sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-ndbcluster statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndbcluster optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndbcluster scope"></td>
      <td headers="ndbmysqldsumrow-ndbcluster dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndbcluster notes">
        <p>
          説明: NDB Cluster を有効化 (このバージョンの MySQL がサポートしている場合)
        </p>
        <p>
          <code class="option">--skip-ndbcluster</code> によって無効になります
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndbinfo_database" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndbinfo_database">ndbinfo_database</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndbinfo_database cli">いいえ</td>
      <td headers="ndbmysqldsumrow-ndbinfo_database sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndbinfo_database statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndbinfo_database optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-ndbinfo_database scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndbinfo_database dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndbinfo_database notes">
        <p>
          説明: NDB 情報データベースに使用される名前。読み取り専用。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndbinfo_max_bytes" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndbinfo_max_bytes">ndbinfo_max_bytes</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndbinfo_max_bytes cli">はい</td>
      <td headers="ndbmysqldsumrow-ndbinfo_max_bytes sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndbinfo_max_bytes statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndbinfo_max_bytes optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-ndbinfo_max_bytes scope">両方</td>
      <td headers="ndbmysqldsumrow-ndbinfo_max_bytes dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndbinfo_max_bytes notes">
        <p>
          説明: デバッグにのみ使用されます。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndbinfo_max_rows" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndbinfo_max_rows">ndbinfo_max_rows</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndbinfo_max_rows cli">はい</td>
      <td headers="ndbmysqldsumrow-ndbinfo_max_rows sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndbinfo_max_rows statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndbinfo_max_rows optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-ndbinfo_max_rows scope">両方</td>
      <td headers="ndbmysqldsumrow-ndbinfo_max_rows dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndbinfo_max_rows notes">
        <p>
          説明: デバッグにのみ使用されます。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndbinfo_offline" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndbinfo_offline">ndbinfo_offline</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndbinfo_offline cli">いいえ</td>
      <td headers="ndbmysqldsumrow-ndbinfo_offline sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndbinfo_offline statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndbinfo_offline optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-ndbinfo_offline scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndbinfo_offline dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndbinfo_offline notes">
        <p>
          説明: ndbinfo データベースをオフラインモードにします。この場合、テーブルまたはビューから行は返されません。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndbinfo_show_hidden" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndbinfo_show_hidden">ndbinfo_show_hidden</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndbinfo_show_hidden cli">はい</td>
      <td headers="ndbmysqldsumrow-ndbinfo_show_hidden sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndbinfo_show_hidden statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndbinfo_show_hidden optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-ndbinfo_show_hidden scope">両方</td>
      <td headers="ndbmysqldsumrow-ndbinfo_show_hidden dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndbinfo_show_hidden notes">
        <p>
          説明: ndbinfo 内部ベーステーブルを mysql クライアントで表示するかどうか。デフォルトは OFF です。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndbinfo_table_prefix" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndbinfo_table_prefix">ndbinfo_table_prefix</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndbinfo_table_prefix cli">はい</td>
      <td headers="ndbmysqldsumrow-ndbinfo_table_prefix sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndbinfo_table_prefix statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndbinfo_table_prefix optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-ndbinfo_table_prefix scope">両方</td>
      <td headers="ndbmysqldsumrow-ndbinfo_table_prefix dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndbinfo_table_prefix notes">
        <p>
          説明: ndbinfo 内部ベーステーブルの命名に使用するプリフィクス
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndbinfo_version" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndbinfo_version">ndbinfo_version</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndbinfo_version cli">いいえ</td>
      <td headers="ndbmysqldsumrow-ndbinfo_version sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndbinfo_version statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndbinfo_version optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-ndbinfo_version scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndbinfo_version dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndbinfo_version notes">
        <p>
          説明: ndbinfo エンジンのバージョン。読み取り専用。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-server-id-bits" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_server-id-bits">server-id-bits</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-server-id-bits cli">はい</td>
      <td headers="ndbmysqldsumrow-server-id-bits sysvar">はい</td>
      <td headers="ndbmysqldsumrow-server-id-bits statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-server-id-bits optfile">はい</td>
      <td headers="ndbmysqldsumrow-server-id-bits scope">グローバル</td>
      <td headers="ndbmysqldsumrow-server-id-bits dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-server-id-bits notes">
        <p>
          説明: サーバーを識別するために実際に使用される server_id 内の最下位ビットの数を設定することにより、NDB API アプリケーションが最上位ビットにアプリケーションデータを格納できるようにします。server_id は 2 の「この値」乗未満である必要があります。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-server_id_bits" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_server_id_bits">server_id_bits</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-server_id_bits cli">はい</td>
      <td headers="ndbmysqldsumrow-server_id_bits sysvar">はい</td>
      <td headers="ndbmysqldsumrow-server_id_bits statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-server_id_bits optfile">はい</td>
      <td headers="ndbmysqldsumrow-server_id_bits scope">グローバル</td>
      <td headers="ndbmysqldsumrow-server_id_bits dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-server_id_bits notes">
        <p>
          説明: --server-id-bits オプションがデフォルト以外の値に設定された状態でサーバーが起動された場合の server_id の有効な値。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-slave_allow_batching" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_slave_allow_batching">slave_allow_batching</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-slave_allow_batching cli">はい</td>
      <td headers="ndbmysqldsumrow-slave_allow_batching sysvar">はい</td>
      <td headers="ndbmysqldsumrow-slave_allow_batching statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-slave_allow_batching optfile">はい</td>
      <td headers="ndbmysqldsumrow-slave_allow_batching scope">グローバル</td>
      <td headers="ndbmysqldsumrow-slave_allow_batching dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-slave_allow_batching notes">
        <p>
          説明: レプリケーションスレーブの更新バッチ化をオンおよびオフにする
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-transaction_allow_batching" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_transaction_allow_batching">transaction_allow_batching</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-transaction_allow_batching cli">いいえ</td>
      <td headers="ndbmysqldsumrow-transaction_allow_batching sysvar">はい</td>
      <td headers="ndbmysqldsumrow-transaction_allow_batching statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-transaction_allow_batching optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-transaction_allow_batching scope">セッション</td>
      <td headers="ndbmysqldsumrow-transaction_allow_batching dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-transaction_allow_batching notes">
        <p>
          説明: トランザクション内でのステートメントのバッチ化を許可します。使用するには AUTOCOMMIT を無効にします。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-have_ndbcluster" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_have_ndbcluster">have_ndbcluster</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-have_ndbcluster cli">いいえ</td>
      <td headers="ndbmysqldsumrow-have_ndbcluster sysvar">はい</td>
      <td headers="ndbmysqldsumrow-have_ndbcluster statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-have_ndbcluster optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-have_ndbcluster scope">グローバル</td>
      <td headers="ndbmysqldsumrow-have_ndbcluster dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-have_ndbcluster notes">
        <p>
          説明: mysqld が NDB Cluster テーブルをサポートするかどうか (--ndbcluster オプションで設定されます)。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb-deferred-constraints" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-deferred-constraints">ndb-deferred-constraints</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-deferred-constraints cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb-deferred-constraints sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb-deferred-constraints statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-deferred-constraints optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb-deferred-constraints scope">両方</td>
      <td headers="ndbmysqldsumrow-ndb-deferred-constraints dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb-deferred-constraints notes">
        <p>
          説明: 一意のインデックスに関する制約チェック (サポートされている場合) を、コミット時まで遅延させることを指定します。通常は必要なく、使用されません。テストの目的にのみ使用されます。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_deferred_constraints" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_deferred_constraints">ndb_deferred_constraints</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_deferred_constraints cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb_deferred_constraints sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_deferred_constraints statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_deferred_constraints optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb_deferred_constraints scope">両方</td>
      <td headers="ndbmysqldsumrow-ndb_deferred_constraints dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_deferred_constraints notes">
        <p>
          説明: 制約チェック (サポートされている場合) を遅延させることを指定します。通常は必要なく、使用されません。テストの目的にのみ使用されます。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb-distribution" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-distribution">ndb-distribution</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-distribution cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb-distribution sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb-distribution statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb-distribution optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb-distribution scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndb-distribution dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb-distribution notes">
        <p>
          説明: NDBCLUSTER の新しいテーブルのデフォルトの配布 (KEYHASH または LINHASH、デフォルトは KEYHASH)
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_distribution" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_distribution">ndb_distribution</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_distribution cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb_distribution sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_distribution statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_distribution optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb_distribution scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndb_distribution dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_distribution notes">
        <p>
          説明: NDBCLUSTER の新しいテーブルのデフォルトの配布 (KEYHASH または LINHASH、デフォルトは KEYHASH)
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_eventbuffer_max_alloc" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_eventbuffer_max_alloc">ndb_eventbuffer_max_alloc</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_eventbuffer_max_alloc cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb_eventbuffer_max_alloc sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_eventbuffer_max_alloc statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_eventbuffer_max_alloc optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb_eventbuffer_max_alloc scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndb_eventbuffer_max_alloc dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_eventbuffer_max_alloc notes">
        <p>
          説明: NDB API によるイベントのバッファリングのために割り当てることのできる最大メモリー。デフォルトでは 0 (制限なし) になります。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_index_stat_cache_entries" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_index_stat_cache_entries">ndb_index_stat_cache_entries</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_index_stat_cache_entries cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb_index_stat_cache_entries sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_index_stat_cache_entries statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_index_stat_cache_entries optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb_index_stat_cache_entries scope">両方</td>
      <td headers="ndbmysqldsumrow-ndb_index_stat_cache_entries dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_index_stat_cache_entries notes">
        <p>
          説明: 開始キーと終了キーの数を決定することにより、統計の粒度を設定
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_index_stat_enable" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_index_stat_enable">ndb_index_stat_enable</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_index_stat_enable cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb_index_stat_enable sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_index_stat_enable statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_index_stat_enable optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb_index_stat_enable scope">両方</td>
      <td headers="ndbmysqldsumrow-ndb_index_stat_enable dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_index_stat_enable notes">
        <p>
          説明: クエリーの最適化で NDB インデックス統計を使用
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_index_stat_option" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_index_stat_option">ndb_index_stat_option</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_index_stat_option cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb_index_stat_option sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_index_stat_option statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_index_stat_option optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb_index_stat_option scope">両方</td>
      <td headers="ndbmysqldsumrow-ndb_index_stat_option dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_index_stat_option notes">
        <p>
          説明: NDB インデックス統計の調整可能なオプションのカンマ区切りのリスト。リストはスペースを含んではなりません
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_index_stat_update_freq" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_index_stat_update_freq">ndb_index_stat_update_freq</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_index_stat_update_freq cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb_index_stat_update_freq sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_index_stat_update_freq statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_index_stat_update_freq optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb_index_stat_update_freq scope">両方</td>
      <td headers="ndbmysqldsumrow-ndb_index_stat_update_freq dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_index_stat_update_freq notes">
        <p>
          説明: 統計キャッシュではなくデータノードにクエリーを実行する頻度
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_optimized_node_selection" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_optimized_node_selection">ndb_optimized_node_selection</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_optimized_node_selection cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb_optimized_node_selection sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_optimized_node_selection statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_optimized_node_selection optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb_optimized_node_selection scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndb_optimized_node_selection dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_optimized_node_selection notes">
        <p>
          説明: SQL ノードが、トランザクションコーディネータとして使用するためにクラスタデータノードを選択する方法を決定
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_report_thresh_binlog_epoch_slip" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_report_thresh_binlog_epoch_slip">ndb_report_thresh_binlog_epoch_slip</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_report_thresh_binlog_epoch_slip cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb_report_thresh_binlog_epoch_slip sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb_report_thresh_binlog_epoch_slip statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_report_thresh_binlog_epoch_slip optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb_report_thresh_binlog_epoch_slip scope"></td>
      <td headers="ndbmysqldsumrow-ndb_report_thresh_binlog_epoch_slip dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_report_thresh_binlog_epoch_slip notes">
        <p>
          説明: これは、バイナリログステータスをレポートする前に、過ぎていなければならないエポックの数のしきい値です
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_report_thresh_binlog_mem_usage" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_report_thresh_binlog_mem_usage">ndb_report_thresh_binlog_mem_usage</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_report_thresh_binlog_mem_usage cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb_report_thresh_binlog_mem_usage sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb_report_thresh_binlog_mem_usage statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_report_thresh_binlog_mem_usage optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb_report_thresh_binlog_mem_usage scope"></td>
      <td headers="ndbmysqldsumrow-ndb_report_thresh_binlog_mem_usage dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_report_thresh_binlog_mem_usage notes">
        <p>
          説明: これは、バイナリログステータスをレポートする前に、残っている空きメモリーの割合のしきい値です。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_show_foreign_key_mock_tables" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_show_foreign_key_mock_tables">ndb_show_foreign_key_mock_tables</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_show_foreign_key_mock_tables cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb_show_foreign_key_mock_tables sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_show_foreign_key_mock_tables statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_show_foreign_key_mock_tables optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb_show_foreign_key_mock_tables scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndb_show_foreign_key_mock_tables dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_show_foreign_key_mock_tables notes">
        <p>
          説明: foreign_key_checks=0 をサポートするために使用される擬似テーブルを表示します。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_use_transactions" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_use_transactions">ndb_use_transactions</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_use_transactions cli">はい</td>
      <td headers="ndbmysqldsumrow-ndb_use_transactions sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_use_transactions statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_use_transactions optfile">はい</td>
      <td headers="ndbmysqldsumrow-ndb_use_transactions scope">両方</td>
      <td headers="ndbmysqldsumrow-ndb_use_transactions dynamic">はい</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_use_transactions notes">
        <p>
          説明: SELECT COUNT(*) クエリー計画中に、強制的に NDB にレコードの数を使用してこのタイプのクエリーを高速化させる
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_version" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_version">ndb_version</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_version cli">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb_version sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_version statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_version optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb_version scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndb_version dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_version notes">
        <p>
          説明: ビルドおよび NDB エンジンのバージョンを整数として表示します。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-ndb_version_string" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_version_string">ndb_version_string</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_version_string cli">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb_version_string sysvar">はい</td>
      <td headers="ndbmysqldsumrow-ndb_version_string statvar">いいえ</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-ndb_version_string optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-ndb_version_string scope">グローバル</td>
      <td headers="ndbmysqldsumrow-ndb_version_string dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-ndb_version_string notes">
        <p>
          説明: NDB エンジンのバージョンを含むビルド情報を ndb-x.y.z の形式で表示します。
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_cluster_node_id" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_cluster_node_id">Ndb_cluster_node_id</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_cluster_node_id cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_cluster_node_id sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_cluster_node_id statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_cluster_node_id optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_cluster_node_id scope">両方</td>
      <td headers="ndbmysqldsumrow-Ndb_cluster_node_id dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_cluster_node_id notes">
        <p>
          説明: サーバーが MySQL Cluster ノードとして機能している場合、この変数の値はクラスタ内のそのノード ID
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_config_from_host" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_config_from_host">Ndb_config_from_host</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_config_from_host cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_config_from_host sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_config_from_host statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_config_from_host optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_config_from_host scope">両方</td>
      <td headers="ndbmysqldsumrow-Ndb_config_from_host dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_config_from_host notes">
        <p>
          説明: Cluster 管理サーバーのホスト名または IP アドレス。以前は Ndb_connected_host
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Ndb_config_from_port" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_config_from_port">Ndb_config_from_port</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_config_from_port cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_config_from_port sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_config_from_port statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Ndb_config_from_port optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Ndb_config_from_port scope">両方</td>
      <td headers="ndbmysqldsumrow-Ndb_config_from_port dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Ndb_config_from_port notes">
        <p>
          説明: Cluster 管理サーバーに接続するためのポート。以前は Ndb_connected_port
        </p>
      </td>
    </tr></tbody><tbody><tr>
      <td colspan="3" align="center" id="ndbmysqldsumrow-Com_show_ndb_status" headers="optvar">
        <p>
          <code class="literal"><a class="link" href="server-administration.html#statvar_Com_xxx">Com_show_ndb_status</a></code>
        </p>
      </td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Com_show_ndb_status cli">いいえ</td>
      <td headers="ndbmysqldsumrow-Com_show_ndb_status sysvar">いいえ</td>
      <td headers="ndbmysqldsumrow-Com_show_ndb_status statvar">はい</td>
    </tr><tr>
      <td headers="ndbmysqldsumrow-Com_show_ndb_status optfile">いいえ</td>
      <td headers="ndbmysqldsumrow-Com_show_ndb_status scope">両方</td>
      <td headers="ndbmysqldsumrow-Com_show_ndb_status dynamic">いいえ</td>
    </tr><tr>
      <td colspan="3" headers="ndbmysqldsumrow-Com_show_ndb_status notes">
        <p>
          説明: SHOW NDB STATUS ステートメントの数
        </p>
      </td>
    </tr></tbody></table></div></div><br class="table-break"></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-program-options-mysqld"></a>18.3.4.2 MySQL Cluster 用の MySQL Server オプション</h4></div></div></div><a class="indexterm" name="idm139979033104000"></a><a class="indexterm" name="idm139979033101856"></a><a class="indexterm" name="idm139979033099824"></a><a class="indexterm" name="idm139979033097840"></a><a class="indexterm" name="idm139979033095680"></a><p>
        このセクションでは、MySQL Cluster に関連する <span class="command"><strong>mysqld</strong></span> サーバーオプションについて説明します。MySQL Cluster に固有でない <span class="command"><strong>mysqld</strong></span> オプション、および <span class="command"><strong>mysqld</strong></span> でのオプションの使用に関する一般的な情報については、<a class="xref" href="server-administration.html#server-options" title="5.1.3 サーバーコマンドオプション">セクション5.1.3「サーバーコマンドオプション」</a>を参照してください。
      </p><p>
        その他の MySQL Cluster プロセス (<span class="command"><strong>ndbd</strong></span>、<span class="command"><strong>ndb_mgmd</strong></span>、および <span class="command"><strong>ndb_mgm</strong></span>) で使用されるコマンド行オプションについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="18.4.27 MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション">セクション18.4.27「MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション」</a>を参照してください。<code class="literal">NDB</code> のユーティリティープログラム (<span class="command"><strong>ndb_desc</strong></span>、<span class="command"><strong>ndb_size.pl</strong></span>、<span class="command"><strong>ndb_show_tables</strong></span> など) で使用されるコマンド行オプションについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-programs" title="18.4 MySQL Cluster プログラム">セクション18.4「MySQL Cluster プログラム」</a>を参照してください。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysqld_ndb-batch-size"></a>
            <a class="indexterm" name="idm139979033081184"></a> <a class="indexterm" name="idm139979033079056"></a> <code class="option">--ndb-batch-size=<em class="replaceable"><code>#</code></em></code>
          </p><div class="table"><a name="ndb-batch-size-detailtable"></a><p class="title"><b>表 18.10 
            ndb-batch-size の型と値の情報</b></p><div class="table-contents"><table id="ndb-batch-size-detailtable" summary="This table provides type and value information for ndb-batch-size"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb-batch-size" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb-batch-size" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb-batch-size" abbr="System">システム変数</th>
        <th id="statvar-ndb-batch-size" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb-batch-size" abbr="File">オプションファイル</th>
        <th id="scope-ndb-batch-size" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb-batch-size" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb-batch-size" abbr="Version">開始バージョン</th>
        <th id="type-ndb-batch-size" abbr="Type">型</th>
        <th id="range-ndb-batch-size" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb-batch-size" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb-batch-size" headers="optvar-ndb-batch-size">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-batch-size">ndb-batch-size</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb-batch-size cli-ndb-batch-size">はい</td>
        <td headers="row-ndb-batch-size sysvar-ndb-batch-size">はい</td>
        <td headers="row-ndb-batch-size statvar-ndb-batch-size">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-batch-size optfile-ndb-batch-size">はい</td>
        <td headers="row-ndb-batch-size scope-ndb-batch-size">グローバル</td>
        <td headers="row-ndb-batch-size dynamic-ndb-batch-size">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-batch-size version-ndb-batch-size">NDB 7.3</td>
        <td headers="row-ndb-batch-size type-ndb-batch-size">数値</td>
        <td headers="row-ndb-batch-size range-ndb-batch-size">32768 / 0 - 31536000</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb-batch-size notes-ndb-batch-size">
          <p>
            説明: NDB トランザクションバッチで使用するサイズ (バイト単位)
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            これは、NDB のトランザクションバッチで使用されるサイズ (バイト単位) を設定します。
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb-cluster-connection-pool"></a>
            <a class="indexterm" name="idm139979033029472"></a> <a class="indexterm" name="idm139979033027296"></a> <code class="option">--ndb-cluster-connection-pool=<em class="replaceable"><code>#</code></em></code>
          </p><div class="table"><a name="ndb-cluster-connection-pool-detailtable"></a><p class="title"><b>表 18.11 
            ndb-cluster-connection-pool の型と値の情報</b></p><div class="table-contents"><table id="ndb-cluster-connection-pool-detailtable" summary="This table provides type and value information for ndb-cluster-connection-pool"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb-cluster-connection-pool" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb-cluster-connection-pool" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb-cluster-connection-pool" abbr="System">システム変数</th>
        <th id="statvar-ndb-cluster-connection-pool" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb-cluster-connection-pool" abbr="File">オプションファイル</th>
        <th id="scope-ndb-cluster-connection-pool" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb-cluster-connection-pool" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb-cluster-connection-pool" abbr="Version">開始バージョン</th>
        <th id="type-ndb-cluster-connection-pool" abbr="Type">型</th>
        <th id="range-ndb-cluster-connection-pool" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb-cluster-connection-pool" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb-cluster-connection-pool" headers="optvar-ndb-cluster-connection-pool">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-cluster-connection-pool">ndb-cluster-connection-pool</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb-cluster-connection-pool cli-ndb-cluster-connection-pool">はい</td>
        <td headers="row-ndb-cluster-connection-pool sysvar-ndb-cluster-connection-pool">はい</td>
        <td headers="row-ndb-cluster-connection-pool statvar-ndb-cluster-connection-pool">はい</td>
      </tr><tr>
        <td headers="row-ndb-cluster-connection-pool optfile-ndb-cluster-connection-pool">はい</td>
        <td headers="row-ndb-cluster-connection-pool scope-ndb-cluster-connection-pool">グローバル</td>
        <td headers="row-ndb-cluster-connection-pool dynamic-ndb-cluster-connection-pool">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-cluster-connection-pool version-ndb-cluster-connection-pool">NDB 7.3</td>
        <td headers="row-ndb-cluster-connection-pool type-ndb-cluster-connection-pool">数値</td>
        <td headers="row-ndb-cluster-connection-pool range-ndb-cluster-connection-pool">1 / 1 - 63</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb-cluster-connection-pool notes-ndb-cluster-connection-pool">
          <p>
            説明: MySQL によって使用されるクラスタへの接続の数
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            このオプションを 1 (デフォルト) より大きい値に設定すると、<span class="command"><strong>mysqld</strong></span> プロセスはクラスタに対して複数の接続を使用し、実質的に複数の SQL ノードを模倣します。各接続には、クラスタ構成 (<code class="filename">config.ini</code>) ファイル内に固有の <code class="literal">[api]</code> または <code class="literal">[mysqld]</code> セクションを必要とし、クラスタでサポートされる API 接続の最大数を参照してカウントされます。
          </p><p>
            2 台のクラスタホストコンピュータがあり、実行している各 SQL ノードの <span class="command"><strong>mysqld</strong></span> プロセスが <code class="option">--ndb-cluster-connection-pool=4</code> を指定して起動されたとします。これは、これらの接続に使用できる API スロットがクラスタに (2 個ではなく) 8 個存在する必要があることを意味します。これらすべての接続は、SQL ノードがクラスタに接続したときに設定され、ラウンドロビン方式でスレッドに割り当てられます。
          </p><p>
            このオプションは、複数の CPU、複数のコア、またはその両方を搭載したホストマシンで <span class="command"><strong>mysqld</strong></span> を実行する場合にのみ有効です。最良の結果を得るには、この値をホストマシンで使用できるコアの合計数より小さくします。これより大きい値に設定すると、パフォーマンスが大幅に低下する可能性があります。
          </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
              接続プールを使用する各 SQL ノードは複数の API ノードスロットを占有する (各スロットにはクラスタ内で固有のノード ID がある) ため、接続プールを採用する <span class="command"><strong>mysqld</strong></span> プロセスを起動するときは、クラスタ接続文字列の一部としてノード ID を使用<span class="emphasis"><em>しない</em></span>でください。
            </p><p>
              <code class="option">--ndb-cluster-connection-pool</code> を使用する際に接続文字列にノード ID を設定すると、SQL ノードのクラスタへの接続試行時に、ノード ID の割り当てエラーが発生します。
            </p></div></li><li class="listitem"><p><a name="option_mysqld_ndb-blob-read-batch-bytes"></a>
            <a class="indexterm" name="idm139979032964976"></a> <a class="indexterm" name="idm139979032962736"></a> <code class="option">--ndb-blob-read-batch-bytes=<em class="replaceable"><code>bytes</code></em></code>
          </p><div class="table"><a name="ndb-blob-read-batch-bytes-detailtable"></a><p class="title"><b>表 18.12 
            ndb-blob-read-batch-bytes の型と値の情報</b></p><div class="table-contents"><table id="ndb-blob-read-batch-bytes-detailtable" summary="This table provides type and value information for ndb-blob-read-batch-bytes"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb-blob-read-batch-bytes" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb-blob-read-batch-bytes" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb-blob-read-batch-bytes" abbr="System">システム変数</th>
        <th id="statvar-ndb-blob-read-batch-bytes" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb-blob-read-batch-bytes" abbr="File">オプションファイル</th>
        <th id="scope-ndb-blob-read-batch-bytes" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb-blob-read-batch-bytes" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb-blob-read-batch-bytes" abbr="Version">開始バージョン</th>
        <th id="type-ndb-blob-read-batch-bytes" abbr="Type">型</th>
        <th id="range-ndb-blob-read-batch-bytes" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb-blob-read-batch-bytes" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb-blob-read-batch-bytes" headers="optvar-ndb-blob-read-batch-bytes">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-blob-read-batch-bytes">ndb-blob-read-batch-bytes</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb-blob-read-batch-bytes cli-ndb-blob-read-batch-bytes">はい</td>
        <td headers="row-ndb-blob-read-batch-bytes sysvar-ndb-blob-read-batch-bytes">はい</td>
        <td headers="row-ndb-blob-read-batch-bytes statvar-ndb-blob-read-batch-bytes">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-blob-read-batch-bytes optfile-ndb-blob-read-batch-bytes">はい</td>
        <td headers="row-ndb-blob-read-batch-bytes scope-ndb-blob-read-batch-bytes">両方</td>
        <td headers="row-ndb-blob-read-batch-bytes dynamic-ndb-blob-read-batch-bytes">はい</td>
      </tr><tr>
        <td headers="row-ndb-blob-read-batch-bytes version-ndb-blob-read-batch-bytes">NDB 7.3</td>
        <td headers="row-ndb-blob-read-batch-bytes type-ndb-blob-read-batch-bytes">数値</td>
        <td headers="row-ndb-blob-read-batch-bytes range-ndb-blob-read-batch-bytes">65536 / 0 - 4294967295</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb-blob-read-batch-bytes notes-ndb-blob-read-batch-bytes">
          <p>
            説明: 大規模な BLOB 読み取りがバッチ化されるサイズをバイト単位で指定します。0 = 制限なし。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            このオプションを使用すると、MySQL Cluster アプリケーションで <code class="literal">BLOB</code> データ読み取りのバッチ化のサイズ (バイト単位) を設定できます。現在のトランザクション内で読み取られる <code class="literal">BLOB</code> データの量がこのバッチサイズを超えると、保留中のすべての <code class="literal">BLOB</code> 読み取り操作がただちに実行されます。
          </p><p>
            このオプションの最大値は 4294967295 です。デフォルトは 65536 です。0 に設定すると、<code class="literal">BLOB</code> 読み取りのバッチ化を無効にします。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              NDB API アプリケーションでは、<code class="literal">setMaxPendingBlobReadBytes()</code> および <code class="literal">getMaxPendingBlobReadBytes()</code> メソッドを使用すると <code class="literal">BLOB</code> 書き込みのバッチ化を制御できます。
            </p></div></li><li class="listitem"><p><a name="option_mysqld_ndb-blob-write-batch-bytes"></a>
            <a class="indexterm" name="idm139979032902688"></a> <a class="indexterm" name="idm139979032900512"></a> <code class="option">--ndb-blob-write-batch-bytes=<em class="replaceable"><code>bytes</code></em></code>
          </p><div class="table"><a name="ndb-blob-write-batch-bytes-detailtable"></a><p class="title"><b>表 18.13 
            ndb-blob-write-batch-bytes の型と値の情報</b></p><div class="table-contents"><table id="ndb-blob-write-batch-bytes-detailtable" summary="This table provides type and value information for ndb-blob-write-batch-bytes"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb-blob-write-batch-bytes" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb-blob-write-batch-bytes" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb-blob-write-batch-bytes" abbr="System">システム変数</th>
        <th id="statvar-ndb-blob-write-batch-bytes" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb-blob-write-batch-bytes" abbr="File">オプションファイル</th>
        <th id="scope-ndb-blob-write-batch-bytes" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb-blob-write-batch-bytes" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb-blob-write-batch-bytes" abbr="Version">開始バージョン</th>
        <th id="type-ndb-blob-write-batch-bytes" abbr="Type">型</th>
        <th id="range-ndb-blob-write-batch-bytes" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb-blob-write-batch-bytes" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb-blob-write-batch-bytes" headers="optvar-ndb-blob-write-batch-bytes">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-blob-write-batch-bytes">ndb-blob-write-batch-bytes</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb-blob-write-batch-bytes cli-ndb-blob-write-batch-bytes">はい</td>
        <td headers="row-ndb-blob-write-batch-bytes sysvar-ndb-blob-write-batch-bytes">はい</td>
        <td headers="row-ndb-blob-write-batch-bytes statvar-ndb-blob-write-batch-bytes">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-blob-write-batch-bytes optfile-ndb-blob-write-batch-bytes">はい</td>
        <td headers="row-ndb-blob-write-batch-bytes scope-ndb-blob-write-batch-bytes">両方</td>
        <td headers="row-ndb-blob-write-batch-bytes dynamic-ndb-blob-write-batch-bytes">はい</td>
      </tr><tr>
        <td headers="row-ndb-blob-write-batch-bytes version-ndb-blob-write-batch-bytes">NDB 7.3</td>
        <td headers="row-ndb-blob-write-batch-bytes type-ndb-blob-write-batch-bytes">数値</td>
        <td headers="row-ndb-blob-write-batch-bytes range-ndb-blob-write-batch-bytes">65536 / 0 - 4294967295</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb-blob-write-batch-bytes notes-ndb-blob-write-batch-bytes">
          <p>
            説明: 大規模な BLOB 書き込みがバッチ化されるサイズをバイト単位で指定します。0 = 制限なし。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            このオプションを使用すると、MySQL Cluster アプリケーションで <code class="literal">BLOB</code> データ書き込みのバッチ化のサイズ (バイト単位) を設定できます。現在のトランザクション内で書き込まれる <code class="literal">BLOB</code> データの量がこのバッチサイズを超えると、保留中のすべての <code class="literal">BLOB</code> 書き込み操作がただちに実行されます。
          </p><p>
            このオプションの最大値は 4294967295 です。デフォルトは 65536 です。0 に設定すると、<code class="literal">BLOB</code> 書き込みのバッチ化を無効にします。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              NDB API アプリケーションでは、<code class="literal">setMaxPendingBlobWriteBytes()</code> および <code class="literal">getMaxPendingBlobWriteBytes()</code> メソッドを使用すると <code class="literal">BLOB</code> 書き込みのバッチ化を制御できます。
            </p></div></li><li class="listitem"><p><a name="option_mysqld_ndb-connectstring"></a>
            <a class="indexterm" name="idm139979032840432"></a> <a class="indexterm" name="idm139979032838272"></a> <code class="option">--ndb-connectstring=<em class="replaceable"><code>connect_string</code></em></code>
          </p><div class="table"><a name="ndb-connectstring-detailtable"></a><p class="title"><b>表 18.14 
            ndb-connectstring の型と値の情報</b></p><div class="table-contents"><table id="ndb-connectstring-detailtable" summary="This table provides type and value information for ndb-connectstring"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb-connectstring" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb-connectstring" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb-connectstring" abbr="System">システム変数</th>
        <th id="statvar-ndb-connectstring" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb-connectstring" abbr="File">オプションファイル</th>
        <th id="scope-ndb-connectstring" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb-connectstring" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb-connectstring" abbr="Version">開始バージョン</th>
        <th id="type-ndb-connectstring" abbr="Type">型</th>
        <th id="range-ndb-connectstring" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb-connectstring" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb-connectstring" headers="optvar-ndb-connectstring">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-connectstring">ndb-connectstring</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb-connectstring cli-ndb-connectstring">はい</td>
        <td headers="row-ndb-connectstring sysvar-ndb-connectstring">いいえ</td>
        <td headers="row-ndb-connectstring statvar-ndb-connectstring">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-connectstring optfile-ndb-connectstring">はい</td>
        <td headers="row-ndb-connectstring scope-ndb-connectstring"></td>
        <td headers="row-ndb-connectstring dynamic-ndb-connectstring">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-connectstring version-ndb-connectstring">NDB 7.3</td>
        <td headers="row-ndb-connectstring type-ndb-connectstring">文字列</td>
        <td headers="row-ndb-connectstring range-ndb-connectstring"></td>
      </tr><tr>
        <td colspan="3" headers="row-ndb-connectstring notes-ndb-connectstring">
          <p>
            説明: クラスタ構成を配布する管理サーバーへのポイント
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            このオプションは、<code class="literal">NDBCLUSTER</code> ストレージエンジンの使用時に、クラスタ構成データを配信する管理サーバーを指定します。構文については、<a class="xref" href="mysql-cluster.html#mysql-cluster-connection-strings" title="18.3.2.3 MySQL Cluster の接続文字列">セクション18.3.2.3「MySQL Cluster の接続文字列」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb-deferred-constraints"></a>
            <a class="indexterm" name="idm139979032786944"></a> <code class="option">--ndb-deferred-constraints=[0|1]</code>
          </p><div class="table"><a name="ndb-deferred-constraints-detailtable"></a><p class="title"><b>表 18.15 
            ndb-deferred-constraints の型と値の情報</b></p><div class="table-contents"><table id="ndb-deferred-constraints-detailtable" summary="This table provides type and value information for ndb-deferred-constraints"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb-deferred-constraints" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb-deferred-constraints" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb-deferred-constraints" abbr="System">システム変数</th>
        <th id="statvar-ndb-deferred-constraints" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb-deferred-constraints" abbr="File">オプションファイル</th>
        <th id="scope-ndb-deferred-constraints" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb-deferred-constraints" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb-deferred-constraints" abbr="Version">開始バージョン</th>
        <th id="type-ndb-deferred-constraints" abbr="Type">型</th>
        <th id="range-ndb-deferred-constraints" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb-deferred-constraints" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb-deferred-constraints" headers="optvar-ndb-deferred-constraints">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-deferred-constraints">ndb-deferred-constraints</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb-deferred-constraints cli-ndb-deferred-constraints">はい</td>
        <td headers="row-ndb-deferred-constraints sysvar-ndb-deferred-constraints">はい</td>
        <td headers="row-ndb-deferred-constraints statvar-ndb-deferred-constraints">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-deferred-constraints optfile-ndb-deferred-constraints">はい</td>
        <td headers="row-ndb-deferred-constraints scope-ndb-deferred-constraints">両方</td>
        <td headers="row-ndb-deferred-constraints dynamic-ndb-deferred-constraints">はい</td>
      </tr><tr>
        <td headers="row-ndb-deferred-constraints version-ndb-deferred-constraints">NDB 7.3</td>
        <td headers="row-ndb-deferred-constraints type-ndb-deferred-constraints">整数</td>
        <td headers="row-ndb-deferred-constraints range-ndb-deferred-constraints">0 / 0 - 1</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb-deferred-constraints notes-ndb-deferred-constraints">
          <p>
            説明: 一意のインデックスに関する制約チェック (サポートされている場合) を、コミット時まで遅延させることを指定します。通常は必要なく、使用されません。テストの目的にのみ使用されます。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            一意のインデックスに対する制約チェックがサポートされている場合に、チェックをコミット時まで遅延するかどうかを制御します。<code class="literal">0</code> がデフォルトです。
          </p><p>
            このオプションは、MySQL Cluster または MySQL Cluster レプリケーションの動作には通常不要であり、主にテストでの使用を目的としています。
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb-distribution"></a>
            <a class="indexterm" name="idm139979032735424"></a> <code class="option">--ndb-distribution=[KEYHASH|LINHASH]</code>
          </p><div class="table"><a name="ndb-distribution-detailtable"></a><p class="title"><b>表 18.16 
            ndb-distribution の型と値の情報</b></p><div class="table-contents"><table id="ndb-distribution-detailtable" summary="This table provides type and value information for ndb-distribution"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb-distribution" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb-distribution" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb-distribution" abbr="System">システム変数</th>
        <th id="statvar-ndb-distribution" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb-distribution" abbr="File">オプションファイル</th>
        <th id="scope-ndb-distribution" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb-distribution" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb-distribution" abbr="Version">開始バージョン</th>
        <th id="type-ndb-distribution" abbr="Type">型</th>
        <th id="range-ndb-distribution" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb-distribution" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb-distribution" headers="optvar-ndb-distribution">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-distribution">ndb-distribution</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb-distribution cli-ndb-distribution">はい</td>
        <td headers="row-ndb-distribution sysvar-ndb-distribution">はい</td>
        <td headers="row-ndb-distribution statvar-ndb-distribution">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-distribution optfile-ndb-distribution">はい</td>
        <td headers="row-ndb-distribution scope-ndb-distribution">グローバル</td>
        <td headers="row-ndb-distribution dynamic-ndb-distribution">はい</td>
      </tr><tr>
        <td headers="row-ndb-distribution version-ndb-distribution">NDB 7.3</td>
        <td headers="row-ndb-distribution type-ndb-distribution">列挙</td>
        <td headers="row-ndb-distribution range-ndb-distribution">KEYHASH / LINHASH, KEYHASH</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb-distribution notes-ndb-distribution">
          <p>
            説明: NDBCLUSTER の新しいテーブルのデフォルトの配布 (KEYHASH または LINHASH、デフォルトは KEYHASH)
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            <code class="literal">NDB</code> テーブルのデフォルトの分配方法を制御します。<code class="literal">KEYHASH</code> (キーハッシュ) または <code class="literal">LINHASH</code> (線形ハッシュ) のいずれかに設定できます。<code class="literal">KEYHASH</code> がデフォルトです。
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb-mgmd-host"></a>
            <a class="indexterm" name="idm139979032683088"></a> <code class="option">--ndb-mgmd-host=<em class="replaceable"><code>host</code></em>[:<em class="replaceable"><code>port</code></em>]</code>
          </p><div class="table"><a name="ndb-mgmd-host-detailtable"></a><p class="title"><b>表 18.17 
            ndb-mgmd-host の型と値の情報</b></p><div class="table-contents"><table id="ndb-mgmd-host-detailtable" summary="This table provides type and value information for ndb-mgmd-host"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb-mgmd-host" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb-mgmd-host" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb-mgmd-host" abbr="System">システム変数</th>
        <th id="statvar-ndb-mgmd-host" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb-mgmd-host" abbr="File">オプションファイル</th>
        <th id="scope-ndb-mgmd-host" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb-mgmd-host" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb-mgmd-host" abbr="Version">開始バージョン</th>
        <th id="type-ndb-mgmd-host" abbr="Type">型</th>
        <th id="range-ndb-mgmd-host" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb-mgmd-host" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb-mgmd-host" headers="optvar-ndb-mgmd-host">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-mgmd-host">ndb-mgmd-host</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb-mgmd-host cli-ndb-mgmd-host">はい</td>
        <td headers="row-ndb-mgmd-host sysvar-ndb-mgmd-host">いいえ</td>
        <td headers="row-ndb-mgmd-host statvar-ndb-mgmd-host">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-mgmd-host optfile-ndb-mgmd-host">はい</td>
        <td headers="row-ndb-mgmd-host scope-ndb-mgmd-host"></td>
        <td headers="row-ndb-mgmd-host dynamic-ndb-mgmd-host">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-mgmd-host version-ndb-mgmd-host">NDB 7.3</td>
        <td headers="row-ndb-mgmd-host type-ndb-mgmd-host">文字列</td>
        <td headers="row-ndb-mgmd-host range-ndb-mgmd-host">localhost:1186</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb-mgmd-host notes-ndb-mgmd-host">
          <p>
            説明: 管理サーバーに接続するためのホスト (およびポート (必要な場合)) を設定します
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            プログラムに接続される単一の管理サーバーのホストとポート番号の設定に使用できます。プログラムの接続情報として複数の管理サーバーのノード ID または参照 (あるいはその両方) が必要な場合は、代わりに <code class="option">--ndb-connectstring</code> オプションを使用します。
          </p></li><li class="listitem"><p><a name="option_mysqld_ndbcluster"></a>
            <a class="indexterm" name="idm139979032632704"></a> <a class="indexterm" name="idm139979032630560"></a> <code class="option">--ndbcluster</code>
          </p><div class="table"><a name="ndbcluster-detailtable"></a><p class="title"><b>表 18.18 
            ndbcluster の型と値の情報</b></p><div class="table-contents"><table id="ndbcluster-detailtable" summary="This table provides type and value information for ndbcluster"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndbcluster" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndbcluster" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndbcluster" abbr="System">システム変数</th>
        <th id="statvar-ndbcluster" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndbcluster" abbr="File">オプションファイル</th>
        <th id="scope-ndbcluster" abbr="Scope">スコープ</th>
        <th id="dynamic-ndbcluster" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndbcluster" abbr="Version">開始バージョン</th>
        <th id="type-ndbcluster" abbr="Type">型</th>
        <th id="range-ndbcluster" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndbcluster" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndbcluster" headers="optvar-ndbcluster">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndbcluster">ndbcluster</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndbcluster cli-ndbcluster">はい</td>
        <td headers="row-ndbcluster sysvar-ndbcluster">いいえ</td>
        <td headers="row-ndbcluster statvar-ndbcluster">いいえ</td>
      </tr><tr>
        <td headers="row-ndbcluster optfile-ndbcluster">はい</td>
        <td headers="row-ndbcluster scope-ndbcluster"></td>
        <td headers="row-ndbcluster dynamic-ndbcluster">いいえ</td>
      </tr><tr>
        <td headers="row-ndbcluster version-ndbcluster">NDB 7.3</td>
        <td headers="row-ndbcluster type-ndbcluster">ブール</td>
        <td headers="row-ndbcluster range-ndbcluster">FALSE</td>
      </tr><tr>
        <td colspan="3" headers="row-ndbcluster notes-ndbcluster">
          <p>
            説明: NDB Cluster を有効化 (このバージョンの MySQL がサポートしている場合)
          </p>
          <p>
            <code class="option">--skip-ndbcluster</code> によって無効になります
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            MySQL Cluster を使用するには、<code class="literal">NDBCLUSTER</code> ストレージエンジンが必要です。<span class="command"><strong>mysqld</strong></span> バイナリに <code class="literal">NDBCLUSTER</code> ストレージエンジンのサポートが含まれている場合、このエンジンはデフォルトで無効になっています。これを有効にするには、<code class="option">--ndbcluster</code> オプションを使用します。エンジンを明示的に無効にするには、<code class="option">--skip-ndbcluster</code> を使用します。
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb-log-apply-status"></a>
            <a class="indexterm" name="idm139979032576016"></a> <a class="indexterm" name="idm139979032574016"></a> <code class="option">--ndb-log-apply-status</code>
          </p><div class="table"><a name="ndb-log-apply-status-detailtable"></a><p class="title"><b>表 18.19 
            ndb-log-apply-status の型と値の情報</b></p><div class="table-contents"><table id="ndb-log-apply-status-detailtable" summary="This table provides type and value information for ndb-log-apply-status"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb-log-apply-status" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb-log-apply-status" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb-log-apply-status" abbr="System">システム変数</th>
        <th id="statvar-ndb-log-apply-status" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb-log-apply-status" abbr="File">オプションファイル</th>
        <th id="scope-ndb-log-apply-status" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb-log-apply-status" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb-log-apply-status" abbr="Version">開始バージョン</th>
        <th id="type-ndb-log-apply-status" abbr="Type">型</th>
        <th id="range-ndb-log-apply-status" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb-log-apply-status" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb-log-apply-status" headers="optvar-ndb-log-apply-status">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-apply-status">ndb-log-apply-status</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb-log-apply-status cli-ndb-log-apply-status">はい</td>
        <td headers="row-ndb-log-apply-status sysvar-ndb-log-apply-status">はい</td>
        <td headers="row-ndb-log-apply-status statvar-ndb-log-apply-status">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-log-apply-status optfile-ndb-log-apply-status">はい</td>
        <td headers="row-ndb-log-apply-status scope-ndb-log-apply-status">グローバル</td>
        <td headers="row-ndb-log-apply-status dynamic-ndb-log-apply-status">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-log-apply-status version-ndb-log-apply-status">NDB 7.3</td>
        <td headers="row-ndb-log-apply-status type-ndb-log-apply-status">ブール</td>
        <td headers="row-ndb-log-apply-status range-ndb-log-apply-status">OFF</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb-log-apply-status notes-ndb-log-apply-status">
          <p>
            説明: スレーブとして機能している MySQL サーバーが、直接のマスターから受信した mysql.ndb_apply_status の更新を、自身のサーバー ID を使用して自身のバイナリログに記録するようになります。サーバーが --ndbcluster オプションで起動された場合にのみ有効です。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            スレーブの <span class="command"><strong>mysqld</strong></span> が、マスターのサーバー ID ではなく自身のサーバー ID を使用して、そのマスターから直接受信した更新を自身のバイナリログ内の <code class="literal">mysql.ndb_apply_status</code> テーブルに記録するようになります。循環またはチェーンレプリケーション設定では、これによって現在の <span class="command"><strong>mysqld</strong></span> のスレーブとして構成されているすべての MySQL サーバーの <code class="literal">mysql.ndb_apply_status</code> テーブルに更新が反映されます。
          </p><p>
            チェーンレプリケーションセットアップでこのオプションを使用すると、ダウンストリーム (スレーブ) クラスタがすべてのアップストリームコントリビュータ (マスター) との相対的な位置を認識できるようになります。
          </p><p>
            循環レプリケーションセットアップでこのオプションを使用すると、循環の全体が完成するように <code class="literal">ndb_apply_status</code> テーブルが変更され、最終的に発信元の MySQL Cluster に反映されます。これにより、マスターとして機能するクラスタも、循環内のほかのクラスタにその変更 (エポック) が適用されたことを認識できます。
          </p><p>
            このオプションは、MySQL サーバーが <code class="option">--ndbcluster</code> オプションを使用して起動されていない場合は無効になります。
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb-log-empty-epochs"></a>
            <a class="indexterm" name="idm139979032515584"></a> <a class="indexterm" name="idm139979032513584"></a> <code class="option">--ndb-log-empty-epochs=[0|1]</code>
          </p><div class="table"><a name="ndb-log-empty-epochs-detailtable"></a><p class="title"><b>表 18.20 
            ndb-log-empty-epochs の型と値の情報</b></p><div class="table-contents"><table id="ndb-log-empty-epochs-detailtable" summary="This table provides type and value information for ndb-log-empty-epochs"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb-log-empty-epochs" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb-log-empty-epochs" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb-log-empty-epochs" abbr="System">システム変数</th>
        <th id="statvar-ndb-log-empty-epochs" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb-log-empty-epochs" abbr="File">オプションファイル</th>
        <th id="scope-ndb-log-empty-epochs" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb-log-empty-epochs" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb-log-empty-epochs" abbr="Version">開始バージョン</th>
        <th id="type-ndb-log-empty-epochs" abbr="Type">型</th>
        <th id="range-ndb-log-empty-epochs" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb-log-empty-epochs" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb-log-empty-epochs" headers="optvar-ndb-log-empty-epochs">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-empty-epochs">ndb-log-empty-epochs</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb-log-empty-epochs cli-ndb-log-empty-epochs">はい</td>
        <td headers="row-ndb-log-empty-epochs sysvar-ndb-log-empty-epochs">はい</td>
        <td headers="row-ndb-log-empty-epochs statvar-ndb-log-empty-epochs">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-log-empty-epochs optfile-ndb-log-empty-epochs">はい</td>
        <td headers="row-ndb-log-empty-epochs scope-ndb-log-empty-epochs">グローバル</td>
        <td headers="row-ndb-log-empty-epochs dynamic-ndb-log-empty-epochs">はい</td>
      </tr><tr>
        <td headers="row-ndb-log-empty-epochs version-ndb-log-empty-epochs">NDB 7.3</td>
        <td headers="row-ndb-log-empty-epochs type-ndb-log-empty-epochs">ブール</td>
        <td headers="row-ndb-log-empty-epochs range-ndb-log-empty-epochs">OFF</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb-log-empty-epochs notes-ndb-log-empty-epochs">
          <p>
            説明: 有効な場合は、--log-slave-updates が有効であっても、変更がなかったエポックが ndb_apply_status および ndb_binlog_index テーブルに書き込まれるようになります。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            <code class="option">--log-slave-updates</code> が有効になっていても、変更がなかったエポックが <code class="literal">ndb_apply_status</code> および <code class="literal">ndb_binlog_index</code> テーブルに書き込まれるようになります。
          </p><p>
            このオプションはデフォルトで無効になっています。<code class="option">--ndb-log-empty-epochs</code> を無効にすると、変更がなかったエポックトランザクションがバイナリログに書き込まれなくなりますが、<code class="literal">ndb_binlog_index</code> には空のエポックの行も書き込まれます。
          </p><p>
            <code class="option">--ndb-log-empty-epochs=1</code> にすると <code class="literal">ndb_binlog_index</code> テーブルのサイズがバイナリログのサイズとは関係なく増えるため、クラスタが大部分の時間アイドル状態であると予想される場合でも、ユーザーはこのテーブルの増大を管理できるように準備してください。
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb-log-exclusive-reads"></a>
            <a class="indexterm" name="idm139979032457040"></a> <a class="indexterm" name="idm139979032455040"></a> <code class="option">--ndb-log-exclusive-reads=[0|1]</code>
          </p><div class="table"><a name="ndb-log-exclusive-reads-detailtable"></a><p class="title"><b>表 18.21 
            ndb-log-exclusive-reads の型と値の情報</b></p><div class="table-contents"><table id="ndb-log-exclusive-reads-detailtable" summary="This table provides type and value information for ndb-log-exclusive-reads"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb-log-exclusive-reads" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb-log-exclusive-reads" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb-log-exclusive-reads" abbr="System">システム変数</th>
        <th id="statvar-ndb-log-exclusive-reads" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb-log-exclusive-reads" abbr="File">オプションファイル</th>
        <th id="scope-ndb-log-exclusive-reads" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb-log-exclusive-reads" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb-log-exclusive-reads" abbr="Version">開始バージョン</th>
        <th id="type-ndb-log-exclusive-reads" abbr="Type">型</th>
        <th id="range-ndb-log-exclusive-reads" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb-log-exclusive-reads" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb-log-exclusive-reads" headers="optvar-ndb-log-exclusive-reads">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-exclusive-reads">ndb-log-exclusive-reads</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb-log-exclusive-reads cli-ndb-log-exclusive-reads">はい</td>
        <td headers="row-ndb-log-exclusive-reads sysvar-ndb-log-exclusive-reads">はい</td>
        <td headers="row-ndb-log-exclusive-reads statvar-ndb-log-exclusive-reads">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-log-exclusive-reads optfile-ndb-log-exclusive-reads">はい</td>
        <td headers="row-ndb-log-exclusive-reads scope-ndb-log-exclusive-reads">両方</td>
        <td headers="row-ndb-log-exclusive-reads dynamic-ndb-log-exclusive-reads">はい</td>
      </tr><tr>
        <td headers="row-ndb-log-exclusive-reads version-ndb-log-exclusive-reads">NDB 7.3</td>
        <td headers="row-ndb-log-exclusive-reads type-ndb-log-exclusive-reads">ブール</td>
        <td headers="row-ndb-log-exclusive-reads range-ndb-log-exclusive-reads">0</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb-log-exclusive-reads notes-ndb-log-exclusive-reads">
          <p>
            説明: 排他的ロックによる主キーの読み取りをログに記録します。読み取りの競合に基づく競合解決を許可します。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            MySQL Cluster NDB 7.4.1 以降では、このオプションを使用してサーバーを起動すると、主キーの読み取りが排他ロックで記録され、読み取りの競合に基づく MySQL Cluster レプリケーションの競合検出および解決が可能になります。<code class="literal">ndb_log_exclusive_reads</code> システム変数の値を 1 または 0 に設定すると、このロックを実行時に有効または無効にすることもできます。0 (ロックを無効化) がデフォルトです。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-examples-read-conflicts" title="読み取り競合の検出と解決">読み取り競合の検出と解決</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb-log-orig"></a>
            <a class="indexterm" name="idm139979032401392"></a> <a class="indexterm" name="idm139979032399360"></a> <code class="option">--ndb-log-orig</code>
          </p><div class="table"><a name="ndb-log-orig-detailtable"></a><p class="title"><b>表 18.22 
            ndb-log-orig の型と値の情報</b></p><div class="table-contents"><table id="ndb-log-orig-detailtable" summary="This table provides type and value information for ndb-log-orig"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb-log-orig" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb-log-orig" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb-log-orig" abbr="System">システム変数</th>
        <th id="statvar-ndb-log-orig" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb-log-orig" abbr="File">オプションファイル</th>
        <th id="scope-ndb-log-orig" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb-log-orig" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb-log-orig" abbr="Version">開始バージョン</th>
        <th id="type-ndb-log-orig" abbr="Type">型</th>
        <th id="range-ndb-log-orig" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb-log-orig" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb-log-orig" headers="optvar-ndb-log-orig">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-orig">ndb-log-orig</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb-log-orig cli-ndb-log-orig">はい</td>
        <td headers="row-ndb-log-orig sysvar-ndb-log-orig">はい</td>
        <td headers="row-ndb-log-orig statvar-ndb-log-orig">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-log-orig optfile-ndb-log-orig">はい</td>
        <td headers="row-ndb-log-orig scope-ndb-log-orig">グローバル</td>
        <td headers="row-ndb-log-orig dynamic-ndb-log-orig">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-log-orig version-ndb-log-orig">NDB 7.3</td>
        <td headers="row-ndb-log-orig type-ndb-log-orig">ブール</td>
        <td headers="row-ndb-log-orig range-ndb-log-orig">OFF</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb-log-orig notes-ndb-log-orig">
          <p>
            説明: 発信サーバー ID とエポックを mysql.ndb_binlog_index テーブルに記録します。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            発信元サーバーの ID とエポックを <code class="literal">ndb_binlog_index</code> テーブルに記録します。
          </p><p>
            この場合、<code class="literal">ndb_binlog_index</code> 内には特定のエポックに対して複数の (発信元のエポックごとに 1 つの) 行が存在する可能性があります。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-schema" title="18.6.4 MySQL Cluster レプリケーションスキーマとテーブル">セクション18.6.4「MySQL Cluster レプリケーションスキーマとテーブル」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb-log-transaction-id"></a>
            <a class="indexterm" name="idm139979032346736"></a> <a class="indexterm" name="idm139979032344720"></a> <code class="option">--ndb-log-transaction-id</code>
          </p><div class="table"><a name="ndb-log-transaction-id-detailtable"></a><p class="title"><b>表 18.23 
            ndb-log-transaction-id の型と値の情報</b></p><div class="table-contents"><table id="ndb-log-transaction-id-detailtable" summary="This table provides type and value information for ndb-log-transaction-id"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb-log-transaction-id" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb-log-transaction-id" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb-log-transaction-id" abbr="System">システム変数</th>
        <th id="statvar-ndb-log-transaction-id" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb-log-transaction-id" abbr="File">オプションファイル</th>
        <th id="scope-ndb-log-transaction-id" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb-log-transaction-id" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb-log-transaction-id" abbr="Version">開始バージョン</th>
        <th id="type-ndb-log-transaction-id" abbr="Type">型</th>
        <th id="range-ndb-log-transaction-id" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb-log-transaction-id" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb-log-transaction-id" headers="optvar-ndb-log-transaction-id">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-transaction-id">ndb-log-transaction-id</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb-log-transaction-id cli-ndb-log-transaction-id">はい</td>
        <td headers="row-ndb-log-transaction-id sysvar-ndb-log-transaction-id">はい</td>
        <td headers="row-ndb-log-transaction-id statvar-ndb-log-transaction-id">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-log-transaction-id optfile-ndb-log-transaction-id">はい</td>
        <td headers="row-ndb-log-transaction-id scope-ndb-log-transaction-id">グローバル</td>
        <td headers="row-ndb-log-transaction-id dynamic-ndb-log-transaction-id">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-log-transaction-id version-ndb-log-transaction-id">NDB 7.3</td>
        <td headers="row-ndb-log-transaction-id type-ndb-log-transaction-id">ブール</td>
        <td headers="row-ndb-log-transaction-id range-ndb-log-transaction-id">OFF</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb-log-transaction-id notes-ndb-log-transaction-id">
          <p>
            説明: NDB トランザクション ID をバイナリログに書き込みます。--log-bin-v1-events=OFF が必要です。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            スレーブの <span class="command"><strong>mysqld</strong></span> がバイナリログの各行に NDB トランザクション ID を書き込むようになります。このようなロギングでは、バイナリログのバージョン 2 のイベント形式を使用する必要があります。したがって、このオプションを使用するには <code class="option">--log-bin-use-v1-row-events</code> を <code class="literal">FALSE</code> に設定する必要があります。
          </p><p>
            このオプションはメインラインの MySQL Server 5.6 ではサポートされません。<code class="literal">NDB$EPOCH_TRANS()</code> 関数を使用する MySQL Cluster レプリケーションの競合検出および解決を有効にする必要があります (<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-ndb-epoch-trans" title="NDB$EPOCH_TRANS()">NDB$EPOCH_TRANS()</a>を参照してください)。
          </p><p>
            デフォルト値は <code class="literal">FALSE</code> です。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="18.6.11 MySQL Cluster レプリケーションの競合解決">セクション18.6.11「MySQL Cluster レプリケーションの競合解決」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb-nodeid"></a>
            <a class="indexterm" name="idm139979032286784"></a> <a class="indexterm" name="idm139979032284752"></a> <code class="option">--ndb-nodeid=#</code>
          </p><div class="table"><a name="ndb-nodeid-detailtable"></a><p class="title"><b>表 18.24 
            ndb-nodeid の型と値の情報</b></p><div class="table-contents"><table id="ndb-nodeid-detailtable" summary="This table provides type and value information for ndb-nodeid"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb-nodeid" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb-nodeid" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb-nodeid" abbr="System">システム変数</th>
        <th id="statvar-ndb-nodeid" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb-nodeid" abbr="File">オプションファイル</th>
        <th id="scope-ndb-nodeid" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb-nodeid" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb-nodeid" abbr="Version">開始バージョン</th>
        <th id="type-ndb-nodeid" abbr="Type">型</th>
        <th id="range-ndb-nodeid" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb-nodeid" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb-nodeid" headers="optvar-ndb-nodeid">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-nodeid">ndb-nodeid</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb-nodeid cli-ndb-nodeid">はい</td>
        <td headers="row-ndb-nodeid sysvar-ndb-nodeid">いいえ</td>
        <td headers="row-ndb-nodeid statvar-ndb-nodeid">はい</td>
      </tr><tr>
        <td headers="row-ndb-nodeid optfile-ndb-nodeid">はい</td>
        <td headers="row-ndb-nodeid scope-ndb-nodeid">グローバル</td>
        <td headers="row-ndb-nodeid dynamic-ndb-nodeid">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-nodeid version-ndb-nodeid">5.0.45</td>
        <td headers="row-ndb-nodeid type-ndb-nodeid">数値</td>
        <td headers="row-ndb-nodeid range-ndb-nodeid"> / 1 - 63</td>
      </tr><tr>
        <td headers="row-ndb-nodeid version-ndb-nodeid">5.1.5</td>
        <td headers="row-ndb-nodeid type-ndb-nodeid">数値</td>
        <td headers="row-ndb-nodeid range-ndb-nodeid"> / 1 - 255</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb-nodeid notes-ndb-nodeid">
          <p>
            説明: この MySQL サーバーの MySQL Cluster ノード ID
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            この MySQL サーバーの、MySQL Cluster 内でのノード ID を設定します。
          </p><p>
            <code class="option">--ndb-nodeid</code> オプションは、<code class="option">--ndb-connectstring</code> で設定されたノード ID を (2 つのオプションの使用順序に関係なく) オーバーライドします。
          </p><p>
            また、<code class="option">--ndb-nodeid</code> を使用する場合は、<code class="filename">config.ini</code> の <code class="literal">[mysqld]</code> または <code class="literal">[api]</code> セクションに一致するノード ID が存在するか、このファイルに<span class="quote">「<span class="quote">オープンな</span>」</span> <code class="literal">[mysqld]</code> または <code class="literal">[api]</code> セクション (つまり、<code class="literal">NodeId</code> または <code class="literal">Id</code> パラメータが指定されていないセクション) が存在する必要があります。これは、ノード ID が接続文字列の一部として指定されている場合にも当てはまります。
          </p><p>
            ノード ID は、その指定方法に関係なく、<code class="literal">SHOW STATUS</code> の出力にグローバルステータス変数 <code class="literal">Ndb_cluster_node_id</code> の値として表示され、<code class="literal">SHOW ENGINE NDBCLUSTER STATUS</code> の出力の <code class="literal">connection</code> 行に <code class="literal">cluster_node_id</code> として表示されます。
          </p><p>
            MySQL Cluster SQL ノードの ID の詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-api-definition" title="18.3.2.7 MySQL Cluster 内の SQL ノードおよびその他の API ノードの定義">セクション18.3.2.7「MySQL Cluster 内の SQL ノードおよびその他の API ノードの定義」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb_optimization_delay"></a>
            <code class="option">--ndb_optimization_delay=<em class="replaceable"><code>milliseconds</code></em></code>
          </p><div class="table"><a name="ndb_optimization_delay-detailtable"></a><p class="title"><b>表 18.25 
            ndb_optimization_delay の型と値の情報</b></p><div class="table-contents"><table id="ndb_optimization_delay-detailtable" summary="This table provides type and value information for ndb_optimization_delay"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_optimization_delay" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_optimization_delay" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_optimization_delay" abbr="System">システム変数</th>
        <th id="statvar-ndb_optimization_delay" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_optimization_delay" abbr="File">オプションファイル</th>
        <th id="scope-ndb_optimization_delay" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_optimization_delay" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_optimization_delay" abbr="Version">開始バージョン</th>
        <th id="type-ndb_optimization_delay" abbr="Type">型</th>
        <th id="range-ndb_optimization_delay" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_optimization_delay" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_optimization_delay" headers="optvar-ndb_optimization_delay">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb_optimization_delay">ndb_optimization_delay</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_optimization_delay cli-ndb_optimization_delay">いいえ</td>
        <td headers="row-ndb_optimization_delay sysvar-ndb_optimization_delay">はい</td>
        <td headers="row-ndb_optimization_delay statvar-ndb_optimization_delay">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_optimization_delay optfile-ndb_optimization_delay">いいえ</td>
        <td headers="row-ndb_optimization_delay scope-ndb_optimization_delay">グローバル</td>
        <td headers="row-ndb_optimization_delay dynamic-ndb_optimization_delay">はい</td>
      </tr><tr>
        <td headers="row-ndb_optimization_delay version-ndb_optimization_delay">NDB 7.3</td>
        <td headers="row-ndb_optimization_delay type-ndb_optimization_delay">数値</td>
        <td headers="row-ndb_optimization_delay range-ndb_optimization_delay">10 / 0 - 100000</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_optimization_delay notes-ndb_optimization_delay">
          <p>
            説明: NDB テーブルに対して OPTIMIZE TABLE で行のセットを処理する間に待機する時間をミリ秒で設定します。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            <code class="literal">NDB</code> テーブルに対する <code class="literal">OPTIMIZE TABLE</code> ステートメントによる行セット間で待機するミリ秒数を設定します。デフォルトは 10 です。
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb-recv-thread-activation-threshold"></a>
            <code class="option">--ndb-recv-thread-activation-threshold=<em class="replaceable"><code>threshold</code></em></code>
          </p><div class="table"><a name="ndb-recv-thread-activation-threshold-detailtable"></a><p class="title"><b>表 18.26 
            ndb-recv-thread-activation-threshold の型と値の情報</b></p><div class="table-contents"><table id="ndb-recv-thread-activation-threshold-detailtable" summary="This table provides type and value information for ndb-recv-thread-activation-threshold"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb-recv-thread-activation-threshold" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb-recv-thread-activation-threshold" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb-recv-thread-activation-threshold" abbr="System">システム変数</th>
        <th id="statvar-ndb-recv-thread-activation-threshold" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb-recv-thread-activation-threshold" abbr="File">オプションファイル</th>
        <th id="scope-ndb-recv-thread-activation-threshold" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb-recv-thread-activation-threshold" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb-recv-thread-activation-threshold" abbr="Version">開始バージョン</th>
        <th id="type-ndb-recv-thread-activation-threshold" abbr="Type">型</th>
        <th id="range-ndb-recv-thread-activation-threshold" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb-recv-thread-activation-threshold" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb-recv-thread-activation-threshold" headers="optvar-ndb-recv-thread-activation-threshold">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-recv-thread-activation-threshold">ndb-recv-thread-activation-threshold</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb-recv-thread-activation-threshold cli-ndb-recv-thread-activation-threshold">はい</td>
        <td headers="row-ndb-recv-thread-activation-threshold sysvar-ndb-recv-thread-activation-threshold">いいえ</td>
        <td headers="row-ndb-recv-thread-activation-threshold statvar-ndb-recv-thread-activation-threshold">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-recv-thread-activation-threshold optfile-ndb-recv-thread-activation-threshold">はい</td>
        <td headers="row-ndb-recv-thread-activation-threshold scope-ndb-recv-thread-activation-threshold"></td>
        <td headers="row-ndb-recv-thread-activation-threshold dynamic-ndb-recv-thread-activation-threshold">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-recv-thread-activation-threshold version-ndb-recv-thread-activation-threshold">5.6.10-ndb-7.3.1</td>
        <td headers="row-ndb-recv-thread-activation-threshold type-ndb-recv-thread-activation-threshold">数値</td>
        <td headers="row-ndb-recv-thread-activation-threshold range-ndb-recv-thread-activation-threshold">8 / 0 (MIN_ACTIVATION_THRESHOLD) - 16 (MAX_ACTIVATION_THRESHOLD)</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb-recv-thread-activation-threshold notes-ndb-recv-thread-activation-threshold">
          <p>
            説明: 受信スレッドがクラスタ接続のポーリングを引き継ぐときのアクティブ化のしきい値 (同時にアクティブなスレッドで測定されます)
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            現在アクティブなスレッドがこの数に達すると、受信スレッドがクラスタ接続のポーリングを引き継ぎます。
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb-recv-thread-cpu-mask"></a>
            <code class="option">--ndb-recv-thread-cpu-mask=<em class="replaceable"><code>bitmask</code></em></code>
          </p><div class="table"><a name="ndb-recv-thread-cpu-mask-detailtable"></a><p class="title"><b>表 18.27 
            ndb-recv-thread-cpu-mask の型と値の情報</b></p><div class="table-contents"><table id="ndb-recv-thread-cpu-mask-detailtable" summary="This table provides type and value information for ndb-recv-thread-cpu-mask"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb-recv-thread-cpu-mask" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb-recv-thread-cpu-mask" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb-recv-thread-cpu-mask" abbr="System">システム変数</th>
        <th id="statvar-ndb-recv-thread-cpu-mask" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb-recv-thread-cpu-mask" abbr="File">オプションファイル</th>
        <th id="scope-ndb-recv-thread-cpu-mask" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb-recv-thread-cpu-mask" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb-recv-thread-cpu-mask" abbr="Version">開始バージョン</th>
        <th id="type-ndb-recv-thread-cpu-mask" abbr="Type">型</th>
        <th id="range-ndb-recv-thread-cpu-mask" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb-recv-thread-cpu-mask" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb-recv-thread-cpu-mask" headers="optvar-ndb-recv-thread-cpu-mask">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-recv-thread-cpu-mask">ndb-recv-thread-cpu-mask</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb-recv-thread-cpu-mask cli-ndb-recv-thread-cpu-mask">はい</td>
        <td headers="row-ndb-recv-thread-cpu-mask sysvar-ndb-recv-thread-cpu-mask">いいえ</td>
        <td headers="row-ndb-recv-thread-cpu-mask statvar-ndb-recv-thread-cpu-mask">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-recv-thread-cpu-mask optfile-ndb-recv-thread-cpu-mask">はい</td>
        <td headers="row-ndb-recv-thread-cpu-mask scope-ndb-recv-thread-cpu-mask"></td>
        <td headers="row-ndb-recv-thread-cpu-mask dynamic-ndb-recv-thread-cpu-mask">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-recv-thread-cpu-mask version-ndb-recv-thread-cpu-mask">NDB 7.3</td>
        <td headers="row-ndb-recv-thread-cpu-mask type-ndb-recv-thread-cpu-mask">ビットマップ</td>
        <td headers="row-ndb-recv-thread-cpu-mask range-ndb-recv-thread-cpu-mask">[空]</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb-recv-thread-cpu-mask notes-ndb-recv-thread-cpu-mask">
          <p>
            説明: 受信者スレッドを特定の CPU にロックするための CPU マスク。16 進数として指定されます。詳細は、ドキュメントを参照してください。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            受信者スレッドを特定の CPU にロックする CPU マスクを設定します。これは、16 進数のビットマスクとして指定されます。たとえば、<code class="literal">0x33</code> は受信者スレッドごとに 1 つの CPU を使用します。空の文字列 (受信者スレッドをロックしない) がデフォルトです。
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb-transid-mysql-connection-map"></a>
            <code class="option">ndb-transid-mysql-connection-map=<em class="replaceable"><code>state</code></em></code>
          </p><div class="table"><a name="ndb-transid-mysql-connection-map-detailtable"></a><p class="title"><b>表 18.28 
            ndb-transid-mysql-connection-map の型と値の情報</b></p><div class="table-contents"><table id="ndb-transid-mysql-connection-map-detailtable" summary="This table provides type and value information for ndb-transid-mysql-connection-map"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb-transid-mysql-connection-map" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb-transid-mysql-connection-map" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb-transid-mysql-connection-map" abbr="System">システム変数</th>
        <th id="statvar-ndb-transid-mysql-connection-map" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb-transid-mysql-connection-map" abbr="File">オプションファイル</th>
        <th id="scope-ndb-transid-mysql-connection-map" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb-transid-mysql-connection-map" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb-transid-mysql-connection-map" abbr="Version">開始バージョン</th>
        <th id="type-ndb-transid-mysql-connection-map" abbr="Type">型</th>
        <th id="range-ndb-transid-mysql-connection-map" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb-transid-mysql-connection-map" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb-transid-mysql-connection-map" headers="optvar-ndb-transid-mysql-connection-map">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-transid-mysql-connection-map">ndb-transid-mysql-connection-map</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb-transid-mysql-connection-map cli-ndb-transid-mysql-connection-map">はい</td>
        <td headers="row-ndb-transid-mysql-connection-map sysvar-ndb-transid-mysql-connection-map">いいえ</td>
        <td headers="row-ndb-transid-mysql-connection-map statvar-ndb-transid-mysql-connection-map">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-transid-mysql-connection-map optfile-ndb-transid-mysql-connection-map">いいえ</td>
        <td headers="row-ndb-transid-mysql-connection-map scope-ndb-transid-mysql-connection-map"></td>
        <td headers="row-ndb-transid-mysql-connection-map dynamic-ndb-transid-mysql-connection-map">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-transid-mysql-connection-map version-ndb-transid-mysql-connection-map">NDB 7.3</td>
        <td headers="row-ndb-transid-mysql-connection-map type-ndb-transid-mysql-connection-map">列挙</td>
        <td headers="row-ndb-transid-mysql-connection-map range-ndb-transid-mysql-connection-map">ON / ON、OFF、FORCE</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb-transid-mysql-connection-map notes-ndb-transid-mysql-connection-map">
          <p>
            説明: ndb_transid_mysql_connection_map プラグインを有効または無効にします。つまり、その名前を持つ INFORMATION_SCHEMA テーブルを有効または無効にします。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            <code class="literal">INFORMATION_SCHEMA</code> データベースの <code class="literal">ndb_transid_mysql_connection_map</code> テーブルを処理するプラグインを有効または無効にします。<code class="literal">ON</code>、<code class="literal">OFF</code>、<code class="literal">FORCE</code> のいずれかの値を取ります。<code class="literal">ON</code> (デフォルト) では、プラグインが有効になります。<code class="literal">OFF</code> では、プラグインが無効になり、<code class="literal">ndb_transid_mysql_connection_map</code> にアクセスできなくなります。<code class="literal">FORCE</code> では、プラグインのロードと起動に失敗した場合に MySQL Server が起動しなくなります。
          </p><p>
            <code class="literal">ndb_transid_mysql_connection_map</code> テーブルプラグインが実行されているかどうかを確認するには、<code class="literal">SHOW PLUGINS</code> の出力をチェックします。
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb-wait-connected"></a>
            <code class="option">--ndb-wait-connected=<em class="replaceable"><code>seconds</code></em></code>
          </p><div class="table"><a name="ndb-wait-connected-detailtable"></a><p class="title"><b>表 18.29 
            ndb-wait-connected の型と値の情報</b></p><div class="table-contents"><table id="ndb-wait-connected-detailtable" summary="This table provides type and value information for ndb-wait-connected"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb-wait-connected" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb-wait-connected" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb-wait-connected" abbr="System">システム変数</th>
        <th id="statvar-ndb-wait-connected" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb-wait-connected" abbr="File">オプションファイル</th>
        <th id="scope-ndb-wait-connected" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb-wait-connected" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb-wait-connected" abbr="Version">開始バージョン</th>
        <th id="type-ndb-wait-connected" abbr="Type">型</th>
        <th id="range-ndb-wait-connected" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb-wait-connected" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb-wait-connected" headers="optvar-ndb-wait-connected">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-wait-connected">ndb-wait-connected</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb-wait-connected cli-ndb-wait-connected">はい</td>
        <td headers="row-ndb-wait-connected sysvar-ndb-wait-connected">はい</td>
        <td headers="row-ndb-wait-connected statvar-ndb-wait-connected">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-wait-connected optfile-ndb-wait-connected">はい</td>
        <td headers="row-ndb-wait-connected scope-ndb-wait-connected">グローバル</td>
        <td headers="row-ndb-wait-connected dynamic-ndb-wait-connected">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-wait-connected version-ndb-wait-connected">NDB 7.3</td>
        <td headers="row-ndb-wait-connected type-ndb-wait-connected">数値</td>
        <td headers="row-ndb-wait-connected range-ndb-wait-connected">0 / 0 - 31536000</td>
      </tr><tr>
        <td headers="row-ndb-wait-connected version-ndb-wait-connected">5.1.56-ndb-7.1.16、5.1.56-ndb-7.0.27</td>
        <td headers="row-ndb-wait-connected type-ndb-wait-connected">数値</td>
        <td headers="row-ndb-wait-connected range-ndb-wait-connected">30 / 0 - 31536000</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb-wait-connected notes-ndb-wait-connected">
          <p>
            説明: MySQL サーバーが、MySQL クライアントの接続を受け入れる前にクラスタ管理およびデータノードへの接続を待機する時間 (秒単位)。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            このオプションは、MySQL サーバーが MySQL クライアントの接続を受け入れる前に MySQL Cluster 管理およびデータノードへの接続が確立されるまで待機する時間を設定します。この時間は秒単位で指定します。デフォルト値は <code class="literal">30</code> です。
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb-wait-setup"></a>
            <code class="option">--ndb-wait-setup=<em class="replaceable"><code>seconds</code></em></code>
          </p><div class="table"><a name="ndb-wait-setup-detailtable"></a><p class="title"><b>表 18.30 
            ndb-wait-setup の型と値の情報</b></p><div class="table-contents"><table id="ndb-wait-setup-detailtable" summary="This table provides type and value information for ndb-wait-setup"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb-wait-setup" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb-wait-setup" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb-wait-setup" abbr="System">システム変数</th>
        <th id="statvar-ndb-wait-setup" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb-wait-setup" abbr="File">オプションファイル</th>
        <th id="scope-ndb-wait-setup" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb-wait-setup" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb-wait-setup" abbr="Version">開始バージョン</th>
        <th id="type-ndb-wait-setup" abbr="Type">型</th>
        <th id="range-ndb-wait-setup" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb-wait-setup" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb-wait-setup" headers="optvar-ndb-wait-setup">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-wait-setup">ndb-wait-setup</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb-wait-setup cli-ndb-wait-setup">はい</td>
        <td headers="row-ndb-wait-setup sysvar-ndb-wait-setup">はい</td>
        <td headers="row-ndb-wait-setup statvar-ndb-wait-setup">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-wait-setup optfile-ndb-wait-setup">はい</td>
        <td headers="row-ndb-wait-setup scope-ndb-wait-setup">グローバル</td>
        <td headers="row-ndb-wait-setup dynamic-ndb-wait-setup">いいえ</td>
      </tr><tr>
        <td headers="row-ndb-wait-setup version-ndb-wait-setup">NDB 7.3</td>
        <td headers="row-ndb-wait-setup type-ndb-wait-setup">数値</td>
        <td headers="row-ndb-wait-setup range-ndb-wait-setup">15 / 0 - 31536000</td>
      </tr><tr>
        <td headers="row-ndb-wait-setup version-ndb-wait-setup">5.1.56-ndb-7.0.27, 5.1.56-ndb-7.1.16</td>
        <td headers="row-ndb-wait-setup type-ndb-wait-setup">数値</td>
        <td headers="row-ndb-wait-setup range-ndb-wait-setup">30 / 0 - 31536000</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb-wait-setup notes-ndb-wait-setup">
          <p>
            説明: MySQL サーバーが NDB エンジンのセットアップの完了を待機する時間 (秒単位)。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            この変数は、MySQL サーバーが <code class="literal">NDB</code> ストレージエンジンのセットアップが完了されるまで待機しタイムアウトして、<code class="literal">NDB</code> を使用不可として扱うまでの時間を示します。この時間は秒単位で指定します。デフォルト値は <code class="literal">30</code> です。
          </p></li><li class="listitem"><p><a name="option_mysqld_server-id-bits"></a>
            <a class="indexterm" name="idm139979031898512"></a> <a class="indexterm" name="idm139979031896352"></a> <code class="option">--server-id-bits=#</code>
          </p><div class="table"><a name="server-id-bits-detailtable"></a><p class="title"><b>表 18.31 
            server-id-bits の型と値の情報</b></p><div class="table-contents"><table id="server-id-bits-detailtable" summary="This table provides type and value information for server-id-bits"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-server-id-bits" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-server-id-bits" abbr="CLI">コマンド行</th>
        <th id="sysvar-server-id-bits" abbr="System">システム変数</th>
        <th id="statvar-server-id-bits" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-server-id-bits" abbr="File">オプションファイル</th>
        <th id="scope-server-id-bits" abbr="Scope">スコープ</th>
        <th id="dynamic-server-id-bits" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-server-id-bits" abbr="Version">開始バージョン</th>
        <th id="type-server-id-bits" abbr="Type">型</th>
        <th id="range-server-id-bits" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-server-id-bits" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-server-id-bits" headers="optvar-server-id-bits">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_server-id-bits">server-id-bits</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-server-id-bits cli-server-id-bits">はい</td>
        <td headers="row-server-id-bits sysvar-server-id-bits">はい</td>
        <td headers="row-server-id-bits statvar-server-id-bits">いいえ</td>
      </tr><tr>
        <td headers="row-server-id-bits optfile-server-id-bits">はい</td>
        <td headers="row-server-id-bits scope-server-id-bits">グローバル</td>
        <td headers="row-server-id-bits dynamic-server-id-bits">いいえ</td>
      </tr><tr>
        <td headers="row-server-id-bits version-server-id-bits">NDB 7.3</td>
        <td headers="row-server-id-bits type-server-id-bits">数値</td>
        <td headers="row-server-id-bits range-server-id-bits">32 / 7 - 32</td>
      </tr><tr>
        <td colspan="3" headers="row-server-id-bits notes-server-id-bits">
          <p>
            説明: サーバーを識別するために実際に使用される server_id 内の最下位ビットの数を設定することにより、NDB API アプリケーションが最上位ビットにアプリケーションデータを格納できるようにします。server_id は 2 の「この値」乗未満である必要があります。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            このオプションは、32 ビットの <code class="literal">server_id</code> のうち、実際にサーバーを識別する最小有効ビットの数を示します。サーバーが実際には 32 未満のビット数で識別されることを示すことで、残りのビットの一部をほかの目的に使用できるようになります。たとえば、NDB API のイベント API を使用するアプリケーションによって生成される <code class="literal">OperationOptions</code> 構造体の <code class="literal">AnyValue</code> 内のユーザーデータを格納できます (MySQL Cluster は <code class="literal">AnyValue</code> を使用してサーバー ID を格納します)。
          </p><p>
            サーバーは、レプリケーションループの検出などで <code class="literal">server_id</code> から有効なサーバー ID を抽出するときに、残りのビットを無視します。<code class="option">--server-id-bits</code> オプションは、I/O および SQL スレッド内の <code class="literal">server_id</code> に基づいてイベントを無視すべきかどうかを決定するときに、サーバー ID の無関係なビットをマスクして除外するために使用されます。
          </p><p>
            このデータは、<span class="command"><strong>mysqlbinlog</strong></span> によってバイナリログから読み取ることができます (それ自体の <code class="option">--server-id-bits</code> オプションを 32 (デフォルト) に設定して実行することが条件になります)。
          </p><p>
            <code class="literal">server_id</code> の値は、2 ^ <code class="literal">server_id_bits</code> 未満である必要があります。それ以外の場合、<span class="command"><strong>mysqld</strong></span> により起動が拒否されます。
          </p><p>
            このシステム変数は MySQL Cluster でのみサポートされます。標準の MySQL 5.6 Server ではサポートされません。
          </p></li><li class="listitem"><p><a name="option_mysqld_skip-ndbcluster"></a>
            <a class="indexterm" name="idm139979031832768"></a> <a class="indexterm" name="idm139979031830608"></a> <code class="option">--skip-ndbcluster</code>
          </p><div class="table"><a name="skip-ndbcluster-detailtable"></a><p class="title"><b>表 18.32 
            skip-ndbcluster の型と値の情報</b></p><div class="table-contents"><table id="skip-ndbcluster-detailtable" summary="This table provides type and value information for skip-ndbcluster"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-skip-ndbcluster" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-skip-ndbcluster" abbr="CLI">コマンド行</th>
        <th id="sysvar-skip-ndbcluster" abbr="System">システム変数</th>
        <th id="statvar-skip-ndbcluster" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-skip-ndbcluster" abbr="File">オプションファイル</th>
        <th id="scope-skip-ndbcluster" abbr="Scope">スコープ</th>
        <th id="dynamic-skip-ndbcluster" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-skip-ndbcluster" abbr="Version">開始バージョン</th>
        <th id="type-skip-ndbcluster" abbr="Type">型</th>
        <th id="range-skip-ndbcluster" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-skip-ndbcluster" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-skip-ndbcluster" headers="optvar-skip-ndbcluster">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_skip-ndbcluster">skip-ndbcluster</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-skip-ndbcluster cli-skip-ndbcluster">はい</td>
        <td headers="row-skip-ndbcluster sysvar-skip-ndbcluster">いいえ</td>
        <td headers="row-skip-ndbcluster statvar-skip-ndbcluster">いいえ</td>
      </tr><tr>
        <td headers="row-skip-ndbcluster optfile-skip-ndbcluster">はい</td>
        <td headers="row-skip-ndbcluster scope-skip-ndbcluster"></td>
        <td headers="row-skip-ndbcluster dynamic-skip-ndbcluster">いいえ</td>
      </tr><tr>
        <td colspan="3" headers="row-skip-ndbcluster notes-skip-ndbcluster">
          <p>
            説明: NDB Cluster ストレージエンジンを無効化
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            <code class="literal">NDBCLUSTER</code> ストレージエンジンを無効にします。これは、<code class="literal">NDBCLUSTER</code> ストレージエンジンのサポート付きでビルドされたバイナリのデフォルトです。サーバーは、<code class="option">--ndbcluster</code> オプションが明示的に指定された場合にのみ、このストレージエンジン用にメモリーおよびその他のリソースを割り当てます。例については、<a class="xref" href="mysql-cluster.html#mysql-cluster-quick" title="18.3.1 MySQL Cluster の簡易テストセットアップ">セクション18.3.1「MySQL Cluster の簡易テストセットアップ」</a>を参照してください。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-system-variables"></a>18.3.4.3 MySQL Cluster のシステム変数</h4></div></div></div><p>
        このセクションでは、MySQL Cluster および <code class="literal">NDB</code> ストレージエンジンに固有の MySQL サーバーシステム変数について詳しく説明します。MySQL Cluster に固有でないシステム変数については、<a class="xref" href="server-administration.html#server-system-variables" title="5.1.4 サーバーシステム変数">セクション5.1.4「サーバーシステム変数」</a>を参照してください。システム変数の使用に関する一般情報は、<a class="xref" href="server-administration.html#using-system-variables" title="5.1.5 システム変数の使用">セクション5.1.5「システム変数の使用」</a>を参照してください。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="sysvar_have_ndbcluster"></a>
            <code class="literal">have_ndbcluster</code>
          </p><div class="table"><a name="have_ndbcluster-detailtable"></a><p class="title"><b>表 18.33 
            have_ndbcluster の型と値の情報</b></p><div class="table-contents"><table id="have_ndbcluster-detailtable" summary="This table provides type and value information for have_ndbcluster"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-have_ndbcluster" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-have_ndbcluster" abbr="CLI">コマンド行</th>
        <th id="sysvar-have_ndbcluster" abbr="System">システム変数</th>
        <th id="statvar-have_ndbcluster" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-have_ndbcluster" abbr="File">オプションファイル</th>
        <th id="scope-have_ndbcluster" abbr="Scope">スコープ</th>
        <th id="dynamic-have_ndbcluster" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-have_ndbcluster" abbr="Version">開始バージョン</th>
        <th id="type-have_ndbcluster" abbr="Type">型</th>
        <th id="range-have_ndbcluster" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-have_ndbcluster" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-have_ndbcluster" headers="optvar-have_ndbcluster">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_have_ndbcluster">have_ndbcluster</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-have_ndbcluster cli-have_ndbcluster">いいえ</td>
        <td headers="row-have_ndbcluster sysvar-have_ndbcluster">はい</td>
        <td headers="row-have_ndbcluster statvar-have_ndbcluster">いいえ</td>
      </tr><tr>
        <td headers="row-have_ndbcluster optfile-have_ndbcluster">いいえ</td>
        <td headers="row-have_ndbcluster scope-have_ndbcluster">グローバル</td>
        <td headers="row-have_ndbcluster dynamic-have_ndbcluster">いいえ</td>
      </tr><tr>
        <td headers="row-have_ndbcluster version-have_ndbcluster">NDB 7.3</td>
        <td headers="row-have_ndbcluster type-have_ndbcluster">ブール</td>
        <td headers="row-have_ndbcluster range-have_ndbcluster"></td>
      </tr><tr>
        <td colspan="3" headers="row-have_ndbcluster notes-have_ndbcluster">
          <p>
            説明: mysqld が NDB Cluster テーブルをサポートするかどうか (--ndbcluster オプションで設定されます)。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            <span class="command"><strong>mysqld</strong></span> が <code class="literal">NDBCLUSTER</code> テーブルをサポートする場合は <code class="literal">YES</code>。<code class="option">--skip-ndbcluster</code> が使用されている場合は <code class="literal">DISABLED</code>。
          </p><p>
            この変数は非推奨であり、MySQL 5.6 で削除されています。代わりに <code class="literal">SHOW ENGINES</code> を使用してください。
          </p></li><li class="listitem"><p><a name="sysvar_ndb_autoincrement_prefetch_sz"></a>
            <code class="literal">ndb_autoincrement_prefetch_sz</code>
          </p><div class="table"><a name="ndb_autoincrement_prefetch_sz-detailtable"></a><p class="title"><b>表 18.34 
            ndb_autoincrement_prefetch_sz の型と値の情報</b></p><div class="table-contents"><table id="ndb_autoincrement_prefetch_sz-detailtable" summary="This table provides type and value information for ndb_autoincrement_prefetch_sz"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_autoincrement_prefetch_sz" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_autoincrement_prefetch_sz" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_autoincrement_prefetch_sz" abbr="System">システム変数</th>
        <th id="statvar-ndb_autoincrement_prefetch_sz" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_autoincrement_prefetch_sz" abbr="File">オプションファイル</th>
        <th id="scope-ndb_autoincrement_prefetch_sz" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_autoincrement_prefetch_sz" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_autoincrement_prefetch_sz" abbr="Version">開始バージョン</th>
        <th id="type-ndb_autoincrement_prefetch_sz" abbr="Type">型</th>
        <th id="range-ndb_autoincrement_prefetch_sz" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_autoincrement_prefetch_sz" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_autoincrement_prefetch_sz" headers="optvar-ndb_autoincrement_prefetch_sz">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_autoincrement_prefetch_sz">ndb_autoincrement_prefetch_sz</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_autoincrement_prefetch_sz cli-ndb_autoincrement_prefetch_sz">はい</td>
        <td headers="row-ndb_autoincrement_prefetch_sz sysvar-ndb_autoincrement_prefetch_sz">はい</td>
        <td headers="row-ndb_autoincrement_prefetch_sz statvar-ndb_autoincrement_prefetch_sz">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_autoincrement_prefetch_sz optfile-ndb_autoincrement_prefetch_sz">はい</td>
        <td headers="row-ndb_autoincrement_prefetch_sz scope-ndb_autoincrement_prefetch_sz">両方</td>
        <td headers="row-ndb_autoincrement_prefetch_sz dynamic-ndb_autoincrement_prefetch_sz">はい</td>
      </tr><tr>
        <td headers="row-ndb_autoincrement_prefetch_sz version-ndb_autoincrement_prefetch_sz">NDB 7.3</td>
        <td headers="row-ndb_autoincrement_prefetch_sz type-ndb_autoincrement_prefetch_sz">数値</td>
        <td headers="row-ndb_autoincrement_prefetch_sz range-ndb_autoincrement_prefetch_sz">32 / 1 - 256</td>
      </tr><tr>
        <td headers="row-ndb_autoincrement_prefetch_sz version-ndb_autoincrement_prefetch_sz">5.0.56</td>
        <td headers="row-ndb_autoincrement_prefetch_sz type-ndb_autoincrement_prefetch_sz">数値</td>
        <td headers="row-ndb_autoincrement_prefetch_sz range-ndb_autoincrement_prefetch_sz">1 / 1 - 256</td>
      </tr><tr>
        <td headers="row-ndb_autoincrement_prefetch_sz version-ndb_autoincrement_prefetch_sz">5.1.1</td>
        <td headers="row-ndb_autoincrement_prefetch_sz type-ndb_autoincrement_prefetch_sz">数値</td>
        <td headers="row-ndb_autoincrement_prefetch_sz range-ndb_autoincrement_prefetch_sz">32 / 1 - 256</td>
      </tr><tr>
        <td headers="row-ndb_autoincrement_prefetch_sz version-ndb_autoincrement_prefetch_sz">5.1.23</td>
        <td headers="row-ndb_autoincrement_prefetch_sz type-ndb_autoincrement_prefetch_sz">数値</td>
        <td headers="row-ndb_autoincrement_prefetch_sz range-ndb_autoincrement_prefetch_sz">1 / 1 - 256</td>
      </tr><tr>
        <td headers="row-ndb_autoincrement_prefetch_sz version-ndb_autoincrement_prefetch_sz">5.1.16-ndb-6.2.0</td>
        <td headers="row-ndb_autoincrement_prefetch_sz type-ndb_autoincrement_prefetch_sz">数値</td>
        <td headers="row-ndb_autoincrement_prefetch_sz range-ndb_autoincrement_prefetch_sz">32 / 1 - 256</td>
      </tr><tr>
        <td headers="row-ndb_autoincrement_prefetch_sz version-ndb_autoincrement_prefetch_sz">5.1.23-ndb-6.2.10</td>
        <td headers="row-ndb_autoincrement_prefetch_sz type-ndb_autoincrement_prefetch_sz">数値</td>
        <td headers="row-ndb_autoincrement_prefetch_sz range-ndb_autoincrement_prefetch_sz">1 / 1 - 256</td>
      </tr><tr>
        <td headers="row-ndb_autoincrement_prefetch_sz version-ndb_autoincrement_prefetch_sz">5.1.19-ndb-6.3.0</td>
        <td headers="row-ndb_autoincrement_prefetch_sz type-ndb_autoincrement_prefetch_sz">数値</td>
        <td headers="row-ndb_autoincrement_prefetch_sz range-ndb_autoincrement_prefetch_sz">32 / 1 - 256</td>
      </tr><tr>
        <td headers="row-ndb_autoincrement_prefetch_sz version-ndb_autoincrement_prefetch_sz">5.1.23-ndb-6.3.7</td>
        <td headers="row-ndb_autoincrement_prefetch_sz type-ndb_autoincrement_prefetch_sz">数値</td>
        <td headers="row-ndb_autoincrement_prefetch_sz range-ndb_autoincrement_prefetch_sz">1 / 1 - 256</td>
      </tr><tr>
        <td headers="row-ndb_autoincrement_prefetch_sz version-ndb_autoincrement_prefetch_sz">5.1.41-ndb-6.3.31</td>
        <td headers="row-ndb_autoincrement_prefetch_sz type-ndb_autoincrement_prefetch_sz">数値</td>
        <td headers="row-ndb_autoincrement_prefetch_sz range-ndb_autoincrement_prefetch_sz">1 / 1 - 65536</td>
      </tr><tr>
        <td headers="row-ndb_autoincrement_prefetch_sz version-ndb_autoincrement_prefetch_sz">5.1.30-ndb-6.4.0</td>
        <td headers="row-ndb_autoincrement_prefetch_sz type-ndb_autoincrement_prefetch_sz">数値</td>
        <td headers="row-ndb_autoincrement_prefetch_sz range-ndb_autoincrement_prefetch_sz">32 / 1 - 256</td>
      </tr><tr>
        <td headers="row-ndb_autoincrement_prefetch_sz version-ndb_autoincrement_prefetch_sz">5.1.41-ndb-7.0.11</td>
        <td headers="row-ndb_autoincrement_prefetch_sz type-ndb_autoincrement_prefetch_sz">数値</td>
        <td headers="row-ndb_autoincrement_prefetch_sz range-ndb_autoincrement_prefetch_sz">1 / 1 - 65536</td>
      </tr><tr>
        <td headers="row-ndb_autoincrement_prefetch_sz version-ndb_autoincrement_prefetch_sz">5.5.15-ndb-7.2.1</td>
        <td headers="row-ndb_autoincrement_prefetch_sz type-ndb_autoincrement_prefetch_sz">数値</td>
        <td headers="row-ndb_autoincrement_prefetch_sz range-ndb_autoincrement_prefetch_sz">1 / 1 - 65536</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_autoincrement_prefetch_sz notes-ndb_autoincrement_prefetch_sz">
          <p>
            説明: NDB 自動インクリメント値のプリフェッチサイズ
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            自動インクリメントカラムのギャップの可能性を指定します。これを最小化するには、<code class="literal">1</code> に設定します。最適化するために大きな値に設定すると、挿入は高速になりますが、一連の挿入に連続した自動インクリメント番号が使用される可能性は減ります。最小およびデフォルト値は 1 です。<code class="literal">ndb_autoincrement_prefetch_sz</code> の最大値は 65536 です。
          </p><p>
            この変数は、ステートメント間でフェッチされる <code class="literal">AUTO_INCREMENT</code> ID の数にのみ影響します。特定のステートメント内では、一度に少なくとも 32 個の ID が取得されます。デフォルト値は 1 です。
          </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
              この変数は、<code class="literal">INSERT ... SELECT</code> を使用して実行される挿入には影響しません。
            </p></div></li><li class="listitem"><p><a name="sysvar_ndb_cache_check_time"></a>
            <code class="literal">ndb_cache_check_time</code>
          </p><div class="table"><a name="ndb_cache_check_time-detailtable"></a><p class="title"><b>表 18.35 
            ndb_cache_check_time の型と値の情報</b></p><div class="table-contents"><table id="ndb_cache_check_time-detailtable" summary="This table provides type and value information for ndb_cache_check_time"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_cache_check_time" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_cache_check_time" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_cache_check_time" abbr="System">システム変数</th>
        <th id="statvar-ndb_cache_check_time" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_cache_check_time" abbr="File">オプションファイル</th>
        <th id="scope-ndb_cache_check_time" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_cache_check_time" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_cache_check_time" abbr="Version">開始バージョン</th>
        <th id="type-ndb_cache_check_time" abbr="Type">型</th>
        <th id="range-ndb_cache_check_time" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_cache_check_time" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_cache_check_time" headers="optvar-ndb_cache_check_time">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_cache_check_time">ndb_cache_check_time</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_cache_check_time cli-ndb_cache_check_time">はい</td>
        <td headers="row-ndb_cache_check_time sysvar-ndb_cache_check_time">はい</td>
        <td headers="row-ndb_cache_check_time statvar-ndb_cache_check_time">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_cache_check_time optfile-ndb_cache_check_time">はい</td>
        <td headers="row-ndb_cache_check_time scope-ndb_cache_check_time">グローバル</td>
        <td headers="row-ndb_cache_check_time dynamic-ndb_cache_check_time">はい</td>
      </tr><tr>
        <td headers="row-ndb_cache_check_time version-ndb_cache_check_time">NDB 7.3</td>
        <td headers="row-ndb_cache_check_time type-ndb_cache_check_time">数値</td>
        <td headers="row-ndb_cache_check_time range-ndb_cache_check_time">0 / - </td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_cache_check_time notes-ndb_cache_check_time">
          <p>
            説明: MySQL クエリーキャッシュによって行われるクラスタ SQL ノードのチェック間のミリ秒数
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            MySQL クエリーキャッシュによる MySQL Cluster SQL ノードのチェック間で経過するミリ秒数。これを 0 (デフォルトおよび最小値) に設定すると、クエリーキャッシュですべてのクエリーの妥当性がチェックされます。
          </p><p>
            この変数の推奨最大値は 1000 です。これは、チェックが毎秒 1 回行われることを意味します。より大きな値にすると、チェックが実行され、場合によっては異なる SQL ノードでの更新のために無効になる頻度が少なくなります。これを 2000 より大きな値に設定することは、通常、望ましくありません。
          </p></li><li class="listitem"><p><a name="sysvar_ndb_deferred_constraints"></a>
            <code class="literal">ndb_deferred_constraints</code>
          </p><div class="table"><a name="ndb_deferred_constraints-detailtable"></a><p class="title"><b>表 18.36 
            ndb_deferred_constraints の型と値の情報</b></p><div class="table-contents"><table id="ndb_deferred_constraints-detailtable" summary="This table provides type and value information for ndb_deferred_constraints"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_deferred_constraints" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_deferred_constraints" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_deferred_constraints" abbr="System">システム変数</th>
        <th id="statvar-ndb_deferred_constraints" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_deferred_constraints" abbr="File">オプションファイル</th>
        <th id="scope-ndb_deferred_constraints" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_deferred_constraints" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_deferred_constraints" abbr="Version">開始バージョン</th>
        <th id="type-ndb_deferred_constraints" abbr="Type">型</th>
        <th id="range-ndb_deferred_constraints" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_deferred_constraints" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_deferred_constraints" headers="optvar-ndb_deferred_constraints">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_deferred_constraints">ndb_deferred_constraints</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_deferred_constraints cli-ndb_deferred_constraints">はい</td>
        <td headers="row-ndb_deferred_constraints sysvar-ndb_deferred_constraints">はい</td>
        <td headers="row-ndb_deferred_constraints statvar-ndb_deferred_constraints">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_deferred_constraints optfile-ndb_deferred_constraints">はい</td>
        <td headers="row-ndb_deferred_constraints scope-ndb_deferred_constraints">両方</td>
        <td headers="row-ndb_deferred_constraints dynamic-ndb_deferred_constraints">はい</td>
      </tr><tr>
        <td headers="row-ndb_deferred_constraints version-ndb_deferred_constraints">NDB 7.3</td>
        <td headers="row-ndb_deferred_constraints type-ndb_deferred_constraints">整数</td>
        <td headers="row-ndb_deferred_constraints range-ndb_deferred_constraints">0 / 0 - 1</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_deferred_constraints notes-ndb_deferred_constraints">
          <p>
            説明: 制約チェック (サポートされている場合) を遅延させることを指定します。通常は必要なく、使用されません。テストの目的にのみ使用されます。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            制約チェックがサポートされる場合に、それを遅延するかどうかを制御します。<code class="literal">0</code> がデフォルトです。
          </p><p>
            この変数は、MySQL Cluster または MySQL Cluster レプリケーションの動作には通常不要であり、主にテストでの使用を目的としています。
          </p></li><li class="listitem"><p><a name="sysvar_ndb_distribution"></a>
            <code class="literal">ndb_distribution</code>
          </p><div class="table"><a name="ndb_distribution-detailtable"></a><p class="title"><b>表 18.37 
            ndb_distribution の型と値の情報</b></p><div class="table-contents"><table id="ndb_distribution-detailtable" summary="This table provides type and value information for ndb_distribution"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_distribution" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_distribution" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_distribution" abbr="System">システム変数</th>
        <th id="statvar-ndb_distribution" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_distribution" abbr="File">オプションファイル</th>
        <th id="scope-ndb_distribution" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_distribution" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_distribution" abbr="Version">開始バージョン</th>
        <th id="type-ndb_distribution" abbr="Type">型</th>
        <th id="range-ndb_distribution" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_distribution" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_distribution" headers="optvar-ndb_distribution">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_distribution">ndb_distribution</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_distribution cli-ndb_distribution">はい</td>
        <td headers="row-ndb_distribution sysvar-ndb_distribution">はい</td>
        <td headers="row-ndb_distribution statvar-ndb_distribution">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_distribution optfile-ndb_distribution">はい</td>
        <td headers="row-ndb_distribution scope-ndb_distribution">グローバル</td>
        <td headers="row-ndb_distribution dynamic-ndb_distribution">はい</td>
      </tr><tr>
        <td headers="row-ndb_distribution version-ndb_distribution">NDB 7.3</td>
        <td headers="row-ndb_distribution type-ndb_distribution">列挙</td>
        <td headers="row-ndb_distribution range-ndb_distribution">KEYHASH / LINHASH, KEYHASH</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_distribution notes-ndb_distribution">
          <p>
            説明: NDBCLUSTER の新しいテーブルのデフォルトの配布 (KEYHASH または LINHASH、デフォルトは KEYHASH)
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            <code class="literal">NDB</code> テーブルのデフォルトの分配方法を制御します。<code class="literal">KEYHASH</code> (キーハッシュ) または <code class="literal">LINHASH</code> (線形ハッシュ) のいずれかに設定できます。<code class="literal">KEYHASH</code> がデフォルトです。
          </p></li><li class="listitem"><p><a name="sysvar_ndb_eventbuffer_max_alloc"></a>
            <code class="literal">ndb_eventbuffer_max_alloc</code>
          </p><div class="table"><a name="ndb_eventbuffer_max_alloc-detailtable"></a><p class="title"><b>表 18.38 
            ndb_eventbuffer_max_alloc の型と値の情報</b></p><div class="table-contents"><table id="ndb_eventbuffer_max_alloc-detailtable" summary="This table provides type and value information for ndb_eventbuffer_max_alloc"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_eventbuffer_max_alloc" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_eventbuffer_max_alloc" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_eventbuffer_max_alloc" abbr="System">システム変数</th>
        <th id="statvar-ndb_eventbuffer_max_alloc" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_eventbuffer_max_alloc" abbr="File">オプションファイル</th>
        <th id="scope-ndb_eventbuffer_max_alloc" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_eventbuffer_max_alloc" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_eventbuffer_max_alloc" abbr="Version">開始バージョン</th>
        <th id="type-ndb_eventbuffer_max_alloc" abbr="Type">型</th>
        <th id="range-ndb_eventbuffer_max_alloc" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_eventbuffer_max_alloc" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_eventbuffer_max_alloc" headers="optvar-ndb_eventbuffer_max_alloc">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_eventbuffer_max_alloc">ndb_eventbuffer_max_alloc</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_eventbuffer_max_alloc cli-ndb_eventbuffer_max_alloc">はい</td>
        <td headers="row-ndb_eventbuffer_max_alloc sysvar-ndb_eventbuffer_max_alloc">はい</td>
        <td headers="row-ndb_eventbuffer_max_alloc statvar-ndb_eventbuffer_max_alloc">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_eventbuffer_max_alloc optfile-ndb_eventbuffer_max_alloc">はい</td>
        <td headers="row-ndb_eventbuffer_max_alloc scope-ndb_eventbuffer_max_alloc">グローバル</td>
        <td headers="row-ndb_eventbuffer_max_alloc dynamic-ndb_eventbuffer_max_alloc">はい</td>
      </tr><tr>
        <td headers="row-ndb_eventbuffer_max_alloc version-ndb_eventbuffer_max_alloc">NDB 7.3</td>
        <td headers="row-ndb_eventbuffer_max_alloc type-ndb_eventbuffer_max_alloc">数値</td>
        <td headers="row-ndb_eventbuffer_max_alloc range-ndb_eventbuffer_max_alloc">0 / 0 - 4294967295</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_eventbuffer_max_alloc notes-ndb_eventbuffer_max_alloc">
          <p>
            説明: NDB API によるイベントのバッファリングのために割り当てることのできる最大メモリー。デフォルトでは 0 (制限なし) になります。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            NDB API によるイベントのバッファリングに割り当てる可能な最大メモリー量 (バイト単位) を設定します。0 はデフォルトで、制限が適用されません。
          </p><p>
            この変数は MySQL Cluster NDB 7.3.3 で追加されました。
          </p></li><li class="listitem"><p><a name="sysvar_ndb_extra_logging"></a>
            <code class="literal">ndb_extra_logging</code>
          </p><div class="table"><a name="ndb_extra_logging-detailtable"></a><p class="title"><b>表 18.39 
            ndb_extra_logging の型と値の情報</b></p><div class="table-contents"><table id="ndb_extra_logging-detailtable" summary="This table provides type and value information for ndb_extra_logging"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_extra_logging" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_extra_logging" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_extra_logging" abbr="System">システム変数</th>
        <th id="statvar-ndb_extra_logging" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_extra_logging" abbr="File">オプションファイル</th>
        <th id="scope-ndb_extra_logging" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_extra_logging" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_extra_logging" abbr="Version">開始バージョン</th>
        <th id="type-ndb_extra_logging" abbr="Type">型</th>
        <th id="range-ndb_extra_logging" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_extra_logging" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_extra_logging" headers="optvar-ndb_extra_logging">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_extra_logging">ndb_extra_logging</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_extra_logging cli-ndb_extra_logging">はい</td>
        <td headers="row-ndb_extra_logging sysvar-ndb_extra_logging">はい</td>
        <td headers="row-ndb_extra_logging statvar-ndb_extra_logging">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_extra_logging optfile-ndb_extra_logging">はい</td>
        <td headers="row-ndb_extra_logging scope-ndb_extra_logging">グローバル</td>
        <td headers="row-ndb_extra_logging dynamic-ndb_extra_logging">はい</td>
      </tr><tr>
        <td headers="row-ndb_extra_logging version-ndb_extra_logging">NDB 7.3</td>
        <td headers="row-ndb_extra_logging type-ndb_extra_logging">数値</td>
        <td headers="row-ndb_extra_logging range-ndb_extra_logging">0 / - </td>
      </tr><tr>
        <td headers="row-ndb_extra_logging version-ndb_extra_logging">5.1.19-ndb-6.3.0</td>
        <td headers="row-ndb_extra_logging type-ndb_extra_logging">数値</td>
        <td headers="row-ndb_extra_logging range-ndb_extra_logging">1 / - </td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_extra_logging notes-ndb_extra_logging">
          <p>
            説明: MySQL Cluster スキーマ、接続、およびデータ配布イベントの、MySQL エラーログへのロギングを制御
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            この変数は、<code class="literal">NDB</code> ストレージエンジンに固有の情報を MySQL エラーログに記録できるようにします。
          </p><p>
            この変数を 0 に設定すると、MySQL エラーログに書き込まれる <code class="literal">NDB</code> 固有の情報がトランザクション処理に関するものだけになります。0 より大きく 10 より小さい値に設定すると、<code class="literal">NDB</code> のテーブルスキーマイベントと接続イベント、競合解決の使用中の有無、および <code class="literal">NDB</code> のその他のエラーと情報も記録されます。値を 10 以上に設定すると、<code class="literal">NDB</code> の内部に関する情報 (クラスタノード間のデータ分配の進行状況など) も MySQL エラーログに書き込まれます。デフォルトは 1 です。
          </p></li><li class="listitem"><p><a name="sysvar_ndb_force_send"></a>
            <code class="literal">ndb_force_send</code>
          </p><div class="table"><a name="ndb_force_send-detailtable"></a><p class="title"><b>表 18.40 
            ndb_force_send の型と値の情報</b></p><div class="table-contents"><table id="ndb_force_send-detailtable" summary="This table provides type and value information for ndb_force_send"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_force_send" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_force_send" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_force_send" abbr="System">システム変数</th>
        <th id="statvar-ndb_force_send" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_force_send" abbr="File">オプションファイル</th>
        <th id="scope-ndb_force_send" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_force_send" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_force_send" abbr="Version">開始バージョン</th>
        <th id="type-ndb_force_send" abbr="Type">型</th>
        <th id="range-ndb_force_send" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_force_send" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_force_send" headers="optvar-ndb_force_send">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_force_send">ndb_force_send</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_force_send cli-ndb_force_send">はい</td>
        <td headers="row-ndb_force_send sysvar-ndb_force_send">はい</td>
        <td headers="row-ndb_force_send statvar-ndb_force_send">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_force_send optfile-ndb_force_send">はい</td>
        <td headers="row-ndb_force_send scope-ndb_force_send">両方</td>
        <td headers="row-ndb_force_send dynamic-ndb_force_send">はい</td>
      </tr><tr>
        <td headers="row-ndb_force_send version-ndb_force_send">NDB 7.3</td>
        <td headers="row-ndb_force_send type-ndb_force_send">ブール</td>
        <td headers="row-ndb_force_send range-ndb_force_send">TRUE</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_force_send notes-ndb_force_send">
          <p>
            説明: ほかのスレッドを待機することなく、ただちにバッファーを NDB に強制的に送信
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            ほかのスレッドを待機せずに、バッファーを <code class="literal">NDB</code> にただちに送信します。デフォルトは <code class="literal">ON</code> です。
          </p></li><li class="listitem"><p><a name="sysvar_ndb_index_stat_cache_entries"></a>
            <code class="literal">ndb_index_stat_cache_entries</code>
          </p><div class="table"><a name="ndb_index_stat_cache_entries-detailtable"></a><p class="title"><b>表 18.41 
            ndb_index_stat_cache_entries の型と値の情報</b></p><div class="table-contents"><table id="ndb_index_stat_cache_entries-detailtable" summary="This table provides type and value information for ndb_index_stat_cache_entries"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_index_stat_cache_entries" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_index_stat_cache_entries" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_index_stat_cache_entries" abbr="System">システム変数</th>
        <th id="statvar-ndb_index_stat_cache_entries" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_index_stat_cache_entries" abbr="File">オプションファイル</th>
        <th id="scope-ndb_index_stat_cache_entries" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_index_stat_cache_entries" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_index_stat_cache_entries" abbr="Version">開始バージョン</th>
        <th id="type-ndb_index_stat_cache_entries" abbr="Type">型</th>
        <th id="range-ndb_index_stat_cache_entries" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_index_stat_cache_entries" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_index_stat_cache_entries" headers="optvar-ndb_index_stat_cache_entries">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_index_stat_cache_entries">ndb_index_stat_cache_entries</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_index_stat_cache_entries cli-ndb_index_stat_cache_entries">はい</td>
        <td headers="row-ndb_index_stat_cache_entries sysvar-ndb_index_stat_cache_entries">はい</td>
        <td headers="row-ndb_index_stat_cache_entries statvar-ndb_index_stat_cache_entries">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_index_stat_cache_entries optfile-ndb_index_stat_cache_entries">はい</td>
        <td headers="row-ndb_index_stat_cache_entries scope-ndb_index_stat_cache_entries">両方</td>
        <td headers="row-ndb_index_stat_cache_entries dynamic-ndb_index_stat_cache_entries">はい</td>
      </tr><tr>
        <td headers="row-ndb_index_stat_cache_entries version-ndb_index_stat_cache_entries">NDB 7.3</td>
        <td headers="row-ndb_index_stat_cache_entries type-ndb_index_stat_cache_entries">数値</td>
        <td headers="row-ndb_index_stat_cache_entries range-ndb_index_stat_cache_entries">32 / 0 - 4294967295</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_index_stat_cache_entries notes-ndb_index_stat_cache_entries">
          <p>
            説明: 開始キーと終了キーの数を決定することにより、統計の粒度を設定
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            統計メモリーキャッシュに格納する開始キーと終了キーの数を指定して、統計の粒度を設定します。0 では、キャッシュが行われません。この場合、データノードは常に直接クエリーされます。デフォルト値: <code class="literal">32</code>。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              <code class="literal">ndb_index_stat_enable</code> が <code class="literal">OFF</code> の場合は、この変数を設定しても無効になります。
            </p></div><p>
            この変数は MySQL 5.1 で非推奨になり、MySQL Cluster NDB 7.3.5 以降では削除されています。
          </p></li><li class="listitem"><p><a name="sysvar_ndb_index_stat_enable"></a>
            <code class="literal">ndb_index_stat_enable</code>
          </p><div class="table"><a name="ndb_index_stat_enable-detailtable"></a><p class="title"><b>表 18.42 
            ndb_index_stat_enable の型と値の情報</b></p><div class="table-contents"><table id="ndb_index_stat_enable-detailtable" summary="This table provides type and value information for ndb_index_stat_enable"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_index_stat_enable" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_index_stat_enable" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_index_stat_enable" abbr="System">システム変数</th>
        <th id="statvar-ndb_index_stat_enable" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_index_stat_enable" abbr="File">オプションファイル</th>
        <th id="scope-ndb_index_stat_enable" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_index_stat_enable" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_index_stat_enable" abbr="Version">開始バージョン</th>
        <th id="type-ndb_index_stat_enable" abbr="Type">型</th>
        <th id="range-ndb_index_stat_enable" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_index_stat_enable" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_index_stat_enable" headers="optvar-ndb_index_stat_enable">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_index_stat_enable">ndb_index_stat_enable</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_index_stat_enable cli-ndb_index_stat_enable">はい</td>
        <td headers="row-ndb_index_stat_enable sysvar-ndb_index_stat_enable">はい</td>
        <td headers="row-ndb_index_stat_enable statvar-ndb_index_stat_enable">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_index_stat_enable optfile-ndb_index_stat_enable">はい</td>
        <td headers="row-ndb_index_stat_enable scope-ndb_index_stat_enable">両方</td>
        <td headers="row-ndb_index_stat_enable dynamic-ndb_index_stat_enable">はい</td>
      </tr><tr>
        <td headers="row-ndb_index_stat_enable version-ndb_index_stat_enable">NDB 7.3</td>
        <td headers="row-ndb_index_stat_enable type-ndb_index_stat_enable">ブール</td>
        <td headers="row-ndb_index_stat_enable range-ndb_index_stat_enable">OFF</td>
      </tr><tr>
        <td headers="row-ndb_index_stat_enable version-ndb_index_stat_enable">5.5.15-ndb-7.2.1</td>
        <td headers="row-ndb_index_stat_enable type-ndb_index_stat_enable">ブール</td>
        <td headers="row-ndb_index_stat_enable range-ndb_index_stat_enable">ON</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_index_stat_enable notes-ndb_index_stat_enable">
          <p>
            説明: クエリーの最適化で NDB インデックス統計を使用
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            クエリーの最適化で <code class="literal">NDB</code> インデックス統計を使用します。デフォルトは <code class="literal">ON</code> です。
          </p></li><li class="listitem"><p><a name="sysvar_ndb_index_stat_option"></a>
            <code class="literal">ndb_index_stat_option</code>
          </p><div class="table"><a name="ndb_index_stat_option-detailtable"></a><p class="title"><b>表 18.43 
            ndb_index_stat_option の型と値の情報</b></p><div class="table-contents"><table id="ndb_index_stat_option-detailtable" summary="This table provides type and value information for ndb_index_stat_option"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_index_stat_option" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_index_stat_option" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_index_stat_option" abbr="System">システム変数</th>
        <th id="statvar-ndb_index_stat_option" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_index_stat_option" abbr="File">オプションファイル</th>
        <th id="scope-ndb_index_stat_option" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_index_stat_option" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_index_stat_option" abbr="Version">開始バージョン</th>
        <th id="type-ndb_index_stat_option" abbr="Type">型</th>
        <th id="range-ndb_index_stat_option" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_index_stat_option" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_index_stat_option" headers="optvar-ndb_index_stat_option">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_index_stat_option">ndb_index_stat_option</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_index_stat_option cli-ndb_index_stat_option">はい</td>
        <td headers="row-ndb_index_stat_option sysvar-ndb_index_stat_option">はい</td>
        <td headers="row-ndb_index_stat_option statvar-ndb_index_stat_option">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_index_stat_option optfile-ndb_index_stat_option">はい</td>
        <td headers="row-ndb_index_stat_option scope-ndb_index_stat_option">両方</td>
        <td headers="row-ndb_index_stat_option dynamic-ndb_index_stat_option">はい</td>
      </tr><tr>
        <td headers="row-ndb_index_stat_option version-ndb_index_stat_option">NDB 7.3</td>
        <td headers="row-ndb_index_stat_option type-ndb_index_stat_option">文字列</td>
        <td headers="row-ndb_index_stat_option range-ndb_index_stat_option">loop_enable=1000ms,loop_idle=1000ms,loop_busy=100ms, update_batch=1,read_batch=4,idle_batch=32,check_batch=8, check_delay=10m,delete_batch=8, clean_delay=1m,error_batch=4, error_delay=1m,evict_batch=8,evict_delay=1m,cache_limit=32M, cache_lowpct=90,zero_total=0</td>
      </tr><tr>
        <td headers="row-ndb_index_stat_option version-ndb_index_stat_option">5.1.56-ndb-7.1.17</td>
        <td headers="row-ndb_index_stat_option type-ndb_index_stat_option">文字列</td>
        <td headers="row-ndb_index_stat_option range-ndb_index_stat_option">loop_checkon=1000ms,loop_idle=1000ms,loop_busy=100ms, update_batch=1,read_batch=4,idle_batch=32,check_batch=32, check_delay=1m,delete_batch=8,clean_delay=0,error_batch=4, error_delay=1m,evict_batch=8,evict_delay=1m,cache_limit=32M, cache_lowpct=90</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_index_stat_option notes-ndb_index_stat_option">
          <p>
            説明: NDB インデックス統計の調整可能なオプションのカンマ区切りのリスト。リストはスペースを含んではなりません
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            この変数は、NDB インデックス統計の生成に関する調整オプションを提供するために使用されます。このリストは、カンマで区切られたオプション名と値の名前/値ペアで構成されます。このリストに空白文字を入れることはできません。
          </p><p>
            <code class="literal">ndb_index_stat_option</code> の設定時に使用していなかったオプションは、デフォルト値から変更できません。たとえば、<code class="literal">ndb_index_stat_option = 'loop_idle=1000ms,cache_limit=32M'</code> のように設定できます。
          </p><p>
            オプションで、時間値のサフィクスとして <code class="literal">s</code> (秒) または <code class="literal">ms</code> (ミリ秒) を使用できます。整数値のサフィクスとして <code class="literal">K</code>、<code class="literal">M</code>、または <code class="literal">G</code> を使用できます。
          </p><p>
            この変数を使用して設定できるオプションの名前を次の表に示します。この表には、オプションの簡単な説明、デフォルト値、および (適用可能な場合は) 最小値と最大値も示します。
          </p><div class="informaltable"><table summary="ndb_index_stat_option のオプションと値" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th scope="col">名前</th><th scope="col">説明</th><th scope="col">デフォルト/単位</th><th scope="col">最小/最大</th></tr></thead><tbody><tr><td scope="row"><code class="literal">loop_enable</code></td><td> </td><td>1000 ms</td><td>0/4G</td></tr><tr><td scope="row"><code class="literal">loop_idle</code></td><td>アイドル時のスリープ時間</td><td>1000 ms</td><td>0/4G</td></tr><tr><td scope="row"><code class="literal">loop_busy</code></td><td>追加作業が待機しているときのスリープ時間</td><td>100 ms</td><td>0/4G</td></tr><tr><td scope="row"><code class="literal">update_batch</code></td><td> </td><td>1</td><td>0/4G</td></tr><tr><td scope="row"><code class="literal">read_batch</code></td><td> </td><td>4</td><td>1/4G</td></tr><tr><td scope="row"><code class="literal">idle_batch</code></td><td> </td><td>32</td><td>1/4G</td></tr><tr><td scope="row"><code class="literal">check_batch</code></td><td> </td><td>8</td><td>1/4G</td></tr><tr><td scope="row"><code class="literal">check_delay</code></td><td>新しい統計をチェックする頻度</td><td>10 ms</td><td>1/4G</td></tr><tr><td scope="row"><code class="literal">delete_batch</code></td><td> </td><td>8</td><td>0/4G</td></tr><tr><td scope="row"><code class="literal">clean_delay</code></td><td> </td><td>1 ms</td><td>0/4G</td></tr><tr><td scope="row"><code class="literal">error_batch</code></td><td> </td><td>4</td><td>1/4G</td></tr><tr><td scope="row"><code class="literal">error_delay</code></td><td> </td><td>1 ms</td><td>1/4G</td></tr><tr><td scope="row"><code class="literal">evict_batch</code></td><td> </td><td>8</td><td>1/4G</td></tr><tr><td scope="row"><code class="literal">evict_delay</code></td><td>LRU キャッシュを削除します (読み取り時から)</td><td>1 ms</td><td>0/4G</td></tr><tr><td scope="row"><code class="literal">cache_limit</code></td><td>この <span class="command"><strong>mysqld</strong></span> がキャッシュされたインデックス統計のために使用するメモリーの最大量 (バイト単位)。これを超えたときにキャッシュをクリーンアップします。</td><td>32 M</td><td>0/4G</td></tr><tr><td scope="row"><code class="literal">cache_lowpct</code></td><td> </td><td>90</td><td>0/100</td></tr><tr><td scope="row"><code class="literal">zero_total</code></td><td>これを 1 に設定すると、<code class="literal">ndb_index_stat_status</code> のすべての累積カウンタが 0 にリセットされます。これが行われると、このオプション値も 0 にリセットされます。</td><td>0</td><td>0/1</td></tr></tbody></table></div></li><li class="listitem"><p><a name="sysvar_ndb_index_stat_update_freq"></a>
            <code class="literal">ndb_index_stat_update_freq</code>
          </p><div class="table"><a name="ndb_index_stat_update_freq-detailtable"></a><p class="title"><b>表 18.44 
            ndb_index_stat_update_freq の型と値の情報</b></p><div class="table-contents"><table id="ndb_index_stat_update_freq-detailtable" summary="This table provides type and value information for ndb_index_stat_update_freq"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_index_stat_update_freq" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_index_stat_update_freq" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_index_stat_update_freq" abbr="System">システム変数</th>
        <th id="statvar-ndb_index_stat_update_freq" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_index_stat_update_freq" abbr="File">オプションファイル</th>
        <th id="scope-ndb_index_stat_update_freq" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_index_stat_update_freq" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_index_stat_update_freq" abbr="Version">開始バージョン</th>
        <th id="type-ndb_index_stat_update_freq" abbr="Type">型</th>
        <th id="range-ndb_index_stat_update_freq" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_index_stat_update_freq" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_index_stat_update_freq" headers="optvar-ndb_index_stat_update_freq">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_index_stat_update_freq">ndb_index_stat_update_freq</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_index_stat_update_freq cli-ndb_index_stat_update_freq">はい</td>
        <td headers="row-ndb_index_stat_update_freq sysvar-ndb_index_stat_update_freq">はい</td>
        <td headers="row-ndb_index_stat_update_freq statvar-ndb_index_stat_update_freq">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_index_stat_update_freq optfile-ndb_index_stat_update_freq">はい</td>
        <td headers="row-ndb_index_stat_update_freq scope-ndb_index_stat_update_freq">両方</td>
        <td headers="row-ndb_index_stat_update_freq dynamic-ndb_index_stat_update_freq">はい</td>
      </tr><tr>
        <td headers="row-ndb_index_stat_update_freq version-ndb_index_stat_update_freq">NDB 7.3</td>
        <td headers="row-ndb_index_stat_update_freq type-ndb_index_stat_update_freq">数値</td>
        <td headers="row-ndb_index_stat_update_freq range-ndb_index_stat_update_freq">20 / 0 - 4294967295</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_index_stat_update_freq notes-ndb_index_stat_update_freq">
          <p>
            説明: 統計キャッシュではなくデータノードにクエリーを実行する頻度
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            統計キャッシュの代わりにデータノードをクエリーする頻度。たとえば、値 <code class="literal">20</code> (デフォルト) ではクエリーを 20 <sup></sup>回に 1 回データノードに送信します。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              <code class="literal">ndb_index_stat_cache_entries</code> が <code class="literal">0</code> の場合は、この変数を設定しても無効になります。この場合は、すべてのクエリーがデータノードに直接送信されます。
            </p></div><p>
            この変数は MySQL 5.1 で非推奨になり、MySQL Cluster NDB 7.3.5 以降では削除されています。
          </p></li><li class="listitem"><p><a name="sysvar_ndb_join_pushdown"></a>
            <code class="literal">ndb_join_pushdown</code>
          </p><div class="table"><a name="ndb_join_pushdown-detailtable"></a><p class="title"><b>表 18.45 
            ndb_join_pushdown の型と値の情報</b></p><div class="table-contents"><table id="ndb_join_pushdown-detailtable" summary="This table provides type and value information for ndb_join_pushdown"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_join_pushdown" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_join_pushdown" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_join_pushdown" abbr="System">システム変数</th>
        <th id="statvar-ndb_join_pushdown" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_join_pushdown" abbr="File">オプションファイル</th>
        <th id="scope-ndb_join_pushdown" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_join_pushdown" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_join_pushdown" abbr="Version">開始バージョン</th>
        <th id="type-ndb_join_pushdown" abbr="Type">型</th>
        <th id="range-ndb_join_pushdown" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_join_pushdown" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_join_pushdown" headers="optvar-ndb_join_pushdown">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_join_pushdown">ndb_join_pushdown</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_join_pushdown cli-ndb_join_pushdown">いいえ</td>
        <td headers="row-ndb_join_pushdown sysvar-ndb_join_pushdown">はい</td>
        <td headers="row-ndb_join_pushdown statvar-ndb_join_pushdown">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_join_pushdown optfile-ndb_join_pushdown">いいえ</td>
        <td headers="row-ndb_join_pushdown scope-ndb_join_pushdown">両方</td>
        <td headers="row-ndb_join_pushdown dynamic-ndb_join_pushdown">はい</td>
      </tr><tr>
        <td headers="row-ndb_join_pushdown version-ndb_join_pushdown">5.1.51-ndb-7.2.0</td>
        <td headers="row-ndb_join_pushdown type-ndb_join_pushdown">ブール</td>
        <td headers="row-ndb_join_pushdown range-ndb_join_pushdown">TRUE</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_join_pushdown notes-ndb_join_pushdown">
          <p>
            説明: データノードへの結合のプッシュダウンを有効化
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            この変数は、<code class="literal">NDB</code> テーブル上の結合が NDB カーネル (データノード) にプッシュダウンされるかどうかを制御します。以前は、SQL ノードによる <code class="literal">NDB</code> の複数アクセスにより結合が処理されていましたが、<code class="literal">ndb_join_pushdown</code> を有効にすると、プッシュ可能な結合のすべてがデータノードに送信されます。この場合、結合はデータノード間で分配され、データの複数のコピーに対して並列で実行され、単一のマージされた結果が <span class="command"><strong>mysqld</strong></span> に返されます。これにより、このような結合を処理するために必要な SQL ノードとデータノード間のラウンドトリップの回数を大幅に減らすことができます。
          </p><p>
            デフォルトでは、<code class="literal">ndb_join_pushdown</code> は有効になっています。
          </p><p>
            結合をプッシュ可能にするには、次の条件を満たす必要があります。
          </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
                比較できるのはカラムのみであり、結合されるすべてのカラムが<span class="emphasis"><em>完全に</em></span>同じデータ型を使用している必要があります。
              </p><p>
                つまり、<code class="literal">t1.a = t2.a + <em class="replaceable"><code>constant</code></em></code> のような式はプッシュダウンできません。また、(たとえば) <code class="literal">INT</code> カラムと <code class="literal">BIGINT</code> カラムの結合をプッシュダウンすることもできません。
              </p></li><li class="listitem"><p>
                <code class="literal">BLOB</code> または <code class="literal">TEXT</code> カラムを参照するクエリーはサポートされません。
              </p></li><li class="listitem"><p>
                明示的なロックはサポートされません。ただし、<code class="literal">NDB</code> ストレージエンジンの特徴である暗黙的な行ベースのロックは適用されます。
              </p><p>
                これは、<code class="literal">FOR UPDATE</code> を使用する結合をプッシュダウンできないことを意味します。
              </p></li><li class="listitem"><p>
                結合をプッシュダウンするには、<code class="literal">ref</code>、<code class="literal">eq_ref</code>、または <code class="literal">const</code> アクセスメソッドのいずれか、またはこれらのメソッドの組み合わせを使用して結合の子テーブルにアクセスする必要があります。
              </p><p>
                外部結合された子テーブルは、<code class="literal">eq_ref</code> のみを使用してプッシュできます。
              </p><p>
                プッシュされた結合のルートが <code class="literal">eq_ref</code> または <code class="literal">const</code> である場合は、<code class="literal">eq_ref</code> によって結合された子テーブルのみを追加できます。(<code class="literal">ref</code> によって結合されたテーブルは、プッシュされた結合の別のルートになる可能性があります。)
              </p><p>
                クエリーオプティマイザで候補となる子テーブルに <code class="literal">Using join cache</code> を指定した場合は、そのテーブルは子としてプッシュできません。ただし、プッシュされたテーブルの別のセットのルートになることはできます。
              </p></li><li class="listitem"><p>
                <code class="literal">[LINEAR] HASH</code>、<code class="literal">LIST</code>、または <code class="literal">RANGE</code> によって明示的にパーティション化されたテーブルを参照する結合は、現在のところプッシュダウンできません。
              </p></li></ol></div><p>
            特定の結合をプッシュダウンできるかどうかを確認するには、それを <code class="literal">EXPLAIN</code> でチェックします。結合をプッシュダウンできる場合は、この例に示すように、出力の <code class="literal">Extra</code> カラムに <code class="literal">pushed join</code> への参照が表示されます。
          </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>EXPLAIN</code></strong>
    -&gt;     <strong class="userinput"><code>SELECT e.first_name, e.last_name, t.title, d.dept_name</code></strong>
    -&gt;         <strong class="userinput"><code>FROM employees e</code></strong>
    -&gt;         <strong class="userinput"><code>JOIN dept_emp de ON e.emp_no=de.emp_no</code></strong>
    -&gt;         <strong class="userinput"><code>JOIN departments d ON d.dept_no=de.dept_no</code></strong>
    -&gt;         <strong class="userinput"><code>JOIN titles t ON e.emp_no=t.emp_no\G</code></strong>
*************************** 1. row ***************************
           id: 1
  select_type: SIMPLE
        table: d
         type: ALL
possible_keys: PRIMARY
          key: NULL
      key_len: NULL
          ref: NULL
         rows: 9
        Extra: Parent of 4 pushed join@1
*************************** 2. row ***************************
           id: 1
  select_type: SIMPLE
        table: de
         type: ref
possible_keys: PRIMARY,emp_no,dept_no
          key: dept_no
      key_len: 4
          ref: employees.d.dept_no
         rows: 5305
        Extra: Child of 'd' in pushed join@1
*************************** 3. row ***************************
           id: 1
  select_type: SIMPLE
        table: e
         type: eq_ref
possible_keys: PRIMARY
          key: PRIMARY
      key_len: 4
          ref: employees.de.emp_no
         rows: 1
        Extra: Child of 'de' in pushed join@1
*************************** 4. row ***************************
           id: 1
  select_type: SIMPLE
        table: t
         type: ref
possible_keys: PRIMARY,emp_no
          key: emp_no
      key_len: 4
          ref: employees.de.emp_no
         rows: 19
        Extra: Child of 'e' in pushed join@1
4 rows in set (0.00 sec)
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              内部結合されたテーブルが <code class="literal">ref</code> によって結合され、<span class="emphasis"><em>かつ</em></span>その結果がソートされたインデックスによって順序付けまたはグループ化された場合、このインデックスはソートされた行を提供できず、ソートされた一時ファイルへの書き込みが強制されます。
            </p></div><p>
            プッシュされた結合の動作については、追加の情報源が 2 つあります。
          </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
                ステータス変数 <code class="literal">Ndb_pushed_queries_defined</code>、<code class="literal">Ndb_pushed_queries_dropped</code>、<code class="literal">Ndb_pushed_queries_executed</code>、および <code class="literal">Ndb_pushed_reads</code>。
              </p></li><li class="listitem"><p>
                <code class="literal">DBSPJ</code> カーネルブロックに属する <code class="literal">ndbinfo.counters</code> テーブル内のカウンタ。このカウンタについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndbinfo-counters" title="18.5.10.7 ndbinfo counters テーブル">セクション18.5.10.7「ndbinfo counters テーブル」</a>を参照してください。『<em class="citetitle">MySQL Cluster API Developer Guide</em>』の<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-kernel-blocks-dbspj.html" target="_top">The DBSPJ Block</a>も参照してください。
              </p></li></ol></div></li><li class="listitem"><p><a name="sysvar_ndb_log_apply_status"></a>
            <code class="literal">ndb_log_apply_status</code>
          </p><div class="table"><a name="ndb_log_apply_status-detailtable"></a><p class="title"><b>表 18.46 
            ndb_log_apply_status の型と値の情報</b></p><div class="table-contents"><table id="ndb_log_apply_status-detailtable" summary="This table provides type and value information for ndb_log_apply_status"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_log_apply_status" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_log_apply_status" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_log_apply_status" abbr="System">システム変数</th>
        <th id="statvar-ndb_log_apply_status" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_log_apply_status" abbr="File">オプションファイル</th>
        <th id="scope-ndb_log_apply_status" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_log_apply_status" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_log_apply_status" abbr="Version">開始バージョン</th>
        <th id="type-ndb_log_apply_status" abbr="Type">型</th>
        <th id="range-ndb_log_apply_status" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_log_apply_status" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_log_apply_status" headers="optvar-ndb_log_apply_status">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_log_apply_status">ndb_log_apply_status</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_log_apply_status cli-ndb_log_apply_status">はい</td>
        <td headers="row-ndb_log_apply_status sysvar-ndb_log_apply_status">はい</td>
        <td headers="row-ndb_log_apply_status statvar-ndb_log_apply_status">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_log_apply_status optfile-ndb_log_apply_status">はい</td>
        <td headers="row-ndb_log_apply_status scope-ndb_log_apply_status">グローバル</td>
        <td headers="row-ndb_log_apply_status dynamic-ndb_log_apply_status">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_log_apply_status version-ndb_log_apply_status">NDB 7.3</td>
        <td headers="row-ndb_log_apply_status type-ndb_log_apply_status">ブール</td>
        <td headers="row-ndb_log_apply_status range-ndb_log_apply_status">OFF</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_log_apply_status notes-ndb_log_apply_status">
          <p>
            説明: スレーブとして機能している MySQL サーバーが、直接のマスターから受信した mysql.ndb_apply_status の更新を、自身のサーバー ID を使用して自身のバイナリログに記録するかどうか。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            <code class="option">--ndb-log-apply-status</code> オプションを使用してサーバーが起動されたかどうかを示す読み取り専用の変数。
          </p></li><li class="listitem"><p><a name="sysvar_ndb_log_bin"></a>
            <code class="literal">ndb_log_bin</code>
          </p><div class="table"><a name="ndb_log_bin-detailtable"></a><p class="title"><b>表 18.47 
            ndb_log_bin の型と値の情報</b></p><div class="table-contents"><table id="ndb_log_bin-detailtable" summary="This table provides type and value information for ndb_log_bin"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_log_bin" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_log_bin" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_log_bin" abbr="System">システム変数</th>
        <th id="statvar-ndb_log_bin" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_log_bin" abbr="File">オプションファイル</th>
        <th id="scope-ndb_log_bin" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_log_bin" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_log_bin" abbr="Version">開始バージョン</th>
        <th id="type-ndb_log_bin" abbr="Type">型</th>
        <th id="range-ndb_log_bin" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_log_bin" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_log_bin" headers="optvar-ndb_log_bin">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_log_bin">ndb_log_bin</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_log_bin cli-ndb_log_bin">はい</td>
        <td headers="row-ndb_log_bin sysvar-ndb_log_bin">はい</td>
        <td headers="row-ndb_log_bin statvar-ndb_log_bin">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_log_bin optfile-ndb_log_bin">いいえ</td>
        <td headers="row-ndb_log_bin scope-ndb_log_bin">両方</td>
        <td headers="row-ndb_log_bin dynamic-ndb_log_bin">はい</td>
      </tr><tr>
        <td headers="row-ndb_log_bin version-ndb_log_bin">NDB 7.3</td>
        <td headers="row-ndb_log_bin type-ndb_log_bin">ブール</td>
        <td headers="row-ndb_log_bin range-ndb_log_bin">ON</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_log_bin notes-ndb_log_bin">
          <p>
            説明: NDB テーブルの更新をバイナリログに書き込みます。--log-bin でバイナリロギングが有効になっている場合にのみ有効です。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            <code class="literal">NDB</code> テーブルの更新がバイナリログに書き込まれるようになります。サーバーのバイナリロギングがまだ <code class="literal">log_bin</code> を使用して有効になっていない場合は、この変数を設定しても無効になります。<code class="literal">ndb_log_bin</code> のデフォルトは 1 (ON) です。通常、本番環境でこの値を変更する必要はありません。
          </p></li><li class="listitem"><p><a name="sysvar_ndb_log_binlog_index"></a>
            <code class="literal">ndb_log_binlog_index</code>
          </p><div class="table"><a name="ndb_log_binlog_index-detailtable"></a><p class="title"><b>表 18.48 
            ndb_log_binlog_index の型と値の情報</b></p><div class="table-contents"><table id="ndb_log_binlog_index-detailtable" summary="This table provides type and value information for ndb_log_binlog_index"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_log_binlog_index" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_log_binlog_index" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_log_binlog_index" abbr="System">システム変数</th>
        <th id="statvar-ndb_log_binlog_index" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_log_binlog_index" abbr="File">オプションファイル</th>
        <th id="scope-ndb_log_binlog_index" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_log_binlog_index" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_log_binlog_index" abbr="Version">開始バージョン</th>
        <th id="type-ndb_log_binlog_index" abbr="Type">型</th>
        <th id="range-ndb_log_binlog_index" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_log_binlog_index" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_log_binlog_index" headers="optvar-ndb_log_binlog_index">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_log_binlog_index">ndb_log_binlog_index</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_log_binlog_index cli-ndb_log_binlog_index">はい</td>
        <td headers="row-ndb_log_binlog_index sysvar-ndb_log_binlog_index">はい</td>
        <td headers="row-ndb_log_binlog_index statvar-ndb_log_binlog_index">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_log_binlog_index optfile-ndb_log_binlog_index">いいえ</td>
        <td headers="row-ndb_log_binlog_index scope-ndb_log_binlog_index">グローバル</td>
        <td headers="row-ndb_log_binlog_index dynamic-ndb_log_binlog_index">はい</td>
      </tr><tr>
        <td headers="row-ndb_log_binlog_index version-ndb_log_binlog_index">NDB 7.3</td>
        <td headers="row-ndb_log_binlog_index type-ndb_log_binlog_index">ブール</td>
        <td headers="row-ndb_log_binlog_index range-ndb_log_binlog_index">ON</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_log_binlog_index notes-ndb_log_binlog_index">
          <p>
            説明: エポックとバイナリログの位置の間のマッピングを ndb_binlog_index テーブルに挿入します。デフォルトでは ON になります。サーバー上でバイナリロギングが有効になっている場合にのみ有効です。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            エポックとバイナリログ内の位置とのマッピングが <code class="literal">ndb_binlog_index</code> テーブルに挿入されるようになります。サーバーのバイナリロギングがまだ <code class="literal">log_bin</code> を使用して有効になっていない場合は、この変数を設定しても無効になります。(また、<code class="literal">ndb_log_bin</code> も無効にしないでください。) <code class="literal">ndb_log_binlog_index</code> のデフォルトは <code class="literal">1</code> (<code class="literal">ON</code>) です。通常、本番環境でこの値を変更する必要はありません。
          </p></li><li class="listitem"><p><a name="sysvar_ndb_log_empty_epochs"></a>
            <a class="indexterm" name="idm139979030777680"></a> <a class="indexterm" name="idm139979030776128"></a> <code class="literal">ndb_log_empty_epochs</code>
          </p><div class="table"><a name="ndb_log_empty_epochs-detailtable"></a><p class="title"><b>表 18.49 
            ndb_log_empty_epochs の型と値の情報</b></p><div class="table-contents"><table id="ndb_log_empty_epochs-detailtable" summary="This table provides type and value information for ndb_log_empty_epochs"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_log_empty_epochs" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_log_empty_epochs" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_log_empty_epochs" abbr="System">システム変数</th>
        <th id="statvar-ndb_log_empty_epochs" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_log_empty_epochs" abbr="File">オプションファイル</th>
        <th id="scope-ndb_log_empty_epochs" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_log_empty_epochs" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_log_empty_epochs" abbr="Version">開始バージョン</th>
        <th id="type-ndb_log_empty_epochs" abbr="Type">型</th>
        <th id="range-ndb_log_empty_epochs" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_log_empty_epochs" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_log_empty_epochs" headers="optvar-ndb_log_empty_epochs">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_log_empty_epochs">ndb_log_empty_epochs</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_log_empty_epochs cli-ndb_log_empty_epochs">はい</td>
        <td headers="row-ndb_log_empty_epochs sysvar-ndb_log_empty_epochs">はい</td>
        <td headers="row-ndb_log_empty_epochs statvar-ndb_log_empty_epochs">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_log_empty_epochs optfile-ndb_log_empty_epochs">はい</td>
        <td headers="row-ndb_log_empty_epochs scope-ndb_log_empty_epochs">グローバル</td>
        <td headers="row-ndb_log_empty_epochs dynamic-ndb_log_empty_epochs">はい</td>
      </tr><tr>
        <td headers="row-ndb_log_empty_epochs version-ndb_log_empty_epochs">NDB 7.3</td>
        <td headers="row-ndb_log_empty_epochs type-ndb_log_empty_epochs">ブール</td>
        <td headers="row-ndb_log_empty_epochs range-ndb_log_empty_epochs">OFF</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_log_empty_epochs notes-ndb_log_empty_epochs">
          <p>
            説明: 有効な場合は、log_slave_updates が有効であっても、変更がなかったエポックが ndb_apply_status および ndb_binlog_index テーブルに書き込まれます。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            この変数を 0 に設定すると、変更がなかったエポックトランザクションがバイナリログに書き込まれなくなりますが、<code class="literal">ndb_binlog_index</code> には空のエポックの行も書き込まれます。
          </p></li><li class="listitem"><p><a name="sysvar_ndb_log_exclusive_reads"></a>
            <a class="indexterm" name="idm139979030724576"></a> <a class="indexterm" name="idm139979030723056"></a> <code class="literal">ndb_log_exclusive_reads</code>
          </p><div class="table"><a name="ndb_log_exclusive_reads-detailtable"></a><p class="title"><b>表 18.50 
            ndb_log_exclusive_reads の型と値の情報</b></p><div class="table-contents"><table id="ndb_log_exclusive_reads-detailtable" summary="This table provides type and value information for ndb_log_exclusive_reads"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_log_exclusive_reads" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_log_exclusive_reads" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_log_exclusive_reads" abbr="System">システム変数</th>
        <th id="statvar-ndb_log_exclusive_reads" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_log_exclusive_reads" abbr="File">オプションファイル</th>
        <th id="scope-ndb_log_exclusive_reads" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_log_exclusive_reads" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_log_exclusive_reads" abbr="Version">開始バージョン</th>
        <th id="type-ndb_log_exclusive_reads" abbr="Type">型</th>
        <th id="range-ndb_log_exclusive_reads" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_log_exclusive_reads" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_log_exclusive_reads" headers="optvar-ndb_log_exclusive_reads">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_log_exclusive_reads">ndb_log_exclusive_reads</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_log_exclusive_reads cli-ndb_log_exclusive_reads">はい</td>
        <td headers="row-ndb_log_exclusive_reads sysvar-ndb_log_exclusive_reads">はい</td>
        <td headers="row-ndb_log_exclusive_reads statvar-ndb_log_exclusive_reads">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_log_exclusive_reads optfile-ndb_log_exclusive_reads">はい</td>
        <td headers="row-ndb_log_exclusive_reads scope-ndb_log_exclusive_reads">両方</td>
        <td headers="row-ndb_log_exclusive_reads dynamic-ndb_log_exclusive_reads">はい</td>
      </tr><tr>
        <td headers="row-ndb_log_exclusive_reads version-ndb_log_exclusive_reads">NDB 7.3</td>
        <td headers="row-ndb_log_exclusive_reads type-ndb_log_exclusive_reads">ブール</td>
        <td headers="row-ndb_log_exclusive_reads range-ndb_log_exclusive_reads">0</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_log_exclusive_reads notes-ndb_log_exclusive_reads">
          <p>
            説明: 排他的ロックによる主キーの読み取りをログに記録します。読み取りの競合に基づく競合解決を許可します。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            MySQL Cluster NDB 7.4.1 以降では、この変数によって、主キーの読み取りを排他ロックで記録するかどうかを指定します。これにより、読み取りの競合に基づく MySQL Cluster レプリケーションの競合検出および解決が可能になります。このロックを有効にするには、<code class="literal">ndb_log_exclusive_reads</code> の値を 1 に設定します。0 (このようなロックを無効にする) がデフォルトです。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-examples-read-conflicts" title="読み取り競合の検出と解決">読み取り競合の検出と解決</a>を参照してください。
          </p></li><li class="listitem"><p><a name="sysvar_ndb_log_orig"></a>
            <a class="indexterm" name="idm139979030669504"></a> <a class="indexterm" name="idm139979030668000"></a> <code class="literal">ndb_log_orig</code>
          </p><div class="table"><a name="ndb_log_orig-detailtable"></a><p class="title"><b>表 18.51 
            ndb_log_orig の型と値の情報</b></p><div class="table-contents"><table id="ndb_log_orig-detailtable" summary="This table provides type and value information for ndb_log_orig"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_log_orig" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_log_orig" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_log_orig" abbr="System">システム変数</th>
        <th id="statvar-ndb_log_orig" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_log_orig" abbr="File">オプションファイル</th>
        <th id="scope-ndb_log_orig" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_log_orig" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_log_orig" abbr="Version">開始バージョン</th>
        <th id="type-ndb_log_orig" abbr="Type">型</th>
        <th id="range-ndb_log_orig" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_log_orig" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_log_orig" headers="optvar-ndb_log_orig">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_log_orig">ndb_log_orig</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_log_orig cli-ndb_log_orig">はい</td>
        <td headers="row-ndb_log_orig sysvar-ndb_log_orig">はい</td>
        <td headers="row-ndb_log_orig statvar-ndb_log_orig">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_log_orig optfile-ndb_log_orig">はい</td>
        <td headers="row-ndb_log_orig scope-ndb_log_orig">グローバル</td>
        <td headers="row-ndb_log_orig dynamic-ndb_log_orig">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_log_orig version-ndb_log_orig">NDB 7.3</td>
        <td headers="row-ndb_log_orig type-ndb_log_orig">ブール</td>
        <td headers="row-ndb_log_orig range-ndb_log_orig">OFF</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_log_orig notes-ndb_log_orig">
          <p>
            説明: 発信サーバーの ID とエポックが mysql.ndb_binlog_index テーブルに記録されるかどうか。mysqld を起動するときに --ndb-log-orig オプションを使用して設定します。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            発信元サーバーの ID とエポックが <code class="literal">ndb_binlog_index</code> テーブルに記録されるかどうかを示します。<code class="option">--ndb-log-orig</code> サーバーオプションを使用して設定します。
          </p></li><li class="listitem"><p><a name="sysvar_ndb_log_transaction_id"></a>
            <a class="indexterm" name="idm139979030616608"></a> <a class="indexterm" name="idm139979030615056"></a> <code class="literal">ndb_log_transaction_id</code>
          </p><div class="table"><a name="ndb_log_transaction_id-detailtable"></a><p class="title"><b>表 18.52 
            ndb_log_transaction_id の型と値の情報</b></p><div class="table-contents"><table id="ndb_log_transaction_id-detailtable" summary="This table provides type and value information for ndb_log_transaction_id"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_log_transaction_id" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_log_transaction_id" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_log_transaction_id" abbr="System">システム変数</th>
        <th id="statvar-ndb_log_transaction_id" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_log_transaction_id" abbr="File">オプションファイル</th>
        <th id="scope-ndb_log_transaction_id" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_log_transaction_id" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_log_transaction_id" abbr="Version">開始バージョン</th>
        <th id="type-ndb_log_transaction_id" abbr="Type">型</th>
        <th id="range-ndb_log_transaction_id" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_log_transaction_id" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_log_transaction_id" headers="optvar-ndb_log_transaction_id">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_log_transaction_id">ndb_log_transaction_id</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_log_transaction_id cli-ndb_log_transaction_id">いいえ</td>
        <td headers="row-ndb_log_transaction_id sysvar-ndb_log_transaction_id">はい</td>
        <td headers="row-ndb_log_transaction_id statvar-ndb_log_transaction_id">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_log_transaction_id optfile-ndb_log_transaction_id">いいえ</td>
        <td headers="row-ndb_log_transaction_id scope-ndb_log_transaction_id">グローバル</td>
        <td headers="row-ndb_log_transaction_id dynamic-ndb_log_transaction_id">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_log_transaction_id version-ndb_log_transaction_id">NDB 7.3</td>
        <td headers="row-ndb_log_transaction_id type-ndb_log_transaction_id">ブール</td>
        <td headers="row-ndb_log_transaction_id range-ndb_log_transaction_id">OFF</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_log_transaction_id notes-ndb_log_transaction_id">
          <p>
            説明: NDB トランザクション ID がバイナリログに書き込まれるかどうか。(読み取り専用。)
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            この読み取り専用のブールシステム変数は、スレーブの <span class="command"><strong>mysqld</strong></span> が (<span class="quote">「<span class="quote">アクティブ-アクティブ</span>」</span>型の MySQL Cluster レプリケーションを <code class="literal">NDB$EPOCH_TRANS()</code> の競合検出とともに使用するために必要な) NDB トランザクション ID をバイナリログに書き込むかどうかを示します。この設定を変更するには、<code class="option">--ndb-log-transaction-id</code> オプションを使用します。
          </p><p>
            メインラインの MySQL Server 5.6 では <code class="literal">ndb_log_transaction_id</code> はサポートされません。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="18.6.11 MySQL Cluster レプリケーションの競合解決">セクション18.6.11「MySQL Cluster レプリケーションの競合解決」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="sysvar_ndb_optimized_node_selection"></a>
            <code class="literal">ndb_optimized_node_selection</code>
          </p><div class="table"><a name="ndb_optimized_node_selection-detailtable"></a><p class="title"><b>表 18.53 
            ndb_optimized_node_selection の型と値の情報</b></p><div class="table-contents"><table id="ndb_optimized_node_selection-detailtable" summary="This table provides type and value information for ndb_optimized_node_selection"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_optimized_node_selection" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_optimized_node_selection" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_optimized_node_selection" abbr="System">システム変数</th>
        <th id="statvar-ndb_optimized_node_selection" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_optimized_node_selection" abbr="File">オプションファイル</th>
        <th id="scope-ndb_optimized_node_selection" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_optimized_node_selection" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_optimized_node_selection" abbr="Version">開始バージョン</th>
        <th id="type-ndb_optimized_node_selection" abbr="Type">型</th>
        <th id="range-ndb_optimized_node_selection" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_optimized_node_selection" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_optimized_node_selection" headers="optvar-ndb_optimized_node_selection">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_optimized_node_selection">ndb_optimized_node_selection</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_optimized_node_selection cli-ndb_optimized_node_selection">はい</td>
        <td headers="row-ndb_optimized_node_selection sysvar-ndb_optimized_node_selection">はい</td>
        <td headers="row-ndb_optimized_node_selection statvar-ndb_optimized_node_selection">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_optimized_node_selection optfile-ndb_optimized_node_selection">はい</td>
        <td headers="row-ndb_optimized_node_selection scope-ndb_optimized_node_selection">グローバル</td>
        <td headers="row-ndb_optimized_node_selection dynamic-ndb_optimized_node_selection">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_optimized_node_selection version-ndb_optimized_node_selection">NDB 7.3</td>
        <td headers="row-ndb_optimized_node_selection type-ndb_optimized_node_selection">ブール</td>
        <td headers="row-ndb_optimized_node_selection range-ndb_optimized_node_selection">ON</td>
      </tr><tr>
        <td headers="row-ndb_optimized_node_selection version-ndb_optimized_node_selection">5.1.22-ndb-6.3.4</td>
        <td headers="row-ndb_optimized_node_selection type-ndb_optimized_node_selection">数値</td>
        <td headers="row-ndb_optimized_node_selection range-ndb_optimized_node_selection">3 / 0 - 3</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_optimized_node_selection notes-ndb_optimized_node_selection">
          <p>
            説明: SQL ノードが、トランザクションコーディネータとして使用するためにクラスタデータノードを選択する方法を決定
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            最適化されたノードの選択には、ここの示す 2 つの形式があります。
          </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
                SQL ノードは、<em class="firstterm">近接性</em>を使用してトランザクションコーディネータを指定します。つまり、その SQL ノードから<span class="quote">「<span class="quote">もっとも近い</span>」</span>データノードがトランザクションコーディネータとして選択されます。この指定では、SQL ノードとの共有メモリー接続を持つデータノードがその SQL ノードから<span class="quote">「<span class="quote">もっとも近い</span>」</span>とみなされます。次に近いのは、(近接性が低くなる順に) <code class="literal">localhost</code> との TCP 接続、SCI 接続、<code class="literal">localhost</code> 以外のホストからの TCP 接続です。
              </p></li><li class="listitem"><p>
                SQL スレッドは、<em class="firstterm">分布の認識</em>を使用してデータノードを選択します。つまり、特定のトランザクションの最初のステートメントによってアクセスされるクラスタパーティションを収容するデータノードが、トランザクション全体のトランザクションコーディネータとして使用されます。(これは、トランザクションの最初のステートメントが 1 つのクラスタパーティションにしかアクセスしない場合にのみ有効です。)
              </p></li></ol></div><p>
            このオプションは、<code class="literal">0</code>、<code class="literal">1</code>、<code class="literal">2</code>、または <code class="literal">3</code> のいずれかの整数値を取ります。<code class="literal">3</code> がデフォルトです。これらの値は、ノード選択に次のように影響します。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">0</code>: ノード選択は最適化されません。SQL スレッドが次のデータノードに進む前に、各データノードがトランザクションコーディネータとして 8 回ずつ採用されます。
              </p></li><li class="listitem"><p>
                <code class="literal">1</code>: SQL ノードへの近接性を使用してトランザクションコーディネータが指定されます。
              </p></li><li class="listitem"><p>
                <code class="literal">2</code>: 分布の認識を使用してトランザクションコーディネータが選択されます。ただし、トランザクションの最初のステートメントが複数のクラスタパーティションにアクセスする場合は、SQL ノードはこのオプションを <code class="literal">0</code> に設定したときに見られるラウンドロビンの動作に戻ります。
              </p></li><li class="listitem"><p>
                <code class="literal">3</code>: トランザクションコーディネータを指定するために分布の認識を使用できる場合は、それが使用されます。そうでない場合は、近接性を使用してトランザクションコーディネータが選択されます。(これはデフォルトの動作です。)
              </p></li></ul></div></li><li class="listitem"><p><a name="sysvar_ndb_recv_thread_activation_threshold"></a>
            <code class="literal">ndb_recv_thread_activation_threshold</code>
          </p><div class="table"><a name="ndb_recv_thread_activation_threshold-detailtable"></a><p class="title"><b>表 18.54 
            ndb_recv_thread_activation_threshold の型と値の情報</b></p><div class="table-contents"><table id="ndb_recv_thread_activation_threshold-detailtable" summary="This table provides type and value information for ndb_recv_thread_activation_threshold"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_recv_thread_activation_threshold" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_recv_thread_activation_threshold" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_recv_thread_activation_threshold" abbr="System">システム変数</th>
        <th id="statvar-ndb_recv_thread_activation_threshold" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_recv_thread_activation_threshold" abbr="File">オプションファイル</th>
        <th id="scope-ndb_recv_thread_activation_threshold" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_recv_thread_activation_threshold" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_recv_thread_activation_threshold" abbr="Version">開始バージョン</th>
        <th id="type-ndb_recv_thread_activation_threshold" abbr="Type">型</th>
        <th id="range-ndb_recv_thread_activation_threshold" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_recv_thread_activation_threshold" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_recv_thread_activation_threshold" headers="optvar-ndb_recv_thread_activation_threshold">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_recv_thread_activation_threshold">ndb_recv_thread_activation_threshold</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_recv_thread_activation_threshold cli-ndb_recv_thread_activation_threshold">いいえ</td>
        <td headers="row-ndb_recv_thread_activation_threshold sysvar-ndb_recv_thread_activation_threshold">いいえ</td>
        <td headers="row-ndb_recv_thread_activation_threshold statvar-ndb_recv_thread_activation_threshold">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_recv_thread_activation_threshold optfile-ndb_recv_thread_activation_threshold">いいえ</td>
        <td headers="row-ndb_recv_thread_activation_threshold scope-ndb_recv_thread_activation_threshold"></td>
        <td headers="row-ndb_recv_thread_activation_threshold dynamic-ndb_recv_thread_activation_threshold">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_recv_thread_activation_threshold version-ndb_recv_thread_activation_threshold">5.6.10-ndb-7.3.1</td>
        <td headers="row-ndb_recv_thread_activation_threshold type-ndb_recv_thread_activation_threshold">数値</td>
        <td headers="row-ndb_recv_thread_activation_threshold range-ndb_recv_thread_activation_threshold">8 / 0 (MIN_ACTIVATION_THRESHOLD) - 16 (MAX_ACTIVATION_THRESHOLD)</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_recv_thread_activation_threshold notes-ndb_recv_thread_activation_threshold">
          <p>
            説明: 受信スレッドがクラスタ接続のポーリングを引き継ぐときのアクティブ化のしきい値 (同時にアクティブなスレッドで測定されます)
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            現在アクティブなスレッドがこの数に達すると、受信スレッドがクラスタ接続のポーリングを引き継ぎます。
          </p><p>
            この変数のスコープはグローバルです。また、<code class="option">--ndb-recv-thread-activation-threshold</code> オプションを使用して起動時に設定することもできます。
          </p></li><li class="listitem"><p><a name="sysvar_ndb_recv_thread_cpu_mask"></a>
            <code class="literal">ndb_recv_thread_cpu_mask</code>
          </p><div class="table"><a name="ndb_recv_thread_cpu_mask-detailtable"></a><p class="title"><b>表 18.55 
            ndb_recv_thread_cpu_mask の型と値の情報</b></p><div class="table-contents"><table id="ndb_recv_thread_cpu_mask-detailtable" summary="This table provides type and value information for ndb_recv_thread_cpu_mask"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_recv_thread_cpu_mask" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_recv_thread_cpu_mask" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_recv_thread_cpu_mask" abbr="System">システム変数</th>
        <th id="statvar-ndb_recv_thread_cpu_mask" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_recv_thread_cpu_mask" abbr="File">オプションファイル</th>
        <th id="scope-ndb_recv_thread_cpu_mask" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_recv_thread_cpu_mask" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_recv_thread_cpu_mask" abbr="Version">開始バージョン</th>
        <th id="type-ndb_recv_thread_cpu_mask" abbr="Type">型</th>
        <th id="range-ndb_recv_thread_cpu_mask" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_recv_thread_cpu_mask" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_recv_thread_cpu_mask" headers="optvar-ndb_recv_thread_cpu_mask">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_recv_thread_cpu_mask">ndb_recv_thread_cpu_mask</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_recv_thread_cpu_mask cli-ndb_recv_thread_cpu_mask">いいえ</td>
        <td headers="row-ndb_recv_thread_cpu_mask sysvar-ndb_recv_thread_cpu_mask">はい</td>
        <td headers="row-ndb_recv_thread_cpu_mask statvar-ndb_recv_thread_cpu_mask">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_recv_thread_cpu_mask optfile-ndb_recv_thread_cpu_mask">いいえ</td>
        <td headers="row-ndb_recv_thread_cpu_mask scope-ndb_recv_thread_cpu_mask">グローバル</td>
        <td headers="row-ndb_recv_thread_cpu_mask dynamic-ndb_recv_thread_cpu_mask">はい</td>
      </tr><tr>
        <td headers="row-ndb_recv_thread_cpu_mask version-ndb_recv_thread_cpu_mask">NDB 7.3</td>
        <td headers="row-ndb_recv_thread_cpu_mask type-ndb_recv_thread_cpu_mask">ビットマップ</td>
        <td headers="row-ndb_recv_thread_cpu_mask range-ndb_recv_thread_cpu_mask">[空]</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_recv_thread_cpu_mask notes-ndb_recv_thread_cpu_mask">
          <p>
            説明: 受信者スレッドを特定の CPU にロックするための CPU マスク。16 進数として指定されます。詳細は、ドキュメントを参照してください。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            受信者スレッドを特定の CPU にロックするための CPU マスク。これは、16 進数のビットマスクとして指定されます。たとえば、<code class="literal">0x33</code> は受信者スレッドごとに 1 つの CPU を使用します。空の文字列がデフォルトです。<code class="literal">ndb_recv_thread_cpu_mask</code> をこの値に設定すると、以前に設定された受信者スレッドのロックがすべて削除されます。
          </p><p>
            この変数のスコープはグローバルです。また、<code class="option">--ndb-recv-thread-cpu-mask</code> オプションを使用して起動時に設定することもできます。
          </p></li><li class="listitem"><p><a name="sysvar_ndb_report_thresh_binlog_epoch_slip"></a>
            <code class="literal">ndb_report_thresh_binlog_epoch_slip</code>
          </p><div class="table"><a name="ndb_report_thresh_binlog_epoch_slip-detailtable"></a><p class="title"><b>表 18.56 
            ndb_report_thresh_binlog_epoch_slip の型と値の情報</b></p><div class="table-contents"><table id="ndb_report_thresh_binlog_epoch_slip-detailtable" summary="This table provides type and value information for ndb_report_thresh_binlog_epoch_slip"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_report_thresh_binlog_epoch_slip" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_report_thresh_binlog_epoch_slip" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_report_thresh_binlog_epoch_slip" abbr="System">システム変数</th>
        <th id="statvar-ndb_report_thresh_binlog_epoch_slip" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_report_thresh_binlog_epoch_slip" abbr="File">オプションファイル</th>
        <th id="scope-ndb_report_thresh_binlog_epoch_slip" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_report_thresh_binlog_epoch_slip" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_report_thresh_binlog_epoch_slip" abbr="Version">開始バージョン</th>
        <th id="type-ndb_report_thresh_binlog_epoch_slip" abbr="Type">型</th>
        <th id="range-ndb_report_thresh_binlog_epoch_slip" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_report_thresh_binlog_epoch_slip" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_report_thresh_binlog_epoch_slip" headers="optvar-ndb_report_thresh_binlog_epoch_slip">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_report_thresh_binlog_epoch_slip">ndb_report_thresh_binlog_epoch_slip</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_report_thresh_binlog_epoch_slip cli-ndb_report_thresh_binlog_epoch_slip">はい</td>
        <td headers="row-ndb_report_thresh_binlog_epoch_slip sysvar-ndb_report_thresh_binlog_epoch_slip">いいえ</td>
        <td headers="row-ndb_report_thresh_binlog_epoch_slip statvar-ndb_report_thresh_binlog_epoch_slip">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_report_thresh_binlog_epoch_slip optfile-ndb_report_thresh_binlog_epoch_slip">はい</td>
        <td headers="row-ndb_report_thresh_binlog_epoch_slip scope-ndb_report_thresh_binlog_epoch_slip"></td>
        <td headers="row-ndb_report_thresh_binlog_epoch_slip dynamic-ndb_report_thresh_binlog_epoch_slip">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_report_thresh_binlog_epoch_slip version-ndb_report_thresh_binlog_epoch_slip">NDB 7.3</td>
        <td headers="row-ndb_report_thresh_binlog_epoch_slip type-ndb_report_thresh_binlog_epoch_slip">数値</td>
        <td headers="row-ndb_report_thresh_binlog_epoch_slip range-ndb_report_thresh_binlog_epoch_slip">3 / 0 - 256</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_report_thresh_binlog_epoch_slip notes-ndb_report_thresh_binlog_epoch_slip">
          <p>
            説明: これは、バイナリログステータスをレポートする前に、過ぎていなければならないエポックの数のしきい値です
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            これは、バイナリログのステータスを報告するまでに遅延するエポックの数に対するしきい値です。たとえば、値 <code class="literal">3</code> (デフォルト) では、ストレージノードから受信したエポックとバイナリログに適用されたエポックの差が 3 以上になると、ステータスメッセージがクラスタログに送信されます。
          </p></li><li class="listitem"><p><a name="sysvar_ndb_report_thresh_binlog_mem_usage"></a>
            <code class="literal">ndb_report_thresh_binlog_mem_usage</code>
          </p><div class="table"><a name="ndb_report_thresh_binlog_mem_usage-detailtable"></a><p class="title"><b>表 18.57 
            ndb_report_thresh_binlog_mem_usage の型と値の情報</b></p><div class="table-contents"><table id="ndb_report_thresh_binlog_mem_usage-detailtable" summary="This table provides type and value information for ndb_report_thresh_binlog_mem_usage"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_report_thresh_binlog_mem_usage" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_report_thresh_binlog_mem_usage" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_report_thresh_binlog_mem_usage" abbr="System">システム変数</th>
        <th id="statvar-ndb_report_thresh_binlog_mem_usage" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_report_thresh_binlog_mem_usage" abbr="File">オプションファイル</th>
        <th id="scope-ndb_report_thresh_binlog_mem_usage" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_report_thresh_binlog_mem_usage" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_report_thresh_binlog_mem_usage" abbr="Version">開始バージョン</th>
        <th id="type-ndb_report_thresh_binlog_mem_usage" abbr="Type">型</th>
        <th id="range-ndb_report_thresh_binlog_mem_usage" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_report_thresh_binlog_mem_usage" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_report_thresh_binlog_mem_usage" headers="optvar-ndb_report_thresh_binlog_mem_usage">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_report_thresh_binlog_mem_usage">ndb_report_thresh_binlog_mem_usage</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_report_thresh_binlog_mem_usage cli-ndb_report_thresh_binlog_mem_usage">はい</td>
        <td headers="row-ndb_report_thresh_binlog_mem_usage sysvar-ndb_report_thresh_binlog_mem_usage">いいえ</td>
        <td headers="row-ndb_report_thresh_binlog_mem_usage statvar-ndb_report_thresh_binlog_mem_usage">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_report_thresh_binlog_mem_usage optfile-ndb_report_thresh_binlog_mem_usage">はい</td>
        <td headers="row-ndb_report_thresh_binlog_mem_usage scope-ndb_report_thresh_binlog_mem_usage"></td>
        <td headers="row-ndb_report_thresh_binlog_mem_usage dynamic-ndb_report_thresh_binlog_mem_usage">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_report_thresh_binlog_mem_usage version-ndb_report_thresh_binlog_mem_usage">NDB 7.3</td>
        <td headers="row-ndb_report_thresh_binlog_mem_usage type-ndb_report_thresh_binlog_mem_usage">数値</td>
        <td headers="row-ndb_report_thresh_binlog_mem_usage range-ndb_report_thresh_binlog_mem_usage">10 / 0 - 10</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_report_thresh_binlog_mem_usage notes-ndb_report_thresh_binlog_mem_usage">
          <p>
            説明: これは、バイナリログステータスをレポートする前に、残っている空きメモリーの割合のしきい値です。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            これは、バイナリログのステータスを報告するまでに残存する空きメモリーの割合に対するしきい値です。たとえば、値 <code class="literal">10</code> (デフォルト) では、データノードからのバイナリログデータの受信に使用できるメモリー量が 10% を下回ると、ステータスメッセージがクラスタログに送信されます。
          </p></li><li class="listitem"><p><a name="sysvar_slave_allow_batching"></a>
            <code class="literal">slave_allow_batching</code>
          </p><div class="table"><a name="slave_allow_batching-detailtable"></a><p class="title"><b>表 18.58 
            slave_allow_batching の型と値の情報</b></p><div class="table-contents"><table id="slave_allow_batching-detailtable" summary="This table provides type and value information for slave_allow_batching"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-slave_allow_batching" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-slave_allow_batching" abbr="CLI">コマンド行</th>
        <th id="sysvar-slave_allow_batching" abbr="System">システム変数</th>
        <th id="statvar-slave_allow_batching" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-slave_allow_batching" abbr="File">オプションファイル</th>
        <th id="scope-slave_allow_batching" abbr="Scope">スコープ</th>
        <th id="dynamic-slave_allow_batching" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-slave_allow_batching" abbr="Version">開始バージョン</th>
        <th id="type-slave_allow_batching" abbr="Type">型</th>
        <th id="range-slave_allow_batching" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-slave_allow_batching" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-slave_allow_batching" headers="optvar-slave_allow_batching">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_slave_allow_batching">slave_allow_batching</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-slave_allow_batching cli-slave_allow_batching">はい</td>
        <td headers="row-slave_allow_batching sysvar-slave_allow_batching">はい</td>
        <td headers="row-slave_allow_batching statvar-slave_allow_batching">いいえ</td>
      </tr><tr>
        <td headers="row-slave_allow_batching optfile-slave_allow_batching">はい</td>
        <td headers="row-slave_allow_batching scope-slave_allow_batching">グローバル</td>
        <td headers="row-slave_allow_batching dynamic-slave_allow_batching">はい</td>
      </tr><tr>
        <td headers="row-slave_allow_batching version-slave_allow_batching">NDB 7.3</td>
        <td headers="row-slave_allow_batching type-slave_allow_batching">ブール</td>
        <td headers="row-slave_allow_batching range-slave_allow_batching">off</td>
      </tr><tr>
        <td colspan="3" headers="row-slave_allow_batching notes-slave_allow_batching">
          <p>
            説明: レプリケーションスレーブの更新バッチ化をオンおよびオフにする
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            MySQL Cluster レプリケーションのスレーブでバッチ更新が有効かどうか。
          </p><p>
            現在、この変数は MySQL Cluster に付属する、または MySQL Cluster ソースからビルドされた <span class="command"><strong>mysqld</strong></span> でのみ使用可能です。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-starting" title="18.6.6 MySQL Cluster レプリケーションの起動 (レプリケーションチャネルが 1 つ)">セクション18.6.6「MySQL Cluster レプリケーションの起動 (レプリケーションチャネルが 1 つ)」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="sysvar_ndb_show_foreign_key_mock_tables"></a>
            <code class="literal">ndb_show_foreign_key_mock_tables</code>
          </p><div class="table"><a name="ndb_show_foreign_key_mock_tables-detailtable"></a><p class="title"><b>表 18.59 
            ndb_show_foreign_key_mock_tables の型と値の情報</b></p><div class="table-contents"><table id="ndb_show_foreign_key_mock_tables-detailtable" summary="This table provides type and value information for ndb_show_foreign_key_mock_tables"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_show_foreign_key_mock_tables" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_show_foreign_key_mock_tables" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_show_foreign_key_mock_tables" abbr="System">システム変数</th>
        <th id="statvar-ndb_show_foreign_key_mock_tables" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_show_foreign_key_mock_tables" abbr="File">オプションファイル</th>
        <th id="scope-ndb_show_foreign_key_mock_tables" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_show_foreign_key_mock_tables" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_show_foreign_key_mock_tables" abbr="Version">開始バージョン</th>
        <th id="type-ndb_show_foreign_key_mock_tables" abbr="Type">型</th>
        <th id="range-ndb_show_foreign_key_mock_tables" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_show_foreign_key_mock_tables" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_show_foreign_key_mock_tables" headers="optvar-ndb_show_foreign_key_mock_tables">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_show_foreign_key_mock_tables">ndb_show_foreign_key_mock_tables</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_show_foreign_key_mock_tables cli-ndb_show_foreign_key_mock_tables">はい</td>
        <td headers="row-ndb_show_foreign_key_mock_tables sysvar-ndb_show_foreign_key_mock_tables">はい</td>
        <td headers="row-ndb_show_foreign_key_mock_tables statvar-ndb_show_foreign_key_mock_tables">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_show_foreign_key_mock_tables optfile-ndb_show_foreign_key_mock_tables">はい</td>
        <td headers="row-ndb_show_foreign_key_mock_tables scope-ndb_show_foreign_key_mock_tables">グローバル</td>
        <td headers="row-ndb_show_foreign_key_mock_tables dynamic-ndb_show_foreign_key_mock_tables">はい</td>
      </tr><tr>
        <td headers="row-ndb_show_foreign_key_mock_tables version-ndb_show_foreign_key_mock_tables">NDB 7.3</td>
        <td headers="row-ndb_show_foreign_key_mock_tables type-ndb_show_foreign_key_mock_tables">ブール</td>
        <td headers="row-ndb_show_foreign_key_mock_tables range-ndb_show_foreign_key_mock_tables">OFF</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_show_foreign_key_mock_tables notes-ndb_show_foreign_key_mock_tables">
          <p>
            説明: foreign_key_checks=0 をサポートするために使用される擬似テーブルを表示します。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            <code class="literal">NDB</code> が <code class="literal">foreign_key_checks=0</code> のサポートに使用するモックテーブルを示します。これを有効にすると、テーブルを作成および削除するときに追加の警告が表示されます。このテーブルの実際の (内部の) 名前は、<code class="literal">SHOW CREATE TABLE</code> の出力に表示されます。
          </p></li><li class="listitem"><p><a name="sysvar_ndb_slave_conflict_role"></a>
            <code class="literal">ndb_slave_conflict_role</code>
          </p><div class="table"><a name="ndb_slave_conflict_role-detailtable"></a><p class="title"><b>表 18.60 
            ndb_slave_conflict_role の型と値の情報</b></p><div class="table-contents"><table id="ndb_slave_conflict_role-detailtable" summary="This table provides type and value information for ndb_slave_conflict_role"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_slave_conflict_role" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_slave_conflict_role" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_slave_conflict_role" abbr="System">システム変数</th>
        <th id="statvar-ndb_slave_conflict_role" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_slave_conflict_role" abbr="File">オプションファイル</th>
        <th id="scope-ndb_slave_conflict_role" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_slave_conflict_role" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_slave_conflict_role" abbr="Version">開始バージョン</th>
        <th id="type-ndb_slave_conflict_role" abbr="Type">型</th>
        <th id="range-ndb_slave_conflict_role" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_slave_conflict_role" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_slave_conflict_role" headers="optvar-ndb_slave_conflict_role">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_slave_conflict_role">ndb_slave_conflict_role</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_slave_conflict_role cli-ndb_slave_conflict_role">はい</td>
        <td headers="row-ndb_slave_conflict_role sysvar-ndb_slave_conflict_role">はい</td>
        <td headers="row-ndb_slave_conflict_role statvar-ndb_slave_conflict_role">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_slave_conflict_role optfile-ndb_slave_conflict_role">はい</td>
        <td headers="row-ndb_slave_conflict_role scope-ndb_slave_conflict_role">グローバル</td>
        <td headers="row-ndb_slave_conflict_role dynamic-ndb_slave_conflict_role">はい</td>
      </tr><tr>
        <td headers="row-ndb_slave_conflict_role version-ndb_slave_conflict_role">NDB 7.3</td>
        <td headers="row-ndb_slave_conflict_role type-ndb_slave_conflict_role">列挙</td>
        <td headers="row-ndb_slave_conflict_role range-ndb_slave_conflict_role">NONE / NONE、PRIMARY、SECONDARY、PASS</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_slave_conflict_role notes-ndb_slave_conflict_role">
          <p>
            説明: スレーブが、競合の検出と解決で果たすロール。値は PRIMARY、SECONDARY、PASS、NONE (デフォルト) のいずれかです。スレーブ SQL スレッドが停止されている場合にのみ変更できます。詳細は、ドキュメントを参照してください。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            循環 (<span class="quote">「<span class="quote">アクティブ-アクティブ</span>」</span>) レプリケーションセットアップでのこの SQL ノード (および MySQL Cluster) のロールを指定します。<code class="literal">ndb_slave_conflict_role</code> では、<code class="literal">PRIMARY</code>、<code class="literal">SECONDARY</code>、<code class="literal">PASS</code>、または <code class="literal">NULL</code> (デフォルト) のいずれかの値を取ることができます。<code class="literal">ndb_slave_conflict_role</code> を変更するには、その前にスレーブの SQL スレッドを停止する必要があります。また、これを <code class="literal">PASS</code> と <code class="literal">PRIMARY</code> または <code class="literal">SECONDARY</code> のいずれかの間で直接変更することはできません。変更する場合は、SQL スレッドが停止していることを確認してから、先に <code class="literal">SET @@GLOBAL.ndb_slave_conflict_role = 'NONE'</code> を実行する必要があります。
          </p><p>
            この変数は MySQL Cluster NDB 7.4.1 で追加されました。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="18.6.11 MySQL Cluster レプリケーションの競合解決">セクション18.6.11「MySQL Cluster レプリケーションの競合解決」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="sysvar_ndb_table_no_logging"></a>
            <code class="literal">ndb_table_no_logging</code>
          </p><div class="table"><a name="ndb_table_no_logging-detailtable"></a><p class="title"><b>表 18.61 
            ndb_table_no_logging の型と値の情報</b></p><div class="table-contents"><table id="ndb_table_no_logging-detailtable" summary="This table provides type and value information for ndb_table_no_logging"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_table_no_logging" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_table_no_logging" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_table_no_logging" abbr="System">システム変数</th>
        <th id="statvar-ndb_table_no_logging" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_table_no_logging" abbr="File">オプションファイル</th>
        <th id="scope-ndb_table_no_logging" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_table_no_logging" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_table_no_logging" abbr="Version">開始バージョン</th>
        <th id="type-ndb_table_no_logging" abbr="Type">型</th>
        <th id="range-ndb_table_no_logging" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_table_no_logging" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_table_no_logging" headers="optvar-ndb_table_no_logging">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_table_no_logging">ndb_table_no_logging</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_table_no_logging cli-ndb_table_no_logging">いいえ</td>
        <td headers="row-ndb_table_no_logging sysvar-ndb_table_no_logging">はい</td>
        <td headers="row-ndb_table_no_logging statvar-ndb_table_no_logging">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_table_no_logging optfile-ndb_table_no_logging">いいえ</td>
        <td headers="row-ndb_table_no_logging scope-ndb_table_no_logging">セッション</td>
        <td headers="row-ndb_table_no_logging dynamic-ndb_table_no_logging">はい</td>
      </tr><tr>
        <td headers="row-ndb_table_no_logging version-ndb_table_no_logging">NDB 7.3</td>
        <td headers="row-ndb_table_no_logging type-ndb_table_no_logging">ブール</td>
        <td headers="row-ndb_table_no_logging range-ndb_table_no_logging">FALSE</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_table_no_logging notes-ndb_table_no_logging">
          <p>
            説明: この設定が有効なときに作成された NDB テーブルはディスクに対してチェックポイントを設定しません (ただし、テーブルスキーマファイルは作成されます)。テーブルが NDBCLUSTER で作成されるか、またはそれを使用するように変更されたときに有効な設定は、そのテーブルの有効期間にわたって保持されます。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            この変数を <code class="literal">ON</code> または <code class="literal">1</code> に設定すると、<code class="literal">NDB</code> テーブルのチェックポイントがディスクに対して実行されなくなります。より具体的には、この設定は <code class="literal">ndb_table_no_logging</code> が有効になっているときに <code class="literal">ENGINE NDB</code> を使用して作成または変更されたテーブルに適用され、あとで <code class="literal">ndb_table_no_logging</code> が変更された場合でも、テーブルの存続期間にわたって適用され続けます。ここに示すように、テーブル <code class="literal">A</code>、<code class="literal">B</code>、<code class="literal">C</code>、および <code class="literal">D</code> を作成 (および変更) して、<code class="literal">ndb_table_no_logging</code> の設定も変更したとします。
          </p><pre class="programlisting">
SET @@ndb_table_no_logging = 1;

CREATE TABLE A ... ENGINE NDB;

CREATE TABLE B ... ENGINE MYISAM;
CREATE TABLE C ... ENGINE MYISAM;

ALTER TABLE B ENGINE NDB;

SET @@ndb_table_no_logging = 0;

CREATE TABLE D ... ENGINE NDB;
ALTER TABLE C ENGINE NDB;

SET @@ndb_table_no_logging = 1;
</pre><p>
            前の一連のイベントのあと、テーブル <code class="literal">A</code> と <code class="literal">B</code> のチェックポイントは実行されません (<code class="literal">A</code> は <code class="literal">ENGINE NDB</code> を使用して作成され、B は <code class="literal">NDB</code> を使用するように変更されましたが、どちらも <code class="literal">ndb_table_no_logging</code> の有効時に行われたため)。ただし、テーブル <code class="literal">C</code> と <code class="literal">D</code> は記録されます (<code class="literal">C</code> は <code class="literal">NDB</code> を使用するように変更され、<code class="literal">D</code> は <code class="literal">ENGINE NDB</code> を使用して作成されましたが、どちらも <code class="literal">ndb_table_no_logging</code> の無効時に行われたため)。<code class="literal">ndb_table_no_logging</code> を <code class="literal">1</code> または <code class="literal">ON</code> に再度設定しても、テーブル <code class="literal">C</code> または <code class="literal">D</code> のチェックポイントは実行<span class="emphasis"><em>されません</em></span>。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              <code class="literal">ndb_table_no_logging</code> は、<code class="literal">NDB</code> テーブルスキーマファイルの作成では無効になります。これをサポートするには、代わりに <code class="literal">ndb_table_temporary</code> を使用してください。
            </p></div></li><li class="listitem"><p><a name="sysvar_ndb_table_temporary"></a>
            <code class="literal">ndb_table_temporary</code>
          </p><div class="table"><a name="ndb_table_temporary-detailtable"></a><p class="title"><b>表 18.62 
            ndb_table_temporary の型と値の情報</b></p><div class="table-contents"><table id="ndb_table_temporary-detailtable" summary="This table provides type and value information for ndb_table_temporary"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_table_temporary" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_table_temporary" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_table_temporary" abbr="System">システム変数</th>
        <th id="statvar-ndb_table_temporary" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_table_temporary" abbr="File">オプションファイル</th>
        <th id="scope-ndb_table_temporary" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_table_temporary" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_table_temporary" abbr="Version">開始バージョン</th>
        <th id="type-ndb_table_temporary" abbr="Type">型</th>
        <th id="range-ndb_table_temporary" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_table_temporary" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_table_temporary" headers="optvar-ndb_table_temporary">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_table_temporary">ndb_table_temporary</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_table_temporary cli-ndb_table_temporary">いいえ</td>
        <td headers="row-ndb_table_temporary sysvar-ndb_table_temporary">はい</td>
        <td headers="row-ndb_table_temporary statvar-ndb_table_temporary">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_table_temporary optfile-ndb_table_temporary">いいえ</td>
        <td headers="row-ndb_table_temporary scope-ndb_table_temporary">セッション</td>
        <td headers="row-ndb_table_temporary dynamic-ndb_table_temporary">はい</td>
      </tr><tr>
        <td headers="row-ndb_table_temporary version-ndb_table_temporary">NDB 7.3</td>
        <td headers="row-ndb_table_temporary type-ndb_table_temporary">ブール</td>
        <td headers="row-ndb_table_temporary range-ndb_table_temporary">FALSE</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_table_temporary notes-ndb_table_temporary">
          <p>
            説明: NDB テーブルはディスク上で永続的ではありません。スキーマファイルは作成されず、テーブルはログに記録されません
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            この変数を <code class="literal">ON</code> または <code class="literal">1</code> に設定すると、<code class="literal">NDB</code> テーブルがディスクに書き込まれなくなります。これは、テーブルスキーマファイルが作成されず、テーブルが記録されないことを意味します。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              MySQL Cluster NDB 7.0 以降では、現在のところ、この変数を設定しても無効になります。これは既知の問題です。Bug #34036 を参照してください。
            </p></div></li><li class="listitem"><p><a name="sysvar_ndb_use_copying_alter_table"></a>
            <code class="literal">ndb_use_copying_alter_table</code>
          </p><div class="table"><a name="ndb_use_copying_alter_table-detailtable"></a><p class="title"><b>表 18.63 
            ndb_use_copying_alter_table の型と値の情報</b></p><div class="table-contents"><table id="ndb_use_copying_alter_table-detailtable" summary="This table provides type and value information for ndb_use_copying_alter_table"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_use_copying_alter_table" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_use_copying_alter_table" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_use_copying_alter_table" abbr="System">システム変数</th>
        <th id="statvar-ndb_use_copying_alter_table" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_use_copying_alter_table" abbr="File">オプションファイル</th>
        <th id="scope-ndb_use_copying_alter_table" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_use_copying_alter_table" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_use_copying_alter_table" abbr="Version">開始バージョン</th>
        <th id="type-ndb_use_copying_alter_table" abbr="Type">型</th>
        <th id="range-ndb_use_copying_alter_table" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_use_copying_alter_table" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_use_copying_alter_table" headers="optvar-ndb_use_copying_alter_table">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_use_copying_alter_table">ndb_use_copying_alter_table</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_use_copying_alter_table cli-ndb_use_copying_alter_table">いいえ</td>
        <td headers="row-ndb_use_copying_alter_table sysvar-ndb_use_copying_alter_table">はい</td>
        <td headers="row-ndb_use_copying_alter_table statvar-ndb_use_copying_alter_table">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_use_copying_alter_table optfile-ndb_use_copying_alter_table">いいえ</td>
        <td headers="row-ndb_use_copying_alter_table scope-ndb_use_copying_alter_table">両方</td>
        <td headers="row-ndb_use_copying_alter_table dynamic-ndb_use_copying_alter_table">いいえ</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_use_copying_alter_table notes-ndb_use_copying_alter_table">
          <p>
            説明: MySQL Cluster で ALTER TABLE 操作のコピーを使用
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            オンラインの <code class="literal">ALTER TABLE</code> 操作で問題が発生したときに、<code class="literal">NDB</code> によりテーブルのコピーが強制的に使用されます。デフォルト値は <code class="literal">OFF</code> です。
          </p></li><li class="listitem"><p><a name="sysvar_ndb_use_exact_count"></a>
            <code class="literal">ndb_use_exact_count</code>
          </p><div class="table"><a name="ndb_use_exact_count-detailtable"></a><p class="title"><b>表 18.64 
            ndb_use_exact_count の型と値の情報</b></p><div class="table-contents"><table id="ndb_use_exact_count-detailtable" summary="This table provides type and value information for ndb_use_exact_count"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_use_exact_count" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_use_exact_count" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_use_exact_count" abbr="System">システム変数</th>
        <th id="statvar-ndb_use_exact_count" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_use_exact_count" abbr="File">オプションファイル</th>
        <th id="scope-ndb_use_exact_count" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_use_exact_count" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_use_exact_count" abbr="Version">開始バージョン</th>
        <th id="type-ndb_use_exact_count" abbr="Type">型</th>
        <th id="range-ndb_use_exact_count" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_use_exact_count" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_use_exact_count" headers="optvar-ndb_use_exact_count">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_use_exact_count">ndb_use_exact_count</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_use_exact_count cli-ndb_use_exact_count">いいえ</td>
        <td headers="row-ndb_use_exact_count sysvar-ndb_use_exact_count">はい</td>
        <td headers="row-ndb_use_exact_count statvar-ndb_use_exact_count">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_use_exact_count optfile-ndb_use_exact_count">いいえ</td>
        <td headers="row-ndb_use_exact_count scope-ndb_use_exact_count">両方</td>
        <td headers="row-ndb_use_exact_count dynamic-ndb_use_exact_count">はい</td>
      </tr><tr>
        <td headers="row-ndb_use_exact_count version-ndb_use_exact_count">NDB 7.3</td>
        <td headers="row-ndb_use_exact_count type-ndb_use_exact_count">ブール</td>
        <td headers="row-ndb_use_exact_count range-ndb_use_exact_count">ON</td>
      </tr><tr>
        <td headers="row-ndb_use_exact_count version-ndb_use_exact_count">5.1.47-ndb-7.1.8</td>
        <td headers="row-ndb_use_exact_count type-ndb_use_exact_count">ブール</td>
        <td headers="row-ndb_use_exact_count range-ndb_use_exact_count">OFF</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_use_exact_count notes-ndb_use_exact_count">
          <p>
            説明: クエリーを計画する際に正確な行数を使用
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            <code class="literal">SELECT COUNT(*)</code> クエリーでこのタイプのクエリーの高速化を計画するときに、<code class="literal">NDB</code> によりレコードのカウントが強制的に使用されます。デフォルト値は <code class="literal">OFF</code> で、クエリー全体が高速化されます。
          </p></li><li class="listitem"><p><a name="sysvar_ndb_use_transactions"></a>
            <code class="literal">ndb_use_transactions</code>
          </p><div class="table"><a name="ndb_use_transactions-detailtable"></a><p class="title"><b>表 18.65 
            ndb_use_transactions の型と値の情報</b></p><div class="table-contents"><table id="ndb_use_transactions-detailtable" summary="This table provides type and value information for ndb_use_transactions"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_use_transactions" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_use_transactions" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_use_transactions" abbr="System">システム変数</th>
        <th id="statvar-ndb_use_transactions" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_use_transactions" abbr="File">オプションファイル</th>
        <th id="scope-ndb_use_transactions" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_use_transactions" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_use_transactions" abbr="Version">開始バージョン</th>
        <th id="type-ndb_use_transactions" abbr="Type">型</th>
        <th id="range-ndb_use_transactions" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_use_transactions" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_use_transactions" headers="optvar-ndb_use_transactions">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_use_transactions">ndb_use_transactions</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_use_transactions cli-ndb_use_transactions">はい</td>
        <td headers="row-ndb_use_transactions sysvar-ndb_use_transactions">はい</td>
        <td headers="row-ndb_use_transactions statvar-ndb_use_transactions">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_use_transactions optfile-ndb_use_transactions">はい</td>
        <td headers="row-ndb_use_transactions scope-ndb_use_transactions">両方</td>
        <td headers="row-ndb_use_transactions dynamic-ndb_use_transactions">はい</td>
      </tr><tr>
        <td headers="row-ndb_use_transactions version-ndb_use_transactions">NDB 7.3</td>
        <td headers="row-ndb_use_transactions type-ndb_use_transactions">ブール</td>
        <td headers="row-ndb_use_transactions range-ndb_use_transactions">ON</td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_use_transactions notes-ndb_use_transactions">
          <p>
            説明: SELECT COUNT(*) クエリー計画中に、強制的に NDB にレコードの数を使用してこのタイプのクエリーを高速化させる
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            <code class="literal">NDB</code> のトランザクションサポートを無効にするには、この変数の値を <code class="literal">OFF</code> に設定します (推奨されません)。デフォルトは <code class="literal">ON</code> です。
          </p></li><li class="listitem"><p><a name="sysvar_ndb_version"></a>
            <code class="literal">ndb_version</code>
          </p><div class="table"><a name="ndb_version-detailtable"></a><p class="title"><b>表 18.66 
            ndb_version の型と値の情報</b></p><div class="table-contents"><table id="ndb_version-detailtable" summary="This table provides type and value information for ndb_version"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_version" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_version" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_version" abbr="System">システム変数</th>
        <th id="statvar-ndb_version" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_version" abbr="File">オプションファイル</th>
        <th id="scope-ndb_version" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_version" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_version" abbr="Version">開始バージョン</th>
        <th id="type-ndb_version" abbr="Type">型</th>
        <th id="range-ndb_version" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_version" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_version" headers="optvar-ndb_version">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_version">ndb_version</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_version cli-ndb_version">いいえ</td>
        <td headers="row-ndb_version sysvar-ndb_version">はい</td>
        <td headers="row-ndb_version statvar-ndb_version">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_version optfile-ndb_version">いいえ</td>
        <td headers="row-ndb_version scope-ndb_version">グローバル</td>
        <td headers="row-ndb_version dynamic-ndb_version">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_version version-ndb_version">NDB 7.3</td>
        <td headers="row-ndb_version type-ndb_version">文字列</td>
        <td headers="row-ndb_version range-ndb_version"></td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_version notes-ndb_version">
          <p>
            説明: ビルドおよび NDB エンジンのバージョンを整数として表示します。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            <code class="literal">NDB</code> エンジンのバージョン (合成整数として)。
          </p></li><li class="listitem"><p><a name="sysvar_ndb_version_string"></a>
            <code class="literal">ndb_version_string</code>
          </p><div class="table"><a name="ndb_version_string-detailtable"></a><p class="title"><b>表 18.67 
            ndb_version_string の型と値の情報</b></p><div class="table-contents"><table id="ndb_version_string-detailtable" summary="This table provides type and value information for ndb_version_string"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndb_version_string" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndb_version_string" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndb_version_string" abbr="System">システム変数</th>
        <th id="statvar-ndb_version_string" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndb_version_string" abbr="File">オプションファイル</th>
        <th id="scope-ndb_version_string" abbr="Scope">スコープ</th>
        <th id="dynamic-ndb_version_string" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndb_version_string" abbr="Version">開始バージョン</th>
        <th id="type-ndb_version_string" abbr="Type">型</th>
        <th id="range-ndb_version_string" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndb_version_string" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndb_version_string" headers="optvar-ndb_version_string">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_version_string">ndb_version_string</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndb_version_string cli-ndb_version_string">いいえ</td>
        <td headers="row-ndb_version_string sysvar-ndb_version_string">はい</td>
        <td headers="row-ndb_version_string statvar-ndb_version_string">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_version_string optfile-ndb_version_string">いいえ</td>
        <td headers="row-ndb_version_string scope-ndb_version_string">グローバル</td>
        <td headers="row-ndb_version_string dynamic-ndb_version_string">いいえ</td>
      </tr><tr>
        <td headers="row-ndb_version_string version-ndb_version_string">NDB 7.3</td>
        <td headers="row-ndb_version_string type-ndb_version_string">文字列</td>
        <td headers="row-ndb_version_string range-ndb_version_string"></td>
      </tr><tr>
        <td colspan="3" headers="row-ndb_version_string notes-ndb_version_string">
          <p>
            説明: NDB エンジンのバージョンを含むビルド情報を ndb-x.y.z の形式で表示します。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            <code class="literal">NDB</code> エンジンのバージョン (<code class="literal">ndb-<em class="replaceable"><code>x.y.z</code></em></code> 形式)。
          </p></li><li class="listitem"><p><a name="sysvar_server_id_bits"></a>
            <a class="indexterm" name="idm139979029735056"></a> <a class="indexterm" name="idm139979029733552"></a> <code class="literal">server_id_bits</code>
          </p><div class="table"><a name="server_id_bits-detailtable"></a><p class="title"><b>表 18.68 
            server_id_bits の型と値の情報</b></p><div class="table-contents"><table id="server_id_bits-detailtable" summary="This table provides type and value information for server_id_bits"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-server_id_bits" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-server_id_bits" abbr="CLI">コマンド行</th>
        <th id="sysvar-server_id_bits" abbr="System">システム変数</th>
        <th id="statvar-server_id_bits" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-server_id_bits" abbr="File">オプションファイル</th>
        <th id="scope-server_id_bits" abbr="Scope">スコープ</th>
        <th id="dynamic-server_id_bits" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-server_id_bits" abbr="Version">開始バージョン</th>
        <th id="type-server_id_bits" abbr="Type">型</th>
        <th id="range-server_id_bits" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-server_id_bits" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-server_id_bits" headers="optvar-server_id_bits">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_server_id_bits">server_id_bits</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-server_id_bits cli-server_id_bits">はい</td>
        <td headers="row-server_id_bits sysvar-server_id_bits">はい</td>
        <td headers="row-server_id_bits statvar-server_id_bits">いいえ</td>
      </tr><tr>
        <td headers="row-server_id_bits optfile-server_id_bits">はい</td>
        <td headers="row-server_id_bits scope-server_id_bits">グローバル</td>
        <td headers="row-server_id_bits dynamic-server_id_bits">いいえ</td>
      </tr><tr>
        <td headers="row-server_id_bits version-server_id_bits">NDB 7.3</td>
        <td headers="row-server_id_bits type-server_id_bits">数値</td>
        <td headers="row-server_id_bits range-server_id_bits">32 / 7 - 32</td>
      </tr><tr>
        <td colspan="3" headers="row-server_id_bits notes-server_id_bits">
          <p>
            説明: --server-id-bits オプションがデフォルト以外の値に設定された状態でサーバーが起動された場合の server_id の有効な値。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            <code class="option">--server-id-bits</code> オプションをデフォルト以外の値に設定してサーバーを起動した場合の <code class="literal">server_id</code> の有効値。
          </p><p>
            <code class="literal">server_id</code> の値が 2 の <code class="literal">server_id_bits</code> 乗以上の場合、<span class="command"><strong>mysqld</strong></span> は起動を拒否します。
          </p><p>
            このシステム変数は MySQL Cluster でのみサポートされます。<code class="literal">server_id_bits</code> は標準の MySQL Server ではサポートされません。
          </p></li><li class="listitem"><p><a name="sysvar_transaction_allow_batching"></a>
            <a class="indexterm" name="idm139979029676944"></a> <a class="indexterm" name="idm139979029675328"></a> <code class="literal">transaction_allow_batching</code>
          </p><div class="table"><a name="transaction_allow_batching-detailtable"></a><p class="title"><b>表 18.69 
            transaction_allow_batching の型と値の情報</b></p><div class="table-contents"><table id="transaction_allow_batching-detailtable" summary="This table provides type and value information for transaction_allow_batching"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-transaction_allow_batching" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-transaction_allow_batching" abbr="CLI">コマンド行</th>
        <th id="sysvar-transaction_allow_batching" abbr="System">システム変数</th>
        <th id="statvar-transaction_allow_batching" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-transaction_allow_batching" abbr="File">オプションファイル</th>
        <th id="scope-transaction_allow_batching" abbr="Scope">スコープ</th>
        <th id="dynamic-transaction_allow_batching" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-transaction_allow_batching" abbr="Version">開始バージョン</th>
        <th id="type-transaction_allow_batching" abbr="Type">型</th>
        <th id="range-transaction_allow_batching" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-transaction_allow_batching" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-transaction_allow_batching" headers="optvar-transaction_allow_batching">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_transaction_allow_batching">transaction_allow_batching</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-transaction_allow_batching cli-transaction_allow_batching">いいえ</td>
        <td headers="row-transaction_allow_batching sysvar-transaction_allow_batching">はい</td>
        <td headers="row-transaction_allow_batching statvar-transaction_allow_batching">いいえ</td>
      </tr><tr>
        <td headers="row-transaction_allow_batching optfile-transaction_allow_batching">いいえ</td>
        <td headers="row-transaction_allow_batching scope-transaction_allow_batching">セッション</td>
        <td headers="row-transaction_allow_batching dynamic-transaction_allow_batching">はい</td>
      </tr><tr>
        <td headers="row-transaction_allow_batching version-transaction_allow_batching">NDB 7.3</td>
        <td headers="row-transaction_allow_batching type-transaction_allow_batching">ブール</td>
        <td headers="row-transaction_allow_batching range-transaction_allow_batching">FALSE</td>
      </tr><tr>
        <td colspan="3" headers="row-transaction_allow_batching notes-transaction_allow_batching">
          <p>
            説明: トランザクション内でのステートメントのバッチ化を許可します。使用するには AUTOCOMMIT を無効にします。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            この変数を <code class="literal">1</code> または <code class="literal">ON</code> に設定すると、同じトランザクション内のステートメントのバッチ化が有効になります。この変数を使用するには、先に <code class="literal">autocommit</code> を <code class="literal">0</code> または <code class="literal">OFF</code> に設定して無効にする必要があります。これを実行しない場合、<code class="literal">transaction_allow_batching</code> を設定しても無効になります。
          </p><p>
            この変数は、有効にすると<span class="quote">「<span class="quote">以前の</span>」</span>イメージから読み取りが行われる可能性があるため、書き込みのみを実行するトランザクションで使用するのが安全です。<code class="literal">SELECT</code> を発行する前に、(必要に応じて明示的な <code class="literal">COMMIT</code> を使用して) 保留中のトランザクションをすべて確実にコミットするようにしてください。
          </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
              特定のステートメントの効果が同じトランザクション内の前のステートメントの結果に依存する可能性がある場合は、<code class="literal">transaction_allow_batching</code> を使用しないでください。
            </p></div><p>
            この変数は、現在のところ MySQL Cluster でのみサポートされます。
          </p></li></ul></div><p>
        次のリストのシステム変数は、すべて <code class="literal">ndbinfo</code> 情報データベースに関連するものです。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="sysvar_ndbinfo_database"></a>
            <code class="literal">ndbinfo_database</code>
          </p><div class="table"><a name="ndbinfo_database-detailtable"></a><p class="title"><b>表 18.70 
            ndbinfo_database の型と値の情報</b></p><div class="table-contents"><table id="ndbinfo_database-detailtable" summary="This table provides type and value information for ndbinfo_database"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndbinfo_database" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndbinfo_database" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndbinfo_database" abbr="System">システム変数</th>
        <th id="statvar-ndbinfo_database" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndbinfo_database" abbr="File">オプションファイル</th>
        <th id="scope-ndbinfo_database" abbr="Scope">スコープ</th>
        <th id="dynamic-ndbinfo_database" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndbinfo_database" abbr="Version">開始バージョン</th>
        <th id="type-ndbinfo_database" abbr="Type">型</th>
        <th id="range-ndbinfo_database" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndbinfo_database" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndbinfo_database" headers="optvar-ndbinfo_database">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndbinfo_database">ndbinfo_database</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndbinfo_database cli-ndbinfo_database">いいえ</td>
        <td headers="row-ndbinfo_database sysvar-ndbinfo_database">はい</td>
        <td headers="row-ndbinfo_database statvar-ndbinfo_database">いいえ</td>
      </tr><tr>
        <td headers="row-ndbinfo_database optfile-ndbinfo_database">いいえ</td>
        <td headers="row-ndbinfo_database scope-ndbinfo_database">グローバル</td>
        <td headers="row-ndbinfo_database dynamic-ndbinfo_database">いいえ</td>
      </tr><tr>
        <td headers="row-ndbinfo_database version-ndbinfo_database">NDB 7.3</td>
        <td headers="row-ndbinfo_database type-ndbinfo_database">文字列</td>
        <td headers="row-ndbinfo_database range-ndbinfo_database">ndbinfo</td>
      </tr><tr>
        <td colspan="3" headers="row-ndbinfo_database notes-ndbinfo_database">
          <p>
            説明: NDB 情報データベースに使用される名前。読み取り専用。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            <code class="literal">NDB</code> 情報データベースに使用される名前を示します。デフォルトは <code class="literal">ndbinfo</code> です。これは、コンパイル時に値が指定される読み取り専用の変数です。これを設定するには、<code class="option">--ndbinfo-database=<em class="replaceable"><code>name</code></em></code> を使用してサーバーを起動します。これにより、この変数で示される値が設定されますが、NDB 情報データベースに使用される名前は実際には変更されません。
          </p></li><li class="listitem"><p><a name="sysvar_ndbinfo_max_bytes"></a>
            <code class="literal">ndbinfo_max_bytes</code>
          </p><div class="table"><a name="ndbinfo_max_bytes-detailtable"></a><p class="title"><b>表 18.71 
            ndbinfo_max_bytes の型と値の情報</b></p><div class="table-contents"><table id="ndbinfo_max_bytes-detailtable" summary="This table provides type and value information for ndbinfo_max_bytes"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndbinfo_max_bytes" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndbinfo_max_bytes" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndbinfo_max_bytes" abbr="System">システム変数</th>
        <th id="statvar-ndbinfo_max_bytes" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndbinfo_max_bytes" abbr="File">オプションファイル</th>
        <th id="scope-ndbinfo_max_bytes" abbr="Scope">スコープ</th>
        <th id="dynamic-ndbinfo_max_bytes" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndbinfo_max_bytes" abbr="Version">開始バージョン</th>
        <th id="type-ndbinfo_max_bytes" abbr="Type">型</th>
        <th id="range-ndbinfo_max_bytes" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndbinfo_max_bytes" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndbinfo_max_bytes" headers="optvar-ndbinfo_max_bytes">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndbinfo_max_bytes">ndbinfo_max_bytes</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndbinfo_max_bytes cli-ndbinfo_max_bytes">はい</td>
        <td headers="row-ndbinfo_max_bytes sysvar-ndbinfo_max_bytes">はい</td>
        <td headers="row-ndbinfo_max_bytes statvar-ndbinfo_max_bytes">いいえ</td>
      </tr><tr>
        <td headers="row-ndbinfo_max_bytes optfile-ndbinfo_max_bytes">いいえ</td>
        <td headers="row-ndbinfo_max_bytes scope-ndbinfo_max_bytes">両方</td>
        <td headers="row-ndbinfo_max_bytes dynamic-ndbinfo_max_bytes">はい</td>
      </tr><tr>
        <td headers="row-ndbinfo_max_bytes version-ndbinfo_max_bytes">NDB 7.3</td>
        <td headers="row-ndbinfo_max_bytes type-ndbinfo_max_bytes">数値</td>
        <td headers="row-ndbinfo_max_bytes range-ndbinfo_max_bytes">0 / - </td>
      </tr><tr>
        <td colspan="3" headers="row-ndbinfo_max_bytes notes-ndbinfo_max_bytes">
          <p>
            説明: デバッグにのみ使用されます。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            テストとデバッグでのみ使用されます。
          </p></li><li class="listitem"><p><a name="sysvar_ndbinfo_max_rows"></a>
            <code class="literal">ndbinfo_max_rows</code>
          </p><div class="table"><a name="ndbinfo_max_rows-detailtable"></a><p class="title"><b>表 18.72 
            ndbinfo_max_rows の型と値の情報</b></p><div class="table-contents"><table id="ndbinfo_max_rows-detailtable" summary="This table provides type and value information for ndbinfo_max_rows"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndbinfo_max_rows" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndbinfo_max_rows" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndbinfo_max_rows" abbr="System">システム変数</th>
        <th id="statvar-ndbinfo_max_rows" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndbinfo_max_rows" abbr="File">オプションファイル</th>
        <th id="scope-ndbinfo_max_rows" abbr="Scope">スコープ</th>
        <th id="dynamic-ndbinfo_max_rows" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndbinfo_max_rows" abbr="Version">開始バージョン</th>
        <th id="type-ndbinfo_max_rows" abbr="Type">型</th>
        <th id="range-ndbinfo_max_rows" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndbinfo_max_rows" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndbinfo_max_rows" headers="optvar-ndbinfo_max_rows">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndbinfo_max_rows">ndbinfo_max_rows</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndbinfo_max_rows cli-ndbinfo_max_rows">はい</td>
        <td headers="row-ndbinfo_max_rows sysvar-ndbinfo_max_rows">はい</td>
        <td headers="row-ndbinfo_max_rows statvar-ndbinfo_max_rows">いいえ</td>
      </tr><tr>
        <td headers="row-ndbinfo_max_rows optfile-ndbinfo_max_rows">いいえ</td>
        <td headers="row-ndbinfo_max_rows scope-ndbinfo_max_rows">両方</td>
        <td headers="row-ndbinfo_max_rows dynamic-ndbinfo_max_rows">はい</td>
      </tr><tr>
        <td headers="row-ndbinfo_max_rows version-ndbinfo_max_rows">NDB 7.3</td>
        <td headers="row-ndbinfo_max_rows type-ndbinfo_max_rows">数値</td>
        <td headers="row-ndbinfo_max_rows range-ndbinfo_max_rows">10 / - </td>
      </tr><tr>
        <td colspan="3" headers="row-ndbinfo_max_rows notes-ndbinfo_max_rows">
          <p>
            説明: デバッグにのみ使用されます。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            テストとデバッグでのみ使用されます。
          </p></li><li class="listitem"><p><a name="sysvar_ndbinfo_offline"></a>
            <code class="literal">ndbinfo_offline</code>
          </p><div class="table"><a name="ndbinfo_offline-detailtable"></a><p class="title"><b>表 18.73 
            ndbinfo_offline の型と値の情報</b></p><div class="table-contents"><table id="ndbinfo_offline-detailtable" summary="This table provides type and value information for ndbinfo_offline"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndbinfo_offline" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndbinfo_offline" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndbinfo_offline" abbr="System">システム変数</th>
        <th id="statvar-ndbinfo_offline" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndbinfo_offline" abbr="File">オプションファイル</th>
        <th id="scope-ndbinfo_offline" abbr="Scope">スコープ</th>
        <th id="dynamic-ndbinfo_offline" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndbinfo_offline" abbr="Version">開始バージョン</th>
        <th id="type-ndbinfo_offline" abbr="Type">型</th>
        <th id="range-ndbinfo_offline" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndbinfo_offline" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndbinfo_offline" headers="optvar-ndbinfo_offline">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndbinfo_offline">ndbinfo_offline</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndbinfo_offline cli-ndbinfo_offline">いいえ</td>
        <td headers="row-ndbinfo_offline sysvar-ndbinfo_offline">はい</td>
        <td headers="row-ndbinfo_offline statvar-ndbinfo_offline">いいえ</td>
      </tr><tr>
        <td headers="row-ndbinfo_offline optfile-ndbinfo_offline">いいえ</td>
        <td headers="row-ndbinfo_offline scope-ndbinfo_offline">グローバル</td>
        <td headers="row-ndbinfo_offline dynamic-ndbinfo_offline">はい</td>
      </tr><tr>
        <td headers="row-ndbinfo_offline version-ndbinfo_offline">NDB 7.3</td>
        <td headers="row-ndbinfo_offline type-ndbinfo_offline">ブール</td>
        <td headers="row-ndbinfo_offline range-ndbinfo_offline">OFF</td>
      </tr><tr>
        <td colspan="3" headers="row-ndbinfo_offline notes-ndbinfo_offline">
          <p>
            説明: ndbinfo データベースをオフラインモードにします。この場合、テーブルまたはビューから行は返されません。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            <code class="literal">ndbinfo</code> データベースをオフラインモードにします。オフラインモードでは、テーブルやビューが実際には存在しない場合や、存在するが <code class="literal">NDB</code> での定義が異なる場合でも、テーブルやビューを開くことができます。このようなテーブル (またはビュー) からは、行は返されません。
          </p></li><li class="listitem"><p><a name="sysvar_ndbinfo_show_hidden"></a>
            <code class="literal">ndbinfo_show_hidden</code>
          </p><div class="table"><a name="ndbinfo_show_hidden-detailtable"></a><p class="title"><b>表 18.74 
            ndbinfo_show_hidden の型と値の情報</b></p><div class="table-contents"><table id="ndbinfo_show_hidden-detailtable" summary="This table provides type and value information for ndbinfo_show_hidden"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndbinfo_show_hidden" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndbinfo_show_hidden" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndbinfo_show_hidden" abbr="System">システム変数</th>
        <th id="statvar-ndbinfo_show_hidden" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndbinfo_show_hidden" abbr="File">オプションファイル</th>
        <th id="scope-ndbinfo_show_hidden" abbr="Scope">スコープ</th>
        <th id="dynamic-ndbinfo_show_hidden" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndbinfo_show_hidden" abbr="Version">開始バージョン</th>
        <th id="type-ndbinfo_show_hidden" abbr="Type">型</th>
        <th id="range-ndbinfo_show_hidden" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndbinfo_show_hidden" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndbinfo_show_hidden" headers="optvar-ndbinfo_show_hidden">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndbinfo_show_hidden">ndbinfo_show_hidden</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndbinfo_show_hidden cli-ndbinfo_show_hidden">はい</td>
        <td headers="row-ndbinfo_show_hidden sysvar-ndbinfo_show_hidden">はい</td>
        <td headers="row-ndbinfo_show_hidden statvar-ndbinfo_show_hidden">いいえ</td>
      </tr><tr>
        <td headers="row-ndbinfo_show_hidden optfile-ndbinfo_show_hidden">いいえ</td>
        <td headers="row-ndbinfo_show_hidden scope-ndbinfo_show_hidden">両方</td>
        <td headers="row-ndbinfo_show_hidden dynamic-ndbinfo_show_hidden">はい</td>
      </tr><tr>
        <td headers="row-ndbinfo_show_hidden version-ndbinfo_show_hidden">NDB 7.3</td>
        <td headers="row-ndbinfo_show_hidden type-ndbinfo_show_hidden">ブール</td>
        <td headers="row-ndbinfo_show_hidden range-ndbinfo_show_hidden">OFF</td>
      </tr><tr>
        <td colspan="3" headers="row-ndbinfo_show_hidden notes-ndbinfo_show_hidden">
          <p>
            説明: ndbinfo 内部ベーステーブルを mysql クライアントで表示するかどうか。デフォルトは OFF です。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            <code class="literal">ndbinfo</code> データベースのベースとなる内部テーブルが <code class="literal">mysql</code> クライアントに表示されるかどうか。デフォルトは <code class="literal">OFF</code> です。
          </p></li><li class="listitem"><p><a name="sysvar_ndbinfo_table_prefix"></a>
            <code class="literal">ndbinfo_table_prefix</code>
          </p><div class="table"><a name="ndbinfo_table_prefix-detailtable"></a><p class="title"><b>表 18.75 
            ndbinfo_table_prefix の型と値の情報</b></p><div class="table-contents"><table id="ndbinfo_table_prefix-detailtable" summary="This table provides type and value information for ndbinfo_table_prefix"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndbinfo_table_prefix" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndbinfo_table_prefix" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndbinfo_table_prefix" abbr="System">システム変数</th>
        <th id="statvar-ndbinfo_table_prefix" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndbinfo_table_prefix" abbr="File">オプションファイル</th>
        <th id="scope-ndbinfo_table_prefix" abbr="Scope">スコープ</th>
        <th id="dynamic-ndbinfo_table_prefix" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndbinfo_table_prefix" abbr="Version">開始バージョン</th>
        <th id="type-ndbinfo_table_prefix" abbr="Type">型</th>
        <th id="range-ndbinfo_table_prefix" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndbinfo_table_prefix" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndbinfo_table_prefix" headers="optvar-ndbinfo_table_prefix">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndbinfo_table_prefix">ndbinfo_table_prefix</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndbinfo_table_prefix cli-ndbinfo_table_prefix">はい</td>
        <td headers="row-ndbinfo_table_prefix sysvar-ndbinfo_table_prefix">はい</td>
        <td headers="row-ndbinfo_table_prefix statvar-ndbinfo_table_prefix">いいえ</td>
      </tr><tr>
        <td headers="row-ndbinfo_table_prefix optfile-ndbinfo_table_prefix">いいえ</td>
        <td headers="row-ndbinfo_table_prefix scope-ndbinfo_table_prefix">両方</td>
        <td headers="row-ndbinfo_table_prefix dynamic-ndbinfo_table_prefix">はい</td>
      </tr><tr>
        <td headers="row-ndbinfo_table_prefix version-ndbinfo_table_prefix">NDB 7.3</td>
        <td headers="row-ndbinfo_table_prefix type-ndbinfo_table_prefix">文字列</td>
        <td headers="row-ndbinfo_table_prefix range-ndbinfo_table_prefix">ndb$</td>
      </tr><tr>
        <td colspan="3" headers="row-ndbinfo_table_prefix notes-ndbinfo_table_prefix">
          <p>
            説明: ndbinfo 内部ベーステーブルの命名に使用するプリフィクス
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            ndbinfo データベースのベーステーブル (<code class="literal">ndbinfo_show_hidden</code> を設定して公開されないかぎり、通常は非表示です) の名前に使用されるプリフィクス。これは読み取り専用の変数であり、デフォルト値は <span class="quote">「<span class="quote"><code class="literal">ndb$</code></span>」</span> です。サーバーの起動時に <code class="option">--ndbinfo-table-prefix</code> オプションを使用できますが、その場合はこの変数が設定されるだけで、非表示のベーステーブルの名前に使用される実際のプリフィクスは変更されません。プリフィクス自体はコンパイル時に指定されます。
          </p></li><li class="listitem"><p><a name="sysvar_ndbinfo_version"></a>
            <code class="literal">ndbinfo_version</code>
          </p><div class="table"><a name="ndbinfo_version-detailtable"></a><p class="title"><b>表 18.76 
            ndbinfo_version の型と値の情報</b></p><div class="table-contents"><table id="ndbinfo_version-detailtable" summary="This table provides type and value information for ndbinfo_version"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="optvar-ndbinfo_version" colspan="3" abbr="Name" align="center"></th>
      </tr><tr>
        <th id="cli-ndbinfo_version" abbr="CLI">コマンド行</th>
        <th id="sysvar-ndbinfo_version" abbr="System">システム変数</th>
        <th id="statvar-ndbinfo_version" abbr="Status">ステータス変数</th>
      </tr><tr>
        <th id="optfile-ndbinfo_version" abbr="File">オプションファイル</th>
        <th id="scope-ndbinfo_version" abbr="Scope">スコープ</th>
        <th id="dynamic-ndbinfo_version" abbr="Dynamic">動的</th>
      </tr><tr>
        <th id="version-ndbinfo_version" abbr="Version">開始バージョン</th>
        <th id="type-ndbinfo_version" abbr="Type">型</th>
        <th id="range-ndbinfo_version" abbr="Range">デフォルト、範囲</th>
      </tr><tr>
        <th id="notes-ndbinfo_version" colspan="3">メモ</th>
      </tr></thead><tbody><tr>
        <td colspan="3" id="row-ndbinfo_version" headers="optvar-ndbinfo_version">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndbinfo_version">ndbinfo_version</a></code>
          </p>
        </td>
      </tr><tr>
        <td headers="row-ndbinfo_version cli-ndbinfo_version">いいえ</td>
        <td headers="row-ndbinfo_version sysvar-ndbinfo_version">はい</td>
        <td headers="row-ndbinfo_version statvar-ndbinfo_version">いいえ</td>
      </tr><tr>
        <td headers="row-ndbinfo_version optfile-ndbinfo_version">いいえ</td>
        <td headers="row-ndbinfo_version scope-ndbinfo_version">グローバル</td>
        <td headers="row-ndbinfo_version dynamic-ndbinfo_version">いいえ</td>
      </tr><tr>
        <td headers="row-ndbinfo_version version-ndbinfo_version">NDB 7.3</td>
        <td headers="row-ndbinfo_version type-ndbinfo_version">文字列</td>
        <td headers="row-ndbinfo_version range-ndbinfo_version"></td>
      </tr><tr>
        <td colspan="3" headers="row-ndbinfo_version notes-ndbinfo_version">
          <p>
            説明: ndbinfo エンジンのバージョン。読み取り専用。
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
            使用中の <code class="literal">ndbinfo</code> エンジンのバージョンを示します (読み取り専用)。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-status-variables"></a>18.3.4.4 MySQL Cluster のステータス変数</h4></div></div></div><a class="indexterm" name="idm139979029261984"></a><a class="indexterm" name="idm139979029259984"></a><p>
        このセクションでは、MySQL Cluster および <code class="literal">NDB</code> ストレージエンジンに関連する MySQL サーバーステータス変数について詳しく説明します。MySQL Cluster に固有でないステータス変数、およびステータス変数の使用に関する一般的な情報は、<a class="xref" href="server-administration.html#server-status-variables" title="5.1.6 サーバーステータス変数">セクション5.1.6「サーバーステータス変数」</a>を参照してください。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="statvar_Handler_discover"></a>
            <code class="literal">Handler_discover</code>
          </p><p>
            MySQL サーバーは、<code class="literal">NDBCLUSTER</code> ストレージエンジンに対して特定の名前を持つテーブルの情報を問い合わせることができます。これは検出と呼ばれます。<code class="literal">Handler_discover</code> は、このメカニズムを使用してテーブルが検出された回数を示します。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_bytes_sent_count_session"></a>
            <code class="literal">Ndb_api_bytes_sent_count_session</code>
          </p><p>
            このクライアントセッションでデータノードに送信されたデータ量 (バイト単位)。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、現在のセッションにのみ関連しており、この <span class="command"><strong>mysqld</strong></span> のほかのクライアントには影響しません。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_bytes_sent_count_slave"></a>
            <code class="literal">Ndb_api_bytes_sent_count_slave</code>
          </p><p>
            このスレーブによってデータノードに送信されたデータ量 (バイト単位)。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。この MySQL サーバーがレプリケーションのスレーブとして動作していないか、NDB テーブルを使用していない場合、この値は常に 0 です。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_bytes_sent_count"></a>
            <code class="literal">Ndb_api_bytes_sent_count</code>
          </p><p>
            この MySQL サーバー (SQL ノード) によってデータノードに送信されたデータ量 (バイト単位)。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_bytes_received_count_session"></a>
            <code class="literal">Ndb_api_bytes_received_count_session</code>
          </p><p>
            このクライアントセッションでデータノードから受信されたデータ量 (バイト単位)。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、現在のセッションにのみ関連しており、この <span class="command"><strong>mysqld</strong></span> のほかのクライアントには影響しません。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_bytes_received_count_slave"></a>
            <code class="literal">Ndb_api_bytes_received_count_slave</code>
          </p><p>
            このスレーブによってデータノードから受信されたデータ量 (バイト単位)。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。この MySQL サーバーがレプリケーションのスレーブとして動作していないか、NDB テーブルを使用していない場合、この値は常に 0 です。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_bytes_received_count"></a>
            <code class="literal">Ndb_api_bytes_received_count</code>
          </p><p>
            この MySQL サーバー (SQL ノード) によってデータノードから受信されたデータ量 (バイト単位)。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_event_data_count_injector"></a>
            <code class="literal">Ndb_api_event_data_count_injector</code>
          </p><p>
            NDB binlog インジェクタスレッドによって受信された行変更イベントの数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_event_data_count"></a>
            <code class="literal">Ndb_api_event_data_count</code>
          </p><p>
            この MySQL サーバー (SQL ノード) によって受信された行変更イベントの数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_event_nondata_count_injector"></a>
            <code class="literal">Ndb_api_event_nondata_count_injector</code>
          </p><p>
            NDB バイナリログインジェクタスレッドによって受信された、行変更イベント以外のイベントの数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_event_nondata_count"></a>
            <code class="literal">Ndb_api_event_nondata_count</code>
          </p><p>
            この MySQL サーバー (SQL ノード) によって受信された、行変更イベント以外のイベントの数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_event_bytes_count_injector"></a>
            <code class="literal">Ndb_api_event_bytes_count_injector</code>
          </p><p>
            NDB binlog インジェクタスレッドによって受信されたイベントのバイト数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_event_bytes_count"></a>
            <code class="literal">Ndb_api_event_bytes_count</code>
          </p><p>
            この MySQL サーバー (SQL ノード) によって受信されたイベントのバイト数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_pk_op_count_session"></a>
            <code class="literal">Ndb_api_pk_op_count_session</code>
          </p><p>
            このクライアントセッションで、主キーに基づいた、または主キーを使用した操作の数。これには、BLOB テーブルに対する操作、暗黙的なロック解除操作、自動インクリメント操作、およびユーザーの管理下にある主キー操作が含まれます。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、現在のセッションにのみ関連しており、この <span class="command"><strong>mysqld</strong></span> のほかのクライアントには影響しません。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_pk_op_count_slave"></a>
            <code class="literal">Ndb_api_pk_op_count_slave</code>
          </p><p>
            このスレーブによる、主キーに基づいた、または主キーを使用した操作の数。これには、BLOB テーブルに対する操作、暗黙的なロック解除操作、自動インクリメント操作、およびユーザーの管理下にある主キー操作が含まれます。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。この MySQL サーバーがレプリケーションのスレーブとして動作していないか、NDB テーブルを使用していない場合、この値は常に 0 です。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_pk_op_count"></a>
            <code class="literal">Ndb_api_pk_op_count</code>
          </p><p>
            この MySQL サーバー (SQL ノード) による、主キーに基づいた、または主キーを使用した操作の数。これには、BLOB テーブルに対する操作、暗黙的なロック解除操作、自動インクリメント操作、およびユーザーの管理下にある主キー操作が含まれます。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_pruned_scan_count_session"></a>
            <code class="literal">Ndb_api_pruned_scan_count_session</code>
          </p><p>
            このクライアントセッションで単一のパーティションにプルーニングされたスキャンの回数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、現在のセッションにのみ関連しており、この <span class="command"><strong>mysqld</strong></span> のほかのクライアントには影響しません。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_pruned_scan_count_slave"></a>
            <code class="literal">Ndb_api_pruned_scan_count_slave</code>
          </p><p>
            このスレーブによって単一のパーティションにプルーニングされたスキャンの回数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。この MySQL サーバーがレプリケーションのスレーブとして動作していないか、NDB テーブルを使用していない場合、この値は常に 0 です。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_pruned_scan_count"></a>
            <code class="literal">Ndb_api_pruned_scan_count</code>
          </p><p>
            この MySQL サーバー (SQL ノード) によって単一のパーティションにプルーニングされたスキャンの回数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_range_scan_count_session"></a>
            <code class="literal">Ndb_api_range_scan_count_session</code>
          </p><p>
            このクライアントセッションで開始された範囲スキャンの回数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、現在のセッションにのみ関連しており、この <span class="command"><strong>mysqld</strong></span> のほかのクライアントには影響しません。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_range_scan_count_slave"></a>
            <code class="literal">Ndb_api_range_scan_count_slave</code>
          </p><p>
            このスレーブによって開始された範囲スキャンの回数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。この MySQL サーバーがレプリケーションのスレーブとして動作していないか、NDB テーブルを使用していない場合、この値は常に 0 です。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_range_scan_count"></a>
            <code class="literal">Ndb_api_range_scan_count</code>
          </p><p>
            この MySQL サーバー (SQL ノード) によって開始された範囲スキャンの回数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_read_row_count_session"></a>
            <code class="literal">Ndb_api_read_row_count_session</code>
          </p><p>
            このクライアントセッションで読み取られた行の合計数。これには、このクライアントセッションで作成された主キー、一意キー、またはスキャン操作によって読み取られたすべての行が含まれます。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、現在のセッションにのみ関連しており、この <span class="command"><strong>mysqld</strong></span> のほかのクライアントには影響しません。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_read_row_count_slave"></a>
            <code class="literal">Ndb_api_read_row_count_slave</code>
          </p><p>
            このスレーブによって読み取られた行の合計数。これには、このスレーブによって作成された主キー、一意キー、またはスキャン操作によって読み取られたすべての行が含まれます。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。この MySQL サーバーがレプリケーションのスレーブとして動作していないか、NDB テーブルを使用していない場合、この値は常に 0 です。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_read_row_count"></a>
            <code class="literal">Ndb_api_read_row_count</code>
          </p><p>
            この MySQL サーバー (SQL ノード) によって読み取られた行の合計数。これには、この MySQL Server (SQL ノード) によって作成された主キー、一意キー、またはスキャン操作によって読み取られたすべての行が含まれます。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_scan_batch_count_session"></a>
            <code class="literal">Ndb_api_scan_batch_count_session</code>
          </p><p>
            このクライアントセッションで受信された行のバッチ数。1 バッチは、単一のフラグメントから得られた 1 セットのスキャン結果として定義されます。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、現在のセッションにのみ関連しており、この <span class="command"><strong>mysqld</strong></span> のほかのクライアントには影響しません。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_scan_batch_count_slave"></a>
            <code class="literal">Ndb_api_scan_batch_count_slave</code>
          </p><p>
            このスレーブによって受信された行のバッチ数。1 バッチは、単一のフラグメントから得られた 1 セットのスキャン結果として定義されます。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。この MySQL サーバーがレプリケーションのスレーブとして動作していないか、NDB テーブルを使用していない場合、この値は常に 0 です。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_scan_batch_count"></a>
            <code class="literal">Ndb_api_scan_batch_count</code>
          </p><p>
            この MySQL Server (SQL ノード) によって受信された行のバッチ数。1 バッチは、単一のフラグメントから得られた 1 セットのスキャン結果として定義されます。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_table_scan_count_session"></a>
            <code class="literal">Ndb_api_table_scan_count_session</code>
          </p><p>
            このクライアントセッションで開始された、内部テーブルのスキャンを含むテーブルスキャンの回数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、現在のセッションにのみ関連しており、この <span class="command"><strong>mysqld</strong></span> のほかのクライアントには影響しません。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_table_scan_count_slave"></a>
            <code class="literal">Ndb_api_table_scan_count_slave</code>
          </p><p>
            このスレーブによって開始された、内部テーブルのスキャンを含むテーブルスキャンの回数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。この MySQL サーバーがレプリケーションのスレーブとして動作していないか、NDB テーブルを使用していない場合、この値は常に 0 です。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_table_scan_count"></a>
            <code class="literal">Ndb_api_table_scan_count</code>
          </p><p>
            この MySQL サーバー (SQL ノード) によって開始された、内部テーブルのスキャンを含むテーブルスキャンの回数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_abort_count_session"></a>
            <code class="literal">Ndb_api_trans_abort_count_session</code>
          </p><p>
            このクライアントセッションで中止されたトランザクションの数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、現在のセッションにのみ関連しており、この <span class="command"><strong>mysqld</strong></span> のほかのクライアントには影響しません。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_abort_count_slave"></a>
            <code class="literal">Ndb_api_trans_abort_count_slave</code>
          </p><p>
            このスレーブにより中止されたトランザクションの数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。この MySQL サーバーがレプリケーションのスレーブとして動作していないか、NDB テーブルを使用していない場合、この値は常に 0 です。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_abort_count"></a>
            <code class="literal">Ndb_api_trans_abort_count</code>
          </p><p>
            この MySQL サーバー (SQL ノード) により中止されたトランザクションの数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_close_count_session"></a>
            <code class="literal">Ndb_api_trans_close_count_session</code>
          </p><p>
            このクライアントセッションで閉じられたトランザクションの数。一部のトランザクションがロールバックされている場合があるため、この値は <code class="literal">Ndb_api_trans_commit_count_session</code> と <code class="literal">Ndb_api_trans_abort_count_session</code> の合計より大きくなることがあります。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、現在のセッションにのみ関連しており、この <span class="command"><strong>mysqld</strong></span> のほかのクライアントには影響しません。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_close_count_slave"></a>
            <code class="literal">Ndb_api_trans_close_count_slave</code>
          </p><p>
            このスレーブにより閉じられたトランザクションの数。一部のトランザクションがロールバックされている場合があるため、この値は <code class="literal">Ndb_api_trans_commit_count_slave</code> と <code class="literal">Ndb_api_trans_abort_count_slave</code> の合計より大きくなることがあります。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。この MySQL サーバーがレプリケーションのスレーブとして動作していないか、NDB テーブルを使用していない場合、この値は常に 0 です。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_close_count"></a>
            <code class="literal">Ndb_api_trans_close_count</code>
          </p><p>
            この MySQL サーバー (SQL ノード) により閉じられたトランザクションの数。一部のトランザクションがロールバックされている場合があるため、この値は <code class="literal">Ndb_api_trans_commit_count</code> と <code class="literal">Ndb_api_trans_abort_count</code> の合計より大きくなることがあります。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_commit_count_session"></a>
            <code class="literal">Ndb_api_trans_commit_count_session</code>
          </p><p>
            このクライアントセッションでコミットされたトランザクションの数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、現在のセッションにのみ関連しており、この <span class="command"><strong>mysqld</strong></span> のほかのクライアントには影響しません。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_commit_count_slave"></a>
            <code class="literal">Ndb_api_trans_commit_count_slave</code>
          </p><p>
            このスレーブによりコミットされたトランザクションの数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。この MySQL サーバーがレプリケーションのスレーブとして動作していないか、NDB テーブルを使用していない場合、この値は常に 0 です。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_commit_count"></a>
            <code class="literal">Ndb_api_trans_commit_count</code>
          </p><p>
            この MySQL サーバー (SQL ノード) によりコミットされたトランザクションの数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_local_read_row_count_session"></a>
            <code class="literal">Ndb_api_trans_local_read_row_count_session</code>
          </p><p>
            このクライアントセッションで読み取られた行の合計数。これには、このクライアントセッションで作成された主キー、一意キー、またはスキャン操作によって読み取られたすべての行が含まれます。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、現在のセッションにのみ関連しており、この <span class="command"><strong>mysqld</strong></span> のほかのクライアントには影響しません。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_local_read_row_count_slave"></a>
            <code class="literal">Ndb_api_trans_local_read_row_count_slave</code>
          </p><p>
            このスレーブによって読み取られた行の合計数。これには、このスレーブによって作成された主キー、一意キー、またはスキャン操作によって読み取られたすべての行が含まれます。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。この MySQL サーバーがレプリケーションのスレーブとして動作していないか、NDB テーブルを使用していない場合、この値は常に 0 です。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_local_read_row_count"></a>
            <code class="literal">Ndb_api_trans_local_read_row_count</code>
          </p><p>
            この MySQL サーバー (SQL ノード) によって読み取られた行の合計数。これには、この MySQL Server (SQL ノード) によって作成された主キー、一意キー、またはスキャン操作によって読み取られたすべての行が含まれます。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_start_count_session"></a>
            <code class="literal">Ndb_api_trans_start_count_session</code>
          </p><p>
            このクライアントセッションで開始されたトランザクションの数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、現在のセッションにのみ関連しており、この <span class="command"><strong>mysqld</strong></span> のほかのクライアントには影響しません。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_start_count_slave"></a>
            <code class="literal">Ndb_api_trans_start_count_slave</code>
          </p><p>
            このスレーブにより開始されたトランザクションの数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。この MySQL サーバーがレプリケーションのスレーブとして動作していないか、NDB テーブルを使用していない場合、この値は常に 0 です。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_start_count"></a>
            <code class="literal">Ndb_api_trans_start_count</code>
          </p><p>
            この MySQL サーバー (SQL ノード) により開始されたトランザクションの数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_uk_op_count_session"></a>
            <code class="literal">Ndb_api_uk_op_count_session</code>
          </p><p>
            このクライアントセッションで、一意キーに基づいた、または一意キーを使用した操作の数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、現在のセッションにのみ関連しており、この <span class="command"><strong>mysqld</strong></span> のほかのクライアントには影響しません。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_uk_op_count_slave"></a>
            <code class="literal">Ndb_api_uk_op_count_slave</code>
          </p><p>
            このスレーブによる、一意キーに基づいた、または一意キーを使用した操作の数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。この MySQL サーバーがレプリケーションのスレーブとして動作していないか、NDB テーブルを使用していない場合、この値は常に 0 です。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_uk_op_count"></a>
            <code class="literal">Ndb_api_uk_op_count</code>
          </p><p>
            この MySQL サーバー (SQL ノード) による、一意キーに基づいた、または一意キーを使用した操作の数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_wait_exec_complete_count_session"></a>
            <code class="literal">Ndb_api_wait_exec_complete_count_session</code>
          </p><p>
            このクライアントセッションで、操作の実行が完了するのを待機する間にスレッドがブロックされた回数。これには、すべての <code class="literal">execute()</code> 呼び出しと、クライアントの管理下にない BLOB および自動インクリメント操作の暗黙的な実行が含まれます。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、現在のセッションにのみ関連しており、この <span class="command"><strong>mysqld</strong></span> のほかのクライアントには影響しません。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_wait_exec_complete_count_slave"></a>
            <code class="literal">Ndb_api_wait_exec_complete_count_slave</code>
          </p><p>
            操作の実行が完了するまで待機する間に、このスレーブによってスレッドがブロックされた回数。これには、すべての <code class="literal">execute()</code> 呼び出しと、クライアントの管理下にない BLOB および自動インクリメント操作の暗黙的な実行が含まれます。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。この MySQL サーバーがレプリケーションのスレーブとして動作していないか、NDB テーブルを使用していない場合、この値は常に 0 です。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_wait_exec_complete_count"></a>
            <code class="literal">Ndb_api_wait_exec_complete_count</code>
          </p><p>
            操作の実行が完了するまで待機する間に、この MySQL Server (SQL ノード) によってスレッドがブロックされた回数。これには、すべての <code class="literal">execute()</code> 呼び出しと、クライアントの管理下にない BLOB および自動インクリメント操作の暗黙的な実行が含まれます。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_wait_meta_request_count_session"></a>
            <code class="literal">Ndb_api_wait_meta_request_count_session</code>
          </p><p>
            このクライアントセッションで、メタデータベースの信号 (DDL 要求、新しいエポック、トランザクションレコードの占有など) を待機する間にスレッドがブロックされた回数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、現在のセッションにのみ関連しており、この <span class="command"><strong>mysqld</strong></span> のほかのクライアントには影響しません。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_wait_meta_request_count_slave"></a>
            <code class="literal">Ndb_api_wait_meta_request_count_slave</code>
          </p><p>
            メタデータベースの信号 (DDL 要求、新しいエポック、トランザクションレコードの占有など) を待機する間に、このスレーブによってスレッドがブロックされた回数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。この MySQL サーバーがレプリケーションのスレーブとして動作していないか、NDB テーブルを使用していない場合、この値は常に 0 です。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_wait_meta_request_count"></a>
            <code class="literal">Ndb_api_wait_meta_request_count</code>
          </p><p>
            メタデータベースの信号 (DDL 要求、新しいエポック、トランザクションレコードの占有など) を待機する間に、この MySQL Server (SQL ノード) によってスレッドがブロックされた回数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_wait_nanos_count_session"></a>
            <code class="literal">Ndb_api_wait_nanos_count_session</code>
          </p><p>
            このクライアントセッションで、データノードから送信される任意のタイプの信号の待機に費やされた合計時間 (ナノ秒)。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、現在のセッションにのみ関連しており、この <span class="command"><strong>mysqld</strong></span> のほかのクライアントには影響しません。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_wait_nanos_count_slave"></a>
            <code class="literal">Ndb_api_wait_nanos_count_slave</code>
          </p><p>
            このスレーブによって、データノードから送信される任意のタイプの信号の待機に費やされた合計時間 (ナノ秒)。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。この MySQL サーバーがレプリケーションのスレーブとして動作していないか、NDB テーブルを使用していない場合、この値は常に 0 です。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_wait_nanos_count"></a>
            <code class="literal">Ndb_api_wait_nanos_count</code>
          </p><p>
            この MySQL Server (SQL ノード) によって、データノードから送信される任意のタイプの信号の待機に費やされた合計時間 (ナノ秒)。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_wait_scan_result_count_session"></a>
            <code class="literal">Ndb_api_wait_scan_result_count_session</code>
          </p><p>
            このクライアントセッションで、スキャンベースの信号を待機する間 (追加のスキャン結果を待機するときや、スキャンが閉じるまで待機するときなど) にスレッドがブロックされた回数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、現在のセッションにのみ関連しており、この <span class="command"><strong>mysqld</strong></span> のほかのクライアントには影響しません。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_wait_scan_result_count_slave"></a>
            <code class="literal">Ndb_api_wait_scan_result_count_slave</code>
          </p><p>
            スキャンベースの信号を待機する間 (追加のスキャン結果を待機するときや、スキャンが閉じるまで待機するときなど) に、このスレーブによってスレッドがブロックされた回数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。この MySQL サーバーがレプリケーションのスレーブとして動作していないか、NDB テーブルを使用していない場合、この値は常に 0 です。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_wait_scan_result_count"></a>
            <code class="literal">Ndb_api_wait_scan_result_count</code>
          </p><p>
            スキャンベースの信号を待機する間 (追加のスキャン結果を待機するときや、スキャンが閉じるまで待機するときなど) に、この MySQL Server (SQL ノード) によってスレッドがブロックされた回数。
          </p><p>
            この変数は、<code class="literal">SHOW GLOBAL STATUS</code> または <code class="literal">SHOW SESSION STATUS</code> を使用して読み取ることができますが、スコープは実質的にグローバルです。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_cluster_node_id"></a>
            <code class="literal">Ndb_cluster_node_id</code>
          </p><p>
            サーバーが MySQL Cluster ノードとして機能している場合、この変数の値はクラスタ内のノード ID です。
          </p><p>
            サーバーが MySQL Cluster の一部でない場合、この変数の値は 0 です。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_config_from_host"></a>
            <code class="literal">Ndb_config_from_host</code>
          </p><p>
            サーバーが MySQL Cluster の一部である場合、この変数の値はサーバーの構成データの取得元であるクラスタ管理サーバーのホスト名または IP アドレスです。
          </p><p>
            サーバーが MySQL Cluster の一部でない場合、この変数の値は空の文字列です。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_config_from_port"></a>
            <code class="literal">Ndb_config_from_port</code>
          </p><p>
            サーバーが MySQL Cluster の一部である場合、この変数の値はサーバーの構成データの取得元であるクラスタ管理サーバーへの接続に使用されているポート番号です。
          </p><p>
            サーバーが MySQL Cluster の一部でない場合、この変数の値は 0 です。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_conflict_fn_max"></a>
            <code class="literal">Ndb_conflict_fn_max</code>
          </p><p>
            この変数は、MySQL Cluster レプリケーションの競合解決で使用され、この <span class="command"><strong>mysqld</strong></span> の最後の起動以降、<span class="quote">「<span class="quote">もっとも大きいタイムスタンプが優先される</span>」</span>競合解決によって現在の SQL ノードに行が適用されなかった回数を示します。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="18.6.11 MySQL Cluster レプリケーションの競合解決">セクション18.6.11「MySQL Cluster レプリケーションの競合解決」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_conflict_fn_old"></a>
            <code class="literal">Ndb_conflict_fn_old</code>
          </p><p>
            この変数は、MySQL Cluster レプリケーションの競合解決で使用され、特定の <span class="command"><strong>mysqld</strong></span> の最後の再起動以降、<span class="quote">「<span class="quote">同じタイムスタンプが優先される</span>」</span>競合解決の結果として行が適用されなかった回数を示します。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="18.6.11 MySQL Cluster レプリケーションの競合解決">セクション18.6.11「MySQL Cluster レプリケーションの競合解決」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_conflict_fn_epoch"></a>
            <code class="literal">Ndb_conflict_fn_epoch</code>
          </p><p>
            この変数は、MySQL Cluster レプリケーションの競合解決で使用され、特定の <span class="command"><strong>mysqld</strong></span> の最後の再起動以降、<code class="literal">NDB$EPOCH()</code> の競合解決により競合が検出された行の数を示します。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="18.6.11 MySQL Cluster レプリケーションの競合解決">セクション18.6.11「MySQL Cluster レプリケーションの競合解決」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_conflict_fn_epoch_trans"></a>
            <code class="literal">Ndb_conflict_fn_epoch_trans</code>
          </p><p>
            この変数は、MySQL Cluster レプリケーションの競合解決で使用され、特定の <span class="command"><strong>mysqld</strong></span> の最後の再起動以降、<code class="literal">NDB$EPOCH_TRANS()</code> の競合解決により競合が検出された行の数を示します。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="18.6.11 MySQL Cluster レプリケーションの競合解決">セクション18.6.11「MySQL Cluster レプリケーションの競合解決」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_conflict_trans_row_conflict_count"></a>
            <code class="literal">Ndb_conflict_trans_row_conflict_count</code>
          </p><p>
            このステータス変数は、MySQL Cluster レプリケーションの競合解決で使用され、特定の <span class="command"><strong>mysqld</strong></span> の最後の再起動以降、トランザクション競合関数によって直接競合していることが検出された行の数を示します。
          </p><p>
            現在、MySQL Cluster でサポートされる唯一のトランザクション競合検出関数は NDB$EPOCH_TRANS() です。したがって、このステータス変数は実質的に <code class="literal">Ndb_conflict_fn_epoch_trans</code> と同じです。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="18.6.11 MySQL Cluster レプリケーションの競合解決">セクション18.6.11「MySQL Cluster レプリケーションの競合解決」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_conflict_trans_row_reject_count"></a>
            <code class="literal">Ndb_conflict_trans_row_reject_count</code>
          </p><p>
            このステータス変数は、MySQL Cluster レプリケーションの競合解決で使用され、トランザクション競合検出関数によって競合していると判定されたために再編成された行の合計数を示します。これには、<code class="literal">Ndb_conflict_trans_row_conflict_count</code> だけでなく、競合するトランザクションに含まれる行や依存する行も含まれます。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="18.6.11 MySQL Cluster レプリケーションの競合解決">セクション18.6.11「MySQL Cluster レプリケーションの競合解決」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_conflict_trans_reject_count"></a>
            <code class="literal">Ndb_conflict_trans_reject_count</code>
          </p><p>
            このステータス変数は、MySQL Cluster レプリケーションの競合解決で使用され、トランザクション競合検出関数によって競合が検出されたトランザクションの数を示します。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="18.6.11 MySQL Cluster レプリケーションの競合解決">セクション18.6.11「MySQL Cluster レプリケーションの競合解決」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_conflict_trans_detect_iter_count"></a>
            <code class="literal">Ndb_conflict_trans_detect_iter_count</code>
          </p><p>
            これは、MySQL Cluster レプリケーションの競合解決で使用され、エポックトランザクションをコミットするために必要な内部反復の回数を示します。<code class="literal">Ndb_conflict_trans_conflict_commit_count</code> より (わずかに) 大きいか、等しい値にしてください。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="18.6.11 MySQL Cluster レプリケーションの競合解決">セクション18.6.11「MySQL Cluster レプリケーションの競合解決」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_conflict_trans_conflict_commit_count"></a>
            <code class="literal">Ndb_conflict_trans_conflict_commit_count</code>
          </p><p>
            これは、MySQL Cluster レプリケーションの競合解決で使用され、トランザクション競合処理が必要になったあとでコミットされたエポックトランザクションの数を示します。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="18.6.11 MySQL Cluster レプリケーションの競合解決">セクション18.6.11「MySQL Cluster レプリケーションの競合解決」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_execute_count"></a>
            <code class="literal">Ndb_execute_count</code>
          </p><p>
            操作によって行われた <code class="literal">NDB</code> カーネルへのラウンドトリップの回数を示します。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_number_of_data_nodes"></a>
            <code class="literal">Ndb_number_of_data_nodes</code>
          </p><p>
            サーバーが MySQL Cluster の一部である場合、この変数の値はクラスタ内のデータノードの数です。
          </p><p>
            サーバーが MySQL Cluster の一部でない場合、この変数の値は 0 です。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_pushed_queries_defined"></a>
            <code class="literal">Ndb_pushed_queries_defined</code>
          </p><p>
            データノードでの分散処理のために NDB カーネルにプッシュダウンされた結合の合計数。<code class="literal">EXPLAIN</code> を使用してテストされたプッシュダウン可能な結合も、この数値の一因となります。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_pushed_queries_dropped"></a>
            <code class="literal">Ndb_pushed_queries_dropped</code>
          </p><p>
            NDB カーネルにプッシュダウンされ、処理できなかった結合の数。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_pushed_queries_executed"></a>
            <code class="literal">Ndb_pushed_queries_executed</code>
          </p><p>
            <code class="literal">NDB</code> に正常にプッシュダウンされ、実行された結合の数。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_pushed_reads"></a>
            <code class="literal">Ndb_pushed_reads</code>
          </p><p>
            プッシュダウンされた結合によって NDB カーネルから <span class="command"><strong>mysqld</strong></span> に返された行の数。<code class="literal">NDB</code> にプッシュダウンできる結合に対して <code class="literal">EXPLAIN</code> を実行しても、この数値に追加されません。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_pruned_scan_count"></a>
            <code class="literal">Ndb_pruned_scan_count</code>
          </p><p>
            この変数には、MySQL Cluster の最後の起動以降、<code class="literal">NDBCLUSTER</code> によって実行された (<code class="literal">NDBCLUSTER</code> がパーティションプルーニングを使用できた) スキャンの回数のカウントが保持されます。
          </p><p>
            スキーマ設計で、この変数を <code class="literal">Ndb_scan_count</code> と組み合わせて使用すると、単一のデータノードのみが関与するようにスキャンを単一のテーブルパーティションにプルーニングするサーバーの機能を最大限に生かすことができます。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_scan_count"></a>
            <code class="literal">Ndb_scan_count</code>
          </p><p>
            この変数には、MySQL Cluster の最後の起動以降、<code class="literal">NDBCLUSTER</code> によって実行されたスキャンの合計回数のカウントが保持されます。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_slave_last_conflict_epoch"></a>
            <code class="literal">Ndb_slave_last_conflict_epoch</code>
          </p><p>
            このスレーブで競合が検出された最近のエポック。この値を <code class="literal">Ndb_slave_max_replicated_epoch</code> と比較できます。<code class="literal">Ndb_slave_max_replicated_epoch</code> が <code class="literal">Ndb_slave_last_conflict_epoch</code> より大きい場合、競合はまだ検出されていません。
          </p><p>
            この変数は MySQL Cluster NDB 7.4.1 で追加されました。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="18.6.11 MySQL Cluster レプリケーションの競合解決">セクション18.6.11「MySQL Cluster レプリケーションの競合解決」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="statvar_Ndb_slave_max_replicated_epoch"></a>
            <code class="literal">Ndb_slave_max_replicated_epoch</code>
          </p><p>
            このスレーブで最近コミットされたエポック。MySQL Cluster NDB 7.4.1 以降では、この値を <code class="literal">Ndb_slave_last_conflict_epoch</code> と比較できます。この 2 つのうち <code class="literal">Ndb_slave_max_replicated_epoch</code> の方が大きい場合、競合はまだ検出されていません。
          </p><p>
            この変数は、MySQL Cluster NDB 7.3.8 および MySQL Cluster NDB 7.4.1 で追加されました。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="18.6.11 MySQL Cluster レプリケーションの競合解決">セクション18.6.11「MySQL Cluster レプリケーションの競合解決」</a>を参照してください。
          </p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-interconnects"></a>18.3.5 MySQL Cluster での高速インターコネクトの使用</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-sci-sockets">18.3.5.1 SCI ソケットを使用する MySQL Cluster の構成</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-interconnects-performance">18.3.5.2 MySQL Cluster のインターコネクトとパフォーマンス</a></span></dt></dl></div><a class="indexterm" name="idm139979028667232"></a><a class="indexterm" name="idm139979028665104"></a><p>
      1996 年に <code class="literal">NDBCLUSTER</code> の設計の開始前に、並列データベースの構築で発生する主な問題の 1 つがネットワーク内のノード間の通信であることは認識されていました。このため、<code class="literal">NDBCLUSTER</code> は当初から複数の異なるデータトランスポートメカニズムを使用できるように設計されました。このマニュアルでは、このメカニズムに対し<em class="firstterm">トランスポータ</em>という用語を使用します。
    </p><p>
      MySQL Cluster のコードベースには、4 種類のトランスポータが用意されています。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="xref" href="mysql-cluster.html#mysql-cluster-tcp-definition" title="18.3.2.8 MySQL クラスタの TCP/IP 接続">セクション18.3.2.8「MySQL クラスタの TCP/IP 接続」</a>で説明している <span class="emphasis"><em>100M ビット/秒またはギガビット Ethernet を使用した TCP/IP</em></span>。
        </p></li><li class="listitem"><p>
          <span class="emphasis"><em>ダイレクト (マシン間) TCP/IP</em></span>。このトランスポータは前の項目で示したものと同じ TCP/IP プロトコルを使用しますが、ハードウェアを異なる方法でセットアップする必要があり、構成方法も異なります。このため、MySQL Cluster では別個のトランスポートメカニズムとみなされています。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-tcp-definition-direct" title="18.3.2.9 直接接続を使用する MySQL Cluster の TCP/IP 接続">セクション18.3.2.9「直接接続を使用する MySQL Cluster の TCP/IP 接続」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <span class="emphasis"><em>共有メモリー (SHM)</em></span>。SHM の詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-shm-definition" title="18.3.2.10 MySQL Cluster の共有メモリー接続">セクション18.3.2.10「MySQL Cluster の共有メモリー接続」</a>を参照してください。
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            SHM はあくまで実験的なものであり、正式にはサポートされません。
          </p></div></li><li class="listitem"><p>
          この章の次のセクション (<a class="xref" href="mysql-cluster.html#mysql-cluster-sci-definition" title="18.3.2.11 MySQL Cluster での SCI トランスポート接続">セクション18.3.2.11「MySQL Cluster での SCI トランスポート接続」</a>) で説明する<span class="emphasis"><em>スケーラブルコヒーラントインタフェース (SCI)</em></span>。
        </p></li></ul></div><p>
      ほとんどのユーザーは現在、広く普及していることから、TCP/IP over Ethernet を採用しています。TCP/IP は、MySQL Cluster での使用に関してもっともよくテストされているトランスポータでもあります。
    </p><p>
      弊社は、あらゆるタイプのデータ転送にメリットがあるため、<span class="command"><strong>ndbd</strong></span> プロセスとの通信ができるだけ大きな<span class="quote">「<span class="quote">チャンク</span>」</span>で行われるように努力しています。
    </p><p>
      ユーザーが希望する場合は、クラスタのインターコネクトを使用してパフォーマンスをさらに向上させることもできます。これには 2 つの実現方法があります。このケースを処理できるようにカスタムトランスポータを設計するか、TCP/IP スタックをある程度バイパスするソケット実装を使用できます。弊社は、<a class="ulink" href="http://www.dolphinics.com/" target="_top">Dolphin Interconnect Solutions</a> が開発した SCI (スケーラブルコヒーラントインタフェース) テクノロジを使用して、両方の手法を試しました。
    </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-sci-sockets"></a>18.3.5.1 SCI ソケットを使用する MySQL Cluster の構成</h4></div></div></div><a class="indexterm" name="idm139979028642592"></a><a class="indexterm" name="idm139979028640464"></a><a class="indexterm" name="idm139979028638272"></a><p>
        スケーラブルコヒーラントインタフェース (SCI) テクノロジを採用して、MySQL Cluster データノードと SQL ノード間の接続の速度とスループットを大幅に向上させることができます。SCI を使用するには、Dolphin SCI ネットワークカードを取り付けて、Dolphin から提供されるドライバおよびその他のソフトウェアを使用する必要があります。これらの入手方法については、<a class="ulink" href="http://www.dolphinics.com/" target="_top">Dolphin Interconnect Solutions</a> を参照してください。SCI SuperSocket または SCI トランスポータは、32 ビットおよび 64 ビットの Linux、Solaris、Windows、およびその他のプラットフォームでサポートされます。SCI でサポートされるプラットフォームの詳細は、このセクションの後半で参照する Dolphin のドキュメントを参照してください。
      </p><p>
        必要な Dolphin のハードウェアおよびソフトウェアの入手後、通常の TCP/IP 通信用に構成された MySQL Cluster を調整して SCI を使用する方法に関する詳しい情報を <a class="ulink" href="http://www.dolphinics.com/support/index_support_sci.html" target="_top">Dolphin SCI online documentation</a> から入手できます。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-interconnects-performance"></a>18.3.5.2 MySQL Cluster のインターコネクトとパフォーマンス</h4></div></div></div><a class="indexterm" name="idm139979028630160"></a><a class="indexterm" name="idm139979028628016"></a><p>
        <span class="command"><strong>ndbd</strong></span> プロセスには、MySQL Cluster 内のデータへのアクセスに使用するいくつかの簡単な構造があります。弊社は、非常に簡単なベンチマークを作成して、各パフォーマンスと、さまざまなインターコネクトがパフォーマンスに与える影響をチェックしました。
      </p><p>
        4 つのアクセス方法があります。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>主キーアクセス </b>
              これは、主キーを介したレコードへのアクセスです。もっとも簡単なケースでは、一度に 1 つのレコードだけにアクセスします。これにより、多数の TCP/IP メッセージを設定するためのコスト全体とコンテキストスイッチのための多くのコストが、この単一の要求によって発生します。1 つのバッチで複数の主キーアクセスを送信するケースでは、必要な TCP/IP メッセージとコンテキストスイッチの設定コストがこのアクセスによって共有されます。TCP/IP メッセージの宛先が異なる場合は、追加の TCP/IP メッセージを設定する必要があります。
            </p></li><li class="listitem"><p><b>一意キーアクセス </b>
              一意キーアクセスは主キーアクセスとほぼ同じですが、一意キーアクセスはインデックステーブルの読み取りとして実行され、そのあとでテーブルに対する主キーアクセスが実行されます。ただし、MySQL Server からは 1 つの要求だけが送信され、インデックステーブルの読み取りは <span class="command"><strong>ndbd</strong></span> によって処理されます。このような要求でも、バッチ化のメリットが得られます。
            </p></li><li class="listitem"><p><b>フルテーブルスキャン </b>
              テーブルにルックアップ用のインデックスが存在しない場合は、フルテーブルスキャンが実行されます。これは <span class="command"><strong>ndbd</strong></span> プロセスに単一の要求として送信されます。その後、このプロセスはテーブルスキャンをクラスタすべての <span class="command"><strong>ndbd</strong></span> プロセスで実行される一連の並列スキャンに分割します。MySQL Cluster の今後のバージョンでは、SQL ノードがこのスキャンの一部をフィルタできるようになります。
            </p></li><li class="listitem"><p><b>順序付けされたインデックスを使用する範囲スキャン </b>
              順序付けされたインデックスを使用すると、フルテーブルスキャンと同じ方法でスキャンが実行されますが、MySQL サーバー (SQL ノード) によって送信されたクエリーの使用範囲内のレコードのみがスキャンされます。バインドされたインデックス属性にパーティション化キー内のすべての属性が含まれる場合は、すべてのパーティションが並列でスキャンされます。
            </p></li></ul></div><p>
        簡単なバッチ化された主キーおよび一意キーアクセスのテストで MySQL が内部で開発したベンチマークを実施したところ、通信のパフォーマンスが問題にならないまれなケースを除き、SCI ソケットの使用によってパフォーマンスが TCP/IP に比べておよそ 100% 向上することがわかりました。これは、スキャンフィルタが処理時間の大部分を占めるときや、主キーアクセスの非常に大きなバッチが実行されたときに起きる可能性があります。その場合は、<span class="command"><strong>ndbd</strong></span> プロセス内の CPU 処理がオーバーヘッドのかなり大きな部分を占めています。
      </p><p>
        SCI ソケットの代わりに SCI トランスポータを使用することは、<span class="command"><strong>ndbd</strong></span> プロセス間の通信でのみメリットがあります。また、SCI トランスポータを使用すると <span class="command"><strong>ndbd</strong></span> プロセスがスリープ状態にならないため、SCI トランスポータの使用でメリットがあるのは、CPU をこのプロセス専用にできる場合だけです。<span class="command"><strong>ndbd</strong></span> プロセスが長期間にわたる実行 (Linux 2.6 ではプロセスを CPU にロックすることで実現可能です) によって優先度を失わない方法でこのプロセスの優先度を設定することも重要になります。このような構成が可能な場合、<span class="command"><strong>ndbd</strong></span> プロセスのパフォーマンスは SCI ソケットを使用する場合に比べて 10-70% 向上します。(更新の実行時 (あるいは並列スキャン操作時) は、この数値がより大きくなります。)
      </p><p>
        ほかにもコンピュータクラスタ用に最適化されたソケット実装がいくつか存在します (Myrinet、ギガビット Ethernet、Infiniband、VIA インタフェースなど)。ただし、現在のところ MySQL Cluster のテストで使用したのは SCI ソケットだけです。通常の TCP/IP を使用して SCI ソケットを MySQL Cluster 用に設定する方法については、<a class="xref" href="mysql-cluster.html#mysql-cluster-sci-sockets" title="18.3.5.1 SCI ソケットを使用する MySQL Cluster の構成">セクション18.3.5.1「SCI ソケットを使用する MySQL Cluster の構成」</a>を参照してください。
      </p></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mysql-cluster-programs"></a>18.4 MySQL Cluster プログラム</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndbd">18.4.1 <span class="command"><strong>ndbd</strong></span> — MySQL Cluster データノードデーモン</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndbinfo-select-all">18.4.2 <span class="command"><strong>ndbinfo_select_all</strong></span> — ndbinfo テーブルからの選択</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndbmtd">18.4.3 <span class="command"><strong>ndbmtd</strong></span> — MySQL Cluster データノードデーモン (マルチスレッド)</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd">18.4.4 <span class="command"><strong>ndb_mgmd</strong></span> — MySQL Cluster 管理サーバーデーモン</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm">18.4.5 <span class="command"><strong>ndb_mgm</strong></span> — MySQL Cluster 管理クライアント</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-blob-tool">18.4.6 <span class="command"><strong>ndb_blob_tool</strong></span> — MySQL Cluster テーブルの BLOB および TEXT カラムのチェックおよび修復</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-config">18.4.7 <span class="command"><strong>ndb_config</strong></span> — MySQL Cluster 構成情報の抽出</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-cpcd">18.4.8 <span class="command"><strong>ndb_cpcd</strong></span> — NDB 開発のためのテストの自動化</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-delete-all">18.4.9 <span class="command"><strong>ndb_delete_all</strong></span> — NDB テーブルからのすべての行の削除</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-desc">18.4.10 <span class="command"><strong>ndb_desc</strong></span> — NDB テーブルの表示</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-drop-index">18.4.11 <span class="command"><strong>ndb_drop_index</strong></span> — NDB テーブルからのインデックスの削除</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-drop-table">18.4.12 <span class="command"><strong>ndb_drop_table</strong></span> — NDB テーブルの削除</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-error-reporter">18.4.13 <span class="command"><strong>ndb_error_reporter</strong></span> — NDB エラーレポートユーティリティー</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-index-stat">18.4.14 <span class="command"><strong>ndb_index_stat</strong></span> — NDB インデックス統計ユーティリティー</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-print-backup-file">18.4.15 <span class="command"><strong>ndb_print_backup_file</strong></span> — NDB バックアップファイルの内容の出力</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-print-file">18.4.16 <span class="command"><strong>ndb_print_file</strong></span> — NDB ディスクデータファイル内容の出力</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-print-schema-file">18.4.17 <span class="command"><strong>ndb_print_schema_file</strong></span> — NDB スキーマファイル内容の出力</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-print-sys-file">18.4.18 <span class="command"><strong>ndb_print_sys_file</strong></span> — NDB システムファイル内容の出力</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndbd-redo-log-reader">18.4.19 <span class="command"><strong>ndbd_redo_log_reader</strong></span> — クラスタ Redo ログ内容のチェックおよび出力</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-restore">18.4.20 <span class="command"><strong>ndb_restore</strong></span> — MySQL Cluster バックアップのリストア</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-select-all">18.4.21 <span class="command"><strong>ndb_select_all</strong></span> — NDB テーブルの行の出力</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-select-count">18.4.22 <span class="command"><strong>ndb_select_count</strong></span> — NDB テーブルの行数の出力</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-setup-py">18.4.23 <span class="command"><strong>ndb_setup.py</strong></span> — MySQL Cluster のブラウザベース自動インストーラの開始</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-show-tables">18.4.24 <span class="command"><strong>ndb_show_tables</strong></span> — NDB テーブルのリストの表示</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-size-pl">18.4.25 <span class="command"><strong>ndb_size.pl</strong></span> — NDBCLUSTER サイズ要件エスティメータ</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-waiter">18.4.26 <span class="command"><strong>ndb_waiter</strong></span> — MySQL Cluster が指定したステータスになるまで待機する</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-program-options-common">18.4.27 MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション</a></span></dt></dl></div><a class="indexterm" name="idm139979028598400"></a><a class="indexterm" name="idm139979028596256"></a><a class="indexterm" name="idm139979028594880"></a><a class="indexterm" name="idm139979028593472"></a><a class="indexterm" name="idm139979028592080"></a><a class="indexterm" name="idm139979028590640"></a><a class="indexterm" name="idm139979028589232"></a><a class="indexterm" name="idm139979028588000"></a><a class="indexterm" name="idm139979028586656"></a><a class="indexterm" name="idm139979028585312"></a><a class="indexterm" name="idm139979028583968"></a><a class="indexterm" name="idm139979028582624"></a><a class="indexterm" name="idm139979028581280"></a><a class="indexterm" name="idm139979028579936"></a><a class="indexterm" name="idm139979028578592"></a><a class="indexterm" name="idm139979028577248"></a><a class="indexterm" name="idm139979028575904"></a><a class="indexterm" name="idm139979028574560"></a><a class="indexterm" name="idm139979028573216"></a><a class="indexterm" name="idm139979028571872"></a><a class="indexterm" name="idm139979028570528"></a><a class="indexterm" name="idm139979028569184"></a><a class="indexterm" name="idm139979028567824"></a><a class="indexterm" name="idm139979028566480"></a><a class="indexterm" name="idm139979028565120"></a><a class="indexterm" name="idm139979028563760"></a><a class="indexterm" name="idm139979028562416"></a><a class="indexterm" name="idm139979028561072"></a><a class="indexterm" name="idm139979028559728"></a><a class="indexterm" name="idm139979028558384"></a><a class="indexterm" name="idm139979028557040"></a><p>
    MySQL Cluster を使用および管理するには、この章で説明する各種の専用のプログラムが必要となります。MySQL Cluster でのこれらのプログラムの目的、プログラムの使用方法、および各プログラムで使用可能な起動オプションについて説明します。
  </p><p>
    これらのプログラムには、MySQL Cluster データ、管理、および SQL ノードプロセス (<span class="command"><strong>ndbd</strong></span>、<span class="command"><strong>ndbmtd</strong></span>、<span class="command"><strong>ndb_mgmd</strong></span>、および <span class="command"><strong>mysqld</strong></span>)、および管理クライアント (<span class="command"><strong>ndb_mgm</strong></span>) が含まれます。
  </p><p>
    MySQL Cluster Auto-Installer を開始するために使用されるプログラム <span class="command"><strong>ndb_setup.py</strong></span> (MySQL Cluster NDB 7.3.1 で追加されました) についての情報も、このセクションに含まれています。<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-setup-py" title="18.4.23 ndb_setup.py — MySQL Cluster のブラウザベース自動インストーラの開始">セクション18.4.23「<span class="command"><strong>ndb_setup.py</strong></span> — MySQL Cluster のブラウザベース自動インストーラの開始」</a>には、コマンド行クライアントに関する情報のみが含まれています。このプログラムから起動される GUI インストーラを使用して MySQL Cluster を構成および配備するための情報については、<a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto" title="18.2.1 MySQL Cluster Auto-Installer">セクション18.2.1「MySQL Cluster Auto-Installer」</a>を参照してください。
  </p><p>
    MySQL Cluster プロセスとしての <span class="command"><strong>mysqld</strong></span> の使用については、<a class="xref" href="mysql-cluster.html#mysql-cluster-mysqld" title="18.5.4 MySQL Cluster での MySQL サーバーの使用法">セクション18.5.4「MySQL Cluster での MySQL サーバーの使用法」</a>を参照してください。
  </p><p>
    その他の <code class="literal">NDB</code> ユーティリティー、診断プログラム、およびプログラム例は、MySQL Cluster 配布に含まれています。これらには、<span class="command"><strong>ndb_restore</strong></span>、<span class="command"><strong>ndb_show_tables</strong></span>、および <span class="command"><strong>ndb_config</strong></span> が含まれます。これらのプログラムについてもこのセクションで説明します。
  </p><p>
    このセクションの最後の部分には、さまざまな MySQL Cluster プログラムのすべてに共通するオプションの表が含まれています。
  </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-programs-ndbd"></a>18.4.1 <span class="command"><strong>ndbd</strong></span> — MySQL Cluster データノードデーモン</h3></div></div></div><a class="indexterm" name="idm139979028538608"></a><a class="indexterm" name="idm139979028537392"></a><a class="indexterm" name="idm139979028535488"></a><a class="indexterm" name="idm139979028533472"></a><a class="indexterm" name="idm139979028532272"></a><p>
        <span class="command"><strong>ndbd</strong></span> は、NDB Cluster ストレージエンジンを使用してテーブル内のすべてのデータを処理するために使用されるプロセスです。これは、分散型トランザクションの処理、ノードのリカバリ、ディスクでのチェックポイントの実行、オンラインバックアップ、および関連するタスクをデータノードが行うことができるようにするプロセスです。
      </p><p>
        MySQL Cluster では、一連の <span class="command"><strong>ndbd</strong></span> プロセスがデータを処理するために連携して動作します。これらのプロセスは、同じコンピュータ (ホスト) 上または別個のコンピュータ上で実行できます。データノードと Cluster ホストの通信は詳細に構成できます。
      </p><a class="indexterm" name="idm139979028527024"></a><a class="indexterm" name="idm139979028524880"></a><a class="indexterm" name="idm139979028522848"></a><a class="indexterm" name="idm139979028520864"></a><p>
        次の表には、MySQL Cluster データノードプログラム <span class="command"><strong>ndbd</strong></span> に固有のコマンドオプションが含まれています。追加説明が表のあとにあります。ほとんどの MySQL Cluster プログラム (<span class="command"><strong>ndbd</strong></span> を含む) に共通するオプションについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="18.4.27 MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション">セクション18.4.27「MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション」</a>を参照してください。
      </p><div class="table"><a name="mysql-cluster-ndbd-options-table"></a><p class="title"><b>表 18.77 
            この表は、ndbd プログラムのコマンド行オプションについて説明しています</b></p><div class="table-contents"><table id="mysql-cluster-ndbd-options-table" summary="ndbd Options and Variables: MySQL Cluster NDB 7.3"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="ndbdformat">形式</th>
        <th id="ndbddescription">説明</th>
        <th id="ndbdaddedremoved">追加または削除</th>
      </tr></thead><tbody><tr>
        <td id="rowndbdinitial" headers="ndbdformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndbd_initial">--initial</a> </code>
          </p>
        </td>
        <td headers="rowndbdinitial ndbddescription">
      ndbd の初期起動を実行します (ファイルシステムのクリーニングを含む)。このオプションを使用する前にドキュメントを参照してください
    </td>
        <td headers="rowndbdinitial ndbdaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndbdnostart" headers="ndbdformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndbd_nostart">--nostart</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndbd_nostart">-n</a> </code>
          </p>
        </td>
        <td headers="rowndbdnostart ndbddescription">
      ndbd をすぐに起動しません。ndbd は ndb_mgm からの起動するコマンドを待機します
    </td>
        <td headers="rowndbdnostart ndbdaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndbddaemon" headers="ndbdformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndbd_daemon">--daemon</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndbd_daemon">-d</a> </code>
          </p>
        </td>
        <td headers="rowndbddaemon ndbddescription">
      ndbd をデーモンとして開始します (デフォルト)。オーバーライドするには --nodaemon を指定します
    </td>
        <td headers="rowndbddaemon ndbdaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndbdnodaemon" headers="ndbdformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndbd_nodaemon">--nodaemon</a> </code>
          </p>
        </td>
        <td headers="rowndbdnodaemon ndbddescription">
      ndbd をデーモンとして開始しません。テストのために提供されています
    </td>
        <td headers="rowndbdnodaemon ndbdaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndbdforeground" headers="ndbdformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndbd_foreground">--foreground</a> </code>
          </p>
        </td>
        <td headers="rowndbdforeground ndbddescription">
      ndbd をフォアグラウンドで実行します。デバッグのために提供されています (--nodaemon の意味を含みます)
    </td>
        <td headers="rowndbdforeground ndbdaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndbdnowait-nodes" headers="ndbdformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndbd_nowait-nodes">--nowait-nodes=list</a> </code>
          </p>
        </td>
        <td headers="rowndbdnowait-nodes ndbddescription">
      これらのデータノードが起動されるのを待機しません (ノード ID のカンマ区切りのリストを取ります)。--ndb-nodeid も使用する必要があります。
    </td>
        <td headers="rowndbdnowait-nodes ndbdaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndbdinitial-start" headers="ndbdformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndbd_initial-start">--initial-start</a> </code>
          </p>
        </td>
        <td headers="rowndbdinitial-start ndbddescription">
      部分的な初期起動を実行します (--nowait-nodes が必要です)
    </td>
        <td headers="rowndbdinitial-start ndbdaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndbdbind-address" headers="ndbdformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndbd_bind-address">--bind-address=name</a> </code>
          </p>
        </td>
        <td headers="rowndbdbind-address ndbddescription">
      ローカルバインドアドレス
    </td>
        <td headers="rowndbdbind-address ndbdaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndbdinstall" headers="ndbdformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndbd_install">--install[=name]</a> </code>
          </p>
        </td>
        <td headers="rowndbdinstall ndbddescription">
      データノードプロセスを Windows サービスとしてインストールするために使用します。Windows 以外のプラットフォームには該当しません。
    </td>
        <td headers="rowndbdinstall ndbdaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndbdremove" headers="ndbdformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndbd_remove">--remove[=name]</a> </code>
          </p>
        </td>
        <td headers="rowndbdremove ndbddescription">
      以前 Windows サービスとしてインストールされたデータノードプロセスを削除するために使用します。Windows 以外のプラットフォームには該当しません。
    </td>
        <td headers="rowndbdremove ndbdaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndbdconnect-retries" headers="ndbdformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndbd_connect-retries">--connect-retries=#</a> </code>
          </p>
        </td>
        <td headers="rowndbdconnect-retries ndbddescription">
      管理サーバーへの接続を試行する回数。無限に試行する場合は -1 を設定します
    </td>
        <td headers="rowndbdconnect-retries ndbdaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndbdconnect-delay" headers="ndbdformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndbd_connect-delay">--connect-delay=#</a> </code>
          </p>
        </td>
        <td headers="rowndbdconnect-delay ndbddescription">
      管理サーバーへの各接続試行間に待機する時間 (秒単位)
    </td>
        <td headers="rowndbdconnect-delay ndbdaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          これらのすべてのオプションはこのプログラムのマルチスレッドバージョン (<span class="command"><strong>ndbmtd</strong></span>) にも適用され、<span class="quote">「<span class="quote"><span class="command"><strong>ndbd</strong></span></span>」</span> を <span class="quote">「<span class="quote"><span class="command"><strong>ndbmtd</strong></span></span>」</span> に置き換えることができます (このセクションで後者が出てくる場合)。
        </p></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndbd_bind-address"></a>
            <code class="option">--bind-address</code>
          </p><div class="informaltable"><table summary="Options for bind-address" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--bind-address=name</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">文字列</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table></div><p>
            <span class="command"><strong>ndbd</strong></span> が特定のネットワークインタフェース (ホスト名または IP アドレス) にバインドされます。このオプションにはデフォルト値はありません。
          </p></li><li class="listitem"><p><a name="option_ndbd_daemon"></a>
            <code class="option">--daemon</code>、<code class="option">-d</code>
          </p><div class="informaltable"><table summary="Options for daemon" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--daemon</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">TRUE</code></td></tr></tbody></table></div><p>
            <span class="command"><strong>ndbd</strong></span> または <span class="command"><strong>ndbmtd</strong></span> にデーモンプロセスとして実行するように指示します。これはデフォルトの動作です。<code class="option">--nodaemon</code> を使用すると、プロセスがデーモンとして実行されなくなります。
          </p><p>
            Windows プラットフォームで <span class="command"><strong>ndbd</strong></span> または <span class="command"><strong>ndbmtd</strong></span> を実行している場合、このオプションは効果がありません。
          </p></li><li class="listitem"><p><a name="option_ndbd_nodaemon"></a>
            <code class="option">--nodaemon</code>
          </p><div class="informaltable"><table summary="Options for nodaemon" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--nodaemon</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table></div><p>
            <span class="command"><strong>ndbd</strong></span> または <span class="command"><strong>ndbmtd</strong></span> がデーモンプロセスとして実行されなくなります。このオプションは <code class="option">--daemon</code> オプションをオーバーライドします。これは、バイナリをデバッグするときに、出力を画面にリダイレクトする場合に便利です。
          </p><p>
            Windows での <span class="command"><strong>ndbd</strong></span> および <span class="command"><strong>ndbmtd</strong></span> のデフォルト動作はフォアグラウンドでの実行であり、Windows プラットフォームではこのオプションは効果がなく、必要ありません。
          </p></li><li class="listitem"><p><a name="option_ndbd_foreground"></a>
            <code class="option">--foreground</code>
          </p><div class="informaltable"><table summary="Options for foreground" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--foreground</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table></div><p>
            主にデバッグのために、<span class="command"><strong>ndbd</strong></span> または <span class="command"><strong>ndbmtd</strong></span> がフォアグラウンドプロセスとして実行されます。このオプションは <code class="option">--nodaemon</code> オプションの意味を含みます。
          </p><p>
            Windows プラットフォームで <span class="command"><strong>ndbd</strong></span> または <span class="command"><strong>ndbmtd</strong></span> を実行している場合、このオプションは効果がありません。
          </p></li><li class="listitem"><p><a name="option_ndbd_initial"></a>
            <a class="indexterm" name="idm139979028331360"></a> <a class="indexterm" name="idm139979028329872"></a> <code class="option">--initial</code>
          </p><div class="informaltable"><table summary="Options for initial" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--initial</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table></div><p>
            <span class="command"><strong>ndbd</strong></span> に初期起動を実行するように指示します。初期起動によって、以前の <span class="command"><strong>ndbd</strong></span> のインスタンスでリカバリのために作成されたファイルが消去されます。また、リカバリログファイルが再作成されます。一部のオペレーティングシステムでは、この処理にかなり長い時間がかかります。
          </p><p>
            <code class="option">--initial</code> を指定した起動は、<span class="command"><strong>ndbd</strong></span> プロセスを非常に特殊な状況で起動するときに<span class="emphasis"><em>のみ</em></span>使用します。これは、このオプションを指定すると、MySQL Cluster ファイルシステムからすべてのファイルが削除され、すべての Redo ログファイルが再作成されるためです。それらの状況を次に示します。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                ファイルの内容が変更されたソフトウェアアップグレードを実行する場合。
              </p></li><li class="listitem"><p>
                新しいバージョンの <span class="command"><strong>ndbd</strong></span> でノードを再起動する場合。
              </p></li><li class="listitem"><p>
                何かの理由でノードまたはシステムの再起動が繰り返し失敗する場合の最後の手段として。この場合、データファイルが破壊されるため、このノードはデータのリストアに使用できなくなります。
              </p></li></ul></div><p>
            このオプションを使用すると、<code class="literal">StartPartialTimeout</code> および <code class="literal">StartPartitionedTimeout</code> 構成パラメータの効果がなくなります。
          </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
              このオプションは、次のタイプのファイルには影響<span class="emphasis"><em>しません</em></span>。
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  影響を受けるノードによってすでに作成されているバックアップファイル
                </p></li><li class="listitem"><p>
                  MySQL Cluster ディスクデータファイル (<a class="xref" href="mysql-cluster.html#mysql-cluster-disk-data" title="18.5.12 MySQL Cluster ディスクデータテーブル">セクション18.5.12「MySQL Cluster ディスクデータテーブル」</a>を参照してください)。
                </p></li></ul></div><p>
              このオプションは、すでに実行されているデータノードから起動 (または再起動) されたばかりのデータノードによるデータのリカバリにも影響しません。このデータのリカバリは自動的に行われ、正常に実行されている MySQL Cluster でユーザーが操作を行う必要はありません。
            </p></div><p>
            クラスタを最初に起動するとき (つまり、データノードファイルが作成される前) にこのオプションを使用することはできますが、そうする必要は<span class="emphasis"><em>ありません</em></span>。
          </p></li><li class="listitem"><p><a name="option_ndbd_initial-start"></a>
            <a class="indexterm" name="idm139979028296176"></a> <a class="indexterm" name="idm139979028294688"></a> <code class="option">--initial-start</code>
          </p><div class="informaltable"><table summary="Options for initial-start" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--initial-start</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table></div><p>
            このオプションは、クラスタを部分的に初期起動するときに使用します。各ノードは、このオプションおよび <code class="option">--nowait-nodes</code> を指定して起動してください。
          </p><p>
            データノードの ID が 2、3、4、および 5 である 4 ノードクラスタがあり、ノード 2、4、および 5 のみを使用して (つまり、ノード 3 を除外して) 部分的に初期起動を実行するとします。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndbd --ndb-nodeid=2 --nowait-nodes=3 --initial-start</code></strong>
shell&gt; <strong class="userinput"><code>ndbd --ndb-nodeid=4 --nowait-nodes=3 --initial-start</code></strong>
shell&gt; <strong class="userinput"><code>ndbd --ndb-nodeid=5 --nowait-nodes=3 --initial-start</code></strong>
</pre><p>
            このオプションを使用する場合は、<code class="option">--ndb-nodeid</code> オプションを指定して起動するデータノードのノード ID も指定する必要があります。
          </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
              複数の管理サーバーで構成されたクラスタをすべての管理サーバーがオンラインでなくても起動できるようにするために使用できる <span class="command"><strong>ndb_mgmd</strong></span> の <code class="option">--nowait-nodes</code> オプションとこのオプションを混同しないでください。
            </p></div></li><li class="listitem"><p><a name="option_ndbd_nowait-nodes"></a>
            <a class="indexterm" name="idm139979028270464"></a> <a class="indexterm" name="idm139979028268992"></a> <code class="option">--nowait-nodes=<em class="replaceable"><code>node_id_1</code></em>[, <em class="replaceable"><code>node_id_2</code></em>[, ...]]</code>
          </p><div class="informaltable"><table summary="Options for nowait-nodes" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--nowait-nodes=list</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">文字列</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table></div><p>
            このオプションには、クラスタが起動前に待機しないデータノードのリストを指定します。
          </p><p>
            これは、パーティション化された状態のクラスタを起動するために使用できます。たとえば、4 ノードクラスタで実行されているデータノード (ノード 2、3、4、および 5) の半分のデータノードのみでクラスタを起動するには、<code class="option">--nowait-nodes=3,5</code> を指定して各 <span class="command"><strong>ndbd</strong></span> プロセスを開始します。この場合、クラスタはノード 2 およびノード 4 が接続するとすぐに起動し、ノード 3 およびノード 5 が接続するのを (接続していない場合) <code class="literal">StartPartitionedTimeout</code> ミリ秒間待機<span class="emphasis"><em>しません</em></span>。
          </p><p>
            前の例と同じクラスタを 1 つの <span class="command"><strong>ndbd</strong></span> を除外して起動する場合 (たとえば、ノード 3 のホストマシンでハードウェアの障害が発生している場合) は、<code class="option">--nowait-nodes=3</code> を指定してノード 2、4、および 5 を 起動します。クラスタはノード 2、4、および 5 が接続するとすぐに起動し、ノード 3 が起動されるのを待機しません。
          </p></li><li class="listitem"><p><a name="option_ndbd_nostart"></a>
            <a class="indexterm" name="idm139979028246560"></a> <a class="indexterm" name="idm139979028245072"></a> <a class="indexterm" name="idm139979028243696"></a> <a class="indexterm" name="idm139979028242288"></a> <code class="option">--nostart</code>、<code class="option">-n</code>
          </p><div class="informaltable"><table summary="Options for nostart" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--nostart</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table></div><p>
            <span class="command"><strong>ndbd</strong></span> に自動的に起動しないように指示します。このオプションを使用すると、<span class="command"><strong>ndbd</strong></span> は管理サーバーに接続してそこから構成データを取得し、通信オブジェクトを初期化します。ただし、管理サーバーによってそうするように明示的に要求されるまで、実行エンジンを実際に起動しません。これは、管理クライアントで適切な <code class="literal">START</code> コマンドを発行することによって実現されます (<a class="xref" href="mysql-cluster.html#mysql-cluster-mgm-client-commands" title="18.5.2 MySQL Cluster 管理クライアントのコマンド">セクション18.5.2「MySQL Cluster 管理クライアントのコマンド」</a>を参照してください)。
          </p></li><li class="listitem"><p><a name="option_ndbd_install"></a>
            <a class="indexterm" name="idm139979028223216"></a> <a class="indexterm" name="idm139979028221776"></a> <code class="option">--install[=<em class="replaceable"><code>name</code></em>]</code>
          </p><div class="informaltable"><table summary="Options for install" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--install[=name]</code></td></tr><tr><td scope="row"><span class="bold"><strong>プラットフォーム固有</strong></span></td><td colspan="3">Windows</td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">文字列</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">ndbd</code></td></tr></tbody></table></div><p>
            <span class="command"><strong>ndbd</strong></span> が Windows サービスとしてインストールされます。必要に応じて、サービス名を指定できます。設定しない場合、サービス名は <code class="literal">ndbd</code> にデフォルト設定されます。ほかの <span class="command"><strong>ndbd</strong></span> プログラムオプションは <code class="filename">my.ini</code> または <code class="filename">my.cnf</code> 構成ファイルに指定することが推奨されますが、<code class="option">--install</code> と一緒に使用できます。ただし、そのような場合、Windows サービスのインストールが成功するには、<code class="option">--install</code> オプションを最初に指定してから、ほかのオプションを指定する必要があります。
          </p><p>
            一般的に、このオプションを <code class="option">--initial</code> オプションと一緒に使用することはお勧めしません。それにより、サービスが停止および開始されるたびにデータノードファイルシステムが消去および再作成されるためです。データノードの起動に影響するほかの <span class="command"><strong>ndbd</strong></span> オプション (<code class="option">--initial-start</code>、<code class="option">--nostart</code>、および <code class="option">--nowait-nodes</code> を含む) を <code class="option">--install</code> と一緒に使用する場合は、それを行うことを十分に理解し、起こり得る結果に対して十分に準備していることをしっかりと確認してください。
          </p><p>
            <code class="option">--install</code> オプションは、Windows 以外のプラットフォームでは効果がありません。
          </p></li><li class="listitem"><p><a name="option_ndbd_remove"></a>
            <a class="indexterm" name="idm139979028192032"></a> <a class="indexterm" name="idm139979028190544"></a> <code class="option">--remove[=<em class="replaceable"><code>name</code></em>]</code>
          </p><div class="informaltable"><table summary="Options for remove" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--remove[=name]</code></td></tr><tr><td scope="row"><span class="bold"><strong>プラットフォーム固有</strong></span></td><td colspan="3">Windows</td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">文字列</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">ndbd</code></td></tr></tbody></table></div><p>
            以前に Windows サービスとしてインストールされた <span class="command"><strong>ndbd</strong></span> プロセスを削除します。必要に応じて、アンインストールするサービスの名前を指定できます。設定しない場合、サービス名は <code class="literal">ndbd</code> にデフォルト設定されます。
          </p><p>
            <code class="option">--remove</code> オプションは、Windows 以外のプラットフォームでは効果がありません。
          </p></li><li class="listitem"><p><a name="option_ndbd_connect-retries"></a>
            <a class="indexterm" name="idm139979028169744"></a> <a class="indexterm" name="idm139979028168256"></a> <code class="option">--connect-retries=<em class="replaceable"><code>#</code></em></code>
          </p><div class="informaltable"><table summary="Options for connect-retries" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--connect-retries=#</code></td></tr><tr><td scope="row" rowspan="4"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">数値</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">12</code></td></tr><tr><td scope="row"><span class="bold"><strong>最小値</strong></span></td><td colspan="2"><code class="literal">-1</code></td></tr><tr><td scope="row"><span class="bold"><strong>最大値</strong></span></td><td colspan="2"><code class="literal">65535</code></td></tr></tbody></table></div><p>
            データノードが起動時に管理サーバーに接続を試みる回数を指定します。このオプションに -1 を設定すると、データノードが無限に接続を試みます。デフォルトは 12 回の試行です。各試行の間に待機する時間は、<code class="option">--connect-delay</code> オプションによって制御されます。
          </p></li><li class="listitem"><p><a name="option_ndbd_connect-delay"></a>
            <a class="indexterm" name="idm139979028147168"></a> <a class="indexterm" name="idm139979028145680"></a> <code class="option">--connect-delay=<em class="replaceable"><code>#</code></em></code>
          </p><div class="informaltable"><table summary="Options for connect-delay" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--connect-delay=#</code></td></tr><tr><td scope="row" rowspan="4"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">数値</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">5</code></td></tr><tr><td scope="row"><span class="bold"><strong>最小値</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr><tr><td scope="row"><span class="bold"><strong>最大値</strong></span></td><td colspan="2"><code class="literal">3600</code></td></tr></tbody></table></div><p>
            起動時に管理サーバーへの各接続試行の間に待機する時間を決定します (試行の間の時間は <code class="option">--connect-retries</code> オプションによって制御されます)。デフォルトは 5 回の試行です。
          </p><p>
            このオプションは MySQL Cluster NDB 7.2.9 で追加されました。
          </p></li></ul></div><a class="indexterm" name="idm139979028125136"></a><a class="indexterm" name="idm139979028122992"></a><p>
        <span class="command"><strong>ndbd</strong></span> は、<code class="filename">config.ini</code> 構成ファイルの <code class="literal">DataDir</code> で指定されているディレクトリに配置される一連のログファイルを生成します。
      </p><p>
        これらのログファイルを次に一覧します。<em class="replaceable"><code>node_id</code></em> はノードの一意識別子です。<em class="replaceable"><code>node_id</code></em> はノードの一意識別子を表します。たとえば、<code class="filename">ndb_2_error.log</code> はノード ID が <code class="literal">2</code> のデータノードによって生成されたエラーログです。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <a class="indexterm" name="idm139979028114704"></a> <a class="indexterm" name="idm139979028112560"></a> <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_error.log</code> は、参照されている <span class="command"><strong>ndbd</strong></span> プロセスで発生したすべてのクラッシュの記録が含まれているファイルです。このファイルの各レコードには、簡単なエラー文字列、およびこのクラッシュのトレースファイルへの参照が含まれています。このファイルの一般的なエントリを次に示します。
          </p><pre class="programlisting">
Date/Time: Saturday 30 July 2004 - 00:20:01
Type of error: error
Message: Internal program error (failed ndbrequire)
Fault ID: 2341
Problem data: DbtupFixAlloc.cpp
Object of reference: DBTUP (Line: 173)
ProgramName: NDB Kernel
ProcessID: 14909
TraceFile: ndb_2_trace.log.2
***EOM***
</pre><p>
            データノードプロセスが予期せずに停止されたときに生成される可能性がある <span class="command"><strong>ndbd</strong></span> の終了コードおよびメッセージのリストは、<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndbd-error-messages.html" target="_top"><code class="literal">ndbd</code> Error Messages</a>にあります。
          </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
              <span class="emphasis"><em>このエラーログファイルの最後のエントリが最新のエントリであるとはかぎりません</em></span> (その可能性もあまりありません)。このエラーログのエントリは、時系列順で一覧<span class="emphasis"><em>されず</em></span>、<code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_trace.log.next</code> ファイル (次を参照してください) で決定されるトレースファイルの順序に対応しています。エラーログのエントリは、このように循環的に上書きされ、順次的ではありません。
            </p></div></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979028100592"></a> <a class="indexterm" name="idm139979028098416"></a> <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_trace.log.<em class="replaceable"><code>trace_id</code></em></code> は、エラーが発生する直前に発生した事象を示すトレースファイルです。この情報は MySQL Cluster 開発チームが分析する場合に役に立ちます。
          </p><p>
            古いファイルが上書きされる前に作成されるこれらのトレースファイルの数は構成できます。<em class="replaceable"><code>trace_id</code></em> は連続する各トレースファイルで増分される数です。
          </p></li><li class="listitem"><p>
            <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_trace.log.next</code> は、割り当てられる次のトレースファイル番号を追跡するファイルです。
          </p></li><li class="listitem"><p>
            <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_out.log</code> は、<span class="command"><strong>ndbd</strong></span> プロセスによるデータ出力が含まれているファイルです。このファイルは、<span class="command"><strong>ndbd</strong></span> がデーモンとして開始された (デフォルトの動作) 場合にのみ作成されます。
          </p></li><li class="listitem"><p>
            <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>.pid</code> には、<span class="command"><strong>ndbd</strong></span> プロセスがデーモンとして開始された場合のプロセス ID が含まれています。これは、同じ識別子でノードが起動されるのを防ぐためのロックファイルとしても機能します。
          </p></li><li class="listitem"><p>
            <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_signal.log</code> は、<span class="command"><strong>ndbd</strong></span> のデバッグバージョンでのみ使用されるファイルであり、<span class="command"><strong>ndbd</strong></span> プロセスのそれらのデータのすべての受信、送信、および内部メッセージをトレースできます。
          </p></li></ul></div><p>
        NFS を使用してマウントしたディレクトリは使用しないことをお勧めします。一部の環境では、プロセスが終了しても <code class="filename">.pid</code> ファイルに対するロックが有効なままとなる問題が発生することがあるためです。
      </p><p>
        <span class="command"><strong>ndbd</strong></span> を開始する場合、管理サーバーのホスト名およびそれが待機するポートも指定する必要があることがあります。必要に応じて、プロセスが使用するノード ID を指定することもできます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndbd --connect-string="nodeid=2;host=ndb_mgmd.mysql.com:1186"</code></strong>
</pre><p>
        これについての詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-connection-strings" title="18.3.2.3 MySQL Cluster の接続文字列">セクション18.3.2.3「MySQL Cluster の接続文字列」</a>を参照してください。<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="18.4.27 MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション">セクション18.4.27「MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション」</a>では、<span class="command"><strong>ndbd</strong></span> で使用できるその他のコマンド行オプションについて説明しています。データノード構成パラメータについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndbd-definition" title="18.3.2.6 MySQL Cluster データノードの定義">セクション18.3.2.6「MySQL Cluster データノードの定義」</a>を参照してください。
      </p><p>
        <span class="command"><strong>ndbd</strong></span> が開始されると、実際には 2 つのプロセスが開始されます。最初のプロセスは<span class="quote">「<span class="quote">エンジェルプロセス</span>」</span>と呼ばれ、その唯一の役割は実行プロセスが完了したときにそれを検出し、<span class="command"><strong>ndbd</strong></span> プロセスを再起動することです (そのように構成されている場合)。このため、UNIX の <span class="command"><strong>kill</strong></span> コマンドを使用して <span class="command"><strong>ndbd</strong></span> を強制終了しようとする場合は、両方のプロセスを強制終了する必要があります (エンジェルプロセスが最初)。<span class="command"><strong>ndbd</strong></span> プロセスを終了させるための推奨される方法は、管理クライアントを使用してそこからプロセスを停止することです。
      </p><p>
        実行プロセスは、データの読み取り、書き込み、スキャン、およびほかのすべてのアクティビティーに 1 つのスレッドを使用します。数千の同時アクションを容易に処理できるように、このスレッドは非同期に実装されます。また、監視スレッドは実行スレッドが無限ループでハングアップしないように管理します。スレッドのプールによってファイル I/O が処理され、各スレッドは 1 つのオープンファイルを処理できます。スレッドは <span class="command"><strong>ndbd</strong></span> プロセスのトランスポーターによるトランスポーター接続に使用することもできます。多数の操作 (更新を含む) を実行するマルチプロセッサーシステムの場合、<span class="command"><strong>ndbd</strong></span> プロセスは最大 2 つの CPU を使用できます (許可されている場合)。
      </p><p>
        多数の CPU を持つマシンの場合は、異なるノードグループに属する複数の <span class="command"><strong>ndbd</strong></span> プロセスを使用できます。ただし、そのような構成はまだ実験的と見なされ、MySQL 5.6 の本番設定ではサポートされません。<a class="xref" href="mysql-cluster.html#mysql-cluster-limitations" title="18.1.6 MySQL Cluster の既知の制限">セクション18.1.6「MySQL Cluster の既知の制限」</a>を参照してください。
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-programs-ndbinfo-select-all"></a>18.4.2 <span class="command"><strong>ndbinfo_select_all</strong></span> — ndbinfo テーブルからの選択</h3></div></div></div><a class="indexterm" name="idm139979028059520"></a><a class="indexterm" name="idm139979028058304"></a><p>
        <span class="command"><strong>ndbinfo_select_all</strong></span> は、<code class="literal">ndbinfo</code> データベースの 1 つ以上のテーブルからすべての行およびカラムを選択するクライアントプログラムです。これは、MySQL Cluster NDB 7.2.2 から MySQL Cluster 配布に含められました。
      </p><p>
        このプログラムはすべての <code class="literal">ndbinfo</code> テーブルにアクセスできるわけではありません。<code class="literal">ndbinfo_select_all</code> は、<code class="literal">counters</code>、<code class="literal">diskpagebuffer</code>、<code class="literal">logbuffers</code>、<code class="literal">logspaces</code>、<code class="literal">nodes</code>、<code class="literal">resources</code>、<code class="literal">threadblocks</code>、<code class="literal">threadstat</code>、および <code class="literal">transporters</code> テーブルにアクセスできます。
      </p><p>
        <span class="command"><strong>ndbinfo_select_all</strong></span> を使用して 1 つ以上の <code class="literal">ndbinfo</code> テーブルから選択するには、プログラムを呼び出すときに次のようにテーブル名を指定する必要があります。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndbinfo_select_all <em class="replaceable"><code>table_name1</code></em>  [<em class="replaceable"><code>table_name2</code></em>] [...]</code></strong>
</pre><p>
        例:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndbinfo_select_all logbuffers logspaces</code></strong>
== logbuffers ==
node_id log_type        log_id  log_part        total   used    high
5       0       0       0       33554432        262144  0
6       0       0       0       33554432        262144  0
7       0       0       0       33554432        262144  0
8       0       0       0       33554432        262144  0
== logspaces ==
node_id log_type        log_id  log_part        total   used    high
5       0       0       0       268435456       0       0
5       0       0       1       268435456       0       0
5       0       0       2       268435456       0       0
5       0       0       3       268435456       0       0
6       0       0       0       268435456       0       0
6       0       0       1       268435456       0       0
6       0       0       2       268435456       0       0
6       0       0       3       268435456       0       0
7       0       0       0       268435456       0       0
7       0       0       1       268435456       0       0
7       0       0       2       268435456       0       0
7       0       0       3       268435456       0       0
8       0       0       0       268435456       0       0
8       0       0       1       268435456       0       0
8       0       0       2       268435456       0       0
8       0       0       3       268435456       0       0
shell&gt;                       
</pre><a class="indexterm" name="idm139979028033680"></a><p>
        次の表には、<span class="command"><strong>ndbinfo_select_all</strong></span> に固有のオプションが含まれています。追加説明が表のあとにあります。ほとんどの MySQL Cluster プログラム (<span class="command"><strong>ndbinfo_select_all</strong></span> を含む) に共通するオプションについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="18.4.27 MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション">セクション18.4.27「MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション」</a>を参照してください。
      </p><div class="table"><a name="mysql-cluster-ndbinfo_select_all-options-table"></a><p class="title"><b>表 18.78 
            この表は、ndbinfo_select_all プログラムのコマンド行オプションについて説明しています</b></p><div class="table-contents"><table id="mysql-cluster-ndbinfo_select_all-options-table" summary="ndbinfo_select_all Options and Variables: MySQL Cluster NDB 7.3"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="ndbinfo_select_allformat">形式</th>
        <th id="ndbinfo_select_alldescription">説明</th>
        <th id="ndbinfo_select_alladdedremoved">追加または削除</th>
      </tr></thead><tbody><tr>
        <td id="rowndbinfo_select_alldelay" headers="ndbinfo_select_allformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndbinfo_select_all_delay">--delay=#</a> </code>
          </p>
        </td>
        <td headers="rowndbinfo_select_alldelay ndbinfo_select_alldescription">
      ループ間の遅延 (秒単位) を設定します。デフォルトは 5 です。
    </td>
        <td headers="rowndbinfo_select_alldelay ndbinfo_select_alladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndbinfo_select_allloops" headers="ndbinfo_select_allformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndbinfo_select_all_loops">--loops=#</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndbinfo_select_all_loops">-l</a> </code>
          </p>
        </td>
        <td headers="rowndbinfo_select_allloops ndbinfo_select_alldescription">
      選択を実行する回数を設定します。デフォルトは 1 です。
    </td>
        <td headers="rowndbinfo_select_allloops ndbinfo_select_alladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndbinfo_select_alldatabase" headers="ndbinfo_select_allformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_select_all_database">--database=db_name</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_select_all_database">-d</a> </code>
          </p>
        </td>
        <td headers="rowndbinfo_select_alldatabase ndbinfo_select_alldescription">
      テーブルが存在するデータベースの名前。
    </td>
        <td headers="rowndbinfo_select_alldatabase ndbinfo_select_alladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndbinfo_select_allparallelism" headers="ndbinfo_select_allformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_select_all_parallelism">--parallelism=#</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_select_all_parallelism">-p</a> </code>
          </p>
        </td>
        <td headers="rowndbinfo_select_allparallelism ndbinfo_select_alldescription">
      並列性の度合いを設定します。
    </td>
        <td headers="rowndbinfo_select_allparallelism ndbinfo_select_alladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndbinfo_select_all_delay"></a>
            <a class="indexterm" name="idm139979027980192"></a> <code class="option">--delay=<code class="literal">seconds</code></code>
          </p><div class="informaltable"><table summary="Options for delay" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--delay=#</code></td></tr><tr><td scope="row" rowspan="4"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">数値</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">5</code></td></tr><tr><td scope="row"><span class="bold"><strong>最小値</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr><tr><td scope="row"><span class="bold"><strong>最大値</strong></span></td><td colspan="2"><code class="literal">MAX_INT</code></td></tr></tbody></table></div><p>
            このオプションは、ループの各実行の間に待機する秒数を設定します。<code class="option">--loops</code> に 0 または 1 が設定されている場合は効果がありません。
          </p></li><li class="listitem"><p><a name="option_ndbinfo_select_all_loops"></a>
            <a class="indexterm" name="idm139979027959072"></a> <a class="indexterm" name="idm139979027957520"></a> <code class="option">--loops=<code class="literal">number</code></code>、<code class="option">-l <em class="replaceable"><code>number</code></em></code>
          </p><div class="informaltable"><table summary="Options for loops" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--loops=#</code></td></tr><tr><td scope="row" rowspan="4"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">数値</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">1</code></td></tr><tr><td scope="row"><span class="bold"><strong>最小値</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr><tr><td scope="row"><span class="bold"><strong>最大値</strong></span></td><td colspan="2"><code class="literal">MAX_INT</code></td></tr></tbody></table></div><p>
            このオプションは選択を実行する回数を設定します。各ループの時間間隔を設定するには、<code class="option">--delay</code> を使用します。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-programs-ndbmtd"></a>18.4.3 <span class="command"><strong>ndbmtd</strong></span> — MySQL Cluster データノードデーモン (マルチスレッド)</h3></div></div></div><a class="indexterm" name="idm139979027934896"></a><a class="indexterm" name="idm139979027933680"></a><a class="indexterm" name="idm139979027931776"></a><a class="indexterm" name="idm139979027929760"></a><a class="indexterm" name="idm139979027928560"></a><p>
        <span class="command"><strong>ndbmtd</strong></span> は <span class="command"><strong>ndbd</strong></span> のマルチスレッドバージョンであり、<code class="literal">NDBCLUSTER</code> ストレージエンジンを使用してテーブル内のすべてのデータを処理するために使用するプロセスです。<span class="command"><strong>ndbmtd</strong></span> は複数の CPU コアを持つホストコンピュータで使用することが意図されています。特に記載されていない場合、<span class="command"><strong>ndbmtd</strong></span> は <span class="command"><strong>ndbd</strong></span> と同様に機能します。このため、このセクションでは、<span class="command"><strong>ndbmtd</strong></span> が <span class="command"><strong>ndbd</strong></span> と異なる点に重点を置き、シングルスレッドバージョンとマルチスレッドバージョンの両方のデータノードプロセスに該当する MySQL Cluster のデータノードの実行の詳細については、<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="18.4.1 ndbd — MySQL Cluster データノードデーモン">セクション18.4.1「<span class="command"><strong>ndbd</strong></span> — MySQL Cluster データノードデーモン」</a>を参照してください。
      </p><p>
        <span class="command"><strong>ndbd</strong></span> で使用されるコマンド行オプションおよび構成パラメータは、<span class="command"><strong>ndbmtd</strong></span> にも当てはまります。これらのオプションおよびパラメータについては、それぞれ<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="18.4.1 ndbd — MySQL Cluster データノードデーモン">セクション18.4.1「<span class="command"><strong>ndbd</strong></span> — MySQL Cluster データノードデーモン」</a>および<a class="xref" href="mysql-cluster.html#mysql-cluster-ndbd-definition" title="18.3.2.6 MySQL Cluster データノードの定義">セクション18.3.2.6「MySQL Cluster データノードの定義」</a>を参照してください。
      </p><p>
        また、<span class="command"><strong>ndbmtd</strong></span> は <span class="command"><strong>ndbd</strong></span> とファイルシステム互換です。言い換えると、<span class="command"><strong>ndbd</strong></span> を実行しているデータノードを停止し、バイナリを <span class="command"><strong>ndbmtd</strong></span> に置き換えて、データ損失なしに再起動できます(ただし、これを行うときに、<span class="command"><strong>ndbmtd</strong></span> をマルチスレッドで実行する場合は、ノードを再起動する前に、<code class="literal">MaxNoOfExecutionThreads</code> に適切な値が設定されていることを確認する必要があります)。同様に、ノードを停止して、マルチスレッドバイナリの代わりに <span class="command"><strong>ndbd</strong></span> を開始することによって、<span class="command"><strong>ndbmtd</strong></span> バイナリを <span class="command"><strong>ndbd</strong></span> に置き換えることができます。これらの 2 つを切り替えるときに、<code class="option">--initial</code> を使用してデータノードバイナリを開始する必要はありません。
      </p><p>
        <span class="command"><strong>ndbmtd</strong></span> を使用した場合は、<span class="command"><strong>ndbd</strong></span> を使用した場合と 2 つの重要な点で異なります。
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            <span class="command"><strong>ndbmtd</strong></span> はデフォルトではシングルスレッドモードで実行されるため (つまり、<span class="command"><strong>ndbd</strong></span> のように動作します)、マルチスレッドを使用するように構成する必要があります。これを行うには、<code class="filename">config.ini</code> ファイルの <code class="literal">MaxNoOfExecutionThreads</code> 構成パラメータまたは <code class="literal">ThreadConfig</code> 構成パラメータに適切な値を設定します。<code class="literal">MaxNoOfExecutionThreads</code> は簡単に使用できますが、<code class="literal">ThreadConfig</code> にはより柔軟性があります。これらの構成パラメータおよびその使用方法については、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndbd-definition-ndbmtd-parameters" title="マルチスレッドの構成パラメータ (ndbmtd)">マルチスレッドの構成パラメータ (ndbmtd)</a>を参照してください。
          </p></li><li class="listitem"><p>
            トレースファイルは <span class="command"><strong>ndbmtd</strong></span> プロセスで重大なエラーが発生したときに生成されますが、<span class="command"><strong>ndbd</strong></span> で障害が発生したときにこれらが生成される仕組みとは若干異なります。これらの相違については、次のいくつかの段落で説明します。
          </p></li></ol></div><a class="indexterm" name="idm139979027891888"></a><a class="indexterm" name="idm139979027889712"></a><a class="indexterm" name="idm139979027887760"></a><a class="indexterm" name="idm139979027885616"></a><a class="indexterm" name="idm139979027883664"></a><p>
        <span class="command"><strong>ndbd</strong></span> と同様に、<span class="command"><strong>ndbmtd</strong></span> は <code class="filename">config.ini</code> 構成ファイルの <code class="literal">DataDir</code> で指定されたディレクトリに配置される一連のログファイルを生成します。トレースファイルを除き、これらは <span class="command"><strong>ndbd</strong></span> で生成されるものと同様に生成され、同じ名前が付けられます。
      </p><p>
        重大なエラーが発生した場合、<span class="command"><strong>ndbmtd</strong></span> はエラーが発生する直前に発生した事象を示すトレースファイルを生成します。データノードの <code class="literal">DataDir</code> にあるこれらのファイルは、MySQL Cluster の開発チームおよびサポートチームが問題を分析するために役に立ちます。各 <span class="command"><strong>ndbmtd</strong></span> スレッドに対して 1 つのトレースファイルが生成されます。これらのファイルの名前には次のパターンがあります。
      </p><pre class="programlisting">          
<code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_trace.log.<em class="replaceable"><code>trace_id</code></em>_t<em class="replaceable"><code>thread_id</code></em></code>,
</pre><p>
        このパターンで、<em class="replaceable"><code>node_id</code></em> はクラスタ内のデータノード一意のノード ID を表し、<em class="replaceable"><code>trace_id</code></em> はトレースシーケンス番号であり、<em class="replaceable"><code>thread_id</code></em> はスレッド ID です。たとえば、ノード ID が 3 であり、<code class="literal">MaxNoOfExecutionThreads</code> が 4 である MySQL Cluster データノードとして実行されている <span class="command"><strong>ndbmtd</strong></span> プロセスで障害が発生した場合は、4 つのトレースファイルがデータノードのデータディレクトリに生成されます。このノードで障害が発生したのがはじめてであった場合、これらのファイルには <code class="filename">ndb_3_trace.log.1_t1</code>、<code class="filename">ndb_3_trace.log.1_t2</code>、<code class="filename">ndb_3_trace.log.1_t3</code>、および <code class="filename">ndb_3_trace.log.1_t4</code> と名前が付けられます。内部的には、これらのトレースファイルは <span class="command"><strong>ndbd</strong></span> トレースファイルと同じ形式です。
      </p><p>
        データノードプロセスが予期せずに停止されたときに生成される <span class="command"><strong>ndbd</strong></span> の終了コードおよびメッセージは、<span class="command"><strong>ndbmtd</strong></span> でも使用されます。これらのリストについては、<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndbd-error-messages.html" target="_top"><code class="literal">ndbd</code> Error Messages</a>を参照してください。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          同じ MySQL Cluster の異なるデータノードで <span class="command"><strong>ndbd</strong></span> および <span class="command"><strong>ndbmtd</strong></span> を同時に使用できます。ただし、そのような構成は十分にテストされていないため、現時点で本番設定でこれを行うことはお勧めできません。
        </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-programs-ndb-mgmd"></a>18.4.4 <span class="command"><strong>ndb_mgmd</strong></span> — MySQL Cluster 管理サーバーデーモン</h3></div></div></div><a class="indexterm" name="idm139979027853952"></a><a class="indexterm" name="idm139979027852592"></a><a class="indexterm" name="idm139979027850656"></a><a class="indexterm" name="idm139979027848752"></a><a class="indexterm" name="idm139979027847088"></a><p>
        管理サーバーは、クラスタ構成ファイルを読み取り、この情報を要求したクラスタ内のすべてのノードにそれを配布するプロセスです。また、これはクラスタのアクティビティーに関するログを管理します。管理クライアントは、管理サーバーに接続してクラスタのステータスをチェックできます。
      </p><a class="indexterm" name="idm139979027844416"></a><a class="indexterm" name="idm139979027842272"></a><a class="indexterm" name="idm139979027840240"></a><a class="indexterm" name="idm139979027838256"></a><p>
        次の表には、MySQL Cluster 管理サーバープログラム <span class="command"><strong>ndb_mgmd</strong></span> に固有のオプションが含まれています。追加説明が表のあとにあります。ほとんどの MySQL Cluster プログラム (<span class="command"><strong>ndb_mgmd</strong></span> を含む) に共通するオプションについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="18.4.27 MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション">セクション18.4.27「MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション」</a>を参照してください。
      </p><div class="table"><a name="mysql-cluster-ndb_mgmd-options-table"></a><p class="title"><b>表 18.79 
            この表は、ndb_mgmd プログラムのコマンド行オプションについて説明しています</b></p><div class="table-contents"><table id="mysql-cluster-ndb_mgmd-options-table" summary="ndb_mgmd Options and Variables: MySQL Cluster NDB 7.3"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="ndb_mgmdformat">形式</th>
        <th id="ndb_mgmddescription">説明</th>
        <th id="ndb_mgmdaddedremoved">追加または削除</th>
      </tr></thead><tbody><tr>
        <td id="rowndb_mgmdconfig-file" headers="ndb_mgmdformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_mgmd_config-file">--config-file=file</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_mgmd_config-file">-f</a> </code>
          </p>
        </td>
        <td headers="rowndb_mgmdconfig-file ndb_mgmddescription">
      クラスタ構成ファイルを指定します。NDB 6.4.0 以降では、構成キャッシュをオーバーライドする (ある場合) には --reload または --initial が必要となります
    </td>
        <td headers="rowndb_mgmdconfig-file ndb_mgmdaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_mgmdconfigdir" headers="ndb_mgmdformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_mgmd_configdir">--configdir=directory</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_mgmd_configdir">--config-dir=directory</a> </code>
          </p>
        </td>
        <td headers="rowndb_mgmdconfigdir ndb_mgmddescription">
      クラスタ管理サーバーの構成キャッシュディレクトリを指定します
    </td>
        <td headers="rowndb_mgmdconfigdir ndb_mgmdaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_mgmdbind-address" headers="ndb_mgmdformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_mgmd_bind-address">--bind-address=ip_address</a> </code>
          </p>
        </td>
        <td headers="rowndb_mgmdbind-address ndb_mgmddescription">
      ローカルバインドアドレス
    </td>
        <td headers="rowndb_mgmdbind-address ndb_mgmdaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_mgmdprint-full-config" headers="ndb_mgmdformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_mgmd_print-full-config">--print-full-config</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_mgmd_print-full-config">-P</a> </code>
          </p>
        </td>
        <td headers="rowndb_mgmdprint-full-config ndb_mgmddescription">
      すべての構成を出力して終了します
    </td>
        <td headers="rowndb_mgmdprint-full-config ndb_mgmdaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_mgmddaemon" headers="ndb_mgmdformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_mgmd_daemon">--daemon</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_mgmd_daemon">-d</a> </code>
          </p>
        </td>
        <td headers="rowndb_mgmddaemon ndb_mgmddescription">
      ndb_mgmd をデーモンモードで実行します (デフォルト)
    </td>
        <td headers="rowndb_mgmddaemon ndb_mgmdaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_mgmdnodaemon" headers="ndb_mgmdformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_mgmd_nodaemon">--nodaemon</a> </code>
          </p>
        </td>
        <td headers="rowndb_mgmdnodaemon ndb_mgmddescription">
      ndb_mgmd をデーモンとして実行しません
    </td>
        <td headers="rowndb_mgmdnodaemon ndb_mgmdaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_mgmdinteractive" headers="ndb_mgmdformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_mgmd_interactive">--interactive</a> </code>
          </p>
        </td>
        <td headers="rowndb_mgmdinteractive ndb_mgmddescription">
      ndb_mgmd をインタラクティブモードで実行します (本番では正式にサポートされていません。テストのためのみです)
    </td>
        <td headers="rowndb_mgmdinteractive ndb_mgmdaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_mgmdlog-name" headers="ndb_mgmdformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_mgmd_log-name">--log-name=name</a> </code>
          </p>
        </td>
        <td headers="rowndb_mgmdlog-name ndb_mgmddescription">
      このノードに適用されるメッセージをクラスタログに書き込むときに使用される名前。
    </td>
        <td headers="rowndb_mgmdlog-name ndb_mgmdaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_mgmdno-nodeid-checks" headers="ndb_mgmdformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_mgmd_no-nodeid-checks">--no-nodeid-checks</a> </code>
          </p>
        </td>
        <td headers="rowndb_mgmdno-nodeid-checks ndb_mgmddescription">
      ノード ID チェックを提供しません
    </td>
        <td headers="rowndb_mgmdno-nodeid-checks ndb_mgmdaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_mgmdmycnf" headers="ndb_mgmdformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_mgmd_mycnf">--mycnf</a> </code>
          </p>
        </td>
        <td headers="rowndb_mgmdmycnf ndb_mgmddescription">
      my.cnf ファイルからクラスタ構成データを読み取ります
    </td>
        <td headers="rowndb_mgmdmycnf ndb_mgmdaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_mgmdreload" headers="ndb_mgmdformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_mgmd_reload">--reload</a> </code>
          </p>
        </td>
        <td headers="rowndb_mgmdreload ndb_mgmddescription">
      管理サーバーが構成ファイルを構成キャッシュと比較します
    </td>
        <td headers="rowndb_mgmdreload ndb_mgmdaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_mgmdinitial" headers="ndb_mgmdformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_mgmd_initial">--initial</a> </code>
          </p>
        </td>
        <td headers="rowndb_mgmdinitial ndb_mgmddescription">
      管理サーバーが構成キャッシュをバイパスして、構成データを構成ファイルからリロードします
    </td>
        <td headers="rowndb_mgmdinitial ndb_mgmdaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_mgmdnowait-nodes" headers="ndb_mgmdformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_mgmd_nowait-nodes">--nowait-nodes=list</a> </code>
          </p>
        </td>
        <td headers="rowndb_mgmdnowait-nodes ndb_mgmddescription">
      この管理サーバーを起動するときに、これらの管理ノードを待機しません。--ndb-nodeid も使用する必要があります。
    </td>
        <td headers="rowndb_mgmdnowait-nodes ndb_mgmdaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_mgmdconfig-cache" headers="ndb_mgmdformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_mgmd_config-cache">--config-cache[=TRUE|FALSE]</a> </code>
          </p>
        </td>
        <td headers="rowndb_mgmdconfig-cache ndb_mgmddescription">
      管理サーバー構成キャッシュを有効にします。デフォルトは TRUE です。
    </td>
        <td headers="rowndb_mgmdconfig-cache ndb_mgmdaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_mgmdinstall" headers="ndb_mgmdformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_mgmd_install">--install[=name]</a> </code>
          </p>
        </td>
        <td headers="rowndb_mgmdinstall ndb_mgmddescription">
      管理サーバープロセスを Windows サービスとしてインストールするために使用します。Windows 以外のプラットフォームには該当しません。
    </td>
        <td headers="rowndb_mgmdinstall ndb_mgmdaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_mgmdremove" headers="ndb_mgmdformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_mgmd_remove">--remove[=name]</a> </code>
          </p>
        </td>
        <td headers="rowndb_mgmdremove ndb_mgmddescription">
      以前 Windows サービスとしてインストールされた管理サーバープロセスを削除するために使用します。必要に応じて、削除するサービスの名前を指定します。Windows 以外のプラットフォームには該当しません。
    </td>
        <td headers="rowndb_mgmdremove ndb_mgmdaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndb_mgmd_bind-address"></a>
            <a class="indexterm" name="idm139979027686160"></a> <code class="option">--bind-address=<em class="replaceable"><code>host</code></em>[:<em class="replaceable"><code>port</code></em>]</code>
          </p><div class="informaltable"><table summary="Options for bind-address" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--bind-address=ip_address</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">文字列</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">[none]</code></td></tr></tbody></table></div><p>
            このオプションを指定すると、管理クライアントによる管理サーバーへの接続が、指定したホスト名または IP アドレス (およびポート (指定された場合)) のクライアントに制限されます。その場合、ほかのアドレスから管理サーバーに接続しようとする管理クライアントは、次のエラーが発生して失敗します。<span class="errortext">Unable to setup port: <em class="replaceable"><code>host</code></em>:<em class="replaceable"><code>port</code></em>!</span>
          </p><p>
            <em class="replaceable"><code>port</code></em> を指定しない場合、管理クライアントはポート 1186 を使用することを試みます。
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_no-nodeid-checks"></a>
            <a class="indexterm" name="idm139979027667344"></a> <code class="option">--no-nodeid-checks</code>
          </p><div class="informaltable"><table summary="Options for no-nodeid-checks" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--no-nodeid-checks</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table></div><p>
            ノード ID のチェックを実行しません。
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_configdir"></a>
            <a class="indexterm" name="idm139979027652128"></a> <code class="option">--configdir=<em class="replaceable"><code>path</code></em></code>
          </p><div class="informaltable"><table summary="Options for configdir" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--configdir=directory</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">--config-dir=directory</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ファイル名</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">$INSTALLDIR/mysql-cluster</code></td></tr></tbody></table></div><p>
            クラスタ管理サーバーの構成キャッシュディレクトリを指定します。<code class="option">--config-dir</code> はこのオプションのエイリアスです。
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_config-cache"></a>
            <a class="indexterm" name="idm139979027634352"></a> <code class="option">--config-cache</code>
          </p><div class="informaltable"><table summary="Options for config-cache" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--config-cache[=TRUE|FALSE]</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">TRUE</code></td></tr></tbody></table></div><p>
            このオプション (デフォルト値は <code class="literal">1</code> (または <code class="literal">TRUE</code>、<code class="literal">ON</code>)) は、管理サーバーが起動するたびに <code class="filename">config.ini</code> から構成が読み取られるように (<a class="xref" href="mysql-cluster.html#mysql-cluster-config-file" title="18.3.2 MySQL Cluster の構成ファイル">セクション18.3.2「MySQL Cluster の構成ファイル」</a>を参照してください) その構成キャッシュを無効にするために使用できます。これを行うには、次のいずれかのオプションを指定して <span class="command"><strong>ndb_mgmd</strong></span> プロセスを開始します。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="option">--config-cache=0</code>
              </p></li><li class="listitem"><p>
                <code class="option">--config-cache=FALSE</code>
              </p></li><li class="listitem"><p>
                <code class="option">--config-cache=OFF</code>
              </p></li><li class="listitem"><p><a name="option_ndb_mgmd_skip_config-cache"></a>
                <code class="option">--skip-config-cache</code>
              </p></li></ul></div><p>
            一覧したいずれかのオプションの使用が有効となるのは、管理サーバーが開始されたときに格納されている構成がない場合のみです。管理サーバーが構成キャッシュファイルを見つけると、<code class="option">--config-cache</code> オプションまたは <code class="option">--skip-config-cache</code> オプションは無視されます。このため、構成キャッシュを無効にするには、管理サーバーを<span class="emphasis"><em>最初に</em></span>起動するときにこのオプションを使用してください。それ以外の場合、つまり、構成キャッシュが<span class="emphasis"><em>すでに</em></span>作成されている管理サーバーの構成キャッシュを無効にする場合は、管理サーバーを停止して、既存の構成キャッシュファイルを手動で削除してから、<code class="option">--skip-config-cache</code> を指定して (または <code class="option">--config-cache</code> に 0、<code class="literal">OFF</code>、または <code class="literal">FALSE</code> を設定して) 管理サーバーを再起動する必要があります。
          </p><p>
            構成キャッシュファイルは通常、インストールディレクトリの下の <code class="filename">mysql-cluster</code> という名前のディレクトリに作成されます (<code class="option">--configdir</code> オプションを使用してこの場所がオーバーライドされていない場合)。管理サーバーが構成データを更新するたびに、新しいキャッシュファイルが生成されます。このファイルは、次の形式を使用して作成順に連続した名前が付けられます。
          </p><pre class="programlisting">
ndb_<em class="replaceable"><code>node-id</code></em>_config.bin.<em class="replaceable"><code>seq-number</code></em>
</pre><p>
            <em class="replaceable"><code>node-id</code></em> は管理サーバーのノード ID であり、<em class="replaceable"><code>seq-number</code></em> は 1 から始まるシーケンス番号です。たとえば、管理サーバーのノード ID が 5 の場合、最初の 3 つの構成キャッシュファイルが作成されるときに <code class="filename">ndb_5_config.bin.1</code>、<code class="filename">ndb_5_config.bin.2</code>、および <code class="filename">ndb_5_config.bin.3</code> という名前が付けられます。
          </p><p>
            実際にキャッシュを無効にせずに、構成キャッシュをパージまたはリロードする場合は、<code class="option">--skip-config-cache</code> オプションの代わりに <code class="option">--reload</code> オプションまたは <code class="option">--initial</code> オプションのいずれかを指定して <span class="command"><strong>ndb_mgmd</strong></span> を開始してください。
          </p><p>
            構成キャッシュを再度有効にするには、構成キャッシュを無効にするために前に使用した <code class="option">--config-cache</code> オプションまたは <code class="option">--skip-config-cache</code> オプションを指定せずに管理サーバーを再起動します。
          </p><p>
            <code class="option">--skip-config-cache</code> が使用された場合、<span class="command"><strong>ndb_mgmd</strong></span> は構成ディレクトリ (<code class="option">--configdir</code>) をチェックせずに作成しようとします。(Bug#13428853)
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_config-file"></a>
            <a class="indexterm" name="idm139979027586992"></a> <a class="indexterm" name="idm139979027585504"></a> <a class="indexterm" name="idm139979027584096"></a> <code class="option">--config-file=<em class="replaceable"><code>filename</code></em></code>、<code class="option">-f <em class="replaceable"><code>filename</code></em></code>
          </p><div class="informaltable"><table summary="Options for config-file" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--config-file=file</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ファイル名</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">[none]</code></td></tr></tbody></table></div><p>
            構成ファイルとして使用すべきファイルを管理サーバーに指示します。デフォルトでは、管理サーバーは <span class="command"><strong>ndb_mgmd</strong></span> 実行可能ファイルと同じディレクトリで <code class="filename">config.ini</code> という名前のファイルを探します。それ以外の場合は、ファイル名および場所を明示的に指定する必要があります。
          </p><p>
            このオプションにはデフォルト値はなく、<code class="option">--reload</code> または <code class="option">--initial</code> オプションを指定して <span class="command"><strong>ndb_mgmd</strong></span> が起動されたか、管理サーバーが構成キャッシュを見つけることができなかったために、管理サーバーが構成ファイルを読み取るように強制された場合を除き、無視されます。このオプションは、<code class="option">--config-cache=OFF</code> を指定して <span class="command"><strong>ndb_mgmd</strong></span> が開始された場合にも読み取られます。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-config-file" title="18.3.2 MySQL Cluster の構成ファイル">セクション18.3.2「MySQL Cluster の構成ファイル」</a>を参照してください。
          </p><p>
            以前は、このオプションを <code class="option">--initial</code> と一緒に使用すると、ファイルが見つからなくても構成キャッシュが削除されました。この問題は MySQL Cluster NDB 7.3.2 で解決されました。(Bug #1299289)
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_mycnf"></a>
            <a class="indexterm" name="idm139979027558800"></a> <a class="indexterm" name="idm139979027556656"></a> <code class="option">--mycnf</code>
          </p><div class="informaltable"><table summary="Options for mycnf" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--mycnf</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table></div><p>
            <code class="filename">my.cnf</code> ファイルから構成データを読み取ります。
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_daemon"></a>
            <a class="indexterm" name="idm139979027540320"></a> <a class="indexterm" name="idm139979027538832"></a> <code class="option">--daemon</code>、<code class="option">-d</code>
          </p><div class="informaltable"><table summary="Options for daemon" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--daemon</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">TRUE</code></td></tr></tbody></table></div><p>
            <span class="command"><strong>ndb_mgmd</strong></span> にデーモンプロセスとして開始するように指示します。これはデフォルトの動作です。
          </p><p>
            このオプションは <span class="command"><strong>ndb_mgmd</strong></span> を Windows プラットフォームで実行している場合は効果がありません。
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_interactive"></a>
            <a class="indexterm" name="idm139979027521136"></a> <code class="option">--interactive</code>
          </p><div class="informaltable"><table summary="Options for interactive" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--interactive</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table></div><p>
            <span class="command"><strong>ndb_mgmd</strong></span> をインタラクティブモードで開始します。つまり、管理サーバーが実行されるとすぐに <span class="command"><strong>ndb_mgm</strong></span> クライアントセッションが開始されます。このオプションはほかの MySQL Cluster ノードを起動しません。
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_initial"></a>
            <a class="indexterm" name="idm139979027504224"></a> <code class="option">--initial</code>
          </p><div class="informaltable"><table summary="Options for initial" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--initial</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table></div><p>
            構成データは、管理サーバーが開始されるたびにクラスタグローバル構成ファイルから読み取られるのではなく、内部的にキャッシュされます (<a class="xref" href="mysql-cluster.html#mysql-cluster-config-file" title="18.3.2 MySQL Cluster の構成ファイル">セクション18.3.2「MySQL Cluster の構成ファイル」</a>を参照してください)。<code class="option">--initial</code> オプションを使用するとこの動作がオーバーライドされ、管理サーバーが既存のキャッシュファイルを削除し、クラスタ構成ファイルから構成データを再度読み取り、新しいキャッシュを作成するように強制されます。
          </p><p>
            これは、2 つの点で <code class="option">--reload</code> オプションと異なります。まず、<code class="option">--reload</code> を指定すると、サーバーが構成ファイルをキャッシュと照合し、ファイルの内容がキャッシュと異なる場合にのみデータをリロードすることが強制されます。2 番目に、<code class="option">--reload</code> は既存のキャッシュファイルを削除しません。
          </p><p>
            <code class="option">--initial</code> を指定して <span class="command"><strong>ndb_mgmd</strong></span> が呼び出されたけれどもグローバル構成ファイルが見つからない場合、管理サーバーは起動できません。
          </p><p>
            管理サーバーが起動されると、同じ MySQL Cluster 内の別の管理サーバーをチェックし、ほかの管理サーバーの構成データを使用することを試みます。<span class="command"><strong>ndb_mgmd</strong></span> は、それが実行されている唯一の管理サーバーである場合を除き、<code class="option">--initial</code> を無視します。この動作は、複数の管理ノードを持つ MySQL Cluster でローリング再起動を実行するときにも影響します。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-rolling-restart" title="18.5.5 MySQL Cluster のローリング再起動の実行">セクション18.5.5「MySQL Cluster のローリング再起動の実行」</a>を参照してください。
          </p><p>
            以前は、このオプションを <code class="option">--config-file</code> オプションと一緒に使用すると、ファイルが見つからなくても構成キャッシュが削除されました。MySQL Cluster NDB 7.3.2 以降では、構成ファイルが実際に見つかった場合にのみ、キャッシュがそのようにクリアされます。(Bug #1299289)
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_log-name"></a>
            <a class="indexterm" name="idm139979027477120"></a> <code class="option">--log-name=<em class="replaceable"><code>name</code></em></code>
          </p><div class="informaltable"><table summary="Options for log-name" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--log-name=name</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">文字列</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">MgmtSrvr</code></td></tr></tbody></table></div><p>
            クラスタログでこのノードに使用される名前を指定します。
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_nodaemon"></a>
            <a class="indexterm" name="idm139979027461616"></a> <code class="option">--nodaemon</code>
          </p><div class="informaltable"><table summary="Options for nodaemon" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--nodaemon</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table></div><p>
            <span class="command"><strong>ndb_mgmd</strong></span> にデーモンプロセスとして開始しないように指示します。
          </p><p>
            Windows での <span class="command"><strong>ndb_mgmd</strong></span> のデフォルト動作はフォアグラウンドでの実行であるため、Windows プラットフォームではこのオプションは必要ありません。
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_print-full-config"></a>
            <a class="indexterm" name="idm139979027444224"></a> <a class="indexterm" name="idm139979027442656"></a> <code class="option">--print-full-config</code>、<code class="option">-P</code>
          </p><div class="informaltable"><table summary="Options for print-full-config" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--print-full-config</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table></div><p>
            クラスタの構成に関する詳細情報を表示します。このオプションをコマンド行に指定すると、<span class="command"><strong>ndb_mgmd</strong></span> プロセスはクラスタ設定に関する情報 (クラスタ構成セクションの詳細なリスト、およびパラメータとその値を含む) を出力します。通常、<code class="option">--config-file</code> (<code class="option">-f</code>) オプションと一緒に使用します。
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_reload"></a>
            <a class="indexterm" name="idm139979027424880"></a> <code class="option">--reload</code>
          </p><div class="informaltable"><table summary="Options for reload" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--reload</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table></div><p>
            MySQL Cluster NDB 7.3 では、構成データは、管理サーバーが起動されるたびにクラスタグローバル構成ファイルから読み取られるのではなく、内部に格納されます (<a class="xref" href="mysql-cluster.html#mysql-cluster-config-file" title="18.3.2 MySQL Cluster の構成ファイル">セクション18.3.2「MySQL Cluster の構成ファイル」</a>を参照してください)。このオプションを使用すると、管理サーバーが内部データストアをクラスタ構成ファイルと照合し、構成ファイルがキャッシュと一致しないことが判明した場合は、構成をリロードすることを強制します。既存の構成キャッシュファイルは維持されますが使用されません。
          </p><p>
            これは、2 つの点で <code class="option">--initial</code> オプションと異なります。最初に、<code class="option">--initial</code> ではすべてのキャッシュファイルが削除されます。2 番目に、<code class="option">--initial</code> は、グローバル構成ファイルを再度読み取って新しいキャッシュを作成することを管理サーバーに強制します。
          </p><p>
            管理サーバーがグローバル構成ファイルを見つけられない場合、<code class="option">--reload</code> オプションは無視されます。
          </p><p>
            管理サーバーが起動されると、同じ MySQL Cluster 内の別の管理サーバーをチェックして、ほかの管理サーバーの構成データを使用することを試みます。<span class="command"><strong>ndb_mgmd</strong></span> は、それが実行されている唯一の管理サーバーである場合を除き、<code class="option">--reload</code> を無視します。この動作は、複数の管理ノードを持つ MySQL Cluster でローリング再起動を実行するときにも影響します。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-rolling-restart" title="18.5.5 MySQL Cluster のローリング再起動の実行">セクション18.5.5「MySQL Cluster のローリング再起動の実行」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_nowait-nodes"></a>
            <a class="indexterm" name="idm139979027400624"></a> <code class="option">--nowait-nodes</code>
          </p><div class="informaltable"><table summary="Options for nowait-nodes" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--nowait-nodes=list</code></td></tr><tr><td scope="row" rowspan="4"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">数値</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal"></code></td></tr><tr><td scope="row"><span class="bold"><strong>最小値</strong></span></td><td colspan="2"><code class="literal">1</code></td></tr><tr><td scope="row"><span class="bold"><strong>最大値</strong></span></td><td colspan="2"><code class="literal">255</code></td></tr></tbody></table></div><p>
            MySQL Cluster は、起動されると 2 つの管理ノードで構成され、通常、各管理サーバーは別の <span class="command"><strong>ndb_mgmd</strong></span> も動作しているかどうか、および別の管理サーバーの構成がそれ自体の構成と同じであるかどうかを確認します。ただし、クラスタを 1 つの管理ノードのみで起動すること (およびおそらく別の <span class="command"><strong>ndb_mgmd</strong></span> をあとで起動することを許可すること) が望ましい場合があります。このオプションを指定すると、このオプションに渡されたノード ID を持つ別の管理ノードを管理ノードがチェックせず、起動された管理ノードのみを使用するように構成されているかのようにクラスタが起動することを許可します。
          </p><p>
            説明のために、<code class="filename">config.ini</code> ファイルに次の部分があるとします (ここでは、この例に関連しないほとんどの構成パラメータを省略しています)。
          </p><pre class="programlisting">
[ndbd]
NodeId = 1
HostName = 192.168.0.101

[ndbd]
NodeId = 2
HostName = 192.168.0.102

[ndbd]
NodeId = 3
HostName = 192.168.0.103

[ndbd]
NodeId = 4
HostName = 192.168.0.104

[ndb_mgmd]
NodeId = 10
HostName = 192.168.0.150

[ndb_mgmd]
NodeId = 11
HostName = 192.168.0.151

[api]
NodeId = 20
HostName = 192.168.0.200

[api]
NodeId = 21
HostName = 192.168.0.201
</pre><p>
            ノード ID が <code class="literal">10</code> で、IP アドレスが 192.168.0.150 のホストで動作する管理サーバーのみを使用して、このクラスタを起動するとします。(たとえば、別の管理サーバーを実行する予定のホストコンピュータがハードウェア障害のために一時的に使用できず、それが修復されるのを待っていると想定してください)。このようにクラスタを起動するには、192.168.0.150 のマシンのコマンド行を使用して、次のコマンドを入力します。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndb_mgmd --ndb-nodeid=10 --nowait-nodes=11</code></strong>
</pre><p>
            前の例に示されているように、<code class="option">--nowait-nodes</code> を使用する場合は、<code class="option">--ndb-nodeid</code> オプションも使用して、この <span class="command"><strong>ndb_mgmd</strong></span> プロセスのノード ID を指定する必要があります。
          </p><p>
            その後、クラスタの各データノードを通常の方法で起動できます。最初の管理サーバーに加えて、あとでデータノードを再起動せずに 2 番目の管理サーバーを起動して使用する場合は、両方の管理サーバーを参照する接続文字列を次のように指定して、各データノードを起動する必要があります。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndbd -c 192.168.0.150,192.168.0.151</code></strong>
</pre><p>
            <span class="command"><strong>mysqld</strong></span> プロセスのうち、このクラスタに接続される MySQL Cluster SQL ノードとして起動するものに使用される接続文字列に関しても同様です。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-connection-strings" title="18.3.2.3 MySQL Cluster の接続文字列">セクション18.3.2.3「MySQL Cluster の接続文字列」</a>を参照してください。
          </p><p>
            <span class="command"><strong>ndb_mgmd</strong></span> とともに使用すると、このオプションは別の管理ノードに関してのみ管理ノードの動作に影響します。<span class="command"><strong>ndbd</strong></span> または <span class="command"><strong>ndbmtd</strong></span> (全量より少ない数のデータノードでクラスタを起動できる) に使用される <code class="option">--nowait-nodes</code> オプションと混同しないでください。このオプションをデータノードに使用した場合は、ほかのデータノードに関係する動作にのみ影響します。
          </p><p>
            複数の管理ノード ID は、カンマ区切りリストとしてこのオプションに渡すことができます。各ノード ID は、1 から 255 までである必要があります。実際には、同じ MySQL Cluster に 3 つ以上の管理サーバーを使用することは (または、そのようにする必要性があることは) きわめてまれです。ほとんどの場合、このオプションに渡す必要があるのは、クラスタの起動時に使用しない 1 つの管理サーバーの単一ノード ID のみです。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              <span class="quote">「<span class="quote">欠けている</span>」</span>管理サーバーをあとで起動する場合は、クラスタですでに使用されている管理サーバーと構成が一致している必要があります。そうしないと、既存の管理サーバーによって実行される構成チェックで失敗して起動されません。
            </p></div></li></ul></div><p>
        管理サーバーを起動するときに、接続文字列を必ず指定する必要があるわけではありません。ただし、複数の管理サーバーを使用している場合は、接続文字列を指定して、クラスタ内の各ノードにノード ID を明示的に指定してください。
      </p><p>
        接続文字列の使用方法については、<a class="xref" href="mysql-cluster.html#mysql-cluster-connection-strings" title="18.3.2.3 MySQL Cluster の接続文字列">セクション18.3.2.3「MySQL Cluster の接続文字列」</a>を参照してください。<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="18.4.4 ndb_mgmd — MySQL Cluster 管理サーバーデーモン">セクション18.4.4「<span class="command"><strong>ndb_mgmd</strong></span> — MySQL Cluster 管理サーバーデーモン」</a>では、<span class="command"><strong>ndb_mgmd</strong></span> のその他のオプションについて説明しています。
      </p><p>
        次のファイルは、起動ディレクトリにある <span class="command"><strong>ndb_mgmd</strong></span> によって作成または使用され、<code class="filename">config.ini</code> 構成ファイルに指定されている <code class="literal">DataDir</code> に配置されます。次のリストでは、<em class="replaceable"><code>node_id</code></em> は一意のノード識別子です。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <a class="indexterm" name="idm139979027350848"></a> <a class="indexterm" name="idm139979027348704"></a> <a class="indexterm" name="idm139979027347360"></a> <code class="filename">config.ini</code> はクラスタ全体の構成ファイルです。このファイルはユーザーが作成し、管理サーバーによって読み取られます。<a class="xref" href="mysql-cluster.html#mysql-cluster-configuration" title="18.3 MySQL Cluster の構成">セクション18.3「MySQL Cluster の構成」</a>では、このファイルをセットアップする方法について説明しています。
          </p></li><li class="listitem"><p>
            <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_cluster.log</code> はクラスタイベントログファイルです。そのようなイベントの例としては、チェックポイントの開始と完了、ノードの起動イベント、ノードの障害、およびメモリー使用率のレベルが含まれます。クラスタイベントの完全なリストおよびその説明は、<a class="xref" href="mysql-cluster.html#mysql-cluster-management" title="18.5 MySQL Cluster の管理">セクション18.5「MySQL Cluster の管理」</a>にあります。
          </p><p>
            クラスタログのサイズが百万バイトに達すると、ファイルが<code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_cluster.log.<em class="replaceable"><code>seq_id</code></em></code> に名前変更されます。ここで、<em class="replaceable"><code>seq_id</code></em> はクラスタログファイルのシーケンス番号です(たとえば、シーケンス番号 1、2、3 を持つファイルがすでに存在する場合、次のログファイルは番号 <code class="literal">4</code> を使用して名前が付けられます)。
          </p></li><li class="listitem"><p>
            <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_out.log</code> は、管理サーバーがデーモンとして実行されているときに、<code class="literal">stdout</code> および <code class="literal">stderr</code> のために使用されるファイルです。
          </p></li><li class="listitem"><p>
            <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>.pid</code> は、管理サーバーをデーモンとして実行しているときに使用されるプロセス ID ファイルです。
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_install"></a>
            <a class="indexterm" name="idm139979027330144"></a> <code class="option">--install[=<em class="replaceable"><code>name</code></em>]</code>
          </p><div class="informaltable"><table summary="Options for install" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--install[=name]</code></td></tr><tr><td scope="row"><span class="bold"><strong>プラットフォーム固有</strong></span></td><td colspan="3">Windows</td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">文字列</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">ndb_mgmd</code></td></tr></tbody></table></div><p>
            <span class="command"><strong>ndb_mgmd</strong></span> が Windows サービスとしてインストールされます。必要に応じて、サービスの名前を指定できます。設定しない場合、サービス名は <code class="literal">ndb_mgmd</code> にデフォルト設定されます。その他の <span class="command"><strong>ndb_mgmd</strong></span> プログラムオプションは <code class="filename">my.ini</code> または <code class="filename">my.cnf</code> 構成ファイルに指定することが推奨されますが、<code class="option">--install</code> と一緒に使用できます。ただし、そのような場合、Windows サービスのインストールが成功するには、<code class="option">--install</code> オプションを最初に指定してから、ほかのオプションを指定する必要があります。
          </p><p>
            このオプションを <code class="option">--initial</code> オプションと一緒に使用することは一般的にお勧めしません。サービスが停止および開始されるたびに構成キャッシュが消去されて再作成されるためです。管理サーバーの起動に影響するほかの <span class="command"><strong>ndb_mgmd</strong></span> オプションを使用する場合にも注意すべきであり、それを行うことを十分に理解し、起こり得る結果に対して十分に準備していることをしっかりと確認してください。
          </p><p>
            <code class="option">--install</code> オプションは、Windows 以外のプラットフォームでは効果がありません。
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_remove"></a>
            <a class="indexterm" name="idm139979027302608"></a> <code class="option">--remove[=<em class="replaceable"><code>name</code></em>]</code>
          </p><div class="informaltable"><table summary="Options for remove" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--remove[=name]</code></td></tr><tr><td scope="row"><span class="bold"><strong>プラットフォーム固有</strong></span></td><td colspan="3">Windows</td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">文字列</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">ndb_mgmd</code></td></tr></tbody></table></div><p>
            Windows サービスとして以前にインストールされた <span class="command"><strong>ndb_mgmd</strong></span> プロセスが削除されます。必要に応じて、アンインストールするサービスの名前を指定できます。設定しない場合、サービス名は <code class="literal">ndb_mgmd</code> にデフォルト設定されます。
          </p><p>
            <code class="option">--remove</code> オプションは、Windows 以外のプラットフォームでは効果がありません。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-programs-ndb-mgm"></a>18.4.5 <span class="command"><strong>ndb_mgm</strong></span> — MySQL Cluster 管理クライアント</h3></div></div></div><a class="indexterm" name="idm139979027280816"></a><a class="indexterm" name="idm139979027279600"></a><a class="indexterm" name="idm139979027277696"></a><a class="indexterm" name="idm139979027275696"></a><a class="indexterm" name="idm139979027273984"></a><a class="indexterm" name="idm139979027272496"></a><a class="indexterm" name="idm139979027270480"></a><p>
        <span class="command"><strong>ndb_mgm</strong></span> 管理クライアントプロセスは、クラスタを実行するために実際には必要ありません。その価値は、クラスタのステータスをチェックしたり、バックアップを開始したり、その他の管理機能を実行したりするための一連のコマンドを提供することにあります。管理クライアントは C API を使用して管理サーバーにアクセスします。上級ユーザーは、この API を使用して専用の管理プロセスをプログラムし、<span class="command"><strong>ndb_mgm</strong></span> によって実行されるタスクと同様のことを実行することもできます。
      </p><p>
        管理クライアントを開始するには、管理サーバーのホスト名およびポート番号を指定する必要があります。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndb_mgm [<em class="replaceable"><code>host_name</code></em> [<em class="replaceable"><code>port_num</code></em>]]</code></strong>
</pre><p>
        例:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndb_mgm ndb_mgmd.mysql.com 1186</code></strong>
</pre><p>
        デフォルトのホスト名およびポート番号は、それぞれ <code class="literal">localhost</code> および 1186 です。
      </p><a class="indexterm" name="idm139979027260496"></a><a class="indexterm" name="idm139979027258352"></a><a class="indexterm" name="idm139979027256320"></a><a class="indexterm" name="idm139979027254336"></a><p>
        次の表には、MySQL Cluster 管理クライアントプログラム <span class="command"><strong>ndb_mgm</strong></span> に固有のオプションが含まれています。追加説明が表のあとにあります。ほとんどの MySQL Cluster プログラム (<span class="command"><strong>ndb_mgm</strong></span> を含む) に共通するオプションについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="18.4.27 MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション">セクション18.4.27「MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション」</a>を参照してください。
      </p><div class="table"><a name="mysql-cluster-ndb_mgm-options-table"></a><p class="title"><b>表 18.80 
            この表は、ndb_mgm プログラムのコマンド行オプションについて説明しています</b></p><div class="table-contents"><table id="mysql-cluster-ndb_mgm-options-table" summary="ndb_mgm Options and Variables: MySQL Cluster NDB 7.3"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="ndb_mgmformat">形式</th>
        <th id="ndb_mgmdescription">説明</th>
        <th id="ndb_mgmaddedremoved">追加または削除</th>
      </tr></thead><tbody><tr>
        <td id="rowndb_mgmtry-reconnect" headers="ndb_mgmformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_mgm_try-reconnect">--try-reconnect=#</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_mgm_try-reconnect">-t</a> </code>
          </p>
        </td>
        <td headers="rowndb_mgmtry-reconnect ndb_mgmdescription">
      ndb_mgmd への接続を試みる回数を指定します (0 = 無限)
    </td>
        <td headers="rowndb_mgmtry-reconnect ndb_mgmaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_mgmexecute" headers="ndb_mgmformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_mgm_execute">--execute=name</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_mgm_execute">-e</a> </code>
          </p>
        </td>
        <td headers="rowndb_mgmexecute ndb_mgmdescription">
      コマンドを実行して終了します
    </td>
        <td headers="rowndb_mgmexecute ndb_mgmaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndb_mgm_execute"></a>
            <a class="indexterm" name="idm139979027219744"></a> <a class="indexterm" name="idm139979027218304"></a> <code class="option">--execute=<code class="literal">command</code></code>、<code class="option">-e <code class="literal">command</code></code>
          </p><div class="informaltable"><table summary="Options for execute" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--execute=name</code></td></tr></tbody></table></div><p>
            このオプションは、システムシェルから MySQL Cluster 管理クライアントにコマンドを送信するために使用できます。たとえば、次のコマンドはいずれも管理クライアントで <code class="literal">SHOW</code> を実行することと同等です。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndb_mgm -e "SHOW"</code></strong>

shell&gt; <strong class="userinput"><code>ndb_mgm --execute="SHOW"</code></strong>
</pre><p>
            これは <code class="option">--execute</code> または <code class="option">-e</code> オプションが <span class="command"><strong>mysql</strong></span> コマンド行クライアントで動作する仕組みに似ています。<a class="xref" href="programs.html#command-line-options" title="4.2.4 コマンド行でのオプションの使用">セクション4.2.4「コマンド行でのオプションの使用」</a>を参照してください。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              このオプションを使用して渡される管理クライアントコマンドにスペース文字が含まれている場合は、コマンドを引用符で囲む<span class="emphasis"><em>必要があります</em></span>。一重引用符または二重引用符を使用できます。管理クライアントコマンドにスペース文字が含まれていない場合は、引用符を使用しなくてもかまいません。
            </p></div></li><li class="listitem"><p><a name="option_ndb_mgm_try-reconnect"></a>
            <code class="option">--try-reconnect=<em class="replaceable"><code>number</code></em></code>
          </p><div class="informaltable"><table summary="Options for try-reconnect" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--try-reconnect=#</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">TRUE</code></td></tr></tbody></table></div><p>
            管理サーバーへの接続が切断された場合、ノードは 5 秒ごとに再接続を試みます (成功するまで)。このオプションを使用することで、接続を中止して代わりにエラーを報告する前に接続を試行する回数を <em class="replaceable"><code>number</code></em> 回に制限できます。
          </p></li></ul></div><p>
        <span class="command"><strong>ndb_mgm</strong></span> の使用方法に関する追加情報については、<a class="xref" href="mysql-cluster.html#mysql-cluster-mgm-client-commands" title="18.5.2 MySQL Cluster 管理クライアントのコマンド">セクション18.5.2「MySQL Cluster 管理クライアントのコマンド」</a>を参照してください。
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-programs-ndb-blob-tool"></a>18.4.6 <span class="command"><strong>ndb_blob_tool</strong></span> — MySQL Cluster テーブルの BLOB および TEXT カラムのチェックおよび修復</h3></div></div></div><a class="indexterm" name="idm139979027181008"></a><p>
        このツールは、孤立した BLOB カラムパーツをチェックして <code class="literal">NDB</code> テーブルから削除するため、および孤立したパーツを一覧したファイルを生成するために使用できます。これは、<code class="literal">BLOB</code> または <code class="literal">TEXT</code> カラムが含まれている破損または損傷した <code class="literal">NDB</code> テーブルを診断および修復する場合に役に立つことがあります。
      </p><p>
        <span class="command"><strong>ndb_blob_tool</strong></span> の基本的な構文を次に示します。
      </p><pre class="programlisting">
ndb_blob_tool [<em class="replaceable"><code>options</code></em>] <em class="replaceable"><code>table</code></em> [<em class="replaceable"><code>column</code></em>, ...]
</pre><p>
        <code class="option">--help</code> オプションを使用する場合を除き、1 つ以上のオプション (<code class="option">--check-orphans</code>、<code class="option">--delete-orphans</code>、または <code class="option">--dump-file</code>) を含めることによって、実行するアクションを指定する必要があります。これらのオプションを指定すると、<span class="command"><strong>ndb_blob_tool</strong></span> がそれぞれ孤立した BLOB パーツをチェックしたり、孤立した BLOB パーツを削除したり、孤立した BLOB パーツを一覧するダンプファイルを生成したりします。これについての詳細は、このセクションで後述します。
      </p><p>
        <span class="command"><strong>ndb_blob_tool</strong></span> を呼び出すときは、テーブルの名前も指定する必要があります。また、必要に応じて、テーブル名の後ろに、(カンマで区切った) そのテーブルの 1 つ以上の <code class="literal">BLOB</code> または <code class="literal">TEXT</code> カラムの名前を続けることができます。カラムをリストしない場合、このツールはテーブルのすべての <code class="literal">BLOB</code> および <code class="literal">TEXT</code> カラムを処理します。データベースを指定する必要がある場合は、<code class="option">--database</code> (<code class="option">-d</code>) オプションを使用します。
      </p><p>
        <code class="option">--verbose</code> オプションは、ツールの進行状況に関する追加の情報を出力します。
      </p><p>
        次の表には、<span class="command"><strong>ndb_blob_tool</strong></span> に固有のオプションが含まれています。追加説明が表のあとにあります。ほとんどの MySQL Cluster プログラム (<span class="command"><strong>ndb_blob_tool</strong></span> を含む) に共通するオプションについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="18.4.27 MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション">セクション18.4.27「MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション」</a>を参照してください。
      </p><div class="table"><a name="mysql-cluster-ndb_blob_tool-options-table"></a><p class="title"><b>表 18.81 
            この表は、ndb_blob_tool プログラムのコマンド行オプションについて説明しています</b></p><div class="table-contents"><table id="mysql-cluster-ndb_blob_tool-options-table" summary="ndb_blob_tool Options and Variables: MySQL Cluster NDB 7.3"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="ndb_blob_toolformat">形式</th>
        <th id="ndb_blob_tooldescription">説明</th>
        <th id="ndb_blob_tooladdedremoved">追加または削除</th>
      </tr></thead><tbody><tr>
        <td id="rowndb_blob_toolcheck-orphans" headers="ndb_blob_toolformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_blob_tool_check-orphans">--check-orphans</a> </code>
          </p>
        </td>
        <td headers="rowndb_blob_toolcheck-orphans ndb_blob_tooldescription">
      孤立した BLOB パーツをチェックします
    </td>
        <td headers="rowndb_blob_toolcheck-orphans ndb_blob_tooladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_blob_tooldatabase" headers="ndb_blob_toolformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_blob_tool_database">--database=db_name</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_blob_tool_database">-d</a> </code>
          </p>
        </td>
        <td headers="rowndb_blob_tooldatabase ndb_blob_tooldescription">
      テーブルを探すデータベース。
    </td>
        <td headers="rowndb_blob_tooldatabase ndb_blob_tooladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_blob_tooldelete-orphans" headers="ndb_blob_toolformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_blob_tool_delete-orphans">--delete-orphans</a> </code>
          </p>
        </td>
        <td headers="rowndb_blob_tooldelete-orphans ndb_blob_tooldescription">
      孤立した BLOB パーツを削除します
    </td>
        <td headers="rowndb_blob_tooldelete-orphans ndb_blob_tooladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_blob_tooldump-file" headers="ndb_blob_toolformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_blob_tool_dump-file">--dump-file=file</a> </code>
          </p>
        </td>
        <td headers="rowndb_blob_tooldump-file ndb_blob_tooldescription">
      指定したファイルに孤立したキーを書き込みます
    </td>
        <td headers="rowndb_blob_tooldump-file ndb_blob_tooladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_blob_toolverbose" headers="ndb_blob_toolformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_blob_tool_verbose">--verbose</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_blob_tool_verbose">-v</a> </code>
          </p>
        </td>
        <td headers="rowndb_blob_toolverbose ndb_blob_tooldescription">
      冗長出力
    </td>
        <td headers="rowndb_blob_toolverbose ndb_blob_tooladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndb_blob_tool_check-orphans"></a>
            <a class="indexterm" name="idm139979027101360"></a> <a class="indexterm" name="idm139979027099200"></a> <code class="option">--check-orphans</code>
          </p><div class="informaltable"><table summary="Options for check-orphans" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--check-orphans</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table></div><p>
            MySQL Cluster テーブルの孤立した BLOB パーツをチェックします。
          </p></li><li class="listitem"><p><a name="option_ndb_blob_tool_database"></a>
            <a class="indexterm" name="idm139979027083408"></a> <a class="indexterm" name="idm139979027081232"></a> <code class="option">--database=<em class="replaceable"><code>db_name</code></em></code>、<code class="option">-d</code>
          </p><div class="informaltable"><table summary="Options for database" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--database=db_name</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">文字列</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">[none]</code></td></tr></tbody></table></div><p>
            テーブルを探すデータベースを指定します。
          </p></li><li class="listitem"><p><a name="option_ndb_blob_tool_delete-orphans"></a>
            <a class="indexterm" name="idm139979027064848"></a> <a class="indexterm" name="idm139979027062688"></a> <code class="option">--delete-orphans</code>
          </p><div class="informaltable"><table summary="Options for delete-orphans" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--delete-orphans</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table></div><p>
            MySQL Cluster テーブルから孤立した BLOB パーツを削除します。
          </p></li><li class="listitem"><p><a name="option_ndb_blob_tool_dump-file"></a>
            <a class="indexterm" name="idm139979027046832"></a> <a class="indexterm" name="idm139979027044688"></a> <code class="option">--dump-file=<em class="replaceable"><code>file</code></em></code>
          </p><div class="informaltable"><table summary="Options for dump-file" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--dump-file=file</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ファイル名</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">[none]</code></td></tr></tbody></table></div><p>
            孤立した BLOB カラムパーツのリストを <em class="replaceable"><code>file</code></em> に書き込みます。ファイルに書き込まれる情報には、各孤立した BLOB パーツのテーブルキーおよび BLOB パーツ番号が含まれます。
          </p></li><li class="listitem"><p><a name="option_ndb_blob_tool_verbose"></a>
            <a class="indexterm" name="idm139979027027856"></a> <a class="indexterm" name="idm139979027025680"></a> <code class="option">--verbose</code>
          </p><div class="informaltable"><table summary="Options for verbose" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--verbose</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table></div><p>
            進行状況に関する追加情報をツールの出力に書き込みます。
          </p></li></ul></div><h4><a name="idm139979027010704"></a>例</h4><p>
        最初に、次に示す <code class="literal">CREATE TABLE</code> ステートメントを使用して、<code class="literal">test</code> データベースに <code class="literal">NDB</code> テーブルを作成します。
      </p><pre class="programlisting">
USE test;

CREATE TABLE btest (
    c0 BIGINT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY, 
    c1 TEXT, 
    c2 BLOB
)   ENGINE=NDB;
</pre><p>
        その後、これに似た一連のステートメントを使用して、このテーブルにいくつかの行を挿入します。
      </p><pre class="programlisting">
INSERT INTO btest VALUES (NULL, 'x', REPEAT('x', 1000));
</pre><p>
        このテーブルに対して <code class="option">--check-orphans</code> を指定して <span class="command"><strong>ndb_blob_tool</strong></span> を実行すると、次の出力が生成されます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndb_blob_tool --check-orphans --verbose -d test btest</code></strong>
connected
processing 2 blobs
processing blob #0 c1 NDB$BLOB_19_1
NDB$BLOB_19_1: nextResult: res=1
total parts: 0
orphan parts: 0
processing blob #1 c2 NDB$BLOB_19_2
NDB$BLOB_19_2: nextResult: res=0
NDB$BLOB_19_2: nextResult: res=0
NDB$BLOB_19_2: nextResult: res=0
NDB$BLOB_19_2: nextResult: res=0
NDB$BLOB_19_2: nextResult: res=0
NDB$BLOB_19_2: nextResult: res=0
NDB$BLOB_19_2: nextResult: res=0
NDB$BLOB_19_2: nextResult: res=0
NDB$BLOB_19_2: nextResult: res=0
NDB$BLOB_19_2: nextResult: res=0
NDB$BLOB_19_2: nextResult: res=1
total parts: 10
orphan parts: 0
disconnected

NDBT_ProgramExit: 0 - OK
</pre><p>
        <code class="literal">c1</code> は <code class="literal">TEXT</code> カラムですが、カラム <code class="literal">c1</code> に関連付けられている <code class="literal">NDB</code> BLOB カラムパーツはないことをこのツールは報告しています。これは、<code class="literal">NDB</code> テーブルでは、<code class="literal">BLOB</code> または <code class="literal">TEXT</code> カラム値の最初の 256 バイトのみがインラインで格納され、それを超過する部分 (ある場合) のみが別個に格納されるためです。したがって、これらのタイプのいずれかのカラムに 256 バイトを超える値がない場合、このカラムの <code class="literal">BLOB</code> カラムパーツは <code class="literal">NDB</code> によって作成されません。詳細は、<a class="xref" href="data-types.html#storage-requirements" title="11.7 データ型のストレージ要件">セクション11.7「データ型のストレージ要件」</a>を参照してください。
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-programs-ndb-config"></a>18.4.7 <span class="command"><strong>ndb_config</strong></span> — MySQL Cluster 構成情報の抽出</h3></div></div></div><a class="indexterm" name="idm139979026989456"></a><p>
        このツールは、いくつかのソース (MySQL Cluster 管理ノード、あるいは <code class="filename">config.ini</code> ファイルまたは <code class="filename">my.cnf</code> ファイル) のいずれかから、データノード、SQL ノード、および API ノードの現在の構成情報を抽出します。デフォルトでは、管理ノードが構成データのソースです。デフォルトをオーバーライドするには、<code class="option">--config-file</code> オプションまたは <code class="option">--mycnf</code> オプションを指定して ndb_config を実行します。<code class="option">--config_from_node=<em class="replaceable"><code>node_id</code></em></code> にノード ID を指定することによって、データノードをソースとして使用することもできます。
      </p><p>
        <span class="command"><strong>ndb_config</strong></span> は、使用できるすべての構成パラメータ、およびそれらのデフォルト値、最大値、最小値、その他の情報のオフラインダンプを生成することもできます。このダンプはテキスト形式または XML 形式で生成できます。詳細は、このセクションで後述する <code class="option">--configinfo</code> および <code class="option">--xml</code> オプションの説明を参照してください)。
      </p><p>
        <code class="option">--nodes</code>、<code class="option">--system</code>、または <code class="option">--connections</code> のいずれかのオプションを使用すると、結果をセクション (<code class="literal">DB</code>、<code class="literal">SYSTEM</code>、または <code class="literal">CONNECTIONS</code>) によってフィルタリングできます。
      </p><p>
        次の表には、<span class="command"><strong>ndb_config</strong></span> に固有のオプションが含まれています。追加説明が表のあとにあります。ほとんどの MySQL Cluster プログラム (<span class="command"><strong>ndb_config</strong></span> を含む) に共通するオプションについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="18.4.27 MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション">セクション18.4.27「MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション」</a>を参照してください。
      </p><div class="table"><a name="mysql-cluster-ndb_config-options-table"></a><p class="title"><b>表 18.82 
            この表は、ndb_config プログラムのコマンド行オプションについて説明しています</b></p><div class="table-contents"><table id="mysql-cluster-ndb_config-options-table" summary="ndb_config Options and Variables: MySQL Cluster NDB 7.3"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="ndb_configformat">形式</th>
        <th id="ndb_configdescription">説明</th>
        <th id="ndb_configaddedremoved">追加または削除</th>
      </tr></thead><tbody><tr>
        <td id="rowndb_confignodes" headers="ndb_configformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_config_nodes">--nodes</a> </code>
          </p>
        </td>
        <td headers="rowndb_confignodes ndb_configdescription">
      ノード情報 (DB セクション) のみを出力します。
    </td>
        <td headers="rowndb_confignodes ndb_configaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_configconnections" headers="ndb_configformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_config_connections">--connections</a> </code>
          </p>
        </td>
        <td headers="rowndb_configconnections ndb_configdescription">
      CONNECTIONS セクション情報のみを出力します。--nodes オプションまたは --system オプションとともに使用することはできません。
    </td>
        <td headers="rowndb_configconnections ndb_configaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_configquery" headers="ndb_configformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_config_query">--query=string</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_config_query">-q</a> </code>
          </p>
        </td>
        <td headers="rowndb_configquery ndb_configdescription">
      1 つ以上のクエリーオプション (属性)
    </td>
        <td headers="rowndb_configquery ndb_configaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_confighost" headers="ndb_configformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_config_host">--host=name</a> </code>
          </p>
        </td>
        <td headers="rowndb_confighost ndb_configdescription">
      ホストを指定します
    </td>
        <td headers="rowndb_confighost ndb_configaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_configtype" headers="ndb_configformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_config_type">--type=name</a> </code>
          </p>
        </td>
        <td headers="rowndb_configtype ndb_configdescription">
      ノードタイプを指定します
    </td>
        <td headers="rowndb_configtype ndb_configaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_confignodeid" headers="ndb_configformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_config_nodeid">--nodeid</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_config_nodeid">--id</a> </code>
          </p>
        </td>
        <td headers="rowndb_confignodeid ndb_configdescription">
      この ID のノードの構成を取得します
    </td>
        <td headers="rowndb_confignodeid ndb_configaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_configfields" headers="ndb_configformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_config_fields">--fields=string</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_config_fields">-f</a> </code>
          </p>
        </td>
        <td headers="rowndb_configfields ndb_configdescription">
      フィールド区切り文字
    </td>
        <td headers="rowndb_configfields ndb_configaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_configrows" headers="ndb_configformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_config_rows">--rows=string</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_config_rows">-r</a> </code>
          </p>
        </td>
        <td headers="rowndb_configrows ndb_configdescription">
      行区切り文字
    </td>
        <td headers="rowndb_configrows ndb_configaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_configconfig-file" headers="ndb_configformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_config_config-file">--config-file=path</a> </code>
          </p>
        </td>
        <td headers="rowndb_configconfig-file ndb_configdescription">
      config.ini ファイルへのパスを設定します
    </td>
        <td headers="rowndb_configconfig-file ndb_configaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_configmycnf" headers="ndb_configformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_config_mycnf">--mycnf</a> </code>
          </p>
        </td>
        <td headers="rowndb_configmycnf ndb_configdescription">
      my.cnf ファイルから構成データを読み取ります
    </td>
        <td headers="rowndb_configmycnf ndb_configaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_configc" headers="ndb_configformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_common_ndb-connectstring">-c</a> </code>
          </p>
        </td>
        <td headers="rowndb_configc ndb_configdescription">
      --ndb-connectstring の短縮形
    </td>
        <td headers="rowndb_configc ndb_configaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_configconfiginfo" headers="ndb_configformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_config_configinfo">--configinfo</a> </code>
          </p>
        </td>
        <td headers="rowndb_configconfiginfo ndb_configdescription">
      すべての NDB 構成パラメータに関する情報をデフォルト値、最大値、および最小値とともにテキスト形式でダンプします。XML 出力を取得するには、--xml とともに使用します。
    </td>
        <td headers="rowndb_configconfiginfo ndb_configaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_configxml" headers="ndb_configformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_config_xml">--configinfo --xml</a> </code>
          </p>
        </td>
        <td headers="rowndb_configxml ndb_configdescription">
      すべての NDB 構成パラメータのダンプをデフォルト値、最大値、および最小値とともに XML 形式で取得するには、--configinfo に -xml を使用します。
    </td>
        <td headers="rowndb_configxml ndb_configaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_configsystem" headers="ndb_configformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_config_system">--system</a> </code>
          </p>
        </td>
        <td headers="rowndb_configsystem ndb_configdescription">
      SYSTEM セクション情報のみを出力します。--nodes オプションまたは --connections オプションとともに使用することはできません。
    </td>
        <td headers="rowndb_configsystem ndb_configaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_configconfig_from_node" headers="ndb_configformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_config_config_from_node">--config_from_node=#</a> </code>
          </p>
        </td>
        <td headers="rowndb_configconfig_from_node ndb_configdescription">
      この ID のノード (データノードである必要があります) から構成データを取得します。
    </td>
        <td headers="rowndb_configconfig_from_node ndb_configaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndb_config_usage"></a>
            <a class="indexterm" name="idm139979026833184"></a> <a class="indexterm" name="idm139979026831040"></a> <code class="option">--usage</code>、<code class="option">--help</code>、または <code class="option">-?</code>
          </p><div class="informaltable"><table summary="Options for help" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--help</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">--usage</code></td></tr></tbody></table></div><p>
            <span class="command"><strong>ndb_config</strong></span> が使用可能なオプションのリストを出力してから終了します。
          </p></li><li class="listitem"><p><a name="option_ndb_config_config_from_node"></a>
            <a class="indexterm" name="idm139979026817568"></a> <a class="indexterm" name="idm139979026815408"></a> <code class="option">--config_from_node=#</code>
          </p><div class="informaltable"><table summary="Options for config_from_node" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--config_from_node=#</code></td></tr><tr><td scope="row" rowspan="4"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">数値</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">none</code></td></tr><tr><td scope="row"><span class="bold"><strong>最小値</strong></span></td><td colspan="2"><code class="literal">1</code></td></tr><tr><td scope="row"><span class="bold"><strong>最大値</strong></span></td><td colspan="2"><code class="literal">48</code></td></tr></tbody></table></div><p>
            この ID を持つデータノードからクラスタの構成データを取得します。
          </p><p>
            この ID を持つノードがデータノードではない場合、<span class="command"><strong>ndb_config</strong></span> はエラーで失敗します(代わりに、管理ノードから構成データを取得するには、単純にこのオプションを省略します)。
          </p></li><li class="listitem"><p><a name="option_ndb_config_version"></a>
            <a class="indexterm" name="idm139979026793456"></a> <a class="indexterm" name="idm139979026791280"></a> <code class="option">--version</code>、<code class="option">-V</code>
          </p><div class="informaltable"><table summary="Options for version" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--version</code></td></tr></tbody></table></div><p>
            <span class="command"><strong>ndb_config</strong></span> がバージョン情報文字列を出力してから終了します。
          </p></li><li class="listitem"><p><a name="option_ndb_config_ndb-connectstring"></a>
            <a class="indexterm" name="idm139979026780016"></a> <a class="indexterm" name="idm139979026777856"></a> <code class="option">--ndb-connectstring=<em class="replaceable"><code>connect_string</code></em></code>、<code class="option">-c <em class="replaceable"><code>connect_string</code></em></code>
          </p><div class="informaltable"><table summary="Options for ndb-connectstring" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--ndb-connectstring=connectstring</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">--connect-string=connectstring</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">文字列</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">localhost:1186</code></td></tr></tbody></table></div><p>
            管理サーバーに接続するために使用する接続文字列を指定します。この接続文字列の形式は、<a class="xref" href="mysql-cluster.html#mysql-cluster-connection-strings" title="18.3.2.3 MySQL Cluster の接続文字列">セクション18.3.2.3「MySQL Cluster の接続文字列」</a>で説明したものと同じであり、デフォルトは <code class="literal">localhost:1186</code> です。
          </p></li><li class="listitem"><p><a name="option_ndb_config_config-file"></a>
            <a class="indexterm" name="idm139979026757728"></a> <a class="indexterm" name="idm139979026755584"></a> <code class="option">--config-file=<em class="replaceable"><code>path-to-file</code></em></code>
          </p><div class="informaltable"><table summary="Options for config-file" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--config-file=path</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ファイル名</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table></div><p>
            管理サーバーの構成ファイル (<code class="filename">config.ini</code>) へのパスを指定します。これには相対パスまたは絶対パスを指定できます。<span class="command"><strong>ndb_config</strong></span> が呼び出されるホストと別のホストに管理ノードがある場合は、絶対パスを使用する必要があります。
          </p></li><li class="listitem"><p><a name="option_ndb_config_mycnf"></a>
            <a class="indexterm" name="idm139979026737856"></a> <a class="indexterm" name="idm139979026735712"></a> <code class="option">--mycnf</code>
          </p><div class="informaltable"><table summary="Options for mycnf" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--mycnf</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table></div><p>
            <code class="filename">my.cnf</code> ファイルから構成データを読み取ります。
          </p></li><li class="listitem"><p><a name="option_ndb_config_query"></a>
            <a class="indexterm" name="idm139979026719328"></a> <a class="indexterm" name="idm139979026717184"></a> <code class="option">--query=<em class="replaceable"><code>query-options</code></em></code>、<code class="option">-q</code> <em class="replaceable"><code>query-options</code></em>
          </p><div class="informaltable"><table summary="Options for query" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--query=string</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">文字列</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table></div><p>
            これは、<em class="firstterm">クエリーオプション</em>のカンマ区切りのリストです。つまり、1 つ以上の返されるノード属性のリストです。これらには、<code class="literal">id</code> (ノード ID)、タイプ (ノードタイプ。つまり、<code class="literal">ndbd</code>、<code class="literal">mysqld</code>、または <code class="literal">ndb_mgmd</code>)、および値が取得される構成パラメータが含まれます。
          </p><p>
            たとえば、<a class="indexterm" name="idm139979026697696"></a> <a class="indexterm" name="idm139979026695520"></a> <code class="option">--query=id,type,indexmemory,datamemory</code> は、各ノードのノード ID、ノードタイプ、<code class="literal">DataMemory</code>、および <code class="literal">IndexMemory</code> を返します。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              指定したパラメータが特定のタイプのノードに当てはまらない場合、対応する値には空の文字列が返されます。詳細はこのセクションで後述する例を参照してください。
            </p></div></li><li class="listitem"><p><a name="option_ndb_config_host"></a>
            <a class="indexterm" name="idm139979026688448"></a> <a class="indexterm" name="idm139979026686304"></a> <code class="option">--host=<em class="replaceable"><code>hostname</code></em></code>
          </p><div class="informaltable"><table summary="Options for host" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--host=name</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">文字列</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table></div><p>
            構成情報を取得するノードのホスト名を指定します。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              ホスト名 <code class="literal">localhost</code> は通常、IP アドレス <code class="literal">127.0.0.1</code> に解決されますが、これはすべてのオペレーティングプラットフォームおよび構成でそうなるとはかぎりません。これは、<code class="filename">config.ini</code> に <code class="literal">localhost</code> が使用されて、<code class="literal">localhost</code> が別のアドレスに解決される (たとえば、一部のバージョンの SUSE Linux では、これは <code class="literal">127.0.0.2</code> です) 別のホストで <span class="command"><strong>ndb_config</strong></span> が実行されている場合、<span class="command"><strong>ndb_config <code class="option">--host=localhost</code></strong></span> が失敗することがあることを意味します。一般的に最適な結果を得るには、ホストに関連するすべての MySQL Cluster 構成値に数値 IP アドレスを使用するか、すべての MySQL Cluster ホストが <code class="literal">localhost</code> を同様に扱っていることを確認してください。
            </p></div></li><li class="listitem"><p><a name="option_ndb_config_id"></a>
            <a class="indexterm" name="idm139979026661440"></a> <a class="indexterm" name="idm139979026659312"></a> <code class="option">--id=<em class="replaceable"><code>node_id</code></em></code>
          </p><p><a name="option_ndb_config_nodeid"></a>
            <a class="indexterm" name="idm139979026655776"></a> <a class="indexterm" name="idm139979026653600"></a> <code class="option">--nodeid=<em class="replaceable"><code>node_id</code></em></code>
          </p><div class="informaltable"><table summary="Options for ndb-nodeid" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--ndb-nodeid=#</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">数値</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr></tbody></table></div><p>
            構成情報を取得するノードのノード ID を指定する場合は、これらのオプションのいずれかを使用できます。推奨される形式は <code class="option">--nodeid</code> です。
          </p></li><li class="listitem"><p><a name="option_ndb_config_nodes"></a>
            <a class="indexterm" name="idm139979026636992"></a> <a class="indexterm" name="idm139979026634848"></a> <code class="option">--nodes</code>
          </p><div class="informaltable"><table summary="Options for nodes" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--nodes</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table></div><p>
            <code class="literal">DB</code> セクションに定義されているパラメータの情報のみを出力するように、<span class="command"><strong>ndb_config</strong></span> に通知します。このオプションは、<code class="option">--connections</code> または <code class="option">--system</code> と一緒に使用できません。
          </p></li><li class="listitem"><p><a name="option_ndb_config_connections"></a>
            <a class="indexterm" name="idm139979026616080"></a> <a class="indexterm" name="idm139979026613936"></a> <code class="option">--connections</code>
          </p><div class="informaltable"><table summary="Options for connections" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--connections</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table></div><p>
            <code class="literal">CONNECTIONS</code> の情報のみを出力するように、<span class="command"><strong>ndb_config</strong></span> に通知します。このオプションは、<code class="option">--nodes</code> または <code class="option">--system</code> と一緒に使用できません。
          </p></li><li class="listitem"><p><a name="option_ndb_config_system"></a>
            <a class="indexterm" name="idm139979026595232"></a> <a class="indexterm" name="idm139979026593056"></a> <code class="option">--system</code>
          </p><div class="informaltable"><table summary="Options for system" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--system</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table></div><p>
            <code class="literal">SYSTEM</code> の情報のみを出力するように <span class="command"><strong>ndb_config</strong></span> に通知します。
          </p><p>
            このオプションは、<code class="option">--nodes</code> オプションまたは <code class="option">--system</code> オプションと一緒に使用できません。
          </p></li><li class="listitem"><p><a name="option_ndb_config_type"></a>
            <a class="indexterm" name="idm139979026573952"></a> <a class="indexterm" name="idm139979026571808"></a> <code class="option">--type=<em class="replaceable"><code>node_type</code></em></code>
          </p><div class="informaltable"><table summary="Options for type" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--type=name</code></td></tr><tr><td scope="row" rowspan="5"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">列挙</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">[none]</code></td></tr><tr><td scope="row" rowspan="3" valign="top"><span class="bold"><strong>有効な値</strong></span></td><td colspan="2"><code class="literal">ndbd</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">mysqld</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">ndb_mgmd</code></td></tr></tbody></table></div><p>
            指定した <em class="replaceable"><code>node_type</code></em> のノード (<code class="literal">ndbd</code>、<code class="literal">mysqld</code>、または <code class="literal">ndb_mgmd</code>) に該当する構成値のみが返されるように、結果をフィルタリングします。
          </p></li><li class="listitem"><p><a name="option_ndb_config_fields"></a>
            <a class="indexterm" name="idm139979026547472"></a> <a class="indexterm" name="idm139979026545296"></a> <code class="option">--fields=<em class="replaceable"><code>delimiter</code></em></code>、<code class="option">-f</code> <em class="replaceable"><code>delimiter</code></em>
          </p><div class="informaltable"><table summary="Options for fields" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--fields=string</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">文字列</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table></div><p>
            結果のフィールドを区切るために使用される <em class="replaceable"><code>delimiter</code></em> 文字列を指定します。デフォルトは <span class="quote">「<span class="quote"><code class="literal">,</code></span>」</span> (カンマ) です。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              <em class="replaceable"><code>delimiter</code></em> にスペースまたはエスケープ (改行文字の <code class="literal">\n</code> など) が含まれている場合は、引用符で囲む必要があります。
            </p></div></li><li class="listitem"><p><a name="option_ndb_config_rows"></a>
            <a class="indexterm" name="idm139979026525120"></a> <a class="indexterm" name="idm139979026522976"></a> <code class="option">--rows=<em class="replaceable"><code>separator</code></em></code>、<code class="option">-r</code> <em class="replaceable"><code>separator</code></em>
          </p><div class="informaltable"><table summary="Options for rows" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--rows=string</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">文字列</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table></div><p>
            結果の行を区切るために使用される <em class="replaceable"><code>separator</code></em> 文字列を指定します。デフォルトはスペース文字です。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              <em class="replaceable"><code>separator</code></em> にスペースまたはエスケープ (改行文字の <code class="literal">\n</code> など) が含まれている場合は、引用符で囲む必要があります。
            </p></div></li><li class="listitem"><p><a name="option_ndb_config_configinfo"></a>
            <a class="indexterm" name="idm139979026503568"></a> <a class="indexterm" name="idm139979026501424"></a> <code class="option">--configinfo</code>
          </p><p>
            <code class="option">--configinfo</code> オプションを指定すると、<span class="command"><strong>ndb_config</strong></span> が属する MySQL Cluster 配布でサポートされる次の情報を含む各 MySQL Cluster 構成パラメータのリストを <span class="command"><strong>ndb_config</strong></span> がダンプします。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                各パラメータの目的、効果、および使用方法の簡単な説明
              </p></li><li class="listitem"><p>
                パラメータを使用できる <code class="filename">config.ini</code> ファイルのセクション
              </p></li><li class="listitem"><p>
                パラメータのデータ型または単位
              </p></li><li class="listitem"><p>
                該当する場合、パラメータのデフォルト値、最小値、および最大値
              </p></li><li class="listitem"><p>
                パラメータの目的、効果、および使用方法についての簡単な説明
              </p></li><li class="listitem"><p>
                MySQL Cluster のリリースバージョンおよびビルド情報
              </p></li></ul></div><p>
            デフォルトでは、この出力はテキスト形式です。この出力の一部を次に示します。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndb_config --configinfo</code></strong>

****** SYSTEM ******

Name (String)
Name of system (NDB Cluster)
MANDATORY

PrimaryMGMNode (Non-negative Integer)
Node id of Primary ndb_mgmd(MGM) node
Default: 0 (Min: 0, Max: 4294967039)

ConfigGenerationNumber (Non-negative Integer)
Configuration generation number
Default: 0 (Min: 0, Max: 4294967039)

****** DB ******

MaxNoOfSubscriptions (Non-negative Integer)
Max no of subscriptions (default 0 == MaxNoOfTables)
Default: 0 (Min: 0, Max: 4294967039)

MaxNoOfSubscribers (Non-negative Integer)
Max no of subscribers (default 0 == 2 * MaxNoOfTables)
Default: 0 (Min: 0, Max: 4294967039)

…
</pre><p><a name="option_ndb_config_xml"></a>
            <a class="indexterm" name="idm139979026485216"></a> <a class="indexterm" name="idm139979026483088"></a> <code class="option">--configinfo</code> <code class="option">--xml</code>
          </p><div class="informaltable"><table summary="Options for xml" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--configinfo --xml</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">false</code></td></tr></tbody></table></div><p>
            <code class="option">--xml</code> オプションを追加することによって、<span class="command"><strong>ndb_config</strong></span> <code class="option">--configinfo</code> の出力を XML として取得できます。出力結果の一部を次の例に示します。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndb_config --configinfo --xml</code></strong>

&lt;configvariables protocolversion="1" ndbversionstring="5.6.22-ndb-7.3.9"
                    ndbversion="458758" ndbversionmajor="7" ndbversionminor="0"
                    ndbversionbuild="6"&gt;
  &lt;section name="SYSTEM"&gt;
    &lt;param name="Name" comment="Name of system (NDB Cluster)" type="string"
              mandatory="true"/&gt;
    &lt;param name="PrimaryMGMNode" comment="Node id of Primary ndb_mgmd(MGM) node"
              type="unsigned" default="0" min="0" max="4294967039"/&gt;
    &lt;param name="ConfigGenerationNumber" comment="Configuration generation number"
              type="unsigned" default="0" min="0" max="4294967039"/&gt;
  &lt;/section&gt;
  &lt;section name="NDBD"&gt;
    &lt;param name="MaxNoOfSubscriptions" 
              comment="Max no of subscriptions (default 0 == MaxNoOfTables)"
              type="unsigned" default="0" min="0" max="4294967039"/&gt;
    &lt;param name="MaxNoOfSubscribers" 
              comment="Max no of subscribers (default 0 == 2 * MaxNoOfTables)"
              type="unsigned" default="0" min="0" max="4294967039"/&gt;

    …

  &lt;/section&gt;

  …

&lt;/configvariables&gt;
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              通常、<span class="command"><strong>ndb_config</strong></span> <code class="option">--configinfo</code> <code class="option">--xml</code> によって生成される XML 出力では 1 行に 1 要素の形式が使用されますが、上記の例および次の例では読みやすくするために空白を追加しています。ほとんどの XML プロセッサでは通常の処理として不要な空白が無視されるか、無視するように指示できるため、これによってこの出力を使用するアプリケーションに違いは生じないはずです。
            </p></div><p>
            この XML 出力は、特定のパラメータが変更されたときに、<code class="option">--initial</code> オプションを使用してデータノードを再起動する必要があることも示しています。これは、対応する <code class="literal">&lt;param&gt;</code> 要素に <code class="literal">initial="true"</code> 属性が表示されることによって示されます。また、再起動タイプ (<code class="literal">system</code> または <code class="literal">node</code>) も示されます。これは、特定のパラメータでシステムの再起動が要求される場合に、対応する <code class="literal">&lt;param&gt;</code> 要素に <code class="literal">restart="system"</code> 属性が表示されることによって示されます。たとえば、<code class="literal">Diskless</code> パラメータの値セットを変更すると、次に示されているようにシステムの初期再起動が必要となります (<code class="literal">restart</code> 属性および <code class="literal">initial</code> 属性が見やすいように強調表示されています)。
          </p><pre class="programlisting">
&lt;param name="Diskless" comment="Run wo/ disk" type="bool" default="false" 
          <span class="emphasis"><em>restart="system" initial="true"</em></span>/&gt;
</pre><p>
            現在、初期再起動が必要ないパラメータに対応する <code class="literal">&lt;param&gt;</code> 要素の XML 出力には、<code class="literal">initial</code> 属性は表示されません。言い換えると、<code class="literal">initial="false"</code> がデフォルトであり、属性が表示されていない場合は値 <code class="literal">false</code> を想定してください。同様に、デフォルトの再起動タイプは <code class="literal">node</code> (つまり、クラスタのオンラインまたは<span class="quote">「<span class="quote">ローリング</span>」</span>再起動) ですが、<code class="literal">restart</code> 属性は再起動タイプが <code class="literal">system</code> (すべてのクラスタノードを同時にシャットダウンしてから再起動する必要があることを意味します) である場合にのみ表示されます。
          </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
              <code class="option">--xml</code> オプションは <code class="option">--configinfo</code> オプションを指定した場合にのみ使用できます。<code class="option">--configinfo</code> を指定せずに <code class="option">--xml</code> を使用すると、エラーで失敗します。
            </p></div><p>
            現在の構成データを取得するためにこのプログラムで使用されるオプションと異なり、<span class="command"><strong>ndb_config</strong></span> がコンパイルされた場合、<code class="option">--configinfo</code> および <code class="option">--xml</code> は MySQL Cluster ソースから取得される情報を使用します。このため、これらの 2 つのオプションの場合、実行されている MySQL Cluster に接続したり、<code class="filename">config.ini</code> ファイルまたは <code class="filename">my.cnf</code> ファイルにアクセスしたりする必要はありません。
          </p><p>
            ほかの <span class="command"><strong>ndb_config</strong></span> オプション (<code class="option">--query</code>、<code class="option">--type</code> など) を <code class="option">--configinfo</code> または <code class="option">--xml</code> と組み合わせることはサポートされていません。現在、そうしようとすると通常、<code class="option">--configinfo</code> または <code class="option">--xml</code> 以外のすべてのオプションが単に無視されます。<span class="emphasis"><em>ただし、この動作は保証されず、今後変更されることがあります</em></span>。また、<code class="option">--configinfo</code> オプションを指定して使用した場合、<span class="command"><strong>ndb_config</strong></span> は MySQL Cluster にアクセスせず、どのファイルも読み取らないため、<code class="option">--ndb-connectstring</code>、<code class="option">--config-file</code> などの追加オプションを <code class="option">--configinfo</code> と一緒に指定しようとしても意味はありません。
          </p></li></ul></div><h4><a name="idm139979026426160"></a>例</h4><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            クラスタのノード ID および各ノードのタイプを取得するには、次のようにします。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>./ndb_config --query=id,type --fields=':' --rows='\n'</code></strong>
1:ndbd
2:ndbd
3:ndbd
4:ndbd
5:ndb_mgmd
6:mysqld
7:mysqld
8:mysqld
9:mysqld
</pre><p>
            この例では、<code class="option">--fields</code> オプションを使用して ID および各ノードのタイプをコロン (<code class="literal">:</code>) で区切り、<code class="option">--rows</code> オプションを使用して各ノードの値を新しい行に出力しています。
          </p></li><li class="listitem"><p>
            データノード、SQL ノード、および API ノードが管理サーバーに接続するために使用できる接続文字列を生成するには、次のようにします。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>./ndb_config --config-file=usr/local/mysql/cluster-data/config.ini \ 
--query=hostname,portnumber --fields=: --rows=, --type=ndb_mgmd</code></strong>
192.168.0.179:1186
</pre></li><li class="listitem"><p>
            この <span class="command"><strong>ndb_config</strong></span> 呼び出しでは、データノードのみがチェックされ (<code class="option">--type</code> オプションを使用しています)、各ノードの ID とホスト名の値、および <code class="literal">DataMemory</code>、<code class="literal">IndexMemory</code>、<code class="literal">DataDir</code> パラメータの値セットが表示されます。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>./ndb_config --type=ndbd --query=id,host,datamemory,indexmemory,datadir -f ' : ' -r '\n'</code></strong>
1 : 192.168.0.193 : 83886080 : 18874368 : /usr/local/mysql/cluster-data
2 : 192.168.0.112 : 83886080 : 18874368 : /usr/local/mysql/cluster-data
3 : 192.168.0.176 : 83886080 : 18874368 : /usr/local/mysql/cluster-data
4 : 192.168.0.119 : 83886080 : 18874368 : /usr/local/mysql/cluster-data
</pre><p>
            この例では、短いオプション <code class="option">-f</code> および <code class="option">-r</code> をフィールド区切り文字および行区切り文字の設定にそれぞれ使用しました。
          </p></li><li class="listitem"><p>
            特定の 1 つのホスト以外のホストを結果から除外するには、<code class="option">--host</code> オプションを使用します。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>./ndb_config --host=192.168.0.176 -f : -r '\n' -q id,type</code></strong>
3:ndbd
5:ndb_mgmd
</pre><p>
            また、この例では、短い形式 <code class="option">-q</code> を使用して、問い合わせる属性を指定しています。
          </p><p>
            同様に、特定の ID のノードに結果を制限するには、<code class="option">--id</code> オプションまたは <code class="option">--nodeid</code> オプションを使用します。
          </p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-programs-ndb-cpcd"></a>18.4.8 <span class="command"><strong>ndb_cpcd</strong></span> — NDB 開発のためのテストの自動化</h3></div></div></div><a class="indexterm" name="idm139979026399152"></a><p>
        この名前のユーティリティーは以前、MySQL Cluster のテストおよびデバッグに使用された内部自動テストフレームワークの一部でした。オラクルによって提供される MySQL Cluster 配布には含まれなくなりました。
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-programs-ndb-delete-all"></a>18.4.9 <span class="command"><strong>ndb_delete_all</strong></span> — NDB テーブルからのすべての行の削除</h3></div></div></div><a class="indexterm" name="idm139979026394976"></a><p>
        <span class="command"><strong>ndb_delete_all</strong></span> は、指定された <code class="literal">NDB</code> テーブルからすべての行を削除します。これは、<code class="literal">DELETE</code> または <code class="literal">TRUNCATE TABLE</code> よりも速いことがあります。
      </p><h4><a name="idm139979026389280"></a>使用法</h4><pre class="programlisting">
ndb_delete_all -c <em class="replaceable"><code>connect_string</code></em> <em class="replaceable"><code>tbl_name</code></em> -d <em class="replaceable"><code>db_name</code></em>
</pre><p>
        これは、<em class="replaceable"><code>db_name</code></em> という名前のデータベースの <em class="replaceable"><code>tbl_name</code></em> という名前のテーブルからすべての行を削除しています。MySQL で <code class="literal">TRUNCATE <em class="replaceable"><code>db_name</code></em>.<em class="replaceable"><code>tbl_name</code></em></code> を実行することとまったく同じです。
      </p><p>
        次の表には、<span class="command"><strong>ndb_delete_all</strong></span> に固有のオプションが含まれています。追加説明が表のあとにあります。ほとんどの MySQL Cluster プログラム (<span class="command"><strong>ndb_delete_all</strong></span> を含む) に共通するオプションについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="18.4.27 MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション">セクション18.4.27「MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション」</a>を参照してください。
      </p><div class="table"><a name="mysql-cluster-ndb_delete_all-options-table"></a><p class="title"><b>表 18.83 
            この表は、ndb_delete_all プログラムのコマンド行オプションについて説明しています</b></p><div class="table-contents"><table id="mysql-cluster-ndb_delete_all-options-table" summary="ndb_delete_all Options and Variables: MySQL Cluster NDB 7.3"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="ndb_delete_allformat">形式</th>
        <th id="ndb_delete_alldescription">説明</th>
        <th id="ndb_delete_alladdedremoved">追加または削除</th>
      </tr></thead><tbody><tr>
        <td id="rowndb_delete_alldatabase" headers="ndb_delete_allformat">
          <p>
            <code class="literal">--database=dbname</code>、
          </p>
          <p>
            <code class="literal">-d</code>
          </p>
        </td>
        <td headers="rowndb_delete_alldatabase ndb_delete_alldescription">
      テーブルを探すデータベースの名前
    </td>
        <td headers="rowndb_delete_alldatabase ndb_delete_alladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_delete_alltransactional" headers="ndb_delete_allformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_delete_all_transactional">--transactional</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_delete_all_transactional">-t</a> </code>
          </p>
        </td>
        <td headers="rowndb_delete_alltransactional ndb_delete_alldescription">
      単一トランザクションで削除を実行します (操作の数が足りなくなることがあります)
    </td>
        <td headers="rowndb_delete_alltransactional ndb_delete_alladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_delete_alltupscan" headers="ndb_delete_allformat">
          <p>
            <code class="literal">--tupscan</code>
          </p>
        </td>
        <td headers="rowndb_delete_alltupscan ndb_delete_alldescription">
      TUP スキャンを実行します
    </td>
        <td headers="rowndb_delete_alltupscan ndb_delete_alladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_delete_alldiskscan" headers="ndb_delete_allformat">
          <p>
            <code class="literal">--diskscan</code>
          </p>
        </td>
        <td headers="rowndb_delete_alldiskscan ndb_delete_alldescription">
      ディスクスキャンを実行します
    </td>
        <td headers="rowndb_delete_alldiskscan ndb_delete_alladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndb_delete_all_transactional"></a>
            <a class="indexterm" name="idm139979026337840"></a> <a class="indexterm" name="idm139979026335680"></a> <code class="option">--transactional</code>、<code class="option">-t</code>
          </p><p>
            このオプションを使用すると、削除操作が単一のトランザクションとして実行されます。
          </p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">警告</div><p>
              非常に大きいテーブルの場合は、このオプションを使用すると、クラスタで使用できる操作の数を超えることがあります。
            </p></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-programs-ndb-desc"></a>18.4.10 <span class="command"><strong>ndb_desc</strong></span> — NDB テーブルの表示</h3></div></div></div><a class="indexterm" name="idm139979026328784"></a><p>
        <span class="command"><strong>ndb_desc</strong></span> は、1 つ以上の <code class="literal">NDB</code> テーブルの詳細な説明を出力します。
      </p><h4><a name="idm139979026325168"></a>使用法</h4><pre class="programlisting">
ndb_desc -c <em class="replaceable"><code>connect_string</code></em> <em class="replaceable"><code>tbl_name</code></em> -d <em class="replaceable"><code>db_name</code></em> [-p]
      
ndb_desc -c <em class="replaceable"><code>connect_string</code></em> <em class="replaceable"><code>index_name</code></em> -d <em class="replaceable"><code>db_name</code></em> -t <em class="replaceable"><code>tbl_name</code></em>
</pre><h4><a name="idm139979026320784"></a>出力例</h4><p>
        MySQL テーブル作成およびレコード挿入ステートメント:
      </p><pre class="programlisting">
USE test;

CREATE TABLE fish (
    id INT(11) NOT NULL AUTO_INCREMENT,
    name VARCHAR(20) NOT NULL,
    length_mm INT(11) NOT NULL,
    weight_gm INT(11) NOT NULL,

    PRIMARY KEY pk (id),
    UNIQUE KEY uk (name)
) ENGINE=NDB;

INSERT INTO fish VALUES
    ('','guppy', 35, 2), ('','tuna', 2500, 150000),
    ('','shark', 3000, 110000), ('','manta ray', 1500, 50000),
    ('','grouper', 900, 125000), ('','puffer', 250, 2500);
</pre><p>
        <span class="command"><strong>ndb_desc</strong></span> の出力:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>./ndb_desc -c localhost fish -d test -p</code></strong>
-- fish --
Version: 2
Fragment type: 9
K Value: 6
Min load factor: 78
Max load factor: 80
Temporary table: no
Number of attributes: 4
Number of primary keys: 1
Length of frm data: 311
Row Checksum: 1
Row GCI: 1
SingleUserMode: 0
ForceVarPart: 1
FragmentCount: 2
TableStatus: Retrieved
-- Attributes --
id Int PRIMARY KEY DISTRIBUTION KEY AT=FIXED ST=MEMORY AUTO_INCR
name Varchar(20;latin1_swedish_ci) NOT NULL AT=SHORT_VAR ST=MEMORY
length_mm Int NOT NULL AT=FIXED ST=MEMORY
weight_gm Int NOT NULL AT=FIXED ST=MEMORY

-- Indexes --
PRIMARY KEY(id) - UniqueHashIndex
PRIMARY(id) - OrderedIndex
uk$unique(name) - UniqueHashIndex
uk(name) - OrderedIndex

-- Per partition info --
Partition  Row count  Commit count  Frag fixed memory ...
0          2          2             32768             ...
1          4          4             32768             ...

... Frag varsized memory  Extent_space  Free extent_space
... 32768                 0             0
... 32768                 0             0

NDBT_ProgramExit: 0 - OK
</pre><p>
        複数のテーブルに関する情報は、テーブル名をスペースで区切って <span class="command"><strong>ndb_desc</strong></span> を 1 回呼び出すことによって取得できます。すべてのテーブルは同じデータベースにある必要があります。
      </p><p>
        特定のインデックスに関する追加情報を取得するには、次に示すように <span class="command"><strong>ndb_desc</strong></span> の最初の引数としてインデックス名を指定して <code class="option">--table</code> (短縮形: <code class="option">-t</code>) オプションを使用します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>./ndb_desc uk -d test -t fish</code></strong>
-- uk --
Version: 3
Base table: fish
Number of attributes: 1
Logging: 0
Index type: OrderedIndex
Index status: Retrieved
-- Attributes --
name Varchar(20;latin1_swedish_ci) NOT NULL AT=SHORT_VAR ST=MEMORY
-- IndexTable 10/uk --
Version: 3
Fragment type: FragUndefined
K Value: 6
Min load factor: 78
Max load factor: 80
Temporary table: yes
Number of attributes: 2
Number of primary keys: 1
Length of frm data: 0
Row Checksum: 1
Row GCI: 1
SingleUserMode: 2
ForceVarPart: 0
FragmentCount: 4
ExtraRowGciBits: 0
ExtraRowAuthorBits: 0
TableStatus: Retrieved
-- Attributes --
name Varchar(20;latin1_swedish_ci) NOT NULL AT=SHORT_VAR ST=MEMORY
NDB$TNODE Unsigned [64] PRIMARY KEY DISTRIBUTION KEY AT=FIXED ST=MEMORY
-- Indexes -- 
PRIMARY KEY(NDB$TNODE) - UniqueHashIndex

NDBT_ProgramExit: 0 - OK
</pre><p>
        このようにインデックスを指定すると、<code class="option">--extra-partition-info</code> および <code class="option">--extra-node-info</code> オプションは効果がありません。
      </p><p>
        出力の <code class="literal">Version</code> カラムには、テーブルのスキーマオブジェクトバージョンが表示されます。この値の解釈については、<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-schema-object-versions.html" target="_top">NDB Schema Object Versions</a>を参照してください。
      </p><p>
        <code class="literal">Extent_space</code> および <code class="literal">Free extent_space</code> カラムは、ディスクにカラムがある <code class="literal">NDB</code> テーブルにのみ関係しています。インメモリーカラムのみを持つテーブルの場合、これらのカラムには常に値 <code class="literal">0</code> が表示されます。
      </p><p>
        これらの使用方法を説明するために、前の例を変更します。最初に、必要なディスクデータオブジェクトを次のように作成する必要があります。
      </p><pre class="programlisting">
CREATE LOGFILE GROUP lg_1
    ADD UNDOFILE 'undo_1.log'
    INITIAL_SIZE 16M
    UNDO_BUFFER_SIZE 2M
    ENGINE NDB;

ALTER LOGFILE GROUP lg_1
    ADD UNDOFILE 'undo_2.log'
    INITIAL_SIZE 12M
    ENGINE NDB;

CREATE TABLESPACE ts_1
    ADD DATAFILE 'data_1.dat'
    USE LOGFILE GROUP lg_1
    INITIAL_SIZE 32M
    ENGINE NDB;

ALTER TABLESPACE ts_1
    ADD DATAFILE 'data_2.dat'
    INITIAL_SIZE 48M
    ENGINE NDB;
</pre><p>
        (上記のステートメントおよびそれらによって作成されるオブジェクトについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-disk-data-objects" title="18.5.12.1 MySQL Cluster ディスクデータオブジェクト">セクション18.5.12.1「MySQL Cluster ディスクデータオブジェクト」</a>、<a class="xref" href="sql-syntax.html#create-logfile-group" title="13.1.14 CREATE LOGFILE GROUP 構文">セクション13.1.14「CREATE LOGFILE GROUP 構文」</a>、および<a class="xref" href="sql-syntax.html#create-tablespace" title="13.1.18 CREATE TABLESPACE 構文">セクション13.1.18「CREATE TABLESPACE 構文」</a>を参照してください。)
      </p><p>
        カラムの 2 をディスクに格納するバージョンの <code class="literal">fish</code> テーブルを作成して移入できるようになりました (前のバージョンのテーブルが存在する場合はそれを最初に削除します)。
      </p><pre class="programlisting">
CREATE TABLE fish (
    id INT(11) NOT NULL AUTO_INCREMENT,
    name VARCHAR(20) NOT NULL,
    length_mm INT(11) NOT NULL,
    weight_gm INT(11) NOT NULL,

    PRIMARY KEY pk (id),
    UNIQUE KEY uk (name)
) TABLESPACE ts_1 STORAGE DISK 
ENGINE=NDB;

INSERT INTO fish VALUES
    ('','guppy', 35, 2), ('','tuna', 2500, 150000),
    ('','shark', 3000, 110000), ('','manta ray', 1500, 50000),
    ('','grouper', 900, 125000), ('','puffer', 250, 2500);
</pre><p>
        <span class="command"><strong>ndb_desc</strong></span> をこのバージョンのテーブルに対して実行すると、次の出力が表示されます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>./ndb_desc -c localhost fish -d test -p</code></strong>
-- fish --
Version: 3
Fragment type: 9
K Value: 6
Min load factor: 78
Max load factor: 80
Temporary table: no
Number of attributes: 4
Number of primary keys: 1
Length of frm data: 321
Row Checksum: 1
Row GCI: 1
SingleUserMode: 0
ForceVarPart: 1
FragmentCount: 2
TableStatus: Retrieved
-- Attributes --
id Int PRIMARY KEY DISTRIBUTION KEY AT=FIXED ST=MEMORY AUTO_INCR
name Varchar(20;latin1_swedish_ci) NOT NULL AT=SHORT_VAR ST=MEMORY
length_mm Int NOT NULL AT=FIXED ST=DISK
weight_gm Int NOT NULL AT=FIXED ST=DISK

-- Indexes --
PRIMARY KEY(id) - UniqueHashIndex
PRIMARY(id) - OrderedIndex
uk$unique(name) - UniqueHashIndex
uk(name) - OrderedIndex
-- Per partition info --
Partition  Row count  Commit count  Frag fixed memory ...
0          2          2             32768             ...
1          4          4             32768             ...

... Frag varsized memory  Extent_space  Free extent_space
... 32768                 0             0
... 32768                 0             0

NDBT_ProgramExit: 0 - OK
</pre><p>
        これは、テーブルスペースからこのテーブルの各パーティションに 1048576 バイトが割り当てられ、そのうちの 1044440 バイトが追加の格納のための空き領域であることを意味します。言い換えると、このテーブルのディスクベースのカラムのデータを格納するために、現在パーティションごとに 1048576 - 1044440 = 4136 バイトが使用されています。<code class="literal">Free extent_space</code> として表示されるバイト数は、<code class="literal">fish</code> テーブルのディスク上カラムデータを格納するためにのみ使用できます。このため、<code class="literal">INFORMATION_SCHEMA.FILES</code> テーブルから選択したときに表示されません。
      </p><p>
        次の表には、<span class="command"><strong>ndb_desc</strong></span> に固有のオプションが含まれています。追加説明が表のあとにあります。ほとんどの MySQL Cluster プログラム (<span class="command"><strong>ndb_desc</strong></span> を含む) に共通するオプションについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="18.4.27 MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション">セクション18.4.27「MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション」</a>を参照してください。
      </p><div class="table"><a name="mysql-cluster-ndb_desc-options-table"></a><p class="title"><b>表 18.84 
            この表は、ndb_desc プログラムのコマンド行オプションについて説明しています</b></p><div class="table-contents"><table id="mysql-cluster-ndb_desc-options-table" summary="ndb_desc Options and Variables: MySQL Cluster NDB 7.3"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="ndb_descformat">形式</th>
        <th id="ndb_descdescription">説明</th>
        <th id="ndb_descaddedremoved">追加または削除</th>
      </tr></thead><tbody><tr>
        <td id="rowndb_descblob-info" headers="ndb_descformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_desc_blob-info">--blob-info</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_desc_blob-info">-b</a> </code>
          </p>
        </td>
        <td headers="rowndb_descblob-info ndb_descdescription">
      BLOB テーブルのパーティション情報を出力に含めます。-p オプションも使用する必要があります
    </td>
        <td headers="rowndb_descblob-info ndb_descaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_descdatabase" headers="ndb_descformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_desc_database">--database=dbname</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_desc_database">-d</a> </code>
          </p>
        </td>
        <td headers="rowndb_descdatabase ndb_descdescription">
      テーブルが含まれているデータベースの名前
    </td>
        <td headers="rowndb_descdatabase ndb_descaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_descextra-node-info" headers="ndb_descformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_desc_extra-node-info">--extra-node-info</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_desc_extra-node-info">-n</a> </code>
          </p>
        </td>
        <td headers="rowndb_descextra-node-info ndb_descdescription">
      パーティションとデータノードのマッピングを出力に含めます。-p オプションも使用する必要があります
    </td>
        <td headers="rowndb_descextra-node-info ndb_descaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_descextra-partition-info" headers="ndb_descformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_desc_extra-partition-info">--extra-partition-info</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_desc_extra-partition-info">-p</a> </code>
          </p>
        </td>
        <td headers="rowndb_descextra-partition-info ndb_descdescription">
      パーティションに関する情報を表示します
    </td>
        <td headers="rowndb_descextra-partition-info ndb_descaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_descretries" headers="ndb_descformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_desc_retries">--retries=#</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_desc_retries">-r</a> </code>
          </p>
        </td>
        <td headers="rowndb_descretries ndb_descdescription">
      接続を再試行する回数 (1 秒おき)
    </td>
        <td headers="rowndb_descretries ndb_descaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_desctable" headers="ndb_descformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_desc_table">--table=tbl_name</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_desc_table">-t</a> </code>
          </p>
        </td>
        <td headers="rowndb_desctable ndb_descdescription">
      インデックスを探すテーブルを指定します。このオプションを使用すると、-p および -n は効果がなくなり、無視されます。
    </td>
        <td headers="rowndb_desctable ndb_descaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_descunqualified" headers="ndb_descformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_desc_unqualified">--unqualified</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_desc_unqualified">-u</a> </code>
          </p>
        </td>
        <td headers="rowndb_descunqualified ndb_descdescription">
      修飾されていないテーブル名を使用します
    </td>
        <td headers="rowndb_descunqualified ndb_descaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndb_desc_blob-info"></a>
            <a class="indexterm" name="idm139979026203552"></a> <a class="indexterm" name="idm139979026201408"></a> <code class="option">--blob-info</code>、<code class="option">-b</code>
          </p><p>
            従属する <code class="literal">BLOB</code> および <code class="literal">TEXT</code> カラムに関する情報を含めます。
          </p><p>
            このオプションを使用する場合は、<code class="option">--extra-partition-info</code> (<code class="option">-p</code>) オプションも使用する必要があります。
          </p></li><li class="listitem"><p><a name="option_ndb_desc_database"></a>
            <a class="indexterm" name="idm139979026193056"></a> <a class="indexterm" name="idm139979026191024"></a> <code class="option">--database=<em class="replaceable"><code>db_name</code></em></code>, <code class="option">-d</code>
          </p><p>
            テーブルが見つかるはずのデータベースを指定します。
          </p></li><li class="listitem"><p><a name="option_ndb_desc_extra-node-info"></a>
            <a class="indexterm" name="idm139979026186144"></a> <a class="indexterm" name="idm139979026184144"></a> <code class="option">--extra-node-info</code>, <code class="option">-n</code>
          </p><p>
            テーブルパーティションおよびそれらが存在するデータノードのマッピングに関する情報を含めます。この情報は、配布認識メカニズムを検証するため、および MySQL Cluster に格納されているデータへのより効率的なアプリケーションアクセスをサポートするために役に立ちます。
          </p><p>
            このオプションを使用する場合は、<code class="option">--extra-partition-info</code> (<code class="option">-p</code>) オプションも使用する必要があります。
          </p></li><li class="listitem"><p><a name="option_ndb_desc_extra-partition-info"></a>
            <a class="indexterm" name="idm139979026177248"></a> <a class="indexterm" name="idm139979026175232"></a> <code class="option">--extra-partition-info</code>, <code class="option">-p</code>
          </p><p>
            テーブルのパーティションに関する追加情報を出力します。
          </p></li><li class="listitem"><p><a name="option_ndb_desc_retries"></a>
            <a class="indexterm" name="idm139979026170528"></a> <a class="indexterm" name="idm139979026168528"></a> <code class="option">--retries=<em class="replaceable"><code>#</code></em></code>, <code class="option">-r</code>
          </p><p>
            接続を停止する前に、この回数だけ接続を試みます。接続の試行は 1 秒おきに実行されます。
          </p></li><li class="listitem"><p><a name="option_ndb_desc_table"></a>
            <a class="indexterm" name="idm139979026163504"></a> <a class="indexterm" name="idm139979026161504"></a> <code class="option">--table=<em class="replaceable"><code>tbl_name</code></em></code>, <code class="option">-t</code>
          </p><p>
            インデックスを探すテーブルを指定します。
          </p></li><li class="listitem"><p><a name="option_ndb_desc_unqualified"></a>
            <a class="indexterm" name="idm139979026156528"></a> <a class="indexterm" name="idm139979026154496"></a> <code class="option">--unqualified</code>, <code class="option">-u</code>
          </p><p>
            修飾されていないテーブル名を使用します。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-programs-ndb-drop-index"></a>18.4.11 <span class="command"><strong>ndb_drop_index</strong></span> — NDB テーブルからのインデックスの削除</h3></div></div></div><a class="indexterm" name="idm139979026148912"></a><p>
        <span class="command"><strong>ndb_drop_index</strong></span> は、指定されたインデックスを <code class="literal">NDB</code> テーブルから削除します。<span class="emphasis"><em>このユーティリティーは、NDB API アプリケーションを記述するための例としてのみ使用することをお勧めします。</em></span>詳細は、このセクションで後述する「警告」を参照してください。
      </p><h4><a name="idm139979026144608"></a>使用法</h4><pre class="programlisting">
ndb_drop_index -c <em class="replaceable"><code>connect_string</code></em> <em class="replaceable"><code>table_name</code></em> <em class="replaceable"><code>index</code></em> -d <em class="replaceable"><code>db_name</code></em>
</pre><p>
        上記のステートメントは、<em class="replaceable"><code>database</code></em> の <em class="replaceable"><code>table</code></em> から <em class="replaceable"><code>index</code></em> という名前のインデックスを削除します。
      </p><p>
        次の表には、<span class="command"><strong>ndb_drop_index</strong></span> に固有のオプションが含まれています。追加説明が表のあとにあります。ほとんどの MySQL Cluster プログラム (<span class="command"><strong>ndb_drop_index</strong></span> を含む) に共通するオプションについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="18.4.27 MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション">セクション18.4.27「MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション」</a>を参照してください。
      </p><div class="table"><a name="mysql-cluster-ndb_drop_index-options-table"></a><p class="title"><b>表 18.85 
            この表は、ndb_drop_index プログラムのコマンド行オプションについて説明しています</b></p><div class="table-contents"><table id="mysql-cluster-ndb_drop_index-options-table" summary="ndb_drop_index Options and Variables: MySQL Cluster NDB 7.3"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="ndb_drop_indexformat">形式</th>
        <th id="ndb_drop_indexdescription">説明</th>
        <th id="ndb_drop_indexaddedremoved">追加または削除</th>
      </tr></thead><tbody><tr>
        <td id="rowndb_drop_indexdatabase" headers="ndb_drop_indexformat">
          <p>
            <code class="literal">--database=dbname</code>、
          </p>
          <p>
            <code class="literal">-d</code>
          </p>
        </td>
        <td headers="rowndb_drop_indexdatabase ndb_drop_indexdescription">
      テーブルを探すデータベースの名前
    </td>
        <td headers="rowndb_drop_indexdatabase ndb_drop_indexaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">警告</div><p>
          <span class="emphasis"><em>NDB API を使用して Cluster テーブルインデックスに操作を実行しても、MySQL は認識できず、MySQL サーバーはそのテーブルを使用できません</em></span>。このプログラムを使用してインデックスを削除し、SQL ノードからテーブルにアクセスしようとすると、次のようなエラーが発生します。
        </p></div><pre class="programlisting">
shell&gt; <strong class="userinput"><code>./ndb_drop_index -c localhost dogs ix -d ctest1</code></strong>
Dropping index dogs/idx...OK

NDBT_ProgramExit: 0 - OK

shell&gt; <strong class="userinput"><code>./mysql -u jon -p ctest1</code></strong>
Enter password: *******
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 7 to server version: 5.6.22-ndb-7.3.9

Type 'help;' or '\h' for help. Type '\c' to clear the buffer.

mysql&gt; <strong class="userinput"><code>SHOW TABLES;</code></strong>
+------------------+
| Tables_in_ctest1 |
+------------------+
| a                |
| bt1              |
| bt2              |
| dogs             |
| employees        |
| fish             |
+------------------+
6 rows in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT * FROM dogs;</code></strong>
<span class="errortext">ERROR 1296 (HY000): Got error 4243 'Index not found' from NDBCLUSTER</span>
</pre><p>
        そのような場合、MySQL でテーブルをふたたび使用できるようにする<span class="emphasis"><em>唯一</em></span>の方法は、テーブルを削除して再作成することです。テーブルを削除するには、SQL ステートメント <code class="literal">DROP TABLE</code> または <span class="command"><strong>ndb_drop_table</strong></span> ユーティリティー (<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-drop-table" title="18.4.12 ndb_drop_table — NDB テーブルの削除">セクション18.4.12「<span class="command"><strong>ndb_drop_table</strong></span> — NDB テーブルの削除」</a>を参照してください) を使用できます。
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-programs-ndb-drop-table"></a>18.4.12 <span class="command"><strong>ndb_drop_table</strong></span> — NDB テーブルの削除</h3></div></div></div><a class="indexterm" name="idm139979026106640"></a><p>
        <span class="command"><strong>ndb_drop_table</strong></span> は指定された <code class="literal">NDB</code> テーブルを削除します(<code class="literal">NDB</code> 以外のストレージエンジンで作成されたテーブルに対してこれを使用しようとすると、次のエラーで失敗します: <span class="errortext">723: No such table exists</span>。)この操作は非常に速く、<code class="literal">NDB</code> テーブルに対して MySQL の <code class="literal">DROP TABLE</code> ステートメントを使用するよりも格段に速いことがあります。
      </p><h4><a name="idm139979026099264"></a>使用法</h4><pre class="programlisting">
ndb_drop_table -c <em class="replaceable"><code>connect_string</code></em> <em class="replaceable"><code>tbl_name</code></em> -d <em class="replaceable"><code>db_name</code></em>
</pre><p>
        次の表には、<span class="command"><strong>ndb_drop_table</strong></span> に固有のオプションが含まれています。追加説明が表のあとにあります。ほとんどの MySQL Cluster プログラム (<span class="command"><strong>ndb_drop_table</strong></span> を含む) に共通するオプションについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="18.4.27 MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション">セクション18.4.27「MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション」</a>を参照してください。
      </p><div class="table"><a name="mysql-cluster-ndb_drop_table-options-table"></a><p class="title"><b>表 18.86 
            この表は、ndb_drop_table プログラムのコマンド行オプションについて説明しています</b></p><div class="table-contents"><table id="mysql-cluster-ndb_drop_table-options-table" summary="ndb_drop_table Options and Variables: MySQL Cluster NDB 7.3"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="ndb_drop_tableformat">形式</th>
        <th id="ndb_drop_tabledescription">説明</th>
        <th id="ndb_drop_tableaddedremoved">追加または削除</th>
      </tr></thead><tbody><tr>
        <td id="rowndb_drop_tabledatabase" headers="ndb_drop_tableformat">
          <p>
            <code class="literal">--database=dbname</code>、
          </p>
          <p>
            <code class="literal">-d</code>
          </p>
        </td>
        <td headers="rowndb_drop_tabledatabase ndb_drop_tabledescription">
      テーブルを探すデータベースの名前
    </td>
        <td headers="rowndb_drop_tabledatabase ndb_drop_tableaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-programs-ndb-error-reporter"></a>18.4.13 <span class="command"><strong>ndb_error_reporter</strong></span> — NDB エラーレポートユーティリティー</h3></div></div></div><a class="indexterm" name="idm139979026074448"></a><a class="indexterm" name="idm139979026073232"></a><p>
        <span class="command"><strong>ndb_error_reporter</strong></span> は、クラスタのバグまたはその他の問題の診断に使用できるデータノードおよび管理ノードログファイルからアーカイブを作成します。<span class="emphasis"><em>MySQL Cluster でバグのレポートを提出するときは、このユーティリティーを使用することを強くお勧めします</em></span>。
      </p><p>
        次の表には、MySQL Cluster プログラム <span class="command"><strong>ndb_error_reporter</strong></span> に固有のコマンドオプションが含まれています。追加説明が表のあとにあります。ほとんどの MySQL Cluster プログラム (<span class="command"><strong>ndb_error_reporter</strong></span> を含む) に共通するオプションについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="18.4.27 MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション">セクション18.4.27「MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション」</a>を参照してください。
      </p><p>
        MySQL Cluster NDB 7.3.3 より前では、<span class="command"><strong>ndb_error_reporter</strong></span> は <code class="option">--help</code> オプションをサポートしていませんでした (Bug #11756666、Bug #48606)。<code class="option">--connection-timeout</code> <code class="option">--dry-scp</code> オプションおよび <code class="option">--skip-nodegroup</code> オプションもこのリリースで追加されました (Bug #16602002)。
      </p><div class="table"><a name="mysql-cluster-ndb_error_reporter-options-table"></a><p class="title"><b>表 18.87 
            この表は、ndb_error_reporter プログラムのコマンド行オプションについて説明しています</b></p><div class="table-contents"><table id="mysql-cluster-ndb_error_reporter-options-table" summary="ndb_error_reporter Options and Variables: MySQL Cluster NDB 7.3"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="ndb_error_reporterformat">形式</th>
        <th id="ndb_error_reporterdescription">説明</th>
        <th id="ndb_error_reporteraddedremoved">追加または削除</th>
      </tr></thead><tbody><tr>
        <td id="rowndb_error_reporterconnection-timeout" headers="ndb_error_reporterformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_error_reporter_connection-timeout">--connection-timeout=timeout</a> </code>
          </p>
        </td>
        <td headers="rowndb_error_reporterconnection-timeout ndb_error_reporterdescription">
      ノードに接続するときに待機する秒数 (これを経過するとタイムアウト)。
    </td>
        <td headers="rowndb_error_reporterconnection-timeout ndb_error_reporteraddedremoved">
          <p>
            追加: NDB 7.3.3
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_error_reporterdry-scp" headers="ndb_error_reporterformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_error_reporter_dry-scp">--dry-scp</a> </code>
          </p>
        </td>
        <td headers="rowndb_error_reporterdry-scp ndb_error_reporterdescription">
      リモートホストで scp を無効にします。テストのためのみに使用します。
    </td>
        <td headers="rowndb_error_reporterdry-scp ndb_error_reporteraddedremoved">
          <p>
            追加: NDB 7.3.3
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_error_reporterfs" headers="ndb_error_reporterformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_error_reporter_fs">--fs</a> </code>
          </p>
        </td>
        <td headers="rowndb_error_reporterfs ndb_error_reporterdescription">
      エラーレポートにファイルシステムデータを含めます。大量のディスク領域が使用されることがあります
    </td>
        <td headers="rowndb_error_reporterfs ndb_error_reporteraddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_error_reporterskip-nodegroup" headers="ndb_error_reporterformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_error_reporter_skip-nodegroup">--skip-nodegroup=nodegroup_id</a> </code>
          </p>
        </td>
        <td headers="rowndb_error_reporterskip-nodegroup ndb_error_reporterdescription">
      この ID のノードグループ内のすべてのノードをスキップします。
    </td>
        <td headers="rowndb_error_reporterskip-nodegroup ndb_error_reporteraddedremoved">
          <p>
            追加: NDB 7.3.3
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><h4><a name="idm139979026018496"></a>使用法</h4><pre class="programlisting">
ndb_error_reporter <em class="replaceable"><code>path/to/config-file</code></em> [<em class="replaceable"><code>username</code></em>] [<em class="replaceable"><code>options</code></em>]
</pre><p>
        このユーティリティーは管理ノードホストで使用することが意図されており、管理ホスト構成ファイル (通常、<code class="filename">config.ini</code> という名前です) へのパスが必要となります。必要に応じて、データノードログファイルをコピーするために、SSH を使用してクラスタのデータノードにアクセスできるユーザーの名前を指定できます。<span class="command"><strong>ndb_error_reporter</strong></span> は、実行されたディレクトリと同じディレクトリに作成されるアーカイブにそれらのすべてのファイルを含めます。アーカイブには <code class="filename">ndb_error_report_<em class="replaceable"><code>YYYYMMDDHHMMSS</code></em>.tar.bz2</code> という名前が付けられます。ここで <em class="replaceable"><code>YYYYMMDDHHMMSS</code></em> は日時文字列です。
      </p><p>
        <a class="indexterm" name="idm139979026010960"></a> <span class="command"><strong>ndb_error_reporter</strong></span> は次に一覧されているオプションも受け入れます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndb_error_reporter_connection-timeout"></a>
            <a class="indexterm" name="idm139979026006672"></a> <code class="option">--connection-timeout=<em class="replaceable"><code>timeout</code></em></code>
          </p><div class="informaltable"><table summary="Options for connection-timeout" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>導入</strong></span></td><td colspan="3">5.6.14-ndb-7.3.3</td></tr><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--connection-timeout=timeout</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">整数</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr></tbody></table></div><p>
            ノードに接続を試みるときに、タイムアウトする前にこの秒数だけ待機します。
          </p></li><li class="listitem"><p><a name="option_ndb_error_reporter_dry-scp"></a>
            <a class="indexterm" name="idm139979025989408"></a> <code class="option">--dry-scp</code>
          </p><div class="informaltable"><table summary="Options for dry-scp" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>導入</strong></span></td><td colspan="3">5.6.14-ndb-7.3.3</td></tr><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--dry-scp</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">TRUE</code></td></tr></tbody></table></div><p>
            リモートホストからの scp を使用せずに <span class="command"><strong>ndb_error_reporter</strong></span> を実行します。テストにのみ使用されます。
          </p></li><li class="listitem"><p><a name="option_ndb_error_reporter_fs"></a>
            <a class="indexterm" name="idm139979025971616"></a> <code class="option">--fs</code>
          </p><div class="informaltable"><table summary="Options for fs" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--fs</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table></div><p>
            データノードファイルシステムを管理ホストにコピーし、それらをアーカイブに含めます。
          </p><p>
            データノードファイルシステムは圧縮されていても非常に大きいことがあるため、特にそうするように要請された場合を除き、このオプションを使用して作成したアーカイブをオラクルに送信<span class="emphasis"><em>しない</em></span>でください。
          </p></li><li class="listitem"><p><a name="option_ndb_error_reporter_skip-nodegroup"></a>
            <a class="indexterm" name="idm139979025954896"></a> <code class="option">--skip-nodegroup=<em class="replaceable"><code>nodegroup_id</code></em></code>
          </p><div class="informaltable"><table summary="Options for connection-timeout" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>導入</strong></span></td><td colspan="3">5.6.14-ndb-7.3.3</td></tr><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--connection-timeout=timeout</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">整数</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr></tbody></table></div><p>
            指定したノードグループ ID を持つノードグループに属するすべてのノードをスキップします。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-programs-ndb-index-stat"></a>18.4.14 <span class="command"><strong>ndb_index_stat</strong></span> — NDB インデックス統計ユーティリティー</h3></div></div></div><a class="indexterm" name="idm139979025936480"></a><p>
        <span class="command"><strong>ndb_index_stat</strong></span> は、<code class="literal">NDB</code> テーブルのインデックスに関するフラグメントごとの統計情報を表示します。これには、キャッシュバージョンと経過期間、パーティションごとのインデックスエントリの数、およびインデックスによるメモリー使用量が含まれます。
      </p><h4><a name="idm139979025932640"></a>使用法</h4><p>
        指定した <code class="literal">NDB</code> テーブルの基本的なインデックス統計を取得するには、最初の引数としてテーブル名を指定し、<code class="option">--database</code> (<code class="option">-d</code>) オプションを使用してこのテーブルが含まれているデータベース名をその直後に指定して、<span class="command"><strong>ndb_index_stat</strong></span> を次のように呼び出します。
      </p><pre class="programlisting">
ndb_index_stat <em class="replaceable"><code>table</code></em> -d <em class="replaceable"><code>database</code></em>
</pre><p>
        この例では、<span class="command"><strong>ndb_index_stat</strong></span> を使用して、<code class="literal">test</code> データベースの <code class="literal">mytable</code> という名前の <code class="literal">NDB</code> テーブルに関するそのような情報を取得しています。
      </p><a class="indexterm" name="idm139979025923232"></a><a class="indexterm" name="idm139979025921120"></a><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndb_index_stat -d test mytable</code></strong>
table:City index:PRIMARY fragCount:2
sampleVersion:3 loadTime:1399585986 sampleCount:1994 keyBytes:7976
query cache: valid:1 sampleCount:1994 totalBytes:27916
times in ms: save: 7.133 sort: 1.974 sort per sample: 0.000

NDBT_ProgramExit: 0 - OK
</pre><p>
        <code class="literal">sampleVersion</code> は、統計データが取得されたキャッシュのバージョン番号です。<code class="option">--update</code> オプションを指定して <span class="command"><strong>ndb_index_stat</strong></span> を実行すると、sampleVersion が増分されます。
      </p><p>
        <code class="literal">loadTime</code> はキャッシュが最後に更新された時間を示しています。これは UNIX エポックからの秒数として表されます。
      </p><p>
        <code class="literal">sampleCount</code> はパーティションごとに見つかったインデックスエントリの数です。エントリの合計数を見積もるには、これをフラグメントの数 (<code class="literal">fragCount</code> として表示されます) で乗算します。
      </p><p>
        <code class="literal">sampleCount</code> は <code class="literal">SHOW INDEX</code> または <code class="literal">INFORMATION_SCHEMA.STATISTICS</code> のカーディナリティーと似ています。ただし、後者の 2 つはテーブル全体の統計を示し、<span class="command"><strong>ndb_index_stat</strong></span> はフラグメントごとの平均を示します。
      </p><p>
        <code class="literal">keyBytes</code> はインデックスによって使用されるバイト数です。この例では、主キーは整数であり、各インデックスに 4 バイトが必要となるため、<code class="literal">keyBytes</code> はこの場合次のように計算できます。
      </p><pre class="programlisting">
    keyBytes = sampleCount * (4 bytes per index) = 1994 * 4 = 7976
</pre><p>
        この情報は、<code class="literal">INFORMATION_SCHEMA.COLUMNS</code> の対応するカラム定義を使用して取得することもできます (これには、MySQL Server および MySQL クライアントアプリケーションが必要となります)。
      </p><p>
        <code class="literal">totalBytes</code> はテーブルのすべてのインデックスで使用される合計メモリーです (バイト単位)。
      </p><p>
        前述の例に示されている時間は、<span class="command"><strong>ndb_index_stat</strong></span> の各呼び出しに固有のものです。
      </p><p>
        <code class="option">--verbose</code> オプションを指定すると、次のように追加出力が表示されます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndb_index_stat -d test mytable --verbose</code></strong>
random seed 1337010518
connected
loop 1 of 1
table:mytable index:PRIMARY fragCount:4
sampleVersion:2 loadTime:1336751773 sampleCount:0 keyBytes:0
read stats
query cache created
query cache: valid:1 sampleCount:0 totalBytes:0
times in ms: save: 20.766 sort: 0.001
disconnected

NDBT_ProgramExit: 0 - OK

shell&gt;
</pre><h4><a name="idm139979025896000"></a>オプション</h4><p>
        次の表には、MySQL Cluster <span class="command"><strong>ndb_index_stat</strong></span> ユーティリティーに固有のオプションが含まれています。詳しい説明は表のあとに一覧されています。ほとんどの MySQL Cluster プログラム (<span class="command"><strong>ndb_index_stat</strong></span> を含む) に共通するオプションについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="18.4.27 MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション">セクション18.4.27「MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション」</a>を参照してください。
      </p><div class="table"><a name="mysql-cluster-ndb_index_stat-options-table"></a><p class="title"><b>表 18.88 
            この表は、ndb_index_stat プログラムのコマンド行オプションについて説明しています</b></p><div class="table-contents"><table id="mysql-cluster-ndb_index_stat-options-table" summary="ndb_index_stat Options and Variables: MySQL Cluster NDB 7.3"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="ndb_index_statformat">形式</th>
        <th id="ndb_index_statdescription">説明</th>
        <th id="ndb_index_stataddedremoved">追加または削除</th>
      </tr></thead><tbody><tr>
        <td id="rowndb_index_statdatabase" headers="ndb_index_statformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_index_stat_database">--database=name</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_index_stat_database">-d</a> </code>
          </p>
        </td>
        <td headers="rowndb_index_statdatabase ndb_index_statdescription">
      テーブルが含まれているデータベースの名前。
    </td>
        <td headers="rowndb_index_statdatabase ndb_index_stataddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_index_statdelete" headers="ndb_index_statformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_index_stat_delete">--delete</a> </code>
          </p>
        </td>
        <td headers="rowndb_index_statdelete ndb_index_statdescription">
      指定されたテーブルのインデックス統計を削除し、以前に構成された自動更新を停止します。
    </td>
        <td headers="rowndb_index_statdelete ndb_index_stataddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_index_statupdate" headers="ndb_index_statformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_index_stat_update">--update</a> </code>
          </p>
        </td>
        <td headers="rowndb_index_statupdate ndb_index_statdescription">
      指定されたテーブルのインデックス統計を更新し、以前に構成された自動更新を再開します。
    </td>
        <td headers="rowndb_index_statupdate ndb_index_stataddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_index_statdump" headers="ndb_index_statformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_index_stat_dump">--dump</a> </code>
          </p>
        </td>
        <td headers="rowndb_index_statdump ndb_index_statdescription">
      クエリーキャッシュを出力します。
    </td>
        <td headers="rowndb_index_statdump ndb_index_stataddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_index_statquery" headers="ndb_index_statformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_index_stat_query">--query=#</a> </code>
          </p>
        </td>
        <td headers="rowndb_index_statquery ndb_index_statdescription">
      最初のキー属性 (符号なしの int である必要があります) に対して多数のランダム範囲クエリーを実行します。
    </td>
        <td headers="rowndb_index_statquery ndb_index_stataddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_index_statsys-drop" headers="ndb_index_statformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_index_stat_sys-drop">--sys-drop</a> </code>
          </p>
        </td>
        <td headers="rowndb_index_statsys-drop ndb_index_statdescription">
      NDB カーネルの統計テーブルおよびイベントを削除します (すべての統計が失われます)
    </td>
        <td headers="rowndb_index_statsys-drop ndb_index_stataddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_index_statsys-create" headers="ndb_index_statformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_index_stat_sys-create">--sys-create</a> </code>
          </p>
        </td>
        <td headers="rowndb_index_statsys-create ndb_index_statdescription">
      NDB カーネルにすべての統計テーブルおよびイベントを作成します (それらがまったく存在していなかった場合)
    </td>
        <td headers="rowndb_index_statsys-create ndb_index_stataddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_index_statsys-create-if-not-exist" headers="ndb_index_statformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_index_stat_sys-create-if-not-exist">--sys-create-if-not-exist</a> </code>
          </p>
        </td>
        <td headers="rowndb_index_statsys-create-if-not-exist ndb_index_statdescription">
      NDB カーネルにあらかじめ存在しない統計テーブルおよびイベントを作成します。
    </td>
        <td headers="rowndb_index_statsys-create-if-not-exist ndb_index_stataddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_index_statsys-create-if-not-valid" headers="ndb_index_statformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_index_stat_sys-create-if-not-valid">--sys-create-if-not-valid</a> </code>
          </p>
        </td>
        <td headers="rowndb_index_statsys-create-if-not-valid ndb_index_statdescription">
      無効なものを削除したあとに、NDB カーネルにあらかじめ存在しない統計テーブルまたはイベントを作成します。
    </td>
        <td headers="rowndb_index_statsys-create-if-not-valid ndb_index_stataddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_index_statsys-check" headers="ndb_index_statformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_index_stat_sys-check">--sys-check</a> </code>
          </p>
        </td>
        <td headers="rowndb_index_statsys-check ndb_index_statdescription">
      NDB システムのインデックス統計およびイベントテーブルが存在することを確認します。
    </td>
        <td headers="rowndb_index_statsys-check ndb_index_stataddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_index_statsys-skip-tables" headers="ndb_index_statformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_index_stat_sys-skip-tables">--sys-skip-tables</a> </code>
          </p>
        </td>
        <td headers="rowndb_index_statsys-skip-tables ndb_index_statdescription">
      sys-* オプションをテーブルに適用しません。
    </td>
        <td headers="rowndb_index_statsys-skip-tables ndb_index_stataddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_index_statsys-skip-events" headers="ndb_index_statformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_index_stat_sys-skip-events">--sys-skip-events</a> </code>
          </p>
        </td>
        <td headers="rowndb_index_statsys-skip-events ndb_index_statdescription">
      sys-* オプションをイベントに適用しません。
    </td>
        <td headers="rowndb_index_statsys-skip-events ndb_index_stataddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_index_statverbose" headers="ndb_index_statformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_index_stat_verbose">--verbose</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_index_stat_verbose">-v</a> </code>
          </p>
        </td>
        <td headers="rowndb_index_statverbose ndb_index_statdescription">
      冗長出力を有効にします
    </td>
        <td headers="rowndb_index_statverbose ndb_index_stataddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_index_statloops" headers="ndb_index_statformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_index_stat_loops">--loops=#</a> </code>
          </p>
        </td>
        <td headers="rowndb_index_statloops ndb_index_statdescription">
      指定されたコマンドを実行する回数を設定します。デフォルトは 0 です。
    </td>
        <td headers="rowndb_index_statloops ndb_index_stataddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p><a name="ndb-index-stat-options-statistics"></a><b>ndb_index_stat の統計オプション </b>
          次のオプションはインデックス統計を生成するために使用します。これらは指定されたテーブルおよびデータベースを処理します。これらはシステムオプション (<a class="xref" href="mysql-cluster.html#ndb-index-stat-options-system" title="ndb_index_stat のシステムオプション">ndb_index_stat のシステムオプション</a>を参照してください) と混在させることはできません。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndb_index_stat_database"></a>
            <a class="indexterm" name="idm139979025760528"></a> <a class="indexterm" name="idm139979025758976"></a> <code class="option">--database=<em class="replaceable"><code>name</code></em></code>、<code class="option">-d <em class="replaceable"><code>name</code></em></code>
          </p><div class="informaltable"><table summary="Options for database" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--database=name</code></td></tr><tr><td scope="row" rowspan="4"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">文字列</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">[none]</code></td></tr><tr><td scope="row"><span class="bold"><strong>最小値</strong></span></td><td colspan="2"><code class="literal"></code></td></tr><tr><td scope="row"><span class="bold"><strong>最大値</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table></div><p>
            問い合わせるテーブルが含まれているデータベースの名前。
          </p></li><li class="listitem"><p><a name="option_ndb_index_stat_delete"></a>
            <a class="indexterm" name="idm139979025738720"></a> <code class="option">--delete</code>
          </p><div class="informaltable"><table summary="Options for delete" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--delete</code></td></tr><tr><td scope="row" rowspan="4"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">false</code></td></tr><tr><td scope="row"><span class="bold"><strong>最小値</strong></span></td><td colspan="2"><code class="literal"></code></td></tr><tr><td scope="row"><span class="bold"><strong>最大値</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table></div><p>
            指定したテーブルのインデックス統計を削除し、以前構成された自動更新を停止します。
          </p></li><li class="listitem"><p><a name="option_ndb_index_stat_update"></a>
            <a class="indexterm" name="idm139979025719312"></a> <code class="option">--update</code>
          </p><div class="informaltable"><table summary="Options for update" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--update</code></td></tr><tr><td scope="row" rowspan="4"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">false</code></td></tr><tr><td scope="row"><span class="bold"><strong>最小値</strong></span></td><td colspan="2"><code class="literal"></code></td></tr><tr><td scope="row"><span class="bold"><strong>最大値</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table></div><p>
            指定したテーブルのインデックス統計を更新し、以前構成された自動更新を再開します。
          </p></li><li class="listitem"><p><a name="option_ndb_index_stat_dump"></a>
            <a class="indexterm" name="idm139979025699840"></a> <code class="option">--dump</code>
          </p><div class="informaltable"><table summary="Options for dump" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--dump</code></td></tr><tr><td scope="row" rowspan="4"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">false</code></td></tr><tr><td scope="row"><span class="bold"><strong>最小値</strong></span></td><td colspan="2"><code class="literal"></code></td></tr><tr><td scope="row"><span class="bold"><strong>最大値</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table></div><p>
            クエリーキャッシュの内容をダンプします。
          </p></li><li class="listitem"><p><a name="option_ndb_index_stat_query"></a>
            <a class="indexterm" name="idm139979025680480"></a> <code class="option">--query=<em class="replaceable"><code>#</code></em></code>
          </p><div class="informaltable"><table summary="Options for query" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--query=#</code></td></tr><tr><td scope="row" rowspan="4"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">数値</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr><tr><td scope="row"><span class="bold"><strong>最小値</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr><tr><td scope="row"><span class="bold"><strong>最大値</strong></span></td><td colspan="2"><code class="literal">MAX_INT</code></td></tr></tbody></table></div><p>
            最初のキー属性 (符号なしの int である必要があります) に対してランダム範囲クエリーを実行します。
          </p></li></ul></div><p><a name="ndb-index-stat-options-system"></a><b>ndb_index_stat のシステムオプション </b>
          次のオプションは、NDB カーネルの統計テーブルを生成および更新するために使用します。これらのオプションは、統計オプションと混在させることはできません (<a class="xref" href="mysql-cluster.html#ndb-index-stat-options-statistics" title="ndb_index_stat の統計オプション">ndb_index_stat の統計オプション</a>を参照してください)。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndb_index_stat_sys-drop"></a>
            <a class="indexterm" name="idm139979025657008"></a> <code class="option">--sys-drop</code>
          </p><div class="informaltable"><table summary="Options for sys-drop" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--sys-drop</code></td></tr><tr><td scope="row" rowspan="4"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">false</code></td></tr><tr><td scope="row"><span class="bold"><strong>最小値</strong></span></td><td colspan="2"><code class="literal"></code></td></tr><tr><td scope="row"><span class="bold"><strong>最大値</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table></div><p>
            NDB カーネルのすべての統計テーブルおよびイベントを削除します。<span class="emphasis"><em>これを実行すると、すべての統計が失われます</em></span>。
          </p></li><li class="listitem"><p><a name="option_ndb_index_stat_sys-create"></a>
            <a class="indexterm" name="idm139979025637104"></a> <code class="option">--sys-create</code>
          </p><div class="informaltable"><table summary="Options for sys-create" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--sys-create</code></td></tr><tr><td scope="row" rowspan="4"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">false</code></td></tr><tr><td scope="row"><span class="bold"><strong>最小値</strong></span></td><td colspan="2"><code class="literal"></code></td></tr><tr><td scope="row"><span class="bold"><strong>最大値</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table></div><p>
            NDB カーネルにすべての統計テーブルおよびイベントを作成します。これはそれらがあらかじめ存在していなかった場合にのみ動作します。
          </p></li><li class="listitem"><p><a name="option_ndb_index_stat_sys-create-if-not-exist"></a>
            <a class="indexterm" name="idm139979025617440"></a> <code class="option">sys-create-if-not-exist</code>
          </p><div class="informaltable"><table summary="Options for sys-create-if-not-exist" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--sys-create-if-not-exist</code></td></tr><tr><td scope="row" rowspan="4"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">false</code></td></tr><tr><td scope="row"><span class="bold"><strong>最小値</strong></span></td><td colspan="2"><code class="literal"></code></td></tr><tr><td scope="row"><span class="bold"><strong>最大値</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table></div><p>
            このプログラムが呼び出されたときにあらかじめ存在していなかった NDB システム統計テーブルまたはイベント (あるいはその両方) を作成します。
          </p></li><li class="listitem"><p><a name="option_ndb_index_stat_sys-create-if-not-valid"></a>
            <a class="indexterm" name="idm139979025597680"></a> <code class="option">--sys-create-if-not-valid</code>
          </p><div class="informaltable"><table summary="Options for sys-create-if-not-valid" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--sys-create-if-not-valid</code></td></tr><tr><td scope="row" rowspan="4"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">false</code></td></tr><tr><td scope="row"><span class="bold"><strong>最小値</strong></span></td><td colspan="2"><code class="literal"></code></td></tr><tr><td scope="row"><span class="bold"><strong>最大値</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table></div><p>
            無効なものを削除したあとにあらかじめ存在していなかった NDB システムの統計テーブルまたはイベントを作成します。
          </p></li><li class="listitem"><p><a name="option_ndb_index_stat_sys-check"></a>
            <a class="indexterm" name="idm139979025578032"></a> <code class="option">--sys-check</code>
          </p><div class="informaltable"><table summary="Options for sys-check" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--sys-check</code></td></tr><tr><td scope="row" rowspan="4"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">false</code></td></tr><tr><td scope="row"><span class="bold"><strong>最小値</strong></span></td><td colspan="2"><code class="literal"></code></td></tr><tr><td scope="row"><span class="bold"><strong>最大値</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table></div><p>
            必要なすべてのシステム統計テーブルおよびイベントが NDB カーネルに存在することを検証します。
          </p></li><li class="listitem"><p><a name="option_ndb_index_stat_sys-skip-tables"></a>
            <a class="indexterm" name="idm139979025558512"></a> <code class="option">--sys-skip-tables</code>
          </p><div class="informaltable"><table summary="Options for sys-skip-tables" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--sys-skip-tables</code></td></tr><tr><td scope="row" rowspan="4"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">false</code></td></tr><tr><td scope="row"><span class="bold"><strong>最小値</strong></span></td><td colspan="2"><code class="literal"></code></td></tr><tr><td scope="row"><span class="bold"><strong>最大値</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table></div><p>
            <code class="option">--sys-*</code> オプションを統計テーブルに適用しません。
          </p></li><li class="listitem"><p><a name="option_ndb_index_stat_sys-skip-events"></a>
            <a class="indexterm" name="idm139979025538784"></a> <code class="option">--sys-skip-events</code>
          </p><div class="informaltable"><table summary="Options for sys-skip-events" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--sys-skip-events</code></td></tr><tr><td scope="row" rowspan="4"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">false</code></td></tr><tr><td scope="row"><span class="bold"><strong>最小値</strong></span></td><td colspan="2"><code class="literal"></code></td></tr><tr><td scope="row"><span class="bold"><strong>最大値</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table></div><p>
            <code class="option">--sys-*</code> オプションをイベントに適用しません。
          </p></li><li class="listitem"><p><a name="option_ndb_index_stat_verbose"></a>
            <a class="indexterm" name="idm139979025519008"></a> <code class="option">--verbose</code>
          </p><div class="informaltable"><table summary="Options for verbose" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--verbose</code></td></tr><tr><td scope="row" rowspan="4"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">false</code></td></tr><tr><td scope="row"><span class="bold"><strong>最小値</strong></span></td><td colspan="2"><code class="literal"></code></td></tr><tr><td scope="row"><span class="bold"><strong>最大値</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table></div><p>
            冗長出力を有効にします。
          </p></li><li class="listitem"><p><a name="option_ndb_index_stat_loops"></a>
            <a class="indexterm" name="idm139979025499680"></a> <code class="option">--loops=<em class="replaceable"><code>#</code></em></code>
          </p><div class="informaltable"><table summary="Options for loops" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--loops=#</code></td></tr><tr><td scope="row" rowspan="4"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">数値</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr><tr><td scope="row"><span class="bold"><strong>最小値</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr><tr><td scope="row"><span class="bold"><strong>最大値</strong></span></td><td colspan="2"><code class="literal">MAX_INT</code></td></tr></tbody></table></div><p>
            コマンドをこの回数繰り返します (テストで使用するため)。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-programs-ndb-print-backup-file"></a>18.4.15 <span class="command"><strong>ndb_print_backup_file</strong></span> — NDB バックアップファイルの内容の出力</h3></div></div></div><a class="indexterm" name="idm139979025478736"></a><p>
        <span class="command"><strong>ndb_print_backup_file</strong></span> は、クラスタバックアップファイルから診断情報を取得します。
      </p><h4><a name="idm139979025475984"></a>使用法</h4><pre class="programlisting">
ndb_print_backup_file <em class="replaceable"><code>file_name</code></em>
</pre><p>
        <em class="replaceable"><code>file_name</code></em> はクラスタバックアップファイル名です。これには、クラスタバックアップディレクトリにある任意のファイル (<code class="filename">.Data</code>、<code class="filename">.ctl</code>、または <code class="filename">.log</code> ファイル) を指定できます。これらのファイルは、データノードのバックアップディレクトリのサブディレクトリ <code class="filename">BACKUP-<em class="replaceable"><code>#</code></em></code> にあります。ここで、<em class="replaceable"><code>#</code></em> はバックアップのシーケンス番号です。クラスタバックアップファイルおよびその内容については、<a class="xref" href="mysql-cluster.html#mysql-cluster-backup-concepts" title="18.5.3.1 MySQL Cluster バックアップの概念">セクション18.5.3.1「MySQL Cluster バックアップの概念」</a>を参照してください。
      </p><p>
        <span class="command"><strong>ndb_print_schema_file</strong></span> および <span class="command"><strong>ndb_print_sys_file</strong></span> と同様に (および管理サーバーホストで実行するか、管理サーバーに接続することが意図されているほかのほとんどの <code class="literal">NDB</code> ユーティリティーと異なり)、<span class="command"><strong>ndb_print_backup_file</strong></span> は、データノードファイルシステムに直接アクセスするため、クラスタデータノードで実行する必要があります。このユーティリティーは管理サーバーを使用しないため、管理サーバーが実行されていない場合、およびクラスタが完全にシャットダウンされている場合にも使用できます。
      </p><h4><a name="idm139979025463664"></a>その他のオプション</h4><p>
        なし。
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-programs-ndb-print-file"></a>18.4.16 <span class="command"><strong>ndb_print_file</strong></span> — NDB ディスクデータファイル内容の出力</h3></div></div></div><a class="indexterm" name="idm139979025460784"></a><p>
        <span class="command"><strong>ndb_print_file</strong></span> は、MySQL Cluster ディスクデータファイルから情報を取得します。
      </p><h4><a name="idm139979025458048"></a>使用法</h4><pre class="programlisting">
ndb_print_file [-v] [-q] <em class="replaceable"><code>file_name</code></em>+
</pre><p>
        <em class="replaceable"><code>file_name</code></em> は、MySQL Cluster ディスクデータファイル名です。複数のファイル名はスペースで区切ることによって受け入れられます。
      </p><p>
        <span class="command"><strong>ndb_print_schema_file</strong></span> および <span class="command"><strong>ndb_print_sys_file</strong></span> と同様に (および管理サーバーホストで実行すること、または管理サーバーに接続することが意図されているほかのほとんどの <code class="literal">NDB</code> ユーティリティーと異なり)、<span class="command"><strong>ndb_print_file</strong></span> は、データノードファイルシステムに直接アクセスするため、MySQL Cluster データノードで実行する必要があります。このユーティリティーは管理サーバーを使用しないため、管理サーバーが実行されていない場合、およびクラスタが完全にシャットダウンされている場合にも使用できます。
      </p><h4><a name="idm139979025450624"></a>その他のオプション</h4><p>
        <span class="command"><strong>ndb_print_file</strong></span> では、次のオプションがサポートされます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="option">-v</code>: 出力を冗長にします。
          </p></li><li class="listitem"><p>
            <code class="option">-q</code>: 出力を抑止します (抑止モード)。
          </p></li><li class="listitem"><p>
            <code class="option">--help</code>、<code class="option">-h</code>、<code class="option">-?</code>: 出力を抑止します (抑止モード)。
          </p><p>
            このオプションは、MySQL Cluster NDB 7.3.7 より前は正常に動作しませんでした。(Bug #17069285)
          </p></li></ul></div><p>
        詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-disk-data" title="18.5.12 MySQL Cluster ディスクデータテーブル">セクション18.5.12「MySQL Cluster ディスクデータテーブル」</a>を参照してください。
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-programs-ndb-print-schema-file"></a>18.4.17 <span class="command"><strong>ndb_print_schema_file</strong></span> — NDB スキーマファイル内容の出力</h3></div></div></div><a class="indexterm" name="idm139979025439984"></a><p>
        <span class="command"><strong>ndb_print_schema_file</strong></span> は、クラスタスキーマファイルから診断情報を取得します。
      </p><h4><a name="idm139979025437248"></a>使用法</h4><pre class="programlisting">
ndb_print_schema_file <em class="replaceable"><code>file_name</code></em>
</pre><p>
        <em class="replaceable"><code>file_name</code></em> はクラスタスキーマファイル名です。クラスタスキーマファイルについては、<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-ndbd-filesystemdir-files.html" target="_top">MySQL Cluster Data Node File System Directory Files</a>を参照してください。
      </p><p>
        <span class="command"><strong>ndb_print_backup_file</strong></span> および <span class="command"><strong>ndb_print_sys_file</strong></span> と同様に (および管理サーバーのホストで実行すること、または管理サーバーに接続することが意図されているほかのほとんどの <code class="literal">NDB</code> ユーティリティーと異なり)、<span class="command"><strong>ndb_schema_backup_file</strong></span> は、データノードファイルシステムに直接アクセスするため、クラスタデータノードで実行する必要があります。このユーティリティーは管理サーバーを使用しないため、管理サーバーが実行されていない場合、およびクラスタが完全にシャットダウンされている場合にも使用できます。
      </p><h4><a name="idm139979025429200"></a>その他のオプション</h4><p>
        なし。
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-programs-ndb-print-sys-file"></a>18.4.18 <span class="command"><strong>ndb_print_sys_file</strong></span> — NDB システムファイル内容の出力</h3></div></div></div><a class="indexterm" name="idm139979025426224"></a><p>
        <span class="command"><strong>ndb_print_sys_file</strong></span> は、MySQL Cluster システムファイルから診断情報を取得します。
      </p><h4><a name="idm139979025423488"></a>使用法</h4><pre class="programlisting">
ndb_print_sys_file <em class="replaceable"><code>file_name</code></em>
</pre><p>
        <em class="replaceable"><code>file_name</code></em> はクラスタシステムファイル (sysfile) 名です。クラスタシステムファイルはデータノードのデータディレクトリ (<code class="literal">DataDir</code>) にあり、このディレクトリからシステムファイルへのパスは <code class="filename">ndb_<em class="replaceable"><code>#</code></em>_fs/D<em class="replaceable"><code>#</code></em>/DBDIH/P<em class="replaceable"><code>#</code></em>.sysfile</code> というパターンに一致します。それぞれの箇所で、<em class="replaceable"><code>#</code></em> は数字を表しています (同じ数字であるとはかぎりません)。詳細は、<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-ndbd-filesystemdir-files.html" target="_top">MySQL Cluster Data Node File System Directory Files</a>を参照してください。
      </p><p>
        <span class="command"><strong>ndb_print_backup_file</strong></span> および <span class="command"><strong>ndb_print_schema_file</strong></span> と同様に (および管理サーバーのホストで実行すること、または管理サーバーに接続することが意図されているほかのほとんどの <code class="literal">NDB</code> ユーティリティーと異なり)、<span class="command"><strong>ndb_print_backup_file</strong></span> は、データノードファイルシステムに直接アクセスするため、クラスタデータノードで実行する必要があります。このユーティリティーは管理サーバーを使用しないため、管理サーバーが実行されていない場合、およびクラスタが完全にシャットダウンされている場合にも使用できます。
      </p><h4><a name="idm139979025411504"></a>その他のオプション</h4><p>
        なし。
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-programs-ndbd-redo-log-reader"></a>18.4.19 <span class="command"><strong>ndbd_redo_log_reader</strong></span> — クラスタ Redo ログ内容のチェックおよび出力</h3></div></div></div><a class="indexterm" name="idm139979025408496"></a><p>
        Redo ログファイルを読み取って、そのエラーをチェックする、または人間が読むことのできる形式で内容を出力する、あるいはその両方を行います。<span class="command"><strong>ndbd_redo_log_reader</strong></span> は、MySQL Cluster 開発者およびサポート担当者が問題をデバッグおよび診断するために使用することが主に意図されています。
      </p><p>
        このユーティリティーはまだ開発中であり、構文および動作は今後の MySQL Cluster リリースで変更されることがあります。
      </p><p>
        <span class="command"><strong>ndbd_redo_log_reader</strong></span> の C++ ソースファイルは、<code class="filename">/storage/ndb/src/kernel/blocks/dblqh/redoLogReader</code> ディレクトリにあります。
      </p><p>
        次の表には、MySQL Cluster プログラム <span class="command"><strong>ndbd_redo_log_reader</strong></span> に固有のオプションが含まれています。追加説明が表のあとにあります。ほとんどの MySQL Cluster プログラム (<span class="command"><strong>ndbd_redo_log_reader</strong></span> を含む) に共通するオプションについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="18.4.27 MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション">セクション18.4.27「MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション」</a>を参照してください。
      </p><div class="table"><a name="mysql-cluster-ndbd_redo_log_reader-options-table"></a><p class="title"><b>表 18.89 
            この表は、ndbd_redo_log_reader プログラムのコマンド行オプションについて説明しています</b></p><div class="table-contents"><table id="mysql-cluster-ndbd_redo_log_reader-options-table" summary="ndbd_redo_log_reader Options and Variables: MySQL Cluster NDB 7.3"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="ndbd_redo_log_readerformat">形式</th>
        <th id="ndbd_redo_log_readerdescription">説明</th>
        <th id="ndbd_redo_log_readeraddedremoved">追加または削除</th>
      </tr></thead><tbody><tr>
        <td id="rowndbd_redo_log_readernoprint" headers="ndbd_redo_log_readerformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndbd_redo_log_reader_noprint">-noprint</a> </code>
          </p>
        </td>
        <td headers="rowndbd_redo_log_readernoprint ndbd_redo_log_readerdescription">
      レコードを出力しません
    </td>
        <td headers="rowndbd_redo_log_readernoprint ndbd_redo_log_readeraddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndbd_redo_log_readernocheck" headers="ndbd_redo_log_readerformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndbd_redo_log_reader_nocheck">-nocheck</a> </code>
          </p>
        </td>
        <td headers="rowndbd_redo_log_readernocheck ndbd_redo_log_readerdescription">
      レコードのエラーをチェックしません
    </td>
        <td headers="rowndbd_redo_log_readernocheck ndbd_redo_log_readeraddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndbd_redo_log_readerhelp" headers="ndbd_redo_log_readerformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndbd_redo_log_reader_help">--help</a> </code>
          </p>
        </td>
        <td headers="rowndbd_redo_log_readerhelp ndbd_redo_log_readerdescription">
      使用方法の情報を出力します
    </td>
        <td headers="rowndbd_redo_log_readerhelp ndbd_redo_log_readeraddedremoved">
          <p>
            追加: NDB 7.3.4
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><h4><a name="idm139979025365840"></a>使用法</h4><pre class="programlisting">
ndbd_redo_log_reader <em class="replaceable"><code>file_name</code></em> [<em class="replaceable"><code>options</code></em>]
</pre><p>
        <em class="replaceable"><code>file_name</code></em> はクラスタ Redo ログファイルの名前です。Redo ログファイルはデータノードのデータディレクトリ (<code class="literal">DataDir</code>) の下の番号付きディレクトリにあり、このディレクトリから Redo ログファイルへのパスは <code class="filename">ndb_<em class="replaceable"><code>#</code></em>_fs/D<em class="replaceable"><code>#</code></em>/LCP/<em class="replaceable"><code>#</code></em>/T<em class="replaceable"><code>#</code></em>F<em class="replaceable"><code>#</code></em>.Data</code> というパターンに一致します。それぞれの箇所で、<em class="replaceable"><code>#</code></em> は数字を表しています (同じ数字であるとはかぎりません)。詳細は、<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-ndbd-filesystemdir-files.html" target="_top">MySQL Cluster Data Node File System Directory Files</a>を参照してください。
      </p><p>
        読み取られるファイルの名前の後ろには、次に一覧する 1 つ以上のオプションが続くことがあります。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><div class="informaltable"><table summary="Options for noprint" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">-noprint</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table></div><p><a name="option_ndbd_redo_log_reader_noprint"></a>
            <code class="option">-noprint</code>: ログファイルの内容を出力しません。
          </p></li><li class="listitem"><div class="informaltable"><table summary="Options for nocheck" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">-nocheck</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table></div><p><a name="option_ndbd_redo_log_reader_nocheck"></a>
            <code class="option">-nocheck</code>: ログファイルのエラーをチェックしません。
          </p></li><li class="listitem"><div class="informaltable"><table summary="Options for help" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>導入</strong></span></td><td colspan="3">5.6.15-ndb-7.3.4</td></tr><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--help</code></td></tr></tbody></table></div><p><a name="option_ndbd_redo_log_reader_help"></a>
            <code class="option">--help</code>: 使用方法の情報を出力します。
          </p><p>
            MySQL Cluster NDB 7.3.4 で追加されました。(Bug #11749591、Bug #36805)
          </p></li></ul></div><p>
        <span class="command"><strong>ndb_print_backup_file</strong></span> および <span class="command"><strong>ndb_print_schema_file</strong></span> と同様に (および管理サーバーのホストで実行すること、または管理サーバーに接続することが意図されているほとんどの <code class="literal">NDB</code> ユーティリティーと異なり)、<span class="command"><strong>ndbd_redo_log_reader</strong></span> は、データノードファイルシステムに直接アクセスするため、クラスタデータノードで実行する必要があります。このユーティリティーは管理サーバーを使用しないため、管理サーバーが実行されていない場合、およびクラスタが完全にシャットダウンされている場合にも使用できます。
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-programs-ndb-restore"></a>18.4.20 <span class="command"><strong>ndb_restore</strong></span> — MySQL Cluster バックアップのリストア</h3></div></div></div><a class="indexterm" name="idm139979025312928"></a><a class="indexterm" name="idm139979025310912"></a><a class="indexterm" name="idm139979025308976"></a><a class="indexterm" name="idm139979025307088"></a><a class="indexterm" name="idm139979025305120"></a><p>
        クラスタリストアプログラムは、別個のコマンド行ユーティリティー <span class="command"><strong>ndb_restore</strong></span> として実装されており、通常は MySQL の <code class="filename">bin</code> ディレクトリにあります。このプログラムは、バックアップの結果として作成されたファイルを読み取り、格納されている情報をデータベースに挿入します。
      </p><p>
        <span class="command"><strong>ndb_restore</strong></span> は、バックアップを作成するために使用される <code class="literal">START BACKUP</code> コマンド (<a class="xref" href="mysql-cluster.html#mysql-cluster-backup-using-management-client" title="18.5.3.2 MySQL Cluster 管理クライアントを使用したバックアップの作成">セクション18.5.3.2「MySQL Cluster 管理クライアントを使用したバックアップの作成」</a>を参照してください) によって作成されたバックアップファイルごとに、一度実行する必要があります。これは、バックアップが作成された時点の、クラスタ内のデータノード数と同じです。
      </p><a class="indexterm" name="idm139979025298224"></a><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          複数のデータノードを並列でリストアしている場合を除き、<span class="command"><strong>ndb_restore</strong></span> を使用する前に、クラスタをシングルユーザーモードで実行することをお勧めします。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-single-user-mode" title="18.5.8 MySQL Cluster のシングルユーザーモード">セクション18.5.8「MySQL Cluster のシングルユーザーモード」</a>を参照してください。
        </p></div><p>
        次の表には、MySQL Cluster ネイティブバックアップリストアプログラム <span class="command"><strong>ndb_restore</strong></span> に固有のオプションが含まれています。追加説明が表のあとにあります。ほとんどの MySQL Cluster プログラム (<span class="command"><strong>ndb_restore</strong></span> を含む) に共通するオプションについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="18.4.27 MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション">セクション18.4.27「MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション」</a>を参照してください。
      </p><div class="table"><a name="mysql-cluster-ndb_restore-options-table"></a><p class="title"><b>表 18.90 
            この表は、ndb_restore プログラムのコマンド行オプションについて説明しています</b></p><div class="table-contents"><table id="mysql-cluster-ndb_restore-options-table" summary="ndb_restore Options and Variables: MySQL Cluster NDB 7.3"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="ndb_restoreformat">形式</th>
        <th id="ndb_restoredescription">説明</th>
        <th id="ndb_restoreaddedremoved">追加または削除</th>
      </tr></thead><tbody><tr>
        <td id="rowndb_restoreconnect" headers="ndb_restoreformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_connect">--connect</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_connect">-c</a> </code>
          </p>
        </td>
        <td headers="rowndb_restoreconnect ndb_restoredescription">
      --connectstring のエイリアス。
    </td>
        <td headers="rowndb_restoreconnect ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restorenodeid" headers="ndb_restoreformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_nodeid">--nodeid=#</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_nodeid">-n</a> </code>
          </p>
        </td>
        <td headers="rowndb_restorenodeid ndb_restoredescription">
      この ID のノードからファイルをバックアップします
    </td>
        <td headers="rowndb_restorenodeid ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restorebackupid" headers="ndb_restoreformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_backupid">--backupid=#</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_backupid">-b</a> </code>
          </p>
        </td>
        <td headers="rowndb_restorebackupid ndb_restoredescription">
      指定された ID のバックアップからリストアします
    </td>
        <td headers="rowndb_restorebackupid ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restorerestore_data" headers="ndb_restoreformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_restore_data">--restore_data</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_restore_data">-r</a> </code>
          </p>
        </td>
        <td headers="rowndb_restorerestore_data ndb_restoredescription">
      NDB API を使用してテーブルデータおよびログを NDB Cluster にリストアします
    </td>
        <td headers="rowndb_restorerestore_data ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restorerestore_meta" headers="ndb_restoreformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_restore_meta">--restore_meta</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_restore_meta">-m</a> </code>
          </p>
        </td>
        <td headers="rowndb_restorerestore_meta ndb_restoredescription">
      NDB API を使用してメタデータを NDB Cluster にリストアします
    </td>
        <td headers="rowndb_restorerestore_meta ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restoreno-upgrade" headers="ndb_restoreformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_no-upgrade">--no-upgrade</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_no-upgrade">-u</a> </code>
          </p>
        </td>
        <td headers="rowndb_restoreno-upgrade ndb_restoredescription">
      VAR データがまだサイズ変更されていない可変サイズ属性の配列タイプをアップグレードせず、カラム属性を変更しません
    </td>
        <td headers="rowndb_restoreno-upgrade ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restorepromote-attributes" headers="ndb_restoreformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_promote-attributes">--promote-attributes</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_promote-attributes">-A</a> </code>
          </p>
        </td>
        <td headers="rowndb_restorepromote-attributes ndb_restoredescription">
      バックアップからデータをリストアするときに、属性の昇格を許可します
    </td>
        <td headers="rowndb_restorepromote-attributes ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restorepreserve-trailing-spaces" headers="ndb_restoreformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_preserve-trailing-spaces">--preserve-trailing-spaces</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_preserve-trailing-spaces">-P</a> </code>
          </p>
        </td>
        <td headers="rowndb_restorepreserve-trailing-spaces ndb_restoredescription">
      固定幅文字列型を可変幅型に昇格するときに、末尾の空白 (パディングを含む) を維持することを許可します
    </td>
        <td headers="rowndb_restorepreserve-trailing-spaces ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restoreno-restore-disk-objects" headers="ndb_restoreformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_no-restore-disk-objects">--no-restore-disk-objects</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_no-restore-disk-objects">-d</a> </code>
          </p>
        </td>
        <td headers="rowndb_restoreno-restore-disk-objects ndb_restoredescription">
      ディスクデータに関連するオブジェクトをリストアしません
    </td>
        <td headers="rowndb_restoreno-restore-disk-objects ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restorerestore_epoch" headers="ndb_restoreformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_restore_epoch">--restore_epoch</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_restore_epoch">-e</a> </code>
          </p>
        </td>
        <td headers="rowndb_restorerestore_epoch ndb_restoredescription">
      エポック情報をステータステーブルにリストアします。MySQL Cluster レプリケーションスレーブでレプリケーションを開始する場合に便利です。mysql.ndb_apply_status の ID 0 の行が更新/挿入されます。
    </td>
        <td headers="rowndb_restorerestore_epoch ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restoreskip-table-check" headers="ndb_restoreformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_skip-table-check">--skip-table-check</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_skip-table-check">-s</a> </code>
          </p>
        </td>
        <td headers="rowndb_restoreskip-table-check ndb_restoredescription">
      データのリストア中に、テーブル構造チェックをスキップします
    </td>
        <td headers="rowndb_restoreskip-table-check ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restoreparallelism" headers="ndb_restoreformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_parallelism">--parallelism=#</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_parallelism">-p</a> </code>
          </p>
        </td>
        <td headers="rowndb_restoreparallelism ndb_restoredescription">
      データのリストア中に使用する並列トランザクションの数
    </td>
        <td headers="rowndb_restoreparallelism ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restoreprint" headers="ndb_restoreformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_print">--print</a> </code>
          </p>
        </td>
        <td headers="rowndb_restoreprint ndb_restoredescription">
      メタデータ、データ、およびログを stdout に出力します (--print_meta --print_data --print_log と同等です)
    </td>
        <td headers="rowndb_restoreprint ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restoreprint_meta" headers="ndb_restoreformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_print_meta">--print_meta</a> </code>
          </p>
        </td>
        <td headers="rowndb_restoreprint_meta ndb_restoredescription">
      メタデータを stdout に出力します
    </td>
        <td headers="rowndb_restoreprint_meta ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restoreprint_data" headers="ndb_restoreformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_print_data">--print_data</a> </code>
          </p>
        </td>
        <td headers="rowndb_restoreprint_data ndb_restoredescription">
      データを stdout に出力します
    </td>
        <td headers="rowndb_restoreprint_data ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restoreprint_log" headers="ndb_restoreformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_print_log">--print_log</a> </code>
          </p>
        </td>
        <td headers="rowndb_restoreprint_log ndb_restoredescription">
      stdout に出力します
    </td>
        <td headers="rowndb_restoreprint_log ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restorebackup_path" headers="ndb_restoreformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_backup_path">--backup_path=path</a> </code>
          </p>
        </td>
        <td headers="rowndb_restorebackup_path ndb_restoredescription">
      バックアップファイルディレクトリへのパス
    </td>
        <td headers="rowndb_restorebackup_path ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restoredont_ignore_systab_0" headers="ndb_restoreformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_dont_ignore_systab_0">--dont_ignore_systab_0</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_dont_ignore_systab_0">-f</a> </code>
          </p>
        </td>
        <td headers="rowndb_restoredont_ignore_systab_0 ndb_restoredescription">
      リストア中にシステムテーブルを無視しません。実験用であり、本番で使用するためのものではありません
    </td>
        <td headers="rowndb_restoredont_ignore_systab_0 ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restorendb-nodegroup-map" headers="ndb_restoreformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_ndb-nodegroup-map">--ndb-nodegroup-map=map</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_ndb-nodegroup-map">-z</a> </code>
          </p>
        </td>
        <td headers="rowndb_restorendb-nodegroup-map ndb_restoredescription">
      NDBCLUSTER ストレージエンジンのためのノードグループマップ。構文: (source_nodegroup, destination_nodegroup) のリスト
    </td>
        <td headers="rowndb_restorendb-nodegroup-map ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restorefields-enclosed-by" headers="ndb_restoreformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_fields-enclosed-by">--fields-enclosed-by=char</a> </code>
          </p>
        </td>
        <td headers="rowndb_restorefields-enclosed-by ndb_restoredescription">
      フィールドが指定された文字で囲まれます
    </td>
        <td headers="rowndb_restorefields-enclosed-by ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restorefields-terminated-by" headers="ndb_restoreformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_fields-terminated-by">--fields-terminated-by=char</a> </code>
          </p>
        </td>
        <td headers="rowndb_restorefields-terminated-by ndb_restoredescription">
      フィールドが指定された文字で終了します
    </td>
        <td headers="rowndb_restorefields-terminated-by ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restorefields-optionally-enclosed-by" headers="ndb_restoreformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_fields-optionally-enclosed-by">--fields-optionally-enclosed-by</a> </code>
          </p>
        </td>
        <td headers="rowndb_restorefields-optionally-enclosed-by ndb_restoredescription">
      フィールドは、必要に応じて指定された文字で囲まれます
    </td>
        <td headers="rowndb_restorefields-optionally-enclosed-by ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restorelines-terminated-by" headers="ndb_restoreformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_lines-terminated-by">--lines-terminated-by=char</a> </code>
          </p>
        </td>
        <td headers="rowndb_restorelines-terminated-by ndb_restoredescription">
      指定された文字で行が終了します
    </td>
        <td headers="rowndb_restorelines-terminated-by ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restorehex" headers="ndb_restoreformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_hex">--hex</a> </code>
          </p>
        </td>
        <td headers="rowndb_restorehex ndb_restoredescription">
      バイナリタイプを 16 進形式で出力します
    </td>
        <td headers="rowndb_restorehex ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restoretab" headers="ndb_restoreformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_tab">--tab=path</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_tab">-T</a> </code>
          </p>
        </td>
        <td headers="rowndb_restoretab ndb_restoredescription">
      指定されたパス内の各テーブルの、タブ区切りの .txt ファイルを作成します
    </td>
        <td headers="rowndb_restoretab ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restoreappend" headers="ndb_restoreformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_append">--append</a> </code>
          </p>
        </td>
        <td headers="rowndb_restoreappend ndb_restoredescription">
      タブ区切りのファイルにデータを追加します
    </td>
        <td headers="rowndb_restoreappend ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restoreprogress-frequency" headers="ndb_restoreformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_progress-frequency">--progress-frequency=#</a> </code>
          </p>
        </td>
        <td headers="rowndb_restoreprogress-frequency ndb_restoredescription">
      指定された秒数おきに、リストアのステータスを出力します
    </td>
        <td headers="rowndb_restoreprogress-frequency ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restoreno-binlog" headers="ndb_restoreformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_no-binlog">--no-binlog</a> </code>
          </p>
        </td>
        <td headers="rowndb_restoreno-binlog ndb_restoredescription">
      mysqld が接続されていて、バイナリロギングを使用している場合、リストアされたデータのログを記録しません
    </td>
        <td headers="rowndb_restoreno-binlog ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restoreverbose" headers="ndb_restoreformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_verbose">--verbose=#</a> </code>
          </p>
        </td>
        <td headers="rowndb_restoreverbose ndb_restoredescription">
      出力の冗長性レベル
    </td>
        <td headers="rowndb_restoreverbose ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restoreinclude-databases" headers="ndb_restoreformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_include-databases">--include-databases=db-list</a> </code>
          </p>
        </td>
        <td headers="rowndb_restoreinclude-databases ndb_restoredescription">
      1 つ以上のリストアするデータベースのリスト (指定されていないものを除外します)
    </td>
        <td headers="rowndb_restoreinclude-databases ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restoreexclude-databases" headers="ndb_restoreformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_exclude-databases">--exclude-databases=db-list</a> </code>
          </p>
        </td>
        <td headers="rowndb_restoreexclude-databases ndb_restoredescription">
      1 つ以上の除外するデータベースのリスト (指定されていないものを含めます)
    </td>
        <td headers="rowndb_restoreexclude-databases ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restoreinclude-tables" headers="ndb_restoreformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_include-tables">--include-tables=table-list</a> </code>
          </p>
        </td>
        <td headers="rowndb_restoreinclude-tables ndb_restoredescription">
      リストアする 1 つ以上のテーブルのリスト (同じデータベース内の指定されていないものを除外します)。各テーブル参照にはデータベース名が含まれている必要があります
    </td>
        <td headers="rowndb_restoreinclude-tables ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restoreexclude-tables" headers="ndb_restoreformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_exclude-tables">--exclude-tables=table-list</a> </code>
          </p>
        </td>
        <td headers="rowndb_restoreexclude-tables ndb_restoredescription">
      除外する 1 つ以上のテーブルのリスト (同じデータベース内の指定されていないものを含めます)。各テーブル参照にはデータベース名が含まれている必要があります
    </td>
        <td headers="rowndb_restoreexclude-tables ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restoreexclude-missing-columns" headers="ndb_restoreformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_exclude-missing-columns">--exclude-missing-columns</a> </code>
          </p>
        </td>
        <td headers="rowndb_restoreexclude-missing-columns ndb_restoredescription">
      バックアップバージョンのテーブルから、データベース内のバージョンのテーブルにないカラムが無視されます。
    </td>
        <td headers="rowndb_restoreexclude-missing-columns ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restoreexclude-missing-tables" headers="ndb_restoreformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_exclude-missing-tables">--exclude-missing-tables</a> </code>
          </p>
        </td>
        <td headers="rowndb_restoreexclude-missing-tables ndb_restoredescription">
      バックアップから、データベースにないテーブルが無視されます。
    </td>
        <td headers="rowndb_restoreexclude-missing-tables ndb_restoreaddedremoved">
          <p>
            追加: NDB 7.3.7
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restoredisable-indexes" headers="ndb_restoreformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_disable-indexes">--disable-indexes</a> </code>
          </p>
        </td>
        <td headers="rowndb_restoredisable-indexes ndb_restoredescription">
      バックアップ内のインデックスが無視されます。データのリストアに必要となる時間が短くなることがあります。
    </td>
        <td headers="rowndb_restoredisable-indexes ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restorerebuild-indexes" headers="ndb_restoreformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_rebuild-indexes">--rebuild-indexes</a> </code>
          </p>
        </td>
        <td headers="rowndb_restorerebuild-indexes ndb_restoredescription">
      バックアップで見つかった順序付けされたインデックスをマルチスレッドで再構築します。使用されるスレッド数は、BuildIndexThreads パラメータを設定することによって決定されます。
    </td>
        <td headers="rowndb_restorerebuild-indexes ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restoreskip-broken-objects" headers="ndb_restoreformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_skip-broken-objects">--skip-broken-objects</a> </code>
          </p>
        </td>
        <td headers="rowndb_restoreskip-broken-objects ndb_restoredescription">
      バックアップファイル内で欠けている BLOB テーブルが無視されます。
    </td>
        <td headers="rowndb_restoreskip-broken-objects ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restoreskip-unknown-objects" headers="ndb_restoreformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_skip-unknown-objects">--skip-unknown-objects</a> </code>
          </p>
        </td>
        <td headers="rowndb_restoreskip-unknown-objects ndb_restoredescription">
      新しいバージョンの MySQL Cluster から作成されたバックアップを古いバージョンにリストアするときに、ndb_restore によって認識されないスキーマオブジェクトが無視されます。
    </td>
        <td headers="rowndb_restoreskip-unknown-objects ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restorerewrite-database" headers="ndb_restoreformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_rewrite-database">--rewrite-database=olddb,newdb</a> </code>
          </p>
        </td>
        <td headers="rowndb_restorerewrite-database ndb_restoredescription">
      元の名前と異なる名前のデータベースにリストアします
    </td>
        <td headers="rowndb_restorerewrite-database ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restorelossy-conversions" headers="ndb_restoreformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_lossy-conversions">--lossy-conversions</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_lossy-conversions">-L</a> </code>
          </p>
        </td>
        <td headers="rowndb_restorelossy-conversions ndb_restoredescription">
      バックアップからデータをリストアするときに、カラム値の不可逆変換 (型の昇格または符号の変更) を許可します
    </td>
        <td headers="rowndb_restorelossy-conversions ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restorerestore-privilege-tables" headers="ndb_restoreformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_restore-privilege-tables">--restore-privilege-tables</a> </code>
          </p>
        </td>
        <td headers="rowndb_restorerestore-privilege-tables ndb_restoredescription">
      以前 NDB に移動された MySQL 権限テーブルをリストアします。
    </td>
        <td headers="rowndb_restorerestore-privilege-tables ndb_restoreaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_restoreexclude-intermediate-sql-tables" headers="ndb_restoreformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_exclude-intermediate-sql-tables">--exclude-intermediate-sql-tables[=TRUE|FALSE]</a> </code>
          </p>
        </td>
        <td headers="rowndb_restoreexclude-intermediate-sql-tables ndb_restoredescription">
      TRUE (デフォルト) の場合は、ALTER TABLE のコピー操作で残された中間テーブル (名前の前に「#sql-」が付けられています) がリストアされません。
    </td>
        <td headers="rowndb_restoreexclude-intermediate-sql-tables ndb_restoreaddedremoved">
          <p>
            追加: NDB 7.3.6
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><a class="indexterm" name="idm139979024900960"></a><p>
        このユーティリティーの一般的なオプションを次に示します。
      </p><p>
        通常、MySQL Cluster のバックアップからリストアする場合、<span class="command"><strong>ndb_restore</strong></span> では <code class="option">--nodeid</code> (短縮形: <code class="option">-n</code>)、<code class="option">--backupid</code> (短縮形: <code class="option">-b</code>)、および <code class="option">--backup_path</code> オプションが最低限必要となります。
      </p><pre class="programlisting">
ndb_restore [-c <em class="replaceable"><code>connection_string</code></em>] -n <em class="replaceable"><code>node_id</code></em> -b <em class="replaceable"><code>backup_id</code></em> \
      [-m] -r --backup_path=<em class="replaceable"><code>/path/to/backup/files</code></em>
</pre><p><a name="option_ndb_restore_connect"></a>
        <a class="indexterm" name="idm139979024890624"></a> <code class="option">-c</code> オプションは、<code class="literal">ndb_restore</code> にクラスタ管理サーバーを探す場所を伝える接続文字列を指定するために使用します。(接続文字列については、<a class="xref" href="mysql-cluster.html#mysql-cluster-connection-strings" title="18.3.2.3 MySQL Cluster の接続文字列">セクション18.3.2.3「MySQL Cluster の接続文字列」</a>を参照してください)。このオプションを使用しない場合、<span class="command"><strong>ndb_restore</strong></span> は <code class="literal">localhost:1186</code> の管理サーバーに接続を試みます。このユーティリティーはクラスタ API ノードとして動作するため、クラスタ管理サーバーに接続するための空き接続<span class="quote">「<span class="quote">スロット</span>」</span>が必要となります。これは、クラスタ <code class="filename">config.ini</code> ファイル内にそれが使用できる <code class="literal">[api]</code> セクションまたは <code class="literal">[mysqld]</code> セクションが少なくとも 1 つ存在する必要があることを意味します。このため、MySQL サーバーまたはほかのアプリケーションに使用されていない空の <code class="literal">[api]</code> セクションまたは <code class="literal">[mysqld]</code> セクションを、<code class="filename">config.ini</code> 内に少なくとも 1 つ用意することをお勧めします (<a class="xref" href="mysql-cluster.html#mysql-cluster-api-definition" title="18.3.2.7 MySQL Cluster 内の SQL ノードおよびその他の API ノードの定義">セクション18.3.2.7「MySQL Cluster 内の SQL ノードおよびその他の API ノードの定義」</a>を参照してください)。
      </p><p>
        <span class="command"><strong>ndb_restore</strong></span> がクラスタに接続されていることを確認するには、<span class="command"><strong>ndb_mgm</strong></span> 管理クライアントで <span class="command"><strong>SHOW</strong></span> コマンドを使用します。システムシェルで次のようにすることでこれを実現することもできます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndb_mgm -e "SHOW"</code></strong>
</pre><p><a name="option_ndb_restore_nodeid"></a>
        <a class="indexterm" name="idm139979024873680"></a> <code class="option">-n</code> はバックアップが取得されたデータノードのノード ID を指定するために使用します。
      </p><p>
        <span class="command"><strong>ndb_restore</strong></span> リストアプログラムを最初に実行するときは、メタデータもリストアする必要があります。言い換えると、データベーステーブルを再作成する必要があります。これは、<code class="option">--restore_meta</code> (<code class="option">-m</code>) オプションを指定して実行することによって行うことができます。メタデータをリストアする必要があるのは単一データノードだけです。これで十分にクラスタ全体にリストアできます。バックアップのリストアを開始するときには、クラスタに空のデータベースがあるべきでます(言い換えると、リストアを実行する前に、<code class="option">--initial</code> を指定して <span class="command"><strong>ndbd</strong></span> を開始してください)。
      </p><p><a name="option_ndb_restore_skip-table-check"></a>
        <a class="indexterm" name="idm139979024866512"></a> テーブルメタデータをリストアしなくてもデータをリストアできます。これを行うときのデフォルト動作は、テーブルデータがテーブルスキーマと一致しない場合に <span class="command"><strong>ndb_restore</strong></span> がエラーで失敗することです。これは、<code class="option">--skip-table-check</code> オプションまたは <code class="option">-s</code> オプションを使用してオーバーライドできます。
      </p><p>
        <span class="command"><strong>ndb_restore</strong></span> を使用してデータをリストアするときのカラム定義内の不一致に関する制限の一部が緩和されています。それらのタイプの不一致のいずれかが発生しても、<span class="command"><strong>ndb_restore</strong></span> は以前のようにエラーで停止しなくなり、代わりにデータを受け入れてターゲットテーブルに挿入し、これが行われているという警告をユーザーに発行します。この動作は、<code class="option">--skip-table-check</code> オプションまたは <code class="option">--promote-attributes</code> オプションが使用されているかどうかにかかわらず、実行されます。カラム定義でのこれらの違いには次のタイプがあります。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            異なる <code class="literal">COLUMN_FORMAT</code> 設定 (<code class="literal">FIXED</code>、<code class="literal">DYNAMIC</code>、<code class="literal">DEFAULT</code>)
          </p></li><li class="listitem"><p>
            異なる <code class="literal">STORAGE</code> 設定 (<code class="literal">MEMORY</code>、<code class="literal">DISK</code>)
          </p></li><li class="listitem"><p>
            異なるデフォルト値
          </p></li><li class="listitem"><p>
            異なる配布キー設定
          </p></li></ul></div><p><a name="option_ndb_restore_promote-attributes"></a>
        <a class="indexterm" name="idm139979024848880"></a> <a class="indexterm" name="idm139979024846880"></a> <a class="indexterm" name="idm139979024844720"></a> <span class="command"><strong>ndb_restore</strong></span> は、MySQL レプリケーションでサポートされるのとほぼ同様に、<em class="firstterm">属性昇格</em>を制限付きでサポートします。つまり、特定の型のカラムからバックアップされたデータは一般的に、<span class="quote">「<span class="quote">より大きい同様の</span>」</span>型を使用してカラムにリストアできます。たとえば、<code class="literal">CHAR(20)</code> カラムのデータは <code class="literal">VARCHAR(20)</code>、<code class="literal">VARCHAR(30)</code>、または <code class="literal">CHAR(30)</code> として宣言されているカラムにリストアでき、<code class="literal">MEDIUMINT</code> カラムのデータは、<code class="literal">INT</code> または <code class="literal">BIGINT</code> 型のカラムにリストアできます。属性昇格によって現在サポートされる型変換の表については、<a class="xref" href="replication.html#replication-features-different-data-types" title="17.4.1.9.2 データ型が異なるカラムのレプリケーション">セクション17.4.1.9.2「データ型が異なるカラムのレプリケーション」</a>を参照してください。
      </p><p>
        <span class="command"><strong>ndb_restore</strong></span> による属性昇格は、次のように明示的に有効にする必要があります。
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            バックアップをリストアするテーブルを準備します。<span class="command"><strong>ndb_restore</strong></span> を使用してオリジナルと異なる定義でテーブルを再作成することはできません。これは、テーブルを手動で作成するか、またはテーブルメタデータをリストアしたあとかつデータをリストアする前に昇格するカラムを <code class="literal">ALTER TABLE</code> を使用して変更する必要があることを意味します。
          </p></li><li class="listitem"><p>
            テーブルデータをリストアするときに、<code class="option">--promote-attributes</code> オプション (短縮形: <code class="option">-A</code>) を指定して<span class="command"><strong>ndb_restore</strong></span> を呼び出します。このオプションを使用しない場合、属性昇格は行われず、リストア操作がエラーで失敗します。
          </p></li></ol></div><p>
        MySQL Cluster NDB 7.3.3 より前は、文字データ型と <code class="literal">TEXT</code> または <code class="literal">BLOB</code> の間の変換が正しく処理されませんでした (Bug #17325051)。
      </p><p>
        MySQL Cluster NDB 7.3.7 より前は、<code class="literal">TEXT</code> から <code class="literal">TINYTEXT</code> への降格が正しく処理されませんでした (Bug #18875137)。
      </p><p>
        文字データ型と <code class="literal">TEXT</code> または <code class="literal">BLOB</code> の間で変換する場合は、文字型 (<code class="literal">CHAR</code> および <code class="literal">VARCHAR</code>) とバイナリ型 (<code class="literal">BINARY</code> および <code class="literal">VARBINARY</code>) の間の変換のみを同時に実行できます。たとえば、同じ <span class="command"><strong>ndb_restore</strong></span> 呼び出しで、<code class="literal">VARCHAR</code> カラムを <code class="literal">TEXT</code> に昇格するときに、<code class="literal">INT</code> カラムを <code class="literal">BIGINT</code> に昇格できません。
      </p><p>
        異なる文字セットが使用されている <code class="literal">TEXT</code> カラム間の変換はサポートされていません。MySQL Cluster NDB 7.3.7 以降では、これは明確に許可されません (Bug #18875137)。
      </p><p>
        <span class="command"><strong>ndb_restore</strong></span> を使用して文字型またはバイナリ型から <code class="literal">TEXT</code> または <code class="literal">BLOB</code> への変換を実行するときに、<code class="literal"><em class="replaceable"><code>table_name</code></em>$ST<em class="replaceable"><code>node_id</code></em></code> という名前の 1 つ以上のステージングテーブルが作成および使用されることに気付くことがあります。これらのテーブルはその後必要ではなくなるため、通常はリストアが成功したあとに <span class="command"><strong>ndb_restore</strong></span> によって削除されます。
      </p><p><a name="option_ndb_restore_lossy-conversions"></a>
        <a class="indexterm" name="idm139979024802384"></a> <a class="indexterm" name="idm139979024800224"></a> <code class="option">--lossy-conversions</code>、<code class="option">-L</code>
      </p><div class="informaltable"><table summary="Options for lossy-conversions" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--lossy-conversions</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table></div><p>
        このオプションは、<code class="option">--promote-attributes</code> オプションを補完することを意図しています。<code class="option">--lossy-conversions</code> を使用するときは、バックアップからデータをリストアするときにカラム値の不可逆変換 (型降格または符号の変更) が許可されます。いくつかの例外はありますが、降格を制御するルールは MySQL レプリケーションの場合と同じです。属性降格によって現在サポートされる型変換については、<a class="xref" href="replication.html#replication-features-different-data-types" title="17.4.1.9.2 データ型が異なるカラムのレプリケーション">セクション17.4.1.9.2「データ型が異なるカラムのレプリケーション」</a>を参照してください。
      </p><p>
        <span class="command"><strong>ndb_restore</strong></span> は、不可逆変換中に実行されるデータの切り捨てを属性およびカラムごとに報告します。
      </p><p><a name="option_ndb_restore_preserve-trailing-spaces"></a>
        <a class="indexterm" name="idm139979024781088"></a> <code class="option">--preserve-trailing-spaces</code> オプション (短縮形: <code class="option">-R</code>) を使用すると、固定幅の文字データ型を可変幅の同等の型に昇格するとき (つまり、<code class="literal">CHAR</code> カラム値を <code class="literal">VARCHAR</code> に、または <code class="literal">BINARY</code> カラム値を <code class="literal">VARBINARY</code> に昇格するとき) に、末尾の空白が維持されます。それ以外の場合は、新しいカラムに挿入されるときに、末尾の空白はそのようなカラム値から削除されます。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          <code class="literal">CHAR</code> カラムを <code class="literal">VARCHAR</code> に、および <code class="literal">BINARY</code> カラムを <code class="literal">VARBINARY</code> に昇格することはできますが、<code class="literal">VARCHAR</code> カラムを <code class="literal">CHAR</code> に、または <code class="literal">VARBINARY</code> カラムを <code class="literal">BINARY</code> に昇格することはできません。
        </p></div><p><a name="option_ndb_restore_backupid"></a>
        <a class="indexterm" name="idm139979024765040"></a> <code class="option">-b</code> オプションはバックアップの ID またはシーケンス番号を指定するために使用し、バックアップ完了時に表示される<code class="literal">「Backup <em class="replaceable"><code>backup_id</code></em> completed」</code>メッセージで管理クライアントによって示される番号と同じ番号です。(<a class="xref" href="mysql-cluster.html#mysql-cluster-backup-using-management-client" title="18.5.3.2 MySQL Cluster 管理クライアントを使用したバックアップの作成">セクション18.5.3.2「MySQL Cluster 管理クライアントを使用したバックアップの作成」</a>を参照してください)。
      </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
          クラスタバックアップをリストアするときは、同じバックアップ ID を持つバックアップからすべてのデータノードをリストアする必要があります。別のバックアップのファイルを使用すると、クラスタがリストアされたとしても不整合性な状態で、要するに失敗する可能性があります。
        </p></div><p><a name="option_ndb_restore_restore_epoch"></a>
        <a class="indexterm" name="idm139979024758640"></a> <code class="option">--restore_epoch</code> (短縮形: <code class="option">-e</code>) は、エポック情報をクラスタレプリケーションステータステーブルに追加 (またはリストア) します。これは、MySQL Cluster レプリケーションスレーブでレプリケーションを開始する場合に便利です。このオプションを使用すると、<code class="literal">id</code> カラムが <code class="literal">0</code> である <code class="literal">mysql.ndb_apply_status</code> 内の行が更新されます (存在する場合)。存在しない場合はそのような行が挿入されます(<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-backups" title="18.6.9 MySQL Cluster レプリケーションを使用した MySQL Cluster バックアップ">セクション18.6.9「MySQL Cluster レプリケーションを使用した MySQL Cluster バックアップ」</a>を参照してください)。
      </p><p><a name="option_ndb_restore_restore_data"></a>
        <a class="indexterm" name="idm139979024751712"></a> <code class="option">--restore_data</code>
      </p><p>
        このオプションを指定すると、<span class="command"><strong>ndb_restore</strong></span> が <code class="literal">NDB</code> テーブルデータおよびログを出力します。
      </p><p><a name="option_ndb_restore_restore_meta"></a>
        <a class="indexterm" name="idm139979024746752"></a> <code class="option">--restore_meta</code>
      </p><p>
        このオプションを指定すると、<span class="command"><strong>ndb_restore</strong></span> が <code class="literal">NDB</code> テーブルメタデータを出力します。通常、このオプションを使用する必要があるのは、クラスタの最初のデータノードをリストアする場合のみです。追加データノードは最初のものからメタデータを取得できます。
      </p><p><a name="option_ndb_restore_restore-privilege-tables"></a>
        <a class="indexterm" name="idm139979024741232"></a> <a class="indexterm" name="idm139979024739632"></a> <code class="option">--restore-privilege-tables</code>
      </p><p>
        デフォルトでは、<span class="command"><strong>ndb_restore</strong></span> は配布された MySQL 権限テーブルをリストアしません。このオプションを指定すると、<span class="command"><strong>ndb_restore</strong></span> が権限テーブルをリストアします。
      </p><p>
        これが動作するのは、バックアップが取得される前に、権限テーブルが <code class="literal">NDB</code> に変換された場合のみです。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-privilege-distribution" title="18.5.14 MySQL Cluster の配布された MySQL 権限">セクション18.5.14「MySQL Cluster の配布された MySQL 権限」</a>を参照してください。
      </p><p><a name="option_ndb_restore_backup_path"></a>
        <a class="indexterm" name="idm139979024731712"></a> <a class="indexterm" name="idm139979024730160"></a> <code class="option">--backup_path</code>
      </p><p>
        バックアップディレクトリへのパスが必要です。これは <code class="option">--backup_path</code> オプションを使用して <span class="command"><strong>ndb_restore</strong></span> に指定し、リストアするバックアップのバックアップ ID に対応するサブディレクトリが含まれている必要があります。たとえば、データノードの <code class="literal">DataDir</code> が <code class="filename">/var/lib/mysql-cluster</code> である場合、バックアップディレクトリは <code class="filename">/var/lib/mysql-cluster/BACKUP</code> であり、ID 3 のバックアップのバックアップファイルは <code class="filename">/var/lib/mysql-cluster/BACKUP/BACKUP-3</code> にあります。パスには、絶対パス、または <span class="command"><strong>ndb_restore</strong></span> 実行可能ファイルがあるディレクトリからの相対パスを指定でき、必要に応じて <code class="option">backup_path=</code> を前に付けることができます。
      </p><p>
        作成されたデータベースとは異なる構成のデータベースにバックアップをリストアできます。たとえば、ノード ID <code class="literal">2</code> および <code class="literal">3</code> の 2 つのデータベースノードがあるクラスタで作成されたバックアップ ID <code class="literal">12</code> のバックアップを 4 ノードのクラスタに復旧するとします。その場合は、<span class="command"><strong>ndb_restore</strong></span> を 2 回実行する必要があります (バックアップを取得したクラスタのデータベースノードごとに 1 回)。ただし、<span class="command"><strong>ndb_restore</strong></span> はあるバージョンの MySQL で実行されているクラスタから作成されたバックアップを、別のバージョンの MySQL で実行されているクラスタに常に復旧できるとはかぎりません。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-upgrade-downgrade" title="18.2.8 MySQL Cluster NDB 7.3 のアップグレードとダウングレード">セクション18.2.8「MySQL Cluster NDB 7.3 のアップグレードとダウングレード」</a>を参照してください。
      </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
          新しいバージョンの MySQL Cluster から作成したバックアップを古いバージョンの <span class="command"><strong>ndb_restore</strong></span> を使用してリストアすることはできません。新しいバージョンの MySQL から作成したバックアップを古いクラスタにリストアすることはできますが、それを行うには新しいバージョンの MySQL Cluster の <span class="command"><strong>ndb_restore</strong></span> のコピーを使用する必要があります。
        </p><p>
          たとえば、MySQL Cluster NDB 7.2.5 を実行しているクラスタから取得したクラスタバックアップを MySQL Cluster NDB 7.1.21 を実行しているクラスタにリストアするには、MySQL Cluster NDB 7.2.5 配布に付属する <span class="command"><strong>ndb_restore</strong></span> を使用する必要があります。
        </p></div><p>
        リストアをより高速にするために、十分な数のクラスタ接続が使用できる場合は、データを並列でリストアできます。より正確に言うと、複数のノードを並列でリストアする場合は、各並列 <span class="command"><strong>ndb_restore</strong></span> プロセスに使用できる <code class="literal">[api]</code> または <code class="literal">[mysqld]</code> セクションがクラスタ <code class="filename">config.ini</code> ファイルに存在する必要があります。ただし、データファイルは常にログの前に適用する必要があります。
      </p><p><a name="option_ndb_restore_no-upgrade"></a>
        <a class="indexterm" name="idm139979024703872"></a> <a class="indexterm" name="idm139979024702320"></a> <code class="option">--no-upgrade</code>
      </p><p>
        <span class="command"><strong>ndb_restore</strong></span> を使用してバックアップをリストアする場合、古い固定長形式を使用して作成された <code class="literal">VARCHAR</code> カラムは、現在採用されている可変幅形式を使用してサイズ変更および再作成されます。この動作は、<span class="command"><strong>ndb_restore</strong></span> を実行するときに、<code class="option">--no-upgrade</code> オプション (短縮形: <code class="option">-u</code>) を使用してオーバーライドできます。
      </p><p><a name="option_ndb_restore_print_data"></a>
        <a class="indexterm" name="idm139979024694448"></a> <a class="indexterm" name="idm139979024692896"></a> <code class="option">--print_data</code>
      </p><p>
        <code class="option">--print_data</code> オプションを指定すると、<span class="command"><strong>ndb_restore</strong></span> が出力を <code class="literal">stdout</code> にリダイレクトします。
      </p><p>
        <code class="literal">TEXT</code> および <code class="literal">BLOB</code> カラム値は常に切り捨てられます。MySQL Cluster NDB 7.3.7 以前では、そのような値は出力で最初の 240 バイトに切り捨てられ、MySQL Cluster NDB 7.3.8 以降では、256 バイトに切り捨てられます(Bug #14571512、Bug #65467)。これは現在 <code class="option">--print_data</code> を使用してもオーバーライドできません。
      </p><p>
        データダンプを <code class="literal">stdout</code> またはファイルに生成する際に、いくつかの追加オプションを <code class="option">--print_data</code> オプションとともに使用できます。これらは <span class="command"><strong>mysqldump</strong></span> で使用される一部のオプションに似ており、次のリストに示されています。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndb_restore_tab"></a>
            <a class="indexterm" name="idm139979024680464"></a> <a class="indexterm" name="idm139979024678336"></a> <code class="option">--tab</code>、<code class="option">-T</code>
          </p><div class="informaltable"><table summary="Options for tab" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--tab=path</code></td></tr></tbody></table></div><p>
            このオプションを使用すると、<code class="option">--print_data</code> はテーブルごとに、それぞれ <code class="filename"><em class="replaceable"><code>tbl_name</code></em>.txt</code> という名前が付けられたダンプファイルを作成します。ファイルを保存すべきディレクトリへのパスを引数が必要です。現在のディレクトリの場合は <code class="literal">.</code> を使用します。
          </p></li><li class="listitem"><p><a name="option_ndb_restore_fields-enclosed-by"></a>
            <a class="indexterm" name="idm139979024665504"></a> <a class="indexterm" name="idm139979024663344"></a> <code class="option">--fields-enclosed-by=<em class="replaceable"><code>string</code></em></code>
          </p><div class="informaltable"><table summary="Options for fields-enclosed-by" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--fields-enclosed-by=char</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">文字列</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table></div><p>
            各カラム値は、このオプションに渡された文字列によって囲まれます (データ型は関係ありません。次の項目を参照してください)。
          </p></li><li class="listitem"><p><a name="option_ndb_restore_fields-optionally-enclosed-by"></a>
            <a class="indexterm" name="idm139979024647744"></a> <a class="indexterm" name="idm139979024645552"></a> <code class="option">--fields-optionally-enclosed-by=<em class="replaceable"><code>string</code></em></code>
          </p><div class="informaltable"><table summary="Options for fields-optionally-enclosed-by" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--fields-optionally-enclosed-by</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">文字列</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table></div><p>
            このオプションに渡された文字列は、文字データが含まれているカラム値 (<code class="literal">CHAR</code>、<code class="literal">VARCHAR</code>、<code class="literal">BINARY</code>、<code class="literal">TEXT</code>、<code class="literal">ENUM</code> など) を囲むために使用されます。
          </p></li><li class="listitem"><p><a name="option_ndb_restore_fields-terminated-by"></a>
            <a class="indexterm" name="idm139979024625056"></a> <a class="indexterm" name="idm139979024622880"></a> <code class="option">--fields-terminated-by=<em class="replaceable"><code>string</code></em></code>
          </p><div class="informaltable"><table summary="Options for fields-terminated-by" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--fields-terminated-by=char</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">文字列</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">\t (tab)</code></td></tr></tbody></table></div><p>
            このオプションに渡された文字列は、カラム値を区切るために使用されます。デフォルト値はタブ文字 (<code class="literal">\t</code>) です。
          </p></li><li class="listitem"><p><a name="option_ndb_restore_hex"></a>
            <a class="indexterm" name="idm139979024606592"></a> <a class="indexterm" name="idm139979024604464"></a> <code class="option">--hex</code>
          </p><div class="informaltable"><table summary="Options for hex" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--hex</code></td></tr></tbody></table></div><p>
            このオプションを使用すると、すべてのバイナリ値は 16 進形式で出力されます。
          </p></li><li class="listitem"><p><a name="option_ndb_restore_lines-terminated-by"></a>
            <a class="indexterm" name="idm139979024594800"></a> <a class="indexterm" name="idm139979024592624"></a> <code class="option">--fields-terminated-by=<em class="replaceable"><code>string</code></em></code>
          </p><div class="informaltable"><table summary="Options for fields-terminated-by" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--fields-terminated-by=char</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">文字列</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">\t (tab)</code></td></tr></tbody></table></div><p>
            このオプションは、出力の各行を終了するために使用される文字列を指定します。デフォルトは改行文字 (<code class="literal">\n</code>) です。
          </p></li><li class="listitem"><p><a name="option_ndb_restore_append"></a>
            <a class="indexterm" name="idm139979024576272"></a> <a class="indexterm" name="idm139979024574096"></a> <code class="option">--append</code>
          </p><div class="informaltable"><table summary="Options for append" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--append</code></td></tr></tbody></table></div><p>
            <code class="option">--tab</code> オプションおよび <code class="option">--print_data</code> オプションとともに使用した場合、同じ名前を持つ既存のファイルにデータが付加されます。
          </p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          テーブルに明示的な主キーがない場合、<code class="option">--print_data</code> オプションを使用して生成される出力には、テーブルの隠し主キーが含められます。
        </p></div><p><a name="option_ndb_restore_print_meta"></a>
        <a class="indexterm" name="idm139979024561280"></a> <a class="indexterm" name="idm139979024559136"></a> <code class="option">--print_meta</code>
      </p><p>
        このオプションを指定すると、<span class="command"><strong>ndb_restore</strong></span> がすべてのメタデータを<code class="literal">stdout</code> に出力します。
      </p><p><a name="option_ndb_restore_print_log"></a>
        <a class="indexterm" name="idm139979024554464"></a> <a class="indexterm" name="idm139979024552320"></a> <code class="option">--print_log</code>
      </p><p>
        <code class="option">--print_log</code> オプションを指定すると、<span class="command"><strong>ndb_restore</strong></span> がログを <code class="literal">stdout</code> に出力します。
      </p><p><a name="option_ndb_restore_print"></a>
        <a class="indexterm" name="idm139979024547296"></a> <a class="indexterm" name="idm139979024545120"></a> <code class="option">--print</code>
      </p><p>
        <span class="command"><strong>ndb_restore</strong></span> がすべてのデータ、メタデータ、およびログを <code class="literal">stdout</code> に出力します。<code class="option">--print_data</code>、<code class="option">--print_meta</code>、および <code class="option">--print_log</code> オプションを一緒に使用することと同等です。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          <code class="option">--print</code> または <code class="option">--print_*</code> オプションのいずれかを使用した場合は、仮実行をするときに有効になります。これらのオプションを 1 つ以上含めると、出力が <code class="literal">stdout</code> にリダイレクトされます。そのような場合、<span class="command"><strong>ndb_restore</strong></span> はデータまたはメタデータを MySQL Cluster にリストアしようとしません。
        </p></div><p><a name="option_ndb_restore_dont_ignore_systab_0"></a>
        <a class="indexterm" name="idm139979024534560"></a> <a class="indexterm" name="idm139979024532320"></a> <code class="option">--dont_ignore_systab_0</code>
      </p><p>
        通常、テーブルデータおよびメタデータをリストアするときに、<span class="command"><strong>ndb_restore</strong></span> はバックアップに存在する <code class="literal">NDB</code> システムテーブルのコピーを無視します。<code class="option">--dont_ignore_systab_0</code> を指定すると、システムテーブルがリストアされます。<span class="emphasis"><em>このオプションは、実験および開発での使用のみが意図されており、本番環境には推奨されていません</em></span>。
      </p><p><a name="option_ndb_restore_ndb-nodegroup-map"></a>
        <a class="indexterm" name="idm139979024526144"></a> <a class="indexterm" name="idm139979024523984"></a> <code class="option">--ndb-nodegroup-map</code>、<code class="option">-z</code>
      </p><p>
        このオプションは、あるノードグループから取得されたバックアップを別のノードグループにリストアするために使用できます。引数は、<code class="literal"><em class="replaceable"><code>source_node_group</code></em>, <em class="replaceable"><code>target_node_group</code></em></code> という形式のリストです。
      </p><p><a name="option_ndb_restore_no-binlog"></a>
        <a class="indexterm" name="idm139979024518784"></a> <a class="indexterm" name="idm139979024516640"></a> <code class="option">--no-binlog</code>
      </p><p>
        このオプションは、接続されている SQL ノードが <span class="command"><strong>ndb_restore</strong></span> によってリストアされるデータをバイナリログに書き込むことを阻止します。
      </p><p><a name="option_ndb_restore_no-restore-disk-objects"></a>
        <a class="indexterm" name="idm139979024512560"></a> <a class="indexterm" name="idm139979024510384"></a> <code class="option">--no-restore-disk-objects</code>、<code class="option">-d</code>
      </p><p>
        このオプションを指定すると、<span class="command"><strong>ndb_restore</strong></span> が MySQL Cluster ディスクデータオブジェクト (テーブルスペース、ログファイルグループなど) をリストアすることを阻止します。これらの詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-disk-data" title="18.5.12 MySQL Cluster ディスクデータテーブル">セクション18.5.12「MySQL Cluster ディスクデータテーブル」</a>を参照してください。
      </p><p><a name="option_ndb_restore_parallelism"></a>
        <a class="indexterm" name="idm139979024504944"></a> <a class="indexterm" name="idm139979024502832"></a> <code class="option">--parallelism=#</code>、<code class="option">-p</code>
      </p><p>
        <span class="command"><strong>ndb_restore</strong></span> が使用を試みることができる並列トランザクションの最大数を決定します。デフォルトでは、これは 128 であり、最小値は 1、最大値は 1024 です。
      </p><p><a name="option_ndb_restore_progress-frequency"></a>
        <a class="indexterm" name="idm139979024498288"></a> <a class="indexterm" name="idm139979024496128"></a> <code class="option">--progress-frequency=<em class="replaceable"><code>N</code></em></code>
      </p><p>
        バックアップの進行中に、ステータスレポートを <em class="replaceable"><code>N</code></em> 秒ごとに出力します。0 (デフォルト) を指定すると、ステータスレポートは出力されません。最大値は 65535 です。
      </p><p><a name="option_ndb_restore_verbose"></a>
        <a class="indexterm" name="idm139979024491936"></a> <a class="indexterm" name="idm139979024489760"></a> <code class="option">--verbose=#</code>
      </p><p>
        出力の冗長性のレベルを設定します。最小値は 0 であり、最大値は 255 です。デフォルト値は 1 です。
      </p><p>
        次に示す構文を使用すると、選択したデータベースのみ、または単一データベースの選択したテーブルのみをリストアできます。
      </p><pre class="programlisting">
ndb_restore <em class="replaceable"><code>other_options</code></em> <em class="replaceable"><code>db_name</code></em>,[<em class="replaceable"><code>db_name</code></em>[,...] | <em class="replaceable"><code>tbl_name</code></em>[,<em class="replaceable"><code>tbl_name</code></em>][,...]]
</pre><p>
        言い換えると、次のいずれかをリストアすることを指定できます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            1 つ以上のデータベースのすべてのテーブル
          </p></li><li class="listitem"><p>
            単一データベースの 1 つ以上のテーブル
          </p></li></ul></div><p><a name="option_ndb_restore_include-databases"></a>
        <a class="indexterm" name="idm139979024479984"></a> <a class="indexterm" name="idm139979024477824"></a> <code class="option">--include-databases=<em class="replaceable"><code>db_name</code></em>[,<em class="replaceable"><code>db_name</code></em>][,...]</code>
      </p><div class="informaltable"><table summary="Options for include-databases" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--include-databases=db-list</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">文字列</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table></div><p><a name="option_ndb_restore_include-tables"></a>
        <a class="indexterm" name="idm139979024462880"></a> <a class="indexterm" name="idm139979024460720"></a> <code class="option">--include-tables=<em class="replaceable"><code>db_name.tbl_name</code></em>[,<em class="replaceable"><code>db_name.tbl_name</code></em>][,...]</code>
      </p><div class="informaltable"><table summary="Options for include-tables" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--include-tables=table-list</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">文字列</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table></div><p>
        特定のデータベースまたはテーブルのみをリストアするには、<code class="option">--include-databases</code> オプションまたは <code class="option">--include-tables</code> オプションをそれぞれ使用します。<code class="option">--include-databases</code> は、リストアするデータベースのカンマ区切りリストを受け入れます。<code class="option">--include-tables</code> はリストアするテーブルのカンマ区切りリスト (<code class="literal"><em class="replaceable"><code>database</code></em>.<em class="replaceable"><code>table</code></em></code> という形式) を受け入れます。
      </p><p>
        <code class="option">--include-databases</code> または <code class="option">--include-tables</code> を使用すると、それらのオプションによって指定されたデータベースまたはテーブルのみがリストアされます。ほかのすべてのデータベースおよびテーブルは <span class="command"><strong>ndb_restore</strong></span> によって除外され、リストアされません。
      </p><p>
        次の表は、<code class="option">--include-*</code> オプション (必要となる可能性があるほかのオプションは、わかりやすくするために省略しています) を使用した <span class="command"><strong>ndb_restore</strong></span> のいくつかの呼び出し、および MySQL Cluster バックアップからリストアする場合のそれらの効果を示しています。
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">使用するオプション</th><th scope="col">結果</th></tr></thead><tbody><tr><td scope="row"><code class="option">--include-databases=db1</code></td><td>データベース <code class="literal">db1</code> 内のテーブルのみがリストアされます。ほかのすべてのデータベース内のすべてのテーブルは無視されます</td></tr><tr><td scope="row"><code class="option">--include-databases=db1,db2</code> (または <code class="option">--include-databases=db1</code> <code class="option">--include-databases=db2</code>)</td><td>データベース <code class="literal">db1</code> および <code class="literal">db2</code> 内のテーブルのみがリストアされます。ほかのすべてのデータベース内のすべてのテーブルは無視されます</td></tr><tr><td scope="row"><code class="option">--include-tables=db1.t1</code></td><td>データベース <code class="literal">db1</code> 内のテーブル <code class="literal">t1</code> のみがリストアされます。<code class="literal">db1</code> またはその他のデータベース内のほかのテーブルはリストアされません</td></tr><tr><td scope="row"><code class="option">--include-tables=db1.t2,db2.t1</code> (または <code class="option">--include-tables=db1.t2</code> <code class="option">--include-tables=db2.t1</code>)</td><td>データベース <code class="literal">db1</code> 内のテーブル <code class="literal">t2</code> およびデータベース <code class="literal">db2</code> 内のテーブル <code class="literal">t1</code> のみがリストアされます。<code class="literal">db1</code>、<code class="literal">db2</code>、またはその他のデータベース内のほかのテーブルはリストアされません</td></tr></tbody></table></div><p>
        これらの 2 つのオプションは一緒に使用することもできます。たとえば、次の場合は、データベース <code class="literal">db1</code> および <code class="literal">db2</code> 内のすべてのテーブルに加えて、データベース <code class="literal">db3</code> 内のテーブル <code class="literal">t1</code> および <code class="literal">t2</code> がリストアされます (ほかのデータベースまたはテーブルはリストアされません)。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndb_restore [...] --include-databases=db1,db2 --include-tables=db3.t1,db3.t2</code></strong>
</pre><p>
        (この例でも、必要となる可能性があるほかのオプションを省略しています。)
      </p><p><a name="option_ndb_restore_exclude-databases"></a>
        <a class="indexterm" name="idm139979024409264"></a> <a class="indexterm" name="idm139979024407104"></a> <code class="option">--exclude-databases=<em class="replaceable"><code>db_name</code></em>[,<em class="replaceable"><code>db_name</code></em>][,...]</code>
      </p><div class="informaltable"><table summary="Options for exclude-databases" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--exclude-databases=db-list</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">文字列</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table></div><p><a name="option_ndb_restore_exclude-tables"></a>
        <a class="indexterm" name="idm139979024392160"></a> <a class="indexterm" name="idm139979024390000"></a> <code class="option">--exclude-tables=<em class="replaceable"><code>db_name.tbl_name</code></em>[,<em class="replaceable"><code>db_name.tbl_name</code></em>][,...]</code>
      </p><div class="informaltable"><table summary="Options for exclude-tables" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--exclude-tables=table-list</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">文字列</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table></div><p>
        1 つ以上のデータベースまたはテーブルがリストアされないようにするには、<span class="command"><strong>ndb_restore</strong></span> の <code class="option">--exclude-databases</code> および <code class="option">--exclude-tables</code> オプションを使用します。<code class="option">--exclude-databases</code> はリストアすべきでない 1 つ以上のデータベースのカンマ区切りリストを受け入れます。<code class="option">--exclude-tables</code> はリストアすべきでない 1 つ以上のテーブルのカンマ区切りリスト (<code class="literal"><em class="replaceable"><code>database</code></em>.<em class="replaceable"><code>table</code></em></code> という形式を使用します) を受け入れます。
      </p><p>
        <code class="option">--exclude-databases</code> または <code class="option">--exclude-tables</code> を使用した場合は、これらのオプションによって指定されたデータベースまたはテーブルのみが除外されます。ほかのすべてのデータベースおよびテーブルは <span class="command"><strong>ndb_restore</strong></span> によってリストアされます。
      </p><p>
        次の表は、<code class="option">--exclude-*</code> オプション (必要となる可能性があるほかのオプションは、わかりやすくするために省略しています) を使用したいくつかの <span class="command"><strong>ndb_restore</strong></span> 呼び出し、および MySQL Cluster バックアップからリストアする場合にこれらのオプションが持つ効果を示しています。
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">使用するオプション</th><th scope="col">結果</th></tr></thead><tbody><tr><td scope="row"><code class="option">--exclude-databases=db1</code></td><td><code class="literal">db1</code> を除くすべてのデータベース内のすべてのテーブルがリストアされます。<code class="literal">db1</code> 内のテーブルはリストアされません</td></tr><tr><td scope="row"><code class="option">--exclude-databases=db1,db2</code> (または <code class="option">--exclude-databases=db1</code> <code class="option">--exclude-databases=db2</code>)</td><td><code class="literal">db1</code> および <code class="literal">db2</code> を除くすべてのデータベース内のすべてのテーブルがリストアされます。<code class="literal">db1</code> または <code class="literal">db2</code> 内のテーブルはリストアされません</td></tr><tr><td scope="row"><code class="option">--exclude-tables=db1.t1</code></td><td>データベース <code class="literal">db1</code> 内の <code class="literal">t1</code> を除くすべてのテーブルがリストアされます。<code class="literal">db1</code> 内のほかのすべてのテーブルはリストアされます。ほかのすべてのデータベース内のすべてのテーブルはリストアされます</td></tr><tr><td scope="row"><code class="option">--exclude-tables=db1.t2,db2.t1</code> (または <code class="option">--exclude-tables=db1.t2</code> <code class="option">--exclude-tables=db2.t1)</code></td><td>データベース <code class="literal">db1</code> 内の <code class="literal">t2</code> を除くすべてのテーブル、およびデータベース <code class="literal">db2</code> 内の <code class="literal">t1</code> を除くすべてのテーブルがリストアされます。<code class="literal">db1</code> または <code class="literal">db2</code> 内のほかのテーブルはリストアされません。ほかのすべてのデータベース内のすべてのテーブルはリストアされます</td></tr></tbody></table></div><p>
        これらの 2 つのオプションは一緒に使用できます。たとえば、次の場合は、データベース <code class="literal">db1</code> と <code class="literal">db2</code>、およびデータベース <code class="literal">db3</code> 内のテーブル <code class="literal">t1</code> と <code class="literal">t2</code> を<span class="emphasis"><em>除く</em></span>すべてのデータベース内のすべてのテーブルがリストア<span class="emphasis"><em>されません</em></span>。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndb_restore [...] --exclude-databases=db1,db2 --exclude-tables=db3.t1,db3.t2</code></strong>
</pre><p>
        (この例でも、わかりやすく簡潔にするために、必要となる可能性があるほかのオプションを省略しています)。
      </p><p>
        <code class="option">--include-*</code> オプションおよび <code class="option">--exclude-*</code> オプションは、次のルールに従って一緒に使用できます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            すべての <code class="option">--include-*</code> および <code class="option">--exclude-*</code> オプションのアクションは累積されます。
          </p></li><li class="listitem"><p>
            すべての <code class="option">--include-*</code> および <code class="option">--exclude-*</code> オプションは、ndb_restore に渡された順序で右から左に評価されます。
          </p></li><li class="listitem"><p>
            競合するオプションがある場合は、最初 (もっとも右側) のオプションが優先されます。言い換えると、対象となるデータベースまたはテーブルと一致する最初のオプション (右から左に適用して) が<span class="quote">「<span class="quote">適用されます</span>」</span>。
          </p></li></ul></div><p>
        たとえば、次の一連のオプションを指定すると、<span class="command"><strong>ndb_restore</strong></span> がデータベース <code class="literal">db1</code> の <code class="literal">db1.t1</code> を除くすべてのテーブルをリストアし、ほかのデータベースのほかのテーブルはリストアしません。
      </p><pre class="programlisting">          
--include-databases=db1 --exclude-tables=db1.t1
</pre><p>
        ただし、前述のオプションの順序を逆にすると、データベース <code class="literal">db1</code> のすべてのテーブルがリストアされます (<code class="literal">db1.t1</code> は含まれますが、ほかのデータベースのテーブルは含まれません)。これは、もっとも右にある <code class="option">--include-databases</code> オプションがデータベース <code class="literal">db1</code> に対して最初に一致し、<code class="literal">db1</code> または <code class="literal">db1</code> 内のテーブルと一致するその他のオプションより優先されるためです。
      </p><pre class="programlisting">          
--exclude-tables=db1.t1 --include-databases=db1
</pre><p><a name="option_ndb_restore_exclude-missing-columns"></a>
        <a class="indexterm" name="idm139979024317888"></a> <a class="indexterm" name="idm139979024315712"></a> <code class="option">--exclude-missing-columns</code>
      </p><div class="informaltable"><table summary="Options for exclude-missing-columns" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--exclude-missing-columns</code></td></tr></tbody></table></div><p>
        <code class="option">--exclude-missing-columns</code> オプションを使用すると、選択したテーブルカラムのみをリストアすることもできます。このオプションを使用するときは、<span class="command"><strong>ndb_restore</strong></span> は、バックアップで見つかったテーブルのバージョンと比較して、リストアされるテーブルで欠けているカラムを無視します。このオプションはリストアされるすべてのテーブルに適用されます。選択したテーブルまたはデータベースのみにこのオプションを適用したい場合は、それを実行する際に前の段落で説明したオプションの 1 つ以上を組み合わせて使用できます。つまり、残りのテーブルには、それらのオプションセットを補完的に使用してデータをリストアできます。
      </p><p><a name="option_ndb_restore_exclude-missing-tables"></a>
        <a class="indexterm" name="idm139979024303760"></a> <a class="indexterm" name="idm139979024301584"></a> <code class="option">--exclude-missing-tables</code>
      </p><div class="informaltable"><table summary="Options for exclude-missing-tables" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>導入</strong></span></td><td colspan="3">5.6.21-ndb-7.3.7</td></tr><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--exclude-missing-tables</code></td></tr></tbody></table></div><p>
        MySQL Cluster NDB 7.3.7 以降では、このオプションを使用して選択したテーブルカラムのみをリストアすることもでき、その場合、<span class="command"><strong>ndb_restore</strong></span> はバックアップからターゲットデータベースにないテーブルを無視します。
      </p><p><a name="option_ndb_restore_disable-indexes"></a>
        <a class="indexterm" name="idm139979024289344"></a> <a class="indexterm" name="idm139979024287184"></a> <code class="option">--disable-indexes</code>
      </p><div class="informaltable"><table summary="Options for disable-indexes" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--disable-indexes</code></td></tr></tbody></table></div><p>
        ネイティブ NDB バックアップからのデータのリストア中に、インデックスのリストアを無効にします。あとで、<code class="option">--rebuild-indexes</code> を使用してマルチスレッドでインデックスを構築することで、すべてのテーブルのインデックスを一度にリストアできます。非常に大きいテーブルの場合には、インデックスを同時に再構築するよりもこの方が速いはずです。
      </p><p><a name="option_ndb_restore_rebuild-indexes"></a>
        <a class="indexterm" name="idm139979024276480"></a> <a class="indexterm" name="idm139979024274320"></a> <code class="option">--rebuild-indexes</code>
      </p><div class="informaltable"><table summary="Options for rebuild-indexes" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--rebuild-indexes</code></td></tr></tbody></table></div><p>
        <span class="command"><strong>ndb_restore</strong></span> でこのオプションを使用すると、ネイティブ <code class="literal">NDB</code> バックアップのリストア中に、順序付けされたインデックスがマルチスレッドで再構築されます。このオプション付きの <span class="command"><strong>ndb_restore</strong></span> で順序付けされたインデックスを構築するために使用されるスレッドの数は、<code class="literal">BuildIndexThreads</code> データノード構成パラメータによって制御されます。
      </p><a class="indexterm" name="idm139979024262144"></a><p>
        このオプションを使用する必要があるのは、<span class="command"><strong>ndb_restore</strong></span> の最初の実行の場合のみです。これにより、以降のノードをリストアするときに <code class="option">--rebuild-indexes</code> をふたたび使用しなくても、すべての順序付けられたインデックスが再構築されます。このオプションはデータベースに新しい行を挿入する前に使用してください。そうしないと、インデックスを再構築しようとするときに、挿入される行があとで一意制約違反になることがあります。
      </p><p>
        一意インデックスの再構築では、Redo ロギングおよびローカルチェックポイント処理のディスク書き込み帯域幅が使用されます。この帯域幅が十分ではない場合、Redo バッファーオーバーロードエラーまたはログオーバーロードエラーになることがあります。そのような場合は、<span class="command"><strong>ndb_restore</strong></span> <code class="option">--rebuild-indexes</code> を再度実行できます。この処理はエラーが発生した箇所から再開されます。これは、一時エラーが発生したときにも行うことができます。<span class="command"><strong>ndb_restore</strong></span> <code class="option">--rebuild-indexes</code> の実行は無限に繰り返すことができます。<code class="literal">DiskCheckpointSpeed</code> の値を減らして Redo ロギングに追加のディスク帯域幅を与えることによって、そのようなエラーを停止できることがあります。
      </p><p><a name="option_ndb_restore_skip-broken-objects"></a>
        <a class="indexterm" name="idm139979024251760"></a> <a class="indexterm" name="idm139979024249600"></a> <code class="option">--skip-broken-objects</code>
      </p><div class="informaltable"><table summary="Options for skip-broken-objects" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--skip-broken-objects</code></td></tr></tbody></table></div><p>
        このオプションを指定すると、<span class="command"><strong>ndb_restore</strong></span> がネイティブ <code class="literal">NDB</code> バックアップを読み取るときに破損しているテーブルを無視して、残りのテーブル (破損していない) のリストアを続行します。現在のところ、<code class="option">--skip-broken-objects</code> オプションは BLOB パーツテーブルが欠けている場合にのみ機能します。
      </p><p><a name="option_ndb_restore_skip-unknown-objects"></a>
        <a class="indexterm" name="idm139979024237744"></a> <a class="indexterm" name="idm139979024235552"></a> <code class="option">--skip-unknown-objects</code>
      </p><div class="informaltable"><table summary="Options for skip-unknown-objects" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--skip-unknown-objects</code></td></tr></tbody></table></div><p>
        このオプションを指定すると、<span class="command"><strong>ndb_restore</strong></span> がネイティブ <code class="literal">NDB</code> バックアップを読み取るときに、認識されないスキーマオブジェクトを無視します。これは、MySQL Cluster NDB 7.3 を実行しているクラスタから作成されたバックアップを MySQL Cluster NDB 7.2 を実行しているクラスタにリストアするために使用できます。
      </p><p><a name="option_ndb_restore_rewrite-database"></a>
        <a class="indexterm" name="idm139979024224112"></a> <a class="indexterm" name="idm139979024221952"></a> <code class="option">--rewrite-database=<em class="replaceable"><code>old_dbname</code></em>,<em class="replaceable"><code>new_dbname</code></em></code>
      </p><div class="informaltable"><table summary="Options for rewrite-database" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--rewrite-database=olddb,newdb</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">文字列</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">none</code></td></tr></tbody></table></div><p>
        このオプションを指定すると、バックアップに使用された名前と異なる名前を持つデータベースにリストアできます。たとえば、バックアップが <code class="literal">products</code> という名前のデータベースから作成された場合は、このオプションを次のように使用して (必要となる可能性があるほかのオプションを省略しています)、含まれているデータを <code class="literal">inventory</code> という名前のデータベースにリストアできます。
      </p><pre class="programlisting">
shell&gt; ndb_restore --rewrite-database=product,inventory
</pre><p>
        このオプションは、<span class="command"><strong>ndb_restore</strong></span> の単一呼び出しで複数回指定できます。このため、<code class="option">--rewrite-database=db1,db2 --rewrite-database=db3,db4</code> を使用して、<code class="literal">db1</code> という名前のデータベースから <code class="literal">db2</code> という名前のデータベースに、および <code class="literal">db3</code> という名前のデータベースから <code class="literal">db4</code> という名前のデータベースに同時にリストアできます。複数の <code class="option">--rewrite-database</code> 発生箇所の間にほかの <span class="command"><strong>ndb_restore</strong></span> オプションを指定できます。
      </p><p>
        複数の <code class="option">--rewrite-database</code> オプションで競合が発生した場合は、左から右に読んで最後に使用されている <code class="option">--rewrite-database</code> オプションが有効となります。たとえば、<code class="option">--rewrite-database=db1,db2 --rewrite-database=db1,db3</code> が使用された場合、<code class="option">--rewrite-database=db1,db3</code> のみが有効となり、<code class="option">--rewrite-database=db1,db2</code> は無視されます。複数のデータベースから単一データベースにリストアすることもできるため、<code class="option">--rewrite-database=db1,db3 --rewrite-database=db2,db3</code> を指定すると、データベース <code class="literal">db1</code> および <code class="literal">db2</code> のすべてのテーブルおよびデータがデータベース <code class="literal">db3</code> にリストアされます。
      </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
          <code class="option">--rewrite-database</code> を使用して複数のバックアップデータベースから単一ターゲットデータベースにリストアする場合、テーブル名またはその他のオブジェクト名間の競合はチェックされず、行がリストアされる順序は保証されません。これは、そのような場合に行が上書きされて更新が失われることがあることを意味します。
        </p></div><p><a name="option_ndb_restore_exclude-intermediate-sql-tables"></a>
        <a class="indexterm" name="idm139979024189008"></a> <a class="indexterm" name="idm139979024186816"></a> <code class="option">--exclude-intermediate-sql-tables[=TRUE|FALSE]</code>
      </p><div class="informaltable"><table summary="Options for exclude-intermediate-sql-tables" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>導入</strong></span></td><td colspan="3">5.6.17-ndb-7.3.6</td></tr><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--exclude-intermediate-sql-tables[=TRUE|FALSE]</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">TRUE</code></td></tr></tbody></table></div><p>
        <code class="literal">ALTER TABLE</code> のコピー操作を実行するときに、<span class="command"><strong>mysqld</strong></span> は中間テーブルを作成します (名前の前に <code class="literal">#sql-</code> が付けられます)。<code class="literal">TRUE</code> を指定すると、<code class="option">--exclude-intermediate-sql-tables</code> オプションによって、<span class="command"><strong>ndb_restore</strong></span> がそのような操作で残された可能性があるテーブルをリストアしなくなります。このオプションはデフォルトでは <code class="literal">TRUE</code> です。
      </p><p>
        <code class="option">--exclude-intermediate-sql-tables</code> オプションは MySQL Cluster NDB 7.3.6 で導入されました。(Bug #17882305)
      </p><p><b>エラー報告 </b><a class="indexterm" name="idm139979024163664"></a>
          <span class="command"><strong>ndb_restore</strong></span> は一時的および永続的エラーの両方を報告します。一時エラーの場合は、それらからリカバリできる場合があり、そのようなときには<code class="literal">「Restore successful, but encountered temporary error, please look at configuration」</code>と報告されます。
        </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
          <span class="command"><strong>ndb_restore</strong></span> を使用して循環レプリケーションに使用するために MySQL Cluster を初期化したあとに、レプリケーションスレーブとして動作する SQL ノード上のバイナリログは自動的に作成されないため、それらを作成させるように手動で操作する必要があります。バイナリログを作成させるには、<code class="literal">START SLAVE</code> を実行する前に、その SQL ノードで <code class="literal">SHOW TABLES</code> ステートメントを発行します。これは MySQL Cluster の既知の問題です。
        </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-programs-ndb-select-all"></a>18.4.21 <span class="command"><strong>ndb_select_all</strong></span> — NDB テーブルの行の出力</h3></div></div></div><a class="indexterm" name="idm139979024153056"></a><p>
        <span class="command"><strong>ndb_select_all</strong></span> は、<code class="literal">NDB</code> テーブルのすべての行を <code class="literal">stdout</code> に出力します。
      </p><h4><a name="idm139979024148752"></a>使用法</h4><pre class="programlisting">
ndb_select_all -c <em class="replaceable"><code>connect_string</code></em> <em class="replaceable"><code>tbl_name</code></em> -d <em class="replaceable"><code>db_name</code></em> [&gt; <em class="replaceable"><code>file_name</code></em>]
</pre><p>
        次の表には、MySQL Cluster ネイティブバックアップリストアプログラム <span class="command"><strong>ndb_select_all</strong></span> に固有のオプションが含まれています。追加説明が表のあとにあります。ほとんどの MySQL Cluster プログラム (<span class="command"><strong>ndb_select_all</strong></span> を含む) に共通するオプションについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="18.4.27 MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション">セクション18.4.27「MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション」</a>を参照してください。
      </p><div class="table"><a name="mysql-cluster-ndb_select_all-options-table"></a><p class="title"><b>表 18.91 
            この表は、ndb_select_all プログラムのコマンド行オプションについて説明しています</b></p><div class="table-contents"><table id="mysql-cluster-ndb_select_all-options-table" summary="ndb_select_all Options and Variables: MySQL Cluster NDB 7.3"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="ndb_select_allformat">形式</th>
        <th id="ndb_select_alldescription">説明</th>
        <th id="ndb_select_alladdedremoved">追加または削除</th>
      </tr></thead><tbody><tr>
        <td id="rowndb_select_alldatabase" headers="ndb_select_allformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_select_all_database">--database=dbname</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_select_all_database">-d</a> </code>
          </p>
        </td>
        <td headers="rowndb_select_alldatabase ndb_select_alldescription">
      テーブルを探すデータベースの名前
    </td>
        <td headers="rowndb_select_alldatabase ndb_select_alladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_select_allparalelism" headers="ndb_select_allformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_select_all_parallelism">--parallelism=#</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_select_all_parallelism">-p</a> </code>
          </p>
        </td>
        <td headers="rowndb_select_allparalelism ndb_select_alldescription">
      並列性の度合い
    </td>
        <td headers="rowndb_select_allparalelism ndb_select_alladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_select_alllock" headers="ndb_select_allformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_select_all_lock">--lock=#</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_select_all_lock">-l</a> </code>
          </p>
        </td>
        <td headers="rowndb_select_alllock ndb_select_alldescription">
      ロックタイプ
    </td>
        <td headers="rowndb_select_alllock ndb_select_alladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_select_allorder" headers="ndb_select_allformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_select_all_order">--order=index</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_select_all_order">-o</a> </code>
          </p>
        </td>
        <td headers="rowndb_select_allorder ndb_select_alldescription">
      指定された名前のインデックスに従って結果セットをソートします
    </td>
        <td headers="rowndb_select_allorder ndb_select_alladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_select_alldescending" headers="ndb_select_allformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_select_all_descending">--descending</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_select_all_descending">-z</a> </code>
          </p>
        </td>
        <td headers="rowndb_select_alldescending ndb_select_alldescription">
      結果セットを降順にソートします (順序フラグが必要となります)
    </td>
        <td headers="rowndb_select_alldescending ndb_select_alladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_select_allheader" headers="ndb_select_allformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_select_all_header">--header</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_select_all_header">-h</a> </code>
          </p>
        </td>
        <td headers="rowndb_select_allheader ndb_select_alldescription">
      ヘッダーを出力します (出力でヘッダーを無効にするには 0|FALSE を設定します)
    </td>
        <td headers="rowndb_select_allheader ndb_select_alladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_select_alluseHexFormat" headers="ndb_select_allformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_select_all_useHexFormat">--useHexFormat</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_select_all_useHexFormat">-x</a> </code>
          </p>
        </td>
        <td headers="rowndb_select_alluseHexFormat ndb_select_alldescription">
      数値を 16 進形式で出力します
    </td>
        <td headers="rowndb_select_alluseHexFormat ndb_select_alladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_select_alldelimiter" headers="ndb_select_allformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_select_all_delimiter">--delimiter=char</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_select_all_delimiter">-D</a> </code>
          </p>
        </td>
        <td headers="rowndb_select_alldelimiter ndb_select_alldescription">
      カラム区切り文字を設定します
    </td>
        <td headers="rowndb_select_alldelimiter ndb_select_alladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_select_alldisk" headers="ndb_select_allformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_select_all_disk">--disk</a> </code>
          </p>
        </td>
        <td headers="rowndb_select_alldisk ndb_select_alldescription">
      ディスク参照を出力します (インデックスが設定されていないカラムを持つディスクデータテーブルでのみ役に立ちます)
    </td>
        <td headers="rowndb_select_alldisk ndb_select_alladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_select_allrowid" headers="ndb_select_allformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_select_all_rowid">--rowid</a> </code>
          </p>
        </td>
        <td headers="rowndb_select_allrowid ndb_select_alldescription">
      ROWID を出力します
    </td>
        <td headers="rowndb_select_allrowid ndb_select_alladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_select_allgci" headers="ndb_select_allformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_select_all_gci">--gci</a> </code>
          </p>
        </td>
        <td headers="rowndb_select_allgci ndb_select_alldescription">
      出力に GCI を含めます
    </td>
        <td headers="rowndb_select_allgci ndb_select_alladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_select_allgci64" headers="ndb_select_allformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_select_all_gci64">--gci64</a> </code>
          </p>
        </td>
        <td headers="rowndb_select_allgci64 ndb_select_alldescription">
      出力に GCI および行エポックを含めます
    </td>
        <td headers="rowndb_select_allgci64 ndb_select_alladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_select_alltupscan" headers="ndb_select_allformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_select_all_tupscan">--tup</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_select_all_tupscan">-t</a> </code>
          </p>
        </td>
        <td headers="rowndb_select_alltupscan ndb_select_alldescription">
      TUP 順序でスキャンします
    </td>
        <td headers="rowndb_select_alltupscan ndb_select_alladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_select_allnodata" headers="ndb_select_allformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_select_all_nodata">--nodata</a> </code>
          </p>
        </td>
        <td headers="rowndb_select_allnodata ndb_select_alldescription">
      テーブルカラムデータを出力しません
    </td>
        <td headers="rowndb_select_allnodata ndb_select_alladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndb_select_all_database"></a>
            <a class="indexterm" name="idm139979024004304"></a> <code class="option">--database=<em class="replaceable"><code>dbname</code></em></code>、<code class="option">-d</code> <em class="replaceable"><code>dbname</code></em>
          </p><p>
            テーブルが見つかるデータベースの名前。デフォルト値は <code class="literal">TEST_DB</code> です。
          </p></li><li class="listitem"><p><a name="option_ndb_select_all_parallelism"></a>
            <a class="indexterm" name="idm139979023998128"></a> <code class="option">parallelism=<em class="replaceable"><code>#</code></em></code>、<code class="option">-p</code> <em class="replaceable"><code>#</code></em>
          </p><p>
            並列の度合いを指定します。
          </p></li><li class="listitem"><p><a name="option_ndb_select_all_lock"></a>
            <a class="indexterm" name="idm139979023992816"></a> <a class="indexterm" name="idm139979023990640"></a> <code class="option">--lock=<em class="replaceable"><code>lock_type</code></em></code>、<code class="option">-l <em class="replaceable"><code>lock_type</code></em></code>
          </p><p>
            テーブルを読み取るときにロックを適用します。<em class="replaceable"><code>lock_type</code></em> に指定できる値を次に示します。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">0</code>: 読み取りロック
              </p></li><li class="listitem"><p>
                <code class="literal">1</code>: ホールド付きの読み取りロック
              </p></li><li class="listitem"><p>
                <code class="literal">2</code>: 排他的読み取りロック
              </p></li></ul></div><p>
            このオプションにはデフォルト値はありません。
          </p></li><li class="listitem"><p><a name="option_ndb_select_all_order"></a>
            <a class="indexterm" name="idm139979023979376"></a> <a class="indexterm" name="idm139979023977200"></a> <code class="option">--order=<em class="replaceable"><code>index_name</code></em></code>、<code class="option">-o <em class="replaceable"><code>index_name</code></em></code>
          </p><p>
            <em class="replaceable"><code>index_name</code></em> という名前のインデックスの順序で出力します。これはカラム名ではなくインデックス名であり、インデックスは作成時に明示的に名前が付けられている必要があります。
          </p></li><li class="listitem"><p><a name="option_ndb_select_all_descending"></a>
            <a class="indexterm" name="idm139979023971312"></a> <a class="indexterm" name="idm139979023969168"></a> <code class="option">--descending</code>、<code class="option">-z</code>
          </p><p>
            出力を降順でソートします。このオプションは、<code class="option">-o</code> (<code class="option">--order</code>) オプションを指定した場合にのみ使用できます。
          </p></li><li class="listitem"><p><a name="option_ndb_select_all_header"></a>
            <a class="indexterm" name="idm139979023963344"></a> <a class="indexterm" name="idm139979023961168"></a> <code class="option">--header=FALSE</code>
          </p><p>
            出力からカラムヘッダーを除外します。
          </p></li><li class="listitem"><p><a name="option_ndb_select_all_useHexFormat"></a>
            <a class="indexterm" name="idm139979023957008"></a> <a class="indexterm" name="idm139979023954848"></a> <code class="option">--useHexFormat</code> <code class="option">-x</code>
          </p><p>
            すべての数値を 16 進数形式で表示します。これは文字列または日時値に含まれている数値の出力には影響しません。
          </p></li><li class="listitem"><p><a name="option_ndb_select_all_delimiter"></a>
            <a class="indexterm" name="idm139979023950016"></a> <a class="indexterm" name="idm139979023947872"></a> <code class="option">--delimiter=<em class="replaceable"><code>character</code></em></code>、<code class="option">-D <em class="replaceable"><code>character</code></em></code>
          </p><p>
            <em class="replaceable"><code>character</code></em> をカラム区切り文字として使用します。この区切り文字で区切られるのはテーブルデータカラムのみです。
          </p><p>
            デフォルトの区切り文字はタブ文字です。
          </p></li><li class="listitem"><p><a name="option_ndb_select_all_disk"></a>
            <a class="indexterm" name="idm139979023941520"></a> <a class="indexterm" name="idm139979023939344"></a> <code class="option">--disk</code>
          </p><p>
            出力にディスクリファレンスカラムを追加します。このカラムが空でないのは、インデックスが設定されていないカラムを持つディスクデータテーブルの場合だけです。
          </p></li><li class="listitem"><p><a name="option_ndb_select_all_rowid"></a>
            <a class="indexterm" name="idm139979023934832"></a> <a class="indexterm" name="idm139979023932656"></a> <code class="option">--rowid</code>
          </p><p>
            行が保存されるフラグメントに関する情報を示す <code class="literal">ROWID</code> カラムを追加します。
          </p></li><li class="listitem"><p><a name="option_ndb_select_all_gci"></a>
            <a class="indexterm" name="idm139979023927712"></a> <a class="indexterm" name="idm139979023925552"></a> <code class="option">--gci</code>
          </p><p>
            各行が最後に更新されたグローバルチェックポイントを示す <code class="literal">GCI</code> カラムを出力に追加します。チェックポイントに関する詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-overview" title="18.1 MySQL Cluster の概要">セクション18.1「MySQL Cluster の概要」</a>および<a class="xref" href="mysql-cluster.html#mysql-cluster-log-events" title="18.5.6.2 MySQL Cluster ログイベント">セクション18.5.6.2「MySQL Cluster ログイベント」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_ndb_select_all_gci64"></a>
            <a class="indexterm" name="idm139979023919056"></a> <a class="indexterm" name="idm139979023916880"></a> <code class="option">--gci64</code>
          </p><p>
            各行が最後に更新されたグローバルチェックポイントおよびこの更新が発生したエポックの数を示す <code class="literal">ROW$GCI64</code> カラムを出力に追加します。
          </p></li><li class="listitem"><p><a name="option_ndb_select_all_tupscan"></a>
            <a class="indexterm" name="idm139979023911776"></a> <a class="indexterm" name="idm139979023909600"></a> <code class="option">--tupscan</code>、<code class="option">-t</code>
          </p><p>
            タプルの順序でテーブルをスキャンします。
          </p></li><li class="listitem"><p><a name="option_ndb_select_all_nodata"></a>
            <a class="indexterm" name="idm139979023905008"></a> <a class="indexterm" name="idm139979023902832"></a> <code class="option">--nodata</code>
          </p><p>
            テーブルデータを省きます。
          </p></li></ul></div><h4><a name="idm139979023899440"></a>出力例</h4><p>
        MySQL <code class="literal">SELECT</code> ステートメントからの出力:
      </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT * FROM ctest1.fish;</code></strong>
+----+-----------+
| id | name      |
+----+-----------+
|  3 | shark     |
|  6 | puffer    |
|  2 | tuna      |
|  4 | manta ray |
|  5 | grouper   |
|  1 | guppy     |
+----+-----------+
6 rows in set (0.04 sec)
</pre><p>
        同等の <span class="command"><strong>ndb_select_all</strong></span> 呼び出しからの出力:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>./ndb_select_all -c localhost fish -d ctest1</code></strong>
id      name
3       [shark]
6       [puffer]
2       [tuna]
4       [manta ray]
5       [grouper]
1       [guppy]
6 rows returned

NDBT_ProgramExit: 0 - OK
</pre><p>
        <span class="command"><strong>ndb_select_all</strong></span> の出力では、すべての文字列値は角括弧 (<span class="quote">「<span class="quote"><code class="literal">[</code>...<code class="literal">]</code></span>」</span>) で囲まれます。ほかの例として、次のように作成されて移入されたテーブルがあるとします。
      </p><pre class="programlisting">
CREATE TABLE dogs (
    id INT(11) NOT NULL AUTO_INCREMENT,
    name VARCHAR(25) NOT NULL,
    breed VARCHAR(50) NOT NULL,
    PRIMARY KEY pk (id),
    KEY ix (name)
)
TABLESPACE ts STORAGE DISK
ENGINE=NDBCLUSTER;

INSERT INTO dogs VALUES
    ('', 'Lassie', 'collie'),
    ('', 'Scooby-Doo', 'Great Dane'),
    ('', 'Rin-Tin-Tin', 'Alsatian'),
    ('', 'Rosscoe', 'Mutt');
</pre><p>
        ほかのいくつかの <span class="command"><strong>ndb_select_all</strong></span> オプションの使用方法を次に示します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>./ndb_select_all -d ctest1 dogs -o ix -z --gci --disk</code></strong>
GCI     id name          breed        DISK_REF
834461  2  [Scooby-Doo]  [Great Dane] [ m_file_no: 0 m_page: 98 m_page_idx: 0 ]
834878  4  [Rosscoe]     [Mutt]       [ m_file_no: 0 m_page: 98 m_page_idx: 16 ]
834463  3  [Rin-Tin-Tin] [Alsatian]   [ m_file_no: 0 m_page: 34 m_page_idx: 0 ]
835657  1  [Lassie]      [Collie]     [ m_file_no: 0 m_page: 66 m_page_idx: 0 ]
4 rows returned

NDBT_ProgramExit: 0 - OK
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-programs-ndb-select-count"></a>18.4.22 <span class="command"><strong>ndb_select_count</strong></span> — NDB テーブルの行数の出力</h3></div></div></div><a class="indexterm" name="idm139979023884032"></a><p>
        <span class="command"><strong>ndb_select_count</strong></span> は、1 つ以上の <code class="literal">NDB</code> テーブルの行数を出力します。単一テーブルでは、結果は MySQL ステートメント <code class="literal">SELECT COUNT(*) FROM <em class="replaceable"><code>tbl_name</code></em></code> を使用して取得される結果と同じになります。
      </p><h4><a name="idm139979023879168"></a>使用法</h4><pre class="programlisting">
ndb_select_count [-c <em class="replaceable"><code>connect_string</code></em>] -d<em class="replaceable"><code>db_name</code></em> <em class="replaceable"><code>tbl_name</code></em>[, <em class="replaceable"><code>tbl_name2</code></em>[, ...]]
</pre><p>
        次の表には、MySQL Cluster ネイティブバックアップリストアプログラム <span class="command"><strong>ndb_select_count</strong></span> に固有のオプションが含まれています。追加説明が表のあとにあります。ほとんどの MySQL Cluster プログラム (<span class="command"><strong>ndb_select_count</strong></span> を含む) に共通するオプションについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="18.4.27 MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション">セクション18.4.27「MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション」</a>を参照してください。
      </p><div class="table"><a name="mysql-cluster-ndb_select_count-options-table"></a><p class="title"><b>表 18.92 
            この表は、ndb_select_count プログラムのコマンド行オプションについて説明しています</b></p><div class="table-contents"><table id="mysql-cluster-ndb_select_count-options-table" summary="ndb_select_count Options and Variables: MySQL Cluster NDB 7.3"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="ndb_select_countformat">形式</th>
        <th id="ndb_select_countdescription">説明</th>
        <th id="ndb_select_countaddedremoved">追加または削除</th>
      </tr></thead><tbody><tr>
        <td id="rowndb_select_countdatabase" headers="ndb_select_countformat">
          <p>
            <code class="literal">--database=dbname</code>、
          </p>
          <p>
            <code class="literal">-d</code>
          </p>
        </td>
        <td headers="rowndb_select_countdatabase ndb_select_countdescription">
      テーブルを探すデータベースの名前
    </td>
        <td headers="rowndb_select_countdatabase ndb_select_countaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_select_countparalelism" headers="ndb_select_countformat">
          <p>
            <code class="literal">--parallelism=#</code>、
          </p>
          <p>
            <code class="literal">-p</code>
          </p>
        </td>
        <td headers="rowndb_select_countparalelism ndb_select_countdescription">
      並列性の度合い
    </td>
        <td headers="rowndb_select_countparalelism ndb_select_countaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_select_countlock" headers="ndb_select_countformat">
          <p>
            <code class="literal">--lock=#</code>、
          </p>
          <p>
            <code class="literal">-l</code>
          </p>
        </td>
        <td headers="rowndb_select_countlock ndb_select_countdescription">
      ロックタイプ
    </td>
        <td headers="rowndb_select_countlock ndb_select_countaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
        同じデータベース内の複数のテーブルの行数を取得するには、<span class="bold"><strong>「出力例」</strong></span>に示されているように、このコマンドを呼び出すときにテーブル名をスペースで区切ってリストします。
      </p><h4><a name="idm139979023837552"></a>出力例</h4><pre class="programlisting">
shell&gt; <strong class="userinput"><code>./ndb_select_count -c localhost -d ctest1 fish dogs</code></strong>
6 records in table fish
4 records in table dogs

NDBT_ProgramExit: 0 - OK
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-programs-ndb-setup-py"></a>18.4.23 <span class="command"><strong>ndb_setup.py</strong></span> — MySQL Cluster のブラウザベース自動インストーラの開始</h3></div></div></div><a class="indexterm" name="idm139979023833648"></a><a class="indexterm" name="idm139979023832304"></a><p>
        <span class="command"><strong>ndb_setup.py</strong></span> は、MySQL Cluster Auto-Installer を開始し、デフォルト Web ブラウザでインストーラの「Start」ページを開きます。
      </p><p>
        このセクションでは、コマンド行ツールのみの使用方法およびプログラムオプションについて説明します。<span class="command"><strong>ndb_setup.py</strong></span> を呼び出すと開始される Auto-Installer GUI の使用方法については、<a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto" title="18.2.1 MySQL Cluster Auto-Installer">セクション18.2.1「MySQL Cluster Auto-Installer」</a>を参照してください。
      </p><h4><a name="idm139979023826528"></a>使用法</h4><p>
        すべてのプラットフォーム:
      </p><pre class="programlisting">
ndb_setup.py [<em class="replaceable"><code>options</code></em>]
</pre><a class="indexterm" name="idm139979023824336"></a><a class="indexterm" name="idm139979023822304"></a><p>
        または、Windows プラットフォームのみ:
      </p><pre class="programlisting">
setup.bat [<em class="replaceable"><code>options</code></em>]
</pre><p>
        次の表には、MySQL Cluster のインストールおよび構成プログラム <span class="command"><strong>ndb_setup.py</strong></span> によってサポートされるすべてのオプションが含まれています。追加説明が表のあとにあります。
      </p><div class="table"><a name="mysql-cluster-ndb_setup_py-options-table"></a><p class="title"><b>表 18.93 
            この表は、ndb_setup.py プログラムのコマンド行オプションについて説明しています</b></p><div class="table-contents"><table id="mysql-cluster-ndb_setup_py-options-table" summary="ndb_setup.py Options and Variables: MySQL Cluster NDB 7.3"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="ndb_setup_pyformat">形式</th>
        <th id="ndb_setup_pydescription">説明</th>
        <th id="ndb_setup_pyaddedremoved">追加または削除</th>
      </tr></thead><tbody><tr>
        <td id="rowndb_setup_pybrowser-start-page" headers="ndb_setup_pyformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_setup_py_browser-start-page">--browser-start-page=filename</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_setup_py_browser-start-page">-s</a> </code>
          </p>
        </td>
        <td headers="rowndb_setup_pybrowser-start-page ndb_setup_pydescription">
      Web ブラウザを開始したときに開くページ。
    </td>
        <td headers="rowndb_setup_pybrowser-start-page ndb_setup_pyaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_setup_pyca-certs-file" headers="ndb_setup_pyformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_setup_py_ca-certs-file">--ca-certs-file=filename</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_setup_py_ca-certs-file">-a</a> </code>
          </p>
        </td>
        <td headers="rowndb_setup_pyca-certs-file ndb_setup_pydescription">
      サーバーに接続できるクライアント証明書のリストが含まれているファイル
    </td>
        <td headers="rowndb_setup_pyca-certs-file ndb_setup_pyaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_setup_pycert-file" headers="ndb_setup_pyformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_setup_py_cert-file">--cert-file=filename</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_setup_py_cert-file">-c</a> </code>
          </p>
        </td>
        <td headers="rowndb_setup_pycert-file ndb_setup_pydescription">
      サーバーを識別する X509 証明書が含まれているファイル(デフォルト: cfg.pem)
    </td>
        <td headers="rowndb_setup_pycert-file ndb_setup_pyaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_setup_pydebug-level" headers="ndb_setup_pyformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_setup_py_debug-level">--debug-level=level</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_setup_py_debug-level">-d</a> </code>
          </p>
        </td>
        <td headers="rowndb_setup_pydebug-level ndb_setup_pydescription">
      Python ロギングモジュールのデバッグレベル。DEBUG、INFO、WARNING (デフォルト)、ERROR、または CRITICAL のいずれか。
    </td>
        <td headers="rowndb_setup_pydebug-level ndb_setup_pyaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_setup_pyhelp" headers="ndb_setup_pyformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_setup_py_help">--help</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_setup_py_help">-h</a> </code>
          </p>
        </td>
        <td headers="rowndb_setup_pyhelp ndb_setup_pydescription">
      ヘルプメッセージを出力します
    </td>
        <td headers="rowndb_setup_pyhelp ndb_setup_pyaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_setup_pykey-file" headers="ndb_setup_pyformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_setup_py_key-file">--key-file=file</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_setup_py_key-file">-k</a> </code>
          </p>
        </td>
        <td headers="rowndb_setup_pykey-file ndb_setup_pydescription">
      プライベートキーが含まれているファイルを指定します (--cert-file に含まれていない場合)
    </td>
        <td headers="rowndb_setup_pykey-file ndb_setup_pyaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_setup_pyno-browser" headers="ndb_setup_pyformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_setup_py_no-browser">--no-browser</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_setup_py_no-browser">-n</a> </code>
          </p>
        </td>
        <td headers="rowndb_setup_pyno-browser ndb_setup_pydescription">
      ブラウザで開始ページを開かずに、単にツールを開始します
    </td>
        <td headers="rowndb_setup_pyno-browser ndb_setup_pyaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_setup_pyport" headers="ndb_setup_pyformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_setup_py_port">--port=#</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_setup_py_port">-p</a> </code>
          </p>
        </td>
        <td headers="rowndb_setup_pyport ndb_setup_pydescription">
      Web サーバーによって使用されるポートを指定します
    </td>
        <td headers="rowndb_setup_pyport ndb_setup_pyaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_setup_pyserver-log-file" headers="ndb_setup_pyformat">
          <p>
            <code class="literal">--server-log-file=file</code>、
          </p>
          <p>
            <code class="literal">o</code>
          </p>
        </td>
        <td headers="rowndb_setup_pyserver-log-file ndb_setup_pydescription">
      要求のログをこのファイルに記録します。代わりに stderr へのロギングを強制するには '-' を使用します。
    </td>
        <td headers="rowndb_setup_pyserver-log-file ndb_setup_pyaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_setup_pyserver-name" headers="ndb_setup_pyformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_setup_py_server-name">--server-name=name</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_setup_py_server-name">-N</a> </code>
          </p>
        </td>
        <td headers="rowndb_setup_pyserver-name ndb_setup_pydescription">
      接続するサーバーの名前
    </td>
        <td headers="rowndb_setup_pyserver-name ndb_setup_pyaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_setup_pyuse-https" headers="ndb_setup_pyformat">
          <p>
            <code class="literal">--use-https</code>、
          </p>
          <p>
            <code class="literal">-S</code>
          </p>
        </td>
        <td headers="rowndb_setup_pyuse-https ndb_setup_pydescription">
      セキュア (HTTPS) クライアントサーバー接続を使用します
    </td>
        <td headers="rowndb_setup_pyuse-https ndb_setup_pyaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndb_setup_py_browser-start-page"></a>
            <a class="indexterm" name="idm139979023701712"></a> <a class="indexterm" name="idm139979023699552"></a> <code class="option">--browser-start-page=<em class="replaceable"><code>file</code></em></code>、<code class="option">-s</code>
          </p><div class="informaltable"><table summary="Options for browser-start-page" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--browser-start-page=filename</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">文字列</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">index.html</code></td></tr></tbody></table></div><p>
            ブラウザでインストールおよび構成の「Start」ページとして開くファイルを指定します。デフォルトは <code class="filename">index.html</code> です。
          </p></li><li class="listitem"><p><a name="option_ndb_setup_py_ca-certs-file"></a>
            <a class="indexterm" name="idm139979023682208"></a> <a class="indexterm" name="idm139979023680048"></a> <code class="option">--ca-certs-file=<em class="replaceable"><code>file</code></em></code>、<code class="option">-a</code>
          </p><div class="informaltable"><table summary="Options for ca-certs-file" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--ca-certs-file=filename</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ファイル名</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">[none]</code></td></tr></tbody></table></div><p>
            サーバーに接続できるクライアント証明書のリストが含まれているファイルを指定します。デフォルトは空の文字列であり、クライアント認証が使用されないことを意味します。
          </p></li><li class="listitem"><p><a name="option_ndb_setup_py_cert-file"></a>
            <a class="indexterm" name="idm139979023663152"></a> <a class="indexterm" name="idm139979023661008"></a> <code class="option">--cert-file=<em class="replaceable"><code>file</code></em></code>、<code class="option">-c</code>
          </p><div class="informaltable"><table summary="Options for cert-file" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--cert-file=filename</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ファイル名</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">cfg.pem</code></td></tr></tbody></table></div><p>
            サーバーを識別する X509 証明書が含まれているファイルを指定します。証明書は自己署名できます。デフォルトは <code class="filename">cfg.pem</code> です。
          </p></li><li class="listitem"><p><a name="option_ndb_setup_py_debug-level"></a>
            <a class="indexterm" name="idm139979023643664"></a> <a class="indexterm" name="idm139979023641520"></a> <code class="option">--debug-level=<em class="replaceable"><code>level</code></em></code>、<code class="option">-d</code>
          </p><div class="informaltable"><table summary="Options for debug-level" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--debug-level=level</code></td></tr><tr><td scope="row" rowspan="6"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">列挙</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">WARNING</code></td></tr><tr><td scope="row" rowspan="4" valign="top"><span class="bold"><strong>有効な値</strong></span></td><td colspan="2"><code class="literal">DEBUG</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">INFO</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">ERROR</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">CRITICAL</code></td></tr></tbody></table></div><p>
            Python ロギングモジュールデバッグレベルを設定します。これは、<code class="literal">DEBUG</code>、<code class="literal">INFO</code>、<code class="literal">WARNING</code>、<code class="literal">ERROR</code>、または <code class="literal">CRITICAL</code> のいずれかです。<code class="literal">WARNING</code> がデフォルトです。
          </p></li><li class="listitem"><p><a name="option_ndb_setup_py_help"></a>
            <a class="indexterm" name="idm139979023613584"></a> <a class="indexterm" name="idm139979023611408"></a> <code class="option">--help</code>、<code class="option">-h</code>
          </p><div class="informaltable"><table summary="Options for help" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--help</code></td></tr></tbody></table></div><p>
            ヘルプメッセージを出力します。
          </p></li><li class="listitem"><p><a name="option_ndb_setup_py_key-file"></a>
            <a class="indexterm" name="idm139979023600912"></a> <a class="indexterm" name="idm139979023598768"></a> <code class="option">--key-file=<em class="replaceable"><code>file</code></em></code>、<code class="option">-d</code>
          </p><div class="informaltable"><table summary="Options for key-file" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--key-file=file</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ファイル名</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">[none]</code></td></tr></tbody></table></div><p>
            X509 証明書ファイル (<code class="option">--cert-file</code>) にプライベートキーが含まれていない場合、これが含まれているファイルを指定します。デフォルトは空の文字列であり、そのようなファイルが使用されないことを意味します。
          </p></li><li class="listitem"><p><a name="option_ndb_setup_py_no-browser"></a>
            <a class="indexterm" name="idm139979023581152"></a> <a class="indexterm" name="idm139979023579008"></a> <code class="option">--no-browser</code>、<code class="option">-n</code>
          </p><div class="informaltable"><table summary="Options for no-browser" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--no-browser</code></td></tr></tbody></table></div><p>
            インストールおよび構成ツールを開始しますが、ブラウザで「Start」ページを開きません。
          </p></li><li class="listitem"><p><a name="option_ndb_setup_py_port"></a>
            <a class="indexterm" name="idm139979023568240"></a> <a class="indexterm" name="idm139979023566064"></a> <code class="option">--port=<em class="replaceable"><code>#</code></em></code>、<code class="option">-p</code>
          </p><div class="informaltable"><table summary="Options for port" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--port=#</code></td></tr><tr><td scope="row" rowspan="4"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">数値</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">8081</code></td></tr><tr><td scope="row"><span class="bold"><strong>最小値</strong></span></td><td colspan="2"><code class="literal">1</code></td></tr><tr><td scope="row"><span class="bold"><strong>最大値</strong></span></td><td colspan="2"><code class="literal">65535</code></td></tr></tbody></table></div><p>
            Web サーバーによって使用されるポートを設定します。デフォルトは 8081 です。
          </p></li><li class="listitem"><p><a name="option_ndb_setup_py_server-log-file"></a>
            <a class="indexterm" name="idm139979023545072"></a> <a class="indexterm" name="idm139979023542912"></a> <code class="option">--server-log-file=<em class="replaceable"><code>file</code></em></code>、<code class="option">-o</code>
          </p><div class="informaltable"><table summary="Options for server-log-file" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--server-log-file=file</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">o</code></td></tr><tr><td scope="row" rowspan="3"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ファイル名</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">ndb_setup.log</code></td></tr><tr><td scope="row" valign="top"><span class="bold"><strong>有効な値</strong></span></td><td colspan="2"><code class="literal">-</code> (stderr にログを記録します)</td></tr></tbody></table></div><p>
            要求のログをこのファイルに記録します。デフォルトは <code class="filename">ndb_setup.log</code> です。ファイルではなく <code class="literal">stderr</code> にロギングするように指定するには、ファイル名に <code class="literal">-</code> (ダッシュ文字) を使用します。
          </p></li><li class="listitem"><p><a name="option_ndb_setup_py_server-name"></a>
            <a class="indexterm" name="idm139979023519424"></a> <a class="indexterm" name="idm139979023517280"></a> <code class="option">--server-name=<em class="replaceable"><code>host</code></em></code>、<code class="option">-N</code>
          </p><div class="informaltable"><table summary="Options for server-name" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--server-name=name</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">文字列</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">localhost</code></td></tr></tbody></table></div><p>
            ブラウザが接続するときに使用するホスト名または IP アドレスを指定します。デフォルトは <code class="literal">localhost</code> です。
          </p></li><li class="listitem"><p><a name="option_ndb_setup_py_use-https"></a>
            <a class="indexterm" name="idm139979023499952"></a> <a class="indexterm" name="idm139979023497808"></a> <code class="option">--use-https</code>、<code class="option">-S</code>
          </p><div class="informaltable"><table summary="Options for use-https" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--use-https</code></td></tr></tbody></table></div><p>
            ブラウザがサーバーに対してセキュア (HTTPS) 接続を使用します。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-programs-ndb-show-tables"></a>18.4.24 <span class="command"><strong>ndb_show_tables</strong></span> — NDB テーブルのリストの表示</h3></div></div></div><a class="indexterm" name="idm139979023486144"></a><p>
        <span class="command"><strong>ndb_show_tables</strong></span> は、クラスタ内のすべての <code class="literal">NDB</code> データベースオブジェクトのリストを表示します。デフォルトでは、これには、ユーザーが作成したテーブルと <code class="literal">NDB</code> システムテーブルのみではなく、<code class="literal">NDB</code> 固有のインデックス、内部トリガー、および MySQL Cluster ディスクデータオブジェクトも含まれます。
      </p><p>
        次の表には、MySQL Cluster ネイティブバックアップリストアプログラム <span class="command"><strong>ndb_show_tables</strong></span> に固有のオプションが含まれています。追加説明が表のあとにあります。ほとんどの MySQL Cluster プログラム (<span class="command"><strong>ndb_show_tables</strong></span> を含む) に共通するオプションについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="18.4.27 MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション">セクション18.4.27「MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション」</a>を参照してください。
      </p><div class="table"><a name="mysql-cluster-ndb_show_tables-options-table"></a><p class="title"><b>表 18.94 
            この表は、ndb_show_tables プログラムのコマンド行オプションについて説明しています</b></p><div class="table-contents"><table id="mysql-cluster-ndb_show_tables-options-table" summary="ndb_show_tables Options and Variables: MySQL Cluster NDB 7.3"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="ndb_show_tablesformat">形式</th>
        <th id="ndb_show_tablesdescription">説明</th>
        <th id="ndb_show_tablesaddedremoved">追加または削除</th>
      </tr></thead><tbody><tr>
        <td id="rowndb_show_tablesdatabase" headers="ndb_show_tablesformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_show_tables_database">--database=string</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_show_tables_database">-d</a> </code>
          </p>
        </td>
        <td headers="rowndb_show_tablesdatabase ndb_show_tablesdescription">
      テーブルを探すデータベースを指定します
    </td>
        <td headers="rowndb_show_tablesdatabase ndb_show_tablesaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_show_tablesloops" headers="ndb_show_tablesformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_show_tables_loops">--loops=#</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_show_tables_loops">-l</a> </code>
          </p>
        </td>
        <td headers="rowndb_show_tablesloops ndb_show_tablesdescription">
      出力を繰り返す回数
    </td>
        <td headers="rowndb_show_tablesloops ndb_show_tablesaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_show_tablestype" headers="ndb_show_tablesformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_show_tables_type">--type=#</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_show_tables_type">-t</a> </code>
          </p>
        </td>
        <td headers="rowndb_show_tablestype ndb_show_tablesdescription">
      このタイプのオブジェクトに出力を制限します
    </td>
        <td headers="rowndb_show_tablestype ndb_show_tablesaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_show_tablesunqualified" headers="ndb_show_tablesformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_show_tables_unqualified">--unqualified</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_show_tables_unqualified">-u</a> </code>
          </p>
        </td>
        <td headers="rowndb_show_tablesunqualified ndb_show_tablesdescription">
      テーブル名を修飾しません
    </td>
        <td headers="rowndb_show_tablesunqualified ndb_show_tablesaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_show_tablesparsable" headers="ndb_show_tablesformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_show_tables_parsable">--parsable</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_show_tables_parsable">-p</a> </code>
          </p>
        </td>
        <td headers="rowndb_show_tablesparsable ndb_show_tablesdescription">
      MySQL LOAD DATA INFILE ステートメントに適した出力を返します
    </td>
        <td headers="rowndb_show_tablesparsable ndb_show_tablesaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_show_tablesshow-temp-status" headers="ndb_show_tablesformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_show_tables_show-temp-status">--show-temp-status</a> </code>
          </p>
        </td>
        <td headers="rowndb_show_tablesshow-temp-status ndb_show_tablesdescription">
      テーブル一時フラグを表示します
    </td>
        <td headers="rowndb_show_tablesshow-temp-status ndb_show_tablesaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><h4><a name="idm139979023410832"></a>使用法</h4><pre class="programlisting">
ndb_show_tables [-c <em class="replaceable"><code>connect_string</code></em>]
</pre><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndb_show_tables_database"></a>
            <a class="indexterm" name="idm139979023407872"></a> <a class="indexterm" name="idm139979023405696"></a> <code class="option">--database</code>、<code class="option">-d</code>
          </p><p>
            テーブルが見つかるデータベースの名前を指定します。
          </p></li><li class="listitem"><p><a name="option_ndb_show_tables_loops"></a>
            <a class="indexterm" name="idm139979023401088"></a> <a class="indexterm" name="idm139979023398912"></a> <code class="option">--loops</code>、<code class="option">-l</code>
          </p><p>
            ユーティリティーを実行すべき回数を指定します。このオプションを指定しない場合はこれは 1 ですが、このオプションを使用する場合はそれに整数の引数を指定する必要があります。
          </p></li><li class="listitem"><p><a name="option_ndb_show_tables_parsable"></a>
            <a class="indexterm" name="idm139979023393952"></a> <a class="indexterm" name="idm139979023391776"></a> <code class="option">--parsable</code>、<code class="option">-p</code>
          </p><p>
            このオプションを使用すると、出力が <code class="literal">LOAD DATA INFILE</code> での使用に適した形式になります。
          </p></li><li class="listitem"><p><a name="option_ndb_show_tables_show-temp-status"></a>
            <a class="indexterm" name="idm139979023385856"></a> <a class="indexterm" name="idm139979023383696"></a> <code class="option">--show-temp-status</code>
          </p><p>
            指定した場合は、一時テーブルが表示されます。
          </p></li><li class="listitem"><p><a name="option_ndb_show_tables_type"></a>
            <a class="indexterm" name="idm139979023379504"></a> <a class="indexterm" name="idm139979023377328"></a> <code class="option">--type</code>、<code class="option">-t</code>
          </p><p>
            次に示す整数型コードで指定された 1 種類のオブジェクトに出力を制限するために使用できます。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">1</code>: システムテーブル
              </p></li><li class="listitem"><p>
                <code class="literal">2</code>: ユーザーが作成したテーブル
              </p></li><li class="listitem"><p>
                <code class="literal">3</code>: 一意のハッシュインデックス
              </p></li></ul></div><p>
            その他の値を指定すると、すべての <code class="literal">NDB</code> データベースオブジェクトが一覧されます (デフォルト)。
          </p></li><li class="listitem"><p><a name="option_ndb_show_tables_unqualified"></a>
            <a class="indexterm" name="idm139979023365968"></a> <a class="indexterm" name="idm139979023363824"></a> <code class="option">--unqualified</code>、<code class="option">-u</code>
          </p><p>
            これを指定すると、修飾されていないオブジェクト名が表示されます。
          </p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL からアクセスできるのは、ユーザーが作成した MySQL Cluster テーブルのみです。<code class="literal">SYSTAB_0</code> などのシステムテーブルは <span class="command"><strong>mysqld</strong></span> からは見えません。ただし、<span class="command"><strong>ndb_select_all</strong></span> などの <code class="literal">NDB</code> API アプリケーションを使用してシステムテーブルの内容を調べることができます (<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-select-all" title="18.4.21 ndb_select_all — NDB テーブルの行の出力">セクション18.4.21「<span class="command"><strong>ndb_select_all</strong></span> — NDB テーブルの行の出力」</a>を参照してください)。
        </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-programs-ndb-size-pl"></a>18.4.25 <span class="command"><strong>ndb_size.pl</strong></span> — NDBCLUSTER サイズ要件エスティメータ</h3></div></div></div><a class="indexterm" name="idm139979023352912"></a><p>
        これは、<code class="literal">NDBCLUSTER</code> ストレージエンジンを使用するように変更された場合に、MySQL データベースによって要求される空き領域の大きさを見積もるために使用できる Perl スクリプトです。このセクションで説明したほかのユーティリティーとは異なり、MySQL Cluster にアクセスする必要はありません (実際、アクセスする理由がありません)。ただし、テストするデータベースがある MySQL サーバーにアクセスする必要はあります。
      </p><h4><a name="idm139979023349456"></a>要件</h4><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            実行されている MySQL サーバー。サーバーインスタンスが MySQL Cluster のサポートを提供する必要はありません。
          </p></li><li class="listitem"><p>
            Perl の有効なインストール。
          </p></li><li class="listitem"><p>
            <code class="literal">DBI</code> モジュール (まだ Perl インストールの一部でない場合は、CPAN から取得できます)(多くの Linux およびその他のオペレーティングシステム配布では、このライブラリの独自のパッケージが提供されています)。
          </p></li><li class="listitem"><p>
            必要な権限を持つ MySQL ユーザーアカウント。既存のアカウントを使用したくない場合は、<code class="literal">GRANT USAGE ON <em class="replaceable"><code>db_name</code></em>.*</code> を使用して作成するだけでこの用途には十分です。ここで、<em class="replaceable"><code>db_name</code></em> は検査するデータベースの名前です。
          </p></li></ul></div><p>
        <code class="filename">ndb_size.pl</code> は、<code class="filename">storage/ndb/tools</code> 内の MySQL ソースでも見つかります。
      </p><p>
        次の表には、MySQL Cluster プログラム <span class="command"><strong>ndb_size.pl</strong></span> に固有のオプションが含まれています。追加説明が表のあとにあります。ほとんどの MySQL Cluster プログラム (<span class="command"><strong>ndb_size.pl</strong></span> を含む) に共通するオプションについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="18.4.27 MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション">セクション18.4.27「MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション」</a>を参照してください。
      </p><div class="table"><a name="mysql-cluster-ndb_size_pl-options-table"></a><p class="title"><b>表 18.95 
            この表は、ndb_size.pl プログラムのコマンド行オプションについて説明しています</b></p><div class="table-contents"><table id="mysql-cluster-ndb_size_pl-options-table" summary="ndb_size.pl Options and Variables: MySQL Cluster NDB 7.3"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="ndb_size_plformat">形式</th>
        <th id="ndb_size_pldescription">説明</th>
        <th id="ndb_size_pladdedremoved">追加または削除</th>
      </tr></thead><tbody><tr>
        <td id="rowndb_size_pldatabase" headers="ndb_size_plformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_size_pl_options">--database=dbname</a> </code>
          </p>
        </td>
        <td headers="rowndb_size_pldatabase ndb_size_pldescription">
      検査するデータベース。カンマ区切りのリストを指定できます。デフォルトは ALL です (サーバーで見つかったすべてのデータベースが使用されます)
    </td>
        <td headers="rowndb_size_pldatabase ndb_size_pladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_size_plhostname" headers="ndb_size_plformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_size_pl_options">--hostname[:port]</a> </code>
          </p>
        </td>
        <td headers="rowndb_size_plhostname ndb_size_pldescription">
      ホストおよびオプションポートを host[:port] として指定します
    </td>
        <td headers="rowndb_size_plhostname ndb_size_pladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_size_plsocket" headers="ndb_size_plformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_size_pl_options">--socket=file</a> </code>
          </p>
        </td>
        <td headers="rowndb_size_plsocket ndb_size_pldescription">
      接続するソケットを指定します
    </td>
        <td headers="rowndb_size_plsocket ndb_size_pladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_size_pluser" headers="ndb_size_plformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_size_pl_options">--user=string</a> </code>
          </p>
        </td>
        <td headers="rowndb_size_pluser ndb_size_pldescription">
      MySQL ユーザー名を指定します
    </td>
        <td headers="rowndb_size_pluser ndb_size_pladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_size_plpassword" headers="ndb_size_plformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_size_pl_options">--password=string</a> </code>
          </p>
        </td>
        <td headers="rowndb_size_plpassword ndb_size_pldescription">
      MySQL ユーザーのパスワードを指定します
    </td>
        <td headers="rowndb_size_plpassword ndb_size_pladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_size_plformat" headers="ndb_size_plformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_size_pl_format">--format=string</a> </code>
          </p>
        </td>
        <td headers="rowndb_size_plformat ndb_size_pldescription">
      出力形式 (テキストまたは HTML) を設定します
    </td>
        <td headers="rowndb_size_plformat ndb_size_pladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_size_plexcludetables" headers="ndb_size_plformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_size_pl_options">--excludetables=tbl_list</a> </code>
          </p>
        </td>
        <td headers="rowndb_size_plexcludetables ndb_size_pldescription">
      テーブルのカンマ区切りリスト内のテーブルをスキップします
    </td>
        <td headers="rowndb_size_plexcludetables ndb_size_pladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_size_plexcludedbs" headers="ndb_size_plformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_size_pl_options">--excludedbs=db_list</a> </code>
          </p>
        </td>
        <td headers="rowndb_size_plexcludedbs ndb_size_pldescription">
      データベースのカンマ区切りリスト内のデータベースをスキップします
    </td>
        <td headers="rowndb_size_plexcludedbs ndb_size_pladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_size_plsavequeries" headers="ndb_size_plformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_size_pl_debugging">--savequeries=file</a> </code>
          </p>
        </td>
        <td headers="rowndb_size_plsavequeries ndb_size_pldescription">
      データベースへのすべてのクエリーを指定したファイルに保存します
    </td>
        <td headers="rowndb_size_plsavequeries ndb_size_pladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_size_plloadqueries" headers="ndb_size_plformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_size_pl_debugging">--loadqueries=file</a> </code>
          </p>
        </td>
        <td headers="rowndb_size_plloadqueries ndb_size_pldescription">
      指定したファイルからすべてのクエリーをロードします。データベースに接続しません
    </td>
        <td headers="rowndb_size_plloadqueries ndb_size_pladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_size_plreal_table_name" headers="ndb_size_plformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_size_pl_options">--real_table_name=table</a> </code>
          </p>
        </td>
        <td headers="rowndb_size_plreal_table_name ndb_size_pldescription">
      一意インデックスサイズ計算を処理するテーブルを指定します
    </td>
        <td headers="rowndb_size_plreal_table_name ndb_size_pladdedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><h4><a name="idm139979023238688"></a>使用法</h4><pre class="programlisting">
perl ndb_size.pl [--database={<em class="replaceable"><code>db_name</code></em>|ALL}] [--hostname=<em class="replaceable"><code>host</code></em>[:<em class="replaceable"><code>port</code></em>]] [--socket=<em class="replaceable"><code>socket</code></em>] \  
      [--user=<em class="replaceable"><code>user</code></em>] [--password=<em class="replaceable"><code>password</code></em>]  \ 
      [--help|-h] [--format={html|text}] \ 
      [--loadqueries=<em class="replaceable"><code>file_name</code></em>] [--savequeries=<em class="replaceable"><code>file_name</code></em>]
</pre><p><a name="option_ndb_size_pl_options"></a>
        デフォルトでは、このユーティリティーはサーバー上のすべてのデータベースを分析しようとします。<code class="option">--database</code> オプションを使用すると、単一データベースを指定できます。デフォルト動作を明示的に指定するには、データベースの名前に <code class="literal">ALL</code> を使用します。1 つ以上のデータベースを除外するには、<code class="option">--excludedbs</code> オプションを使用して、スキップするデータベース名のカンマ区切りのリストを指定します。同様に、特定のテーブルをスキップするには、オプションの <code class="option">--excludetables</code> オプションに続けて、それらの名前をカンマで区切ってリストします。ホスト名を指定するには、<code class="option">--hostname</code> を使用します。デフォルトは <code class="literal">localhost</code> です。ホストに加えてポートを指定するには、<code class="option">--hostname</code> の値に <em class="replaceable"><code>host</code></em>:<em class="replaceable"><code>port</code></em> 形式を使用します。デフォルトのポート番号は 3306 です。必要に応じて、ソケットも指定できます。デフォルトは <code class="filename">/var/lib/mysql.sock</code> です。MySQL のユーザー名およびパスワードは、表示されている対応するオプションで指定できます。出力の形式を制御するには、<code class="option">--format</code> オプションを使用します。これには、値 <code class="literal">html</code> または <code class="literal">text</code> を指定でき、<code class="literal">text</code> がデフォルトです。テキスト出力の例を次に示します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndb_size.pl --database=test --socket=/tmp/mysql.sock</code></strong>
ndb_size.pl report for database: 'test' (1 tables)
--------------------------------------------------
Connected to: DBI:mysql:host=localhost;mysql_socket=/tmp/mysql.sock

Including information for versions: 4.1, 5.0, 5.1

test.t1
-------

DataMemory for Columns (* means varsized DataMemory):
         Column Name            Type  Varsized   Key  4.1  5.0   5.1
     HIDDEN_NDB_PKEY          bigint             PRI    8    8     8
                  c2     varchar(50)         Y         52   52    4*
                  c1         int(11)                    4    4     4
                                                       --   --    --
Fixed Size Columns DM/Row                              64   64    12
   Varsize Columns DM/Row                               0    0     4

DataMemory for Indexes:
   Index Name                 Type        4.1        5.0        5.1
      PRIMARY                BTREE         16         16         16
                                           --         --         --
       Total Index DM/Row                  16         16         16

IndexMemory for Indexes:
               Index Name        4.1        5.0        5.1
                  PRIMARY         33         16         16
                                  --         --         --
           Indexes IM/Row         33         16         16

Summary (for THIS table):
                                 4.1        5.0        5.1
    Fixed Overhead DM/Row         12         12         16
           NULL Bytes/Row          4          4          4
           DataMemory/Row         96         96         48  
                    (Includes overhead, bitmap and indexes)

  Varsize Overhead DM/Row          0          0          8
   Varsize NULL Bytes/Row          0          0          4
       Avg Varside DM/Row          0          0         16

                 No. Rows          0          0          0

        Rows/32kb DM Page        340        340        680
Fixedsize DataMemory (KB)          0          0          0

Rows/32kb Varsize DM Page          0          0       2040
  Varsize DataMemory (KB)          0          0          0

         Rows/8kb IM Page        248        512        512
         IndexMemory (KB)          0          0          0

Parameter Minimum Requirements
------------------------------
* indicates greater than default

                Parameter     Default        4.1         5.0         5.1
          DataMemory (KB)       81920          0           0           0
       NoOfOrderedIndexes         128          1           1           1
               NoOfTables         128          1           1           1
         IndexMemory (KB)       18432          0           0           0
    NoOfUniqueHashIndexes          64          0           0           0
           NoOfAttributes        1000          3           3           3
             NoOfTriggers         768          5           5           5
</pre><p><a name="option_ndb_size_pl_debugging"></a>
        デバッグのために、このスクリプトによって実行されるクエリーが含まれる Perl 配列は、<code class="option">--savequeries</code> を使用してファイルに保存できます。スクリプト実行時に読み取られるそのような配列が含まれるファイルは、<code class="option">--loadqueries</code> を使用して指定できます。これらのオプションにはデフォルト値はありません。
      </p><p><a name="option_ndb_size_pl_format"></a>
        出力を HTML 形式で生成するには、次に示すように <code class="option">--format</code> オプションを使用して出力をファイルにリダイレクトします。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndb_size.pl --database=test --socket=/tmp/mysql.sock --format=html &gt; ndb_size.html</code></strong>
</pre><p>
        (リダイレクトしない場合、出力は <code class="literal">stdout</code> に送られます)。
      </p><p>
        このスクリプトの出力には次の情報が含まれています。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            分析されるテーブルを収容するために必要な <code class="literal">DataMemory</code>、<code class="literal">IndexMemory</code>、<code class="literal">MaxNoOfTables</code>、<code class="literal">MaxNoOfAttributes</code>、<code class="literal">MaxNoOfOrderedIndexes</code>、<code class="literal">MaxNoOfUniqueHashIndexes</code>、および <code class="literal">MaxNoOfTriggers</code> 構成パラメータの最小値。
          </p></li><li class="listitem"><p>
            データベースに定義されているすべてのテーブル、属性、順序付けされたインデックス、および一意のハッシュインデックスのメモリー要件。
          </p></li><li class="listitem"><p>
            テーブルおよびテーブル行ごとに必要な <code class="literal">IndexMemory</code> および <code class="literal">DataMemory</code>。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-programs-ndb-waiter"></a>18.4.26 <span class="command"><strong>ndb_waiter</strong></span> — MySQL Cluster が指定したステータスになるまで待機する</h3></div></div></div><a class="indexterm" name="idm139979023192032"></a><p>
        <span class="command"><strong>ndb_waiter</strong></span> は、クラスタが指定したステータスになるか、<code class="option">--timeout</code> 制限を超えるまで、すべてのクラスタデータノードのステータスを繰り返し出力してから (100 ミリ秒ごと)、終了します。デフォルトでは、すべてのノードが起動されてクラスタに接続された状態である <code class="literal">STARTED</code> ステータスにクラスタがなるまで待機します。これは、<code class="option">--no-contact</code> および <code class="option">--not-started</code> オプションを使用してオーバーライドできます。
      </p><p>
        このユーティリティーによって報告されるノード状態を次に示します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">NO_CONTACT</code>: ノードに接続できません。
          </p></li><li class="listitem"><p>
            <code class="literal">UNKNOWN</code>: ノードに接続できますが、ステータスがまだ不明です。通常、これはノードが管理サーバーから <code class="literal">START</code> または <code class="literal">RESTART</code> コマンドを受け取ったけれども、まだそこで実行されていないことを意味します。
          </p></li><li class="listitem"><p>
            <code class="literal">NOT_STARTED</code>: ノードは停止されたけれども、クラスタにまだ接続されています。これは、管理クライアントの <code class="literal">RESTART</code> コマンドを使用してノードを再起動したときに表示されます。
          </p></li><li class="listitem"><p>
            <code class="literal">STARTING</code>: ノードの <span class="command"><strong>ndbd</strong></span> プロセスが開始されたけれども、ノードはまだクラスタに接続されていません。
          </p></li><li class="listitem"><p>
            <code class="literal">STARTED</code>:ノードは動作しており、クラスタに接続されています。
          </p></li><li class="listitem"><p>
            <code class="literal">SHUTTING_DOWN</code>: ノードがシャットダウン中です。
          </p></li><li class="listitem"><p>
            <code class="literal">SINGLE USER MODE</code>: これは、クラスタがシングルユーザーモードの場合に、すべてのクラスタデータノードに表示されます。
          </p></li></ul></div><p>
        次の表には、MySQL Cluster ネイティブバックアップリストアプログラム <span class="command"><strong>ndb_waiter</strong></span> に固有のオプションが含まれています。追加説明が表のあとにあります。ほとんどの MySQL Cluster プログラム (<span class="command"><strong>ndb_waiter</strong></span> を含む) に共通するオプションについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="18.4.27 MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション">セクション18.4.27「MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション」</a>を参照してください。
      </p><div class="table"><a name="mysql-cluster-ndb_waiter-options-table"></a><p class="title"><b>表 18.96 
            この表は、ndb_waiter プログラムのコマンド行オプションについて説明しています</b></p><div class="table-contents"><table id="mysql-cluster-ndb_waiter-options-table" summary="ndb_waiter Options and Variables: MySQL Cluster NDB 7.3"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="ndb_waiterformat">形式</th>
        <th id="ndb_waiterdescription">説明</th>
        <th id="ndb_waiteraddedremoved">追加または削除</th>
      </tr></thead><tbody><tr>
        <td id="rowndb_waiterno-contact" headers="ndb_waiterformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_waiter_no-contact">--no-contact</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_waiter_no-contact">-n</a> </code>
          </p>
        </td>
        <td headers="rowndb_waiterno-contact ndb_waiterdescription">
      クラスタが NO CONTACT 状態になるのを待機します
    </td>
        <td headers="rowndb_waiterno-contact ndb_waiteraddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_waiternot-started" headers="ndb_waiterformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_waiter_not-started">--not-started</a> </code>
          </p>
        </td>
        <td headers="rowndb_waiternot-started ndb_waiterdescription">
      クラスタが NOT STARTED 状態になるのを待機します
    </td>
        <td headers="rowndb_waiternot-started ndb_waiteraddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_waitersingle-user" headers="ndb_waiterformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_waiter_single-user">--single-user</a> </code>
          </p>
        </td>
        <td headers="rowndb_waitersingle-user ndb_waiterdescription">
      クラスタがシングルユーザーモードになるのを待機します
    </td>
        <td headers="rowndb_waitersingle-user ndb_waiteraddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_waitertimeout" headers="ndb_waiterformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_waiter_timeout">--timeout=#</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_waiter_timeout">-t</a> </code>
          </p>
        </td>
        <td headers="rowndb_waitertimeout ndb_waiterdescription">
      クラスタが目的の状態になったかどうかにかかわらず、この秒数待機してから終了します。デフォルトは 2 分 (120 秒) です
    </td>
        <td headers="rowndb_waitertimeout ndb_waiteraddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_waiternowait-nodes" headers="ndb_waiterformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_waiter_nowait-nodes">--nowait-nodes=list</a> </code>
          </p>
        </td>
        <td headers="rowndb_waiternowait-nodes ndb_waiterdescription">
      待機しないノードのリスト。
    </td>
        <td headers="rowndb_waiternowait-nodes ndb_waiteraddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_waiterwait-nodes" headers="ndb_waiterformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_waiter_wait-nodes">--wait-nodes=list</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_waiter_wait-nodes">-w</a> </code>
          </p>
        </td>
        <td headers="rowndb_waiterwait-nodes ndb_waiterdescription">
      待機するノードのリスト。
    </td>
        <td headers="rowndb_waiterwait-nodes ndb_waiteraddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><h4><a name="idm139979023103856"></a>使用法</h4><pre class="programlisting">
ndb_waiter [-c <em class="replaceable"><code>connect_string</code></em>]
</pre><h4><a name="mysql-cluster-programs-ndb-waiter-additional-options"></a>その他のオプション</h4><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndb_waiter_no-contact"></a>
            <a class="indexterm" name="idm139979023099696"></a> <a class="indexterm" name="idm139979023097552"></a> <code class="option">--no-contact</code>、<code class="option">-n</code>
          </p><p>
            <code class="literal">STARTED</code> 状態を待機する代わりに、<span class="command"><strong>ndb_waiter</strong></span> はクラスタが <code class="literal">NO_CONTACT</code> ステータスになるまで実行を継続してから終了します。
          </p></li><li class="listitem"><p><a name="option_ndb_waiter_not-started"></a>
            <a class="indexterm" name="idm139979023090672"></a> <a class="indexterm" name="idm139979023088528"></a> <code class="option">--not-started</code>
          </p><p>
            <code class="literal">STARTED</code> 状態を待機する代わりに、<span class="command"><strong>ndb_waiter</strong></span> はクラスタが <code class="literal">NOT_STARTED</code> ステータスになるまで実行を継続してから終了します。
          </p></li><li class="listitem"><p><a name="option_ndb_waiter_timeout"></a>
            <a class="indexterm" name="idm139979023082064"></a> <a class="indexterm" name="idm139979023079888"></a> <code class="option">--timeout=<em class="replaceable"><code>seconds</code></em></code>、<code class="option">-t <em class="replaceable"><code>seconds</code></em></code>
          </p><p>
            待機する時間。この秒数内に目的の状態に達しなかった場合、プログラムは終了します。デフォルトは 120 秒 (1200 レポートサイクル) です。
          </p></li><li class="listitem"><p><a name="option_ndb_waiter_single-user"></a>
            <a class="indexterm" name="idm139979023074464"></a> <a class="indexterm" name="idm139979023072320"></a> <code class="option">--single-user</code>
          </p><p>
            プログラムはクラスタがシングルユーザーモードになるのを待機します。
          </p></li><li class="listitem"><p><a name="option_ndb_waiter_nowait-nodes"></a>
            <a class="indexterm" name="idm139979023068016"></a> <a class="indexterm" name="idm139979023065856"></a> <code class="option">--nowait-nodes=<em class="replaceable"><code>list</code></em></code>
          </p><p>
            このオプションを使用した場合、ndb_waiter は ID がリストされているノードを待機しません。次に示すように、このリストはカンマ区切りであり、範囲はダッシュで示すことができます。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndb_waiter --nowait-nodes=1,3,7-9</code></strong>
</pre><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
              このオプションは <code class="option">--wait-nodes</code> オプションと一緒に使用<span class="emphasis"><em>しない</em></span>でください。
            </p></div></li><li class="listitem"><p><a name="option_ndb_waiter_wait-nodes"></a>
            <a class="indexterm" name="idm139979023057456"></a> <a class="indexterm" name="idm139979023055312"></a> <code class="option">--wait-nodes=<em class="replaceable"><code>list</code></em></code>、<code class="option">-w <em class="replaceable"><code>list</code></em></code>
          </p><p>
            このオプションを使用した場合、<span class="command"><strong>ndb_waiter</strong></span> は ID がリストされているノードのみを待機します。次に示すように、このリストはカンマ区切りであり、範囲はダッシュで示すことができます。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndb_waiter --wait-nodes=2,4-6,10</code></strong>
</pre><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
              このオプションは <code class="option">--nowait-nodes</code> オプションと一緒に使用<span class="emphasis"><em>しない</em></span>でください。
            </p></div></li></ul></div><p><b>出力例 </b>
          4 ノードのクラスタで 2 つのノードをシャットダウンしてから手動で再度起動したときの <span class="command"><strong>ndb_waiter</strong></span> の出力を次に示します。重複するレポート (<span class="quote">「<span class="quote"><code class="literal">...</code></span>」</span> で示されています) は省略しています。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>./ndb_waiter -c localhost</code></strong>

Connecting to mgmsrv at (localhost)
State node 1 STARTED
State node 2 NO_CONTACT
State node 3 STARTED
State node 4 NO_CONTACT
Waiting for cluster enter state STARTED

...

State node 1 STARTED
State node 2 UNKNOWN
State node 3 STARTED
State node 4 NO_CONTACT
Waiting for cluster enter state STARTED

...

State node 1 STARTED
State node 2 STARTING
State node 3 STARTED
State node 4 NO_CONTACT
Waiting for cluster enter state STARTED

...

State node 1 STARTED
State node 2 STARTING
State node 3 STARTED
State node 4 UNKNOWN
Waiting for cluster enter state STARTED

...

State node 1 STARTED
State node 2 STARTING
State node 3 STARTED
State node 4 STARTING
Waiting for cluster enter state STARTED

...

State node 1 STARTED
State node 2 STARTED
State node 3 STARTED
State node 4 STARTING
Waiting for cluster enter state STARTED

...

State node 1 STARTED
State node 2 STARTED
State node 3 STARTED
State node 4 STARTED
Waiting for cluster enter state STARTED

NDBT_ProgramExit: 0 - OK
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          接続文字列を指定しない場合、<span class="command"><strong>ndb_waiter</strong></span> は <code class="literal">localhost</code> の管理サーバーへの接続を試み、<code class="literal">「Connecting to mgmsrv at (null)」</code>を報告します。
        </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-program-options-common"></a>18.4.27 MySQL Cluster プログラムに共通するオプション — MySQL Cluster プログラムに共通するオプション</h3></div></div></div><a class="indexterm" name="idm139979023035328"></a><a class="indexterm" name="idm139979023033312"></a><a class="indexterm" name="idm139979023032032"></a><a class="indexterm" name="idm139979023030752"></a><a class="indexterm" name="idm139979023028960"></a><a class="indexterm" name="idm139979023027120"></a><p>
        すべての MySQL Cluster プログラムは、次の例外を除き、このセクションで説明しているオプションを受け入れます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="command"><strong>mysqld</strong></span>
          </p></li><li class="listitem"><p>
            <span class="command"><strong>ndb_print_backup_file</strong></span>
          </p></li><li class="listitem"><p>
            <span class="command"><strong>ndb_print_schema_file</strong></span>
          </p></li><li class="listitem"><p>
            <span class="command"><strong>ndb_print_sys_file</strong></span>
          </p></li></ul></div><p>
        以前のバージョンの MySQL Cluster のユーザーは、これらのオプションの一部が相互に整合性を保つように、および <span class="command"><strong>mysqld</strong></span> と整合性を保つように変更されていることに留意してください。プログラムでサポートされるオプションのリストを表示するには、MySQL Cluster プログラム (<span class="command"><strong>ndb_print_backup_file</strong></span>、<span class="command"><strong>ndb_print_schema_file</strong></span>、および <span class="command"><strong>ndb_print_sys_file</strong></span> を除く) で <code class="option">--help</code> オプションを使用できます。
      </p><p>
        次の表のオプションは、すべての MySQL Cluster 実行可能ファイル (このセクションで前述したものを除く) に共通しています。
      </p><div class="table"><a name="mysql-cluster-ndb_common-options-table"></a><p class="title"><b>表 18.97 
            この表は、すべての MySQL Cluster プログラムに共通するコマンド行オプションについて説明しています</b></p><div class="table-contents"><table id="mysql-cluster-ndb_common-options-table" summary="Common MySQL Cluster Program Options and Variables: MySQL Cluster NDB 7.3"><col width="33%"><col width="33%"><col width="33%"><thead><tr>
        <th id="ndb_commonformat">形式</th>
        <th id="ndb_commondescription">説明</th>
        <th id="ndb_commonaddedremoved">追加または削除</th>
      </tr></thead><tbody><tr>
        <td id="rowndb_commonhelp" headers="ndb_commonformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_common_help">--help</a></code>、
          </p>
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_common_help">--usage</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_common_help">-?</a> </code>
          </p>
        </td>
        <td headers="rowndb_commonhelp ndb_commondescription">
      ヘルプメッセージを表示して終了
    </td>
        <td headers="rowndb_commonhelp ndb_commonaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_commonconnect-string" headers="ndb_commonformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_common_ndb-connectstring">--ndb-connectstring=connectstring</a></code>、
          </p>
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_common_ndb-connectstring">--connect-string=connectstring</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_common_ndb-connectstring">-c</a> </code>
          </p>
        </td>
        <td headers="rowndb_commonconnect-string ndb_commondescription">
      ndb_mgmd に接続するための接続文字列を設定します。構文: [nodeid=&lt;id&gt;;][host=]&lt;hostname&gt;[:&lt;port&gt;]NDB_CONNECTSTRING または my.cnf に指定されているエントリをオーバーライドします。
    </td>
        <td headers="rowndb_commonconnect-string ndb_commonaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_commonndb-mgmd-host" headers="ndb_commonformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_common_ndb-mgmd-host">--ndb-mgmd-host=host[:port]</a> </code>
          </p>
        </td>
        <td headers="rowndb_commonndb-mgmd-host ndb_commondescription">
      管理サーバーに接続するためのホスト (およびポート (必要な場合)) を設定します
    </td>
        <td headers="rowndb_commonndb-mgmd-host ndb_commonaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_commonndb-nodeid" headers="ndb_commonformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_common_ndb-nodeid">--ndb-nodeid=#</a> </code>
          </p>
        </td>
        <td headers="rowndb_commonndb-nodeid ndb_commondescription">
      このノードのノード ID を設定します
    </td>
        <td headers="rowndb_commonndb-nodeid ndb_commonaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_commonndb-optimized-node-selection" headers="ndb_commonformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_common_ndb-optimized-node-selection">--ndb-optimized-node-selection</a> </code>
          </p>
        </td>
        <td headers="rowndb_commonndb-optimized-node-selection ndb_commondescription">
      トランザクションのためのノードをより最適な方法で選択します
    </td>
        <td headers="rowndb_commonndb-optimized-node-selection ndb_commonaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_commoncharacter-sets-dir" headers="ndb_commonformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_common_character-sets-dir">--character-sets-dir=path</a> </code>
          </p>
        </td>
        <td headers="rowndb_commoncharacter-sets-dir ndb_commondescription">
      文字セットがインストールされているディレクトリ
    </td>
        <td headers="rowndb_commoncharacter-sets-dir ndb_commonaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_commondebug" headers="ndb_commonformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_common_debug">--debug=options</a> </code>
          </p>
        </td>
        <td headers="rowndb_commondebug ndb_commondescription">
      デバッグ呼び出しからの出力を有効にします。デバッグを有効にしてコンパイルされたバージョンにのみ使用できます
    </td>
        <td headers="rowndb_commondebug ndb_commonaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_commoncore-file" headers="ndb_commonformat">
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_common_core-file">--core-file</a> </code>
          </p>
        </td>
        <td headers="rowndb_commoncore-file ndb_commondescription">
      エラー時にコアを書き出します (デバッグ用ビルドでは TRUE にデフォルト設定されます)
    </td>
        <td headers="rowndb_commoncore-file ndb_commonaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody><tbody><tr>
        <td id="rowndb_commonversion" headers="ndb_commonformat">
          <p>
            <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_common_version">--version</a></code>、
          </p>
          <p>
            <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_common_version">-V</a> </code>
          </p>
        </td>
        <td headers="rowndb_commonversion ndb_commondescription">
      バージョン情報を出力して終了します
    </td>
        <td headers="rowndb_commonversion ndb_commonaddedremoved">
          <p>
            すべての MySQL 5.6 ベースリリース
          </p>
        </td>
      </tr></tbody></table></div></div><br class="table-break"><p>
        個別の MySQL Cluster プログラムに固有のオプションについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-programs" title="18.4 MySQL Cluster プログラム">セクション18.4「MySQL Cluster プログラム」</a>を参照してください。
      </p><p>
        MySQL Cluster に関連する <span class="command"><strong>mysqld</strong></span> のオプションについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-mysqld" title="18.3.4.2 MySQL Cluster 用の MySQL Server オプション">セクション18.3.4.2「MySQL Cluster 用の MySQL Server オプション」</a>を参照してください。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndb_common_help"></a>
            <a class="indexterm" name="idm139979022917488"></a> <a class="indexterm" name="idm139979022915936"></a> <a class="indexterm" name="idm139979022914464"></a> <code class="option">--help</code>、<code class="option">--usage</code>、<code class="option">-?</code>
          </p><div class="informaltable"><table summary="Options for help" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--help</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">--usage</code></td></tr></tbody></table></div><p>
            使用可能なコマンドオプションの説明の短いリストを出力します。
          </p></li><li class="listitem"><p><a name="option_ndb_common_character-sets-dir"></a>
            <a class="indexterm" name="idm139979022902256"></a> <a class="indexterm" name="idm139979022900720"></a> <code class="option">--character-sets-dir=<em class="replaceable"><code>name</code></em></code>
          </p><div class="informaltable"><table summary="Options for character-sets-dir" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--character-sets-dir=path</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ファイル名</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table></div><p>
            文字セット情報を探す場所をプログラムに通知します。
          </p></li><li class="listitem"><p><a name="option_ndb_common_ndb-connectstring"></a>
            <a class="indexterm" name="idm139979022885376"></a> <a class="indexterm" name="idm139979022883792"></a> <a class="indexterm" name="idm139979022882288"></a> <code class="option">--ndb-connectstring=<em class="replaceable"><code>connect_string</code></em></code>、<code class="option">--connect-string=<em class="replaceable"><code>connect_string</code></em></code>、<code class="option">-c <em class="replaceable"><code>connect_string</code></em></code>
          </p><div class="informaltable"><table summary="Options for ndb-connectstring" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--ndb-connectstring=connectstring</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">--connect-string=connectstring</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">文字列</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">localhost:1186</code></td></tr></tbody></table></div><p>
            このオプションには、次に示すようにアプリケーションが接続する管理サーバーを指定する MySQL Cluster 接続文字列を指定します。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndbd --ndb-connectstring="nodeid=2;host=ndb_mgmd.mysql.com:1186"</code></strong>
</pre><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-connection-strings" title="18.3.2.3 MySQL Cluster の接続文字列">セクション18.3.2.3「MySQL Cluster の接続文字列」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_ndb_common_core-file"></a>
            <a class="indexterm" name="idm139979022860832"></a> <code class="option">--core-file</code>
          </p><div class="informaltable"><table summary="Options for core-file" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--core-file</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table></div><p>
            プログラムが停止した場合、コアファイルが出力されます。コアファイルの名前および場所はシステムによって異なります(Linux 上で実行されている MySQL Cluster プログラムノードの場合、デフォルトの場所はプログラムの作業ディレクトリであり、データノードの場合は、ノードの <code class="literal">DataDir</code> です)。一部のシステムでは、制限がある場合があります。たとえば、サーバーを起動する前に <span class="command"><strong>ulimit -c unlimited</strong></span> を実行する必要がある場合があります。詳細は、システムのドキュメントを参照してください。
          </p><p>
            MySQL Cluster が <span class="command"><strong>configure</strong></span> に <code class="option">--debug</code> オプションを使用してビルドされた場合、<code class="option">--core-file</code> がデフォルトで有効になります。通常のビルドの場合、デフォルトでは <code class="option">--core-file</code> は無効にされています。
          </p></li><li class="listitem"><p><a name="option_ndb_common_debug"></a>
            <a class="indexterm" name="idm139979022840080"></a> <code class="option">--debug[=<em class="replaceable"><code>options</code></em>]</code>
          </p><div class="informaltable"><table summary="Options for debug" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--debug=options</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">文字列</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">d:t:O,/tmp/ndb_restore.trace</code></td></tr></tbody></table></div><p>
            このオプションは、デバッグを有効にしてコンパイルしたバージョンにのみ使用できます。<span class="command"><strong>mysqld</strong></span> プロセスの場合と同様に、デバッグ呼び出しからの出力を有効にするために使用します。
          </p></li><li class="listitem"><p><a name="option_ndb_common_ndb-mgmd-host"></a>
            <a class="indexterm" name="idm139979022823312"></a> <code class="option">--ndb-mgmd-host=<em class="replaceable"><code>host</code></em>[:<em class="replaceable"><code>port</code></em>]</code>
          </p><div class="informaltable"><table summary="Options for ndb-mgmd-host" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--ndb-mgmd-host=host[:port]</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">文字列</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">localhost:1186</code></td></tr></tbody></table></div><p>
            プログラムに接続される単一の管理サーバーのホストとポート番号の設定に使用できます。プログラムが接続情報に複数の管理サーバーのノード ID または参照 (あるいはその両方) を必要とする場合は、<code class="option">--ndb-connectstring</code> オプションを代わりに使用します。
          </p></li><li class="listitem"><p><a name="option_ndb_common_ndb-nodeid"></a>
            <a class="indexterm" name="idm139979022806000"></a> <code class="option">--ndb-nodeid=<em class="replaceable"><code>#</code></em></code>
          </p><div class="informaltable"><table summary="Options for ndb-nodeid" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--ndb-nodeid=#</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">数値</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr></tbody></table></div><p>
            このノードの MySQL Cluster ノード ID を設定します。<span class="emphasis"><em>許可される値の範囲は、ノードのタイプ (データ、管理、または API) および MySQL Cluster ソフトウェアのバージョンによって異なります</em></span>。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-limitations-limits" title="18.1.6.2 MySQL Cluster の制限と標準の MySQL の制限との違い">セクション18.1.6.2「MySQL Cluster の制限と標準の MySQL の制限との違い」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_ndb_common_ndb-optimized-node-selection"></a>
            <a class="indexterm" name="idm139979022789104"></a> <code class="option">--ndb-optimized-node-selection</code>
          </p><div class="informaltable"><table summary="Options for ndb-optimized-node-selection" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--ndb-optimized-node-selection</code></td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">TRUE</code></td></tr></tbody></table></div><p>
            トランザクションのためのノードの選択を最適化します。デフォルトで有効。
          </p></li><li class="listitem"><p><a name="option_ndb_common_version"></a>
            <a class="indexterm" name="idm139979022773744"></a> <a class="indexterm" name="idm139979022772160"></a> <code class="option">--version</code>、<code class="option">-V</code>
          </p><div class="informaltable"><table summary="Options for version" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--version</code></td></tr></tbody></table></div><p>
            実行可能ファイルの MySQL Cluster バージョン番号を出力します。すべてのバージョンを一緒に使用できるとはかぎらないため、バージョン番号が重要になります。MySQL Cluster 起動処理では、使用されるバイナリのバージョンが同じクラスタ内で共存できるかどうかが検証されます。これは MySQL Cluster のオンライン (ローリング) ソフトウェアアップグレードまたはダウングレードを実行する場合にも重要です。
          </p><p>
            詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-rolling-restart" title="18.5.5 MySQL Cluster のローリング再起動の実行">セクション18.5.5「MySQL Cluster のローリング再起動の実行」</a>を参照してください。
          </p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mysql-cluster-management"></a>18.5 MySQL Cluster の管理</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-start-phases">18.5.1 MySQL Cluster の起動フェーズのサマリー</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-mgm-client-commands">18.5.2 MySQL Cluster 管理クライアントのコマンド</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-backup">18.5.3 MySQL Cluster のオンラインバックアップ</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-mysqld">18.5.4 MySQL Cluster での MySQL サーバーの使用法</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-rolling-restart">18.5.5 MySQL Cluster のローリング再起動の実行</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-event-reports">18.5.6 MySQL Cluster で生成されたイベントレポート</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-logs-ndb-messages">18.5.7 MySQL Cluster ログメッセージ</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-single-user-mode">18.5.8 MySQL Cluster のシングルユーザーモード</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-sql-statements">18.5.9 クイックリファレンス: MySQL Cluster の SQL ステートメント</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo">18.5.10 ndbinfo MySQL Cluster 情報データベース</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-security">18.5.11 MySQL Cluster のセキュリティー上の問題</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-disk-data">18.5.12 MySQL Cluster ディスクデータテーブル</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-online-add-node">18.5.13 MySQL Cluster データノードのオンライン追加</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-privilege-distribution">18.5.14 MySQL Cluster の配布された MySQL 権限</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndb-api-statistics">18.5.15 NDB API 統計のカウンタと変数</a></span></dt></dl></div><a class="indexterm" name="idm139979022759968"></a><a class="indexterm" name="idm139979022757824"></a><p>
    MySQL Cluster の管理には、多くのタスクが伴い、その最初のタスクは、MySQL Cluster の構成および起動です。これについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-configuration" title="18.3 MySQL Cluster の構成">セクション18.3「MySQL Cluster の構成」</a>および<a class="xref" href="mysql-cluster.html#mysql-cluster-programs" title="18.4 MySQL Cluster プログラム">セクション18.4「MySQL Cluster プログラム」</a>で説明されています。
  </p><p>
    次のいくつかのセクションでは、実行中の MySQL Cluster の管理について説明します。
  </p><p>
    MySQL Cluster の管理および配備に関するセキュリティー上の問題については、<a class="xref" href="mysql-cluster.html#mysql-cluster-security" title="18.5.11 MySQL Cluster のセキュリティー上の問題">セクション18.5.11「MySQL Cluster のセキュリティー上の問題」</a>を参照してください。
  </p><p>
    実行中の MySQL Cluster を積極的に管理する方法は、基本的に 2 つあります。それらのうちの 1 つ目は、管理クライアントに入力されたコマンドを使用するものです。これにより、クラスタのステータスをチェックしたり、ログレベルを変更したり、バックアップを開始および停止したり、ノードを停止および起動したりできます。2 つ目の方法には、クラスタログ <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_cluster.log</code> の内容の調査が伴います。通常、これは管理サーバーの <code class="literal">DataDir</code> ディレクトリで見つかりますが、この場所は <code class="literal">LogDestination</code> オプションを使用すればオーバーライドできます。(<em class="replaceable"><code>node_id</code></em> は、アクティビティーのログが記録されるノードの一意の識別子を表すことを思い出してください。)クラスタログには、<span class="command"><strong>ndbd</strong></span> で生成されたイベントレポートが含まれます。クラスタログのエントリを Unix システムログに送信することもできます。
  </p><p>
    <code class="literal">SHOW ENGINE NDB STATUS</code> ステートメントを使用して、SQL ノードからクラスタ操作のいくつかの側面をモニターすることもできます。
  </p><p>
    <code class="literal">ndbinfo</code> データベースを使用すると、SQL インタフェースから MySQL Cluster の操作に関するより詳細な情報をリアルタイムで入手できます。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndbinfo" title="18.5.10 ndbinfo MySQL Cluster 情報データベース">セクション18.5.10「ndbinfo MySQL Cluster 情報データベース」</a>を参照してください。
  </p><p>
    NDB 統計カウンタでは、<span class="command"><strong>mysql</strong></span> クライアントを使用したモニタリングが改善されています。NDB カーネルに実装されたこれらのカウンタは、<code class="literal">Ndb</code> オブジェクトによって実行されたり、それらのオブジェクトに影響を与えたりする操作 (トランザクションの開始、終了、および中止、主キーおよび一意キー操作、テーブルスキャン、範囲スキャン、およびプルーニングスキャン、さまざまな操作が完了するまで待機しているブロックされたスレッド、MySQL Cluster によって送受信されたデータやイベントなど) に関連します。カウンタは、NDB API が呼び出されるたびに、またはデータノードでデータが送受信されるたびに NDB カーネルによってインクリメントされます。
  </p><p>
    <span class="command"><strong>mysqld</strong></span> では、NDB API 統計カウンタがシステムステータス変数として表示されます。これらは、すべての名前に共通するプリフィクス (<code class="literal">Ndb_api_</code>) から識別できます。これらの変数の値は、<code class="literal">SHOW STATUS</code> ステートメントの出力から <span class="command"><strong>mysql</strong></span> クライアントで読み取ることも、(<code class="literal">INFORMATION_SCHEMA</code> データベース内の) <code class="literal">SESSION_STATUS</code> テーブルまたは <code class="literal">GLOBAL_STATUS</code> テーブルでクエリーを実行することで読み取ることもできます。<code class="literal">NDB</code> テーブルに対して機能する SQL ステートメントの実行前後でステータス変数の値を比較すると、NDB API レベルで実行され、このステートメントに対応するアクションを確認できます。これは、MySQL Cluster のモニタリングおよびパフォーマンスチューニングの際に役立つことがあります。
  </p><p>
    MySQL Enterprise Monitor を使用して、MySQL Cluster 配備の一部である MySQL サーバーをモニターすることもできます。MySQL Enterprise Monitor 2.3 では、MySQL Cluster リソースに関する情報を提供するグラフのセットを含み、<code class="literal">DataMemory</code> 使用状況などのデータノードからの重要な情報に関するアラートのルールを定義する MySQL Cluster アドバイザが追加されました。MySQL Cluster に接続された任意の MySQL サーバーで <code class="literal">ndbinfo</code> を使用すると、この情報を MySQL Enterprise Monitor 2.3 以降で使用できるようになります。アドバイザは、クラスタ内の単一の MySQL サーバーに対して、またはモニタリングサービスの可用性レベルを高くするためにペアに対して実行できます。詳細は、<a class="ulink" href="http://dev.mysql.com/doc/mysql-monitor/2.3/en/index.html" target="_top"><em class="citetitle">MySQL Enterprise Monitor 2.3 マニュアル</em></a>を参照してください。
  </p><p>
    MySQL Cluster Manager は、多数のノードを含む MySQL Cluster の起動、停止、再起動など、多くの、それがなければ複雑になる MySQL Cluster の管理タスクを簡単にする高度なコマンド行インタフェースを備えています。MySQL Cluster Manager クライアントでは、MySQL Cluster に関連する <span class="command"><strong>mysqld</strong></span> サーバーのオプションおよび変数に加えて、ほとんどのノード構成パラメータの値を取得および設定するためのコマンドもサポートしています。MySQL Cluster Manager 1.1 では、データノードのオンラインでの追加をサポートしています。詳細は、<a class="ulink" href="http://dev.mysql.com/doc/mysql-cluster-manager/1.1/en/" target="_top"><em class="citetitle">MySQL Cluster Manager 1.1 のユーザーマニュアル</em></a>を参照してください。
  </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-start-phases"></a>18.5.1 MySQL Cluster の起動フェーズのサマリー</h3></div></div></div><a class="indexterm" name="idm139979022718448"></a><a class="indexterm" name="idm139979022716320"></a><p>
      このセクションでは、MySQL Cluster データノードの起動時に含まれるステップについて簡単な概要を示します。『<em class="citetitle"><code class="literal">NDB</code> Internals Guide</em>』の<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-start-phases.html" target="_top">MySQL Cluster Start Phases</a>では、さらに完全な情報を見つけることができます。
    </p><p>
      これらのフェーズは、管理クライアントで <code class="literal"><em class="replaceable"><code>node_id</code></em> STATUS</code> コマンドからの出力にレポートされるものと同じです (<a class="xref" href="mysql-cluster.html#mysql-cluster-mgm-client-commands" title="18.5.2 MySQL Cluster 管理クライアントのコマンド">セクション18.5.2「MySQL Cluster 管理クライアントのコマンド」</a>を参照してください)。これらの起動フェーズは、<code class="literal">ndbinfo.nodes</code> テーブルの <code class="literal">start_phase</code> カラムにもレポートされます。
    </p><p><b>起動のタイプ </b>
        次のリストに示すように、さまざまな起動のタイプおよびモードがあります。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>初期起動 </b>
            すべてのデータノード上のクリーンなファイルシステムでクラスタが起動します。これは、まったくはじめてクラスタが起動されるとき、または <code class="option">--initial</code> オプションを使用してすべてのデータノードが再起動されるときに発生します。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            <code class="option">--initial</code> を使用してノードを再起動すると、ディスクデータファイルが削除されません。
          </p></div></li><li class="listitem"><p><b>システムの再起動 </b>
            クラスタが起動し、データノードに格納されたデータを読み取ります。これは、クラスタが使用されたあとにシャットダウンされたとき、およびクラスタが操作を中止した時点から再開することが望ましいときに発生します。
          </p></li><li class="listitem"><p><b>ノードの再起動 </b>
            これは、クラスタ自体が実行しているときのクラスタノードのオンライン再起動です。
          </p></li><li class="listitem"><p><b>ノードの初期再起動 </b>
            これは、クリーンなファイルシステムでノードが再初期化および起動される点を除いて、ノードの再起動と同じです。
          </p></li></ul></div><p><b>設定と初期化 (フェーズ -1) </b>
        起動する前に、各データノード (<span class="command"><strong>ndbd</strong></span> プロセス) が初期化されている必要があります。初期化は次のステップで構成されます。
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          ノード ID を取得します
        </p></li><li class="listitem"><p>
          構成データをフェッチします
        </p></li><li class="listitem"><p>
          ノード間通信で使用されるポートを割り当てます
        </p></li><li class="listitem"><p>
          構成ファイルから取得された設定に従って、メモリーを割り当てます
        </p></li></ol></div><p>
      データノードまたは SQL ノードがはじめて管理ノードに接続すると、クラスタノード ID を予約します。ほかのノードによって同じノード ID が割り当てられないように、この ID は、ノードからクラスタへの接続が完了し、このノードが接続されたことが少なくとも 1 つの <span class="command"><strong>ndbd</strong></span> でレポートされるまで保持されます。このようなノード ID の保持は、該当するノードと <span class="command"><strong>ndb_mgmd</strong></span> 間の接続で保護されます。
    </p><p>
      各データノードが初期化されたら、クラスタの起動プロセスに進むことができます。このプロセス中にクラスタが進む段階を次に示します。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>フェーズ 0 </b>
            <code class="literal">NDBFS</code> および <code class="literal">NDBCNTR</code> ブロックが起動します (<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-kernel-blocks.html" target="_top">NDB Kernel Blocks</a>を参照してください)。<code class="option">--initial</code> オプションを付けて起動されたデータノード上で、データノードファイルシステムがクリアされます。
          </p></li><li class="listitem"><p><b>フェーズ 1 </b>
            この段階では、残りのすべての <code class="literal">NDB</code> カーネルブロックが起動されます。MySQL Cluster 接続が設定され、ブロック間の通信が確立され、ハートビートが開始されます。ノードの再起動の場合は、API ノードの接続もチェックされます。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            フェーズ 1 で 1 つ以上のノードがハングアップし、フェーズ 2 で残りの 1 つまたは複数のノードがハングアップするときは、多くの場合にネットワークの問題を示しています。このような問題が発生する原因の 1 つとして、複数のネットワークインタフェースを持つ 1 つ以上のクラスタホストが考えられます。このような状況が発生する問題のもう 1 つの一般的な原因は、クラスタノード間の通信に必要な TCP/IP ポートのブロックです。後者では、これは多くの場合に、ファイアウォールが誤って構成されているためです。
          </p></div></li><li class="listitem"><p><b>フェーズ 2 </b>
            <code class="literal">NDBCNTR</code> カーネルブロックは、既存のすべてのノードの状態をチェックします。マスターノードが選択され、クラスタスキーマファイルが初期化されます。
          </p></li><li class="listitem"><p><b>フェーズ 3 </b>
            <code class="literal">DBLQH</code> および <code class="literal">DBTC</code> カーネルブロックは、それらの間の通信を設定します。起動タイプが特定されます。これが再起動の場合、<code class="literal">DBDIH</code> ブロックは再起動を実行するための権限を取得します。
          </p></li><li class="listitem"><p><b>フェーズ 4 </b>
            初期起動またはノードの初期再起動の場合、Redo ログファイルが作成されます。これらのファイルの数は、<code class="literal">NoOfFragmentLogFiles</code> に等しいです。
          </p><p>
          システムの再起動の場合:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              1 つまたは複数のスキーマを読み取ります。
            </p></li><li class="listitem"><p>
              ローカルチェックポイントからデータを読み取ります。
            </p></li><li class="listitem"><p>
              最新のリストア可能なグローバルチェックポイントに達するまで、すべての Redo 情報を適用します。
            </p></li></ul></div><p>
          ノードの再起動の場合、Redo ログの末尾を検索します。
        </p></li><li class="listitem"><p><b>フェーズ 5 </b>
            このフェーズ中に、データノード起動のデータベース関連部分のほとんどが実行されます。初期起動またはシステムの再起動の場合、ローカルチェックポイントに続いて、グローバルチェックポイントが実行されます。このフェーズ中に、メモリー使用率の定期的なチェックが開始され、必要なノードのテイクオーバーが実行されます。
          </p></li><li class="listitem"><p><b>フェーズ 6 </b>
            このフェーズでは、ノードグループが定義および設定されます。
          </p></li><li class="listitem"><p><b>フェーズ 7 </b>
            アービトレータノードが選択され、動作が開始されます。次のバックアップ ID、およびバックアップディスクの書き込み速度が設定されます。この起動フェーズに到達したノードは、<code class="literal">Started</code> とマークされます。この時点で、API ノード (SQL ノードを含む) はクラスタに接続できます。
          </p></li><li class="listitem"><p><b>フェーズ 8 </b>
            これがシステムの再起動の場合、すべてのインデックスが (<code class="literal">DBDIH</code> によって) 再構築されます。
          </p></li><li class="listitem"><p><b>フェーズ 9 </b>
            ノード内部の起動変数がリセットされます。
          </p></li><li class="listitem"><p><b>フェーズ 100 (廃止) </b>
            以前は、ノードの再起動またはノードの初期再起動のこの時点で、API ノードはノードに接続し、イベントの受信を開始できました。現在は、このフェーズが空になっています。
          </p></li><li class="listitem"><p><b>フェーズ 101 </b>
            ノードの再起動またはノードの初期再起動のこの時点で、クラスタに参加するノードにイベント配信が渡されます。新たに参加したノードは、そのプライマリデータをサブスクライバに配信する責任を引き受けます。このフェーズは、<em class="firstterm"><code class="literal">SUMA</code> ハンドオーバーフェーズ</em>とも呼ばれます。
          </p></li></ul></div><p>
      初期起動またはシステムの再起動の場合、このプロセスが完了すると、トランザクションの処理が有効になります。ノードの再起動またはノードの初期再起動の場合、起動プロセスが完了したことは、現在ノードがトランザクションコーディネータとして動作している可能性があることを意味します。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-mgm-client-commands"></a>18.5.2 MySQL Cluster 管理クライアントのコマンド</h3></div></div></div><a class="indexterm" name="idm139979022640256"></a><a class="indexterm" name="idm139979022638112"></a><a class="indexterm" name="idm139979022636080"></a><p>
      主要な構成ファイルに加えて、管理クライアント <span class="command"><strong>ndb_mgm</strong></span> から使用可能なコマンド行インタフェースによって、クラスタを制御することもできます。これは、実行中のクラスタへのプライマリ管理インタフェースです。
    </p><p>
      イベントログのコマンドは、<a class="xref" href="mysql-cluster.html#mysql-cluster-event-reports" title="18.5.6 MySQL Cluster で生成されたイベントレポート">セクション18.5.6「MySQL Cluster で生成されたイベントレポート」</a>に示しています。バックアップを作成するためのコマンドと、バックアップからリストアするためのコマンドは、<a class="xref" href="mysql-cluster.html#mysql-cluster-backup" title="18.5.3 MySQL Cluster のオンラインバックアップ">セクション18.5.3「MySQL Cluster のオンラインバックアップ」</a>で説明しています。
    </p><p><b>MySQL Cluster Manager での ndb_mgm の使用 </b>
        <a class="indexterm" name="idm139979022629408"></a> <a class="indexterm" name="idm139979022627232"></a>MySQL Cluster Manager では、プロセスの起動と停止が処理され、プロセスの状態が内部で追跡されるため、MySQL Cluster Manager の制御下にある MySQL Cluster では、これらのタスクに、<span class="command"><strong>ndb_mgm</strong></span> を使用する必要がありません。ノードの起動または停止が伴う操作を実行する際には、MySQL Cluster 配布に付属する <span class="command"><strong>ndb_mgm</strong></span> コマンド行クライアントを使用<span class="emphasis"><em>しない</em></span>ことをお勧めします。これらには、<code class="literal">START</code>、<code class="literal">STOP</code>、<code class="literal">RESTART</code>、および <code class="literal">SHUTDOWN</code> が含まれますが、これだけに限定されません。詳細は、<a class="ulink" href="http://dev.mysql.com/doc/mysql-cluster-manager/1.3/en/mcm-process-commands.html" target="_top">MySQL Cluster Manager Process Commands</a>を参照してください。
      </p><p>
      管理クライアントには、次のような基本的なコマンドが用意されています。次のリストでは、<em class="replaceable"><code>node_id</code></em> はデータベースノード ID、またはクラスタのデータノードのすべてにコマンドを適用すべきことを示すキーワード <code class="literal">ALL</code> を示します。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="indexterm" name="idm139979022615568"></a> <a class="indexterm" name="idm139979022613408"></a> <code class="literal">HELP</code>
        </p><p>
          使用可能なすべてのコマンドに関する情報を表示します。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979022609792"></a> <a class="indexterm" name="idm139979022607632"></a> <code class="literal">SHOW</code>
        </p><p>
          クラスタのステータスに関する情報を表示します。可能性のあるノードステータスの値には、<code class="literal">UNKNOWN</code>、<code class="literal">NO_CONTACT</code>、<code class="literal">NOT_STARTED</code>、<code class="literal">STARTING</code>、<code class="literal">STARTED</code>、<code class="literal">SHUTTING_DOWN</code>、および <code class="literal">RESTARTING</code> が含まれます。このコマンドからの出力には、クラスタがシングルユーザーモード (ステータス <code class="literal">SINGLE USER MODE</code>) になるタイミングも示されます。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979022597840"></a> <a class="indexterm" name="idm139979022595680"></a> <code class="literal"><em class="replaceable"><code>node_id</code></em> START</code>
        </p><p>
          <em class="replaceable"><code>node_id</code></em> によって識別されるデータノード (またはすべてのデータノード) をオンラインにします。
        </p><p>
          <code class="literal">ALL START</code> はすべてのデータノードでのみ動作し、管理ノードには影響を与えません。
        </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
            このコマンドを使用してデータノードをオンラインにするには、<span class="command"><strong>ndbd <code class="option">--nostart</code></strong></span> または <span class="command"><strong>ndbd <code class="option">-n</code></strong></span> を使用してデータノードが起動されている必要があります。
          </p></div></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979022586832"></a> <a class="indexterm" name="idm139979022584672"></a> <code class="literal"><em class="replaceable"><code>node_id</code></em> STOP [-a] [-f]</code>
        </p><p>
          <em class="replaceable"><code>node_id</code></em> によって識別されるデータノードまたは管理ノードを停止します。<code class="literal">ALL STOP</code> はすべてのデータノードを停止させるためにのみ機能し、管理ノードには影響を与えません。
        </p><p>
          このコマンドの影響を受けるノードはクラスタから切断され、それに関連付けられた <span class="command"><strong>ndbd</strong></span> または <span class="command"><strong>ndb_mgmd</strong></span> プロセスは終了します。
        </p><p>
          <code class="option">-a</code> オプションを使用すると、保留中のトランザクションが完了するまで待機せずに、すぐにノードが停止されます。
        </p><p>
          通常、結果として不完全なクラスタが生成される場合は、<code class="literal">STOP</code> に失敗します。<code class="option">-f</code> オプションを使用すると、これをチェックせずに、強制的にノードがシャットダウンされます。このオプションが使用され、結果が不完全なクラスタである場合は、すぐにクラスタがシャットダウンします。
        </p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">警告</div><p>
            また、<code class="option">-a</code> オプションを使用すると、ノードが停止されても不完全なクラスタが生成されないように、<code class="literal">STOP</code> の呼び出し時に本来実行される安全性チェックも無効になります。つまり、<code class="literal">STOP</code> コマンドで <code class="option">-a</code> オプションを使用すると、クラスタは <code class="literal">NDB</code> に格納されたすべてのデータの完全なコピーを保持しなくなるため、強制的にシャットダウンされる可能性があることにより、このオプションを使用する際は、細心の注意を払うようにしてください。
          </p></div></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979022568976"></a> <a class="indexterm" name="idm139979022566800"></a> <code class="literal"><em class="replaceable"><code>node_id</code></em> RESTART [-n] [-i] [-a] [-f]</code>
        </p><p>
          <em class="replaceable"><code>node_id</code></em> によって識別されるデータノード (またはすべてのデータノード) を再起動します。
        </p><p>
          <code class="literal">RESTART</code> で <code class="option">-i</code> オプションを使用すると、データノードが初期再起動を実行します。つまり、ノードのファイルシステムが削除され、再作成されます。この効果は、データノードのプロセスを停止してから、システムシェルから <span class="command"><strong>ndbd <code class="option">--initial</code></strong></span> を使用して再起動することで実現される効果と同じです。このオプションを使用しても、バックアップファイルおよびディスクデータファイルは削除されません。
        </p><p>
          <code class="option">-n</code> オプションを使用するとデータノードプロセスが再起動されますが、実際には、適切な <code class="literal">START</code> コマンドが発行されるまでデータノードはオンラインになりません。このオプションの効果は、データノードを停止してから、システムシェルから <span class="command"><strong>ndbd <code class="option">--nostart</code></strong></span> または <span class="command"><strong>ndbd <code class="option">-n</code></strong></span> を使用して再起動することで実現される効果と同じです。
        </p><p>
          <code class="option">-a</code> を使用すると、このノードに依存している現在のトランザクションがすべて中止されます。ノードがクラスタに再度参加するときは、GCP チェックが実行されません。
        </p><p>
          通常、ノードをオフラインにしたことで不完全なクラスタが生成される場合は、<code class="literal">RESTART</code> が失敗します。<code class="option">-f</code> オプションを使用すると、これをチェックせずに、強制的にノードが再起動されます。このオプションが使用され、結果が不完全なクラスタである場合は、クラスタ全体が再起動されます。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979022550752"></a> <a class="indexterm" name="idm139979022548592"></a> <code class="literal"><em class="replaceable"><code>node_id</code></em> STATUS</code>
        </p><p>
          <em class="replaceable"><code>node_id</code></em> によって識別されるデータノード (またはすべてのデータノード) のステータス情報を表示します。
        </p><p>
          このコマンドからの出力には、クラスタがシングルユーザーモードになるタイミングも示されます。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979022543744"></a> <a class="indexterm" name="idm139979022541584"></a> <code class="literal"><em class="replaceable"><code>node_id</code></em> REPORT <em class="replaceable"><code>report-type</code></em></code>
        </p><p>
          <em class="replaceable"><code>node_id</code></em> によって識別されるデータノード、または <code class="literal">ALL</code> を使用するすべてのデータノードに対する <em class="replaceable"><code>report-type</code></em> タイプのレポートを表示します。
        </p><p>
          現在、<em class="replaceable"><code>report-type</code></em> には次の 2 つの値が許可されています。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">BackupStatus</code> では、進行中のクラスタバックアップに関するステータスレポートが提供されます。
            </p></li><li class="listitem"><p>
              <code class="literal">MemoryUsage</code> では、次の例で示すように、各データノードで使用されているデータメモリーおよびインデックスメモリーの量が表示されます。
            </p><pre class="programlisting">
ndb_mgm&gt; <strong class="userinput"><code>ALL REPORT MEMORY</code></strong>

Node 1: Data usage is 5%(177 32K pages of total 3200)
Node 1: Index usage is 0%(108 8K pages of total 12832)
Node 2: Data usage is 5%(177 32K pages of total 3200)
Node 2: Index usage is 0%(108 8K pages of total 12832)
</pre><p>
              この情報は、<code class="literal">ndbinfo.memoryusage</code> テーブルから取得することもできます。
            </p></li></ul></div><p>
          <em class="replaceable"><code>report-type</code></em> は大文字と小文字が区別されず、<span class="quote">「<span class="quote">あいまい</span>」</span>です。<code class="literal">MemoryUsage</code> では、<code class="literal">MEMORY</code> (前述の例で示すとおり)、<code class="literal">memory</code>、または単に <code class="literal">MEM</code> (または <code class="literal">mem</code>) を使用できます。<code class="literal">BackupStatus</code> も同様に短縮できます。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979022521984"></a> <a class="indexterm" name="idm139979022519808"></a> <a class="indexterm" name="idm139979022518400"></a> <a class="indexterm" name="idm139979022516304"></a> <code class="literal">ENTER SINGLE USER MODE <em class="replaceable"><code>node_id</code></em></code>
        </p><p>
          シングルユーザーモードを開始します。これにより、ノード ID <em class="replaceable"><code>node_id</code></em> によって識別される MySQL サーバーにのみデータベースへのアクセスが許可されます。
        </p><p>
          現在、シングルユーザーモードで実行しているときは、データノードが MySQL Cluster に参加できません。(Bug #20395)
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979022511200"></a> <a class="indexterm" name="idm139979022508992"></a> <code class="literal">EXIT SINGLE USER MODE</code>
        </p><p>
          シングルユーザーモードを終了します。これにより、すべての SQL ノード (つまり、実行中のすべての <span class="command"><strong>mysqld</strong></span> プロセス) がデータベースにアクセスできます。
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            シングルユーザーモードでないときでも、<code class="literal">EXIT SINGLE USER MODE</code> を使用できますが、この場合、コマンドの効果はありません。
          </p></div></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979022502816"></a> <a class="indexterm" name="idm139979022500656"></a> <a class="indexterm" name="idm139979022499248"></a> <a class="indexterm" name="idm139979022497200"></a> <code class="literal">QUIT</code>, <code class="literal">EXIT</code>
        </p><p>
          管理クライアントを終了します。
        </p><p>
          このコマンドは、クラスタに接続されているノードに影響を与えません。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979022492592"></a> <a class="indexterm" name="idm139979022490416"></a> <code class="literal">SHUTDOWN</code>
        </p><p>
          すべてのクラスタデータノードおよび管理ノードをシャットダウンします。これが実行されたあとに管理クライアントを終了するには、<code class="literal">EXIT</code> または <code class="literal">QUIT</code> を使用します。
        </p><p>
          このコマンドは、クラスタに接続しているどの SQL ノードまたは API ノードもシャットダウン<span class="emphasis"><em>しません</em></span>。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979022484256"></a> <a class="indexterm" name="idm139979022482048"></a> <code class="literal">CREATE NODEGROUP <em class="replaceable"><code>nodeid</code></em>[, <em class="replaceable"><code>nodeid</code></em>, ...]</code>
        </p><p>
          新しい MySQL Cluster ノードグループを作成し、これにデータノードを参加させます。
        </p><p>
          このコマンドは、新しいデータノードをオンラインで MySQL Cluster に追加したあとに使用し、それらを新しいノードグループに参加させ、それによってクラスタへの完全な参加を開始します。このコマンドは唯一のパラメータとして、ノード ID をカンマで区切ったリストを取りますが、これらは、先ほど追加した、新しいノードグループに参加することになるノードの ID です。ノードの数は、すでにクラスタの一部になっている各ノードグループ内のノードの数と同じである必要があります (各 MySQL Cluster ノードグループは、同じ数のノードを持つ必要があります)。言い換えると、MySQL Cluster にそれぞれ 2 つのデータノードを持つ 2 つのノードグループが含まれている場合は、新しいノードグループも 2 つのデータノードを持つ必要があります。
        </p><p>
          このコマンドで作成された新しいノードグループのノードグループ ID は自動的に決定され、常に、クラスタ内で次に最大の未使用のノードグループ ID となり、手動で設定することはできません。
        </p><p>
          詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-online-add-node" title="18.5.13 MySQL Cluster データノードのオンライン追加">セクション18.5.13「MySQL Cluster データノードのオンライン追加」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979022473344"></a> <a class="indexterm" name="idm139979022471152"></a> <code class="literal">DROP NODEGROUP <em class="replaceable"><code>nodegroup_id</code></em></code>
        </p><p>
          指定された <em class="replaceable"><code>nodegroup_id</code></em> を持つ MySQL Cluster ノードグループを削除します。
        </p><p>
          このコマンドを使用すると、MySQL Cluster からノードグループを削除できます。<code class="literal">DROP NODEGROUP</code> は唯一の引数として、削除するノードグループのノードグループ ID を取ります。
        </p><p>
          <code class="literal">DROP NODEGROUP</code> は、影響を受けるノードグループ内のデータグループをそのノードグループから削除するためにのみ機能します。データノードは停止されず、別のノードグループにも割り当てられず、クラスタの構成からも削除されません。ノードグループに属さないデータノードは、次のように (太字のテキストを使用して示すように)、ノードグループ ID の代わりに、<code class="literal">no nodegroup</code> を付けた管理クライアントの <code class="literal">SHOW</code> コマンドの出力に表示されます。
        </p><pre class="programlisting">
id=3    @10.100.2.67  (5.6.22-ndb-7.4.4, <span class="bold"><strong>no nodegroup</strong></span>)
</pre><p>
          MySQL Cluster NDB 7.0.4 よりも前では、<code class="literal">DROP NODEGROUP</code> のあとに <code class="literal">SHOW</code> の出力が正しく更新されませんでした。(Bug #43413)
        </p><p>
          <code class="literal">DROP NODEGROUP</code> は、削除されるノードグループ内のすべてのデータノードに、テーブルデータやテーブル定義がまったく存在しない場合にのみ機能します。現在は、<span class="command"><strong>ndb_mgm</strong></span> または <span class="command"><strong>mysql</strong></span> クライアントを使用して、特定のデータノードやノードグループからすべてのデータを削除する方法がないため、これは次のような 2 つの場合にのみコマンドが成功することを意味します。
        </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
              <span class="command"><strong>ndb_mgm</strong></span> クライアントで <code class="literal">CREATE NODEGROUP</code> を発行してから、<span class="command"><strong>mysql</strong></span> クライアントで任意の <code class="literal">ALTER ONLINE TABLE ... REORGANIZE PARTITION</code> ステートメントを発行するまでの間。
            </p></li><li class="listitem"><p>
              <code class="literal">DROP TABLE</code> を使用してすべての <code class="literal">NDBCLUSTER</code> テーブルを削除したあと。
            </p><p>
              <code class="literal">TRUNCATE TABLE</code> はテーブルデータのみを削除するため、この目的では機能しません。テーブルのメタデータが削除される <code class="literal">DROP TABLE</code> ステートメントが発行されるまで、データノードには引き続き <code class="literal">NDBCLUSTER</code> テーブルの定義が格納されます。
            </p></li></ol></div><p>
          <code class="literal">DROP NODEGROUP</code> の詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-online-add-node" title="18.5.13 MySQL Cluster データノードのオンライン追加">セクション18.5.13「MySQL Cluster データノードのオンライン追加」</a>を参照してください。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-backup"></a>18.5.3 MySQL Cluster のオンラインバックアップ</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-backup-concepts">18.5.3.1 MySQL Cluster バックアップの概念</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-backup-using-management-client">18.5.3.2 MySQL Cluster 管理クライアントを使用したバックアップの作成</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-backup-configuration">18.5.3.3 MySQL Cluster バックアップ用の構成</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-backup-troubleshooting">18.5.3.4 MySQL Cluster バックアップのトラブルシューティング</a></span></dt></dl></div><a class="indexterm" name="idm139979022439808"></a><a class="indexterm" name="idm139979022437696"></a><p>
      次のいくつかのセクションでは、<span class="command"><strong>ndb_mgm</strong></span> 管理クライアントにあるその目的のための機能を使用して、MySQL Cluster バックアップを準備してから作成する方法について説明します。このタイプのバックアップと <span class="command"><strong>mysqldump</strong></span> を使用して作成されたバックアップを区別するために、これを<span class="quote">「<span class="quote">ネイティブ</span>」</span> MySQL Cluster バックアップと呼ぶこともあります。(<span class="command"><strong>mysqldump</strong></span> を使用したバックアップの作成については、<a class="xref" href="programs.html#mysqldump" title="4.5.4 mysqldump — データベースバックアッププログラム">セクション4.5.4「<span class="command"><strong>mysqldump</strong></span> — データベースバックアッププログラム」</a>を参照してください。)MySQL Cluster バックアップのリストアは、MySQL Cluster 配布で提供される <span class="command"><strong>ndb_restore</strong></span> ユーティリティーを使用して実行されます。<span class="command"><strong>ndb_restore</strong></span> について、およびこれを MySQL Cluster バックアップのリストア時に使用する方法については、<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="18.4.20 ndb_restore — MySQL Cluster バックアップのリストア">セクション18.4.20「<span class="command"><strong>ndb_restore</strong></span> — MySQL Cluster バックアップのリストア」</a>を参照してください。
    </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-backup-concepts"></a>18.5.3.1 MySQL Cluster バックアップの概念</h4></div></div></div><a class="indexterm" name="idm139979022427264"></a><a class="indexterm" name="idm139979022425120"></a><p>
        バックアップとは、特定の時点でのデータベースのスナップショットです。バックアップは次の 3 つの主な部分で構成されます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>メタデータ </b>
              すべてのデータベーステーブルの名前と定義
            </p></li><li class="listitem"><p><b>テーブルレコード </b>
              バックアップが作成された時点でデータベーステーブルに実際に格納されたデータ
            </p></li><li class="listitem"><p><b>トランザクションログ </b>
              データがデータベースに格納された方法と日時を示す順次レコード
            </p></li></ul></div><p>
        これらの各部分は、バックアップに参加しているすべてのノード上に保存されます。バックアップ中に、各ノードはこれらの 3 つの部分をディスク上の 3 つのファイルに保存します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="filename">BACKUP-<em class="replaceable"><code>backup_id</code></em>.<em class="replaceable"><code>node_id</code></em>.ctl</code>
          </p><p>
            制御情報およびメタデータを含む制御ファイルです。各ノードは、このファイルの各ノード独自のバージョンに、(クラスタ内のすべてのテーブルの) 同じテーブル定義を保存します。
          </p></li><li class="listitem"><p>
            <code class="filename">BACKUP-<em class="replaceable"><code>backup_id</code></em>-0.<em class="replaceable"><code>node_id</code></em>.data</code>
          </p><p>
            フラグメントごとに保存され、テーブルレコードを含むデータファイルです。つまり、バックアップ中にノードによって異なるフラグメントを保存します。各ノードによって保存されたファイルは、レコードが属するテーブルを示すヘッダーで始まります。レコードのリストのあとに、すべてのレコードのチェックサムを含むフッターが続きます。
          </p></li><li class="listitem"><p>
            <code class="filename">BACKUP-<em class="replaceable"><code>backup_id</code></em>.<em class="replaceable"><code>node_id</code></em>.log</code>
          </p><p>
            コミットされたトランザクションのレコードを含むログファイルです。このログには、バックアップに格納されたテーブル上のトランザクションのみが格納されます。ノードによって異なるデータベースのフラグメントをホストするため、バックアップに関与するノードはさまざまなレコードを保存します。
          </p></li></ul></div><p>
        上記のリストでは、<em class="replaceable"><code>backup_id</code></em> はバックアップ識別子を表し、<em class="replaceable"><code>node_id</code></em> はファイルを作成するノードの一意の識別子を表します。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-backup-using-management-client"></a>18.5.3.2 MySQL Cluster 管理クライアントを使用したバックアップの作成</h4></div></div></div><a class="indexterm" name="idm139979022402160"></a><a class="indexterm" name="idm139979022400016"></a><p>
        バックアップを開始する前に、バックアップを実行するためにクラスタが適切に構成されていることを確認します。(<a class="xref" href="mysql-cluster.html#mysql-cluster-backup-configuration" title="18.5.3.3 MySQL Cluster バックアップ用の構成">セクション18.5.3.3「MySQL Cluster バックアップ用の構成」</a>を参照してください。)
      </p><a class="indexterm" name="idm139979022396608"></a><p>
        <code class="literal">START BACKUP</code> コマンドは、バックアップを作成するために使用されます。
      </p><pre class="programlisting">
START BACKUP [<em class="replaceable"><code>backup_id</code></em>] [<em class="replaceable"><code>wait_option</code></em>] [<em class="replaceable"><code>snapshot_option</code></em>]

<em class="replaceable"><code>wait_option</code></em>:
WAIT {STARTED | COMPLETED} | NOWAIT

<em class="replaceable"><code>snapshot_option</code></em>:
SNAPSHOTSTART | SNAPSHOTEND
</pre><p>
        連続したバックアップは自動的に順次識別されるため、<em class="replaceable"><code>backup_id</code></em> (1 以上の整数) はオプションです。これを省略すると、次に使用可能な値が使用されます。既存の <em class="replaceable"><code>backup_id</code></em> 値が使用されると、 <span class="errortext">Backup failed: file already exists</span>というエラーでバックアップに失敗します。これを使用する場合は、その他のオプションを使用する前に、<code class="literal">START BACKUP</code> の直後に <em class="replaceable"><code>backup_id</code></em> を指定する必要があります。
      </p><p>
        <em class="replaceable"><code>wait_option</code></em> を使用すると、次のリストに示すように、<code class="literal">START BACKUP</code> コマンドを発行したあとに、管理クライアントに制御が返されるタイミングを判断できます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <a class="indexterm" name="idm139979022384144"></a> <a class="indexterm" name="idm139979022382112"></a> <code class="literal">NOWAIT</code> を指定すると、すぐに次に示すようなプロンプトが管理クライアントに表示されます。
          </p><pre class="programlisting">
ndb_mgm&gt; <strong class="userinput"><code>START BACKUP NOWAIT</code></strong>
ndb_mgm&gt;
</pre><p>
            この場合、バックアッププロセスから進行状況の情報が出力されている間でも、管理クライアントを使用できます。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979022376800"></a> <a class="indexterm" name="idm139979022374768"></a> <code class="literal">WAIT STARTED</code> を指定すると、次に示すように、管理クライアントはバックアップが開始されるまで待機してから、ユーザーに制御を返します。
          </p><pre class="programlisting">
ndb_mgm&gt; <strong class="userinput"><code>START BACKUP WAIT STARTED</code></strong>
Waiting for started, this may take several minutes
Node 2: Backup 3 started from node 1
ndb_mgm&gt;
</pre></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979022369904"></a> <a class="indexterm" name="idm139979022367872"></a> <strong class="userinput"><code>WAIT COMPLETED</code></strong> を指定すると、管理クライアントはバックアッププロセスが完了するまで待機してから、ユーザーに制御を返します。
          </p></li></ul></div><p>
        <code class="literal">WAIT COMPLETED</code> はデフォルトです。
      </p><p>
        <a class="indexterm" name="idm139979022363616"></a> <a class="indexterm" name="idm139979022361584"></a> <a class="indexterm" name="idm139979022360048"></a> <a class="indexterm" name="idm139979022358128"></a> <em class="replaceable"><code>snapshot_option</code></em> を使用すると、<code class="literal">START BACKUP</code> が発行されたとき、またはそれが完了したときのクラスタの状態とバックアップが一致するかどうかを判断できます。<code class="literal">SNAPSHOTSTART</code> を使用すると、バックアップがバックアップを開始したときのクラスタの状態と一致します。<code class="literal">SNAPSHOTEND</code> を使用すると、バックアップはバックアップが終了したときのクラスタの状態を反映します。<code class="literal">SNAPSHOTEND</code> はデフォルトであり、以前の MySQL Cluster リリースで見られた動作と一致します。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          <code class="literal">START BACKUP</code> を付けて <code class="literal">SNAPSHOTSTART</code> を使用するときに、<code class="literal">CompressedBackup</code> パラメータが有効になっている場合、データファイルおよび制御ファイルのみが圧縮され、ログファイルは圧縮されません。
        </p></div><p>
        <em class="replaceable"><code>wait_option</code></em> と <em class="replaceable"><code>snapshot_option</code></em> の両方を使用する場合、それらはいずれの順序でも指定できます。たとえば、ID として 4 を持つ既存のバックアップが存在しないと仮定すると、次のコマンドはすべて有効です。
      </p><pre class="programlisting">
START BACKUP WAIT STARTED SNAPSHOTSTART
START BACKUP SNAPSHOTSTART WAIT STARTED
START BACKUP 4 WAIT COMPLETED SNAPSHOTSTART
START BACKUP SNAPSHOTEND WAIT COMPLETED
START BACKUP 4 NOWAIT SNAPSHOTSTART
</pre><p>
        バックアップを作成する手順は、次のステップで構成されます。
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            管理クライアント (<span class="command"><strong>ndb_mgm</strong></span>) がまだ実行されていない場合は、起動します。
          </p></li><li class="listitem"><p>
            <strong class="userinput"><code>START BACKUP</code></strong> コマンドを実行します。これにより、次に示すように、バックアップの進行状況を示す複数行の出力が生成されます。
          </p><pre class="programlisting">
ndb_mgm&gt; <strong class="userinput"><code>START BACKUP</code></strong>
Waiting for completed, this may take several minutes
Node 2: Backup 1 started from node 1
Node 2: Backup 1 started from node 1 completed
 StartGCP: 177 StopGCP: 180
 #Records: 7362 #LogRecords: 0
 Data: 453648 bytes Log: 0 bytes
ndb_mgm&gt;
</pre></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979022338704"></a> <a class="indexterm" name="idm139979022336464"></a>バックアップが開始されると、次のメッセージが管理クライアントに表示されます。
          </p><pre class="programlisting">
Backup <em class="replaceable"><code>backup_id</code></em> started from node <em class="replaceable"><code>node_id</code></em>
</pre><p>
            <em class="replaceable"><code>backup_id</code></em> は、特定のバックアップを表す一意の識別子です。ほかに構成されていない場合、この識別子はクラスタログに保存されます。<em class="replaceable"><code>node_id</code></em> は、データノードとバックアップを調整する管理サーバーの識別子です。バックアッププロセスのこの時点で、クラスタはバックアップリクエストを受信して処理しています。バックアップが終了したことを意味するわけではありません。次に、このステートメントの例を示します。
          </p><pre class="programlisting">
Node 2: Backup 1 started from node 1
</pre></li><li class="listitem"><p>
            管理クライアントは、次のようなメッセージでバックアップが開始されたことを示します。
          </p><pre class="programlisting">
Backup <em class="replaceable"><code>backup_id</code></em> started from node <em class="replaceable"><code>node_id</code></em> completed
</pre><p>
            バックアップが開始されたことを示す通知の場合も同様に、<em class="replaceable"><code>backup_id</code></em> は、この特定のバックアップを表す一意の識別子であり、<em class="replaceable"><code>node_id</code></em> は、データノードとバックアップを調整する管理サーバーのノード ID です。この出力には、次に示すように、関連するグローバルチェックポイント、バックアップされたレコードの数、およびデータのサイズを含む追加情報が記載されます。
          </p><pre class="programlisting">
Node 2: Backup 1 started from node 1 completed
 StartGCP: 177 StopGCP: 180
 #Records: 7362 #LogRecords: 0
 Data: 453648 bytes Log: 0 bytes
</pre></li></ol></div><p>
        また、次の例に示すように、<code class="option">-e</code> または <code class="option">--execute</code> オプションを付けて <span class="command"><strong>ndb_mgm</strong></span> を呼び出して、システムシェルからバックアップを実行することもできます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndb_mgm -e "START BACKUP 6 WAIT COMPLETED SNAPSHOTSTART"</code></strong>
</pre><p>
        この方法で <code class="literal">START BACKUP</code> を使用する際は、バックアップ ID を指定する必要があります。
      </p><p>
        クラスタのバックアップは、デフォルトで各データノード上の <code class="literal">DataDir</code> の <code class="filename">BACKUP</code> サブディレクトリに作成されます。これは、1 つ以上のデータノードごとに個別にオーバーライドすることも、<code class="literal">BackupDataDir</code> 構成パラメータを使用することで、<code class="filename">config.ini</code> ファイル内のすべてのクラスタデータノードに対してオーバーライドすることもできます。特定の <em class="replaceable"><code>backup_id</code></em> を持つバックアップ用に作成されたバックアップファイルは、バックアップディレクトリ内の <code class="filename">BACKUP-<em class="replaceable"><code>backup_id</code></em></code> という名前のサブディレクトリに格納されます。
      </p><p>
        すでに進行中のバックアップを中止するには:
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            管理クライアントを起動します。
          </p></li><li class="listitem"><p>
            次のコマンドを実行します。
          </p><pre class="programlisting">
ndb_mgm&gt; <strong class="userinput"><code>ABORT BACKUP <em class="replaceable"><code>backup_id</code></em></code></strong>
</pre><p>
            数値 <em class="replaceable"><code>backup_id</code></em> は、バックアップが開始されたときに管理クライアントの応答 (<code class="literal">「Backup <em class="replaceable"><code>backup_id</code></em> started from node <em class="replaceable"><code>management_node_id」</code></em></code>メッセージ内) に含まれていたバックアップの識別子です。
          </p></li><li class="listitem"><p>
            管理クライアントは、<code class="literal">「Abort of backup <em class="replaceable"><code>backup_id</code></em> ordered」</code>で中止リクエストを承認します。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              この時点で、管理クライアントはまだクラスタデータノードからこのリクエストへの応答を受信していないため、実際にはバックアップはまだ中止されていません。
            </p></div></li><li class="listitem"><p>
            バックアップが中止されると、管理クライアントは次に示すものと同様の方法で、このことをレポートします。
          </p><pre class="programlisting">
Node 1: Backup 3 started from 5 has been aborted. 
  Error: 1321 - Backup aborted by user request: Permanent error: User defined error
Node 3: Backup 3 started from 5 has been aborted. 
  Error: 1323 - 1323: Permanent error: Internal error
Node 2: Backup 3 started from 5 has been aborted. 
  Error: 1323 - 1323: Permanent error: Internal error
Node 4: Backup 3 started from 5 has been aborted. 
  Error: 1323 - 1323: Permanent error: Internal error
</pre><p>
            この例では、4 つのデータノードを持つクラスタのサンプル出力を示します。ここで、中止されるバックアップのシーケンス番号は <code class="literal">3</code> で、クラスタ管理クライアントが接続される管理ノードのノード ID は <code class="literal">5</code> です。バックアップの中止時にその役割を最初に完了したノードは、中止の理由がユーザーからのリクエストのためであったことをレポートします。(残りのノードは、不明な内部エラーが原因でバックアップが中止されたことをレポートします。)
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              クラスタノードが特定の順序で <code class="literal">ABORT BACKUP</code> コマンドに応答する保証はありません。
            </p></div><p>
            <code class="literal">「Backup <em class="replaceable"><code>backup_id</code></em> started from node <em class="replaceable"><code>management_node_id</code></em> has been aborted」</code>というメッセージは、バックアップが終了し、このバックアップに関連するすべてのファイルがクラスタファイルシステムから削除されたことを示しています。
          </p></li></ol></div><p>
        このコマンドを使用すると、システムシェルから進行中のバックアップを中止することもできます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndb_mgm -e "ABORT BACKUP <em class="replaceable"><code>backup_id</code></em>"</code></strong>
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          <code class="literal">ABORT BACKUP</code> の発行時に、ID <em class="replaceable"><code>backup_id</code></em> を持つバックアップが実行されていない場合は、管理クライアントが応答することも、クラスタログに無効な中止コマンドが送信されたことが表示されることもありません。
        </p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-backup-configuration"></a>18.5.3.3 MySQL Cluster バックアップ用の構成</h4></div></div></div><a class="indexterm" name="idm139979022285424"></a><a class="indexterm" name="idm139979022283280"></a><a class="indexterm" name="idm139979022281216"></a><a class="indexterm" name="idm139979022279184"></a><p>
        バックアップには、次の 5 つの構成パラメータが不可欠です。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <a class="indexterm" name="idm139979022275760"></a> <code class="literal">BackupDataBufferSize</code>
          </p><p>
            ディスクに書き込む前のデータをバッファーに入れる際に使用されるメモリーの量。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979022272128"></a> <code class="literal">BackupLogBufferSize</code>
          </p><p>
            ディスクに書き込む前のログレコードをバッファーに入れる際に使用されるメモリーの量。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979022268368"></a> <code class="literal">BackupMemory</code>
          </p><p>
            バックアップ用にデータノードに割り当てられた合計メモリー。これは、バックアップデータバッファーとバックアップログバッファー用に割り当てられたメモリーの合計になります。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979022264352"></a> <code class="literal">BackupWriteSize</code>
          </p><p>
            ディスクに書き込まれたブロックのデフォルトサイズ。これは、バックアップデータバッファーとバックアップログバッファーの両方に適用されます。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979022260416"></a> <code class="literal">BackupMaxWriteSize</code>
          </p><p>
            ディスクに書き込まれたブロックの最大サイズ。これは、バックアップデータバッファーとバックアップログバッファーの両方に適用されます。
          </p></li></ul></div><p>
        これらのパラメータに関する詳細は、<a class="link" href="mysql-cluster.html#mysql-cluster-backup-parameters" title="バックアップパラメータ">「バックアップパラメータ」</a>で見つかります。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-backup-troubleshooting"></a>18.5.3.4 MySQL Cluster バックアップのトラブルシューティング</h4></div></div></div><a class="indexterm" name="idm139979022253904"></a><a class="indexterm" name="idm139979022251760"></a><a class="indexterm" name="idm139979022249664"></a><p>
        バックアップリクエストを発行した際にエラーコードが返される場合は、不十分なメモリーまたはディスク容量が原因である可能性がもっとも高いです。バックアップ用に十分なメモリーが割り当てられていることを確認するようにしてください。
      </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
          <code class="literal">BackupDataBufferSize</code> および <code class="literal">BackupLogBufferSize</code> を設定していて、それらの合計が 4M バイトよりも大きい場合は、<code class="literal">BackupMemory</code> も設定する必要があります。
        </p></div><p>
        バックアップ対象のハードドライブパーティション上に十分な容量があることも確認するようにしてください。
      </p><p>
        <code class="literal">NDB</code> では反復可能読み取りがサポートされていないため、リストアプロセスで問題が発生する可能性があります。バックアップは<span class="quote">「<span class="quote">ホット</span>」</span>プロセスですが、バックアップからの MySQL Cluster のリストアは 100% <span class="quote">「<span class="quote">ホット</span>」</span>プロセスであるとはかぎりません。その理由は、リストアプロセス中にトランザクションを実行すると、リストアされたデータから反復不可能読み取りが発生するためです。つまり、リストアの進行中は、データの状態に一貫性がありません。
      </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-mysqld"></a>18.5.4 MySQL Cluster での MySQL サーバーの使用法</h3></div></div></div><a class="indexterm" name="idm139979022237168"></a><a class="indexterm" name="idm139979022235040"></a><a class="indexterm" name="idm139979022232976"></a><a class="indexterm" name="idm139979022230928"></a><a class="indexterm" name="idm139979022229520"></a><p>
      <span class="command"><strong>mysqld</strong></span> は従来の MySQL サーバーのプロセスです。MySQL Cluster で使用するには、<span class="command"><strong>mysqld</strong></span> は <a class="ulink" href="http://dev.mysql.com/downloads/" target="_top">http://dev.mysql.com/downloads/</a> から入手可能なプリコンパイル済みバイナリに含まれるため、<code class="literal">NDB</code> ストレージエンジンのサポートを使用して構築する必要があります。ソースから MySQL を構築する場合は、<code class="option">-DWITH_NDBCLUSTER=1</code> オプションを付けて <span class="command"><strong>CMake</strong></span> を呼び出して、<code class="literal">NDB</code> のサポートを含める必要があります。
    </p><p>
      ソースからの MySQL Cluster のコンパイルについての詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-install-linux-source" title="18.2.2.3 Linux でのソースからの MySQL Cluster のビルド">セクション18.2.2.3「Linux でのソースからの MySQL Cluster のビルド」</a>および<a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows-source" title="18.2.3.2 Windows でのソースからの MySQL Cluster のコンパイルとインストール">セクション18.2.3.2「Windows でのソースからの MySQL Cluster のコンパイルとインストール」</a>を参照してください。
    </p><p>
      (このセクションで説明したものに加えて、MySQL Cluster に関連する <span class="command"><strong>mysqld</strong></span> のオプションおよび変数については、<a class="xref" href="mysql-cluster.html#mysql-cluster-options-variables" title="18.3.4 MySQL Cluster 用の MySQL Server オプションおよび変数">セクション18.3.4「MySQL Cluster 用の MySQL Server オプションおよび変数」</a>を参照してください。)
    </p><p>
      Cluster サポートを使用して <span class="command"><strong>mysqld</strong></span> バイナリを構築した場合、<code class="literal">NDBCLUSTER</code> ストレージエンジンはまだデフォルトで無効になっています。次の 2 つの指定可能なオプションのいずれかを使用すると、このエンジンを有効にできます。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="command"><strong>mysqld</strong></span> を起動する際に、コマンド行で起動オプションとして <code class="option">--ndbcluster</code> を使用します。
        </p></li><li class="listitem"><p>
          <code class="filename">my.cnf</code> ファイルの <code class="literal">[mysqld]</code> セクションに <code class="literal">ndbcluster</code> を含む行を挿入します。
        </p></li></ul></div><p>
      <code class="literal">NDBCLUSTER</code> ストレージエンジンを有効にしてサーバーが実行されていることを確認する簡単な方法は、MySQL Monitor (<span class="command"><strong>mysql</strong></span>) で <code class="literal">SHOW ENGINES</code> ステートメントを発行することです。<code class="literal">NDBCLUSTER</code> の行に、<code class="literal">Support</code> 値として値 <code class="literal">YES</code> が表示されます。この行に <code class="literal">NO</code> が表示される場合や、このような行が出力に表示されない場合は、<code class="literal">NDB</code> 対応の MySQL バージョンが動作していません。この行に <code class="literal">DISABLED</code> が表示される場合は、先ほど説明した 2 つの方法のいずれかを使用して有効にする必要があります。
    </p><a class="indexterm" name="idm139979022200128"></a><a class="indexterm" name="idm139979022197984"></a><a class="indexterm" name="idm139979022196592"></a><p>
      クラスタ構成データを読み取るには、MySQL サーバーに少なくとも次の 3 つの情報が必要です。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          MySQL サーバー自身のクラスタノード ID
        </p></li><li class="listitem"><p>
          管理サーバー (MGM ノード) のホスト名または IP アドレス
        </p></li><li class="listitem"><p>
          管理サーバーに接続できる TCP/IP ポートの数
        </p></li></ul></div><p>
      ノード ID は動的に割り当てられるため、明示的に指定する必要は厳密にはありません。
    </p><p>
      接続文字列を指定するには、<span class="command"><strong>mysqld</strong></span> の起動時にコマンド行で、または <code class="filename">my.cnf</code> 内に、<span class="command"><strong>mysqld</strong></span> パラメータ <code class="literal">ndb-connectstring</code> を使用します。接続文字列には、管理サーバーを検出できるホスト名または IP アドレス、および使用される TCP/IP ポートが含まれます。
    </p><p>
      次の例では、<code class="literal">ndb_mgmd.mysql.com</code> は管理サーバーが存在するホストであり、管理サーバーはポート 1186 でクラスタメッセージを待機します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqld --ndbcluster --ndb-connectstring=ndb_mgmd.mysql.com:1186</code></strong>
</pre><p>
      接続文字列の詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-connection-strings" title="18.3.2.3 MySQL Cluster の接続文字列">セクション18.3.2.3「MySQL Cluster の接続文字列」</a>を参照してください。
    </p><p>
      この情報が指定されると、MySQL サーバーがクラスタへの完全な参加者となります。(この方法で実行している <span class="command"><strong>mysqld</strong></span> プロセスは、多くの場合 SQL ノードと呼んでいます。)それは、すべてのクラスタデータノードおよびそのステータスを完全に認識し、すべてのデータノードへの接続を確立します。この場合、任意のデータノードをトランザクションコーディネータとして使用し、ノードデータを読み取って更新できます。
    </p><p>
      <span class="command"><strong>mysql</strong></span> クライアントで <code class="literal">SHOW PROCESSLIST</code> を使用すると、MySQL サーバーがクラスタに接続されているかどうかを確認できます。MySQL サーバーがクラスタに接続されていて、<code class="literal">PROCESS</code> 権限を持っている場合は、出力の最初の行が次のように表示されます。
    </p><pre class="programlisting">
mysql&gt; SHOW PROCESSLIST \G
*************************** 1. row ***************************
     Id: 1
   User: system user
   Host:
     db:
Command: Daemon
   Time: 1
  State: Waiting for event from ndbcluster
   Info: NULL
</pre><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
        MySQL Cluster に参加するには、<code class="option">--ndbcluster</code> と <code class="option">--ndb-connectstring</code> の<span class="emphasis"><em>両方</em></span>のオプション (<code class="filename">my.cnf</code> の同等のオプション) を付けて、<span class="command"><strong>mysqld</strong></span> プロセスを起動する必要があります。<code class="option">--ndbcluster</code> オプションのみを付けて <span class="command"><strong>mysqld</strong></span> が起動された場合や、それがクラスタに接続できない場合は、ストレージエンジンに関係なく、<code class="literal">NDB</code> テーブルを操作することも、<span class="emphasis"><em>新しいテーブルを作成することもできません</em></span>。後者の制約は、SQL ノードがクラスタに接続されていない間に、<code class="literal">NDB</code> テーブルと同じ名前を持つテーブルが作成されることを防ぐ目的の安全対策です。<span class="command"><strong>mysqld</strong></span> プロセスが MySQL Cluster に参加していない間に、別のストレージエンジンを使用してテーブルを作成する必要がある場合は、<code class="option">--ndbcluster</code> オプションを<span class="emphasis"><em>付けずに</em></span>、サーバーを起動する必要があります。
      </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-rolling-restart"></a>18.5.5 MySQL Cluster のローリング再起動の実行</h3></div></div></div><a class="indexterm" name="idm139979022162880"></a><a class="indexterm" name="idm139979022160672"></a><a class="indexterm" name="idm139979022159200"></a><a class="indexterm" name="idm139979022157280"></a><a class="indexterm" name="idm139979022155248"></a><p>
      このセクションでは、MySQL Cluster インストールの<em class="firstterm">ローリング再起動</em>を実行する方法について説明します。このように呼ばれている理由は、クラスタ自体は操作可能のままになるように、各ノードを順番に停止および起動 (または再起動) することが伴うためです。これは多くの場合に、<em class="firstterm">ローリングアップグレード</em>または<em class="firstterm">ローリングダウングレード</em>の一部として実行されます。ここでは、クラスタの高可用性が必須であり、クラスタ全体の停止時間は許可されません。一般に、ここで提供しているアップグレードについての情報は、ダウングレードにも適用されます。
    </p><p>
      ローリング再起動が望ましい理由は、いくつかあります。次のいくつかの段落で、これらについて説明します。
    </p><p><b>構成の変更 </b><a class="indexterm" name="idm139979022149584"></a>
        クラスタへの SQL ノードの追加や、構成パラメータの新しい値への設定などのクラスタ構成の変更を行うため。
      </p><p><b>MySQL Cluster ソフトウェアのアップグレードまたはダウングレード </b>
        クラスタを新しいバージョンの MySQL Cluster ソフトウェアにアップグレード (または、古いバージョンにダウングレード) するため。通常、これは<span class="quote">「<span class="quote">ローリングアップグレード</span>」</span> (古いバージョンの MySQL Cluster に戻す場合は、<span class="quote">「<span class="quote">ローリングダウングレード</span>」</span>) と呼ばれます。
      </p><p><b>ノードホスト上での変更 </b>
        1 つ以上の MySQL Cluster ノードプロセスが実行されているハードウェアまたはオペレーティングシステムで変更を行うため。
      </p><p><b>システムのリセット (クラスタのリセット) </b><a class="indexterm" name="idm139979022141520"></a>
        望ましくない状態に達したために、クラスタをリセットするため。このような場合は、多くの場合に 1 つ以上のデータノードのデータおよびメタデータを再ロードすることが望ましいと考えられます。これは、次の 3 つの方法のいずれかで実行できます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="option">--initial</code> オプションを付けて各データノードプロセス (<span class="command"><strong>ndbd</strong></span>、場合によっては <span class="command"><strong>ndbmtd</strong></span>) を起動します。これにより、強制的にデータノードのファイルシステムがクリアされ、その他のデータノードから MySQL Cluster のデータおよびメタデータがすべて再ロードされます。
        </p></li><li class="listitem"><p>
          再起動を実行する前に、<span class="command"><strong>ndb_mgm</strong></span> クライアントの <code class="literal">BACKUP</code> コマンドを使用してバックアップを作成します。アップグレード後に、<span class="command"><strong>ndb_restore</strong></span> を使用して、1 つまたは複数のノードをリストアします。
        </p><p>
          詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-backup" title="18.5.3 MySQL Cluster のオンラインバックアップ">セクション18.5.3「MySQL Cluster のオンラインバックアップ」</a>および<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="18.4.20 ndb_restore — MySQL Cluster バックアップのリストア">セクション18.4.20「<span class="command"><strong>ndb_restore</strong></span> — MySQL Cluster バックアップのリストア」</a>を参照してください。
        </p></li><li class="listitem"><p>
          アップグレード前に、<span class="command"><strong>mysqldump</strong></span> を使用してバックアップを作成します。その後、<code class="literal">LOAD DATA INFILE</code> を使用してダンプをリストアします。
        </p></li></ul></div><p><b>リソースのリカバリ </b><a class="indexterm" name="idm139979022125504"></a>
        ほかの MySQL Cluster テーブルで再利用するために、連続した <code class="literal">INSERT</code> および <code class="literal">DELETE</code> 操作によって以前にテーブルに割り当てられたメモリーを解放するため。
      </p><p>
      ローリング再起動を実行するプロセスは、次のように一般化できます。
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          すべてのクラスタ管理ノード (<span class="command"><strong>ndb_mgmd</strong></span> プロセス) を停止し、再構成し、再起動します。(<a class="xref" href="mysql-cluster.html#mysql-cluster-rolling-restart-multiple-ndb-mgmd" title="複数の管理サーバーでのローリング再起動">複数の管理サーバーでのローリング再起動</a>を参照してください。)
        </p></li><li class="listitem"><p>
          各クラスタデータノード (<span class="command"><strong>ndbd</strong></span> プロセス) を順番に停止し、再構成し、再起動します。
        </p></li><li class="listitem"><p>
          各クラスタ SQL ノード (<span class="command"><strong>mysqld</strong></span> プロセス) を順番に停止し、再構成し、再起動します。
        </p></li></ol></div><p>
      特定のローリングアップグレードの実装の詳細は、行われる変更によって異なります。次に、プロセスを詳しく説明します。
    </p><div class="mediaobject"><img src="images/rolling-restarts.png" width="421" height="543" alt="MySQL Cluster のローリング再起動 (タイプ別)"></div><p>
      上記の図で、<span class="bold"><strong>停止</strong></span>および<span class="bold"><strong>起動</strong></span>のステップは、シェルコマンド (ほとんどの Unix システムでの <span class="command"><strong>kill</strong></span> など) または管理クライアントの <code class="literal">STOP</code> コマンドを使用して、プロセスを完全に停止してから、必要に応じて <span class="command"><strong>ndbd</strong></span> または <span class="command"><strong>ndb_mgmd</strong></span> 実行可能ファイルを呼び出して、システムシェルから再起動する必要があることを示しています。Windows では、<code class="literal">NET START</code> および <code class="literal">NET STOP</code> コマンド、または Windows Service Manager を使用して、Windows サービスとしてインストールされているノードを起動および停止することもできます (<a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows-service" title="18.2.3.4 Windows サービスとしての MySQL Cluster プロセスのインストール">セクション18.2.3.4「Windows サービスとしての MySQL Cluster プロセスのインストール」</a>を参照してください)。
    </p><p>
      <span class="bold"><strong>再起動</strong></span>は、<span class="command"><strong>ndb_mgm</strong></span> 管理クライアントの <code class="literal">RESTART</code> コマンドを使用してプロセスを再起動できることを示しています (<a class="xref" href="mysql-cluster.html#mysql-cluster-mgm-client-commands" title="18.5.2 MySQL Cluster 管理クライアントのコマンド">セクション18.5.2「MySQL Cluster 管理クライアントのコマンド」</a>を参照してください)。
    </p><a class="indexterm" name="idm139979022097392"></a><p>
      MySQL Cluster では、ノードをアップグレードする際に柔軟性のある順序がサポートされています。MySQL Cluster をアップグレードする場合、管理ノード、データノード、またはその両方をアップグレードする前に、API ノード (SQL ノードを含む) をアップグレードできます。言い換えると、API ノードおよび SQL ノードを任意の順序でアップグレードすることが許可されています。これには、次のような条件が課せられます。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          この機能は、オンラインアップグレードの一部として使用することのみを目的としています。さまざまな MySQL Cluster リリースのノードバイナリを混在させることは、本番環境設定で継続的に長期間使用することを意図されておらず、サポートもされていません。
        </p></li><li class="listitem"><p>
          データノードをアップグレードする前に、すべての管理ノードをアップグレードする必要があります。このことは、クラスタの API ノードおよび SQL ノードをアップグレードする順序に関係なく当てはまります。
        </p></li><li class="listitem"><p>
          すべての管理ノードおよびデータノードがアップグレードされるまで、<span class="quote">「<span class="quote">新しい</span>」</span>バージョンに固有の機能は使用しないでください。
        </p><p>
          このことは、NDB エンジンバージョンの変更に加えて、適用される可能性のある任意の MySQL サーバーバージョンの変更にも適用されます。したがって、アップグレードを計画する際には、これを考慮に入れることを忘れないでください。(一般に、このことは MySQL Cluster のオンラインアップグレードに当てはまります。)
        </p></li></ul></div><p>
      Bug #48528 および Bug #49163 も参照してください。
    </p><p><a name="mysql-cluster-rolling-restart-multiple-ndb-mgmd"></a><b>複数の管理サーバーでのローリング再起動 </b>
        <a class="indexterm" name="idm139979022086368"></a> <a class="indexterm" name="idm139979022084208"></a>複数の管理ノードを持つ MySQL Cluster のローリング再起動を実行すると、<span class="command"><strong>ndb_mgmd</strong></span> によって、その他の管理ノードが実行されているかどうかがチェックされ、実行されている場合は、そのノードの構成データの使用が試みられることに注意してください。これが発生することを回避し、<span class="command"><strong>ndb_mgmd</strong></span> にその構成ファイルを強制的に再読み取りさせるには、次のステップを実行します。
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          MySQL Cluster のすべての <span class="command"><strong>ndb_mgmd</strong></span> プロセスを停止します。
        </p></li><li class="listitem"><p>
          すべての <code class="filename">config.ini</code> ファイルを更新します。
        </p></li><li class="listitem"><p>
          必要に応じて、<code class="option">--reload</code>、<code class="option">--initial</code>、またはその両方のオプションを付けて単一の <span class="command"><strong>ndb_mgmd</strong></span> を起動します。
        </p></li><li class="listitem"><p>
          最初の <span class="command"><strong>ndb_mgmd</strong></span> を <code class="option">--initial</code> オプションを付けて起動した場合は、残りの <span class="command"><strong>ndb_mgmd</strong></span> プロセスもすべて <code class="option">--initial</code> を使用して起動する必要があります。
        </p><p>
          最初の <span class="command"><strong>ndb_mgmd</strong></span> を起動するときに使用されたその他のオプションに関係なく、最初の <span class="command"><strong>ndb_mgmd</strong></span> プロセスのあとに、<code class="option">--reload</code> を使用して残りのプロセスを再起動しないようにしてください。
        </p></li><li class="listitem"><p>
          通常どおりに、データノードおよび API ノードのローリング再起動を完了します。
        </p></li></ol></div><p>
      ローリング再起動を実行してクラスタの構成を更新する際に、<code class="literal">ndbinfo.nodes</code> テーブルの <code class="literal">config_generation</code> カラムを使用して、新しい構成で正常に再起動されたデータノードを追跡できます。<a class="xref" href="mysql-cluster.html#mysql-cluster-ndbinfo-nodes" title="18.5.10.18 ndbinfo nodes テーブル">セクション18.5.10.18「ndbinfo nodes テーブル」</a>を参照してください。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-event-reports"></a>18.5.6 MySQL Cluster で生成されたイベントレポート</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-logging-management-commands">18.5.6.1 MySQL Cluster のロギング管理コマンド</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-log-events">18.5.6.2 MySQL Cluster ログイベント</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-log-statistics">18.5.6.3 MySQL Cluster 管理クライアントでの CLUSTERLOG STATISTICS の使用</a></span></dt></dl></div><a class="indexterm" name="idm139979022059952"></a><a class="indexterm" name="idm139979022057808"></a><a class="indexterm" name="idm139979022056480"></a><a class="indexterm" name="idm139979022055136"></a><a class="indexterm" name="idm139979022053760"></a><a class="indexterm" name="idm139979022051728"></a><p>
      このセクションでは、MySQL Cluster で提供されるイベントログのタイプ、およびログに記録されるイベントのタイプについて説明します。
    </p><p>
      MySQL Cluster では、次の 2 つのタイプのイベントログが提供されています。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          すべてのクラスタノードで生成されたイベントが含まれる<em class="firstterm">クラスタログ</em>。クラスタログは、単一の場所でクラスタ全体に関するロギング情報を提供するため、ほとんどの使用目的で推奨されるログです。
        </p><p>
          デフォルトでは、クラスタログは <span class="command"><strong>ndb_mgm</strong></span> バイナリが存在する同じディレクトリ内の <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_cluster.log</code> (ここで、<em class="replaceable"><code>node_id</code></em> は管理サーバーのノード ID です) というファイルに保存されます。
        </p><p>
          クラスタのロギング情報は、<code class="literal">DataDir</code> および <code class="literal">LogDestination</code> 構成パラメータに設定された値によって指定されたファイルに保存することに加えて、またはその代わりに、<code class="literal">stdout</code> または <code class="literal">syslog</code> 機能に送信することもできます。これらのパラメータについての詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-mgm-definition" title="18.3.2.5 MySQL Cluster 管理サーバーの定義">セクション18.3.2.5「MySQL Cluster 管理サーバーの定義」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <em class="firstterm">ノードログ</em>は、各ノードにローカルです。
        </p><p>
          ノードイベントのロギングで生成された出力は、ノードの <code class="literal">DataDir</code> 内の <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_out.log</code> ファイル (ここで、<em class="replaceable"><code>node_id</code></em> はノードのノード ID です) に書き込まれます。ノードイベントログは、管理ノードとデータノードの両方で生成されます。
        </p><p>
          ノードログは、アプリケーションの開発時またはアプリケーションコードのデバッグに使用されることのみを目的としています。
        </p></li></ul></div><p>
      両方のタイプのイベントログを設定すると、イベントのさまざまなサブセットのログを記録できます。
    </p><p>
      レポート可能な各イベントは、次の 3 つの基準に従って区別できます。
    </p><a class="indexterm" name="idm139979022031248"></a><a class="indexterm" name="idm139979022029104"></a><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="emphasis"><em>カテゴリ</em></span>: これは、<code class="literal">STARTUP</code>、<code class="literal">SHUTDOWN</code>、<code class="literal">STATISTICS</code>、<code class="literal">CHECKPOINT</code>、<code class="literal">NODERESTART</code>、<code class="literal">CONNECTION</code>、<code class="literal">ERROR</code>、または <code class="literal">INFO</code> 値のいずれかを指定できます。
        </p></li><li class="listitem"><p>
          <span class="emphasis"><em>優先度</em></span>: これは、1 から 15 までの数値で表されます。ここで、1 は<span class="quote">「<span class="quote">もっとも重要</span>」</span>、15 は<span class="quote">「<span class="quote">もっとも重要でない</span>」</span>ことを示します。
        </p></li><li class="listitem"><p>
          <span class="emphasis"><em>重大度レベル</em></span>: これは、<code class="literal">ALERT</code>、<code class="literal">CRITICAL</code>、<code class="literal">ERROR</code>、<code class="literal">WARNING</code>、<code class="literal">INFO</code>、または <code class="literal">DEBUG</code> 値のいずれかを指定できます。
        </p></li></ul></div><p>
      クラスタログとノードログのどちらもこれらのプロパティーでフィルタ処理できます。
    </p><p>
      クラスタログで使用される形式は、次に示すとおりです。
    </p><pre class="programlisting">
2007-01-26 19:35:55 [MgmSrvr] INFO     -- Node 1: Data usage is 2%(60 32K pages of total 2560)
2007-01-26 19:35:55 [MgmSrvr] INFO     -- Node 1: Index usage is 1%(24 8K pages of total 2336)
2007-01-26 19:35:55 [MgmSrvr] INFO     -- Node 1: Resource 0 min: 0 max: 639 curr: 0
2007-01-26 19:35:55 [MgmSrvr] INFO     -- Node 2: Data usage is 2%(76 32K pages of total 2560)
2007-01-26 19:35:55 [MgmSrvr] INFO     -- Node 2: Index usage is 1%(24 8K pages of total 2336)
2007-01-26 19:35:55 [MgmSrvr] INFO     -- Node 2: Resource 0 min: 0 max: 639 curr: 0
2007-01-26 19:35:55 [MgmSrvr] INFO     -- Node 3: Data usage is 2%(58 32K pages of total 2560)
2007-01-26 19:35:55 [MgmSrvr] INFO     -- Node 3: Index usage is 1%(25 8K pages of total 2336)
2007-01-26 19:35:55 [MgmSrvr] INFO     -- Node 3: Resource 0 min: 0 max: 639 curr: 0
2007-01-26 19:35:55 [MgmSrvr] INFO     -- Node 4: Data usage is 2%(74 32K pages of total 2560)
2007-01-26 19:35:55 [MgmSrvr] INFO     -- Node 4: Index usage is 1%(25 8K pages of total 2336)
2007-01-26 19:35:55 [MgmSrvr] INFO     -- Node 4: Resource 0 min: 0 max: 639 curr: 0
2007-01-26 19:39:42 [MgmSrvr] INFO     -- Node 4: Node 9 Connected
2007-01-26 19:39:42 [MgmSrvr] INFO     -- Node 1: Node 9 Connected
2007-01-26 19:39:42 [MgmSrvr] INFO     -- Node 1: Node 9: API 5.6.22-ndb-7.4.4
2007-01-26 19:39:42 [MgmSrvr] INFO     -- Node 2: Node 9 Connected
2007-01-26 19:39:42 [MgmSrvr] INFO     -- Node 2: Node 9: API 5.6.22-ndb-7.4.4
2007-01-26 19:39:42 [MgmSrvr] INFO     -- Node 3: Node 9 Connected
2007-01-26 19:39:42 [MgmSrvr] INFO     -- Node 3: Node 9: API 5.6.22-ndb-7.4.4
2007-01-26 19:39:42 [MgmSrvr] INFO     -- Node 4: Node 9: API 5.6.22-ndb-7.4.4
2007-01-26 19:59:22 [MgmSrvr] ALERT    -- Node 2: Node 7 Disconnected
2007-01-26 19:59:22 [MgmSrvr] ALERT    -- Node 2: Node 7 Disconnected
</pre><p>
      クラスタログの各行には、次の情報が含まれます。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal"><em class="replaceable"><code>YYYY</code></em>-<em class="replaceable"><code>MM</code></em>-<em class="replaceable"><code>DD</code></em> <em class="replaceable"><code>HH</code></em>:<em class="replaceable"><code>MM</code></em>:<em class="replaceable"><code>SS</code></em></code> 形式のタイムスタンプ。
        </p></li><li class="listitem"><p>
          ロギングを実行しているノードのタイプ。クラスタログでは、これは常に <code class="literal">[MgmSrvr]</code> です。
        </p></li><li class="listitem"><p>
          イベントの重大度。
        </p></li><li class="listitem"><p>
          イベントをレポートするノードの ID。
        </p></li><li class="listitem"><p>
          イベントの説明。ログに表示されるもっとも一般的なイベントタイプは、クラスタ内のさまざまなノード間およびチェックポイントの発生時の接続と切断です。場合によっては、説明にステータス情報が含まれることがあります。
        </p></li></ul></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-logging-management-commands"></a>18.5.6.1 MySQL Cluster のロギング管理コマンド</h4></div></div></div><a class="indexterm" name="idm139979021995872"></a><a class="indexterm" name="idm139979021993728"></a><a class="indexterm" name="idm139979021992352"></a><a class="indexterm" name="idm139979021991008"></a><a class="indexterm" name="idm139979021988976"></a><a class="indexterm" name="idm139979021987648"></a><p>
        <span class="command"><strong>ndb_mgm</strong></span> では、クラスタログに関連するいくつかの管理コマンドがサポートされています。次のリストでは、<em class="replaceable"><code>node_id</code></em> はデータベースノード ID、またはクラスタのデータノードのすべてにコマンドを適用すべきことを示すキーワード <code class="literal">ALL</code> を示します。
      </p><a class="indexterm" name="idm139979021982880"></a><a class="indexterm" name="idm139979021980704"></a><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">CLUSTERLOG ON</code>
          </p><p>
            クラスタログをオンにします。
          </p></li><li class="listitem"><p>
            <code class="literal">CLUSTERLOG OFF</code>
          </p><p>
            クラスタログをオフにします。
          </p></li><li class="listitem"><p>
            <code class="literal">CLUSTERLOG INFO</code>
          </p><p>
            クラスタログの設定に関する情報を提供します。
          </p></li><li class="listitem"><p>
            <code class="literal"><em class="replaceable"><code>node_id</code></em> CLUSTERLOG <em class="replaceable"><code>category</code></em>=<em class="replaceable"><code>threshold</code></em></code>
          </p><p>
            <em class="replaceable"><code>threshold</code></em> 以下の優先度を持つ <em class="replaceable"><code>category</code></em> のイベントをクラスタログに記録します。
          </p></li><li class="listitem"><p>
            <code class="literal">CLUSTERLOG FILTER <em class="replaceable"><code>severity_level</code></em></code>
          </p><p>
            指定された <em class="replaceable"><code>severity_level</code></em> のイベントのクラスタロギングを切り換えます。
          </p></li></ul></div><p>
        次の表では、クラスタログカテゴリのしきい値の (すべてのデータノードの) デフォルト設定について説明します。イベントの優先度が優先度のしきい値以下である場合は、そのイベントがクラスタログにレポートされます。
      </p><a class="indexterm" name="idm139979021965280"></a><a class="indexterm" name="idm139979021963104"></a><p>
        イベントはデータノードごとにレポートされ、しきい値はノードごとに異なる値に設定できます。
      </p><div class="informaltable"><table summary="この表には、クラスタログのカテゴリを一覧表示し、(すべてのデータノードの) しきい値のデフォルト設定を示します。" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">カテゴリ</th><th scope="col">デフォルトのしきい値 (すべてのデータノード)</th></tr></thead><tbody><tr><td scope="row"><code class="literal">STARTUP</code></td><td><span class="bold"><strong>7</strong></span></td></tr><tr><td scope="row"><code class="literal">SHUTDOWN</code></td><td><span class="bold"><strong>7</strong></span></td></tr><tr><td scope="row"><code class="literal">STATISTICS</code></td><td><span class="bold"><strong>7</strong></span></td></tr><tr><td scope="row"><code class="literal">CHECKPOINT</code></td><td><span class="bold"><strong>7</strong></span></td></tr><tr><td scope="row"><code class="literal">NODERESTART</code></td><td><span class="bold"><strong>7</strong></span></td></tr><tr><td scope="row"><code class="literal">CONNECTION</code></td><td><span class="bold"><strong>7</strong></span></td></tr><tr><td scope="row"><code class="literal">ERROR</code></td><td><span class="bold"><strong>15</strong></span></td></tr><tr><td scope="row"><code class="literal">INFO</code></td><td><span class="bold"><strong>7</strong></span></td></tr></tbody></table></div><p>
        <code class="literal">STATISTICS</code> カテゴリは、役に立つデータを大量に提供できます。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-log-statistics" title="18.5.6.3 MySQL Cluster 管理クライアントでの CLUSTERLOG STATISTICS の使用">セクション18.5.6.3「MySQL Cluster 管理クライアントでの CLUSTERLOG STATISTICS の使用」</a>を参照してください。
      </p><p>
        しきい値は、各カテゴリ内のイベントをフィルタ処理するために使用されます。たとえば、優先度が 3 の <code class="literal">STARTUP</code> イベントのログは、<code class="literal">STARTUP</code> のしきい値が 3 以上に設定されていなければ記録されません。しきい値が 3 の場合は、優先度が 3 以下のイベントのみが送信されます。
      </p><a class="indexterm" name="idm139979021935568"></a><a class="indexterm" name="idm139979021933376"></a><p>
        次の表は、イベントの重大度レベルを示しています。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          これらは、使用されることもマップされることもない <code class="literal">LOG_EMERG</code> と <code class="literal">LOG_NOTICE</code> を除く、Unix の <code class="literal">syslog</code> レベルに対応します。
        </p></div><div class="informaltable"><table summary="この表には、イベントの重大度および説明とともに、イベントの重大度レベルの値を一覧表示します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><p>
                  重大度レベル値
                </p></th><th scope="col"><p>
                  重大度
                </p></th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><p>
                  <span class="bold"><strong>1</strong></span>
                </p></td><td><p>
                  <code class="literal">ALERT</code>
                </p></td><td>すぐに修正するべき状況 (システムデータベースの破損など)</td></tr><tr><td scope="row"><p>
                  <span class="bold"><strong>2</strong></span>
                </p></td><td><p>
                  <code class="literal">CRITICAL</code>
                </p></td><td>クリティカルな状況 (デバイスエラーやリソース不足など)</td></tr><tr><td scope="row"><p>
                  <span class="bold"><strong>3</strong></span>
                </p></td><td><p>
                  <code class="literal">ERROR</code>
                </p></td><td>修正するべき状況 (構成エラーなど)</td></tr><tr><td scope="row"><p>
                  <span class="bold"><strong>4</strong></span>
                </p></td><td><code class="literal">WARNING</code></td><td>エラーではないが、特別な処理が必要な可能性がある状況</td></tr><tr><td scope="row"><p>
                  <span class="bold"><strong>5</strong></span>
                </p></td><td><code class="literal">INFO</code></td><td>情報メッセージ</td></tr><tr><td scope="row"><p>
                  <span class="bold"><strong>6</strong></span>
                </p></td><td><code class="literal">DEBUG</code></td><td><code class="literal">NDBCLUSTER</code> の開発で使用されるデバッグメッセージ</td></tr></tbody></table></div><p>
        イベント重大度レベルは、<code class="literal">CLUSTERLOG FILTER</code> を使用することでオンとオフを切り替えることができます (上記を参照してください)。重大度レベルをオンにすると、優先度がカテゴリしきい値以下であるすべてのイベントがログに記録されます。重大度レベルをオフにすると、その重大度レベルに属するイベントはログに記録されません。
      </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
          クラスタログレベルは、<span class="command"><strong>ndb_mgmd</strong></span> ごとに、スクライバ単位で設定されます。つまり、複数の管理サーバーを持つ MySQL Cluster では、1 台の管理サーバーに接続された <span class="command"><strong>ndb_mgm</strong></span> のインスタンスで <code class="literal">CLUSTERLOG</code> コマンドを使用すると、その管理サーバーで生成されたログのみが影響を受け、その他のサーバーで生成されたログは影響を受けません。また、管理サーバーの 1 台が再起動されると、その管理サーバーで生成されたログのみが、再起動によって発生したログレベルのリセットによる影響を受けます。
        </p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-log-events"></a>18.5.6.2 MySQL Cluster ログイベント</h4></div></div></div><a class="indexterm" name="idm139979021895888"></a><a class="indexterm" name="idm139979021893760"></a><p>
        イベントログでレポートされるイベントレポートの形式は、次のとおりです。
      </p><pre class="programlisting">
<em class="replaceable"><code>datetime</code></em> [<em class="replaceable"><code>string</code></em>] <em class="replaceable"><code>severity</code></em> -- <em class="replaceable"><code>message</code></em>
</pre><p>
        例:
      </p><pre class="programlisting">
09:19:30 2005-07-24 [NDB] INFO -- Node 4 Start phase 4 completed
</pre><p>
        このセクションでは、レポート可能なすべてのイベントについて、カテゴリおよび各カテゴリ内の重大度レベルの順に説明します。
      </p><p>
        イベントの説明では、GCP と LCP はそれぞれ<span class="quote">「<span class="quote">グローバルチェックポイント</span>」</span>および<span class="quote">「<span class="quote">ローカルチェックポイント</span>」</span>を表します。
      </p><a class="indexterm" name="idm139979021886032"></a><a class="indexterm" name="idm139979021883888"></a><a class="indexterm" name="idm139979021881712"></a><a class="indexterm" name="idm139979021879536"></a><h5><a name="idm139979021878112"></a>CONNECTION イベント</h5><p>
        これらのイベントは、クラスタノード間の接続に関連するものです。
      </p><div class="informaltable"><table summary="この表は、クラスタノード間の接続に関連するイベントを一覧表示します。この表は、イベント、優先度、重大度レベル、説明の順に示しています。" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th scope="col">イベント</th><th scope="col">優先度</th><th scope="col">重大度レベル</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">Connected</code></td><td>8</td><td><code class="literal">INFO</code></td><td>データノードが接続されました</td></tr><tr><td scope="row"><code class="literal">Disconnected</code></td><td>8</td><td><code class="literal">ALERT</code></td><td>データノードが切断されました</td></tr><tr><td scope="row"><code class="literal">CommunicationClosed</code></td><td>8</td><td><code class="literal">INFO</code></td><td>SQL ノードまたはデータノードの接続が閉じられました</td></tr><tr><td scope="row"><code class="literal">CommunicationOpened</code></td><td>8</td><td><code class="literal">INFO</code></td><td>SQL ノードまたはデータノードの接続が開かれました</td></tr><tr><td scope="row"><code class="literal">ConnectedApiVersion</code></td><td>8</td><td><code class="literal">INFO</code></td><td>API バージョンを使用した接続</td></tr></tbody></table></div><h5><a name="idm139979021855504"></a>CHECKPOINT イベント</h5><a class="indexterm" name="idm139979021854784"></a><a class="indexterm" name="idm139979021852720"></a><p>
        次に示すロギングメッセージは、チェックポイントに関連するものです。
      </p><div class="informaltable"><table summary="この表は、チェックポイントに関連するイベントを一覧表示します。この表は、イベント、優先度、重大度レベル、説明の順に示しています。" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th scope="col">イベント</th><th scope="col">優先度</th><th scope="col">重大度レベル</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">GlobalCheckpointStarted</code></td><td>9</td><td><code class="literal">INFO</code></td><td>GCP の開始: Redo ログがディスクに書き込まれます</td></tr><tr><td scope="row"><code class="literal">GlobalCheckpointCompleted</code></td><td>10</td><td><code class="literal">INFO</code></td><td>GCP が終了しました</td></tr><tr><td scope="row"><code class="literal">LocalCheckpointStarted</code></td><td>7</td><td><code class="literal">INFO</code></td><td>LCP の開始: データがディスクに書き込まれます</td></tr><tr><td scope="row"><code class="literal">LocalCheckpointCompleted</code></td><td>7</td><td><code class="literal">INFO</code></td><td>LCP が正常に完了しました</td></tr><tr><td scope="row"><code class="literal">LCPStoppedInCalcKeepGci</code></td><td>0</td><td><code class="literal">ALERT</code></td><td>LCP が停止しました</td></tr><tr><td scope="row"><code class="literal">LCPFragmentCompleted</code></td><td>11</td><td><code class="literal">INFO</code></td><td>フラグメント上の LCP が完了しました</td></tr><tr><td scope="row"><code class="literal">UndoLogBlocked</code></td><td>7</td><td><code class="literal">INFO</code></td><td>Undo ロギングがブロックされました。バッファーのオーバーフローに近付いています</td></tr><tr><td scope="row"><code class="literal">RedoStatus</code></td><td>7</td><td><code class="literal">INFO</code></td><td>Redo ステータス</td></tr></tbody></table></div><h5><a name="idm139979021820720"></a>STARTUP イベント</h5><a class="indexterm" name="idm139979021820000"></a><a class="indexterm" name="idm139979021817936"></a><p>
        ノードまたはクラスタの起動や、その成功または失敗に対応して、次のイベントが生成されます。それらは、起動プロセスの進行状況に関する情報 (ロギングアクティビティーに関する情報を含む) も提供します。
      </p><div class="informaltable"><table summary="この表は、ノードまたはクラスタの起動に対応して生成されるイベント、および起動の進行状況に関する情報 (ロギングアクティビティーに関する情報を含む) を提供するイベントを一覧表示します。この表は、イベント、優先度、重大度レベル、説明の順に示しています。" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th scope="col">イベント</th><th scope="col">優先度</th><th scope="col">重大度レベル</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">NDBStartStarted</code></td><td>1</td><td><code class="literal">INFO</code></td><td>データノードの起動フェーズが開始されました (すべてのノードが起動します)</td></tr><tr><td scope="row"><code class="literal">NDBStartCompleted</code></td><td>1</td><td><code class="literal">INFO</code></td><td>起動フェーズが完了しました、すべてのデータノード</td></tr><tr><td scope="row"><code class="literal">STTORRYRecieved</code></td><td>15</td><td><code class="literal">INFO</code></td><td>再起動の完了後にブロックを受信しました</td></tr><tr><td scope="row"><code class="literal">StartPhaseCompleted</code></td><td>4</td><td><code class="literal">INFO</code></td><td>データノードの起動フェーズ <em class="replaceable"><code>X</code></em> が完了しました</td></tr><tr><td scope="row"><code class="literal">CM_REGCONF</code></td><td>3</td><td><code class="literal">INFO</code></td><td>ノードが正常にクラスタに追加されました。ノード、管理ノード、および動的 ID が表示されます</td></tr><tr><td scope="row"><code class="literal">CM_REGREF</code></td><td>8</td><td><code class="literal">INFO</code></td><td>ノードはクラスタへの追加を拒否されました。構成が間違っている、通信を確立できないなどの問題が原因で、クラスタに追加できません</td></tr><tr><td scope="row"><code class="literal">FIND_NEIGHBOURS</code></td><td>8</td><td><code class="literal">INFO</code></td><td>隣接したデータノードを表示します</td></tr><tr><td scope="row"><code class="literal">NDBStopStarted</code></td><td>1</td><td><code class="literal">INFO</code></td><td>データノードのシャットダウンが開始されました</td></tr><tr><td scope="row"><code class="literal">NDBStopCompleted</code></td><td>1</td><td><code class="literal">INFO</code></td><td>データノードのシャットダウンが完了しました</td></tr><tr><td scope="row"><code class="literal">NDBStopForced</code></td><td>1</td><td><code class="literal">ALERT</code></td><td>データノードが強制的にシャットダウンされました</td></tr><tr><td scope="row"><code class="literal">NDBStopAborted</code></td><td>1</td><td><code class="literal">INFO</code></td><td>データノードを正常にシャットダウンできませんでした</td></tr><tr><td scope="row"><code class="literal">StartREDOLog</code></td><td>4</td><td><code class="literal">INFO</code></td><td>新しい Redo ログが開始されました。GCI は <em class="replaceable"><code>X</code></em> を保持し、最新のリストア可能な GCI は <em class="replaceable"><code>Y</code></em> です</td></tr><tr><td scope="row"><code class="literal">StartLog</code></td><td>10</td><td><code class="literal">INFO</code></td><td>新しいログが開始されました。ログ部分は <em class="replaceable"><code>X</code></em>、開始 MB は <em class="replaceable"><code>Y</code></em>、終了 MB は <em class="replaceable"><code>Z</code></em> です</td></tr><tr><td scope="row"><code class="literal">UNDORecordsExecuted</code></td><td>15</td><td><code class="literal">INFO</code></td><td>Undo レコードが実行されました</td></tr><tr><td scope="row"><code class="literal">StartReport</code></td><td>4</td><td><code class="literal">INFO</code></td><td>レポートが開始されました</td></tr><tr><td scope="row"><code class="literal">LogFileInitStatus</code></td><td>7</td><td><code class="literal">INFO</code></td><td>ログファイルの初期化ステータス</td></tr><tr><td scope="row"><code class="literal">LogFileInitCompStatus</code></td><td>7</td><td><code class="literal">INFO</code></td><td>ログファイルの完了ステータス</td></tr><tr><td scope="row"><code class="literal">StartReadLCP</code></td><td>10</td><td><code class="literal">INFO</code></td><td>ローカルチェックポイントの読み取りを開始します</td></tr><tr><td scope="row"><code class="literal">ReadLCPComplete</code></td><td>10</td><td><code class="literal">INFO</code></td><td>ローカルチェックポイントの読み取りが完了しました</td></tr><tr><td scope="row"><code class="literal">RunRedo</code></td><td>8</td><td><code class="literal">INFO</code></td><td>Redo ログが実行されています</td></tr><tr><td scope="row"><code class="literal">RebuildIndex</code></td><td>10</td><td><code class="literal">INFO</code></td><td>インデックスを再構築しています</td></tr></tbody></table></div><h5><a name="idm139979021745152"></a>NODERESTART イベント</h5><a class="indexterm" name="idm139979021744416"></a><a class="indexterm" name="idm139979021742352"></a><p>
        次のイベントは、ノードを再起動するときに生成され、ノードの再起動プロセスの成功または失敗に関連するものです。
      </p><div class="informaltable"><table summary="この表は、ノードを再起動するときに生成され、ノードの再起動プロセスの成功または失敗に関連するイベントを一覧表示します。この表は、イベント、優先度、重大度レベル、説明の順に示しています。" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th scope="col">イベント</th><th scope="col">優先度</th><th scope="col">重大度レベル</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">NR_CopyDict</code></td><td>7</td><td><code class="literal">INFO</code></td><td>ディレクトリ情報のコピーが完了しました</td></tr><tr><td scope="row"><code class="literal">NR_CopyDistr</code></td><td>7</td><td><code class="literal">INFO</code></td><td>ディストリビューション情報のコピーが完了しました</td></tr><tr><td scope="row"><code class="literal">NR_CopyFragsStarted</code></td><td>7</td><td><code class="literal">INFO</code></td><td>フラグメントのコピーを開始しています</td></tr><tr><td scope="row"><code class="literal">NR_CopyFragDone</code></td><td>10</td><td><code class="literal">INFO</code></td><td>フラグメントのコピーが完了しました</td></tr><tr><td scope="row"><code class="literal">NR_CopyFragsCompleted</code></td><td>7</td><td><code class="literal">INFO</code></td><td>すべてのフラグメントのコピーが完了しました</td></tr><tr><td scope="row"><code class="literal">NodeFailCompleted</code></td><td>8</td><td><code class="literal">ALERT</code></td><td>ノードの失敗フェーズが完了しました</td></tr><tr><td scope="row"><code class="literal">NODE_FAILREP</code></td><td>8</td><td><code class="literal">ALERT</code></td><td>ノードが失敗したことをレポートします</td></tr><tr><td scope="row"><code class="literal">ArbitState</code></td><td>6</td><td><code class="literal">INFO</code></td><td>アービトレータが見つかったかどうかをレポートします。アービトレータの検索時の可能性のある結果は、次に示す 7 つです。

                <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                      管理サーバーがアービトレーションスレッドを再起動します [状態 =<em class="replaceable"><code>X</code></em>]
                    </p></li><li class="listitem"><p>
                      アービトレータノード <em class="replaceable"><code>X</code></em> を準備します [チケット =<em class="replaceable"><code>Y</code></em>]
                    </p></li><li class="listitem"><p>
                      アービトレータノード <em class="replaceable"><code>X</code></em> を受信します [チケット =<em class="replaceable"><code>Y</code></em>]
                    </p></li><li class="listitem"><p>
                      アービトレータノード <em class="replaceable"><code>X</code></em> を起動しました [チケット =<em class="replaceable"><code>Y</code></em>]
                    </p></li><li class="listitem"><p>
                      アービトレータノード <em class="replaceable"><code>X</code></em> が失われました - プロセスの失敗 [状態 =<em class="replaceable"><code>Y</code></em>]
                    </p></li><li class="listitem"><p>
                      アービトレータノード <em class="replaceable"><code>X</code></em> が失われました - プロセスの終了 [状態 =<em class="replaceable"><code>Y</code></em>]
                    </p></li><li class="listitem"><p>
                      アービトレータノード <em class="replaceable"><code>X</code></em> が失われました &lt;エラーメッセージ&gt; [状態 =<em class="replaceable"><code>Y</code></em>]
                    </p></li></ul></div></td></tr><tr><td scope="row"><code class="literal">ArbitResult</code></td><td>2</td><td><code class="literal">ALERT</code></td><td>アービトレータの結果をレポートします。アービトレータの試行の可能性のある結果は、次に示した 8 つです。

                <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                      アービトレーションチェックに失敗しました: 1/2 未満のノードが残っています
                    </p></li><li class="listitem"><p>
                      アービトレーションチェックに成功しました: ノードグループの大部分
                    </p></li><li class="listitem"><p>
                      アービトレーションチェックに失敗しました: ノードグループが見つかりません
                    </p></li><li class="listitem"><p>
                      ネットワークのパーティション化: アービトレーションが必要です
                    </p></li><li class="listitem"><p>
                      アービトレーションに成功しました: ノード <em class="replaceable"><code>X</code></em> からの肯定的応答
                    </p></li><li class="listitem"><p>
                      アービトレーションに失敗しました: ノード <em class="replaceable"><code>X</code></em> からの否定的応答
                    </p></li><li class="listitem"><p>
                      ネットワークのパーティション化: 使用可能なアービトレータがありません
                    </p></li><li class="listitem"><p>
                      ネットワークのパーティション化: アービトレータが構成されていません
                    </p></li></ul></div></td></tr><tr><td scope="row"><code class="literal">GCP_TakeoverStarted</code></td><td>7</td><td><code class="literal">INFO</code></td><td>GCP テイクオーバーが開始されました</td></tr><tr><td scope="row"><code class="literal">GCP_TakeoverCompleted</code></td><td>7</td><td><code class="literal">INFO</code></td><td>GCP テイクオーバーが完了しました</td></tr><tr><td scope="row"><code class="literal">LCP_TakeoverStarted</code></td><td>7</td><td><code class="literal">INFO</code></td><td>LCP テイクオーバーが開始されました</td></tr><tr><td scope="row"><code class="literal">LCP_TakeoverCompleted</code></td><td>7</td><td><code class="literal">INFO</code></td><td>LCP テイクオーバーが完了しました (状態 = <em class="replaceable"><code>X</code></em>)</td></tr><tr><td scope="row"><code class="literal">ConnectCheckStarted</code></td><td>6</td><td><code class="literal">INFO</code></td><td>接続チェックが開始されました</td></tr><tr><td scope="row"><code class="literal">ConnectCheckCompleted</code></td><td>6</td><td><code class="literal">INFO</code></td><td>接続チェックが完了しました</td></tr><tr><td scope="row"><code class="literal">NodeFailRejected</code></td><td>6</td><td><code class="literal">ALERT</code></td><td>ノードの失敗フェーズに失敗しました</td></tr></tbody></table></div><h5><a name="idm139979021664736"></a>STATISTICS イベント</h5><a class="indexterm" name="idm139979021664016"></a><a class="indexterm" name="idm139979021661952"></a><p>
        次のイベントは、統計的な特性を持っています。それらは、トランザクションやその他の操作の回数、各ノードによって送受信されたデータの量、メモリーの使用状況などの情報を提供します。
      </p><div class="informaltable"><table summary="この表は、統計的な特性を持つイベントを一覧表示します。この表は、イベント、優先度、重大度レベル、説明の順に示しています。" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th scope="col">イベント</th><th scope="col">優先度</th><th scope="col">重大度レベル</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">TransReportCounters</code></td><td>8</td><td><code class="literal">INFO</code></td><td>トランザクション、コミット、読み取り、単純な読み取り、書き込み、同時操作、属性情報、中止の数などのトランザクション統計をレポートします</td></tr><tr><td scope="row"><code class="literal">OperationReportCounters</code></td><td>8</td><td><code class="literal">INFO</code></td><td>操作数</td></tr><tr><td scope="row"><code class="literal">TableCreated</code></td><td>7</td><td><code class="literal">INFO</code></td><td>作成されたテーブルの数をレポートします</td></tr><tr><td scope="row"><code class="literal">JobStatistic</code></td><td>9</td><td><code class="literal">INFO</code></td><td>内部ジョブスケジューリングの平均の統計</td></tr><tr><td scope="row"><code class="literal">ThreadConfigLoop</code></td><td>9</td><td><code class="literal">INFO</code></td><td>スレッド構成ループの数</td></tr><tr><td scope="row"><code class="literal">SendBytesStatistic</code></td><td>9</td><td><code class="literal">INFO</code></td><td>ノード <em class="replaceable"><code>X</code></em> に送信された平均バイト数</td></tr><tr><td scope="row"><code class="literal">ReceiveBytesStatistic</code></td><td>9</td><td><code class="literal">INFO</code></td><td>ノード <em class="replaceable"><code>X</code></em> から受信された平均バイト数</td></tr><tr><td scope="row"><code class="literal">MemoryUsage</code></td><td>5</td><td><code class="literal">INFO</code></td><td>データおよびインデックスメモリー使用状況 (80%、90%、および 100%)</td></tr><tr><td scope="row"><code class="literal">MTSignalStatistics</code></td><td>9</td><td><code class="literal">INFO</code></td><td>マルチスレッドシグナル</td></tr></tbody></table></div><h5><a name="idm139979021626096"></a>SCHEMA イベント</h5><a class="indexterm" name="idm139979021625392"></a><a class="indexterm" name="idm139979021623344"></a><p>
        これらのイベントは、MySQL Cluster スキーマ操作に関連するものです。
      </p><div class="informaltable"><table summary="この表は、MySQL Cluster スキーマ操作に関連するイベントを一覧表示します。" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th scope="col">イベント</th><th scope="col">優先度</th><th scope="col">重大度</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">CreateSchemaObject</code></td><td>8</td><td><code class="literal">INFO</code></td><td>スキーマオブジェクトが作成されました</td></tr><tr><td scope="row"><code class="literal">AlterSchemaObject</code></td><td>8</td><td><code class="literal">INFO</code></td><td>スキーマオブジェクトが更新されました</td></tr><tr><td scope="row"><code class="literal">DropSchemaObject</code></td><td>8</td><td><code class="literal">INFO</code></td><td>スキーマオブジェクトが削除されました</td></tr></tbody></table></div><h5><a name="idm139979021606080"></a>ERROR イベント</h5><a class="indexterm" name="idm139979021605376"></a><a class="indexterm" name="idm139979021603328"></a><p>
        これらのイベントは、クラスタのエラーおよび警告に関連するものです。一般に、これらが 1 つ以上存在することは、重大な誤動作や障害が発生したことを示しています。
      </p><div class="informaltable"><table summary="この表は、クラスタのエラーおよび警告に関連するイベントを一覧表示します。この表は、イベント、優先度、重大度、説明の順に示しています。" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th scope="col">イベント</th><th scope="col">優先度</th><th scope="col">重大度</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">TransporterError</code></td><td>2</td><td><code class="literal">ERROR</code></td><td>トランスポータエラー</td></tr><tr><td scope="row"><code class="literal">TransporterWarning</code></td><td>8</td><td><code class="literal">WARNING</code></td><td>トランスポータ警告</td></tr><tr><td scope="row"><code class="literal">MissedHeartbeat</code></td><td>8</td><td><code class="literal">WARNING</code></td><td>ノード <em class="replaceable"><code>X</code></em> でハートビート番号 <em class="replaceable"><code>Y</code></em> が失われました</td></tr><tr><td scope="row"><code class="literal">DeadDueToHeartbeat</code></td><td>8</td><td><code class="literal">ALERT</code></td><td>ハートビートが失われたため、ノード <em class="replaceable"><code>X</code></em> が<span class="quote">「<span class="quote">停止</span>」</span>を宣言しました</td></tr><tr><td scope="row"><code class="literal">WarningEvent</code></td><td>2</td><td><code class="literal">WARNING</code></td><td>一般警告イベント</td></tr><tr><td scope="row"><code class="literal">SubscriptionStatus</code></td><td>4</td><td><code class="literal">WARNING</code></td><td>サブスクリプションのステータスの変更</td></tr></tbody></table></div><h5><a name="idm139979021575456"></a>INFO イベント</h5><a class="indexterm" name="idm139979021574752"></a><a class="indexterm" name="idm139979021572704"></a><p>
        これらのイベントは、クラスタの状態およびロギングやハートビート伝送などのクラスタのメンテナンスに関連するアクティビティーに関する一般情報を提供します。
      </p><div class="informaltable"><table summary="この表は、クラスタの状態およびロギングやハートビート伝送などのクラスタのメンテナンスに関連するアクティビティーに関する一般情報を提供するイベントを一覧表示します。この表は、イベント、優先度、重大度、説明の順に示しています。" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th scope="col">イベント</th><th scope="col">優先度</th><th scope="col">重大度</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">SentHeartbeat</code></td><td>12</td><td><code class="literal">INFO</code></td><td>ハートビートを送信しました</td></tr><tr><td scope="row"><code class="literal">CreateLogBytes</code></td><td>11</td><td><code class="literal">INFO</code></td><td>ログの作成: ログ部分、ログファイル、MB 単位のサイズ</td></tr><tr><td scope="row"><code class="literal">InfoEvent</code></td><td>2</td><td><code class="literal">INFO</code></td><td>一般情報イベント</td></tr><tr><td scope="row"><code class="literal">EventBufferStatus</code></td><td>7</td><td><code class="literal">INFO</code></td><td>イベントバッファーステータス</td></tr></tbody></table></div><h5><a name="idm139979021551760"></a>SINGLEUSER イベント</h5><a class="indexterm" name="idm139979021551040"></a><a class="indexterm" name="idm139979021548976"></a><p>
        これらのイベントは、シングルユーザーモードの開始と終了に関連するものです。
      </p><div class="informaltable"><table summary="この表は、シングルユーザーモードに関連するイベントを一覧表示します。" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th scope="col">イベント</th><th scope="col">優先度</th><th scope="col">重大度</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">SingleUser</code></td><td>7</td><td><code class="literal">INFO</code></td><td>シングルユーザーモードを開始または終了しています</td></tr></tbody></table></div><h5><a name="idm139979021537328"></a>BACKUP イベント</h5><a class="indexterm" name="idm139979021536624"></a><a class="indexterm" name="idm139979021534576"></a><p>
        これらのイベントは、作成またはリストアされるバックアップに関する情報を提供します。
      </p><div class="informaltable"><table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th scope="col">イベント</th><th scope="col">優先度</th><th scope="col">重大度</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">BackupStarted</code></td><td>7</td><td><code class="literal">INFO</code></td><td>バックアップが開始されました</td></tr><tr><td scope="row"><code class="literal">BackupStatus</code></td><td>7</td><td><code class="literal">INFO</code></td><td>バックアップのステータス</td></tr><tr><td scope="row"><code class="literal">BackupCompleted</code></td><td>7</td><td><code class="literal">INFO</code></td><td>バックアップが完了しました</td></tr><tr><td scope="row"><code class="literal">BackupFailedToStart</code></td><td>7</td><td><code class="literal">ALERT</code></td><td>バックアップの開始に失敗しました</td></tr><tr><td scope="row"><code class="literal">BackupAborted</code></td><td>7</td><td><code class="literal">ALERT</code></td><td>バックアップがユーザーによって中止されました</td></tr><tr><td scope="row"><code class="literal">RestoreStarted</code></td><td>7</td><td><code class="literal">INFO</code></td><td>バックアップからのリストアが開始されました</td></tr><tr><td scope="row"><code class="literal">RestoreMetaData</code></td><td>7</td><td><code class="literal">INFO</code></td><td>メタデータをリストアしています</td></tr><tr><td scope="row"><code class="literal">RestoreData</code></td><td>7</td><td><code class="literal">INFO</code></td><td>データをリストアしています</td></tr><tr><td scope="row"><code class="literal">RestoreLog</code></td><td>7</td><td><code class="literal">INFO</code></td><td>ログファイルをリストアしています</td></tr><tr><td scope="row"><code class="literal">RestoreCompleted</code></td><td>7</td><td><code class="literal">INFO</code></td><td>バックアップからのリストアが完了しました</td></tr><tr><td scope="row"><code class="literal">SavedEvent</code></td><td>7</td><td><code class="literal">INFO</code></td><td>イベントが保存されました</td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-log-statistics"></a>18.5.6.3 MySQL Cluster 管理クライアントでの CLUSTERLOG STATISTICS の使用</h4></div></div></div><a class="indexterm" name="idm139979021494080"></a><a class="indexterm" name="idm139979021491920"></a><a class="indexterm" name="idm139979021490464"></a><a class="indexterm" name="idm139979021488432"></a><a class="indexterm" name="idm139979021486400"></a><a class="indexterm" name="idm139979021484304"></a><p>
        <code class="literal">NDB</code> 管理クライアントの <code class="literal">CLUSTERLOG STATISTICS</code> コマンドは、その出力にいくつかの役に立つ統計を表示できます。クラスタの状態に関する情報を提供するカウンタは、トランザクションコーディネータ (TC) およびローカルクエリーハンドラ (LQH) によって 5 秒のレポート間隔で更新され、クラスタログに書き込まれます。
      </p><p><b>トランザクションコーディネータの統計 </b>
          各トランザクションには、1 つのトランザクションコーディネータがあり、それは次の方法のいずれかによって選択されます。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            ラウンドロビン方式で
          </p></li><li class="listitem"><p>
            通信の近さによって
          </p></li><li class="listitem"><p>
            (<span class="emphasis"><em>MySQL Cluster NDB 6.3.4 以降</em></span>:) トランザクションの開始時にデータ配置のヒントを指定することによって
          </p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          <code class="literal">ndb_optimized_node_selection</code> システム変数を使用すると、特定の SQL ノードから起動されたトランザクションに使用される TC の選択方法を判断できます。
        </p></div><p>
        同じトランザクション内の操作ではすべて、同じトランザクションコーディネータが使用され、次のような統計がレポートされます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>Trans count </b>
              これは、この TC をトランザクションコーディネータとして使用して、最後の期間で開始されたトランザクション数です。これらのトランザクションのいずれかは、レポート期間の最後でコミットされた、中止された、または未コミットのままの状態になっている可能性があります。
            </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              トランザクションは TC 間で移行しません。
            </p></div></li><li class="listitem"><p><b>Commit count </b>
              これは、最後のレポート期間でコミットされた、この TC をトランザクションコーディネータとして使用したトランザクション数です。このレポート期間でコミットされた一部のトランザクションは、前のレポート期間で開始された可能性があるため、<code class="literal">Commit count</code> が <code class="literal">Trans count</code> よりも大きくなる可能性もあります。
            </p></li><li class="listitem"><p><b>Read count </b>
              これは、最後のレポート期間で開始された、この TC をトランザクションコーディネータとして使用した主キーの読み取り操作 (単純な読み取りを含む) 数です。このカウントには、一意のインデックス操作の一部として実行される読み取りも含まれます。一意のインデックス読み取り操作では、2 つの主キー読み取り操作 (非表示の一意のインデックステーブルに対して 1 つ、および読み取りが行われるテーブルに対して 1 つ) が発生します。
            </p></li><li class="listitem"><p><b>Simple read count </b>
              これは、最後のレポート期間で開始された、この TC をトランザクションコーディネータとして使用した単純な読み取り操作数です。これは <code class="literal">Read count</code> のサブセットです。<code class="literal">Simple read count</code> の値は <code class="literal">Read count</code> とは異なる時点でインクリメントされるため、<code class="literal">Read count</code> よりもわずかに遅れる可能性があります。そのため、その時間内に行われたすべての読み取りが実際に単純な読み取りであった場合でも、特定のレポート期間で <code class="literal">Simple read count</code> が <code class="literal">Read count</code> と等しくなくなることがあり得ます。
            </p></li><li class="listitem"><p><b>Write count </b>
              これは、最後のレポート期間で開始された、この TC をトランザクションコーディネータとして使用した主キーの書き込み操作数です。これには、一意のインデックス操作の一部として実行される書き込みに加えて、すべての挿入、更新、書き込み、および削除も含まれます。
            </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              一意のインデックスの更新操作では、インデックステーブルおよびベーステーブルで、複数の PK 読み取りおよび書き込み操作が発生する可能性があります。
            </p></div></li><li class="listitem"><p><b>AttrInfoCount </b>
              これは、この TC をトランザクションコーディネータとして使用した主キー操作の最後のレポート期間で受信された 32 ビットのデータ語の数です。読み取りの場合、これはリクエストされたカラムの数に比例します。挿入および更新の場合、これは書き込まれたカラムの数、およびそれらのデータのサイズに比例します。削除操作の場合、これは通常ゼロです。
            </p><p>
            一意のインデックス操作では、複数の PK 操作が発生するため、このカウントが増加します。ただし、ここでは、PK 操作自体を記述するために送信されたデータ語、および送信されたキー情報はカウントされ<span class="emphasis"><em>ません</em></span>。スキャン用に読み取られるカラムを記述するため、または ScanFilters を記述するために送信された属性情報も、<code class="literal">AttrInfoCount</code> ではカウントされません。
          </p></li><li class="listitem"><p><b>Concurrent Operations </b>
              これは、最後のレポート期間中に開始されたが完了しなかった、この TC をトランザクションコーディネータとして使用した主キーまたはスキャン操作数です。このカウンタは、操作が開始されるとインクリメントされ、操作が完了するとデクリメントされます。これは、トランザクションのコミット後に行われます。このカウンタは失敗した操作だけでなく、ダーティー読み取りおよび書き込みでもデクリメントされます。
            </p><p>
            <code class="literal">Concurrent Operations</code> に指定可能な最大値は、TC ブロックでサポートできる操作の最大数です。現在、これは <code class="literal">(2 * MaxNoOfConcurrentOperations) + 16 + MaxNoOfConcurrentTransactions</code> です。(これらの構成パラメータについての詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndbd-definition" title="18.3.2.6 MySQL Cluster データノードの定義">セクション18.3.2.6「MySQL Cluster データノードの定義」</a>の「<em class="citetitle">トランザクションパラメータ</em>」セクションを参照してください。)
          </p></li><li class="listitem"><p><b>Abort count </b>
              これは、最後のレポート期間中に中止された、この TC をトランザクションコーディネータとして使用したトランザクション数です。最後のレポート期間で中止された一部のトランザクションは、前のレポート期間で開始された可能性があるため、<code class="literal">Abort count</code> が <code class="literal">Trans count</code> よりも大きくなる可能性もあります。
            </p></li><li class="listitem"><p><b>Scans </b>
              これは、最後のレポート期間中に開始された、この TC をトランザクションコーディネータとして使用したテーブルスキャン数です。これには、範囲スキャン (つまり、順序付きインデックススキャン) は含まれません。
            </p></li><li class="listitem"><p><b>Range scans </b>
              これは、最後のレポート期間で開始された、この TC をトランザクションコーディネータとして使用した順序付きインデックススキャン数です。
            </p></li></ul></div><p><b>ローカルクエリーハンドラの統計 (操作) </b>
          ローカルクエリーハンドラブロックごとに、1 つのクラスタイベント (つまり、データノードプロセスごとに 1 つずつ) があります。操作は、それらが操作しているデータが存在する LQH に記録されます。
        </p><p>
        

      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          単一のトランザクションが複数の LQH ブロックに格納されたデータを操作する場合もあります。
        </p></div><p>
        <code class="literal">Operations</code> 統計には、最後のレポート期間で、この LQH ブロックによって実行されたローカル操作数が表示され、すべてのタイプの読み取りおよび書き込み操作 (挿入、更新、書き込み、および削除の操作) が含まれます。これには、書き込みをレプリケートするために使用される操作も含まれます。たとえば、2 つのレプリカクラスタでは、プライマリレプリカへの書き込みがプライマリ LQH に記録され、バックアップへの書き込みがバックアップ LQH に記録されます。一意のキー操作では、複数のローカル操作が発生する可能性があります。ただし、これには、テーブルスキャンまたは順序付きインデックススキャンの結果として発生するローカル操作は<span class="emphasis"><em>含まれず</em></span>、カウントもされません。
      </p><p><b>プロセススケジューラの統計 </b>
          <a class="indexterm" name="idm139979021424848"></a>トランザクションコーディネータおよびローカルクエリーハンドラによってレポートされる統計に加えて、各 <span class="command"><strong>ndbd</strong></span> プロセスには、MySQL Cluster のパフォーマンスに関する役に立つメトリクスも提供するスケジューラが含まれています。このスケジューラは、無限ループ時に実行されます。各ループ中に、スケジューラは次のタスクを実行します。
        </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            ソケットからジョブバッファーに受信メッセージを読み込みます。
          </p></li><li class="listitem"><p>
            時間指定のメッセージが実行されたかどうかをチェックします。実行された場合は、これらのメッセージもジョブバッファーに配置します。
          </p></li><li class="listitem"><p>
            ジョブバッファー内のメッセージを (ループ内で) 実行します。
          </p></li><li class="listitem"><p>
            ジョブバッファー内のメッセージを実行することで生成された配信されるメッセージを送信します。
          </p></li><li class="listitem"><p>
            新しい受信メッセージを待機します。
          </p></li></ol></div><p>
        プロセススケジューラの統計には、次の情報が含まれています。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>Mean Loop Counter </b>
              これは、上記のリストの 3 番目のステップで実行されたループの数です。TCP/IP バッファーの使用率が改善されると、この統計のサイズが増加します。これを使用すると、新しいデータノードプロセスを追加したときにパフォーマンスの変化をモニターできます。
            </p></li><li class="listitem"><p><b>Mean send size と Mean receive size </b>
              これらの統計を使用すると、ノード間の書き込みと読み取りのそれぞれの効率性を測定できます。値はバイト単位で指定されます。値が大きいほど、送受信される 1 バイト当たりのコストが小さくなることを意味します。最大値は 64K です。
            </p></li></ul></div><p>
        <code class="literal">NDB</code> 管理クライアントで次のコマンドを使用すると、クラスタログの統計をすべて記録できます。
      </p><pre class="programlisting">
ndb_mgm&gt; <strong class="userinput"><code>ALL CLUSTERLOG STATISTICS=15</code></strong>
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          <code class="literal">STATISTICS</code> のしきい値を 15 に設定すると、クラスタログが非常に詳細になり、MySQL Cluster 内のクラスタノードの数およびアクティビティーの量に正比例して、サイズが急速に増大します。
        </p></div><p>
        ロギングおよびレポートに関する MySQL Cluster 管理クライアントコマンドについての詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-logging-management-commands" title="18.5.6.1 MySQL Cluster のロギング管理コマンド">セクション18.5.6.1「MySQL Cluster のロギング管理コマンド」</a>を参照してください。
      </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-logs-ndb-messages"></a>18.5.7 MySQL Cluster ログメッセージ</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-logs-cluster-log">18.5.7.1 MySQL Cluster: クラスタログ内のメッセージ</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndb-transporter-errors">18.5.7.2 MySQL Cluster: NDB トランスポータのエラー</a></span></dt></dl></div><p>
      このセクションでは、さまざまなクラスタログイベントに対応してクラスタに書き込まれるメッセージに関する情報を提供します。<code class="literal">NDB</code> トランスポータのエラーについて、より具体的な追加情報も提供します。
    </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-logs-cluster-log"></a>18.5.7.1 MySQL Cluster: クラスタログ内のメッセージ</h4></div></div></div><p>
        次の表には、もっとも一般的な <code class="literal">NDB</code> クラスタログメッセージを一覧表示します。クラスタログ、ログイベント、およびイベントタイプについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-event-reports" title="18.5.6 MySQL Cluster で生成されたイベントレポート">セクション18.5.6「MySQL Cluster で生成されたイベントレポート」</a>を参照してください。これらのログメッセージは、MGM API のログイベントタイプにも対応します。Cluster API の開発者が関心を持つような関連情報については、<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/mgm-ndb-logevent-type.html" target="_top">The <code class="literal">Ndb_logevent_type</code> Type</a>を参照してください。
      </p><div class="informaltable"><table summary="この表は、もっとも一般的な NDB クラスタログメッセージを一覧表示します。1 番目のカラムには、ログメッセージおよびログメッセージの説明を示します。2 番目のカラムには、対応するイベント名、イベントタイプ、優先度、および重大度を一覧表示します。" border="1"><colgroup><col><col></colgroup><tbody><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>mgm_node_id</code></em>: Node <em class="replaceable"><code>data_node_id</code></em> Connected</code>
                  </p>

                <p><b>説明 </b>
                    ノード ID <em class="replaceable"><code>node_id</code></em> を持つデータノードが管理サーバー (ノード <em class="replaceable"><code>mgm_node_id</code></em>) に接続しました。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">Connected</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Connection</code>
                  </p>

                <p><b>優先度 </b>
                    8
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>mgm_node_id</code></em>: Node <em class="replaceable"><code>data_node_id</code></em> Disconnected</code>
                  </p>

                <p><b>説明 </b>
                    ノード ID <em class="replaceable"><code>data_node_id</code></em> を持つデータノードが管理サーバー (ノード <em class="replaceable"><code>mgm_node_id</code></em>) から切断しました。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">Disconnected</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Connection</code>
                  </p>

                <p><b>優先度 </b>
                    8
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">ALERT</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>data_node_id</code></em>: Communication to Node <em class="replaceable"><code>api_node_id</code></em> closed</code>
                  </p>

                <p><b>説明 </b>
                    ノード ID <em class="replaceable"><code>api_node_id</code></em> を持つ API ノードまたは SQL ノードがデータノード <em class="replaceable"><code>data_node_id</code></em> と通信しなくなりました。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">CommunicationClosed</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Connection</code>
                  </p>

                <p><b>優先度 </b>
                    8
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>data_node_id</code></em>: Communication to Node <em class="replaceable"><code>api_node_id</code></em> opened</code>
                  </p>

                <p><b>説明 </b>
                    ノード ID <em class="replaceable"><code>api_node_id</code></em> を持つ API ノードまたは SQL ノードがデータノード <em class="replaceable"><code>data_node_id</code></em> と通信しています。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">CommunicationOpened</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Connection</code>
                  </p>

                <p><b>優先度 </b>
                    8
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>mgm_node_id</code></em>: Node <em class="replaceable"><code>api_node_id</code></em>: API <em class="replaceable"><code>version</code></em></code>
                  </p>

                <p><b>説明 </b>
                    ノード ID <em class="replaceable"><code>api_node_id</code></em> を持つ API ノードが <code class="literal">NDB</code> API バージョン <em class="replaceable"><code>version</code></em> (一般に、MySQL バージョン番号と同じ) を使用して、管理ノード <em class="replaceable"><code>mgm_node_id</code></em> に接続しました。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">ConnectedApiVersion</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Connection</code>
                  </p>

                <p><b>優先度 </b>
                    8
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Global checkpoint <em class="replaceable"><code>gci</code></em> started</code>
                  </p>

                <p><b>説明 </b>
                    ID <em class="replaceable"><code>gci</code></em> を持つグローバルチェックポイントが開始されました。ノード <em class="replaceable"><code>node_id</code></em> は、このグローバルチェックポイントを担当するマスターです。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">GlobalCheckpointStarted</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Checkpoint</code>
                  </p>

                <p><b>優先度 </b>
                    9
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Global checkpoint <em class="replaceable"><code>gci</code></em> completed</code>
                  </p>

                <p><b>説明 </b>
                    ID <em class="replaceable"><code>gci</code></em> を持つグローバルチェックポイントが完了しました。ノード <em class="replaceable"><code>node_id</code></em> は、このグローバルチェックポイントを担当したマスターでした。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">GlobalCheckpointCompleted</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Checkpoint</code>
                  </p>

                <p><b>優先度 </b>
                    10
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Local checkpoint <em class="replaceable"><code>lcp</code></em> started. Keep GCI = <em class="replaceable"><code>current_gci</code></em> oldest restorable GCI = <em class="replaceable"><code>old_gci</code></em></code>
                  </p>

                <p><b>説明 </b>
                    シーケンス ID <em class="replaceable"><code>lcp</code></em> を持つローカルチェックポイントがノード <em class="replaceable"><code>node_id</code></em> で開始されました。使用可能な最新の GCI はインデックス <em class="replaceable"><code>current_gci</code></em> を持ち、クラスタをリストアできるもっとも古い GCI はインデックス <em class="replaceable"><code>old_gci</code></em> を持っています。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">LocalCheckpointStarted</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Checkpoint</code>
                  </p>

                <p><b>優先度 </b>
                    7
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Local checkpoint <em class="replaceable"><code>lcp</code></em> completed</code>
                  </p>

                <p><b>説明 </b>
                    ノード <em class="replaceable"><code>node_id</code></em> 上でシーケンス ID <em class="replaceable"><code>lcp</code></em> を持つローカルチェックポイントが完了しました。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">LocalCheckpointCompleted</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Checkpoint</code>
                  </p>

                <p><b>優先度 </b>
                    8
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Local Checkpoint stopped in CALCULATED_KEEP_GCI</code>
                  </p>

                <p><b>説明 </b>
                    このノードは、使用可能な最新の GCI を特定できませんでした。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">LCPStoppedInCalcKeepGci</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Checkpoint</code>
                  </p>

                <p><b>優先度 </b>
                    0
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">ALERT</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Table ID = <em class="replaceable"><code>table_id</code></em>, fragment <em class="replaceable"><code>ID = fragment_id</code></em> has completed LCP on Node <em class="replaceable"><code>node_id</code></em> maxGciStarted: <em class="replaceable"><code>started_gci</code></em> maxGciCompleted: <em class="replaceable"><code>completed_gci</code></em></code>
                  </p>

                <p><b>説明 </b>
                    ノード <em class="replaceable"><code>node_id</code></em> 上のディスクに対して、テーブルフラグメントのチェックポイントが実行されました。進行中の GCI はインデックス <em class="replaceable"><code>started_gci</code></em> を持ち、最近完了した GCI はインデックス <em class="replaceable"><code>completed_gci</code></em> を持っています。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">LCPFragmentCompleted</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Checkpoint</code>
                  </p>

                <p><b>優先度 </b>
                    11
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: ACC Blocked <em class="replaceable"><code>num_1</code></em> and TUP Blocked <em class="replaceable"><code>num_2</code></em> times last second</code>
                  </p>

                <p><b>説明 </b>
                    ログバッファーがオーバーフローしそうなため、Undo ロギングがブロックされています。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">UndoLogBlocked</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Checkpoint</code>
                  </p>

                <p><b>優先度 </b>
                    7
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Start initiated <em class="replaceable"><code>version</code></em></code>
                  </p>

                <p><b>説明 </b>
                    <code class="literal">NDB</code> バージョン <em class="replaceable"><code>version</code></em> を実行しているデータノード <em class="replaceable"><code>node_id</code></em> が起動プロセスを開始しています。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">NDBStartStarted</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">StartUp</code>
                  </p>

                <p><b>優先度 </b>
                    1
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Started <em class="replaceable"><code>version</code></em></code>
                  </p>

                <p><b>説明 </b>
                    <code class="literal">NDB</code> バージョン <em class="replaceable"><code>version</code></em> を実行しているデータノード <em class="replaceable"><code>node_id</code></em> が正常に起動されました。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">NDBStartCompleted</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">StartUp</code>
                  </p>

                <p><b>優先度 </b>
                    1
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: STTORRY received after restart finished</code>
                  </p>

                <p><b>説明 </b>
                    ノードがクラスタの再起動が完了したことを示すシグナルを受信しました。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">STTORRYRecieved</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">StartUp</code>
                  </p>

                <p><b>優先度 </b>
                    15
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Start phase <em class="replaceable"><code>phase</code></em> completed (<em class="replaceable"><code>type</code></em>)</code>
                  </p>

                <p><b>説明 </b>
                    ノードが <em class="replaceable"><code>type</code></em> 起動の起動フェーズ <em class="replaceable"><code>phase</code></em> を完了しました。起動フェーズのリストについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-start-phases" title="18.5.1 MySQL Cluster の起動フェーズのサマリー">セクション18.5.1「MySQL Cluster の起動フェーズのサマリー」</a>を参照してください (<em class="replaceable"><code>type</code></em> は <code class="literal">initial</code>、<code class="literal">system</code>、<code class="literal">node</code>、<code class="literal">initial node</code>、または <code class="literal">&lt;Unknown&gt;</code> のいずれかです)。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">StartPhaseCompleted</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">StartUp</code>
                  </p>

                <p><b>優先度 </b>
                    4
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: CM_REGCONF president = <em class="replaceable"><code>president_id</code></em>, own Node = <em class="replaceable"><code>own_id</code></em>, our dynamic id = <em class="replaceable"><code>dynamic_id</code></em></code>
                  </p>

                <p><b>説明 </b>
                    ノード <em class="replaceable"><code>president_id</code></em> が<span class="quote">「<span class="quote">プレジデント</span>」</span>として選択されました。<em class="replaceable"><code>own_id</code></em> および <em class="replaceable"><code>dynamic_id</code></em> は、常にレポートノードの ID (<em class="replaceable"><code>node_id</code></em>) と同じであるべきです。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">CM_REGCONF</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">StartUp</code>
                  </p>

                <p><b>優先度 </b>
                    3
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: CM_REGREF from Node <em class="replaceable"><code>president_id</code></em> to our Node <em class="replaceable"><code>node_id</code></em>. Cause = <em class="replaceable"><code>cause</code></em></code>
                  </p>

                <p><b>説明 </b>
                    レポートノード (ID <em class="replaceable"><code>node_id</code></em>) がプレジデントとしてノード <em class="replaceable"><code>president_id</code></em> を受け入れることができませんでした。問題の <em class="replaceable"><code>cause</code></em> は、<code class="literal">Busy</code>、<code class="literal">Election with wait = false</code>、<code class="literal">Not president</code>、<code class="literal">Election without selecting new candidate</code>、または <code class="literal">No such cause</code> のいずれかとして指定されます。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">CM_REGREF</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">StartUp</code>
                  </p>

                <p><b>優先度 </b>
                    8
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: We are Node <em class="replaceable"><code>own_id</code></em> with dynamic ID <em class="replaceable"><code>dynamic_id</code></em>, our left neighbor is Node <em class="replaceable"><code>id_1</code></em>, our right is Node <em class="replaceable"><code>id_2</code></em></code>
                  </p>

                <p><b>説明 </b>
                    ノードがクラスタ内の隣接するノード (ノード <em class="replaceable"><code>id_1</code></em> とノード <em class="replaceable"><code>id_2</code></em>) を検出しました。<em class="replaceable"><code>node_id</code></em>、<em class="replaceable"><code>own_id</code></em>、および <em class="replaceable"><code>dynamic_id</code></em> は、常に同じであるべきです。そうでない場合は、クラスタノード構成の重大な誤りを示しています。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">FIND_NEIGHBOURS</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">StartUp</code>
                  </p>

                <p><b>優先度 </b>
                    8
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: <em class="replaceable"><code>type</code></em> shutdown initiated</code>
                  </p>

                <p><b>説明 </b>
                    ノードがシャットダウンシグナルを受信しました。シャットダウンの <em class="replaceable"><code>type</code></em> は <code class="literal">Cluster</code> または <code class="literal">Node</code> です。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">NDBStopStarted</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">StartUp</code>
                  </p>

                <p><b>優先度 </b>
                    1
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Node shutdown completed </code>[<code class="literal">, <em class="replaceable"><code>action</code></em></code>] [<code class="literal">Initiated by signal <em class="replaceable"><code>signal</code></em>.</code>]
                  </p>

                <p><b>説明 </b>
                    ノードがシャットダウンされました。このレポートには、<em class="replaceable"><code>action</code></em> が含まれる場合があります。これが存在する場合は、<code class="literal">restarting</code>、<code class="literal">no start</code>、または <code class="literal">initial</code> のいずれかです。また、レポートには <code class="literal">NDB</code> プロトコル <em class="replaceable"><code>signal</code></em> への参照が含まれる場合もあります。可能性のあるシグナルについては、<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-ndb-protocol-operations-signals.html" target="_top">Operations and Signals</a>を参照してください。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">NDBStopCompleted</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">StartUp</code>
                  </p>

                <p><b>優先度 </b>
                    1
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Forced node shutdown completed </code>[<code class="literal">, action</code>]<code class="literal">.</code> [<code class="literal">Occured during startphase <em class="replaceable"><code>start_phase</code></em>.</code>] [<code class="literal"> Initiated by <em class="replaceable"><code>signal</code></em>.</code>] [<code class="literal">Caused by error <em class="replaceable"><code>error_code</code></em>: '<em class="replaceable"><code>error_message</code></em>(<em class="replaceable"><code>error_classification</code></em>). <em class="replaceable"><code>error_status</code></em>'.</code> [<code class="literal">(extra info <em class="replaceable"><code>extra_code</code></em>)</code>]]
                  </p>

                <p><b>説明 </b>
                    ノードが強制的にシャットダウンされました。あとで実行された <em class="replaceable"><code>action</code></em> (<code class="literal">restarting</code>、<code class="literal">no start</code>、または <code class="literal">initial</code> のいずれか) があれば、それもレポートされます。ノードの起動時にシャットダウンが発生した場合、レポートに、ノードの障害が発生した <em class="replaceable"><code>start_phase</code></em> が含まれます。これが、ノードに <em class="replaceable"><code>signal</code></em> が送信された結果であった場合は、その情報も提供されます (詳細は、<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-ndb-protocol-operations-signals.html" target="_top">Operations and Signals</a>を参照してください)。障害の原因が既知のエラーである場合は、それも含まれます。<code class="literal">NDB</code> のエラーメッセージおよび分類についての詳細は、<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-errors.html" target="_top">MySQL Cluster API Errors</a>を参照してください。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">NDBStopForced</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">StartUp</code>
                  </p>

                <p><b>優先度 </b>
                    1
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">ALERT</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Node shutdown aborted</code>
                  </p>

                <p><b>説明 </b>
                    ノードのシャットダウンプロセスがユーザーによって中止されました。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">NDBStopAborted</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">StartUp</code>
                  </p>

                <p><b>優先度 </b>
                    1
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: StartLog: [GCI Keep: <em class="replaceable"><code>keep_pos</code></em> LastCompleted: <em class="replaceable"><code>last_pos</code></em> NewestRestorable: <em class="replaceable"><code>restore_pos</code></em>]</code>
                  </p>

                <p><b>説明 </b>
                    これは、ノード起動時に参照されるグローバルチェックポイントをレポートします。<em class="replaceable"><code>keep_pos</code></em> よりも前の Redo ログは削除されます。<em class="replaceable"><code>last_pos</code></em> は、データノードが最後に関与したグローバルチェックポイントです。<em class="replaceable"><code>restore_pos</code></em> は、すべてのデータノードをリストアするために実際に使用されるグローバルチェックポイントです。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">StartREDOLog</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">StartUp</code>
                  </p>

                <p><b>優先度 </b>
                    4
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <em class="replaceable"><code>startup_message</code></em> [<span class="emphasis"><em>Listed separately; see below.</em></span>]
                  </p>

                <p><b>説明 </b>
                    さまざまな環境下でログに記録される可能性のある多くの起動メッセージがあります。

                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">StartReport</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">StartUp</code>
                  </p>

                <p><b>優先度 </b>
                    4
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Node restart completed copy of dictionary information</code>
                  </p>

                <p><b>説明 </b>
                    再起動されたノードへのデータディクショナリ情報のコピーが完了しました。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">NR_CopyDict</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">NodeRestart</code>
                  </p>

                <p><b>優先度 </b>
                    8
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Node restart completed copy of distribution information</code>
                  </p>

                <p><b>説明 </b>
                    再起動されたノードへのデータ配布情報のコピーが完了しました。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">NR_CopyDistr</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">NodeRestart</code>
                  </p>

                <p><b>優先度 </b>
                    8
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Node restart starting to copy the fragments to Node <em class="replaceable"><code>node_id</code></em></code>
                  </p>

                <p><b>説明 </b>
                    起動データノード <em class="replaceable"><code>node_id</code></em> へのフラグメントのコピーが開始されました。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">NR_CopyFragsStarted</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">NodeRestart</code>
                  </p>

                <p><b>優先度 </b>
                    8
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Table ID = <em class="replaceable"><code>table_id</code></em>, fragment ID = <em class="replaceable"><code>fragment_id</code></em> have been copied to Node <em class="replaceable"><code>node_id</code></em></code>
                  </p>

                <p><b>説明 </b>
                    テーブル <em class="replaceable"><code>table_id</code></em> からのフラグメント <em class="replaceable"><code>fragment_id</code></em> がデータノード <em class="replaceable"><code>node_id</code></em> にコピーされました。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">NR_CopyFragDone</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">NodeRestart</code>
                  </p>

                <p><b>優先度 </b>
                    10
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Node restart completed copying the fragments to Node <em class="replaceable"><code>node_id</code></em></code>
                  </p>

                <p><b>説明 </b>
                    再起動データノード <em class="replaceable"><code>node_id</code></em> へのすべてのテーブルフラグメントのコピーが完了しました。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">NR_CopyFragsCompleted</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">NodeRestart</code>
                  </p>

                <p><b>優先度 </b>
                    8
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    次のいずれか:
                  </p>

                <div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
                      <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Node <em class="replaceable"><code>node1_id</code></em> completed failure of Node <em class="replaceable"><code>node2_id</code></em></code>
                    </p></li><li class="listitem"><p>
                      <code class="literal">All nodes completed failure of Node <em class="replaceable"><code>node_id</code></em></code>
                    </p></li><li class="listitem"><p>
                      <code class="literal">Node failure of <em class="replaceable"><code>node_id</code></em><em class="replaceable"><code>block</code></em> completed</code>
                    </p></li></ol></div>

                <p><b>説明 </b>
                    次のいずれか (上記の同じ番号のメッセージにそれぞれ対応します):
                  </p>

                <div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
                      データノード <em class="replaceable"><code>node1_id</code></em> がデータノード <em class="replaceable"><code>node2_id</code></em> の障害を検出しました。
                    </p></li><li class="listitem"><p>
                      すべての (残りの) データノードがデータノード <em class="replaceable"><code>node_id</code></em> の障害を検出しました。
                    </p></li><li class="listitem"><p>
                      データノード <em class="replaceable"><code>node_id</code></em> の障害が <em class="replaceable"><code>block</code></em><code class="literal">NDB</code> カーネルブロックで検出されました。ここで、ブロックは <code class="literal">DBTC</code>、<code class="literal">DBDICT</code>、<code class="literal">DBDIH</code>、または <code class="literal">DBLQH</code> のいずれかです。詳細は、<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-kernel-blocks.html" target="_top">NDB Kernel Blocks</a>を参照してください。
                    </p></li></ol></div></td><td><p><b>イベント名 </b>
                    <code class="literal">NodeFailCompleted</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">NodeRestart</code>
                  </p>

                <p><b>優先度 </b>
                    8
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">ALERT</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>mgm_node_id</code></em>: Node <em class="replaceable"><code>data_node_id</code></em> has failed. The Node state at failure was <em class="replaceable"><code>state_code</code></em></code>
                  </p>

                <p><b>説明 </b>
                    データノードで障害が発生しました。障害発生時の状態は、アービトレーション状態コード <em class="replaceable"><code>state_code</code></em> で記述されます。可能性のある状態コードの値は、<code class="filename">include/kernel/signaldata/ArbitSignalData.hpp</code> ファイルで見つかります。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">NODE_FAILREP</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">NodeRestart</code>
                  </p>

                <p><b>優先度 </b>
                    8
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">ALERT</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">President restarts arbitration thread [state=<em class="replaceable"><code>state_code</code></em>]</code> または <code class="literal">Prepare arbitrator node <em class="replaceable"><code>node_id</code></em> [ticket=<em class="replaceable"><code>ticket_id</code></em>]</code> または <code class="literal">Receive arbitrator node <em class="replaceable"><code>node_id</code></em> [ticket=<em class="replaceable"><code>ticket_id</code></em>]</code> または <code class="literal">Started arbitrator node <em class="replaceable"><code>node_id</code></em> [ticket=<em class="replaceable"><code>ticket_id</code></em>]</code> または <code class="literal">Lost arbitrator node <em class="replaceable"><code>node_id</code></em> - process failure [state=<em class="replaceable"><code>state_code</code></em>]</code> または <code class="literal">Lost arbitrator node <em class="replaceable"><code>node_id</code></em> - process exit [state=<em class="replaceable"><code>state_code</code></em>]</code> または <code class="literal">Lost arbitrator node <em class="replaceable"><code>node_id</code></em> - <em class="replaceable"><code>error_message</code></em> [state=<em class="replaceable"><code>state_code</code></em>]</code>
                  </p>

                <p><b>説明 </b>
                    これは、クラスタ内のアービトレーションの現在の状態および進行状況に関するレポートです。<em class="replaceable"><code>node_id</code></em> は、アービトレータとして選択された管理ノードまたは SQL ノードのノード ID です。<em class="replaceable"><code>state_code</code></em> は、<code class="filename">include/kernel/signaldata/ArbitSignalData.hpp</code> で見つかるアービトレーション状態コードです。エラーが発生すると、<code class="filename">ArbitSignalData.hpp</code> でも定義されている <em class="replaceable"><code>error_message</code></em> が表示されます。<em class="replaceable"><code>ticket_id</code></em> は、アービトレータが選択された時にそれによって、その選択に参加したすべてのノードに渡された一意の識別子です。これは、アービトレーションをリクエストする各ノードが選択プロセスに参加したノードのいずれかであることを確認するために使用されます。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">ArbitState</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">NodeRestart</code>
                  </p>

                <p><b>優先度 </b>
                    6
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Arbitration check lost - less than 1/2 nodes left</code> または <code class="literal">Arbitration check won - all node groups and more than 1/2 nodes left</code> または <code class="literal">Arbitration check won - node group majority</code> または <code class="literal">Arbitration check lost - missing node group</code> または <code class="literal">Network partitioning - arbitration required</code> または <code class="literal">Arbitration won - positive reply from node <em class="replaceable"><code>node_id</code></em></code> または <code class="literal">Arbitration lost - negative reply from node <em class="replaceable"><code>node_id</code></em></code> または <code class="literal">Network partitioning - no arbitrator available</code> または <code class="literal">Network partitioning - no arbitrator configured</code> または <code class="literal">Arbitration failure - <em class="replaceable"><code>error_message</code></em> [state=<em class="replaceable"><code>state_code</code></em>]</code>
                  </p>

                <p><b>説明 </b>
                    このメッセージは、アービトレーションの結果についてレポートします。アービトレーションに失敗した場合、<em class="replaceable"><code>error_message</code></em> およびアービトレーション <em class="replaceable"><code>state_code</code></em> が表示されます。これらの両方の定義は、<code class="filename">include/kernel/signaldata/ArbitSignalData.hpp</code> で見つかります。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">ArbitResult</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">NodeRestart</code>
                  </p>

                <p><b>優先度 </b>
                    2
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">ALERT</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: GCP Take over started</code>
                  </p>

                <p><b>説明 </b>
                    このノードは、次のグローバルチェックポイントに対する責任を負おうとしています (つまり、マスターノードになります)。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">GCP_TakeoverStarted</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">NodeRestart</code>
                  </p>

                <p><b>優先度 </b>
                    7
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: GCP Take over completed</code>
                  </p>

                <p><b>説明 </b>
                    このノードはマスターになり、次のグローバルチェックポイントに対する責任を負いました。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">GCP_TakeoverCompleted</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">NodeRestart</code>
                  </p>

                <p><b>優先度 </b>
                    7
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: LCP Take over started</code>
                  </p>

                <p><b>説明 </b>
                    このノードは、次のグローバルチェックポイントセットに対する責任を負おうとしています (つまり、マスターノードになります)。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">LCP_TakeoverStarted</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">NodeRestart</code>
                  </p>

                <p><b>優先度 </b>
                    7
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: LCP Take over completed</code>
                  </p>

                <p><b>説明 </b>
                    このノードはマスターになり、次のグローバルチェックポイントセットに対する責任を負いました。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">LCP_TakeoverCompleted</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">NodeRestart</code>
                  </p>

                <p><b>優先度 </b>
                    7
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Trans. Count = <em class="replaceable"><code>transactions</code></em>, Commit Count = <em class="replaceable"><code>commits</code></em>, Read Count = <em class="replaceable"><code>reads</code></em>, Simple Read Count = <em class="replaceable"><code>simple_reads</code></em>, Write Count = <em class="replaceable"><code>writes</code></em>, AttrInfo Count = <em class="replaceable"><code>AttrInfo_objects</code></em>, Concurrent Operations = <em class="replaceable"><code>concurrent_operations</code></em>, Abort Count = <em class="replaceable"><code>aborts</code></em>, Scans = <em class="replaceable"><code>scans</code></em>, Range scans = <em class="replaceable"><code>range_scans</code></em></code>
                  </p>

                <p><b>説明 </b>
                    このトランザクションアクティビティーのレポートは、約 10 秒に 1 回表示されます
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">TransReportCounters</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Statistic</code>
                  </p>

                <p><b>優先度 </b>
                    8
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Operations=<em class="replaceable"><code>operations</code></em></code>
                  </p>

                <p><b>説明 </b>
                    このノードで実行された操作数です (約 10 秒に 1 回表示されます)
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">OperationReportCounters</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Statistic</code>
                  </p>

                <p><b>優先度 </b>
                    8
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Table with ID = <em class="replaceable"><code>table_id</code></em> created</code>
                  </p>

                <p><b>説明 </b>
                    示されたテーブル ID を持つテーブルが作成されました
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">TableCreated</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Statistic</code>
                  </p>

                <p><b>優先度 </b>
                    7
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Mean loop Counter in doJob last 8192 times = <em class="replaceable"><code>count</code></em></code>
                  </p>

                <p><b>説明 </b></p></td><td><p><b>イベント名 </b>
                    <code class="literal">JobStatistic</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Statistic</code>
                  </p>

                <p><b>優先度 </b>
                    9
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Mean send size to Node = <em class="replaceable"><code>node_id</code></em> last 4096 sends = <em class="replaceable"><code>bytes</code></em> bytes</code>
                  </p>

                <p><b>説明 </b>
                    このノードはノード <em class="replaceable"><code>node_id</code></em> への送信あたり、平均で <em class="replaceable"><code>bytes</code></em> バイト送信しています
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">SendBytesStatistic</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Statistic</code>
                  </p>

                <p><b>優先度 </b>
                    9
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Mean receive size to Node = <em class="replaceable"><code>node_id</code></em> last 4096 sends = <em class="replaceable"><code>bytes</code></em> bytes</code>
                  </p>

                <p><b>説明 </b>
                    このノードはノード <em class="replaceable"><code>node_id</code></em> からデータを受信するたびに、平均で <em class="replaceable"><code>bytes</code></em> バイトのデータを受信しています
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">ReceiveBytesStatistic</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Statistic</code>
                  </p>

                <p><b>優先度 </b>
                    9
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Data usage is <em class="replaceable"><code>data_memory_percentage</code></em>% (<em class="replaceable"><code>data_pages_used</code></em> 32K pages of total <em class="replaceable"><code>data_pages_total</code></em>)</code> / <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Index usage is <em class="replaceable"><code>index_memory_percentage</code></em>% (<em class="replaceable"><code>index_pages_used</code></em> 8K pages of total <em class="replaceable"><code>index_pages_total</code></em>) </code>
                  </p>

                <p><b>説明 </b>
                    このレポートは、クラスタ管理クライアントで <code class="literal">DUMP 1000</code> コマンドが発行されると生成されます。詳細は、<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals.html" target="_top">MySQL Cluster Internals</a>の<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-dump-command-1000.html" target="_top">DUMP 1000</a>を参照してください
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">MemoryUsage</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Statistic</code>
                  </p>

                <p><b>優先度 </b>
                    5
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node1_id</code></em>: Transporter to node <em class="replaceable"><code>node2_id</code></em> reported error <em class="replaceable"><code>error_code</code></em>: <em class="replaceable"><code>error_message</code></em></code>
                  </p>

                <p><b>説明 </b>
                    ノード <em class="replaceable"><code>node2_id</code></em> との通信中に、トランスポータのエラーが発生しました。トランスポータのエラーコードおよびメッセージのリストについては、<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals.html" target="_top">MySQL Cluster Internals</a>の<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-transporter-errors.html" target="_top"><code class="literal">NDB</code> Transporter Errors</a>を参照してください。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">TransporterError</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Error</code>
                  </p>

                <p><b>優先度 </b>
                    2
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">ERROR</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node1_id</code></em>: Transporter to node <em class="replaceable"><code>node2_id</code></em> reported error <em class="replaceable"><code>error_code</code></em>: <em class="replaceable"><code>error_message</code></em></code>
                  </p>

                <p><b>説明 </b>
                    ノード <em class="replaceable"><code>node2_id</code></em> との通信中の潜在的なトランスポータ問題の警告。トランスポータのエラーコードおよびメッセージのリストについて詳しくは、<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-transporter-errors.html" target="_top"><code class="literal">NDB</code> Transporter Errors</a>を参照してください。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">TransporterWarning</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Error</code>
                  </p>

                <p><b>優先度 </b>
                    8
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">WARNING</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node1_id</code></em>: Node <em class="replaceable"><code>node2_id</code></em> missed heartbeat <em class="replaceable"><code>heartbeat_id</code></em></code>
                  </p>

                <p><b>説明 </b>
                    このノードはノード <em class="replaceable"><code>node2_id</code></em> からのハートビートを受信できませんでした
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">MissedHeartbeat</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Error</code>
                  </p>

                <p><b>優先度 </b>
                    8
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">WARNING</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node1_id</code></em>: Node <em class="replaceable"><code>node2_id</code></em> declared dead due to missed heartbeat</code>
                  </p>

                <p><b>説明 </b>
                    このノードは、ノード <em class="replaceable"><code>node2_id</code></em> からの少なくとも 3 つのハートビートを受信できなかったため、そのノードの<span class="quote">「<span class="quote">停止</span>」</span>を宣言しました
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">DeadDueToHeartbeat</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Error</code>
                  </p>

                <p><b>優先度 </b>
                    8
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">ALERT</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node1_id</code></em>: Node Sent Heartbeat to node = <em class="replaceable"><code>node2_id</code></em></code>
                  </p>

                <p><b>説明 </b>
                    このノードはノード <em class="replaceable"><code>node2_id</code></em> にハートビートを送信しました
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">SentHeartbeat</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Info</code>
                  </p>

                <p><b>優先度 </b>
                    12
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Event buffer status: used=<em class="replaceable"><code>bytes_used</code></em> (<em class="replaceable"><code>percent_used</code></em>%) alloc=<em class="replaceable"><code>bytes_allocated</code></em> (<em class="replaceable"><code>percent_available</code></em>%) max=<em class="replaceable"><code>bytes_available</code></em> apply_gci=<em class="replaceable"><code>latest_restorable_GCI</code></em> latest_gci=<em class="replaceable"><code>latest_GCI</code></em></code>
                  </p>

                <p><b>説明 </b>
                    このレポートは、比較的短期間に多くの更新が適用されるときなど、イベントバッファーの使用率が高いときに表示されます。レポートには、使用済みのイベントバッファーメモリーのバイト数と割合、割り当てられているバイト数とまだ使用可能な割合、および最新とリストア可能な最新のグローバルチェックポイントが表示されます。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">EventBufferStatus</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Info</code>
                  </p>

                <p><b>優先度 </b>
                    7
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Entering single user mode</code>, <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Entered single user mode Node <em class="replaceable"><code>API_node_id</code></em> has exclusive access</code>, <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Entering single user mode</code>
                  </p>

                <p><b>説明 </b>
                    これらのレポートは、シングルユーザーモードの開始時および終了時にクラスタログに書き込まれます。<em class="replaceable"><code>API_node_id</code></em> は、クラスタへの排他アクセス権を持っている API または SQL のノード ID です (詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-single-user-mode" title="18.5.8 MySQL Cluster のシングルユーザーモード">セクション18.5.8「MySQL Cluster のシングルユーザーモード」</a>を参照してください)。<code class="literal">「Unknown single user report <em class="replaceable"><code>API_node_id</code></em>」</code>というメッセージは、エラーが発生したことを示し、通常の操作では表示されません。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">SingleUser</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Info</code>
                  </p>

                <p><b>優先度 </b>
                    7
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Backup <em class="replaceable"><code>backup_id</code></em> started from node <em class="replaceable"><code>mgm_node_id</code></em></code>
                  </p>

                <p><b>説明 </b>
                    <em class="replaceable"><code>mgm_node_id</code></em> を持つ管理ノードを使用して、バックアップが開始されました。このメッセージは、<code class="literal">START BACKUP</code> コマンドの発行時にクラスタ管理クライアントにも表示されます。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-backup-using-management-client" title="18.5.3.2 MySQL Cluster 管理クライアントを使用したバックアップの作成">セクション18.5.3.2「MySQL Cluster 管理クライアントを使用したバックアップの作成」</a>を参照してください。
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">BackupStarted</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Backup</code>
                  </p>

                <p><b>優先度 </b>
                    7
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Backup <em class="replaceable"><code>backup_id</code></em> started from node <em class="replaceable"><code>mgm_node_id</code></em> completed. StartGCP: <em class="replaceable"><code>start_gcp</code></em> StopGCP: <em class="replaceable"><code>stop_gcp</code></em> #Records: <em class="replaceable"><code>records</code></em> #LogRecords: <em class="replaceable"><code>log_records</code></em> Data: <em class="replaceable"><code>data_bytes</code></em> bytes Log: <em class="replaceable"><code>log_bytes</code></em> bytes</code>
                  </p>

                <p><b>説明 </b>
                    ID <em class="replaceable"><code>backup_id</code></em> を持つバックアップが完了しました。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-backup-using-management-client" title="18.5.3.2 MySQL Cluster 管理クライアントを使用したバックアップの作成">セクション18.5.3.2「MySQL Cluster 管理クライアントを使用したバックアップの作成」</a>を参照してください
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">BackupCompleted</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Backup</code>
                  </p>

                <p><b>優先度 </b>
                    7
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Backup request from <em class="replaceable"><code>mgm_node_id</code></em> failed to start. Error: <em class="replaceable"><code>error_code</code></em></code>
                  </p>

                <p><b>説明 </b>
                    バックアップの開始に失敗しました。エラーコードについては、<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/mgm-errors.html" target="_top">MGM<code class="literal"></code> API Errors</a>を参照してください
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">BackupFailedToStart</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Backup</code>
                  </p>

                <p><b>優先度 </b>
                    7
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">ALERT</code>
                  </p></td></tr><tr><td scope="row"><p><b>ログメッセージ </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: Backup <em class="replaceable"><code>backup_id</code></em> started from <em class="replaceable"><code>mgm_node_id</code></em> has been aborted. Error: <em class="replaceable"><code>error_code</code></em></code>
                  </p>

                <p><b>説明 </b>
                    バックアップが開始後に終了しました。ユーザーの介入に原因がある可能性があります
                  </p></td><td><p><b>イベント名 </b>
                    <code class="literal">BackupAborted</code>
                  </p>

                <p><b>イベントタイプ </b>
                    <code class="literal">Backup</code>
                  </p>

                <p><b>優先度 </b>
                    7
                  </p>

                <p><b>重大度 </b>
                    <code class="literal">ALERT</code>
                  </p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-ndb-transporter-errors"></a>18.5.7.2 MySQL Cluster: NDB トランスポータのエラー</h4></div></div></div><p>
        このセクションでは、トランスポータエラーの発生時にクラスタログに書き込まれるエラーのコード、名前、およびメッセージを一覧表示します。
      </p><div class="informaltable"><table summary="この表には、トランスポータエラーの発生時にクラスタログに書き込まれるエラーの名前およびエラーのテキストとともに、エラーコードを一覧表示します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">エラーコード</th><th scope="col">エラー名</th><th scope="col">エラーテキスト</th></tr></thead><tbody><tr><td scope="row"><span class="errorcode">0x00</span></td><td><span class="errorname">TE_NO_ERROR</span></td><td><span class="errortext">No error</span></td></tr><tr><td scope="row"><span class="errorcode">0x01</span></td><td><span class="errorname">TE_ERROR_CLOSING_SOCKET</span></td><td><span class="errortext">Error found during closing of socket</span></td></tr><tr><td scope="row"><span class="errorcode">0x02</span></td><td><span class="errorname">TE_ERROR_IN_SELECT_BEFORE_ACCEPT</span></td><td><span class="errortext">Error found before accept.The transporter will retry</span></td></tr><tr><td scope="row"><span class="errorcode">0x03</span></td><td><span class="errorname">TE_INVALID_MESSAGE_LENGTH</span></td><td><span class="errortext">Error found in message (invalid message length)</span></td></tr><tr><td scope="row"><span class="errorcode">0x04</span></td><td><span class="errorname">TE_INVALID_CHECKSUM</span></td><td><span class="errortext">Error found in message (checksum)</span></td></tr><tr><td scope="row"><span class="errorcode">0x05</span></td><td><span class="errorname">TE_COULD_NOT_CREATE_SOCKET</span></td><td><span class="errortext">Error found while creating socket(can't create socket)</span></td></tr><tr><td scope="row"><span class="errorcode">0x06</span></td><td><span class="errorname">TE_COULD_NOT_BIND_SOCKET</span></td><td><span class="errortext">Error found while binding server socket</span></td></tr><tr><td scope="row"><span class="errorcode">0x07</span></td><td><span class="errorname">TE_LISTEN_FAILED</span></td><td><span class="errortext">Error found while listening to server socket</span></td></tr><tr><td scope="row"><span class="errorcode">0x08</span></td><td><span class="errorname">TE_ACCEPT_RETURN_ERROR</span></td><td><span class="errortext">Error found during accept(accept return error)</span></td></tr><tr><td scope="row"><span class="errorcode">0x0b</span></td><td><span class="errorname">TE_SHM_DISCONNECT</span></td><td><span class="errortext">The remote node has disconnected</span></td></tr><tr><td scope="row"><span class="errorcode">0x0c</span></td><td><span class="errorname">TE_SHM_IPC_STAT</span></td><td><span class="errortext">Unable to check shm segment</span></td></tr><tr><td scope="row"><span class="errorcode">0x0d</span></td><td><span class="errorname">TE_SHM_UNABLE_TO_CREATE_SEGMENT</span></td><td><span class="errortext">Unable to create shm segment</span></td></tr><tr><td scope="row"><span class="errorcode">0x0e</span></td><td><span class="errorname">TE_SHM_UNABLE_TO_ATTACH_SEGMENT</span></td><td><span class="errortext">Unable to attach shm segment</span></td></tr><tr><td scope="row"><span class="errorcode">0x0f</span></td><td><span class="errorname">TE_SHM_UNABLE_TO_REMOVE_SEGMENT</span></td><td><span class="errortext">Unable to remove shm segment</span></td></tr><tr><td scope="row"><span class="errorcode">0x10</span></td><td><span class="errorname">TE_TOO_SMALL_SIGID</span></td><td><span class="errortext">Sig ID too small</span></td></tr><tr><td scope="row"><span class="errorcode">0x11</span></td><td><span class="errorname">TE_TOO_LARGE_SIGID</span></td><td><span class="errortext">Sig ID too large</span></td></tr><tr><td scope="row"><span class="errorcode">0x12</span></td><td><span class="errorname">TE_WAIT_STACK_FULL</span></td><td><span class="errortext">Wait stack was full</span></td></tr><tr><td scope="row"><span class="errorcode">0x13</span></td><td><span class="errorname">TE_RECEIVE_BUFFER_FULL</span></td><td><span class="errortext">Receive buffer was full</span></td></tr><tr><td scope="row"><span class="errorcode">0x14</span></td><td><span class="errorname">TE_SIGNAL_LOST_SEND_BUFFER_FULL</span></td><td><span class="errortext">Send buffer was full,and trying to force send fails</span></td></tr><tr><td scope="row"><span class="errorcode">0x15</span></td><td><span class="errorname">TE_SIGNAL_LOST</span></td><td><span class="errortext">Send failed for unknown reason(signal lost)</span></td></tr><tr><td scope="row"><span class="errorcode">0x16</span></td><td><span class="errorname">TE_SEND_BUFFER_FULL</span></td><td><span class="errortext">The send buffer was full, but sleeping for a while solved</span></td></tr><tr><td scope="row"><span class="errorcode">0x0017</span></td><td><span class="errorname">TE_SCI_LINK_ERROR</span></td><td><span class="errortext">There is no link from this node to the switch</span></td></tr><tr><td scope="row"><span class="errorcode">0x18</span></td><td><span class="errorname">TE_SCI_UNABLE_TO_START_SEQUENCE</span></td><td><span class="errortext">Could not start a sequence, because system resources are exumed or no sequence has been created</span></td></tr><tr><td scope="row"><span class="errorcode">0x19</span></td><td><span class="errorname">TE_SCI_UNABLE_TO_REMOVE_SEQUENCE</span></td><td><span class="errortext">Could not remove a sequence</span></td></tr><tr><td scope="row"><span class="errorcode">0x1a</span></td><td><span class="errorname">TE_SCI_UNABLE_TO_CREATE_SEQUENCE</span></td><td><span class="errortext">Could not create a sequence, because system resources are exempted.Must reboot</span></td></tr><tr><td scope="row"><span class="errorcode">0x1b</span></td><td><span class="errorname">TE_SCI_UNRECOVERABLE_DATA_TFX_ERROR</span></td><td><span class="errortext">Tried to send data on redundant link but failed</span></td></tr><tr><td scope="row"><span class="errorcode">0x1c</span></td><td><span class="errorname">TE_SCI_CANNOT_INIT_LOCALSEGMENT</span></td><td><span class="errortext">Cannot initialize local segment</span></td></tr><tr><td scope="row"><span class="errorcode">0x1d</span></td><td><span class="errorname">TE_SCI_CANNOT_MAP_REMOTESEGMENT</span></td><td><span class="errortext">Cannot map remote segment</span></td></tr><tr><td scope="row"><span class="errorcode">0x1e</span></td><td><span class="errorname">TE_SCI_UNABLE_TO_UNMAP_SEGMENT</span></td><td><span class="errortext">Cannot free the resources used by this segment (step 1)</span></td></tr><tr><td scope="row"><span class="errorcode">0x1f</span></td><td><span class="errorname">TE_SCI_UNABLE_TO_REMOVE_SEGMENT</span></td><td><span class="errortext">Cannot free the resources used by this segment (step 2)</span></td></tr><tr><td scope="row"><span class="errorcode">0x20</span></td><td><span class="errorname">TE_SCI_UNABLE_TO_DISCONNECT_SEGMENT</span></td><td><span class="errortext">Cannot disconnect from a remote segment</span></td></tr><tr><td scope="row"><span class="errorcode">0x21</span></td><td><span class="errorname">TE_SHM_IPC_PERMANENT</span></td><td><span class="errortext">Shm ipc Permanent error</span></td></tr><tr><td scope="row"><span class="errorcode">0x22</span></td><td><span class="errorname">TE_SCI_UNABLE_TO_CLOSE_CHANNEL</span></td><td><span class="errortext">Unable to close the sci channel and the resources allocated</span></td></tr></tbody></table></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-single-user-mode"></a>18.5.8 MySQL Cluster のシングルユーザーモード</h3></div></div></div><a class="indexterm" name="idm139979020506736"></a><a class="indexterm" name="idm139979020504608"></a><p>
      <em class="firstterm">シングルユーザーモード</em>により、データベース管理者はデータベースシステムへのアクセスを、MySQL サーバー (SQL ノード) や <span class="command"><strong>ndb_restore</strong></span> のインスタンスなど単一の API ノードに制限できます。シングルユーザーモードに入ると、その他のすべての API ノードへの接続が正常に閉じられ、実行中のトランザクションがすべて中止されます。新しいトランザクションの開始は許可されません。
    </p><p>
      クラスタがシングルユーザーモードに入ると、指定された API ノードにのみデータベースへのアクセス権が付与されます。
    </p><p>
      <span class="command"><strong>ndb_mgm</strong></span> クライアントで <span class="command"><strong>ALL STATUS</strong></span> コマンドを使用すると、クラスタがシングルユーザーモードに入ったタイミングを確認できます。また、<code class="literal">ndbinfo.nodes</code> テーブルの <code class="literal">status</code> カラムをチェックすることもできます (詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndbinfo-nodes" title="18.5.10.18 ndbinfo nodes テーブル">セクション18.5.10.18「ndbinfo nodes テーブル」</a>を参照してください)。
    </p><p>
      例:
    </p><pre class="programlisting">
ndb_mgm&gt; <strong class="userinput"><code>ENTER SINGLE USER MODE 5</code></strong>
</pre><p>
      このコマンドが実行され、クラスタがシングルユーザーモードに入ると、ノード ID が <code class="literal">5</code> の API ノードがクラスタで許可された唯一のユーザーになります。
    </p><p>
      前述のコマンドで指定されたノードは API ノードである必要があるため、その他のノードタイプを指定しようとしても拒否されます。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        前述のコマンドが呼び出されると、指定されたノードで実行されているすべてのトランザクションが中止され、接続が閉じられるため、サーバーを再起動する必要があります。
      </p></div><p>
      <span class="command"><strong>EXIT SINGLE USER MODE</strong></span> コマンドは、クラスタのデータノードの状態をシングルユーザーモードから通常モードに変更します。接続を待機している (つまり、クラスタの準備ができ、使用可能になるまで待機している) MySQL サーバーなどの API ノードは、接続が再度許可されます。単一ユーザーノードとして指定された API ノードは、状態の変更中および変更後も引き続き実行されます (まだ接続されている場合)。
    </p><p>
      例:
    </p><pre class="programlisting">
ndb_mgm&gt; <strong class="userinput"><code>EXIT SINGLE USER MODE</code></strong>
</pre><a class="indexterm" name="idm139979020486688"></a><p>
      シングルユーザーモードでの実行時にノードの障害を処理する際には、次の 2 つの方法が推奨されています。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          方法 1:
        </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
              シングルユーザーモードのトランザクションをすべて終了します
            </p></li><li class="listitem"><p>
              <span class="command"><strong>EXIT SINGLE USER MODE</strong></span> コマンドを発行します
            </p></li><li class="listitem"><p>
              クラスタのデータノードを再起動します
            </p></li></ol></div></li><li class="listitem"><p>
          方法 2:
        </p><p>
          シングルユーザーモードに入る前にデータベースノードを再起動します。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-sql-statements"></a>18.5.9 クイックリファレンス: MySQL Cluster の SQL ステートメント</h3></div></div></div><a class="indexterm" name="idm139979020475264"></a><a class="indexterm" name="idm139979020473056"></a><p>
      このセクションでは、MySQL Cluster に接続された MySQL サーバーを管理およびモニターする際に役立つ可能性のあるいくつかの SQL ステートメントについて説明し、場合によってクラスタ自体に関する情報も提供します。
    </p><div class="itemizedlist"><a class="indexterm" name="idm139979020470304"></a><a class="indexterm" name="idm139979020468272"></a><a class="indexterm" name="idm139979020467040"></a><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">SHOW ENGINE NDB STATUS</code>、<code class="literal">SHOW ENGINE NDBCLUSTER STATUS</code>
        </p><p>
          このステートメントの出力には、クラスタへのサーバーの接続、MySQL Cluster オブジェクトの作成と使用、および MySQL Cluster レプリケーションのバイナリロギングに関する情報が含まれます。
        </p><p>
          使用例および詳細な情報については、<a class="xref" href="sql-syntax.html#show-engine" title="13.7.5.16 SHOW ENGINE 構文">セクション13.7.5.16「SHOW ENGINE 構文」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979020459600"></a> <code class="literal">SHOW ENGINES</code>
        </p><p>
          このステートメントを使用すると、MySQL サーバーでクラスタ化のサポートが有効になっているかどうか、およびその場合はアクティブであるかどうかを確認できます。
        </p><p>
          詳細は、<a class="xref" href="sql-syntax.html#show-engines" title="13.7.5.17 SHOW ENGINES 構文">セクション13.7.5.17「SHOW ENGINES 構文」</a>を参照してください。
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            このステートメントでは、<code class="literal">LIKE</code> 句がサポートされていません。ただし、次の項目で説明するように、<code class="literal">LIKE</code> を使用すれば、<code class="literal">INFORMATION_SCHEMA.ENGINES</code> テーブルに対するクエリーをフィルタ処理できます。
          </p></div></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979020449696"></a> <code class="literal">SELECT * FROM INFORMATION_SCHEMA.ENGINES [WHERE ENGINE LIKE 'NDB%']</code>
        </p><p>
          これは、<code class="literal">SHOW ENGINES</code> と同等ですが、<code class="literal">INFORMATION_SCHEMA</code> の <code class="literal">ENGINES</code> テーブルを使用します。<code class="literal">SHOW ENGINES</code> ステートメントを使用する場合とは異なり、<code class="literal">LIKE</code> 句を使用して結果をフィルタ処理したり、特定のカラムを選択してスクリプトで役立つ可能性のある情報を取得したりできます。たとえば、次のクエリーは、<code class="literal">NDB</code> サポートを使用してサーバーが構築されたかどうか、およびその場合は有効になっているかどうかを表示します。
        </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT SUPPORT FROM INFORMATION_SCHEMA.ENGINES</code></strong>
    -&gt;   <strong class="userinput"><code>WHERE ENGINE LIKE 'NDB%';</code></strong>
+---------+
| support |
+---------+
| ENABLED |
+---------+
</pre><p>
          詳細は、<a class="xref" href="information-schema.html#engines-table" title="21.6 INFORMATION_SCHEMA ENGINES テーブル">セクション21.6「INFORMATION_SCHEMA ENGINES テーブル」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979020435760"></a> <code class="literal">SHOW VARIABLES LIKE 'NDB%'</code>
        </p><p>
          このステートメントは、次に示すように、<code class="literal">NDB</code> ストレージエンジンに関するほとんどのサーバーシステム変数、およびそれらの値のリストを表示します。
        </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SHOW VARIABLES LIKE 'NDB%';</code></strong>
+-------------------------------------+-------+
| Variable_name                       | Value |
+-------------------------------------+-------+
| ndb_autoincrement_prefetch_sz       | 32    |
| ndb_cache_check_time                | 0     |
| ndb_extra_logging                   | 0     |
| ndb_force_send                      | ON    |
| ndb_index_stat_cache_entries        | 32    |
| ndb_index_stat_enable               | OFF   |
| ndb_index_stat_update_freq          | 20    |
| ndb_report_thresh_binlog_epoch_slip | 3     |
| ndb_report_thresh_binlog_mem_usage  | 10    |
| ndb_use_copying_alter_table         | OFF   |
| ndb_use_exact_count                 | ON    |
| ndb_use_transactions                | ON    |
+-------------------------------------+-------+
</pre><p>
          詳細は、<a class="xref" href="server-administration.html#server-system-variables" title="5.1.4 サーバーシステム変数">セクション5.1.4「サーバーシステム変数」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979020427184"></a> <code class="literal">SELECT * FROM INFORMATION_SCHEMA.GLOBAL_VARIABLES WHERE VARIABLE_NAME LIKE 'NDB%';</code>
        </p><p>
          このステートメントは、前の項目で説明した <code class="literal">SHOW</code> コマンドと同等であり、次に示すように、ほぼ同じ出力を生成します。
        </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT * FROM INFORMATION_SCHEMA.GLOBAL_VARIABLES</code></strong>
    -&gt;   <strong class="userinput"><code>WHERE VARIABLE_NAME LIKE 'NDB%';</code></strong>
+-------------------------------------+----------------+
| VARIABLE_NAME                       | VARIABLE_VALUE |
+-------------------------------------+----------------+
| NDB_AUTOINCREMENT_PREFETCH_SZ       | 32             |
| NDB_CACHE_CHECK_TIME                | 0              |
| NDB_EXTRA_LOGGING                   | 0              |
| NDB_FORCE_SEND                      | ON             |
| NDB_INDEX_STAT_CACHE_ENTRIES        | 32             |
| NDB_INDEX_STAT_ENABLE               | OFF            |
| NDB_INDEX_STAT_UPDATE_FREQ          | 20             |
| NDB_REPORT_THRESH_BINLOG_EPOCH_SLIP | 3              |
| NDB_REPORT_THRESH_BINLOG_MEM_USAGE  | 10             |
| NDB_USE_COPYING_ALTER_TABLE         | OFF            |
| NDB_USE_EXACT_COUNT                 | ON             |
| NDB_USE_TRANSACTIONS                | ON             |
+-------------------------------------+----------------+
</pre><p>
          <code class="literal">SHOW</code> コマンドを使用する場合とは異なり、個々のカラムを選択できます。例:
        </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT VARIABLE_VALUE </code></strong>
    -&gt;   <strong class="userinput"><code>FROM INFORMATION_SCHEMA.GLOBAL_VARIABLES</code></strong>
    -&gt;   <strong class="userinput"><code>WHERE VARIABLE_NAME = 'ndb_force_send';</code></strong>
+----------------+
| VARIABLE_VALUE |
+----------------+
| ON             |
+----------------+
</pre><p>
          詳細は、<a class="xref" href="information-schema.html#variables-table" title="21.9 INFORMATION_SCHEMA GLOBAL_VARIABLES および SESSION_VARIABLES テーブル">セクション21.9「INFORMATION_SCHEMA GLOBAL_VARIABLES および SESSION_VARIABLES テーブル」</a>および<a class="xref" href="server-administration.html#server-system-variables" title="5.1.4 サーバーシステム変数">セクション5.1.4「サーバーシステム変数」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979020412192"></a> <code class="literal">SHOW STATUS LIKE 'NDB%'</code>
        </p><p>
          このステートメントは、MySQL サーバーがクラスタ SQL ノードとして動作しているかどうかをひと目でわかるように表示し、その場合は次に示すように、MySQL サーバーのクラスタノード ID、接続先のクラスタ管理サーバーのホスト名とポート、およびクラスタ内のデータノードの数を表示します。
        </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SHOW STATUS LIKE 'NDB%';</code></strong>
+--------------------------+---------------+
| Variable_name            | Value         |
+--------------------------+---------------+
| Ndb_cluster_node_id      | 10            |
| Ndb_config_from_host     | 192.168.0.103 |
| Ndb_config_from_port     | 1186          |
| Ndb_number_of_data_nodes | 4             |
+--------------------------+---------------+
</pre><p>
          MySQL サーバーがクラスタ化サポートを使用して構築されたが、クラスタに接続されていない場合は、このステートメントの出力のすべての行に、ゼロまたは空の文字列が格納されます。
        </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SHOW STATUS LIKE 'NDB%';</code></strong>
+--------------------------+-------+
| Variable_name            | Value |
+--------------------------+-------+
| Ndb_cluster_node_id      | 0     |
| Ndb_config_from_host     |       |
| Ndb_config_from_port     | 0     |
| Ndb_number_of_data_nodes | 0     |
+--------------------------+-------+
</pre><p>
          <a class="xref" href="sql-syntax.html#show-status" title="13.7.5.36 SHOW STATUS 構文">セクション13.7.5.36「SHOW STATUS 構文」</a>も参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979020402176"></a> <code class="literal">SELECT * FROM INFORMATION_SCHEMA.GLOBAL_STATUS WHERE VARIABLE_NAME LIKE 'NDB%';</code>
        </p><p>
          このステートメントは、前の項目で説明した <code class="literal">SHOW</code> コマンドと同様の出力を生成します。ただし、<code class="literal">SHOW STATUS</code> を使用する場合とは異なり、<code class="literal">SELECT</code> を使用して、モニタリングおよび自動化のためにスクリプトで使用するための SQL の値を抽出できます。
        </p><p>
          詳細は、<a class="xref" href="information-schema.html#status-table" title="21.8 INFORMATION_SCHEMA GLOBAL_STATUS および SESSION_STATUS テーブル">セクション21.8「INFORMATION_SCHEMA GLOBAL_STATUS および SESSION_STATUS テーブル」</a>を参照してください。
        </p></li></ul></div><p>
      また、多くの MySQL Cluster 操作に関するリアルタイムのデータについて、<code class="literal">ndbinfo</code> 情報データベース内のテーブルをクエリーすることもできます。<a class="xref" href="mysql-cluster.html#mysql-cluster-ndbinfo" title="18.5.10 ndbinfo MySQL Cluster 情報データベース">セクション18.5.10「ndbinfo MySQL Cluster 情報データベース」</a>を参照してください。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-ndbinfo"></a>18.5.10 ndbinfo MySQL Cluster 情報データベース</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-arbitrator-validity-detail">18.5.10.1 ndbinfo arbitrator_validity_detail テーブル</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-arbitrator-validity-summary">18.5.10.2 ndbinfo arbitrator_validity_summary テーブル</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-blocks">18.5.10.3 ndbinfo blocks テーブル</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-cluster-operations">18.5.10.4 ndbinfo cluster_operations テーブル</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-cluster-transactions">18.5.10.5 ndbinfo cluster_transactions テーブル</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-config-params">18.5.10.6 ndbinfo config_params テーブル</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-counters">18.5.10.7 ndbinfo counters テーブル</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-dict-obj-types">18.5.10.8 ndbinfo dict_obj_types テーブル</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-disk-write-speed-base">18.5.10.9 ndbinfo disk_write_speed_base テーブル</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-disk-write-speed-aggregate">18.5.10.10 ndbinfo disk_write_speed_aggregate テーブル</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-disk-write-speed-aggregate-node">18.5.10.11 ndbinfo disk_write_speed_aggregate_node テーブル</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-diskpagebuffer">18.5.10.12 ndbinfo diskpagebuffer テーブル</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-logbuffers">18.5.10.13 ndbinfo logbuffers テーブル</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-logspaces">18.5.10.14 ndbinfo logspaces テーブル</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-membership">18.5.10.15 ndbinfo membership テーブル</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-memoryusage">18.5.10.16 ndbinfo memoryusage テーブル</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-memory-per-fragment">18.5.10.17 ndbinfo memory_per_fragment テーブル</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-nodes">18.5.10.18 ndbinfo nodes テーブル</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-resources">18.5.10.19 ndbinfo resources テーブル</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-server-operations">18.5.10.20 ndbinfo server_operations テーブル</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-server-transactions">18.5.10.21 ndbinfo server_transactions テーブル</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-threadblocks">18.5.10.22 ndbinfo threadblocks テーブル</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-threadstat">18.5.10.23 ndbinfo threadstat テーブル</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-transporters">18.5.10.24 ndbinfo transporters テーブル</a></span></dt></dl></div><a class="indexterm" name="idm139979020389904"></a><p>
      <code class="literal">ndbinfo</code> は、MySQL Cluster に固有の情報を格納するデータベースです。
    </p><p>
      このデータベースは多くのテーブルを格納し、各テーブルは、MySQL Cluster ノードのステータス、リソースの使用率、および操作に関するさまざまな種類のデータを提供します。次のいくつかのセクションで、これらの各テーブルに関する詳細な情報を見つけることができます。
    </p><a class="indexterm" name="idm139979020386256"></a><p>
      <code class="literal">ndbinfo</code> は、MySQL Cluster サポートとともに MySQL サーバーに付属しているため、特別なコンパイルや構成のステップは必要ありません。MySQL サーバーがクラスタに接続すると、MySQL サーバーによってテーブルが作成されます。<code class="literal">SHOW PLUGINS</code> を使用すると、特定の MySQL サーバーインスタンスで <code class="literal">ndbinfo</code> サポートがアクティブになっていることを確認できます。<code class="literal">ndbinfo</code> サポートが有効になっている場合は、次に (強調表示したテキストで) 示すように、<code class="literal">Name</code> カラムに <code class="literal">ndbinfo</code> が含まれ、<code class="literal">Status</code> カラムに <code class="literal">ACTIVE</code> が含まれる行が表示されます。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SHOW PLUGINS;</code></strong>
+----------------------------------+--------+--------------------+---------+---------+
| Name                             | Status | Type               | Library | License |
+----------------------------------+--------+--------------------+---------+---------+
| binlog                           | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
| mysql_native_password            | ACTIVE | AUTHENTICATION     | NULL    | GPL     |
| mysql_old_password               | ACTIVE | AUTHENTICATION     | NULL    | GPL     |
| CSV                              | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
| MEMORY                           | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
| MRG_MYISAM                       | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
| MyISAM                           | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
| PERFORMANCE_SCHEMA               | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
| BLACKHOLE                        | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
| ARCHIVE                          | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
| ndbcluster                       | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
<span class="emphasis"><em>| ndbinfo                          | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |</em></span>
| ndb_transid_mysql_connection_map | ACTIVE | INFORMATION SCHEMA | NULL    | GPL     |
| InnoDB                           | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
| INNODB_TRX                       | ACTIVE | INFORMATION SCHEMA | NULL    | GPL     |
| INNODB_LOCKS                     | ACTIVE | INFORMATION SCHEMA | NULL    | GPL     |
| INNODB_LOCK_WAITS                | ACTIVE | INFORMATION SCHEMA | NULL    | GPL     |
| INNODB_CMP                       | ACTIVE | INFORMATION SCHEMA | NULL    | GPL     |
| INNODB_CMP_RESET                 | ACTIVE | INFORMATION SCHEMA | NULL    | GPL     |
| INNODB_CMPMEM                    | ACTIVE | INFORMATION SCHEMA | NULL    | GPL     |
| INNODB_CMPMEM_RESET              | ACTIVE | INFORMATION SCHEMA | NULL    | GPL     |
| partition                        | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
+----------------------------------+--------+--------------------+---------+---------+
22 rows in set (0.00 sec)
</pre><p>
      また、次に (強調表示されたテキストで) 示すように、<code class="literal">Engine</code> カラムに <code class="literal">ndbinfo</code> が含まれ、<code class="literal">Support</code> カラムに <code class="literal">YES</code> が含まれる行があるかどうかについて、<code class="literal">SHOW ENGINES</code> の出力をチェックすることで、これを実行することもできます。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SHOW ENGINES\G</code></strong>
*************************** 1. row ***************************
      Engine: ndbcluster
     Support: YES
     Comment: Clustered, fault-tolerant tables
Transactions: YES
          XA: NO
  Savepoints: NO
*************************** 2. row ***************************
      Engine: MRG_MYISAM
     Support: YES
     Comment: Collection of identical MyISAM tables
Transactions: NO
          XA: NO
  Savepoints: NO
<span class="emphasis"><em>*************************** 3. row ***************************
      Engine: ndbinfo
     Support: YES
     Comment: MySQL Cluster system information storage engine
Transactions: NO
          XA: NO
  Savepoints: NO</em></span>
*************************** 4. row ***************************
      Engine: CSV
     Support: YES
     Comment: CSV storage engine
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 5. row ***************************
      Engine: MEMORY
     Support: YES
     Comment: Hash based, stored in memory, useful for temporary tables
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 6. row ***************************
      Engine: FEDERATED
     Support: NO
     Comment: Federated MySQL storage engine
Transactions: NULL
          XA: NULL
  Savepoints: NULL
*************************** 7. row ***************************
      Engine: ARCHIVE
     Support: YES
     Comment: Archive storage engine
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 8. row ***************************
      Engine: InnoDB
     Support: YES
     Comment: Supports transactions, row-level locking, and foreign keys
Transactions: YES
          XA: YES
  Savepoints: YES
*************************** 9. row ***************************
      Engine: MyISAM
     Support: DEFAULT
     Comment: Default engine as of MySQL 3.23 with great performance
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 10. row ***************************
      Engine: BLACKHOLE
     Support: YES
     Comment: /dev/null storage engine (anything you write to it disappears)
Transactions: NO
          XA: NO
  Savepoints: NO
10 rows in set (0.00 sec)
</pre><p>
      <code class="literal">ndbinfo</code> サポートが有効になっている場合は、<span class="command"><strong>mysql</strong></span> や別の MySQL クライアントで SQL ステートメントを使用して、<code class="literal">ndbinfo</code> にアクセスできます。たとえば、次に示すように、<code class="literal">SHOW DATABASES</code> の出力に <code class="literal">ndbinfo</code> が一覧表示されます。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SHOW DATABASES;</code></strong>
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| ndbinfo            |
| test               |
+--------------------+
4 rows in set (0.00 sec)
</pre><p>
      <code class="option">--ndbcluster</code> オプションを付けて <span class="command"><strong>mysqld</strong></span> プロセスが起動されなかった場合は、<code class="literal">ndbinfo</code> を使用できず、<code class="literal">SHOW DATABASES</code> によって表示されません。以前に <span class="command"><strong>mysqld</strong></span> が MySQL Cluster に接続されたが、(クラスタのシャットダウンやネットワーク接続の損失などのイベントが原因で) クラスタを使用できなくなった場合、<code class="literal">ndbinfo</code> およびそのテーブルは引き続き表示されますが、(<code class="literal">blocks</code> または <code class="literal">config_params</code> 以外の) テーブルにアクセスしようとしても、次のエラーで失敗します:  <span class="errortext">Got error 157 'Connection to NDB failed' from NDBINFO</span>
    </p><p>
      <code class="literal">blocks</code> および <code class="literal">config_params</code> テーブルを除いて、<code class="literal">ndbinfo</code> <span class="quote">「<span class="quote">テーブル</span>」</span>と呼ばれるものは、実際には、MySQL サーバーから通常見えない内部 <code class="literal">NDB</code> テーブルから生成されるビューです。
    </p><p>
      <code class="literal">ndbinfo</code> テーブルはすべて読み取り専用であり、クエリーの実行時に要求に応じて生成されます。これらの多くはデータノードによって並列して生成されますが、その他は特定の SQL ノードに固有であるため、一貫性のあるスナップショットを提供する保証はありません。
    </p><p>
      さらに、<code class="literal">ndbinfo</code> テーブルでは、結合のプッシュダウンがサポートされていません。そのため、クエリーで <code class="literal">WHERE</code> 句を使用している場合でも、大きな <code class="literal">ndbinfo</code> テーブルの結合には、リクエスト元の API ノードに大量のデータを転送する必要があることがあります。
    </p><a class="indexterm" name="idm139979020340720"></a><a class="indexterm" name="idm139979020338496"></a><p>
      クエリーキャッシュに、<code class="literal">ndbinfo</code> テーブルが含まれていません。(Bug #59831)
    </p><p>
      その他のデータベースの場合と同様に、<code class="literal">USE</code> ステートメントで <code class="literal">ndbinfo</code> データベースを選択してから、<code class="literal">SHOW TABLES</code> ステートメントを発行すると、次のようなテーブルのリストを取得できます。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>USE ndbinfo;</code></strong>
Database changed

mysql&gt; <strong class="userinput"><code>SHOW TABLES;</code></strong>
+----------------------+
| Tables_in_ndbinfo    |
+----------------------+
| blocks               |
| cluster_operations   |
| cluster_transactions |
| config_params        |
| counters             |
| diskpagebuffer       |
| logbuffers           |
| logspaces            |
| memoryusage          |
| nodes                |
| resources            |
| server_operations    |
| server_transactions  |
| threadblocks         |
| threadstat           |
| transporters         |
+----------------------+
16 rows in set (0.04 sec)
</pre><a class="indexterm" name="idm139979020328992"></a><p>
      通常の想定どおりに、これらのテーブルに対して <code class="literal">SELECT</code> ステートメントを実行できます。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT * FROM memoryusage;</code></strong>
+---------+---------------------+--------+------------+------------+-------------+
| node_id | memory_type         | used   | used_pages | total      | total_pages |
+---------+---------------------+--------+------------+------------+-------------+
|       5 | Data memory         | 753664 |         23 | 1073741824 |       32768 |
|       5 | Index memory        | 163840 |         20 | 1074003968 |      131104 |
|       5 | Long message buffer |   2304 |          9 |   67108864 |      262144 |
|       6 | Data memory         | 753664 |         23 | 1073741824 |       32768 |
|       6 | Index memory        | 163840 |         20 | 1074003968 |      131104 |
|       6 | Long message buffer |   2304 |          9 |   67108864 |      262144 |
+---------+---------------------+--------+------------+------------+-------------+
6 rows in set (0.02 sec)
</pre><p>
      <code class="literal">memoryusage</code> テーブルを使用する次の 2 つの <code class="literal">SELECT</code> ステートメントのような、さらに複雑なクエリーも実行できます。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT SUM(used) as 'Data Memory Used, All Nodes'</code></strong> 
     &gt;     <strong class="userinput"><code>FROM memoryusage</code></strong> 
     &gt;     <strong class="userinput"><code>WHERE memory_type = 'Data memory';</code></strong>
+-----------------------------+
| Data Memory Used, All Nodes |
+-----------------------------+
|                        6460 |
+-----------------------------+
1 row in set (0.37 sec)

mysql&gt; <strong class="userinput"><code>SELECT SUM(max) as 'Total IndexMemory Available'</code></strong> 
     &gt;     <strong class="userinput"><code>FROM memoryusage</code></strong> 
     &gt;     <strong class="userinput"><code>WHERE memory_type = 'Index memory';</code></strong>
+-----------------------------+
| Total IndexMemory Available |
+-----------------------------+
|                       25664 |
+-----------------------------+
1 row in set (0.33 sec)
</pre><p>
      <code class="literal">ndbinfo</code> テーブルおよびカラムの名前は、(<code class="literal">ndbinfo</code> データベース自体の名前と同様に) 大文字と小文字が区別されます。これらの識別子は小文字です。大文字と小文字を誤って使用すると、次の例で示すようなエラーが発生します。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT * FROM nodes;</code></strong>
+---------+--------+---------+-------------+
| node_id | uptime | status  | start_phase |
+---------+--------+---------+-------------+
|       1 |  13602 | STARTED |           0 |
|       2 |     16 | STARTED |           0 |
+---------+--------+---------+-------------+
2 rows in set (0.04 sec)

mysql&gt; <strong class="userinput"><code>SELECT * FROM Nodes;</code></strong>
<span class="errortext">ERROR 1146 (42S02): Table 'ndbinfo.Nodes' doesn't exist</span>
</pre><p>
      <span class="command"><strong>mysqldump</strong></span> は、<code class="literal">ndbinfo</code> データベースを完全に無視し、どの出力からも除外します。このことは、<code class="option">--databases</code> または <code class="option">--all-databases</code> オプションを使用する場合でも当てはまります。
    </p><p>
      MySQL Cluster は、<code class="literal">INFORMATION_SCHEMA</code> 情報データベース内に、MySQL Cluster ディスクデータストレージ用に使用されるファイルに関する情報を格納する <code class="literal">FILES</code> テーブルなどのテーブルも保持しています。詳細は、<a class="xref" href="information-schema.html#mysql-cluster-i_s-tables" title="21.30 MySQL Cluster の INFORMATION_SCHEMA テーブル">セクション21.30「MySQL Cluster の INFORMATION_SCHEMA テーブル」</a>を参照してください。
    </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-ndbinfo-arbitrator-validity-detail"></a>18.5.10.1 ndbinfo arbitrator_validity_detail テーブル</h4></div></div></div><a class="indexterm" name="idm139979020300816"></a><p>
        <code class="literal">arbitrator_validity_detail</code> テーブルは、クラスタ内の各データノードがアービトレータについて保持するビューを示します。これは、<code class="literal">membership</code> テーブルのサブセットです。
      </p><p>
        次の表には、<code class="literal">arbitrator_validity_detail</code> テーブルのカラムに関する情報を示します。この表には、各カラムの名前、データ型、および簡単な説明を示します。追加情報については、表のあとに示す注記で見つけることができます。
      </p><div class="informaltable"><table summary="この表では、arbitrator_validity_detail テーブルのカラムについて説明します。この表には、カラムの名前、データ型、および簡単な説明を示します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">型</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">node_id</code></td><td>整数</td><td>このノードのノード ID</td></tr><tr><td scope="row"><code class="literal">arbitrator</code></td><td>整数</td><td>アービトレータのノード ID</td></tr><tr><td scope="row"><code class="literal">arb_ticket</code></td><td>文字列</td><td>アービトレーションを追跡するために使用される内部識別子</td></tr><tr><td scope="row"><code class="literal">arb_connected</code></td><td><code class="literal">Yes</code> または <code class="literal">No</code></td><td>このノードがアービトレータに接続されているかどうか</td></tr><tr><td scope="row"><code class="literal">arb_state</code></td><td>列挙 (テキストを参照)</td><td>アービトレーションの状態</td></tr></tbody></table></div><p>
        このノード ID は、<span class="command"><strong>ndb_mgm -e "SHOW"</strong></span> でレポートされるものと同じです。
      </p><p>
        すべてのノードで <code class="literal">arb_state</code> の値が同じであるだけでなく、<code class="literal">arbitrator</code> と <code class="literal">arb_ticket</code> の値も同じです。可能性のある <code class="literal">arb_state</code> の値は <code class="literal">ARBIT_NULL</code>、<code class="literal">ARBIT_INIT</code>、<code class="literal">ARBIT_FIND</code>、<code class="literal">ARBIT_PREP1</code>、<code class="literal">ARBIT_PREP2</code>、<code class="literal">ARBIT_START</code>、<code class="literal">ARBIT_RUN</code>、<code class="literal">ARBIT_CHOOSE</code>、<code class="literal">ARBIT_CRASH</code>、および <code class="literal">UNKNOWN</code> です。
      </p><p>
        <code class="literal">arb_connected</code> は、現在のノードが <code class="literal">arbitrator</code> に接続されているかどうかを示します。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-ndbinfo-arbitrator-validity-summary"></a>18.5.10.2 ndbinfo arbitrator_validity_summary テーブル</h4></div></div></div><a class="indexterm" name="idm139979020261040"></a><p>
        <code class="literal">arbitrator_validity_summary</code> テーブルは、クラスタのデータノードに関するアービトレータの複合ビューを示します。
      </p><p>
        次の表には、<code class="literal">arbitrator_validity_summary</code> テーブルのカラムに関する情報を示します。この表には、各カラムの名前、データ型、および簡単な説明を示します。追加情報については、表のあとに示す注記で見つけることができます。
      </p><div class="informaltable"><table summary="この表では、arbitrator_validity_summary テーブルのカラムについて説明します。この表には、カラムの名前、データ型、および簡単な説明を示します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">型</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">arbitrator</code></td><td>整数</td><td>アービトレータのノード ID</td></tr><tr><td scope="row"><code class="literal">arb_ticket</code></td><td>文字列</td><td>アービトレーションを追跡するために使用される内部識別子</td></tr><tr><td scope="row"><code class="literal">arb_connected</code></td><td><code class="literal">Yes</code> または <code class="literal">No</code></td><td>このアービトレータがクラスタに接続されているかどうか</td></tr><tr><td scope="row"><code class="literal">consensus_count</code></td><td>整数</td><td>このノードをアービトレータとして見ているデータノードの数</td></tr></tbody></table></div><p>
        通常の操作では、このテーブルには、相当に長い期間でも 1 行しか含まれません。やや長い期間で複数行が含まれる場合は、一部のノードがアービトレータに接続されていないか、またはすべてのノードが接続されているが、同じアービトレータを承認していません。
      </p><p>
        <code class="literal">arbitrator</code> カラムは、アービトレータのノード ID を示します。
      </p><p>
        <code class="literal">arb_ticket</code> は、このアービトレータで使用される内部識別子です。
      </p><p>
        <code class="literal">arb_connected</code> は、このノードがアービトレータとしてクラスタに接続されているかどうかを示します。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-ndbinfo-blocks"></a>18.5.10.3 ndbinfo blocks テーブル</h4></div></div></div><a class="indexterm" name="idm139979020233584"></a><p>
        <code class="literal">blocks</code> テーブルは、すべての NDB カーネルブロックの名前と内部 ID を単に格納する静的テーブルです (<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-kernel-blocks.html" target="_top">NDB Kernel Blocks</a>を参照してください)。これは、人間が読める出力を生成するためにブロック番号をブロック名にマップする際に、その他の <code class="literal">ndbinfo</code> テーブル (大部分が実際にはビューです) で使用されます。
      </p><p>
        次の表は、<code class="literal">blocks</code> テーブルのカラムに関する情報を示します。この表には、各カラムの名前、データ型、および簡単な説明を示します。追加情報については、表のあとに示す注記で見つけることができます。
      </p><div class="informaltable"><table summary="この表は、blocks テーブルのカラムに関する情報を示します。この表には、カラムの名前、データ型、および簡単な説明を示します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">型</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">block_number</code></td><td>整数</td><td>ブロック番号</td></tr><tr><td scope="row"><code class="literal">block_name</code></td><td>文字列</td><td>ブロック名</td></tr></tbody></table></div><p>
        すべてのブロック名のリストを取得するには、<code class="literal">SELECT block_name FROM ndbinfo.blocks</code> を実行するだけです。これは静的テーブルですが、その内容はさまざまな MySQL Cluster リリース間で異なる可能性があります。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-ndbinfo-cluster-operations"></a>18.5.10.4 ndbinfo cluster_operations テーブル</h4></div></div></div><a class="indexterm" name="idm139979020212608"></a><p>
        <code class="literal">cluster_operations</code> テーブルは、ローカルデータ管理 (LQH) ブロック (<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-kernel-blocks-dblqh.html" target="_top">The DBLQH Block</a>を参照してください) の観点から、MySQL Cluster のすべてのアクティビティー操作ごとの (ステートフルな主キー操作) ビューを示します。
      </p><p>
        次の表に、<code class="literal">cluster_operations</code> テーブルのカラムに関する情報を示します。この表には、各カラムの名前、データ型、および簡単な説明を示します。追加情報については、表のあとに示す注記で見つけることができます。
      </p><div class="informaltable"><table summary="この表は、cluster_operations テーブルのカラムに関する情報を示します。この表には、カラムの名前、データ型、および簡単な説明を示します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">型</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">node_id</code></td><td>整数</td><td>レポート LQH ブロックのノード ID</td></tr><tr><td scope="row"><code class="literal">block_instance</code></td><td>整数</td><td>LQH ブロックインスタンス</td></tr><tr><td scope="row"><code class="literal">transid</code></td><td>整数</td><td>トランザクション ID</td></tr><tr><td scope="row"><code class="literal">operation_type</code></td><td>文字列</td><td>操作のタイプ (可能性のある値についてはテキストを参照)</td></tr><tr><td scope="row"><code class="literal">state</code></td><td>文字列</td><td>操作の状態 (可能性のある値についてはテキストを参照)</td></tr><tr><td scope="row"><code class="literal">tableid</code></td><td>整数</td><td>テーブル ID</td></tr><tr><td scope="row"><code class="literal">fragmentid</code></td><td>整数</td><td>フラグメント ID</td></tr><tr><td scope="row"><code class="literal">client_node_id</code></td><td>整数</td><td>クライアントノード ID</td></tr><tr><td scope="row"><code class="literal">client_block_ref</code></td><td>整数</td><td>クライアントのブロック参照</td></tr><tr><td scope="row"><code class="literal">tc_node_id</code></td><td>整数</td><td>トランザクションコーディネータノード ID</td></tr><tr><td scope="row"><code class="literal">tc_block_no</code></td><td>整数</td><td>トランザクションコーディネータブロック番号</td></tr><tr><td scope="row"><code class="literal">tc_block_instance</code></td><td>整数</td><td>トランザクションコーディネータブロックインスタンス</td></tr></tbody></table></div><p>
        トランザクション ID は、NDB API の <code class="literal">getTransactionId()</code> メソッドを使用して取得できる一意の 64 ビット数値です。(現在、MySQL サーバーは進行中のトランザクションの NDB API トランザクション ID を公開しません。)
      </p><p>
        <code class="literal">operation_type</code> カラムは、<code class="literal">READ</code>、<code class="literal">READ-SH</code>、<code class="literal">READ-EX</code>、<code class="literal">INSERT</code>、<code class="literal">UPDATE</code>、<code class="literal">DELETE</code>、<code class="literal">WRITE</code>、<code class="literal">UNLOCK</code>、<code class="literal">REFRESH</code>、<code class="literal">SCAN</code>、<code class="literal">SCAN-SH</code>、<code class="literal">SCAN-EX</code>、または <code class="literal">&lt;unknown&gt;</code> のいずれかの値を取ることができます。
      </p><p>
        <code class="literal">state</code> カラムは、<code class="literal">ABORT_QUEUED</code>、<code class="literal">ABORT_STOPPED</code>、<code class="literal">COMMITTED</code>、<code class="literal">COMMIT_QUEUED</code>、<code class="literal">COMMIT_STOPPED</code>、<code class="literal">COPY_CLOSE_STOPPED</code>、<code class="literal">COPY_FIRST_STOPPED</code>、<code class="literal">COPY_STOPPED</code>、<code class="literal">COPY_TUPKEY</code>、<code class="literal">IDLE</code>、<code class="literal">LOG_ABORT_QUEUED</code>、<code class="literal">LOG_COMMIT_QUEUED</code>、<code class="literal">LOG_COMMIT_QUEUED_WAIT_SIGNAL</code>、<code class="literal">LOG_COMMIT_WRITTEN</code>、<code class="literal">LOG_COMMIT_WRITTEN_WAIT_SIGNAL</code>、<code class="literal">LOG_QUEUED</code>、<code class="literal">PREPARED</code>、<code class="literal">PREPARED_RECEIVED_COMMIT</code>、<code class="literal">SCAN_CHECK_STOPPED</code>、<code class="literal">SCAN_CLOSE_STOPPED</code>、<code class="literal">SCAN_FIRST_STOPPED</code>、<code class="literal">SCAN_RELEASE_STOPPED</code>、<code class="literal">SCAN_STATE_USED</code>、<code class="literal">SCAN_STOPPED</code>、<code class="literal">SCAN_TUPKEY</code>、<code class="literal">STOPPED</code>、<code class="literal">TC_NOT_CONNECTED</code>、<code class="literal">WAIT_ACC</code>、<code class="literal">WAIT_ACC_ABORT</code>、<code class="literal">WAIT_AI_AFTER_ABORT</code>、<code class="literal">WAIT_ATTR</code>、<code class="literal">WAIT_SCAN_AI</code>、<code class="literal">WAIT_TUP</code>、<code class="literal">WAIT_TUPKEYINFO</code>、<code class="literal">WAIT_TUP_COMMIT</code>、または <code class="literal">WAIT_TUP_TO_ABORT</code> のいずれかの値を取ることができます。(<code class="literal">ndbinfo_show_hidden</code> を有効にして MySQL サーバーが実行されている場合は、通常は非表示になっている <code class="literal">ndb$dblqh_tcconnect_state</code> テーブルから選択することで、この状態のリストを表示できます。)
      </p><p>
        <span class="command"><strong>ndb_show_tables</strong></span> の出力をチェックして、テーブル ID から <code class="literal">NDB</code> テーブルの名前を取得できます。
      </p><p>
        <code class="literal">fragid</code> は、<span class="command"><strong>ndb_desc</strong></span> <code class="option">--extra-partition-info</code> (短縮形式 <code class="option">-p</code>) の出力で見られるパーティション番号と同じです。
      </p><p>
        <code class="literal">client_node_id</code> および <code class="literal">client_block_ref</code> の <code class="literal">client</code> は MySQL Cluster の API ノードまたは SQL ノード (つまり、クラスタに接続されている NDB API クライアントまたは MySQL サーバー) を表します。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-ndbinfo-cluster-transactions"></a>18.5.10.5 ndbinfo cluster_transactions テーブル</h4></div></div></div><a class="indexterm" name="idm139979020123968"></a><p>
        <code class="literal">cluster_transactions</code> テーブルは、MySQL Cluster 内で進行中のすべてのトランザクションに関する情報を示します。
      </p><p>
        次の表に、<code class="literal">cluster_transactions</code> テーブルのカラムに関する情報を示します。この表には、各カラムの名前、データ型、および簡単な説明を示します。追加情報については、表のあとに示す注記で見つけることができます。
      </p><div class="informaltable"><table summary="この表は、cluster_transactions テーブルのカラムに関する情報を示します。この表には、カラムの名前、データ型、および簡単な説明を示します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">型</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">node_id</code></td><td>整数</td><td>トランザクションコーディネータのノード ID</td></tr><tr><td scope="row"><code class="literal">block_instance</code></td><td>整数</td><td>TC ブロックインスタンス</td></tr><tr><td scope="row"><code class="literal">transid</code></td><td>整数</td><td>トランザクション ID</td></tr><tr><td scope="row"><code class="literal">state</code></td><td>文字列</td><td>操作の状態 (可能性のある値についてはテキストを参照)</td></tr><tr><td scope="row"><code class="literal">count_operations</code></td><td>整数</td><td>トランザクション内のステートフルな主キー操作 (DML 操作に加えて、ロックを伴う読み取りを含む) の数</td></tr><tr><td scope="row"><code class="literal">outstanding_operations</code></td><td>整数</td><td>ローカルデータ管理ブロックでまだ実行されている操作</td></tr><tr><td scope="row"><code class="literal">inactive_seconds</code></td><td>整数</td><td>API の待機に要した時間</td></tr><tr><td scope="row"><code class="literal">client_node_id</code></td><td>整数</td><td>クライアントノード ID</td></tr><tr><td scope="row"><code class="literal">client_block_ref</code></td><td>整数</td><td>クライアントのブロック参照</td></tr></tbody></table></div><p>
        トランザクション ID は、NDB API の <code class="literal">getTransactionId()</code> メソッドを使用して取得できる一意の 64 ビット数値です。(現在、MySQL サーバーは進行中のトランザクションの NDB API トランザクション ID を公開しません。)
      </p><p>
        <code class="literal">state</code> カラムは、<code class="literal">CS_ABORTING</code>、<code class="literal">CS_COMMITTING</code>、<code class="literal">CS_COMMIT_SENT</code>、<code class="literal">CS_COMPLETE_SENT</code>、<code class="literal">CS_COMPLETING</code>、<code class="literal">CS_CONNECTED</code>、<code class="literal">CS_DISCONNECTED</code>、<code class="literal">CS_FAIL_ABORTED</code>、<code class="literal">CS_FAIL_ABORTING</code>、<code class="literal">CS_FAIL_COMMITTED</code>、<code class="literal">CS_FAIL_COMMITTING</code>、<code class="literal">CS_FAIL_COMPLETED</code>、<code class="literal">CS_FAIL_PREPARED</code>、<code class="literal">CS_PREPARE_TO_COMMIT</code>、<code class="literal">CS_RECEIVING</code>、<code class="literal">CS_REC_COMMITTING</code>、<code class="literal">CS_RESTART</code>、<code class="literal">CS_SEND_FIRE_TRIG_REQ</code>、<code class="literal">CS_STARTED</code>、<code class="literal">CS_START_COMMITTING</code>、<code class="literal">CS_START_SCAN</code>、<code class="literal">CS_WAIT_ABORT_CONF</code>、<code class="literal">CS_WAIT_COMMIT_CONF</code>、<code class="literal">CS_WAIT_COMPLETE_CONF</code>、<code class="literal">CS_WAIT_FIRE_TRIG_REQ</code> のいずれかの値を持つ可能性があります。(<code class="literal">ndbinfo_show_hidden</code> を有効にして MySQL サーバーが実行されている場合は、通常は非表示になっている <code class="literal">ndb$dbtc_apiconnect_state</code> テーブルから選択することで、この状態のリストを表示できます。)
      </p><p>
        <code class="literal">client_node_id</code> および <code class="literal">client_block_ref</code> の <code class="literal">client</code> は MySQL Cluster の API ノードまたは SQL ノード (つまり、クラスタに接続されている NDB API クライアントまたは MySQL サーバー) を表します。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-ndbinfo-config-params"></a>18.5.10.6 ndbinfo config_params テーブル</h4></div></div></div><a class="indexterm" name="idm139979020065920"></a><p>
        <code class="literal">config_params</code> テーブルは、すべての MySQL Cluster 構成パラメータの名前および内部 ID 番号を提供する静的テーブルです。
      </p><p>
        次の表に、<code class="literal">config_params</code> テーブルのカラムに関する情報を示します。この表には、各カラムの名前、データ型、および簡単な説明を示します。追加情報については、表のあとに示す注記で見つけることができます。
      </p><div class="informaltable"><table summary="この表は、config_params テーブルのカラムに関する情報を示します。この表には、カラムの名前、データ型、および簡単な説明を示します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">型</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">param_number</code></td><td>整数</td><td>パラメータの内部 ID 番号</td></tr><tr><td scope="row"><code class="literal">param_name</code></td><td>文字列</td><td>パラメータの名前</td></tr></tbody></table></div><p>
        これは静的テーブルですが、ソフトウェアリリースやクラスタハードウェアの構成やその他の要因の違いによって、サポートされているパラメータが異なる可能性があるため、その内容は MySQL Cluster インストール間で異なる可能性があります。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-ndbinfo-counters"></a>18.5.10.7 ndbinfo counters テーブル</h4></div></div></div><a class="indexterm" name="idm139979020047632"></a><p>
        <code class="literal">counters</code> テーブルは、特定のカーネルブロックおよびデータノードに対する読み取りや書き込みなどのイベントの現在までの合計数を示します。最近のノードの起動または再起動はカウントされません。ノードを起動または再起動すると、そのノード上のすべてのカウンタがリセットされます。すべてのカーネルブロックですべてのタイプのカウンタを使用しているとはかぎりません。
      </p><p>
        次の表に、<code class="literal">counters</code> テーブルのカラムに関する情報を示します。この表には、各カラムの名前、データ型、および簡単な説明を示します。追加情報については、表のあとに示す注記で見つけることができます。
      </p><div class="informaltable"><table summary="この表は、counters テーブルのカラムに関する情報を示します。この表には、カラムの名前、データ型、および簡単な説明を示します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">型</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">node_id</code></td><td>整数</td><td>データノード ID</td></tr><tr><td scope="row"><code class="literal">block_name</code></td><td>文字列</td><td>関連付けられた NDB カーネルブロックの名前 (<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-kernel-blocks.html" target="_top">NDB Kernel Blocks</a>を参照してください)。</td></tr><tr><td scope="row"><code class="literal">block_instance</code></td><td>整数</td><td>ブロックインスタンス</td></tr><tr><td scope="row"><code class="literal">counter_id</code></td><td>整数</td><td>カウンタの内部 ID 番号。通常は 1 から 10 までの整数。</td></tr><tr><td scope="row"><code class="literal">counter_name</code></td><td>文字列</td><td>カウンタの名前。各カウンタが関連付けられている個々のカウンタおよび NDB カーネルブロックの名前については、テキストを参照してください。</td></tr><tr><td scope="row"><code class="literal">val</code></td><td>整数</td><td>カウンタの値</td></tr></tbody></table></div><p>
        各カウンタは、特定の NDB カーネルブロックに関連付けられています。
      </p><p>
        <code class="literal">OPERATIONS</code> カウンタは、<code class="literal">DBLQH</code> (ローカルクエリーハンドラ) カーネルブロックに関連付けられています (<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-kernel-blocks-dblqh.html" target="_top">The DBLQH Block</a>を参照してください)。主キーの読み取りは、主キーの更新と同様に、1 操作としてカウントされます。読み取りの場合、<code class="literal">DBTC</code> での操作ごとに <code class="literal">DBLQH</code> での操作が 1 回発生します。書き込みの場合、レプリカごとに 1 回の操作がカウントされます。
      </p><p>
        <code class="literal">ATTRINFO</code>、<code class="literal">TRANSACTIONS</code>、<code class="literal">COMMITS</code>、<code class="literal">READS</code>、<code class="literal">LOCAL_READS</code>、<code class="literal">SIMPLE_READS</code>、<code class="literal">WRITES</code>、<code class="literal">LOCAL_WRITES</code>、<code class="literal">ABORTS</code>、<code class="literal">TABLE_SCANS</code>、および <code class="literal">RANGE_SCANS</code> カウンタは、DBTC (トランザクションコーディネータ) カーネルブロックに関連付けられています (<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-kernel-blocks-dbtc.html" target="_top">The DBTC Block</a>を参照してください)。
      </p><p>
        <code class="literal">LOCAL_WRITES</code> および <code class="literal">LOCAL_READS</code> は、レコードのプライマリレプリカも保持するノードで、トランザクションコーディネータを使用する主キー操作です。
      </p><p>
        <code class="literal">READS</code> カウンタには、すべての読み取りが含まれます。<code class="literal">LOCAL_READS</code> には、このトランザクションコーディネータと同じノード上でのプライマリレプリカの読み取りのみが含まれます。<code class="literal">SIMPLE_READS</code> には、読み取り操作が特定のトランザクションに対する最初と最後の操作である読み取りのみが含まれるため、その他の読み取りとのトランザクション上の関係がありません。
      </p><p>
        <code class="literal">ATTRINFO</code> には、解釈済みプログラムがデータノードに送信される回数のカウントが保持されます。<code class="literal">NDB</code> カーネルの <code class="literal">ATTRINFO</code> メッセージについての詳細は、<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-ndb-protocol-messages.html" target="_top">NDB Protocol Messages</a>を参照してください。
      </p><p>
        <code class="literal">LOCAL_TABLE_SCANS_SENT</code>、<code class="literal">READS_RECEIVED</code>、<code class="literal">PRUNED_RANGE_SCANS_RECEIVED</code>、<code class="literal">RANGE_SCANS_RECEIVED</code>、<code class="literal">LOCAL_READS_SENT</code>、<code class="literal">CONST_PRUNED_RANGE_SCANS_RECEIVED</code>、<code class="literal">LOCAL_RANGE_SCANS_SENT</code>、<code class="literal">REMOTE_READS_SENT</code>、<code class="literal">REMOTE_RANGE_SCANS_SENT</code>、<code class="literal">READS_NOT_FOUND</code>、<code class="literal">SCAN_BATCHES_RETURNED</code>、<code class="literal">TABLE_SCANS_RECEIVED</code>、および <code class="literal">SCAN_ROWS_RETURNED</code> カウンタは、<code class="literal">DBSPJ</code> (プッシュダウン結合を選択します) カーネルブロックに関連付けられています (<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-kernel-blocks-dbspj.html" target="_top">The DBSPJ Block</a>を参照してください)。
      </p><p>
        このような問題のトラブルシューティングを行う際に、いくつかのカウンタによってトランスポータの過負荷および送信バッファーのサイズに関する情報が提供されます。LQH インスタンスごとに、次のリストに示す各カウンタのインスタンスが 1 つ存在します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">LQHKEY_OVERLOAD</code>: トランスポータの過負荷が原因で、LQH ブロックインスタンスで拒否された主キーリクエストの数
          </p></li><li class="listitem"><p>
            <code class="literal">LQHKEY_OVERLOAD_TC</code>: TC ノードのトランスポータが過負荷状態になった <code class="literal">LQHKEY_OVERLOAD</code> のインスタンス数
          </p></li><li class="listitem"><p>
            <code class="literal">LQHKEY_OVERLOAD_READER</code>: API リーダー (読み取り専用) ノードが過負荷状態になった <code class="literal">LQHKEY_OVERLOAD</code> のインスタンス数。
          </p></li><li class="listitem"><p>
            <code class="literal">LQHKEY_OVERLOAD_NODE_PEER</code>: 次のバックアップデータノード (書き込み専用) が過負荷状態になった <code class="literal">LQHKEY_OVERLOAD</code> のインスタンス数
          </p></li><li class="listitem"><p>
            <code class="literal">LQHKEY_OVERLOAD_SUBSCRIBER</code>: イベントサブスクライバ (書き込み専用) が過負荷状態になった <code class="literal">LQHKEY_OVERLOAD</code> のインスタンス数。
          </p></li><li class="listitem"><p>
            <code class="literal">LQHSCAN_SLOWDOWNS</code>: スキャン中の API トランスポータの過負荷が原因で、フラグメントスキャンのバッチサイズが減少したインスタンスの数。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-ndbinfo-dict-obj-types"></a>18.5.10.8 ndbinfo dict_obj_types テーブル</h4></div></div></div><a class="indexterm" name="idm139979019969840"></a><p>
        <code class="literal">dict_obj_types</code> テーブルは、NDB カーネルで使用される可能性のあるディクショナリオブジェクトのタイプを一覧表示した静的なテーブルです。これらは、NDB API の <code class="literal">Object::Type</code> で定義されるタイプと同じです。
      </p><p>
        次の表に、<code class="literal">dict_obj_types</code> テーブルのカラムに関する情報を示します。この表には、各カラムの名前、データ型、および簡単な説明を示します。
      </p><div class="informaltable"><table summary="この表は、dict_obj_types テーブルのカラムに関する情報を示します。この表は、カラムの名前、データ型、および簡単な説明を示します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">型</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">type_id</code></td><td>整数</td><td>このタイプのタイプ ID</td></tr><tr><td scope="row"><code class="literal">type_name</code></td><td>文字列</td><td>このタイプの名前</td></tr></tbody></table></div><p>
        このテーブルは MySQL Cluster NDB 7.4.1 で追加されました。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-ndbinfo-disk-write-speed-base"></a>18.5.10.9 ndbinfo disk_write_speed_base テーブル</h4></div></div></div><a class="indexterm" name="idm139979019950912"></a><p>
        <code class="literal">disk_write_speed_base</code> テーブルは、LCP、バックアップ、およびリストア操作時のディスク書き込みの速度に関する基本情報を示します。
      </p><p>
        次の表に、<code class="literal">disk_write_speed_base</code> テーブルのカラムに関する情報を示します。この表には、各カラムの名前、データ型、および簡単な説明を示します。追加情報については、表のあとに示す注記で見つけることができます。
      </p><div class="informaltable"><table summary="この表には、disk_write_speed_base テーブルのカラムに関する情報を示します。この表は、カラムの名前、データ型、および簡単な説明を示します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">型</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row">node_id</td><td>整数</td><td>このノードのノード ID</td></tr><tr><td scope="row">thr_no</td><td>整数</td><td>この LDM スレッドのスレッド ID</td></tr><tr><td scope="row">millis_ago</td><td>整数</td><td>このレポート期間が終了してからのミリ秒数</td></tr><tr><td scope="row">millis_passed</td><td>整数</td><td>このレポート期間内に経過したミリ秒数</td></tr><tr><td scope="row">backup_lcp_bytes_written</td><td>整数</td><td>この期間中にローカルチェックポイントおよびバックアッププロセスによってディスクに書き込まれたバイト数</td></tr><tr><td scope="row">redo_bytes_written</td><td>整数</td><td>この期間中に Redo ログに書き込まれたバイト数</td></tr><tr><td scope="row">target_disk_write_speed</td><td>整数</td><td>LDM スレッド (基本データ) ごとの実際のディスク書き込み速度</td></tr></tbody></table></div><p>
        このテーブルは MySQL Cluster NDB 7.4.1 で追加されました。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-ndbinfo-disk-write-speed-aggregate"></a>18.5.10.10 ndbinfo disk_write_speed_aggregate テーブル</h4></div></div></div><a class="indexterm" name="idm139979019925152"></a><p>
        <code class="literal">disk_write_speed_aggregate</code> テーブルは、LCP、バックアップ、およびリストア操作時のディスク書き込みの速度に関して集計された情報を示します。
      </p><p>
        次の表に、MySQL Cluster NDB 7.4.3 以降での <code class="literal">disk_write_speed_aggregate</code> テーブルのカラムに関する情報を示します。MySQL Cluster NDB 7.4.2 以前の <code class="literal">disk_write_speed_aggregate</code> に関する情報は、このセクションの後半で見つけることができます。この表には、各カラムの名前、データ型、および簡単な説明を示します。追加情報については、表のあとに示す注記で見つけることができます。
      </p><div class="informaltable"><table summary="この表は、MySQL Cluster NDB 7.4.3 以降の disk_write_speed_aggregate テーブルのカラムに関する情報を示し、カラムごとにカラム名、データ型、および簡単な説明を示します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">型</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row">node_id</td><td>整数</td><td>このノードのノード ID</td></tr><tr><td scope="row">thr_no</td><td>整数</td><td>この LDM スレッドのスレッド ID</td></tr><tr><td scope="row">backup_lcp_speed_last_sec</td><td>整数</td><td>過去 1 秒間にバックアップおよび LCP プロセスによってディスクに書き込まれたバイト数</td></tr><tr><td scope="row">redo_speed_last_sec</td><td>整数</td><td>過去 1 秒間に Redo ログに書き込まれたバイト数</td></tr><tr><td scope="row">backup_lcp_speed_last_10sec</td><td>整数</td><td>バックアップおよび LCP プロセスによってディスクに書き込まれた 1 秒当たりのバイト数 (過去 10 秒間の平均値)</td></tr><tr><td scope="row">redo_speed_last_10sec</td><td>整数</td><td>Redo ログにディスクに書き込まれた 1 秒当たりのバイト数 (過去 10 秒間の平均値)</td></tr><tr><td scope="row">std_dev_backup_lcp_speed_last_10sec</td><td>整数</td><td>バックアップおよび LCP プロセスによってディスクに書き込まれた 1 秒当たりのバイト数の標準偏差 (過去 10 秒間の平均値)</td></tr><tr><td scope="row">std_dev_redo_speed_last_10sec</td><td>整数</td><td>Redo ログにディスクに書き込まれた 1 秒当たりのバイト数の標準偏差 (過去 10 秒間の平均値)</td></tr><tr><td scope="row">backup_lcp_speed_last_60sec</td><td>整数</td><td>バックアップおよび LCP プロセスによってディスクに書き込まれた 1 秒当たりのバイト数 (過去 60 秒間の平均値)</td></tr><tr><td scope="row">redo_speed_last_60sec</td><td>整数</td><td>Redo ログにディスクに書き込まれた 1 秒当たりのバイト数 (過去 10 秒間の平均値)</td></tr><tr><td scope="row">std_dev_backup_lcp_speed_last_60sec</td><td>整数</td><td>バックアップおよび LCP プロセスによってディスクに書き込まれた 1 秒当たりのバイト数の標準偏差 (過去 60 秒間の平均値)</td></tr><tr><td scope="row">std_dev_redo_speed_last_60sec</td><td>整数</td><td>Redo ログにディスクに書き込まれた 1 秒当たりのバイト数の標準偏差 (過去 60 秒間の平均値)</td></tr><tr><td scope="row">slowdowns_due_to_io_lag</td><td>整数</td><td>Redo ログの I/O ラグが原因でディスクの書き込み速度が低下した秒数</td></tr><tr><td scope="row">slowdowns_due_to_high_cpu</td><td>整数</td><td>高い CPU 使用率が原因でディスクの書き込み速度が低下した秒数</td></tr><tr><td scope="row">disk_write_speed_set_to_min</td><td>整数</td><td>ディスクの書き込み速度が最小に設定された秒数</td></tr><tr><td scope="row">current_target_disk_write_speed</td><td>整数</td><td>LDM スレッドごとの実際のディスク書き込み速度 (集計値)</td></tr></tbody></table></div><p>
        MySQL Cluster NDB 7.4.3 よりも前では、このテーブルの <code class="literal">std_dev_backup_lcp_speed_last_10sec</code>、<code class="literal">std_dev_redo_speed_last_10sec</code>、<code class="literal">std_dev_backup_lcp_speed_last_60sec</code>、および <code class="literal">std_dev_redo_speed_last_60sec</code> カラムに表示される値を取得する際に使用される標準偏差が正しく計算されませんでした。(Bug #74317、Bug #19795072)
      </p><p>
        MySQL Cluster NDB 7.4.3 よりも前では、このテーブルの一部のカラムには、値がキロバイトまたはその他のバイトの倍数単位で表示されていました。MySQL Cluster NDB 7.4.3 以降では、このようなカラムはすべて、値がバイト単位で表示されます。(Bug #74317、Bug #19795072) 次の表に、以前に実装された <code class="literal">disk_write_speed_aggregate</code> に関する情報を示します。
      </p><div class="informaltable"><table summary="この表は、MySQL Cluster NDB 7.4.2 以前の disk_write_speed_aggregate テーブルのカラムに関する情報を示し、カラムごとにカラム名、データ型、および簡単な説明を示します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">型</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row">node_id</td><td>整数</td><td>このノードのノード ID</td></tr><tr><td scope="row">thr_no</td><td>整数</td><td>この LDM スレッドのスレッド ID</td></tr><tr><td scope="row">backup_lcp_speed_last_sec</td><td>整数</td><td>過去 1 秒間にバックアップおよび LCP プロセスによってディスクに書き込まれたキロバイト数</td></tr><tr><td scope="row">redo_speed_last_sec</td><td>整数</td><td>過去 1 秒間に Redo ログにディスクに書き込まれたキロバイト数</td></tr><tr><td scope="row">backup_lcp_speed_last_10sec</td><td>整数</td><td>バックアップおよび LCP プロセスによってディスクに書き込まれた 1 秒当たりのキロバイト数 (過去 10 秒間の平均値)</td></tr><tr><td scope="row">redo_speed_last_10sec</td><td>整数</td><td>Redo ログにディスクに書き込まれた 1 秒当たりのキロバイト数 (過去 10 秒間の平均値)</td></tr><tr><td scope="row">std_dev_backup_lcp_speed_last_10sec</td><td>整数</td><td>バックアップおよび LCP プロセスによってディスクに書き込まれた 1 秒当たりのキロバイト数の標準偏差 (過去 10 秒間の平均値)</td></tr><tr><td scope="row">std_dev_redo_speed_last_10sec</td><td>整数</td><td>Redo ログにディスクに書き込まれた 1 秒当たりのキロバイト数の標準偏差 (過去 10 秒間の平均値)</td></tr><tr><td scope="row">backup_lcp_speed_last_60sec</td><td>整数</td><td>バックアップおよび LCP プロセスによってディスクに書き込まれた 1 秒当たりのキロバイト数 (過去 60 秒間の平均値)</td></tr><tr><td scope="row">redo_speed_last_60sec</td><td>整数</td><td>Redo ログにディスクに書き込まれた 1 秒当たりのキロバイト数 (過去 10 秒間の平均値)</td></tr><tr><td scope="row">std_dev_backup_lcp_speed_last_60sec</td><td>整数</td><td>バックアップおよび LCP プロセスによってディスクに書き込まれた 1 秒当たりのキロバイト数の標準偏差 (過去 60 秒間の平均値)</td></tr><tr><td scope="row">std_dev_redo_speed_last_60sec</td><td>整数</td><td>Redo ログに書き込まれた 1 秒当たりのキロバイト数の標準偏差 (過去 60 秒間の平均値)</td></tr><tr><td scope="row">slowdowns_due_to_io_lag</td><td>整数</td><td>Redo ログの I/O ラグが原因でディスクの書き込み速度が低下した秒数</td></tr><tr><td scope="row">slowdowns_due_to_high_cpu</td><td>整数</td><td>高い CPU 使用率が原因でディスクの書き込み速度が低下した秒数</td></tr><tr><td scope="row">disk_write_speed_set_to_min</td><td>整数</td><td>ディスクの書き込み速度が最小に設定された秒数</td></tr><tr><td scope="row">current_target_disk_write_speed</td><td>整数</td><td>LDM スレッドごとの実際のディスク書き込み速度 (集計値)</td></tr></tbody></table></div><p>
        <code class="literal">disk_write_speed_aggregate</code> テーブルは、MySQL Cluster NDB 7.4.1 で追加されました。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-ndbinfo-disk-write-speed-aggregate-node"></a>18.5.10.11 ndbinfo disk_write_speed_aggregate_node テーブル</h4></div></div></div><a class="indexterm" name="idm139979019841984"></a><p>
        <code class="literal">disk_write_speed_aggregate_node</code> テーブルは、LCP、バックアップ、およびリストア操作時のディスク書き込みの速度に関して集計された情報を示します。
      </p><p>
        次の表に、MySQL Cluster NDB 7.4.3 以降で実装された <code class="literal">disk_write_speed_aggregate_node</code> テーブルのカラムに関する情報を示します。MySQL Cluster NDB 7.4.2 以前の <code class="literal">disk_write_speed_aggregate_node</code> に関する情報は、このセクションの後半で見つけることができます。この表には、各カラムの名前、データ型、および簡単な説明を示します。追加情報については、表のあとに示す注記で見つけることができます。
      </p><div class="informaltable"><table summary="この表は、disk_write_speed_aggregate_node テーブルのカラムに関する情報を示し、カラムごとにカラム名、データ型、および簡単な説明を示します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">型</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row">node_id</td><td>整数</td><td>このノードのノード ID</td></tr><tr><td scope="row">backup_lcp_speed_last_sec</td><td>数値</td><td>過去 1 秒間にバックアップおよび LCP プロセスによってディスクに書き込まれたバイト数</td></tr><tr><td scope="row">redo_speed_last_sec</td><td>数値</td><td>過去 1 秒間に Redo ログに書き込まれたバイト数</td></tr><tr><td scope="row">backup_lcp_speed_last_10sec</td><td>数値</td><td>バックアップおよび LCP プロセスによってディスクに書き込まれた 1 秒当たりのバイト数 (過去 10 秒間の平均値)</td></tr><tr><td scope="row">redo_speed_last_10sec</td><td>数値</td><td>Redo ログにディスクに書き込まれた 1 秒当たりのバイト数 (過去 10 秒間の平均値)</td></tr><tr><td scope="row">backup_lcp_speed_last_60sec</td><td>数値</td><td>バックアップおよび LCP プロセスによってディスクに書き込まれた 1 秒当たりのバイト数 (過去 60 秒間の平均値)</td></tr><tr><td scope="row">redo_speed_last_60sec</td><td>数値</td><td>バックアップおよび LCP プロセスによってディスクに書き込まれた 1 秒当たりのバイト数 (過去 60 秒間の平均値)</td></tr></tbody></table></div><p>
        MySQL Cluster NDB 7.4.3 よりも前では、このテーブルのカラムは、値がキロバイト単位で示されていました。MySQL Cluster NDB 7.4.3 以降では、カラムにはこのような値がすべてバイト単位で表示されます。(Bug #74317、Bug #19795072) 次の表に、MySQL Cluster NDB 7.4.2 以前に実装された <code class="literal">disk_write_speed_aggregate</code> に関する情報を示します。
      </p><div class="informaltable"><table summary="この表は、MySQL Cluster NDB 7.4.3 よりも前に実装された disk_write_speed_aggregate_node テーブルのカラムに関する情報を示し、カラムごとにカラム名、データ型、および簡単な説明を示します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">型</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row">node_id</td><td>整数</td><td>このノードのノード ID</td></tr><tr><td scope="row">backup_lcp_speed_last_sec</td><td>数値</td><td>過去 1 秒間にバックアップおよび LCP プロセスによってディスクに書き込まれたキロバイト数</td></tr><tr><td scope="row">redo_speed_last_sec</td><td>数値</td><td>過去 1 秒間に Redo ログにディスクに書き込まれたキロバイト数</td></tr><tr><td scope="row">backup_lcp_speed_last_10sec</td><td>数値</td><td>バックアップおよび LCP プロセスによってディスクに書き込まれた 1 秒当たりのキロバイト数 (過去 10 秒間の平均値)</td></tr><tr><td scope="row">redo_speed_last_10sec</td><td>数値</td><td>Redo ログにディスクに書き込まれた 1 秒当たりのキロバイト数 (過去 10 秒間の平均値)</td></tr><tr><td scope="row">backup_lcp_speed_last_60sec</td><td>数値</td><td>バックアップおよび LCP プロセスによってディスクに書き込まれた 1 秒当たりのキロバイト数 (過去 60 秒間の平均値)</td></tr><tr><td scope="row">redo_speed_last_60sec</td><td>数値</td><td>バックアップおよび LCP プロセスによってディスクに書き込まれた 1 秒当たりのキロバイト数 (過去 60 秒間の平均値)</td></tr></tbody></table></div><p>
        <code class="literal">disk_write_speed_aggregate_node</code> テーブルは、MySQL Cluster NDB 7.4.1 で追加されました。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-ndbinfo-diskpagebuffer"></a>18.5.10.12 ndbinfo diskpagebuffer テーブル</h4></div></div></div><a class="indexterm" name="idm139979019793248"></a><p>
        <code class="literal">diskpagebuffer</code> テーブルは、MySQL Cluster ディスクデータテーブルによるディスクページバッファーの使用状況に関する統計を示します。
      </p><p>
        次の表に、<code class="literal">diskpagebuffer</code> テーブルのカラムに関する情報を示します。この表には、各カラムの名前、データ型、および簡単な説明を示します。追加情報については、表のあとに示す注記で見つけることができます。
      </p><div class="informaltable"><table summary="この表は、diskpagebuffer テーブルのカラムに関する情報を示します。この表は、カラムの名前、データ型、および簡単な説明を示します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">型</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">node_id</code></td><td>整数</td><td>データノード ID</td></tr><tr><td scope="row"><code class="literal">block_instance</code></td><td>整数</td><td>ブロックインスタンス</td></tr><tr><td scope="row"><code class="literal">pages_written</code></td><td>整数</td><td>ディスクに書き込まれたページ数。</td></tr><tr><td scope="row"><code class="literal">pages_written_lcp</code></td><td>整数</td><td>ローカルチェックポイントによって書き込まれたページ数。</td></tr><tr><td scope="row"><code class="literal">pages_read</code></td><td>整数</td><td>ディスクから読み取られたページ数</td></tr><tr><td scope="row"><code class="literal">log_waits</code></td><td>整数</td><td>ログがディスクに書き込まれるまで待機しているページ書き込みの数</td></tr><tr><td scope="row"><code class="literal">page_requests_direct_return</code></td><td>整数</td><td>バッファー内で使用可能だったページに対するリクエストの数</td></tr><tr><td scope="row"><code class="literal">page_requests_wait_queue</code></td><td>整数</td><td>ページがバッファー内で使用可能になるまで待機する必要があったリクエストの数</td></tr><tr><td scope="row"><code class="literal">page_requests_wait_io</code></td><td>整数</td><td>ディスク上のページから読み取る必要があった (バッファー内のページを使用できなかった) リクエストの数</td></tr></tbody></table></div><p>
        このテーブルを MySQL Cluster ディスクデータテーブルとともに使用すると、データをディスクからではなく、バッファーから読み取ることができるほど十分に <code class="literal">DiskPageBufferMemory</code> が大きいかどうかを確認できます。ディスクシークを最小にすることで、それらのテーブルのパフォーマンスの向上に役立つ可能性があります。
      </p><p>
        このようなクエリーを使用すると、読み取りの合計回数に対する <code class="literal">DiskPageBufferMemory</code> からの読み取りの比率を特定できます。この比率は、パーセンテージとして取得されます。
      </p><pre class="programlisting">
SELECT  
  node_id, 
  100 * page_requests_direct_return / 
    (page_requests_direct_return + page_requests_wait_io) 
      AS hit_ratio 
FROM ndbinfo.diskpagebuffer;
</pre><p>
        このクエリーによる結果は、クラスタ内のデータノード (この例では、クラスタには 4 つのデータノードがあります) ごとに 1 行で、次に示すものと同様になります。
      </p><pre class="programlisting">
+---------+-----------+
| node_id | hit_ratio |
+---------+-----------+
|       5 |   97.6744 |
|       6 |   97.6879 |
|       7 |   98.1776 |
|       8 |   98.1343 |
+---------+-----------+
4 rows in set (0.00 sec)
</pre><p>
        <code class="literal">hit_ratio</code> の値が 100% に近付いていることは、バッファーからではなく、ディスクから行われている読み取りの数が非常にわずかしかないことを示します。つまり、ディスクデータの読み取りパフォーマンスが最適なレベルに近付いています。これらの値のいずれかが 95% 未満である場合は、<code class="filename">config.ini</code> ファイルで <code class="literal">DiskPageBufferMemory</code> の設定を大きくする必要があることを強く示しています。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          <code class="literal">DiskPageBufferMemory</code> の変更が有効になる前に、クラスタのすべてのデータノードのローリング再起動が必要です。
        </p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-ndbinfo-logbuffers"></a>18.5.10.13 ndbinfo logbuffers テーブル</h4></div></div></div><a class="indexterm" name="idm139979019748912"></a><p>
        <code class="literal">logbuffer</code> テーブルは、MySQL Cluster ログバッファーの使用状況に関する情報を示します。
      </p><p>
        次の表に、<code class="literal">logbuffers</code> テーブルのカラムに関する情報を示します。この表には、各カラムの名前、データ型、および簡単な説明を示します。

        

      </p><div class="informaltable"><table summary="この表は、logbuffers テーブルのカラムに関する情報を示します。この表は、カラムの名前、データ型、および簡単な説明を示します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">型</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">node_id</code></td><td>整数</td><td>このデータノードの ID。</td></tr><tr><td scope="row"><code class="literal">log_type</code></td><td>文字列</td><td>ログのタイプ。<code class="literal">REDO</code> または <code class="literal">DD-UNDO</code> のいずれか。</td></tr><tr><td scope="row"><code class="literal">log_id</code></td><td>整数</td><td>ログ ID。</td></tr><tr><td scope="row"><code class="literal">log_part</code></td><td>整数</td><td>ログパート番号。</td></tr><tr><td scope="row"><code class="literal">total</code></td><td>整数</td><td>このログに使用可能な合計容量。</td></tr><tr><td scope="row"><code class="literal">used</code></td><td>整数</td><td>このログによって使用された容量。</td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-ndbinfo-logspaces"></a>18.5.10.14 ndbinfo logspaces テーブル</h4></div></div></div><a class="indexterm" name="idm139979019721504"></a><p>
        このテーブルは、MySQL Cluster ログ容量の使用状況に関する情報を示します。
      </p><p>
        次の表に、<code class="literal">logspaces</code> テーブルのカラムに関する情報を示します。この表には、各カラムの名前、データ型、および簡単な説明を示します。

        

      </p><div class="informaltable"><table summary="この表は、logspaces テーブルのカラムに関する情報を示します。この表には、カラムの名前、データ型、および簡単な説明を示します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">型</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">node_id</code></td><td>整数</td><td>このデータノードの ID。</td></tr><tr><td scope="row"><code class="literal">log_type</code></td><td>文字列</td><td>ログのタイプ。<code class="literal">REDO</code> または <code class="literal">DD-UNDO</code> のいずれか。</td></tr><tr><td scope="row"><code class="literal">log_id</code></td><td>整数</td><td>ログ ID。</td></tr><tr><td scope="row"><code class="literal">log_part</code></td><td>整数</td><td>ログパート番号。</td></tr><tr><td scope="row"><code class="literal">total</code></td><td>整数</td><td>このログに使用可能な合計容量。</td></tr><tr><td scope="row"><code class="literal">used</code></td><td>整数</td><td>このログによって使用された容量。</td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-ndbinfo-membership"></a>18.5.10.15 ndbinfo membership テーブル</h4></div></div></div><a class="indexterm" name="idm139979019694752"></a><p>
        <code class="literal">membership</code> テーブルは、ノードグループのメンバーシップ、プレジデントノード、アービトレータ、アービトレータの後継ノード、アービトレータの接続状態、およびその他の情報を含む、各データノードがクラスタ内のほかのすべてのノードについて保持するビューを示します。
      </p><p>
        次の表に、<code class="literal">membership</code> テーブルのカラムに関する情報を示します。この表には、各カラムの名前、データ型、および簡単な説明を示します。追加情報については、表のあとに示す注記で見つけることができます。
      </p><div class="informaltable"><table summary="この表は、membership テーブルのカラムに関する情報を示します。この表は、名前、データ型、および簡単な説明を示します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">型</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">node_id</code></td><td>整数</td><td>このノードのノード ID</td></tr><tr><td scope="row"><code class="literal">group_id</code></td><td>整数</td><td>このノードが属するノードグループ</td></tr><tr><td scope="row"><code class="literal">left node</code></td><td>整数</td><td>前のノードのノード ID</td></tr><tr><td scope="row"><code class="literal">right_node</code></td><td>整数</td><td>次のノードのノード ID</td></tr><tr><td scope="row"><code class="literal">president</code></td><td>整数</td><td>プレジデントのノード ID</td></tr><tr><td scope="row"><code class="literal">successor</code></td><td>整数</td><td>プレジデントの後継ノードのノード ID</td></tr><tr><td scope="row"><code class="literal">succession_order</code></td><td>整数</td><td>このノードがプレジデントの任務を継承する順序</td></tr><tr><td scope="row"><code class="literal">Conf_HB_order</code></td><td>整数</td><td>-</td></tr><tr><td scope="row"><code class="literal">arbitrator</code></td><td>整数</td><td>アービトレータのノード ID</td></tr><tr><td scope="row"><code class="literal">arb_ticket</code></td><td>文字列</td><td>アービトレーションを追跡するために使用される内部識別子</td></tr><tr><td scope="row"><code class="literal">arb_state</code></td><td>列挙 (テキストを参照)</td><td>アービトレーションの状態</td></tr><tr><td scope="row"><code class="literal">arb_connected</code></td><td><code class="literal">Yes</code> または <code class="literal">No</code></td><td>このノードがアービトレータに接続されているかどうか</td></tr><tr><td scope="row"><code class="literal">connected_rank1_arbs</code></td><td>ノード ID のリスト</td><td>接続されたランク 1 のアービトレータ</td></tr><tr><td scope="row"><code class="literal">connected_rank2_arbs</code></td><td>ノード ID のリスト</td><td>接続されたランク 1 のアービトレータ</td></tr></tbody></table></div><p>
        ノード ID およびノードグループ ID は、<span class="command"><strong>ndb_mgm -e "SHOW"</strong></span> でレポートされるものと同じです。
      </p><p>
        <code class="literal">left_node</code> および <code class="literal">right_node</code> は、次に示すように、時計文字板上の数字の順序と同様に、すべてのデータノードを、それらのノード ID の順序で円形に接続するモデルに関して定義されます。
      </p><div class="mediaobject"><img src="images/cluster-left-right.png" width="275" height="250" alt="円形でのノードの配置"></div><p>
        この例では、円形に右回りの順序で、5、6、7、8、12、13、14、15 の番号が付けられた 8 つのデータノードがあります。<span class="quote">「<span class="quote">左</span>」</span>と<span class="quote">「<span class="quote">右</span>」</span>は、円の内側から判断します。ノード 5 の左側にあるノードはノード 15 であり、ノード 5 の右側にあるノードはノード 6 です。次のクエリーを実行し、その出力を調査することで、これらの関係をすべて確認できます。
      </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT node_id,left_node,right_node</code></strong> 
    -&gt; <strong class="userinput"><code>FROM ndbinfo.membership;</code></strong>
+---------+-----------+------------+
| node_id | left_node | right_node |
+---------+-----------+------------+
|       5 |        15 |          6 |
|       6 |         5 |          7 |
|       7 |         6 |          8 |
|       8 |         7 |         12 |
|      12 |         8 |         13 |
|      13 |        12 |         14 |
|      14 |        13 |         15 |
|      15 |        14 |          5 |
+---------+-----------+------------+
8 rows in set (0.00 sec)
</pre><p>
        <span class="quote">「<span class="quote">左</span>」</span>と<span class="quote">「<span class="quote">右</span>」</span>の指定は、イベントログでも同様に使用されます。
      </p><p>
        <code class="literal">president</code> ノードは、現在のノードから、アービトレータを設定する責任を持つものとして見られるノードです (<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-start-phases.html" target="_top">MySQL Cluster Start Phases</a>を参照してください)。プレジデントで障害が発生したり、切断されたりすると、現在のノードは、<code class="literal">successor</code> カラムに ID が示されたノードが新しいプレジデントになることを期待します。<code class="literal">succession_order</code> カラムは、現在のノードが自分自身で持っているとみなす後継キュー内の場所を示します。
      </p><p>
        通常の MySQL Cluster では、すべてのデータノードが、同じノードを <code class="literal">president</code> として、および同じノード (プレジデント以外) をその <code class="literal">successor</code> として見るべきです。さらに、現在のプレジデントは、自分自身を後継順序の <code class="literal">1</code> とみなし、<code class="literal">successor</code> ノードは、自分自身を <code class="literal">2</code> とみなす、というようにするべきです。
      </p><p>
        すべてのノードで同じ <code class="literal">arb_state</code> の値、および同じ <code class="literal">arb_ticket</code> の値を示すべきです。可能性のある <code class="literal">arb_state</code> の値は <code class="literal">ARBIT_NULL</code>、<code class="literal">ARBIT_INIT</code>、<code class="literal">ARBIT_FIND</code>、<code class="literal">ARBIT_PREP1</code>、<code class="literal">ARBIT_PREP2</code>、<code class="literal">ARBIT_START</code>、<code class="literal">ARBIT_RUN</code>、<code class="literal">ARBIT_CHOOSE</code>、<code class="literal">ARBIT_CRASH</code>、および <code class="literal">UNKNOWN</code> です。
      </p><p>
        <code class="literal">arb_connected</code> は、このノードの <code class="literal">arbitrator</code> として示されているノードに、このノードが接続されているかどうかを示します。
      </p><p>
        <code class="literal">connected_rank1_arbs</code> および <code class="literal">connected_rank2_arbs</code> の各カラムには、<code class="literal">ArbitrationRank</code> がそれぞれ 1 または 2 と等しい 0 個以上のアービトレータのリストが表示されます。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          管理ノードと API ノードの両方に、アービトレータになる資格があります。
        </p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-ndbinfo-memoryusage"></a>18.5.10.16 ndbinfo memoryusage テーブル</h4></div></div></div><a class="indexterm" name="idm139979019611456"></a><p>
        このテーブルをクエリーすると、<span class="command"><strong>ndb_mgm</strong></span> クライアントで <code class="literal">ALL REPORT MemoryUsage</code> コマンドによって提供されるものや、<code class="literal">ALL DUMP 1000</code> によってログに記録されるものと同様の情報が提供されます。
      </p><p>
        次の表に、<code class="literal">memoryusage</code> テーブルのカラムに関する情報を示します。この表には、各カラムの名前、データ型、および簡単な説明を示します。追加情報については、表のあとに示す注記で見つけることができます。
      </p><div class="informaltable"><table summary="この表は、memoryusage テーブルのカラムに関する情報を示します。この表には、カラムの名前、データ型、および簡単な説明を示します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">型</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">node_id</code></td><td>整数</td><td>このデータノードのノード ID。</td></tr><tr><td scope="row"><code class="literal">memory_type</code></td><td>文字列</td><td><code class="literal">Data memory</code> または <code class="literal">Index memory</code> のいずれか、または (<span class="emphasis"><em>MySQL Cluster NDB 7.3.5 以降</em></span>) <code class="literal">Long message buffer</code>。</td></tr><tr><td scope="row"><code class="literal">used</code></td><td>整数</td><td>このデータノードでデータメモリーまたはインデックスメモリーに現在使用されているバイト数。</td></tr><tr><td scope="row"><code class="literal">used_pages</code></td><td>整数</td><td>このデータノードでデータメモリーまたはインデックスメモリーに現在使用されているページ数 (テキストを参照してください)。</td></tr><tr><td scope="row"><code class="literal">total</code></td><td>整数</td><td>このデータノードに使用可能なデータメモリーまたはインデックスメモリーの合計バイト数 (テキストを参照してください)。</td></tr><tr><td scope="row"><code class="literal">total_pages</code></td><td>整数</td><td>このデータノード上のデータメモリーまたはインデックスメモリーに使用可能なメモリーページの合計数 (テキストを参照してください)。</td></tr></tbody></table></div><p>
        <code class="literal">total</code> カラムは、特定のデータノード上の特定のリソース (データメモリーまたはインデックスメモリ) に使用可能なメモリーの合計量をバイト単位で表します。この数値は、<code class="filename">config.ini</code> ファイル内の対応する構成パラメータの設定にほぼ等しいです。
      </p><p>
        クラスタにノード ID <code class="literal">5</code> と <code class="literal">6</code> を持つ 2 つのデータノードがあり、<code class="filename">config.ini</code> ファイルに次が含まれると仮定します。
      </p><pre class="programlisting">
[ndbd default]
DataMemory = 1G
IndexMemory = 1G
</pre><p>
        さらに、<code class="literal">LongMessageBuffer</code> 構成パラメータの値をそのデフォルト (MySQL Cluster NDB 7.3.5 以降では 64M バイト) にすることが許可されていると仮定します。
      </p><p>
        次のクエリーでは、ほぼ同じ値が表示されます。
      </p><pre class="programlisting">
mysql&gt; SELECT node_id, memory_type, total 
     &gt; FROM ndbinfo.memoryusage;
+---------+---------------------+------------+
| node_id | memory_type         | total      |
+---------+---------------------+------------+
|       5 | Data memory         | 1073741824 |
|       5 | Index memory        | 1074003968 |
|       5 | Long message buffer |   67108864 |
|       6 | Data memory         | 1073741824 |
|       6 | Index memory        | 1074003968 |
|       6 | Long message buffer |   67108864 |
+---------+---------------------+------------+
6 rows in set (0.00 sec)
</pre><p>
        この場合、インデックスメモリーの <code class="literal">total</code> カラムの値は、内部の丸め処理によって <code class="literal">IndexMemory</code> の値セットよりもわずかに大きくなります。
      </p><p>
        <code class="literal">used_pages</code> および <code class="literal">total_pages</code> カラムでは、リソースがページ単位で計測されます。これらのサイズは、<code class="literal">DataMemory</code> では 32K、<code class="literal">IndexMemory</code> では 8K です。長いメッセージバッファーメモリーの場合、ページサイズは 256 バイトです。
      </p><p>
        MySQL Cluster NDB 7.3.5 以降では、このテーブルに長いメッセージバッファーの情報が見つかることがあります。旧バージョンの MySQL Cluster では、データメモリーとインデックスメモリーのみが含まれていました。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-ndbinfo-memory-per-fragment"></a>18.5.10.17 ndbinfo memory_per_fragment テーブル</h4></div></div></div><a class="indexterm" name="idm139979019563360"></a><p>
        <code class="literal">memory_per_fragment</code> テーブルは、個々のフラグメントごとのメモリーの使用状況に関する情報を示します。
      </p><p>
        次の表に、<code class="literal">memory_per_fragment</code> テーブルのカラムに関する情報を示します。この表には、各カラムの名前、データ型、および簡単な説明を示します。追加情報については、表のあとに示す注記で見つけることができます。
      </p><div class="informaltable"><table summary="この表は、memory_per_fragment テーブルのカラムに関する情報を示します。この表は、カラムの名前、データ型、および簡単な説明を示します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">型</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row">fq_name</td><td>文字列</td><td>このフラグメントの名前</td></tr><tr><td scope="row">parent_fq_name</td><td>文字列</td><td>このフラグメントの親の名前</td></tr><tr><td scope="row">type</td><td>文字列</td><td>オブジェクトのタイプ (可能性のある値についてはテキストを参照してください)</td></tr><tr><td scope="row">table_id</td><td>整数</td><td>このテーブルのテーブル ID</td></tr><tr><td scope="row">node_id</td><td>整数</td><td>このノードのノード ID</td></tr><tr><td scope="row">block_instance</td><td>整数</td><td>カーネルブロックインスタンス ID</td></tr><tr><td scope="row">fragment_num</td><td>整数</td><td>フラグメント ID (番号)</td></tr><tr><td scope="row">fixed_elem_alloc_bytes</td><td>整数</td><td>固定サイズの要素に割り当てられたバイト数</td></tr><tr><td scope="row">fixed_elem_free_bytes</td><td>整数</td><td>固定サイズの要素に割り当てられたページ単位の残りの空きバイト数</td></tr><tr><td scope="row">fixed_elem_size_bytes</td><td>整数</td><td>固定サイズの各要素のバイト単位の長さ</td></tr><tr><td scope="row">fixed_elem_count</td><td>整数</td><td>固定サイズの要素の数</td></tr><tr><td scope="row">fixed_elem_free_rows</td><td>10 進数</td><td>固定サイズの要素用の空き行数</td></tr><tr><td scope="row">var_elem_alloc_bytes</td><td>整数</td><td>可変サイズの要素に割り当てられたバイト数</td></tr><tr><td scope="row">var_elem_free_bytes</td><td>整数</td><td>可変サイズの要素に割り当てられたページ単位の残りの空きバイト数</td></tr><tr><td scope="row">var_elem_count</td><td>整数</td><td>可変サイズの要素の数</td></tr><tr><td scope="row">hash_index_alloc_bytes</td><td>整数</td><td>ハッシュインデックスに割り当てられたバイト数</td></tr></tbody></table></div><p>
        このテーブルの <code class="literal">type</code> カラムは、このフラグメントで使用されるディクショナリオブジェクトのタイプ (NDB API では <code class="literal">Object::Type</code>) を示し、次のリストに示す値のいずれかを取る可能性があります。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            System table
          </p></li><li class="listitem"><p>
            User table
          </p></li><li class="listitem"><p>
            Unique hash index
          </p></li><li class="listitem"><p>
            Hash index
          </p></li><li class="listitem"><p>
            Unique ordered index
          </p></li><li class="listitem"><p>
            Ordered index
          </p></li><li class="listitem"><p>
            Hash index trigger
          </p></li><li class="listitem"><p>
            Subscription trigger
          </p></li><li class="listitem"><p>
            Read only constraint
          </p></li><li class="listitem"><p>
            Index trigger
          </p></li><li class="listitem"><p>
            Reorganize trigger
          </p></li><li class="listitem"><p>
            テーブルスペース
          </p></li><li class="listitem"><p>
            Log file group
          </p></li><li class="listitem"><p>
            データファイル
          </p></li><li class="listitem"><p>
            Undo file
          </p></li><li class="listitem"><p>
            Hash map
          </p></li><li class="listitem"><p>
            Foreign key definition
          </p></li><li class="listitem"><p>
            Foreign key parent trigger
          </p></li><li class="listitem"><p>
            Foreign key child trigger
          </p></li><li class="listitem"><p>
            Schema transaction
          </p></li></ul></div><p>
        このリストは、<span class="command"><strong>mysql</strong></span> クライアントで <code class="literal">SELECT * FROM</code> <code class="literal">ndbinfo.dict_obj_types</code> を実行して取得することもできます。
      </p><p>
        このテーブルは MySQL Cluster NDB 7.4.1 で追加されました。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-ndbinfo-nodes"></a>18.5.10.18 ndbinfo nodes テーブル</h4></div></div></div><a class="indexterm" name="idm139979019499920"></a><p>
        このテーブルには、データノードのステータスに関する情報が格納されます。このテーブルの対応する行には、クラスタ内で実行されているデータノードごとに、ノードのノード ID、ステータス、および稼働時間が示されます。起動中のノードごとに、現在の起動フェーズも示されます。
      </p><p>
        次の表に、<code class="literal">nodes</code> テーブルのカラムに関する情報を示します。この表には、各カラムの名前、データ型、および簡単な説明を示します。追加情報については、表のあとに示す注記で見つけることができます。
      </p><div class="informaltable"><table summary="この表は、nodes テーブルのカラムに関する情報を示します。この表には、カラムの名前、データ型、および簡単な説明を示します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">型</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">node_id</code></td><td>整数</td><td>クラスタ内のデータノードの一意のノード ID。</td></tr><tr><td scope="row"><code class="literal">uptime</code></td><td>整数</td><td>ノードが最後に起動されてからの秒単位の時間。</td></tr><tr><td scope="row"><code class="literal">status</code></td><td>文字列</td><td>データノードの現在のステータス。可能性のある値についてはテキストを参照してください。</td></tr><tr><td scope="row"><code class="literal">start_phase</code></td><td>整数</td><td>データノードが起動中の場合、現在の起動フェーズ。</td></tr><tr><td scope="row"><code class="literal">config_generation</code></td><td>整数</td><td>このデータノードで使用中のクラスタ構成ファイルのバージョン。</td></tr></tbody></table></div><p>
        <code class="literal">uptime</code> カラムは、このノードが最後に起動または再起動されてから実行している時間を秒単位で示します。これは <code class="literal">BIGINT</code> 値です。この数値には、ノードを起動するために実際に必要な時間が含まれます。言い換えると、このカウンタは、<span class="command"><strong>ndbd</strong></span> または <span class="command"><strong>ndbmtd</strong></span> が最初に呼び出された瞬間に実行を開始します。したがって、ノードの起動が終了していない場合でも、<code class="literal">uptime</code> にゼロ以外の値が示される可能性があります。
      </p><p>
        <code class="literal">status</code> カラムは、ノードの現在のステータスを示します。これは、<code class="literal">NOTHING</code>、<code class="literal">CMVMI</code>、<code class="literal">STARTING</code>、<code class="literal">STARTED</code>、<code class="literal">SINGLEUSER</code>、<code class="literal">STOPPING_1</code>、<code class="literal">STOPPING_2</code>、<code class="literal">STOPPING_3</code>、または <code class="literal">STOPPING_4</code> のいずれかです。ステータスが <code class="literal">STARTING</code> の場合は、<code class="literal">start_phase</code> カラムで現在の起動フェーズを確認できます (このセクションの後半を参照してください)。クラスタがシングルユーザーモードになっているときは、すべてのデータノードの <code class="literal">status</code> カラムに <code class="literal">SINGLEUSER</code> が表示されます (<a class="xref" href="mysql-cluster.html#mysql-cluster-single-user-mode" title="18.5.8 MySQL Cluster のシングルユーザーモード">セクション18.5.8「MySQL Cluster のシングルユーザーモード」</a>を参照してください)。<code class="literal">STOPPING</code> 状態のいずれかが表示されても、必ずしもノードがシャットダウン中であることを意味していませんが、それよりも新しい状態に移行していることを意味している可能性があります。たとえば、クラスタをシングルユーザーモードにしている場合、ステータスが <code class="literal">SINGLEUSER</code> に変更される前に、データノードの状態が一時的に <code class="literal">STOPPING_2</code> としてレポートされることがあります。
      </p><p>
        <code class="literal">start_phase</code> カラムでは、<span class="command"><strong>ndb_mgm</strong></span> クライアントの <code class="literal"><em class="replaceable"><code>node_id</code></em> STATUS</code> コマンドの出力で使用されるものと同じ範囲の値が使用されます (<a class="xref" href="mysql-cluster.html#mysql-cluster-mgm-client-commands" title="18.5.2 MySQL Cluster 管理クライアントのコマンド">セクション18.5.2「MySQL Cluster 管理クライアントのコマンド」</a>を参照してください)。ノードが現在起動中でない場合、このカラムは <code class="literal">0</code> を示します。MySQL Cluster の起動フェーズの説明を含むリストについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-start-phases" title="18.5.1 MySQL Cluster の起動フェーズのサマリー">セクション18.5.1「MySQL Cluster の起動フェーズのサマリー」</a>を参照してください。
      </p><p>
        <code class="literal">config_generation</code> カラムは、各データノードで有効になっているクラスタ構成のバージョンを示します。これは、構成パラメータの変更を行うために、クラスタのローリング再起動を実行する際に役立つことがあります。たとえば、次の <code class="literal">SELECT</code> ステートメントの出力から、ノード 1、2、4 では最新バージョンのクラスタ構成 (<code class="literal">6</code>) が使用されているが、ノード 3 ではまだ使用されていないことを確認できます。
      </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>USE ndbinfo;</code></strong>
Database changed
mysql&gt; <strong class="userinput"><code>SELECT * FROM nodes;</code></strong>
+---------+--------+---------+-------------+-------------------+
| node_id | uptime | status  | start_phase | config_generation |
+---------+--------+---------+-------------+-------------------+
|       1 |  10462 | STARTED |           0 |                 6 |
|       2 |  10460 | STARTED |           0 |                 6 |
|       3 |  10457 | STARTED |           0 |                 5 |
|       4 |  10455 | STARTED |           0 |                 6 |
+---------+--------+---------+-------------+-------------------+
2 rows in set (0.04 sec)
</pre><p>
        したがって、上記で示したケースでは、クラスタのローリング再起動を完了するために、ノード 3 を再起動するようにしてください。
      </p><p>
        このテーブルでは、停止されたノードは考慮されません。MySQL Cluster が 4 つのデータノード (ノード ID 1、2、3、4) を持ち、すべてのノードが正常に実行されていると仮定すると、このテーブルにはデータノードごとに 1 行ずつの 4 つの行 が格納されます。
      </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>USE ndbinfo;</code></strong>
Database changed
mysql&gt; <strong class="userinput"><code>SELECT * FROM nodes;</code></strong>
+---------+--------+---------+-------------+-------------------+
| node_id | uptime | status  | start_phase | config_generation |
+---------+--------+---------+-------------+-------------------+
|       1 |  11776 | STARTED |           0 |                 6 |
|       2 |  11774 | STARTED |           0 |                 6 |
|       3 |  11771 | STARTED |           0 |                 6 |
|       4 |  11769 | STARTED |           0 |                 6 |
+---------+--------+---------+-------------+-------------------+
4 rows in set (0.04 sec)
</pre><p>
        ノードのいずれかをシャットダウンすると、この <code class="literal">SELECT</code> ステートメントの出力には、次に示すように、まだ実行中のノードのみが表示されます。
      </p><pre class="programlisting">
ndb_mgm&gt; <strong class="userinput"><code>2 STOP</code></strong>
Node 2: Node shutdown initiated
Node 2: Node shutdown completed.
Node 2 has shutdown.
</pre><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT * FROM nodes;</code></strong>
+---------+--------+---------+-------------+-------------------+
| node_id | uptime | status  | start_phase | config_generation |
+---------+--------+---------+-------------+-------------------+
|       1 |  11807 | STARTED |           0 |                 6 |
|       3 |  11802 | STARTED |           0 |                 6 |
|       4 |  11800 | STARTED |           0 |                 6 |
+---------+--------+---------+-------------+-------------------+
3 rows in set (0.02 sec)
</pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-ndbinfo-resources"></a>18.5.10.19 ndbinfo resources テーブル</h4></div></div></div><a class="indexterm" name="idm139979019434864"></a><p>
        このテーブルは、データノードリソースの可用性および使用状況に関する情報を示します。
      </p><p>
        これらのリソースは、<em class="firstterm">スーパープール</em>と呼ばれることがあります。
      </p><p>
        次の表に、<code class="literal">resources</code> テーブルのカラムに関する情報を示します。この表には、各カラムの名前、データ型、および簡単な説明を示します。追加情報については、表のあとに示す注記で見つけることができます。
      </p><div class="informaltable"><table summary="この表は、resources テーブルのカラムに関する情報を示します。この表には、カラムの名前、データ型、および簡単な説明を示します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">型</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">node_id</code></td><td>整数</td><td>このデータノードの一意のノード ID。</td></tr><tr><td scope="row"><code class="literal">resource_name</code></td><td>文字列</td><td>リソースの名前。テキストを参照してください。</td></tr><tr><td scope="row"><code class="literal">reserved</code></td><td>整数</td><td>このリソース用に予約された量。</td></tr><tr><td scope="row"><code class="literal">used</code></td><td>整数</td><td>このリソースで実際に使用された量。</td></tr><tr><td scope="row"><code class="literal">max</code></td><td>整数</td><td>ノードが最後に起動されてから使用されたこのリソースの最大量。</td></tr></tbody></table></div><p>
        <code class="literal">resource_name</code> は、<code class="literal">RESERVED</code>、<code class="literal">DISK_OPERATIONS</code>、<code class="literal">DISK_RECORDS</code>、<code class="literal">DATA_MEMORY</code>、<code class="literal">JOBBUFFER</code>、<code class="literal">FILE_BUFFERS</code>、または <code class="literal">TRANSPORTER_BUFFERS</code> のいずれかになる可能性があります。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-ndbinfo-server-operations"></a>18.5.10.20 ndbinfo server_operations テーブル</h4></div></div></div><a class="indexterm" name="idm139979019404032"></a><p>
        <code class="literal">server_operations</code> テーブルは、現在の SQL ノード (MySQL サーバー) が現在関与している進行中のすべての <code class="literal">NDB</code> 操作を表すエントリを格納します。それは事実上、その他の SQL ノードおよび API ノードに対する操作が表示されない <code class="literal">cluster_operations</code> テーブルのサブセットです。
      </p><p>
        次の表に、<code class="literal">server_operations</code> テーブルのカラムに関する情報を示します。この表には、各カラムの名前、データ型、および簡単な説明を示します。追加情報については、表のあとに示す注記で見つけることができます。
      </p><div class="informaltable"><table summary="この表は、server_operations テーブルのカラムに関する情報を示します。この表には、カラムの名前、データ型、および簡単な説明を示します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">型</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">mysql_connection_id</code></td><td>整数</td><td>MySQL Server 接続 ID</td></tr><tr><td scope="row"><code class="literal">node_id</code></td><td>整数</td><td>ノード ID</td></tr><tr><td scope="row"><code class="literal">block_instance</code></td><td>整数</td><td>ブロックインスタンス</td></tr><tr><td scope="row"><code class="literal">transid</code></td><td>整数</td><td>トランザクション ID</td></tr><tr><td scope="row"><code class="literal">operation_type</code></td><td>文字列</td><td>操作のタイプ (可能性のある値についてはテキストを参照)</td></tr><tr><td scope="row"><code class="literal">state</code></td><td>文字列</td><td>操作の状態 (可能性のある値についてはテキストを参照)</td></tr><tr><td scope="row"><code class="literal">tableid</code></td><td>整数</td><td>テーブル ID</td></tr><tr><td scope="row"><code class="literal">fragmentid</code></td><td>整数</td><td>フラグメント ID</td></tr><tr><td scope="row"><code class="literal">client_node_id</code></td><td>整数</td><td>クライアントノード ID</td></tr><tr><td scope="row"><code class="literal">client_block_ref</code></td><td>整数</td><td>クライアントのブロック参照</td></tr><tr><td scope="row"><code class="literal">tc_node_id</code></td><td>整数</td><td>トランザクションコーディネータノード ID</td></tr><tr><td scope="row"><code class="literal">tc_block_no</code></td><td>整数</td><td>トランザクションコーディネータブロック番号</td></tr><tr><td scope="row"><code class="literal">tc_block_instance</code></td><td>整数</td><td>トランザクションコーディネータブロックインスタンス</td></tr></tbody></table></div><p>
        <code class="literal">mysql_connection_id</code> は、<code class="literal">SHOW PROCESSLIST</code> の出力に示された接続またはセッション ID と同じです。それは <code class="literal">INFORMATION_SCHEMA</code> のテーブル <code class="literal">NDB_TRANSID_MYSQL_CONNECTION_MAP</code> から取得されます。
      </p><p>
        トランザクション ID は、NDB API の <code class="literal">getTransactionId()</code> メソッドを使用して取得できる一意の 64 ビット数値です。(現在、MySQL サーバーは進行中のトランザクションの NDB API トランザクション ID を公開しません。)
      </p><p>
        <code class="literal">operation_type</code> カラムは、<code class="literal">READ</code>、<code class="literal">READ-SH</code>、<code class="literal">READ-EX</code>、<code class="literal">INSERT</code>、<code class="literal">UPDATE</code>、<code class="literal">DELETE</code>、<code class="literal">WRITE</code>、<code class="literal">UNLOCK</code>、<code class="literal">REFRESH</code>、<code class="literal">SCAN</code>、<code class="literal">SCAN-SH</code>、<code class="literal">SCAN-EX</code>、または <code class="literal">&lt;unknown&gt;</code> のいずれかの値を取ることができます。
      </p><p>
        <code class="literal">state</code> カラムは、<code class="literal">ABORT_QUEUED</code>、<code class="literal">ABORT_STOPPED</code>、<code class="literal">COMMITTED</code>、<code class="literal">COMMIT_QUEUED</code>、<code class="literal">COMMIT_STOPPED</code>、<code class="literal">COPY_CLOSE_STOPPED</code>、<code class="literal">COPY_FIRST_STOPPED</code>、<code class="literal">COPY_STOPPED</code>、<code class="literal">COPY_TUPKEY</code>、<code class="literal">IDLE</code>、<code class="literal">LOG_ABORT_QUEUED</code>、<code class="literal">LOG_COMMIT_QUEUED</code>、<code class="literal">LOG_COMMIT_QUEUED_WAIT_SIGNAL</code>、<code class="literal">LOG_COMMIT_WRITTEN</code>、<code class="literal">LOG_COMMIT_WRITTEN_WAIT_SIGNAL</code>、<code class="literal">LOG_QUEUED</code>、<code class="literal">PREPARED</code>、<code class="literal">PREPARED_RECEIVED_COMMIT</code>、<code class="literal">SCAN_CHECK_STOPPED</code>、<code class="literal">SCAN_CLOSE_STOPPED</code>、<code class="literal">SCAN_FIRST_STOPPED</code>、<code class="literal">SCAN_RELEASE_STOPPED</code>、<code class="literal">SCAN_STATE_USED</code>、<code class="literal">SCAN_STOPPED</code>、<code class="literal">SCAN_TUPKEY</code>、<code class="literal">STOPPED</code>、<code class="literal">TC_NOT_CONNECTED</code>、<code class="literal">WAIT_ACC</code>、<code class="literal">WAIT_ACC_ABORT</code>、<code class="literal">WAIT_AI_AFTER_ABORT</code>、<code class="literal">WAIT_ATTR</code>、<code class="literal">WAIT_SCAN_AI</code>、<code class="literal">WAIT_TUP</code>、<code class="literal">WAIT_TUPKEYINFO</code>、<code class="literal">WAIT_TUP_COMMIT</code>、または <code class="literal">WAIT_TUP_TO_ABORT</code> のいずれかの値を取ることができます。(<code class="literal">ndbinfo_show_hidden</code> を有効にして MySQL サーバーが実行されている場合は、通常は非表示になっている <code class="literal">ndb$dblqh_tcconnect_state</code> テーブルから選択することで、この状態のリストを表示できます。)
      </p><p>
        <span class="command"><strong>ndb_show_tables</strong></span> の出力をチェックして、テーブル ID から <code class="literal">NDB</code> テーブルの名前を取得できます。
      </p><p>
        <code class="literal">fragid</code> は、<span class="command"><strong>ndb_desc</strong></span> <code class="option">--extra-partition-info</code> (短縮形式 <code class="option">-p</code>) の出力で見られるパーティション番号と同じです。
      </p><p>
        <code class="literal">client_node_id</code> および <code class="literal">client_block_ref</code> の <code class="literal">client</code> は MySQL Cluster の API ノードまたは SQL ノード (つまり、クラスタに接続されている NDB API クライアントまたは MySQL サーバー) を表します。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-ndbinfo-server-transactions"></a>18.5.10.21 ndbinfo server_transactions テーブル</h4></div></div></div><a class="indexterm" name="idm139979019307904"></a><p>
        <code class="literal">server_transactions</code> テーブルは、<code class="literal">cluster_transactions</code> テーブルのサブセットですが、このテーブルに関連する接続 ID が含まれている場合は、現在の SQL ノード (MySQL サーバー) が参加しているトランザクションのみが含まれます。
      </p><p>
        次の表に、<code class="literal">server_transactions</code> テーブルのカラムに関する情報を示します。この表には、各カラムの名前、データ型、および簡単な説明を示します。追加情報については、表のあとに示す注記で見つけることができます。
      </p><div class="informaltable"><table summary="この表は、server_transactions テーブルのカラムに関する情報を示します。この表には、カラムの名前、データ型、および簡単な説明を示します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">型</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">mysql_connection_id</code></td><td>整数</td><td>MySQL Server 接続 ID</td></tr><tr><td scope="row"><code class="literal">node_id</code></td><td>整数</td><td>トランザクションコーディネータノード ID</td></tr><tr><td scope="row"><code class="literal">block_instance</code></td><td>整数</td><td>トランザクションコーディネータブロックインスタンス</td></tr><tr><td scope="row"><code class="literal">transid</code></td><td>整数</td><td>トランザクション ID</td></tr><tr><td scope="row"><code class="literal">state</code></td><td>文字列</td><td>操作の状態 (可能性のある値についてはテキストを参照)</td></tr><tr><td scope="row"><code class="literal">count_operations</code></td><td>整数</td><td>トランザクションでのステートフル操作の数</td></tr><tr><td scope="row"><code class="literal">outstanding_operations</code></td><td>整数</td><td>ローカルデータ管理レイヤー (LQH ブロック) でまだ実行されている操作</td></tr><tr><td scope="row"><code class="literal">inactive_seconds</code></td><td>整数</td><td>API の待機に要した時間</td></tr><tr><td scope="row"><code class="literal">client_node_id</code></td><td>整数</td><td>クライアントノード ID</td></tr><tr><td scope="row"><code class="literal">client_block_ref</code></td><td>整数</td><td>クライアントのブロック参照</td></tr></tbody></table></div><p>
        <code class="literal">mysql_connection_id</code> は、<code class="literal">SHOW PROCESSLIST</code> の出力に示された接続またはセッション ID と同じです。それは <code class="literal">INFORMATION_SCHEMA</code> のテーブル <code class="literal">NDB_TRANSID_MYSQL_CONNECTION_MAP</code> から取得されます。
      </p><p>
        トランザクション ID は、NDB API の <code class="literal">getTransactionId()</code> メソッドを使用して取得できる一意の 64 ビット数値です。(現在、MySQL サーバーは進行中のトランザクションの NDB API トランザクション ID を公開しません。)
      </p><p>
        <code class="literal">state</code> カラムは、<code class="literal">CS_ABORTING</code>、<code class="literal">CS_COMMITTING</code>、<code class="literal">CS_COMMIT_SENT</code>、<code class="literal">CS_COMPLETE_SENT</code>、<code class="literal">CS_COMPLETING</code>、<code class="literal">CS_CONNECTED</code>、<code class="literal">CS_DISCONNECTED</code>、<code class="literal">CS_FAIL_ABORTED</code>、<code class="literal">CS_FAIL_ABORTING</code>、<code class="literal">CS_FAIL_COMMITTED</code>、<code class="literal">CS_FAIL_COMMITTING</code>、<code class="literal">CS_FAIL_COMPLETED</code>、<code class="literal">CS_FAIL_PREPARED</code>、<code class="literal">CS_PREPARE_TO_COMMIT</code>、<code class="literal">CS_RECEIVING</code>、<code class="literal">CS_REC_COMMITTING</code>、<code class="literal">CS_RESTART</code>、<code class="literal">CS_SEND_FIRE_TRIG_REQ</code>、<code class="literal">CS_STARTED</code>、<code class="literal">CS_START_COMMITTING</code>、<code class="literal">CS_START_SCAN</code>、<code class="literal">CS_WAIT_ABORT_CONF</code>、<code class="literal">CS_WAIT_COMMIT_CONF</code>、<code class="literal">CS_WAIT_COMPLETE_CONF</code>、<code class="literal">CS_WAIT_FIRE_TRIG_REQ</code> のいずれかの値を持つ可能性があります。(<code class="literal">ndbinfo_show_hidden</code> を有効にして MySQL サーバーが実行されている場合は、通常は非表示になっている <code class="literal">ndb$dbtc_apiconnect_state</code> テーブルから選択することで、この状態のリストを表示できます。)
      </p><p>
        <code class="literal">client_node_id</code> および <code class="literal">client_block_ref</code> の <code class="literal">client</code> は MySQL Cluster の API ノードまたは SQL ノード (つまり、クラスタに接続されている NDB API クライアントまたは MySQL サーバー) を表します。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-ndbinfo-threadblocks"></a>18.5.10.22 ndbinfo threadblocks テーブル</h4></div></div></div><a class="indexterm" name="idm139979019242592"></a><p>
        <code class="literal">threadblocks</code> テーブルは、<code class="literal">NDB</code> カーネルブロックのデータノード、スレッド、およびインスタンスを関連付けます。
      </p><p>
        次の表に、<code class="literal">threadblocks</code> テーブルのカラムに関する情報を示します。この表には、各カラムの名前、データ型、および簡単な説明を示します。追加情報については、表のあとに示す注記で見つけることができます。
      </p><div class="informaltable"><table summary="この表は、threadblocks テーブルのカラムに関する情報を示します。この表には、カラムの名前、データ型、および簡単な説明を示します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">型</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">node_id</code></td><td>整数</td><td>ノード ID</td></tr><tr><td scope="row"><code class="literal">thr_no</code></td><td>整数</td><td>スレッド ID</td></tr><tr><td scope="row"><code class="literal">block_name</code></td><td>文字列</td><td>ブロック名</td></tr><tr><td scope="row"><code class="literal">block_instance</code></td><td>整数</td><td>ブロックインスタンス番号</td></tr></tbody></table></div><p>
        <code class="literal">block_name</code> は、<code class="literal">ndbinfo.blocks</code> テーブルから選択する場合に <code class="literal">block_name</code> カラムで見つかる値のいずれかです。特定の MySQL Cluster リリースで可能性のある値のリストは静的ですが、そのリストはリリース間で異なることがあります。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-ndbinfo-threadstat"></a>18.5.10.23 ndbinfo threadstat テーブル</h4></div></div></div><a class="indexterm" name="idm139979019217312"></a><p>
        <code class="literal">threadstat</code> テーブルは、<code class="literal">NDB</code> カーネルで実行されているスレッドの統計の概略のスナップショットを示します。
      </p><p>
        次の表に、<code class="literal">threadstat</code> テーブルのカラムに関する情報を示します。この表には、各カラムの名前、データ型、および簡単な説明を示します。追加情報については、表のあとに示す注記で見つけることができます。
      </p><div class="informaltable"><table summary="この表は、threadstat テーブルのカラムに関する情報を示します。この表は、カラムの名前、データ型、および簡単な説明を示します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">型</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">node_id</code></td><td>整数</td><td>ノード ID</td></tr><tr><td scope="row"><code class="literal">thr_no</code></td><td>整数</td><td>スレッド ID</td></tr><tr><td scope="row"><code class="literal">thr_nm</code></td><td>文字列</td><td>スレッド名</td></tr><tr><td scope="row"><code class="literal">c_loop</code></td><td>文字列</td><td>メインループ内のループ数</td></tr><tr><td scope="row"><code class="literal">c_exec</code></td><td>文字列</td><td>実行されたシグナルの数</td></tr><tr><td scope="row"><code class="literal">c_wait</code></td><td>文字列</td><td>追加入力を待機している回数</td></tr><tr><td scope="row"><code class="literal">c_l_sent_prioa</code></td><td>整数</td><td>独自のノードに送信された優先度 A のシグナルの数</td></tr><tr><td scope="row"><code class="literal">c_l_sent_priob</code></td><td>整数</td><td>独自のノードに送信された優先度 B のシグナルの数</td></tr><tr><td scope="row"><code class="literal">c_r_sent_prioa</code></td><td>整数</td><td>リモートノードに送信された優先度 A のシグナルの数</td></tr><tr><td scope="row"><code class="literal">c_r_sent_priob</code></td><td>整数</td><td>リモートノードに送信された優先度 B のシグナルの数</td></tr><tr><td scope="row"><code class="literal">os_tid</code></td><td>整数</td><td>OS スレッド ID</td></tr><tr><td scope="row"><code class="literal">os_now</code></td><td>整数</td><td>OS 時間 (ms)</td></tr><tr><td scope="row"><code class="literal">os_ru_utime</code></td><td>整数</td><td>OS ユーザーの CPU 時間 (µs)</td></tr><tr><td scope="row"><code class="literal">os_ru_stime</code></td><td>整数</td><td>OS システムの CPU 時間 (µs)</td></tr><tr><td scope="row"><code class="literal">os_ru_minflt</code></td><td>整数</td><td>OS ページ再利用 (ソフトページフォルト)</td></tr><tr><td scope="row"><code class="literal">os_ru_majflt</code></td><td>整数</td><td>OS ページフォルト (ハードページフォルト)</td></tr><tr><td scope="row"><code class="literal">os_ru_nvcsw</code></td><td>整数</td><td>OS の自発的コンテキストスイッチ</td></tr><tr><td scope="row"><code class="literal">os_ru_nivcsw</code></td><td>整数</td><td>OS の非自発的コンテキストスイッチ</td></tr></tbody></table></div><p>
        <code class="literal">os_time</code> では、<code class="function">gettimeofday()</code> システムコールが使用されます。
      </p><p>
        <code class="literal">os_ru_utime</code>、<code class="literal">os_ru_stime</code>、<code class="literal">os_ru_minflt</code>、<code class="literal">os_ru_majflt</code>、<code class="literal">os_ru_nvcsw</code>、および <code class="literal">os_ru_nivcsw</code> カラムの値は、<code class="function">getrusage()</code> システムコールまたは同等のものを使用することで取得されます。
      </p><p>
        このテーブルには特定の時点で取得されたカウントが格納されるため、最適な結果を得るには、このテーブルでクエリーを定期的に実行し、その結果を 1 つまたは複数の中間テーブルに格納する必要があります。MySQL サーバーのイベントスケジューラを採用して、このようなモニタリングを自動化できます。詳細は、<a class="xref" href="stored-programs-views.html#events" title="20.4 イベントスケジューラの使用">セクション20.4「イベントスケジューラの使用」</a>を参照してください。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-ndbinfo-transporters"></a>18.5.10.24 ndbinfo transporters テーブル</h4></div></div></div><a class="indexterm" name="idm139979019156848"></a><p>
        このテーブルには、NDB トランスポータに関する情報が格納されます。
      </p><p>
        次の表に、<code class="literal">transporters</code> テーブルのカラムに関する情報を示します。この表には、各カラムの名前、データ型、および簡単な説明を示します。追加情報については、表のあとに示す注記で見つけることができます。
      </p><div class="informaltable"><table summary="この表は、transporters テーブルのカラムに関する情報を示します。この表には、カラムの名前、データ型、および簡単な説明を示します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">カラム名</th><th scope="col">型</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">node_id</code></td><td>整数</td><td>クラスタ内のこのデータノードの一意のノード ID。</td></tr><tr><td scope="row"><code class="literal">remote_node_id</code></td><td>整数</td><td>リモートデータノードのノード ID。</td></tr><tr><td scope="row"><code class="literal">status</code></td><td>文字列</td><td>接続のステータス。</td></tr><tr><td scope="row"><code class="literal">remote_address</code></td><td>文字列</td><td>リモートホストの名前または IP アドレス</td></tr><tr><td scope="row"><code class="literal">bytes_sent</code></td><td>整数</td><td>この接続を使用して送信されたバイト数</td></tr><tr><td scope="row"><code class="literal">bytes_received</code></td><td> </td><td>この接続を使用して受信されたバイト数</td></tr><tr><td scope="row"><code class="literal">connect_count</code></td><td> </td><td>このトランスポータ上で確立された接続の回数</td></tr><tr><td scope="row"><code class="literal">overloaded</code></td><td> </td><td>このトランスポータが現在過負荷状態である場合は 1、それ以外の場合は 0</td></tr><tr><td scope="row"><code class="literal">overload_count</code></td><td> </td><td>このトランスポータが接続してから過負荷状態になった回数</td></tr><tr><td scope="row"><code class="literal">slowdown</code></td><td> </td><td>このトランスポータがスキャン速度低下状態になっている場合は 1、それ以外の場合は 0</td></tr><tr><td scope="row"><code class="literal">slowdown_count</code></td><td> </td><td>このトランスポータが接続してからスキャン速度低下状態になった回数</td></tr></tbody></table></div><p>
        <code class="literal">transporters</code> テーブルには、クラスタ内で実行中のデータノードごとに、そのノードとクラスタ内のすべてのノード (<span class="emphasis"><em>自分自身を含む</em></span>) との各接続のステータスを示す行が表示されます。この情報は、テーブルの <span class="emphasis"><em>status</em></span> カラムに示されます。このカラムは、<code class="literal">CONNECTING</code>、<code class="literal">CONNECTED</code>、<code class="literal">DISCONNECTING</code>、または <code class="literal">DISCONNECTED</code> のいずれかの値になる可能性があります。
      </p><p>
        構成されているが、現在はクラスタに接続されていない API および管理ノードへの接続は、<code class="literal">DISCONNECTED</code> のステータスで示されます。<code class="literal">node_id</code> が現在接続されていないデータノードのものである場合、その行はこのテーブルに表示されません。(これは、<code class="literal">ndbinfo.nodes</code> テーブルの切断されたノードの省略に似ています。
      </p><p>
        <code class="literal">remote_address</code> は、<code class="literal">remote_node_id</code> カラムに ID が表示されないノードのホスト名またはアドレスです。このノードからの <code class="literal">bytes_sent</code> およびこのノードによる <code class="literal">bytes_received</code> はそれぞれ、接続が確立されてから、この接続を使用してノードによって送信されたバイト数と受信されたバイト数です。ステータスが <code class="literal">CONNECTING</code> または <code class="literal">DISCONNECTED</code> であるノードの場合、これらのカラムには常に <code class="literal">0</code> が表示されます。
      </p><p>
        <code class="literal">connect_count</code>、<code class="literal">overloaded</code>、<code class="literal">overload_count</code>、<code class="literal">slowdown</code>、および <code class="literal">slowdown_count</code> のカウンタは接続時にリセットされ、それらの値はリモートノードの切断後にも保持されます。<code class="literal">bytes_send</code> および <code class="literal">bytes_received</code> のカウンタも接続時にリセットされるため、それらの値は切断後にも (次の接続でリセットされるまで) 保持されます。
      </p><p>
        <span class="command"><strong>ndb_mgm</strong></span> クライアントの <code class="literal">SHOW</code> コマンドの出力に示されるように、2 つのデータノード、2 つの SQL ノード、および 1 つの管理ノードで構成される 5 ノードクラスタがあると仮定します。
      </p><pre class="programlisting">
ndb_mgm&gt; <strong class="userinput"><code>SHOW</code></strong>
Connected to Management Server at: localhost:1186
Cluster Configuration
---------------------
[ndbd(NDB)]     2 node(s)
id=1    @10.100.10.1  (5.6.22-ndb-7.4.4, Nodegroup: 0, *)
id=2    @10.100.10.2  (5.6.22-ndb-7.4.4, Nodegroup: 0)

[ndb_mgmd(MGM)] 1 node(s)
id=10   @10.100.10.10  (5.6.22-ndb-7.4.4)

[mysqld(API)]   2 node(s)
id=20   @10.100.10.20  (5.6.22-ndb-7.4.4)
id=21   @10.100.10.21  (5.6.22-ndb-7.4.4)
</pre><p>
        すべてのデータノードが実行されていると仮定すると、次に示すように、<code class="literal">transporters</code> テーブルには 10 行 (1 番目のデータノード用に 5 行、2 番目のデータノード用に 5 行) が表示されます。
      </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT node_id, remote_node_id, status</code></strong>
    -&gt;   <strong class="userinput"><code>FROM ndbinfo.transporters;</code></strong>
+---------+----------------+---------------+
| node_id | remote_node_id | status        |
+---------+----------------+---------------+
|       1 |              1 | DISCONNECTED  |
|       1 |              2 | CONNECTED     |
|       1 |             10 | CONNECTED     |
|       1 |             20 | CONNECTED     |
|       1 |             21 | CONNECTED     |
|       2 |              1 | CONNECTED     |
|       2 |              2 | DISCONNECTED  |
|       2 |             10 | CONNECTED     |
|       2 |             20 | CONNECTED     |
|       2 |             21 | CONNECTED     |
+---------+----------------+---------------+
10 rows in set (0.04 sec)
</pre><p>
        <span class="command"><strong>ndb_mgm</strong></span> クライアントで <code class="literal">2 STOP</code> コマンドを使用して、このクラスタ内のデータノードのいずれかをシャットダウンしてから、(再度 <span class="command"><strong>mysql</strong></span> クライアントを使用して) 前のクエリーを繰り返すと、次に示すように、このテーブルには、5 行 (残りの管理ノードから別のノードへの接続 (そのデータノード自体と現在オフラインになっているデータノードの両方を含む) ごとに 1 行) のみが表示され、現在オフラインになっているデータノードへの残りの各接続のステータスを表す <code class="literal">CONNECTING</code> が表示されます。
      </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT node_id, remote_node_id, status</code></strong>
    -&gt;   <strong class="userinput"><code>FROM ndbinfo.transporters;</code></strong>
+---------+----------------+---------------+
| node_id | remote_node_id | status        |
+---------+----------------+---------------+
|       1 |              1 | DISCONNECTED  |
|       1 |              2 | CONNECTING    |
|       1 |             10 | CONNECTED     |
|       1 |             20 | CONNECTED     |
|       1 |             21 | CONNECTED     |
+---------+----------------+---------------+
5 rows in set (0.02 sec)
</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-security"></a>18.5.11 MySQL Cluster のセキュリティー上の問題</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-security-networking-issues">18.5.11.1 MySQL Cluster のセキュリティーとネットワーク上の問題</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-security-mysql-privileges">18.5.11.2 MySQL Cluster と MySQL 権限</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-security-mysql-security-procedures">18.5.11.3 MySQL Cluster と MySQL のセキュリティー手順</a></span></dt></dl></div><a class="indexterm" name="idm139979019085856"></a><p>
      このセクションでは、MySQL Cluster の設定時および実行時に考慮に入れるべきセキュリティー上の考慮事項について説明します。
    </p><p>
      このセクションで説明するトピックは、次のとおりです。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          MySQL Cluster とネットワークのセキュリティー上の問題
        </p></li><li class="listitem"><p>
          MySQL Cluster のセキュアな実行に関する構成の問題
        </p></li><li class="listitem"><p>
          MySQL Cluster と MySQL 権限システム
        </p></li><li class="listitem"><p>
          MySQL Cluster に対する必要に応じた MySQL 標準のセキュリティー手順
        </p></li></ul></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-security-networking-issues"></a>18.5.11.1 MySQL Cluster のセキュリティーとネットワーク上の問題</h4></div></div></div><a class="indexterm" name="idm139979019076944"></a><p>
        このセクションでは、MySQL Cluster に関する基本的なネットワークセキュリティー上の問題について説明します。MySQL Cluster の<span class="quote">「<span class="quote">出荷時状態</span>」</span>はセキュアではないことを覚えておくことは、きわめて重要です。ユーザーやネットワーク管理者は、ネットワーク上のクラスタが危険にさらされる可能性がないように、適切なステップを実行する必要があります。
      </p><a class="indexterm" name="idm139979019072624"></a><p>
        クラスタの通信プロトコルは本質的にセキュアではなく、クラスタ内のノード間の通信では暗号化や同様のセキュリティー対策が使用されません。ネットワークの速度および待機時間によって、クラスタの効率性が直接影響を受けるため、ノード間のネットワーク通信に SSL やその他の暗号化により、事実上通信速度が低下するので、そのようなスキームを採用することはお勧めしません。
      </p><p>
        MySQL Cluster への API ノードのアクセスを制御する際に、認証が使用されないことも事実です。暗号化と同様に、認証の要件を課すオーバーヘッドによって、クラスタのパフォーマンスが影響を受けることがあります。
      </p><p>
        さらに、クラスタへのアクセス時に、次のいずれに対するソース IP アドレスのチェックも実行されません。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="filename">config.ini</code> ファイル内の空の <code class="literal">[mysqld]</code> または <code class="literal">[api]</code> セクションによって作成される<span class="quote">「<span class="quote">空きスロット</span>」</span>を使用している SQL ノードまたは API ノード
          </p><p>
            つまり、<code class="filename">config.ini</code> ファイル内に空の <code class="literal">[mysqld]</code> または <code class="literal">[api]</code> セクションがある場合、管理サーバーのホスト名 (または IP アドレス) とポートを認識しているどの API ノード (SQL ノードを含む) でも、制約なしでクラスタに接続し、そのデータにアクセスできます。(このことおよび関連する問題についての詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-security-mysql-privileges" title="18.5.11.2 MySQL Cluster と MySQL 権限">セクション18.5.11.2「MySQL Cluster と MySQL 権限」</a>を参照してください。)
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              <a class="indexterm" name="idm139979019059792"></a> <a class="indexterm" name="idm139979019056976"></a> <a class="indexterm" name="idm139979019054192"></a> <code class="filename">config.ini</code> ファイル内のすべての <code class="literal">[mysqld]</code> および <code class="literal">[api]</code> セクションに <code class="literal">HostName</code> パラメータを指定すると、クラスタへの SQL ノードおよび API ノードのアクセスに対していくらか制御できます。ただし、これは、これまで使用されていないホストからクラスタに API ノードを接続する場合、そのホスト名を含む <code class="literal">[api]</code> セクションを <code class="filename">config.ini</code> ファイルに追加する必要があることも意味します。
            </p><p>
              詳細は、<code class="literal">HostName</code> パラメータについての<a class="link" href="mysql-cluster.html#ndbparam-api-hostname">この章のほかの場所</a>で説明しています。API ノードで <code class="literal">HostName</code> を使用する構成例について、<a class="xref" href="mysql-cluster.html#mysql-cluster-quick" title="18.3.1 MySQL Cluster の簡易テストセットアップ">セクション18.3.1「MySQL Cluster の簡易テストセットアップ」</a>も参照してください。
            </p></div></li><li class="listitem"><p>
            任意の <span class="command"><strong>ndb_mgm</strong></span> クライアント
          </p><p>
            つまり、管理サーバーのホスト名 (または IP アドレス) とポート (標準ポートでない場合) が指定された任意のクラスタ管理クライアントがクラスタに接続し、任意の管理クライアントコマンドを実行できます。これには、<code class="literal">ALL STOP</code> や <code class="literal">SHUTDOWN</code> などのコマンドが含まれます。
          </p></li></ul></div><p>
        <a class="indexterm" name="idm139979019039264"></a> <a class="indexterm" name="idm139979019036400"></a>このような理由により、ネットワークレベルでクラスタを保護する必要があります。もっとも安全なクラスタのネットワーク構成は、クラスタノード間の接続をその他のネットワーク通信から分離する構成です。これは、次の方法のいずれかによって実現できます。
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            どのパブリックネットワークからも物理的に分離されたネットワーク上にクラスタノードを保持します。このオプションは、信頼性がもっとも高いですが、実装するコストももっとも高くなります。
          </p><p>
            次に、このように物理的に分離されたネットワークを使用した MySQL Cluster の設定例を示します。
          </p><div class="mediaobject"><img src="images/cluster-security-network-1.png" width="550" height="347" alt="ハードウェアファイアウォールで保護されたプライベートネットワーク上の MySQL Cluster"></div><p>
            この設定には、クラスタ管理サーバーおよびデータノードの 1 つのプライベート (実線の四角形) と、SQL ノードが存在する 1 つのパブリック (点線の四角形) の 2 つのネットワークがあります。(ギガビットスイッチは最高のパフォーマンスが実現されるため、これを使用して接続された管理ノードとデータノードを示しています。)どちらのネットワークも、ハードウェアファイアウォール (<em class="firstterm">ネットワークベースのファイアウォール</em>と呼ばれることもあります) によって外部から保護されています。
          </p><p>
            SQL ノードでパケットの転送が許可されていなければ、パケットは SQL ノードを通過せずに、ネットワーク外部からクラスタの管理ノードまたはデータノードに到達できない (どのクラスタの内部通信も外部に到達できない) ため、このネットワーク設定がもっとも安全です。これは、当然、すべての SQL ノードをハッキングの試みに対して、セキュリティー保護する必要があることを意味します。
          </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
              潜在的なセキュリティーの脆弱性に関しては、SQL ノードとその他の MySQL サーバーとの間に相違はありません。MySQL サーバーをセキュリティー保護するために使用できる技法については、<a class="xref" href="security.html#security-against-attack" title="6.1.3 攻撃者に対する MySQL のセキュアな状態の維持">セクション6.1.3「攻撃者に対する MySQL のセキュアな状態の維持」</a>を参照してください。
            </p></div></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979019019488"></a> <a class="indexterm" name="idm139979019016656"></a> 1 つ以上のソフトウェアファイアウォール (<em class="firstterm">ホストベースのファイアウォール</em>と呼ばれることもあります) を使用して、アクセスする必要のないネットワークの部分からクラスタまで通過するパケットを制御できます。このタイプの設定では、それがなければローカルネットワークの外部からアクセスできてしまう可能性のあるクラスタ内のすべてのホストに、ソフトウェアファイアウォールをインストールする必要があります。
          </p><p>
            ホストベースのオプションは、実装するコストがもっとも低いですが、保護を提供するソフトウェアに完全に依存しているため、セキュアな状態を維持することがもっとも困難です。
          </p><p>
            次に、MySQL Cluster に対するこのタイプのネットワーク設定の例を示します。
          </p><div class="mediaobject"><img src="images/cluster-security-network-2.png" width="550" height="489" alt="ソフトウェアファイアウォールを使用してパブリックおよびプライベートのゾーンを作成するネットワーク上に配備された MySQL Cluster"></div><p>
            このタイプのネットワーク設定を使用することは、MySQL Cluster ホストの 2 つのゾーンが存在することを意味します。各クラスタホストは、クラスタ内のその他のすべてのマシンと通信できる必要がありますが、SQL ノードをホストしているマシン (点線の四角形) のみ、外部との接続を許可でき、データノードおよび管理ノードを含むゾーン内のマシン (実線の四角形) は、クラスタに含まれないすべてのマシンから分離する必要があります。クラスタを使用するアプリケーションとそれらのアプリケーションのユーザーには、管理ノードおよびデータノードホストへの直接アクセスを許可<span class="emphasis"><em>しない</em></span>でください。
          </p><p>
            これを実現するには、各クラスタホストコンピュータ上で実行されているノードのタイプに応じて、次の表に示す 1 つまたは複数のタイプにトラフィックを制限するソフトウェアファイアウォールを設定する必要があります。
          </p><div class="informaltable"><table summary="この表は、ホストベースのファイアウォールクラスタ構成でアクセスされるノードタイプ、および各ノードタイプで許可されるトラフィックを一覧表示します。" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">アクセスされるノードのタイプ</th><th scope="col">許可するトラフィック</th></tr></thead><tbody><tr><td scope="row">SQL ノードまたは API ノード</td><td><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                          それは、管理ノードまたはデータノードの IP アドレスから (任意の TCP または UDP ポートを使用して) 発信されています。
                        </p></li><li class="listitem"><p>
                          それは、クラスタが存在し、アプリケーションで使用されているポート上にあるネットワーク内から発信されています。
                        </p></li></ul></div></td></tr><tr><td scope="row">データノードまたは管理ノード</td><td><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                          それは、管理ノードまたはデータノードの IP アドレスから (任意の TCP または UDP ポートを使用して) 発信されています。
                        </p></li><li class="listitem"><p>
                          それは、SQL ノードまたは API ノードの IP アドレスから発信されています。
                        </p></li></ul></div></td></tr></tbody></table></div><p>
            特定のノードタイプの、表に示した以外のトラフィックはすべて拒否されるべきです。
          </p><p>
            ファイアウォール構成の仕様は、ファイアウォールアプリケーションごとに異なるため、このマニュアルのスコープ外です。<span class="command"><strong>iptables</strong></span> は非常に一般的で、信頼性の高いファイアウォールアプリケーションであるため、多くの場合に構成をより簡単にするためにフロントエンドとして <span class="command"><strong>APF</strong></span> とともに使用されます。このタイプまたは次の項目で説明する<span class="quote">「<span class="quote">混在</span>」</span>タイプの MySQL Cluster ネットワーク設定を実装するように選択した場合、採用するソフトウェアファイアウォールについて、ドキュメントを参照できます (するべきです)。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979018984912"></a> <a class="indexterm" name="idm139979018982048"></a>ハードウェアとソフトウェアの両方を使用して (つまり、ネットワークベースとホストベースの両方のファイアウォールを使用して) クラスタをセキュリティー保護することで、最初の 2 つの方法を組み合わせたものを採用することもできます。これは、セキュリティーレベルとコストの両方の点で、最初の 2 つのスキームの中間に位置するものです。このタイプのネットワーク設定では、クラスタがハードウェアファイアウォールの背後に配置されますが、受信パケットは SQL ノードに到達するために、すべてのクラスタホストに接続しているルータを通過することが許可されます。
          </p><p>
            次に、ハードウェアとソフトウェアの両方のファイアウォールを組み合わせて使用することで実現できる MySQL Cluster クラスタのネットワーク配備の一例を示します。
          </p><div class="mediaobject"><img src="images/cluster-security-network-3.png" width="550" height="410" alt="ハードウェアファイアウォールとソフトウェアファイアウォールを組み合わせて使用して保護を提供する MySQL Cluster のネットワーク設定"></div><p>
            この場合、SQL ノードおよび API ノードへのトラフィックを除くすべての外部トラフィックを拒否し、アプリケーションで必要とするポート上でのみそれらのノードへのトラフィックを許可するように、ハードウェアファイアウォールにルールを設定できます。
          </p></li></ol></div><p>
        どのネットワーク構成を使用する場合でも、クラスタのセキュリティーを維持するという観点からの目標は同じであることは忘れないでください。つまり、クラスタ内のノード間でもっとも効率的な通信を確保しながら、不要なトラフィックがクラスタに到達することを妨げます。
      </p><p>
        <a class="indexterm" name="idm139979018970000"></a> <a class="indexterm" name="idm139979018967136"></a>MySQL Cluster では、ノード間の通信を行うために多数のポートを開く必要があるため、推奨されるオプションは、分離されたネットワークを使用することです。これは、不要なトラフィックがクラスタに到達することを防ぐためのもっとも簡単な方法です。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          <a class="indexterm" name="idm139979018963792"></a> <a class="indexterm" name="idm139979018961024"></a>リモートで (つまり、ローカルネットワーク外部から) MySQL Cluster を管理する場合、これを実行する推奨される方法は、<span class="command"><strong>ssh</strong></span> や別のセキュアなログインシェルを使用して、SQL ノードホストにアクセスすることです。これにより、このホストから管理クライアントを実行して、クラスタ独自のローカルネットワーク内から管理サーバーに安全にアクセスできます。
        </p><p>
          <span class="command"><strong>ndb_mgm</strong></span> を使用して、クラスタが実行されているローカルネットワーク外部から直接クラスタを管理することは理論上可能ですが、推奨されて<span class="emphasis"><em>いません</em></span>。管理クライアントと管理サーバー間では認証も暗号化も行われないため、これはクラスタを管理するきわめてセキュアでない方法であり、遅かれ早かれ、ほぼ確実に危険にさらされます。
        </p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-security-mysql-privileges"></a>18.5.11.2 MySQL Cluster と MySQL 権限</h4></div></div></div><a class="indexterm" name="idm139979018953776"></a><p>
        このセクションでは、MySQL Cluster に関連する MySQL 権限システムのしくみ、および MySQL Cluster のセキュリティーを維持するためのこの関わりについて説明します。
      </p><p>
        <a class="indexterm" name="idm139979018950544"></a>MySQL Cluster のテーブルには、標準の MySQL 権限が適用されます。これには、データベース、テーブル、およびカラムのレベルで付与されるすべての MySQL 権限タイプ (<code class="literal">SELECT</code> 権限、<code class="literal">UPDATE</code> 権限、<code class="literal">DELETE</code> 権限など) が含まれます。その他の MySQL サーバーの場合と同様に、ユーザーおよび権限の情報は <code class="literal">mysql</code> システムデータベースに格納されます。<code class="literal">NDB</code> テーブル、このようなテーブルを含むデータベース、およびこのようなテーブル内のカラムに対する権限を付与および取り消すために使用される SQL ステートメントは、(その他の) MySQL ストレージエンジンを含むデータベースオブジェクトとの接続に使用される <code class="literal">GRANT</code> および <code class="literal">REVOKE</code> ステートメントとすべての点で同じです。<code class="literal">CREATE USER</code> および <code class="literal">DROP USER</code> ステートメントについても、同じことが当てはまります。
      </p><p>
        <a class="indexterm" name="idm139979018938000"></a>MySQL 付与テーブルは、デフォルトで <code class="literal">MyISAM</code> ストレージエンジンを使用することに留意しておくことが重要です。そのため、MySQL Cluster の SQL ノードとして動作している MySQL サーバー間で、通常これらのテーブルの複製や共有は行われません。言い換えると、デフォルトでは、ユーザーおよびそれらの権限を変更しても自動的に SQL ノード間に反映されません。必要に応じて、MySQL Cluster の SQL ノード間で MySQL ユーザーおよび権限の自動配布を有効化できます。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-privilege-distribution" title="18.5.14 MySQL Cluster の配布された MySQL 権限">セクション18.5.14「MySQL Cluster の配布された MySQL 権限」</a>を参照してください。
      </p><p>
        <a class="indexterm" name="idm139979018933136"></a> <a class="indexterm" name="idm139979018930944"></a>逆に、MySQL には権限を拒否する方法がないため (そもそも権限を取り消すことや、付与しないことはできますが、それ自体を拒否することはできません)、ある SQL ノード上の <code class="literal">NDB</code> テーブルを別の SQL ノードに対する権限を持つユーザーから保護する特別な手段がありません。このことは、ユーザー権限の自動配布を使用していない場合でも当てはまります。これを示す明確な例として、任意のデータベースオブジェクトに対して任意のアクションを実行できる MySQL の <code class="literal">root</code> アカウントが挙げられます。このアカウントを <code class="filename">config.ini</code> ファイルの空の <code class="literal">[mysqld]</code> または <code class="literal">[api]</code> セクションと組み合わせると、著しく危険になる可能性があります。その理由を理解するために、次のようなシナリオを検討します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="filename">config.ini</code> ファイルには、少なくとも 1 つの空の <code class="literal">[mysqld]</code> または <code class="literal">[api]</code> セクションが含まれています。つまり、MySQL Cluster 管理サーバーで、MySQL サーバー (またはその他の API ノード) から MySQL Cluster へのアクセス元のホストのチェックが実行されません。
          </p></li><li class="listitem"><p>
            ファイアウォールが存在しないか、またはファイアウォールがネットワーク外部にあるホストから MySQL Cluster へのアクセスに対する保護に失敗します。
          </p></li><li class="listitem"><p>
            MySQL Cluster の管理サーバーのホスト名または IP アドレスは既知であるか、またはネットワーク外部から特定できます。
          </p></li></ul></div><p>
        これらの条件に当てはまる場合は、だれでも、どこからでも <code class="option">--ndbcluster</code> <code class="option">--ndb-connectstring=<em class="replaceable"><code>management_host</code></em></code> を付けて MySQL Server を起動し、この MySQL Cluster にアクセスできます。MySQL <code class="literal">root</code> アカウントを使用すると、このユーザーは次のアクションを実行できます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">SHOW DATABASES</code> ステートメント (サーバー上のすべての <code class="literal">NDB</code> データベースのリストを取得する) または <code class="literal">SHOW TABLES FROM <em class="replaceable"><code>some_ndb_database</code></em></code> ステートメントなどのメタデータステートメントを実行して、特定のデータベース内のすべての <code class="literal">NDB</code> テーブルのリストを取得します。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979018907552"></a> <a class="indexterm" name="idm139979018905344"></a>検出されたテーブルのいずれかに対して、次のような正当な MySQL ステートメントを実行します。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                任意のテーブルからすべてのデータを読み取る <code class="literal">SELECT * FROM <em class="replaceable"><code>some_table</code></em></code>
              </p></li><li class="listitem"><p>
                テーブルからすべてのデータを削除する <code class="literal">DELETE FROM <em class="replaceable"><code>some_table</code></em></code>
              </p></li><li class="listitem"><p>
                テーブルスキーマを確認する <code class="literal">DESCRIBE <em class="replaceable"><code>some_table</code></em></code> または <code class="literal">SHOW CREATE TABLE <em class="replaceable"><code>some_table</code></em></code>
              </p></li><li class="listitem"><p>
                テーブルカラムに<span class="quote">「<span class="quote">不正</span>」</span>データを入力する <code class="literal">UPDATE <em class="replaceable"><code>some_table</code></em> SET <em class="replaceable"><code>column1</code></em> = <em class="replaceable"><code>some_value</code></em></code>。これは実際に、単にすべてのデータを削除するよりも、はるかに大きな損害が発生する可能性があります
              </p><p>
                より狡猾なバリエーションには、次のようなステートメントが含まれることがあります。
              </p><pre class="programlisting">
UPDATE <em class="replaceable"><code>some_table</code></em> SET <em class="replaceable"><code>an_int_column</code></em> = <em class="replaceable"><code>an_int_column</code></em> + 1
</pre><p>
                または
              </p><pre class="programlisting">
UPDATE <em class="replaceable"><code>some_table</code></em> SET <em class="replaceable"><code>a_varchar_column</code></em> = REVERSE(<em class="replaceable"><code>a_varchar_column</code></em>)
</pre><p>
                このような悪意のあるステートメントは、攻撃者の想像力でしか制限されません。
              </p></li></ul></div><p>
            このような種類の攻撃を受けるおそれのない唯一のテーブルは、<code class="literal">NDB</code> 以外のストレージエンジンを使用して作成され、そのために<span class="quote">「<span class="quote">不正な</span>」</span> SQL ノードから見えないテーブルです。
          </p><p>
            <a class="indexterm" name="idm139979018884272"></a> <a class="indexterm" name="idm139979018882064"></a>また、<code class="literal">root</code> としてログインできるユーザーは <code class="literal">INFORMATION_SCHEMA</code> データベースおよびそのテーブルにアクセスすることもできるため、データベース、テーブル、ストアドルーチン、スケジュール済みのイベント、およびメタデータが <code class="literal">INFORMATION_SCHEMA</code> に格納されているその他のデータベースオブジェクトに関する情報を取得できます。
          </p><p>
            また、配布された権限を使用していなければ、MySQL Cluster SQL ノードごとに異なる <code class="literal">root</code> アカウントのパスワードを使用することも非常に適切な方法です。
          </p></li></ul></div><p>
        要するに、MySQL Cluster がローカルネットワーク外部から直接アクセスできる場合は、安全性を確保できません。
      </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
          <span class="emphasis"><em>MySQL の root アカウントのパスワードは空のままにしないでください</em></span>。これは、MySQL を、MySQL Cluster SQL ノードとして実行している場合も、スタンドアロン (非クラスタ) MySQL サーバーとして実行している場合もまったく同じように当てはまり、MySQL インストールプロセスの一部として、MySQL サーバーを MySQL Cluster の SQL ノードとして構成する前に実行するようにしてください。
        </p></div><p>
        MySQL Cluster の権限の配布機能を使用する場合は、単に <code class="literal">NDB</code> ストレージエンジンを使用するように、<code class="literal">mysql</code> データベース内のシステムテーブルを手動で変換しないでください。代わりに、この目的のために提供されているストアドプロシージャーを使用してください。<a class="xref" href="mysql-cluster.html#mysql-cluster-privilege-distribution" title="18.5.14 MySQL Cluster の配布された MySQL 権限">セクション18.5.14「MySQL Cluster の配布された MySQL 権限」</a>を参照してください。
      </p><p>
        それ以外の場合、SQL ノード間で <code class="literal">mysql</code> システムテーブルを同期する必要がある場合は、標準の MySQL レプリケーションを使用してこれを実行することも、スクリプトを使用して MySQL サーバー間でテーブルエントリをコピーすることもできます。
      </p><p><b>サマリー </b>
          次に、MySQL Cluster に関して、MySQL 権限システムについて覚えておくべきもっとも重要な点を示します。
        </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            ある SQL ノード上で確立されたユーザーおよび権限は、クラスタ内のその他の SQL ノードで自動的に存在することも、有効になることもありません。逆に、クラスタ内のある SQL ノード上のユーザーまたは権限を削除しても、その他の SQL ノードからユーザーまたは権限は削除されません。
          </p></li><li class="listitem"><p>
            SQL スクリプトおよびそれに含まれる、MySQL Cluster 配布でこの目的で提供されているストアドプロシージャーを使用して、複数の MySQL ノード間で SQL ユーザーおよび権限を配布できます。
          </p></li><li class="listitem"><p>
            MySQL Cluster 内のある SQL ノードから、MySQL ユーザーに <code class="literal">NDB</code> テーブルに対する権限が付与されると、権限配布を使用していない場合でも、そのユーザーは、データの生成元の SQL ノードに関係なく、そのテーブル内のどのデータも<span class="quote">「<span class="quote">参照</span>」</span>できます。
          </p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-security-mysql-security-procedures"></a>18.5.11.3 MySQL Cluster と MySQL のセキュリティー手順</h4></div></div></div><a class="indexterm" name="idm139979018857616"></a><a class="indexterm" name="idm139979018855440"></a><p>
        このセクションでは、実行中の MySQL Cluster に適用される MySQL 標準セキュリティー手順について説明します。
      </p><p>
        一般に、MySQL をセキュアに実行するための標準手順は、MySQL Cluster の一部として実行している MySQL サーバーにも適用されます。なによりもまず、常に MySQL サーバーを <code class="literal">mysql</code> システムユーザーとして実行するようにしてください。これは、標準 (非クラスタ) 環境で実行している MySQL と違いはありません。<code class="literal">mysql</code> システムアカウントは、一意かつ明確に定義されるべきです。幸運にも、これは新しい MySQL インストールのデフォルトの動作です。次に示すようなシステムコマンドを使用すると、<span class="command"><strong>mysqld</strong></span> プロセスがシステムユーザー <code class="literal">mysql</code> として実行されていることを確認できます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ps aux | grep mysql</code></strong>
root     10467  0.0  0.1   3616  1380 pts/3    S    11:53   0:00 \
  /bin/sh ./mysqld_safe --ndbcluster --ndb-connectstring=localhost:1186
mysql    10512  0.2  2.5  58528 26636 pts/3    Sl   11:53   0:00 \
  /usr/local/mysql/libexec/mysqld --basedir=/usr/local/mysql \
  --datadir=/usr/local/mysql/var --user=mysql --ndbcluster \
  --ndb-connectstring=localhost:1186 --pid-file=/usr/local/mysql/var/mothra.pid \
  --log-error=/usr/local/mysql/var/mothra.err
jon      10579  0.0  0.0   2736   688 pts/0    S+   11:54   0:00 grep mysql
</pre><p>
        <span class="command"><strong>mysqld</strong></span> プロセスが <code class="literal">mysql</code> 以外のユーザーとして実行されている場合は、それをすぐにシャットダウンしてから、<code class="literal">mysql</code> ユーザーとして再起動するようにしてください。このユーザーがシステム上に存在しない場合は、<code class="literal">mysql</code> ユーザーアカウントを作成して、このユーザーを <code class="literal">mysql</code> ユーザーグループに属するようにしてください。この場合、このシステム上の (<span class="command"><strong>mysqld</strong></span> の <code class="option">--datadir</code> オプションを使用して設定された) MySQL データディレクトリが <code class="literal">mysql</code> ユーザーによって所有されていること、および SQL ノードの <code class="filename">my.cnf</code> ファイルの <code class="literal">[mysqld]</code> セクションに <code class="literal">user=mysql</code> が含まれていることも確認するようにしてください。また、コマンド行で <code class="option">--user=mysql</code> を付けて MySQL サーバープロセスを起動できますが、コマンド行オプションを使用することを忘れたために、意図せずに <span class="command"><strong>mysqld</strong></span> が別のユーザーとして実行されている可能性もあるため、<code class="filename">my.cnf</code> オプションを使用することをお勧めします。<span class="command"><strong>mysqld_safe</strong></span> 起動スクリプトを使用すると、MySQL が強制的に <code class="literal">mysql</code> ユーザーとして実行されます。
      </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
          絶対に <span class="command"><strong>mysqld</strong></span> をシステムの root ユーザーとして実行しないでください。これを行うと、システム上の任意のファイルが MySQL によって読み取られる可能性があるため、攻撃者によって MySQL が危険にさらされます。
        </p></div><p>
        <a class="indexterm" name="idm139979018830384"></a>前のセクションで説明したように (<a class="xref" href="mysql-cluster.html#mysql-cluster-security-mysql-privileges" title="18.5.11.2 MySQL Cluster と MySQL 権限">セクション18.5.11.2「MySQL Cluster と MySQL 権限」</a>を参照してください)、常に、MySQL サーバーを実行したらすぐに、root パスワードを設定するようにしてください。また、デフォルトでインストールされている匿名ユーザーアカウントを削除するようにしてください。次のステートメントを使用すると、これらのタスクを実現できます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -u root</code></strong>

mysql&gt; <strong class="userinput"><code>UPDATE mysql.user</code></strong>
    -&gt;     <strong class="userinput"><code>SET Password=PASSWORD('<em class="replaceable"><code>secure_password</code></em>')</code></strong>
    -&gt;     <strong class="userinput"><code>WHERE User='root';</code></strong>

mysql&gt; <strong class="userinput"><code>DELETE FROM mysql.user</code></strong>
    -&gt;     <strong class="userinput"><code>WHERE User='';</code></strong>

mysql&gt; <strong class="userinput"><code>FLUSH PRIVILEGES;</code></strong>
</pre><p>
        <code class="literal">DELETE</code> ステートメントを実行する際は、<code class="literal">WHERE</code> 句を省略しないように注意してください。そうしないと、<span class="emphasis"><em>すべての</em></span> MySQL ユーザーが削除される危険性があります。<code class="literal">mysql.user</code> テーブルを変更したら、その変更が即座に有効になるように、すぐに <code class="literal">FLUSH PRIVILEGES</code> ステートメントを実行してください。<code class="literal">FLUSH PRIVILEGES</code> を実行しなければ、次回サーバーを再起動するまで、変更が有効になりません。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          <a class="indexterm" name="idm139979018813360"></a> <a class="indexterm" name="idm139979018811232"></a><span class="command"><strong>ndb_show_tables</strong></span>、<span class="command"><strong>ndb_desc</strong></span>、<span class="command"><strong>ndb_select_all</strong></span> などの多くの MySQL Cluster ユーティリティーは、認証なしでも動作し、テーブル名、スキーマ、およびデータを表示できます。デフォルトで、これらは Unix スタイルのシステムにアクセス権 <code class="literal">wxr-xr-x</code> (755) でインストールされます。これは、<code class="filename">mysql/bin</code> ディレクトリにアクセスできる任意のユーザーが実行できることを意味します。
        </p><p>
          これらのユーティリティーについての詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-programs" title="18.4 MySQL Cluster プログラム">セクション18.4「MySQL Cluster プログラム」</a>を参照してください。
        </p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-disk-data"></a>18.5.12 MySQL Cluster ディスクデータテーブル</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-disk-data-objects">18.5.12.1 MySQL Cluster ディスクデータオブジェクト</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-disk-data-symlinks">18.5.12.2 ディスクデータオブジェクトでのシンボリックリンクの使用</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-disk-data-storage-requirements">18.5.12.3 MySQL Cluster ディスクデータストレージの要件</a></span></dt></dl></div><a class="indexterm" name="idm139979018801952"></a><a class="indexterm" name="idm139979018800464"></a><a class="indexterm" name="idm139979018797936"></a><p>
      <code class="literal">NDB</code> テーブルのインデックスなしカラムは RAM 内ではなく、ディスク上に格納できます。
    </p><p>
      MySQL Cluster ディスクデータ動作の実装の一部として、MySQL Cluster では、ノードのリカバリ時および再起動時に、非常に大量 (数テラバイト) のデータを効率的に処理できるように、多くの点が改善されました。これらには、起動ノードを非常に大きなデータセットと同期するための<span class="quote">「<span class="quote">no-steal</span>」</span>アルゴリズムが含まれます。詳細は、MySQL Cluster の開発者 Mikael Ronström と Jonas Oreland 共著のペーパー『<em class="citetitle"><a class="ulink" href="http://www.vldb2005.org/program/paper/wed/p1108-ronstrom.pdf" target="_top">Recovery Principles of MySQL Cluster 5.1</a></em>』を参照してください。
    </p><p>
      いくつかの構成パラメータによって、MySQL Cluster ディスクデータのパフォーマンスが影響を受ける可能性があります。これらのパラメータとその効果については、<em class="citetitle"><a class="link" href="mysql-cluster.html#mysql-cluster-ndbd-definition-disk-data-parameters" title="ディスクデータの構成パラメータ">MySQL Cluster ディスクデータの構成パラメータ</a></em>および <em class="citetitle"><a class="link" href="mysql-cluster.html#mysql-cluster-ndbd-definition-gcp-stop-errors" title="ディスクデータと GCP 停止エラー">MySQL Cluster ディスクデータストレージと<span class="errortext">GCP Stop</span>エラー</a></em>を参照してください。
    </p><p>
      また、データノードファイルシステムを Undo ログファイルおよびテーブルスペースデータファイルから分離すると (これはシンボリックリンクを使用することで実行できます)、ディスクデータストレージを使用する MySQL Cluster のパフォーマンスも大幅に改善できます。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-disk-data-symlinks" title="18.5.12.2 ディスクデータオブジェクトでのシンボリックリンクの使用">セクション18.5.12.2「ディスクデータオブジェクトでのシンボリックリンクの使用」</a>を参照してください。
    </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-disk-data-objects"></a>18.5.12.1 MySQL Cluster ディスクデータオブジェクト</h4></div></div></div><p>
        MySQL Cluster ディスクデータストレージは、いくつかの<em class="firstterm">ディスクデータオブジェクト</em>を使用して実装されます。これらには、次のものが含まれます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <em class="firstterm">テーブルスペース</em>は、その他のディスクデータオブジェクト用のコンテナとして機能します。
          </p></li><li class="listitem"><p>
            <em class="firstterm">Undo ログファイル</em>は、トランザクションをロールバックするために必要な情報を元に戻します。
          </p></li><li class="listitem"><p>
            1 つ以上の Undo ログファイルが<em class="firstterm">ログファイルグループ</em>に割り当てられ、ログファイルグループはテーブルスペースに割り当てられます。
          </p></li><li class="listitem"><p>
            <em class="firstterm">データファイル</em>には、ディスクデータテーブルデータが格納されます。データファイルは、テーブルスペースに直接割り当てられます。
          </p></li></ul></div><p>
        Undo ログファイルおよびデータファイルは、各データノードのファイルシステム内にある実際のファイルです。デフォルトでは、MySQL Cluster <code class="filename">config.ini</code> ファイルに指定された <em class="replaceable"><code>DataDir</code></em> の <code class="literal">ndb_<em class="replaceable"><code>node_id</code></em>_fs</code> に配置されます。ここで、<em class="replaceable"><code>node_id</code></em> はデータノードのノード ID です。Undo ログファイルまたはデータファイルの作成時に、ファイル名の一部として絶対パスまたは相対パスを指定すると、これらを別の場所に配置できます。これらのファイルを作成するステートメントは、このセクションの後半で示します。
      </p><p>
        MySQL Cluster のテーブルスペースおよびログファイルグループは、ファイルとして実装されていません。
      </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
          すべてのディスクデータオブジェクトがファイルとして実装されるとはかぎりませんが、すべてが同じ名前空間を共有します。つまり、<span class="emphasis"><em>各ディスクデータオブジェクト</em></span>は (単に、特定の型の各ディスクデータオブジェクトというだけでなく)、一意の名前が付けられている必要があります。たとえば、テーブルスペースとログファイルグループの両方に <code class="literal">dd1</code> という名前を付けることはできません。
        </p></div><p>
        すべてのノード (管理ノードと SQL ノードを含む) を含む MySQL Cluster をすでに作成していると仮定すると、ディスク上に MySQL Cluster テーブルを作成するための基本ステップは次のとおりです。
      </p><a class="indexterm" name="idm139979018769712"></a><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            ログファイルグループを作成し、それに 1 つ以上の Undo ログファイルを割り当てます (Undo ログファイルは、<em class="firstterm">undofile</em> と呼ばれることもあります)。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              Undo ログファイルは、ディスクデータテーブルでのみ必要です。メモリー内にのみ格納される <code class="literal">NDBCLUSTER</code> テーブルでは使用されません。
            </p></div></li><li class="listitem"><p>
            テーブルスペースを作成し、そのテーブルスペースにログファイルグループおよび 1 つ以上のデータファイルを割り当てます。
          </p></li><li class="listitem"><p>
            データストレージ用に、このテーブルスペースを使用するディスクデータテーブルを作成します。
          </p></li></ol></div><p>
        これらの各タスクは、次の例に示すように、<span class="command"><strong>mysql</strong></span> クライアントまたはその他の MySQL クライアントアプリケーションで SQL ステートメントを使用することで実現できます。
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            <a class="indexterm" name="idm139979018757728"></a> <code class="literal">CREATE LOGFILE GROUP</code> を使用して、<code class="literal">lg_1</code> という名前のログファイルグループを作成します。このログファイルグループは、<code class="filename">undo_1.log</code> および <code class="filename">undo_2.log</code> という名前の 2 つの Undo ログファイルで構成されます。初期サイズは、それぞれ 16M バイトと 12M バイトです。(Undo ログファイルのデフォルト初期サイズは128M バイトです。)オプションで、ログファイルグループの Undo バッファーのサイズを指定したり、デフォルト値の 8M バイトになることを許可したりすることもできます。この例では、Undo バッファーのサイズを 2 M バイトに設定しています。ログファイルグループは、Undo ログファイルとともに作成する必要があります。そのため、次の <code class="literal">CREATE LOGFILE GROUP</code> ステートメントで <code class="filename">undo_1.log</code> を <code class="literal">lg_1</code> に追加しています。
          </p><pre class="programlisting">
CREATE LOGFILE GROUP lg_1
    ADD UNDOFILE 'undo_1.log'
    INITIAL_SIZE 16M
    UNDO_BUFFER_SIZE 2M
    ENGINE NDBCLUSTER;
</pre><p>
            ログファイルグループに <code class="filename">undo_2.log</code> を追加するには、次の <code class="literal">ALTER LOGFILE GROUP</code> ステートメントを使用します。
          </p><pre class="programlisting">
ALTER LOGFILE GROUP lg_1
    ADD UNDOFILE 'undo_2.log'
    INITIAL_SIZE 12M
    ENGINE NDBCLUSTER;
</pre><p>
            いくつかの注意事項:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                ここで使用される <code class="filename">.log</code> ファイル拡張子は必須ではありません。これは単に、ログファイルを簡単に認識できるようにするために使用しています。
              </p></li><li class="listitem"><p>
                すべての <code class="literal">CREATE LOGFILE GROUP</code> および <code class="literal">ALTER LOGFILE GROUP</code> ステートメントには <code class="literal">ENGINE</code> 句を含める必要があります。MySQL Cluster NDB 7.3 以降では、この句に許可される値は <code class="literal">NDBCLUSTER</code> と <code class="literal">NDB</code> だけです。
              </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
                  特定の時点で同じ MySQL Cluster には、最大でも 1 つのログファイルグループしか存在できません。
                </p></div></li><li class="listitem"><p>
                <code class="literal">ADD UNDOFILE '<em class="replaceable"><code>filename</code></em>'</code> を使用して、ログファイルグループに Undo ログファイルを追加すると、クラスタ内の各データノードの <code class="literal">DataDir</code> 内にある <code class="literal">ndb_<em class="replaceable"><code>node_id</code></em>_fs</code> ディレクトリに、<em class="replaceable"><code>filename</code></em> という名前のファイルが作成されます。ここで、<em class="replaceable"><code>node_id</code></em> はデータノードのノード ID です。各 Undo ログファイルのサイズは、SQL ステートメントで指定されます。たとえば、MySQL Cluster に 4 つのデータノードが含まれている場合、ここで示した <code class="literal">ALTER LOGFILE GROUP</code> ステートメントは 4 つの Undo ログファイル (4 つの各データノードのデータディレクトリに 1 つずつ) を作成します。これらの各ファイルの名前は <code class="filename">undo_2.log</code> であり、各ファイルのサイズは 12M バイトです。
              </p></li><li class="listitem"><p>
                <code class="literal">UNDO_BUFFER_SIZE</code> は、使用可能なシステムメモリーの量によって制限されます。
              </p></li><li class="listitem"><p>
                <code class="literal">CREATE LOGFILE GROUP</code> ステートメントの詳細は、<a class="xref" href="sql-syntax.html#create-logfile-group" title="13.1.14 CREATE LOGFILE GROUP 構文">セクション13.1.14「CREATE LOGFILE GROUP 構文」</a>を参照してください。<code class="literal">ALTER LOGFILE GROUP</code> の詳細は、<a class="xref" href="sql-syntax.html#alter-logfile-group" title="13.1.3 ALTER LOGFILE GROUP 構文">セクション13.1.3「ALTER LOGFILE GROUP 構文」</a>を参照してください。
              </p></li></ul></div></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979018719904"></a>この時点で、データを格納するために MySQL Cluster ディスクデータテーブルで使用されるファイルを格納するテーブルスペースを作成できます。テーブルスペースは、特定のログファイルのグループにも関連付けられます。新しいテーブルスペースを作成する際は、Undo ロギングで使用されるログファイルグループを指定する必要があります。データファイルも指定する必要があります。テーブルスペースが作成されたら、追加のデータファイルをテーブルスペースに追加できます。テーブルスペースからデータファイルを削除することもできます (データファイルを削除する例については、このセクションの後半で説明しています)。
          </p><p>
            ログファイルグループとして <code class="literal">lg_1</code> を使用する <code class="literal">ts_1</code> という名前のテーブルスペースを作成すると仮定します。このテーブルスペースには、<code class="filename">data_1.dat</code> および <code class="filename">data_2.dat</code> という名前で、初期サイズがそれぞれ 32 M バイトおよび 48M バイトの 2 つのデータファイルが格納されます。(<code class="literal">INITIAL_SIZE</code> のデフォルトの値は 128M バイトです。)これは、次に示すように、2 つの SQL ステートメントを使用することで実行できます。
          </p><pre class="programlisting">
CREATE TABLESPACE ts_1
    ADD DATAFILE 'data_1.dat'
    USE LOGFILE GROUP lg_1
    INITIAL_SIZE 32M
    ENGINE NDBCLUSTER;

ALTER TABLESPACE ts_1
    ADD DATAFILE 'data_2.dat'
    INITIAL_SIZE 48M
    ENGINE NDBCLUSTER;
</pre><p>
            <code class="literal">CREATE TABLESPACE</code> ステートメントは、データファイル <code class="filename">data_1.dat</code> を含むテーブルスペース <code class="literal">ts_1</code> を作成し、<code class="literal">ts_1</code> をログファイルグループ <code class="literal">lg_1</code> に関連付けます。<code class="literal">ALTER TABLESPACE</code> は、2 つめのデータファイル (<code class="filename">data_2.dat</code>) を追加します。
          </p><p>
            いくつかの注意事項:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                Undo ログファイルの例で使用した <code class="filename">.log</code> ファイル拡張子の場合と同様に、<code class="filename">.dat</code> ファイル拡張子にも特別な意味はありません。単に、データファイルを簡単に認識できるように使用されています。
              </p></li><li class="listitem"><p>
                <code class="literal">ADD DATAFILE '<em class="replaceable"><code>filename</code></em>'</code> を使用して、テーブルスペースにデータファイルを追加すると、クラスタ内の各データノードの <code class="literal">DataDir</code> 内にある <code class="literal">ndb_<em class="replaceable"><code>node_id</code></em>_fs</code> ディレクトリに、<em class="replaceable"><code>filename</code></em> という名前のファイルが作成されます。ここで、<em class="replaceable"><code>node_id</code></em> はデータノードのノード ID です。各データファイルのサイズは、SQL ステートメントで指定します。たとえば、MySQL Cluster に 4 つのデータノードが含まれている場合、ここで示した <code class="literal">ALTER TABLESPACE</code> ステートメントは、4 つの各データノードのデータディレクトリに 1 つずつ、4 つのデータファイルを作成します。これらの各ファイルの名前は <code class="filename">data_2.dat</code> であり、各ファイルのサイズは 48M バイトです。
              </p></li><li class="listitem"><p>
                すべての <code class="literal">CREATE TABLESPACE</code> および <code class="literal">ALTER TABLESPACE</code> ステートメントには、<code class="literal">ENGINE</code> 句を含める必要があります。テーブルスペースには、テーブルスペースと同じストレージエンジンを使用しているテーブルのみを作成できます。MySQL Cluster NDB 7.3 では、この句に許可される値は <code class="literal">NDBCLUSTER</code> と <code class="literal">NDB</code> だけです。
              </p></li><li class="listitem"><p>
                <code class="literal">CREATE TABLESPACE</code> および <code class="literal">ALTER TABLESPACE</code> ステートメントについての詳細は、<a class="xref" href="sql-syntax.html#create-tablespace" title="13.1.18 CREATE TABLESPACE 構文">セクション13.1.18「CREATE TABLESPACE 構文」</a>および<a class="xref" href="sql-syntax.html#alter-tablespace" title="13.1.8 ALTER TABLESPACE 構文">セクション13.1.8「ALTER TABLESPACE 構文」</a>を参照してください。
              </p></li></ul></div></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979018681680"></a>この時点で、ディスク上のテーブルスペース <code class="literal">ts_1</code> 内にインデックスなしカラムを格納するテーブルを作成できます。
          </p><pre class="programlisting">
CREATE TABLE dt_1 (
    member_id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
    last_name VARCHAR(50) NOT NULL,
    first_name VARCHAR(50) NOT NULL,
    dob DATE NOT NULL,
    joined DATE NOT NULL,
    INDEX(last_name, first_name)
    )
    TABLESPACE ts_1 STORAGE DISK
    ENGINE NDBCLUSTER;
</pre><p>
            <code class="literal">TABLESPACE ... STORAGE DISK</code> オプションは、ディスクデータストレージ用にテーブルスペース <code class="literal">ts_1</code> を使用するように <code class="literal">NDBCLUSTER</code> ストレージエンジンに指示します。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              <code class="literal">CREATE TABLE</code> または <code class="literal">ALTER TABLE</code> ステートメントでカラムの定義の一部として <code class="literal">STORAGE</code> 句を使用すると、個々のカラムをディスク上とメモリー内のどちらに格納するかを指定することもできます。<code class="literal">STORAGE DISK</code> を指定するとカラムはディスク上に格納され、<code class="literal">STORAGE MEMORY</code> を指定するとインメモリーストレージが使用されます。詳細は、<a class="xref" href="sql-syntax.html#create-table" title="13.1.17 CREATE TABLE 構文">セクション13.1.17「CREATE TABLE 構文」</a>を参照してください。
            </p></div><p>
            次のようにテーブル <code class="literal">ts_1</code> が作成されたら、その他の MySQL テーブルの場合と同様に、<code class="literal">INSERT</code>、<code class="literal">SELECT</code>、<code class="literal">UPDATE</code>、および <code class="literal">DELETE</code> ステートメントを実行できます。
          </p><p>
            ここで定義されたテーブル <code class="literal">dt_1</code> の場合、<code class="literal">dob</code> および <code class="literal">joined</code> カラムのみがディスク上に格納されます。この理由は、<code class="literal">id</code>、<code class="literal">last_name</code>、および <code class="literal">first_name</code> カラムにインデックスがあるため、これらのカラムに属するデータが RAM 内に格納されるためです。MySQL Cluster NDB 7.3 および MySQL Cluster NDB 7.4 では、インデックスなしカラムのみをディスク上に保持でき、インデックスおよびインデックス付きカラムのデータは引き続き、メモリー内に格納されます。インデックスの使用と RAM の保存のこのようなトレードオフは、ディスクデータテーブルを設計する際に留意する必要があります。
          </p></li></ol></div><p><b>パフォーマンスに関する注意 </b>
          データノードファイルシステムから分離された物理ディスク上にディスクデータファイルが保持されている場合、ディスクデータストレージを使用しているクラスタのパフォーマンスが大幅に改善されます。顕著な利点を引き出すには、クラスタ内のデータノードごとに、これを実行する必要があります。
        </p><p>
        <code class="literal">ADD UNDOFILE</code> および <code class="literal">ADD DATAFILE</code> では、ファイルシステムの完全パスおよび相対パスを使用できます。相対パスは、データノードのデータディレクトリに相対的に計算されます。シンボリックリンクを使用することもできます。詳細および例については、<a class="xref" href="mysql-cluster.html#mysql-cluster-disk-data-symlinks" title="18.5.12.2 ディスクデータオブジェクトでのシンボリックリンクの使用">セクション18.5.12.2「ディスクデータオブジェクトでのシンボリックリンクの使用」</a>を参照してください。
      </p><p>
        これらを使用しているログファイルグループ、テーブルスペース、およびディスクデータテーブルは、特定の順序で作成する必要があります。これらのオブジェクトを削除する際にも、同じことが当てはまります。
      </p><a class="indexterm" name="idm139979018650928"></a><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            ログファイルグループは、テーブルスペースで使用されているかぎり、削除できません。
          </p></li><li class="listitem"><p>
            テーブルスペースは、データファイルを格納しているかぎり、削除できません。
          </p></li><li class="listitem"><p>
            テーブルスペースを使用しているテーブルが残っているかぎり、テーブルスペースからどのデータファイルも削除できません。
          </p></li><li class="listitem"><p>
            ファイルが作成されたテーブルスペースとは別のテーブルスペースに関連付けられて作成されたファイルは、削除できません。(Bug #20053)
          </p></li></ul></div><p>
        たとえば、このセクションでこれまで作成してきたすべてのオブジェクトを削除するには、次のステートメントを使用します。
      </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>DROP TABLE dt_1;</code></strong>

mysql&gt; <strong class="userinput"><code>ALTER TABLESPACE ts_1</code></strong>
    -&gt; <strong class="userinput"><code>DROP DATAFILE 'data_2.dat'</code></strong>
    -&gt; <strong class="userinput"><code>ENGINE NDBCLUSTER;</code></strong>

mysql&gt; <strong class="userinput"><code>ALTER TABLESPACE ts_1</code></strong>
    -&gt; <strong class="userinput"><code>DROP DATAFILE 'data_1.dat'</code></strong>
    -&gt; <strong class="userinput"><code>ENGINE NDBCLUSTER;</code></strong>

mysql&gt; <strong class="userinput"><code>DROP TABLESPACE ts_1</code></strong>
    -&gt; <strong class="userinput"><code>ENGINE NDBCLUSTER;</code></strong>

mysql&gt; <strong class="userinput"><code>DROP LOGFILE GROUP lg_1</code></strong>
    -&gt; <strong class="userinput"><code>ENGINE NDBCLUSTER;</code></strong>
</pre><p>
        これらのステートメントは、ここで示した順序で実行する必要があります。ただし、2 つの <code class="literal">ALTER TABLESPACE ... DROP DATAFILE</code> ステートメントは、どちらの順序でも実行できます。
      </p><p>
        <code class="literal">INFORMATION_SCHEMA</code> データベースの <code class="literal">FILES</code> テーブルをクエリーすると、ディスクデータテーブルによって使用されているデータファイルに関する情報を取得できます。追加の <span class="quote">「<span class="quote"><code class="literal">NULL</code> 行</span>」</span>には、Undo ログファイルに関する追加情報が示されます。詳細および例については、<a class="xref" href="information-schema.html#files-table" title="21.30.1 INFORMATION_SCHEMA FILES テーブル">セクション21.30.1「INFORMATION_SCHEMA FILES テーブル」</a>を参照してください。
      </p><p>
        <span class="command"><strong>ndb_desc</strong></span> ユーティリティーを使用すると、ディスクデータテーブルまたはテーブルパーティションごとに、割り当て済みおよび空きディスク容量に関する情報を表示することもできます。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-desc" title="18.4.10 ndb_desc — NDB テーブルの表示">セクション18.4.10「<span class="command"><strong>ndb_desc</strong></span> — NDB テーブルの表示」</a>を参照してください。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-disk-data-symlinks"></a>18.5.12.2 ディスクデータオブジェクトでのシンボリックリンクの使用</h4></div></div></div><p>
        データノードファイルシステムを Undo ログファイルおよびテーブルスペースデータファイルから分離し、これらを別々のディスク上に配置すると、ディスクデータストレージを使用する MySQL Cluster のパフォーマンスを大幅に改善できます。旧バージョンの MySQL Cluster では、これに対する直接的なサポートはありませんでしたが、このセクションで説明するようにシンボリックリンクを使用すれば、このような分離を実現できました。MySQL Cluster では、このためにシンボリックリンクを使用する必要性をなくすデータノード構成パラメータ <code class="literal">FileSystemPathDD</code>、<code class="literal">FileSystemPathDataFiles</code>、および <code class="literal">FileSystemPathUndoFiles</code> がサポートされています。これらのパラメータについての詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndbd-disk-data-filesystem-parameters" title="ディスクデータのファイルシステムパラメータ">ディスクデータのファイルシステムパラメータ</a>を参照してください。
      </p><p>
        クラスタ内の各データノードは、<code class="filename">config.ini</code> ファイルに定義されたデータノードの <code class="literal">DataDir</code> にある <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_fs</code> という名前のディレクトリに、ファイルシステムを作成します。この例では、各データノードホストが <code class="filename">/data0</code>、<code class="filename">/data1</code>、および <code class="filename">/data2</code> というエイリアスが付けられた 3 台のディスクを持ち、クラスタの <code class="filename">config.ini</code> に次のエントリが含まれていると仮定します。
      </p><pre class="programlisting">
[ndbd default]
DataDir= /data0
</pre><p>
        ここでの目的は、各データノードホスト上で、<code class="filename">/data1</code> にすべてのディスクデータログファイル、<code class="filename">/data2</code> にすべてのディスクデータデータファイルを配置することです。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          この例では、クラスタのデータノードホストではすべて、Linux オペレーティングシステムが使用されていると仮定します。その他のプラットフォームでは、ここで示したコマンドをオペレーティングシステムのコマンドで置き換える必要がある場合があります。
        </p></div><p>
        これを実現するには、次のステップを実行します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            データノードファイルシステムで、ほかのドライブを指しているシンボリックリンクを作成します。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cd /data0/ndb_2_fs</code></strong>
shell&gt; <strong class="userinput"><code>ls</code></strong>
D1  D10  D11  D2  D8  D9  LCP
shell&gt; <strong class="userinput"><code>ln -s /data0 dnlogs</code></strong>
shell&gt; <strong class="userinput"><code>ln -s /data1 dndata</code></strong>
</pre><p>
            この時点で、次の 2 つのシンボリックリンクが表示されます。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ls -l --hide=D*</code></strong>
lrwxrwxrwx 1 user group   30 2007-03-19 13:58 dndata -&gt; /data1
lrwxrwxrwx 1 user group   30 2007-03-19 13:59 dnlogs -&gt; /data2
</pre><p>
            ここでは、ノード ID が 2 のデータノードの場合のみを示していますが、これを<span class="emphasis"><em>各</em></span>データノードで実行する必要があります。
          </p></li><li class="listitem"><p>
            ここで、<span class="command"><strong>mysql</strong></span> クライアントで、次に示すようにシンボリックリンクを使用してログファイルグループおよびテーブルスペースを作成します。
          </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>CREATE LOGFILE GROUP lg1</code></strong>
    -&gt;    <strong class="userinput"><code>ADD UNDOFILE 'dnlogs/undo1.log'</code></strong>
    -&gt;    <strong class="userinput"><code>INITIAL_SIZE 150M</code></strong>
    -&gt;    <strong class="userinput"><code>UNDO_BUFFER_SIZE = 1M</code></strong>
    -&gt;    <strong class="userinput"><code>ENGINE=NDBCLUSTER;</code></strong>

mysql&gt; <strong class="userinput"><code>CREATE TABLESPACE ts1</code></strong>
    -&gt;    <strong class="userinput"><code>ADD DATAFILE 'dndata/data1.log'</code></strong>
    -&gt;    <strong class="userinput"><code>USE LOGFILE GROUP lg1</code></strong>
    -&gt;    <strong class="userinput"><code>INITIAL_SIZE 1G</code></strong>
    -&gt;    <strong class="userinput"><code>ENGINE=NDBCLUSTER;</code></strong>
</pre><p>
            次に示すように、ファイルが正しく作成および配置されたことを確認します。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cd /data1</code></strong>
shell&gt; <strong class="userinput"><code>ls -l</code></strong>
total 2099304
-rw-rw-r--  1 user group 157286400 2007-03-19 14:02 undo1.dat

shell&gt; <strong class="userinput"><code>cd /data2</code></strong>
shell&gt; <strong class="userinput"><code>ls -l</code></strong>
total 2099304
-rw-rw-r--  1 user group 1073741824 2007-03-19 14:02 data1.dat
</pre></li><li class="listitem"><p>
            1 つのホスト上で複数のデータノードを実行している場合は、それらがディスクデータファイルに同じ領域の使用を試みないように注意する必要があります。各データノードファイルシステムにシンボリックリンクを作成すると、これを簡単にできます。両方のデータノードファイルシステムに <code class="filename">/data0</code> を使用しているが、<code class="filename">/data1</code> 上に両方のノードのディスクデータファイルを配置する必要があるとします。この場合、次に示すものと同様の操作を実行できます。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cd /data0</code></strong>
shell&gt; <strong class="userinput"><code>ln -s /data1/dn2 ndb_2_fs/dd</code></strong>
shell&gt; <strong class="userinput"><code>ln -s /data1/dn3 ndb_3_fs/dd</code></strong>
shell&gt; <strong class="userinput"><code>ls -l --hide=D* ndb_2_fs</code></strong>
lrwxrwxrwx 1 user group   30 2007-03-19 14:22 dd -&gt; /data1/dn2
shell&gt; <strong class="userinput"><code>ls -l --hide=D* ndb_3_fs</code></strong>
lrwxrwxrwx 1 user group   30 2007-03-19 14:22 dd -&gt; /data1/dn3
</pre></li><li class="listitem"><p>
            この時点で、次に示すように、シンボリックリンクを使用してログファイルグループおよびテーブルスペースを作成できます。
          </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>CREATE LOGFILE GROUP lg1</code></strong>
    -&gt;    <strong class="userinput"><code>ADD UNDOFILE 'dd/undo1.log'</code></strong>
    -&gt;    <strong class="userinput"><code>INITIAL_SIZE 150M</code></strong>
    -&gt;    <strong class="userinput"><code>UNDO_BUFFER_SIZE = 1M</code></strong>
    -&gt;    <strong class="userinput"><code>ENGINE=NDBCLUSTER;</code></strong>

mysql&gt; <strong class="userinput"><code>CREATE TABLESPACE ts1</code></strong>
    -&gt;    <strong class="userinput"><code>ADD DATAFILE 'dd/data1.log'</code></strong>
    -&gt;    <strong class="userinput"><code>USE LOGFILE GROUP lg1</code></strong>
    -&gt;    <strong class="userinput"><code>INITIAL_SIZE 1G</code></strong>
    -&gt;    <strong class="userinput"><code>ENGINE=NDBCLUSTER;</code></strong>
</pre><p>
            次に示すように、ファイルが正しく作成および配置されたことを確認します。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cd /data1</code></strong>
shell&gt; <strong class="userinput"><code>ls</code></strong>
dn2        dn3
shell&gt; <strong class="userinput"><code>ls dn2</code></strong>
undo1.log        data1.log
shell&gt; <strong class="userinput"><code>ls dn3</code></strong>
undo1.log        data1.log
</pre></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-disk-data-storage-requirements"></a>18.5.12.3 MySQL Cluster ディスクデータストレージの要件</h4></div></div></div><p>
        <a class="indexterm" name="idm139979018560016"></a>ディスクテータストレージの要件には、次の項目が適用されます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            ディスクデータテーブルの可変長カラムは、固定の容量を占有します。これは、行ごとに、そのカラムで可能性のある最大値を格納するために必要な容量に等しくなります。
          </p><p>
            このような値の計算に関する一般的な情報については、<a class="xref" href="data-types.html#storage-requirements" title="11.7 データ型のストレージ要件">セクション11.7「データ型のストレージ要件」</a>を参照してください。
          </p><p>
            <code class="literal">INFORMATION_SCHEMA.FILES</code> テーブルをクエリーして、データファイルおよび Undo ログファイルで使用可能な推定容量を取得できます。詳細および例については、<a class="xref" href="information-schema.html#files-table" title="21.30.1 INFORMATION_SCHEMA FILES テーブル">セクション21.30.1「INFORMATION_SCHEMA FILES テーブル」</a>を参照してください。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              <code class="literal">OPTIMIZE TABLE</code> ステートメントを実行しても、ディスクデータテーブルは影響を受けません。
            </p></div></li><li class="listitem"><p>
            ディスクデータテーブルでは、<code class="literal">TEXT</code> または <code class="literal">BLOB</code> カラムの最初の 256 バイトがメモリー内に格納され、その残りだけがディスク上に格納されます。
          </p></li><li class="listitem"><p>
            ディスクデータテーブル内の各行では、ディスク上に格納されたデータを指すためにメモリー内の 8 バイトが使用されます。つまり、場合によっては、インメモリーカラムをディスクベースの形式に変換すれば、実際にメモリーの使用率を改善できます。たとえば、<code class="literal">CHAR(4)</code> カラムをメモリーベースの形式からディスクベースの形式に変換すると、1 行当たりに使用される <code class="literal">DataMemory</code> の量が 4 バイトから 8 バイトに増加します。
          </p></li></ul></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
          <code class="option">--initial</code> オプションを付けてクラスタを起動しても、ディスクデータファイルは削除され<span class="emphasis"><em>ません</em></span>。クラスタの初期再起動を実行する前に、これらを手動で削除する必要があります。
        </p></div><p>
        <code class="literal">DiskPageBufferMemory</code> のサイズが十分にあることを確認して、ディスクシークの回数を最小限に抑えると、ディスクデータテーブルのパフォーマンスを改善できます。<code class="literal">diskpagebuffer</code> テーブルをクエリーすると、このパラメータの値を大きくする必要があるかどうかを判断する際に役立ちます。
      </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-online-add-node"></a>18.5.13 MySQL Cluster データノードのオンライン追加</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-online-add-node-remarks">18.5.13.1 MySQL Cluster データノードのオンライン追加: 一般的な問題</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-online-add-node-basics">18.5.13.2 MySQL Cluster データノードのオンライン追加: 基本的な手順</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-online-add-node-example">18.5.13.3 MySQL Cluster データノードのオンライン追加: 詳細な例</a></span></dt></dl></div><p>
      このセクションでは、<span class="quote">「<span class="quote">オンライン</span>」</span>で (つまり、プロセスの一部として、クラスタを完全にシャットダウンしてから再起動する必要なく) MySQL Cluster データノードを追加する方法について説明します。
    </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
        現在、新しいノードグループの一部として、MySQL Cluster に新しいデータノードを追加する必要があります。さらに、レプリカの数 (または 1 ノードグループ当たりのノード数) はオンラインで変更できません。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-online-add-node-remarks"></a>18.5.13.1 MySQL Cluster データノードのオンライン追加: 一般的な問題</h4></div></div></div><p>
        このセクションでは、MySQL Cluster ノードをオンラインで追加する際の動作および現在の制限事項に関する一般的な情報を示します。
      </p><p><b>データの再配布 </b>
          新しいノードをオンラインで追加する機能には、<code class="literal">ALTER ONLINE TABLE ... REORGANIZE PARTITION</code> ステートメントを使用して、すべてのデータノード (新しいものを含む) 間で配布されるように <code class="literal">NDBCLUSTER</code> テーブルデータおよびインデックスを再編成する手段も含まれます。インメモリーとディスクデータの両方のテーブルの再編成がサポートされています。現在、この再配布には一意のインデックスが含まれていません (順序付きインデックスのみが再配布されます)。MySQL Cluster NDB 7.3.3 より前では、この方法を使用して <code class="literal">BLOB</code> テーブルデータも再配布されません (Bug #13714148)。
        </p><p>
        新しいデータノードが追加される前にすでに存在していた <code class="literal">NDBCLUSTER</code> テーブルの再配布は、自動的に実行されませんが、<span class="command"><strong>mysql</strong></span> または別の MySQL クライアントアプリケーションで単純な SQL ステートメントを使用して実現できます。ただし、新しいノードグループが追加されたあとに作成されたテーブルに追加されたすべてのデータおよびインデックスは、すべてのクラスタデータノード (新しいノードグループの一部として追加されたものを含む) 間で自動的に配布されます。
      </p><p><b>部分的な起動 </b>
          新しいデータノードがすべて起動されていなくても、新しいノードグループを追加できます。また、新しいノードグループを機能低下状態のクラスタ (つまり、部分的にしか起動されていないクラスタや、1 つ以上のデータノードが実行されていないクラスタ) に追加することもできます。後者の場合、新しいノードグループを追加する前に、クラスタで十分な数のノードが実行可能になっている必要があります。
        </p><p><b>進行中の操作への影響 </b>
          新しいノードグループを作成または追加したり、テーブルを再編成したりしても、MySQL Cluster データを使用する通常の DML 操作は妨げられません。ただし、テーブルの再編成と同時に DDL を実行することはできません。つまり、<code class="literal">ALTER TABLE ... REORGANIZE PARTITION</code> ステートメントの実行中は、ほかの DDL ステートメントを発行できません。さらに、<code class="literal">ALTER TABLE ... REORGANIZE PARTITION</code> の実行 (またはその他の DDL ステートメントの実行) 中は、クラスタデータノードを再起動できません。
        </p><p><b>エラー処理 </b>
          ノードグループの作成時およびテーブルの再編成時のデータノードのエラーは、次の表に示すように処理されます。
        </p><div class="informaltable"><table summary="この表では、ノードグループの作成時およびテーブルの再編成時のデータノードのエラーが処理される方法について説明します。1 番目のカラムは、(ノードグループの作成時またはテーブルの再編成時に) エラーが発生するタイミングを示します。2 番目のカラムでは、エラーが発生する場所を 3 つのサブカラム (古いデータノード、新しいデータノード、システム) に分割して説明します。" border="1"><colgroup><col><col class="2"><col><col class="4"></colgroup><thead><tr><th scope="col" rowspan="2">エラーが発生するタイミング:</th><th scope="col" colspan="3">エラーが発生する場所:</th></tr><tr><th scope="col"><span class="quote">「<span class="quote">古い</span>」</span>データノード</th><th scope="col"><span class="quote">「<span class="quote">新しい</span>」</span>データノード</th><th scope="col">システム</th></tr></thead><tbody><tr><td scope="row">ノードグループの作成</td><td><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>マスター以外のノードでエラーが発生した場合: </b>
                        ノードグループの作成は常にロールフォワードされます。
                      </p></li><li class="listitem"><p><b>マスターでエラーが発生した場合: </b></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><b>内部コミットポイントに達した場合: </b>
                            ノードグループの作成はロールフォワードされます。
                          </p></li><li class="listitem"><p><b>内部コミットポイントにまだ達していない場合: </b>
                            ノードグループの作成はロールバックされます。
                          </p></li></ul></div></li></ul></div></td><td><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>マスター以外のノードでエラーが発生した場合: </b>
                        ノードグループの作成は常にロールフォワードされます。
                      </p></li><li class="listitem"><p><b>マスターでエラーが発生した場合: </b></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><b>内部コミットポイントに達した場合: </b>
                            ノードグループの作成はロールフォワードされます。
                          </p></li><li class="listitem"><p><b>内部コミットポイントにまだ達していない場合: </b>
                            ノードグループの作成はロールバックされます。
                          </p></li></ul></div></li></ul></div></td><td><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>CREATE NODEGROUP の実行が内部コミットポイントに達した場合: </b>
                        再起動時に、クラスタは新しいノードグループを含みます。それ以外の場合は、含みません。
                      </p></li><li class="listitem"><p><b>CREATE NODEGROUP の実行が内部コミットポイントにまだ達していない場合: </b>
                        再起動時に、クラスタは新しいノードグループを含みません。
                      </p></li></ul></div></td></tr><tr><td scope="row">テーブルの再編成</td><td><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>マスター以外のノードでエラーが発生した場合: </b>
                        テーブルの再編成は常にロールフォワードされます。
                      </p></li><li class="listitem"><p><b>マスターでエラーが発生した場合: </b></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><b>内部コミットポイントに達した場合: </b>
                            テーブルの再編成はロールフォワードされます。
                          </p></li><li class="listitem"><p><b>内部コミットポイントにまだ達していない場合: </b>
                            テーブルの再編成はロールバックされます。
                          </p></li></ul></div></li></ul></div></td><td><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>マスター以外のノードでエラーが発生した場合: </b>
                        テーブルの再編成は常にロールフォワードされます。
                      </p></li><li class="listitem"><p><b>マスターでエラーが発生した場合: </b></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><b>内部コミットポイントに達した場合: </b>
                            テーブルの再編成はロールフォワードされます。
                          </p></li><li class="listitem"><p><b>内部コミットポイントにまだ達していない場合: </b>
                            テーブルの再編成はロールバックされます。
                          </p></li></ul></div></li></ul></div></td><td><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>ALTER ONLINE TABLE テーブルの REORGANIZE PARTITION ステートメントの実行が内部コミットポイントに達した場合: </b>
                        クラスタの再起動時に、<em class="replaceable"><code>table</code></em> に属するデータおよびインデックスが<span class="quote">「<span class="quote">新しい</span>」</span>データノードを使用して配布されます。
                      </p></li><li class="listitem"><p><b>ALTER ONLINE TABLE テーブルの REORGANIZE PARTITION ステートメントの実行が内部コミットポイントにまだ達していない場合: </b>
                        クラスタの再起動時に、<em class="replaceable"><code>table</code></em> に属するデータおよびインデックスが<span class="quote">「<span class="quote">古い</span>」</span>データノードのみを使用して配布されます。
                      </p></li></ul></div></td></tr></tbody></table></div><p><b>ノードグループの削除 </b>
          <span class="command"><strong>ndb_mgm</strong></span> クライアントは、<code class="literal">DROP NODEGROUP</code> コマンドをサポートしていますが、ノードグループ内のデータノードにどのデータも含まれていない場合にのみ削除できます。現在、特定のデータノードまたはノードグループを<span class="quote">「<span class="quote">空にする</span>」</span>方法がないため、このコマンドは次の 2 つのケースでしか機能しません。
        </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            <span class="command"><strong>ndb_mgm</strong></span> クライアントで <code class="literal">CREATE NODEGROUP</code> を発行してから、<span class="command"><strong>mysql</strong></span> クライアントで任意の <code class="literal">ALTER ONLINE TABLE ... REORGANIZE PARTITION</code> ステートメントを発行するまでの間。
          </p></li><li class="listitem"><p>
            <code class="literal">DROP TABLE</code> を使用してすべての <code class="literal">NDBCLUSTER</code> テーブルを削除したあと。
          </p><p>
            データノードには引き続きテーブルの定義が格納されるため、この目的では <code class="literal">TRUNCATE TABLE</code> は機能しません。
          </p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-online-add-node-basics"></a>18.5.13.2 MySQL Cluster データノードのオンライン追加: 基本的な手順</h4></div></div></div><p>
        このセクションでは、新しいデータノードを MySQL Cluster に追加するために必要な基本的なステップを一覧表示します。この手順は、データノードのプロセスに <span class="command"><strong>ndbd</strong></span> バイナリと <span class="command"><strong>ndbmtd</strong></span> バイナリのどちらを使用する場合でも適用されます。詳細な例については、<a class="xref" href="mysql-cluster.html#mysql-cluster-online-add-node-example" title="18.5.13.3 MySQL Cluster データノードのオンライン追加: 詳細な例">セクション18.5.13.3「MySQL Cluster データノードのオンライン追加: 詳細な例」</a>を参照してください。
      </p><p>
        すでに MySQL Cluster が実行されていると仮定すると、データノードをオンラインで追加するには次のステップが必要です。
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            追加対象のノードに対応する新しい <code class="literal">[ndbd]</code> セクションを追加して、クラスタ構成 <code class="filename">config.ini</code> ファイルを編集します。クラスタで複数の管理サーバーが使用されている場合は、管理サーバーで使用されるすべての <code class="filename">config.ini</code> ファイルに、これらの変更を加える必要があります。
          </p><p>
            <code class="filename">config.ini</code> ファイルに追加される新しいデータノードのノード ID が、既存のノードで使用されるノード ID と重複しないように注意する必要があります。動的に割り当てられたノード ID を使用している API ノードがあり、それらの ID が新しいノードに使用するノード ID と一致する場合は、この手順の後半で説明するように、このような API ノードを強制的に<span class="quote">「<span class="quote">移行</span>」</span>できます。
          </p></li><li class="listitem"><p>
            すべての MySQL Cluster 管理サーバーのローリング再起動を実行します。
          </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
              新しい構成を強制的に読み取るには、すべての管理サーバーを <code class="option">--reload</code> または <code class="option">--initial</code> オプションを付けて再起動する必要があります。
            </p></div></li><li class="listitem"><p>
            既存のすべての MySQL Cluster データノードのローリング再起動を実行します。既存のデータノードを再起動するときは、<code class="option">--initial</code> を使用する必要がありません (通常は望ましくもありません)。
          </p><p>
            新しいデータノードに割り当てるいずれかのノード ID と一致する動的に割り当てられた ID を持つ API ノードを使用している場合は、このステップでデータノードプロセスのいずれかを再起動する前に、すべての API ノード (SQL ノードを含む) を再起動する必要があります。これにより、事前に明示的に割り当てられなかったノード ID を持つ API ノードは、このようなノード ID を放棄し、新しい ID を取得します。
          </p></li><li class="listitem"><p>
            MySQL Cluster に接続されているすべての SQL ノードまたは API ノードのローリング再起動を実行します。
          </p></li><li class="listitem"><p>
            新しいデータノードを起動します。
          </p><p>
            新しいデータノードは、任意の順序で起動できます。またそれらは、既存のすべてのデータノードのローリング再起動が完了してから、次のステップに進むまでの間に起動されるかぎり、同時に起動することもできます。
          </p></li><li class="listitem"><p>
            MySQL Cluster 管理クライアントで <code class="literal">CREATE NODEGROUP</code> コマンドを 1 回以上実行して、新しいデータノードが属する 1 つまたは複数の新しいノードグループを作成します。
          </p></li><li class="listitem"><p>
            <code class="literal">NDBCLUSTER</code> テーブルごとに、<span class="command"><strong>mysql</strong></span> クライアントで <code class="literal">ALTER ONLINE TABLE ... REORGANIZE PARTITION</code> ステートメントを発行して、すべてのデータノード (新しいものを含む) 間でクラスタのデータを再配布します。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              これは、新しいノードグループを追加する時点ですでに存在しているテーブルに対してのみ実行する必要があります。新しいノードグループを追加したあとに作成されたテーブル内のデータは、自動的に再配布されません。ただし、新しいノードを追加する前に存在していた特定のテーブル <code class="literal">tbl</code> に追加されたデータは、そのテーブルが <code class="literal">ALTER ONLINE TABLE tbl REORGANIZE PARTITION</code> を使用して再編成されるまで、新しいノードを使用して再配布されません。
            </p></div></li><li class="listitem"><p>
            <code class="literal">NDBCLUSTER</code> テーブルごとに、<span class="command"><strong>mysql</strong></span> クライアントで <code class="literal">OPTIMIZE TABLE</code> ステートメントを発行して、<span class="quote">「<span class="quote">古い</span>」</span>ノード上の解放された領域を再利用します。
          </p></li></ol></div><p>
        目的のノードをすべて追加してから、複数の <code class="literal">CREATE NODEGROUP</code> コマンドを連続して発行し、新しいノードグループをクラスタに追加できます。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-online-add-node-example"></a>18.5.13.3 MySQL Cluster データノードのオンライン追加: 詳細な例</h4></div></div></div><p>
        このセクションでは、MySQL Cluster データノードをオンラインで追加する方法について説明する詳細な例を示します。まず、単一のノードグループ内に 2 つのデータノードを持つ MySQL Cluster から開始し、2 つのノードグループ内に 4 つのデータノードを持つクラスタで終了します。
      </p><p><b>構成の開始 </b>
          説明のために、最小限の構成とし、次の情報のみを含む <code class="filename">config.ini</code> ファイルをクラスタで使用すると仮定します。
        </p><pre class="programlisting">
[ndbd default]
DataMemory = 100M
IndexMemory = 100M
NoOfReplicas = 2
DataDir = /usr/local/mysql/var/mysql-cluster

[ndbd]
Id = 1
HostName = 192.168.0.1

[ndbd]
Id = 2
HostName = 192.168.0.2

[mgm]
HostName = 192.168.0.10
Id = 10

[api]
Id=20
HostName = 192.168.0.20

[api]
Id=21
HostName = 192.168.0.21
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          データノード ID とその他のノード間のシーケンスにギャップを残しています。これにより、あとで新たに追加されるデータノードに、まだ使用されていないノード ID を簡単に割り当てることができます。
        </p></div><p>
        また、適切なコマンド行または <code class="filename">my.cnf</code> オプションを使用して、クラスタをすでに起動しており、管理クライアントで <code class="literal">SHOW</code> を実行すると、次に示すものと同様の出力が生成されると仮定します。
      </p><pre class="programlisting">
-- NDB Cluster -- Management Client --
ndb_mgm&gt; <strong class="userinput"><code>SHOW</code></strong>
Connected to Management Server at: 192.168.0.10:1186
Cluster Configuration
---------------------
[ndbd(NDB)]     2 node(s)
id=1    @192.168.0.1  (5.6.22-ndb-7.4.4, Nodegroup: 0, *)
id=2    @192.168.0.2  (5.6.22-ndb-7.4.4, Nodegroup: 0)

[ndb_mgmd(MGM)] 1 node(s)
id=10   @192.168.0.10  (5.6.22-ndb-7.4.4)

[mysqld(API)]   2 node(s)
id=20   @192.168.0.20  (5.6.22-ndb-7.4.4)
id=21   @192.168.0.21  (5.6.22-ndb-7.4.4)
</pre><p>
        最後に、次に示すように作成された単一の <code class="literal">NDBCLUSTER</code> テーブルがクラスタに含まれていると仮定します。
      </p><pre class="programlisting">
USE n;

CREATE TABLE ips (
    id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    country_code CHAR(2) NOT NULL,
    type CHAR(4) NOT NULL,
    ip_address varchar(15) NOT NULL,
    addresses BIGINT UNSIGNED DEFAULT NULL,
    date BIGINT UNSIGNED DEFAULT NULL
)   ENGINE NDBCLUSTER;
</pre><p>
        このセクションの後半で示すメモリーの使用率および関連情報は、このテーブルに約 50000 行挿入したあとに生成されました。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          この例では、データノードプロセスに、シングルスレッド <span class="command"><strong>ndbd</strong></span> を使用することを示します。ただし、MySQL Cluster NDB 7.0.4 以降では、マルチスレッドの <span class="command"><strong>ndbmtd</strong></span> を使用している場合でも、以降のステップの <span class="command"><strong>ndbd</strong></span> が示されている箇所をすべて <span class="command"><strong>ndbmtd</strong></span> に置き換えることによって、この例を適用できます。(Bug #43108)
        </p></div><p><b>ステップ 1: 構成ファイルの更新 </b>
          テキストエディタでクラスタのグローバル構成ファイルを開き、2 つの新しいデータノードに対応する <code class="literal">[ndbd]</code> セクションを追加します。(これらのデータノードに ID 3 と 4 を付与し、それらがそれぞれ 192.168.0.3 と 192.168.0.4 のアドレスにあるホストマシンで実行されると仮定します。)新しいセクションを追加したら、<code class="filename">config.ini</code> ファイルの内容が次に示すように見えます。ここで、ファイルに追加した部分は太字で示しています。
        </p><pre class="programlisting">
[ndbd default]
DataMemory = 100M
IndexMemory = 100M
NoOfReplicas = 2
DataDir = /usr/local/mysql/var/mysql-cluster

[ndbd]
Id = 1
HostName = 192.168.0.1

[ndbd]
Id = 2
HostName = 192.168.0.2

<span class="bold"><strong>[ndbd]
Id = 3
HostName = 192.168.0.3

[ndbd]
Id = 4
HostName = 192.168.0.4</strong></span>

[mgm]
HostName = 192.168.0.10
Id = 10

[api]
Id=20
HostName = 192.168.0.20

[api]
Id=21
HostName = 192.168.0.21
</pre><p>
        必要な変更が完了したら、ファイルを保存します。
      </p><p><b>ステップ 2: 管理サーバーの再起動 </b>
          クラスタ管理サーバーを再起動するには、次のように別々のコマンドを発行して、管理サーバーを停止してから再起動する必要があります。
        </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            次に示すように管理クライアントの <code class="literal">STOP</code> コマンドを使用して、管理サーバーを停止します。
          </p><pre class="programlisting">
ndb_mgm&gt; <strong class="userinput"><code>10 STOP</code></strong>
Node 10 has shut down.
Disconnecting to allow Management Server to shutdown

shell&gt;
</pre></li><li class="listitem"><p>
            管理サーバーをシャットダウンすると管理クライアントが終了するため、システムシェルから管理サーバーを起動する必要があります。単純にするために、<code class="filename">config.ini</code> は管理サーバーバイナリと同じディレクトリにあると仮定していますが、実際には、構成ファイルの正確なパスを指定する必要があります。また、管理サーバーがその構成キャッシュからではなく、ファイルから新しい構成を読み取るように、<code class="option">--reload</code> または <code class="option">--initial</code> オプションも指定する必要があります。シェルの現在のディレクトリも管理サーバーバイナリが配置されているディレクトリと同じである場合は、次に示すように管理サーバーを呼び出すことができます。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndb_mgmd -f config.ini --reload</code></strong>
2008-12-08 17:29:23 [MgmSrvr] INFO     -- NDB Cluster Management Server. 5.6.22-ndb-7.4.4
2008-12-08 17:29:23 [MgmSrvr] INFO     -- Reading cluster configuration from 'config.ini'
</pre></li></ol></div><p>
        <span class="command"><strong>ndb_mgm</strong></span> プロセスが再起動されたあとに、管理クライアントで <code class="literal">SHOW</code> の出力をチェックすると、次に示すように表示されます。
      </p><pre class="programlisting">
-- NDB Cluster -- Management Client --
ndb_mgm&gt; <strong class="userinput"><code>SHOW</code></strong>
Connected to Management Server at: 192.168.0.10:1186
Cluster Configuration
---------------------
[ndbd(NDB)]     2 node(s)
id=1    @192.168.0.1  (5.6.22-ndb-7.4.4, Nodegroup: 0, *)
id=2    @192.168.0.2  (5.6.22-ndb-7.4.4, Nodegroup: 0)
id=3 (not connected, accepting connect from 192.168.0.3)
id=4 (not connected, accepting connect from 192.168.0.4)

[ndb_mgmd(MGM)] 1 node(s)
id=10   @192.168.0.10  (5.6.22-ndb-7.4.4)

[mysqld(API)]   2 node(s)
id=20   @192.168.0.20  (5.6.22-ndb-7.4.4)
id=21   @192.168.0.21  (5.6.22-ndb-7.4.4)
</pre><p><b>ステップ 3: 既存のデータノードのローリング再起動の実行 </b>
          次に示すように <code class="literal">RESTART</code> コマンドを使用すると、このステップを完全にクラスタ管理クライアント内で実現できます。
        </p><pre class="programlisting">
ndb_mgm&gt; <strong class="userinput"><code>1 RESTART</code></strong>
Node 1: Node shutdown initiated
Node 1: Node shutdown completed, restarting, no start.
Node 1 is being restarted

ndb_mgm&gt; Node 1: Start initiated (version 7.4.4)
Node 1: Started (version 7.1.35)

ndb_mgm&gt; <strong class="userinput"><code>2 RESTART</code></strong>
Node 2: Node shutdown initiated
Node 2: Node shutdown completed, restarting, no start.
Node 2 is being restarted

ndb_mgm&gt; Node 2: Start initiated (version 7.4.4)

ndb_mgm&gt; Node 2: Started (version 7.4.4)
</pre><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
          各 <code class="literal"><em class="replaceable"><code>X</code></em> RESTART</code> コマンドを発行したら、管理クライアントによって<code class="literal">「Node <em class="replaceable"><code>X</code></em>: Started (version ...)」</code>というレポートが出力されるまで待機して<span class="emphasis"><em>から</em></span>、先に進みます。
        </p></div><p>
        <span class="command"><strong>mysql</strong></span> クライアントで <code class="literal">ndbinfo.nodes</code> テーブルをチェックすると、既存のデータノードがすべて更新済みの構成を使用して再起動されたことを確認できます。
      </p><p><b>ステップ 4: すべてのクラスタ API ノードのローリング再起動の実行 </b>
          <span class="command"><strong>mysqladmin shutdown</strong></span> に続いて、<span class="command"><strong>mysqld_safe</strong></span> (または別の起動スクリプト) を使用して、クラスタ内の SQL ノードとして機能している各 MySQL サーバーをシャットダウンし、再起動します。これは、次に示すものと同様になります。ここで、<em class="replaceable"><code>password</code></em> は特定の MySQL サーバーインスタンスの MySQL <code class="literal">root</code> パスワードです。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqladmin -uroot -p<em class="replaceable"><code>password</code></em> shutdown</code></strong>
081208 20:19:56 mysqld_safe mysqld from pid file
/usr/local/mysql/var/tonfisk.pid ended
shell&gt; <strong class="userinput"><code>mysqld_safe --ndbcluster --ndb-connectstring=192.168.0.10 &amp;</code></strong>
081208 20:20:06 mysqld_safe Logging to '/usr/local/mysql/var/tonfisk.err'.
081208 20:20:06 mysqld_safe Starting mysqld daemon with databases
from /usr/local/mysql/var
</pre><p>
        当然、正確な入力および出力は、MySQL がシステムにインストールされている方法や場所、および起動する際に選択したオプション (およびこれらのオプションの一部またはすべてを <code class="filename">my.cnf</code> ファイルに指定しているかどうか) によって異なります。
      </p><p><b>ステップ 5: 新しいデータノードの初期起動の実行 </b>
          次に示すように、新しいデータノードの各ホスト上のシステムシェルから <code class="option">--initial</code> オプションを使用して、データノードを起動します。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndbd -c 192.168.0.10 --initial</code></strong>
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          既存のデータノードを再起動する場合とは異なり、新しいデータノードは同時に起動できます。あるデータノードの起動が完了するまで待機してから、別のデータノードを起動する必要はありません。
        </p></div><p>
        <span class="emphasis"><em>新しいデータノードの両方が起動されるまで待機してから、次のステップに進みます</em></span>。新しいデータノードが起動されたら、管理クライアントの <code class="literal">SHOW</code> コマンドの出力で、(次に太字で示されているように) それらがどのノードグループにも属していないことを確認できます。
      </p><pre class="programlisting">
ndb_mgm&gt; <strong class="userinput"><code>SHOW</code></strong>
Connected to Management Server at: 192.168.0.10:1186
Cluster Configuration
---------------------
[ndbd(NDB)]     2 node(s)
id=1    @192.168.0.1  (5.6.22-ndb-7.4.4, Nodegroup: 0, *)
id=2    @192.168.0.2  (5.6.22-ndb-7.4.4, Nodegroup: 0)
id=3    @192.168.0.3  (5.6.22-ndb-7.4.4, <span class="bold"><strong>no nodegroup</strong></span>)
id=4    @192.168.0.4  (5.6.22-ndb-7.4.4, <span class="bold"><strong>no nodegroup</strong></span>)

[ndb_mgmd(MGM)] 1 node(s)
id=10   @192.168.0.10  (5.6.22-ndb-7.4.4)

[mysqld(API)]   2 node(s)
id=20   @192.168.0.20  (5.6.22-ndb-7.4.4)
id=21   @192.168.0.21  (5.6.22-ndb-7.4.4)
</pre><p><b>ステップ 6: 新しいノードグループの作成 </b>
          これは、クラスタ管理クライアントで <code class="literal">CREATE NODEGROUP</code> コマンドを発行することで実行できます。次に示すように、このコマンドは、引数として、新しいノードグループに含むデータノードのノード ID をカンマで区切ったリストを取ります。
        </p><pre class="programlisting">
ndb_mgm&gt; <strong class="userinput"><code>CREATE NODEGROUP 3,4</code></strong>
Nodegroup 1 created
</pre><p>
        再度 <code class="literal">SHOW</code> を発行すると、(同様に太字に示されているように) データノード 3 と 4 が新しいノードグループに参加したことを確認できます。
      </p><pre class="programlisting">
ndb_mgm&gt; <strong class="userinput"><code>SHOW</code></strong>
Connected to Management Server at: 192.168.0.10:1186
Cluster Configuration
---------------------
[ndbd(NDB)]     2 node(s)
id=1    @192.168.0.1  (5.6.22-ndb-7.4.4, Nodegroup: 0, *)
id=2    @192.168.0.2  (5.6.22-ndb-7.4.4, Nodegroup: 0)
id=3    @192.168.0.3  (5.6.22-ndb-7.4.4, <span class="bold"><strong>Nodegroup: 1</strong></span>)
id=4    @192.168.0.4  (5.6.22-ndb-7.4.4, <span class="bold"><strong>Nodegroup: 1</strong></span>)

[ndb_mgmd(MGM)] 1 node(s)
id=10   @192.168.0.10  (5.6.22-ndb-7.4.4)

[mysqld(API)]   2 node(s)
id=20   @192.168.0.20  (5.6.22-ndb-7.4.4)
id=21   @192.168.0.21  (5.6.22-ndb-7.4.4)
</pre><p><b>ステップ 7: クラスタデータの再配布 </b>
          管理クライアントで適切な <code class="literal">REPORT</code> コマンドを発行することで確認できるように、ノードグループが作成されたときに、既存のデータおよびインデックスは自動的に新しいノードグループのデータノードに配布されません。
        </p><pre class="programlisting">
ndb_mgm&gt; <strong class="userinput"><code>ALL REPORT MEMORY</code></strong>

Node 1: Data usage is 5%(177 32K pages of total 3200)
Node 1: Index usage is 0%(108 8K pages of total 12832)
Node 2: Data usage is 5%(177 32K pages of total 3200)
Node 2: Index usage is 0%(108 8K pages of total 12832)
<span class="bold"><strong>Node 3: Data usage is 0%(0 32K pages of total 3200)
Node 3: Index usage is 0%(0 8K pages of total 12832)
Node 4: Data usage is 0%(0 32K pages of total 3200)
Node 4: Index usage is 0%(0 8K pages of total 12832)</strong></span>
</pre><p>
        <code class="option">-p</code> オプションを付けて <span class="command"><strong>ndb_desc</strong></span> を使用すると、出力にパーティション化の情報が含まれるため、テーブルではまだ 2 つのパーティションしか使用されていないことを (ここに太字のテキストで示されている、出力の<code class="literal">「Per partition info」</code>セクションで) 確認できます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndb_desc -c 192.168.0.10 -d n ips -p</code></strong>
-- ips --
Version: 1
Fragment type: 9
K Value: 6
Min load factor: 78
Max load factor: 80
Temporary table: no
Number of attributes: 6
Number of primary keys: 1
Length of frm data: 340
Row Checksum: 1
Row GCI: 1
SingleUserMode: 0
ForceVarPart: 1
FragmentCount: 2
TableStatus: Retrieved
-- Attributes --
id Bigint PRIMARY KEY DISTRIBUTION KEY AT=FIXED ST=MEMORY AUTO_INCR
country_code Char(2;latin1_swedish_ci) NOT NULL AT=FIXED ST=MEMORY
type Char(4;latin1_swedish_ci) NOT NULL AT=FIXED ST=MEMORY
ip_address Varchar(15;latin1_swedish_ci) NOT NULL AT=SHORT_VAR ST=MEMORY
addresses Bigunsigned NULL AT=FIXED ST=MEMORY
date Bigunsigned NULL AT=FIXED ST=MEMORY

-- Indexes --
PRIMARY KEY(id) - UniqueHashIndex
PRIMARY(id) - OrderedIndex

<span class="bold"><strong>-- Per partition info --
Partition   Row count   Commit count  Frag fixed memory   Frag varsized memory
0           26086       26086         1572864             557056
1           26329       26329         1605632             557056</strong></span>

NDBT_ProgramExit: 0 - OK
</pre><p>
        <code class="literal">NDBCLUSTER</code> テーブルごとに、<span class="command"><strong>mysql</strong></span> クライアントで <code class="literal">ALTER ONLINE TABLE ... REORGANIZE PARTITION</code> ステートメントを実行して、すべてのデータノード間でデータが再配布されるようにできます。<code class="literal">ALTER ONLINE TABLE ips REORGANIZE PARTITION</code> ステートメントを発行したあとに、<span class="command"><strong>ndb_desc</strong></span> を使用すると、次に示すように (太字の出力の関連部分によって)、このテーブルのテータが 4 つのパーティションを使用して格納されるようになったことを確認できます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndb_desc -c 192.168.0.10 -d n ips -p</code></strong>
-- ips --
Version: 16777217
Fragment type: 9
K Value: 6
Min load factor: 78
Max load factor: 80
Temporary table: no
Number of attributes: 6
Number of primary keys: 1
Length of frm data: 341
Row Checksum: 1
Row GCI: 1
SingleUserMode: 0
ForceVarPart: 1
FragmentCount: 4
TableStatus: Retrieved
-- Attributes --
id Bigint PRIMARY KEY DISTRIBUTION KEY AT=FIXED ST=MEMORY AUTO_INCR
country_code Char(2;latin1_swedish_ci) NOT NULL AT=FIXED ST=MEMORY
type Char(4;latin1_swedish_ci) NOT NULL AT=FIXED ST=MEMORY
ip_address Varchar(15;latin1_swedish_ci) NOT NULL AT=SHORT_VAR ST=MEMORY
addresses Bigunsigned NULL AT=FIXED ST=MEMORY
date Bigunsigned NULL AT=FIXED ST=MEMORY

-- Indexes --
PRIMARY KEY(id) - UniqueHashIndex
PRIMARY(id) - OrderedIndex

<span class="bold"><strong>-- Per partition info --
Partition   Row count   Commit count  Frag fixed memory   Frag varsized memory
0           12981       52296         1572864             557056
1           13236       52515         1605632             557056
2           13105       13105         819200              294912
3           13093       13093         819200              294912</strong></span>

NDBT_ProgramExit: 0 - OK
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          通常、<code class="literal">ALTER [ONLINE] TABLE <em class="replaceable"><code>table_name</code></em> REORGANIZE PARTITION</code> は、パーティション識別子のリストおよびパーティション定義のセットとともに使用して、すでに明示的にパーティション化されているテーブルに新しいパーティション化スキームを作成します。この点で、新しい MySQL Cluster ノードグループにデータを再配布するここでの使い方は例外です。このように使用する場合、<code class="literal">TABLE</code> キーワードのあとにテーブルの名前のみを使用し、その他のキーワードや識別子は <code class="literal">REORGANIZE PARTITION</code> のあとに続けません。
        </p><p>
          詳細は、<a class="xref" href="sql-syntax.html#alter-table" title="13.1.7 ALTER TABLE 構文">セクション13.1.7「ALTER TABLE 構文」</a>を参照してください。
        </p></div><p>
        さらに、無駄になっている領域が再利用されるように、テーブルごとに、<code class="literal">ALTER ONLINE TABLE</code> ステートメントのあとに <code class="literal">OPTIMIZE TABLE</code> を続けて指定するべきです。<code class="literal">INFORMATION_SCHEMA.TABLES</code> テーブルに対して次のクエリーを使用すると、すべての <code class="literal">NDBCLUSTER</code> テーブルのリストを取得できます。
      </p><pre class="programlisting">
SELECT TABLE_SCHEMA, TABLE_NAME
    FROM INFORMATION_SCHEMA.TABLES
    WHERE ENGINE = 'NDBCLUSTER';
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL Cluster テーブルでは、テーブルを作成するために使用された <code class="literal">CREATE TABLE</code> ステートメント (または、別のストレージエンジンから既存のテーブルを変換するために使用された <code class="literal">ALTER TABLE</code> ステートメント) の <code class="literal">ENGINE</code> オプションで <code class="literal">NDB</code> が使用されたか、または <code class="literal">NDBCLUSTER</code> が使用されたかに関係なく、<code class="literal">INFORMATION_SCHEMA.TABLES.ENGINE</code> の値は常に <code class="literal">NDBCLUSTER</code> です。
        </p></div><p>
        これらのステートメントを実行したあとは、次に示すように <code class="literal">ALL REPORT MEMORY</code> の出力で、データおよびインデックスがすべてのデータノード間で再配布されたことを確認できます。
      </p><pre class="programlisting">
ndb_mgm&gt; <strong class="userinput"><code>ALL REPORT MEMORY</code></strong>

Node 1: Data usage is 5%(176 32K pages of total 3200)
Node 1: Index usage is 0%(76 8K pages of total 12832)
Node 2: Data usage is 5%(176 32K pages of total 3200)
Node 2: Index usage is 0%(76 8K pages of total 12832)
Node 3: Data usage is 2%(80 32K pages of total 3200)
Node 3: Index usage is 0%(51 8K pages of total 12832)
Node 4: Data usage is 2%(80 32K pages of total 3200)
Node 4: Index usage is 0%(50 8K pages of total 12832)
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          <code class="literal">NDBCLUSTER</code> テーブルに対して同時に 1 回の DDL 操作しか実行できないため、各 <code class="literal">ALTER ONLINE TABLE ... REORGANIZE PARTITION</code> ステートメントが完了するまで待機してから、次のステートメントを発行する必要があります。
        </p></div><p>
        新しいデータノードが追加された<span class="emphasis"><em>あとに</em></span>作成された <code class="literal">NDBCLUSTER</code> テーブルに対しては、<code class="literal">ALTER ONLINE TABLE ... REORGANIZE PARTITION</code> ステートメントを発行する必要はありません。このようなテーブルに追加されたデータは、すべてのデータノード間で自動的に配布されます。ただし、新しいノードが追加される<span class="emphasis"><em>前に</em></span>存在していた <code class="literal">NDBCLUSTER</code> テーブルでは、それらのテーブルが <code class="literal">ALTER ONLINE TABLE ... REORGANIZE PARTITION</code> を使用して再編成されるまで、既存のデータも新規のデータも新しいノードを使用して配布されません。
      </p><p><b>ローリング再起動を使用しない代替の手順 </b>
          はじめてクラスタを起動するときに、余分なデータノードを構成するが、それらを起動しないことによって、ローリング再起動の必要性を回避できます。前のように、まず 1 つのノードグループ内の 2 つのデータノード (ノード 1 と 2) から開始し、あとでノード 3 と 4 で構成される 2 つめのノードグループを追加することで、クラスタを 4 つのデータノードまで拡張すると仮定します。
        </p><pre class="programlisting">
[ndbd default]
DataMemory = 100M
IndexMemory = 100M
NoOfReplicas = 2
DataDir = /usr/local/mysql/var/mysql-cluster

[ndbd]
Id = 1
HostName = 192.168.0.1

[ndbd]
Id = 2
HostName = 192.168.0.2

[ndbd]
Id = 3
HostName = 192.168.0.3
Nodegroup = 65536   

[ndbd]
Id = 4
HostName = 192.168.0.4
Nodegroup = 65536   

[mgm]
HostName = 192.168.0.10
Id = 10

[api]
Id=20
HostName = 192.168.0.20

[api]
Id=21
HostName = 192.168.0.21
</pre><p>
        あとでオンラインになるデータノード (ノード 3 と 4) を <code class="literal">NodeGroup = 65536</code> で構成できます。この場合、ノード 1 と 2 はそれぞれ次のように起動できます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndbd -c 192.168.0.10 --initial</code></strong>
</pre><p>
        <code class="literal">NodeGroup = 65536</code> で構成されたデータノードは、<code class="literal">StartNoNodeGroupTimeout</code> データノード構成パラメータの設定によって指定された期間待機してから、<code class="option">--nowait-nodes=3,4</code> を使用してノード 1 と 2 を起動したかのように、管理サーバーによって扱われます。デフォルトでは、これは 15 秒 (15000 ミリ秒) です。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          <code class="literal">StartNoNodegroupTimeout</code> はクラスタ内のすべてのデータノードで同じである必要があります。そのため、これは個々のデータノードではなく、常に <code class="filename">config.ini</code> ファイルの <code class="literal">[ndbd default]</code> セクションに設定するようにしてください。
        </p></div><p>
        2 つめのノードグループを追加する準備ができたら、次の追加ステップを実行する必要があるだけです。
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            データノード 3 と 4 を起動し、新しいノードごとにデータノードのプロセスを 1 回ずつ呼び出します。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndbd -c 192.168.0.10 --initial</code></strong>
</pre></li><li class="listitem"><p>
            管理クライアントで適切な <code class="literal">CREATE NODEGROUP</code> コマンドを発行します。
          </p><pre class="programlisting">
ndb_mgm&gt; <strong class="userinput"><code>CREATE NODEGROUP 3,4</code></strong>
</pre></li><li class="listitem"><p>
            <span class="command"><strong>mysql</strong></span> クライアントで、既存の <code class="literal">NDBCLUSTER</code> テーブルごとに <code class="literal">ALTER ONLINE TABLE ... REORGANIZE PARTITION</code> および <code class="literal">OPTIMIZE TABLE</code> ステートメントを発行します。(このセクションの別の場所で述べたように、これが完了するまで、既存の MySQL Cluster テーブルはデータ配布に新しいノードを使用できません。)
          </p></li></ol></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-privilege-distribution"></a>18.5.14 MySQL Cluster の配布された MySQL 権限</h3></div></div></div><a class="indexterm" name="idm139979018247600"></a><a class="indexterm" name="idm139979018246144"></a><p>
      MySQL Cluster では、MySQL Cluster 内のすべての SQL ノード間での MySQL ユーザーおよび権限の配布がサポートされています。このサポートは、デフォルトで無効になっています。有効にするには、このセクションで概要を示した手順に従うようにしてください。
    </p><a class="indexterm" name="idm139979018243696"></a><p>
      通常は、<code class="literal">mysql</code> データベース内の各 MySQL サーバーのユーザー権限テーブルで、<code class="literal">MyISAM</code> ストレージエンジンが使用されている必要があります。つまり、ある SQL ノードで作成されたユーザーアカウントおよびそれに関連付けられた権限は、クラスタのその他の SQL ノードで使用できません。SQL ファイル <code class="filename">ndb_dist_priv.sql</code> は、MySQL Cluster NDB 7.3 以降の配布で提供されています。このファイルは、MySQL インストールディレクトリ内の <code class="filename">share</code> ディレクトリで見つけることができます。
    </p><p>
      配布された権限を有効にする最初のステップは、このスクリプトを SQL ノードとして機能する MySQL サーバー (これは、<em class="firstterm">ターゲット</em> SQL ノードまたは MySQL サーバーと呼ばれます) にロードすることです。これは、ターゲット SQL ノードで、その MySQL インストールディレクトリに移動したあとに、システムシェルから次のコマンドを実行することで実現できます (ここで、<em class="replaceable"><code>options</code></em> は、この SQL ノードに接続するために必要となる任意の追加オプションを表します)。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql <em class="replaceable"><code>options</code></em> -uroot &lt; share/ndb_dist_priv.sql</code></strong>
</pre><p>
      <code class="filename">ndb_dist_priv.sql</code> をインポートすると、ターゲット SQL ノード上の <code class="literal">mysql</code> データベースに、いくつかのストアドルーチン (6 つのストアドプロシージャーと 1 つのストアドファンクション) が作成されます。<span class="command"><strong>mysql</strong></span> クライアント内の SQL ノードに (MySQL <code class="literal">root</code> ユーザーとして) 接続すると、これらが次に示すように作成されたことを確認できます。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT ROUTINE_NAME, ROUTINE_SCHEMA, ROUTINE_TYPE</code></strong> 
    -&gt;     <strong class="userinput"><code>FROM INFORMATION_SCHEMA.ROUTINES</code></strong> 
    -&gt;     <strong class="userinput"><code>WHERE ROUTINE_NAME LIKE 'mysql_cluster%'</code></strong>
    -&gt;     <strong class="userinput"><code>ORDER BY ROUTINE_TYPE</code></strong>;
+---------------------------------------------+----------------+--------------+
| ROUTINE_NAME                                | ROUTINE_SCHEMA | ROUTINE_TYPE |
+---------------------------------------------+----------------+--------------+
| mysql_cluster_privileges_are_distributed    | mysql          | FUNCTION     |
| mysql_cluster_backup_privileges             | mysql          | PROCEDURE    |
| mysql_cluster_move_grant_tables             | mysql          | PROCEDURE    |
| mysql_cluster_move_privileges               | mysql          | PROCEDURE    |
| mysql_cluster_restore_local_privileges      | mysql          | PROCEDURE    |
| mysql_cluster_restore_privileges            | mysql          | PROCEDURE    |
| mysql_cluster_restore_privileges_from_local | mysql          | PROCEDURE    |
+---------------------------------------------+----------------+--------------+

7 rows in set (0.01 sec)
</pre><a class="indexterm" name="idm139979018224896"></a><p>
      <code class="literal">mysql_cluster_move_privileges</code> という名前のストアドプロシージャーは、既存の権限テーブルのバックアップコピーを作成してから、それらを <code class="literal">NDB</code> に変換します。
    </p><a class="indexterm" name="idm139979018221152"></a><p>
      <code class="literal">mysql_cluster_move_privileges</code> は、2 つのステップでバックアップおよび変換を実行します。1 つめのステップは、<code class="literal">mysql_cluster_backup_privileges</code> を呼び出すことで、これにより、<code class="literal">mysql</code> データベースに 2 セットのコピーが作成されます。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">MyISAM</code> ストレージエンジンを使用するローカルコピーのセット。これらの名前は、元の権限テーブル名に <code class="literal">_backup</code> というサフィクスを追加することで生成されます。
        </p></li><li class="listitem"><p>
          <code class="literal">NDBCLUSTER</code> ストレージエンジンを使用する配布されたコピーのセット。これらのテーブルは、元のテーブル名の前に <code class="literal">ndb_</code> を付け、<code class="literal">_backup</code> を追加することによって、名前が付けられます。
        </p></li></ul></div><a class="indexterm" name="idm139979018209952"></a><p>
      コピーが作成されると、<code class="literal">mysql_cluster_move_privileges</code> によって、mysql システムテーブルを <code class="literal">NDB</code> に変換する <code class="literal">ALTER TABLE ... ENGINE = NDB</code> ステートメントを含む <code class="literal">mysql_cluster_move_grant_tables</code> が呼び出されます。
    </p><p>
      通常は、<code class="literal">mysql_cluster_backup_privileges</code> または <code class="literal">mysql_cluster_move_grant_tables</code> を手動で呼び出すべきではありません。これらのストアドプロシージャーは、<code class="literal">mysql_cluster_move_privileges</code> によって使用されるためにのみ提供されています。
    </p><p>
      元の権限テーブルは自動的にバックアップされますが、影響を受けるすべての SQL ノードの既存の権限テーブルのバックアップを手動で作成してから続行することは、常に適切な方法です。これは、次に示すものと同様の方法で <span class="command"><strong>mysqldump</strong></span> を使用して実行できます。
    </p><pre class="programlisting">
shell&gt; mysqldump <em class="replaceable"><code>options</code></em> -uroot \
    mysql host user db tables_priv columns_priv procs_priv proxies_priv &gt; <em class="replaceable"><code>backup_file</code></em>
</pre><p>
      変換を実行するには、<span class="command"><strong>mysql</strong></span> クライアントを (再度 MySQL <code class="literal">root</code> ユーザーとして) 使用して、ターゲット SQL ノードに接続する必要があります。次のように、ストアドプロシージャーを呼び出します。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>CALL mysql.mysql_cluster_move_privileges();</code></strong>
Query OK, 0 rows affected (22.32 sec)
</pre><a class="indexterm" name="idm139979018193936"></a><p>
      このプロシージャーの実行には、権限テーブル内の行数に応じて、ある程度の時間がかかる可能性があります。権限テーブルの一部が空になっている場合は、1 つ以上の <span class="errortext">No data - zero rows fetched, selected, or processed</span>という警告が <code class="literal">mysql_cluster_move_privileges</code> が戻るときに表示されることがあります。このような場合は、安全に警告を無視できます。変換が正常に実行されたことを確認するには、次に示すようにストアドファンクション <code class="literal">mysql_cluster_privileges_are_distributed</code> を使用できます。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT CONCAT(</code></strong>
    -&gt;    <strong class="userinput"><code>'Conversion ',</code></strong> 
    -&gt;    <strong class="userinput"><code>IF(mysql.mysql_cluster_privileges_are_distributed(), 'succeeded', 'failed'),</code></strong> 
    -&gt;    <strong class="userinput"><code>'.')</code></strong> 
    -&gt;    <strong class="userinput"><code>AS Result;</code></strong>
+-----------------------+
| Result                |
+-----------------------+
| Conversion succeeded. |
+-----------------------+
1 row in set (0.00 sec)
</pre><p>
      <code class="literal">mysql_cluster_privileges_are_distributed</code> は、配布された権限テーブルが存在するかどうかをチェックし、すべての権限テーブルが配布されている場合は <code class="literal">1</code> を返し、それ以外の場合は <code class="literal">0</code> を返します。
    </p><p>
      次のようなクエリーを使用すると、バックアップが作成されたことを確認できます。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT TABLE_NAME, ENGINE FROM INFORMATION_SCHEMA.TABLES</code></strong> 
    -&gt;     <strong class="userinput"><code>WHERE TABLE_SCHEMA = 'mysql' AND TABLE_NAME LIKE '%backup'</code></strong> 
    -&gt;     <strong class="userinput"><code>ORDER BY ENGINE;</code></strong>
+-------------------------+------------+
| TABLE_NAME              | ENGINE     |
+-------------------------+------------+
| host_backup             | MyISAM     |
| db_backup               | MyISAM     |
| columns_priv_backup     | MyISAM     |
| user_backup             | MyISAM     |
| tables_priv_backup      | MyISAM     |
| proxies_priv_backup     | MyISAM     |
| procs_priv_backup       | MyISAM     |
| ndb_user_backup         | ndbcluster |
| ndb_tables_priv_backup  | ndbcluster |
| ndb_proxies_priv_backup | ndbcluster |
| ndb_procs_priv_backup   | ndbcluster |
| ndb_host_backup         | ndbcluster |
| ndb_db_backup           | ndbcluster |
| ndb_columns_priv_backup | ndbcluster |
+-------------------------+------------+
14 rows in set (0.00 sec)
</pre><p>
      配布された権限への変換が実行されると、任意の SQL ノードで MySQL ユーザーアカウントの作成、削除、その権限の更新が行われるたびに、クラスタに接続されているその他のすべての MySQL サーバーで、その変更がすぐに有効になります。権限が配布されると、新たにクラスタに接続するすべての MySQL サーバーが自動的に配布に参加します。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        <code class="literal">mysql_cluster_move_privileges</code> が実行された時点で SQL ノードにクライアントが接続されていた場合は、これらのクライアントが権限の変更を確認できるように、それらの SQL ノードで <code class="literal">FLUSH PRIVILEGES</code> を実行するか、クライアントを切断してから再接続する必要があることがあります。
      </p></div><p>
      すべての MySQL ユーザー権限は、接続されているすべての MySQL サーバーに配布されます。これには、ビューおよびストアドルーチンに関連付けられた任意の権限も含まれます。ただし、ビューおよびストアドルーチン自体の配布は、現在サポートされていません。
    </p><p>
      <code class="literal">mysql_cluster_move_privileges</code> の実行中に、SQL ノードがクラスタから切断される場合は、クラスタに再接続したあとに、<code class="literal">DROP TABLE IF EXISTS mysql.user mysql.db mysql.tables_priv mysql.columns_priv mysql.procs_priv</code> のようなステートメントを使用して、その権限テーブルを削除する必要があります。これにより、SQL ノードは独自のローカルバージョンの権限テーブルではなく、共有権限テーブルを使用します。これは、新しい SQL ノードをはじめてクラスタに接続するときには必要ありません。
    </p><p>
      クラスタ全体の初期再起動が行われる (すべてのデータノードがシャットダウンされてから、<code class="option">--initial</code> を付けて再起動される) と、共有権限テーブルが失われます。これが発生した場合は、<code class="literal">mysql_cluster_move_privileges</code> によって作成されたバックアップから、または <span class="command"><strong>mysqldump</strong></span> を使用して作成されたダンプファイルから元のターゲット SQL ノードを使用して、それらをリストアできます。新しい MySQL サーバーを使用してリストアを実行する必要がある場合は、はじめてクラスタに接続するときに、<code class="option">--skip-grant-tables</code> を付けて起動してください。それ以降は、権限テーブルをローカルでリストアしてから再度 <code class="literal">mysql_cluster_move_privileges</code> を使用して、それらを配布できます。テーブルをリストアして配布したあとは、<code class="option">--skip-grant-tables</code> オプションを付けずに、この MySQL サーバーを再起動してください。
    </p><a class="indexterm" name="idm139979018161392"></a><p>
      <span class="command"><strong>ndb_mgm</strong></span> クライアントで <code class="literal">START BACKUP</code> を使用して作成されたバックアップから <span class="command"><strong>ndb_restore</strong></span> <code class="option">--restore-privilege-tables</code> を使用して、配布されたテーブルをリストアすることもできます。(<code class="literal">mysql_cluster_move_privileges</code> で作成された <code class="literal">MyISAM</code> テーブルは、<code class="literal">START BACKUP</code> コマンドでバックアップされません。) <span class="command"><strong>ndb_restore</strong></span> は、デフォルトで権限テーブルをリストアしません。<code class="option">--restore-privilege-tables</code> オプションを使用すれば、これを実行できます。
    </p><a class="indexterm" name="idm139979018151504"></a><p>
      2 つのプロシージャーのいずれかを使用すると、SQL ノードのローカル権限をリストアできます。<code class="literal">mysql_cluster_restore_privileges</code> は次のように機能します。
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          <code class="literal">mysql.ndb_*_backup</code> テーブルのコピーを使用できる場合は、これらからシステムテーブルのリストアを試みます。
        </p></li><li class="listitem"><p>
          それ以外の場合は、(<code class="literal">ndb_</code> プリフィクスが付けられていない) <code class="literal">*_backup</code> という名前のローカルバックアップから、システムテーブルのリストアを試みます。
        </p></li></ol></div><a class="indexterm" name="idm139979018143360"></a><p>
      もう 1 つの <code class="literal">mysql_cluster_restore_local_privileges</code> という名前のプロシージャーは、<code class="literal">ndb_*</code> バックアップをチェックせずに、ローカルバックアップのみからシステムテーブルをリストアします。
    </p><p>
      <code class="literal">mysql_cluster_restore_privileges</code> または <code class="literal">mysql_cluster_restore_local_privileges</code> で再作成されたシステムテーブルでは、MySQL サーバーのデフォルトストレージエンジンが使用されます。また、それらはどのような方法でも共有も配布も行われず、MySQL Cluster の <code class="literal">NDB</code> ストエージエンジンが使用されません。
    </p><a class="indexterm" name="idm139979018136352"></a><p>
      追加のストアドプロシージャー <code class="literal">mysql_cluster_restore_privileges_from_local</code> は、<code class="literal">mysql_cluster_restore_privileges</code> および <code class="literal">mysql_cluster_restore_local_privileges</code> で使用されるために提供されています。直接呼び出すべきではありません。
    </p><a class="indexterm" name="idm139979018132016"></a><a class="indexterm" name="idm139979018129840"></a><a class="indexterm" name="idm139979018127744"></a><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
        NDB API や ClusterJ アプリケーションを含む MySQL Cluster データに直接アクセスするアプリケーションは、MySQL 権限システムの対象外です。つまり、付与テーブルを配布したら、ほかの <code class="literal">NDB</code> テーブルの場合と同様に、このようなアプリケーションからそれらに自由にアクセスできます。特に、<span class="emphasis"><em>NDB API および ClusterJ アプリケーションは制約なしで、ユーザー名、ホスト名、パスワードハッシュ、および配布された付与テーブルのその他の内容の読み取りと書き込みを行うことができることに留意してください</em></span>。
      </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-ndb-api-statistics"></a>18.5.15 NDB API 統計のカウンタと変数</h3></div></div></div><a class="indexterm" name="idm139979018120864"></a><a class="indexterm" name="idm139979018118720"></a><a class="indexterm" name="idm139979018117344"></a><p>
      <code class="literal">Ndb</code> オブジェクトによって実行されるアクションや、これらのオブジェクトに影響を与えるアクションに関する多くのタイプの統計カウンタを使用できます。このようなアクションには、トランザクションの開始と終了 (または中止)、主キーおよび一意のキーの操作、テーブルスキャン、範囲スキャン、およびプルーニングスキャン、さまざまな操作が完了するまで待機している間にブロックされたスレッド、<code class="literal">NDBCLUSTER</code> によって送受信されたデータおよびイベントが含まれます。NDB API が呼び出されたり、データノードによってデータが送受信されたりするたびに、NDB カーネル内部のカウンタが増分されます。<span class="command"><strong>mysqld</strong></span> では、これらのカウンタがシステムステータス変数として表示されます。これらの値は、<code class="literal">SHOW STATUS</code> の出力で、または <code class="literal">INFORMATION_SCHEMA.SESSION_STATUS</code> や <code class="literal">INFORMATION_SCHEMA.GLOBAL_STATUS</code> テーブルをクエリーして読み取ることができます。<code class="literal">NDB</code> テーブルを操作するステートメントの前後で値を比較すると、API レベルで実行された対応するアクション、およびステートメントを実行するコストを確認できます。
    </p><p>
      次の <code class="literal">SHOW STATUS</code> ステートメントを使用すると、これらのステータス変数をすべて一覧表示できます。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SHOW STATUS LIKE 'ndb_api%';</code></strong>
+--------------------------------------------+----------+
| Variable_name                              | Value    |
+--------------------------------------------+----------+
| Ndb_api_wait_exec_complete_count_session   | 0        |
| Ndb_api_wait_scan_result_count_session     | 0        |
| Ndb_api_wait_meta_request_count_session    | 0        |
| Ndb_api_wait_nanos_count_session           | 0        |
| Ndb_api_bytes_sent_count_session           | 0        |
| Ndb_api_bytes_received_count_session       | 0        |
| Ndb_api_trans_start_count_session          | 0        |
| Ndb_api_trans_commit_count_session         | 0        |
| Ndb_api_trans_abort_count_session          | 0        |
| Ndb_api_trans_close_count_session          | 0        |
| Ndb_api_pk_op_count_session                | 0        |
| Ndb_api_uk_op_count_session                | 0        |
| Ndb_api_table_scan_count_session           | 0        |
| Ndb_api_range_scan_count_session           | 0        |
| Ndb_api_pruned_scan_count_session          | 0        |
| Ndb_api_scan_batch_count_session           | 0        |
| Ndb_api_read_row_count_session             | 0        |
| Ndb_api_trans_local_read_row_count_session | 0        |
| Ndb_api_event_data_count_injector          | 0        |
| Ndb_api_event_nondata_count_injector       | 0        |
| Ndb_api_event_bytes_count_injector         | 0        |
| Ndb_api_wait_exec_complete_count_slave     | 0        |
| Ndb_api_wait_scan_result_count_slave       | 0        |
| Ndb_api_wait_meta_request_count_slave      | 0        |
| Ndb_api_wait_nanos_count_slave             | 0        |
| Ndb_api_bytes_sent_count_slave             | 0        |
| Ndb_api_bytes_received_count_slave         | 0        |
| Ndb_api_trans_start_count_slave            | 0        |
| Ndb_api_trans_commit_count_slave           | 0        |
| Ndb_api_trans_abort_count_slave            | 0        |
| Ndb_api_trans_close_count_slave            | 0        |
| Ndb_api_pk_op_count_slave                  | 0        |
| Ndb_api_uk_op_count_slave                  | 0        |
| Ndb_api_table_scan_count_slave             | 0        |
| Ndb_api_range_scan_count_slave             | 0        |
| Ndb_api_pruned_scan_count_slave            | 0        |
| Ndb_api_scan_batch_count_slave             | 0        |
| Ndb_api_read_row_count_slave               | 0        |
| Ndb_api_trans_local_read_row_count_slave   | 0        |
| Ndb_api_wait_exec_complete_count           | 2        |
| Ndb_api_wait_scan_result_count             | 3        |
| Ndb_api_wait_meta_request_count            | 27       |
| Ndb_api_wait_nanos_count                   | 45612023 |
| Ndb_api_bytes_sent_count                   | 992      |
| Ndb_api_bytes_received_count               | 9640     |
| Ndb_api_trans_start_count                  | 2        |
| Ndb_api_trans_commit_count                 | 1        |
| Ndb_api_trans_abort_count                  | 0        |
| Ndb_api_trans_close_count                  | 2        |
| Ndb_api_pk_op_count                        | 1        |
| Ndb_api_uk_op_count                        | 0        |
| Ndb_api_table_scan_count                   | 1        |
| Ndb_api_range_scan_count                   | 0        |
| Ndb_api_pruned_scan_count                  | 0        |
| Ndb_api_scan_batch_count                   | 0        |
| Ndb_api_read_row_count                     | 1        |
| Ndb_api_trans_local_read_row_count         | 1        |
| Ndb_api_event_data_count                   | 0        |
| Ndb_api_event_nondata_count                | 0        |
| Ndb_api_event_bytes_count                  | 0        |
+--------------------------------------------+----------+
60 rows in set (0.02 sec)
</pre><p>
      これらのステータス変数は、次に示すように、<code class="literal">INFORMATION_SCHEMA</code> データベースの <code class="literal">SESSION_STATUS</code> および <code class="literal">GLOBAL_STATUS</code> テーブルから使用することもできます。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT * FROM INFORMATION_SCHEMA.SESSION_STATUS </code></strong>
    -&gt;   <strong class="userinput"><code>WHERE VARIABLE_NAME LIKE 'ndb_api%';</code></strong>
+--------------------------------------------+----------------+
| VARIABLE_NAME                              | VARIABLE_VALUE |
+--------------------------------------------+----------------+
| NDB_API_WAIT_EXEC_COMPLETE_COUNT_SESSION   | 2              |
| NDB_API_WAIT_SCAN_RESULT_COUNT_SESSION     | 0              |
| NDB_API_WAIT_META_REQUEST_COUNT_SESSION    | 1              |
| NDB_API_WAIT_NANOS_COUNT_SESSION           | 8144375        |
| NDB_API_BYTES_SENT_COUNT_SESSION           | 68             |
| NDB_API_BYTES_RECEIVED_COUNT_SESSION       | 84             |
| NDB_API_TRANS_START_COUNT_SESSION          | 1              |
| NDB_API_TRANS_COMMIT_COUNT_SESSION         | 1              |
| NDB_API_TRANS_ABORT_COUNT_SESSION          | 0              |
| NDB_API_TRANS_CLOSE_COUNT_SESSION          | 1              |
| NDB_API_PK_OP_COUNT_SESSION                | 1              |
| NDB_API_UK_OP_COUNT_SESSION                | 0              |
| NDB_API_TABLE_SCAN_COUNT_SESSION           | 0              |
| NDB_API_RANGE_SCAN_COUNT_SESSION           | 0              |
| NDB_API_PRUNED_SCAN_COUNT_SESSION          | 0              |
| NDB_API_SCAN_BATCH_COUNT_SESSION           | 0              |
| NDB_API_READ_ROW_COUNT_SESSION             | 1              |
| NDB_API_TRANS_LOCAL_READ_ROW_COUNT_SESSION | 1              |
| NDB_API_EVENT_DATA_COUNT_INJECTOR          | 0              |
| NDB_API_EVENT_NONDATA_COUNT_INJECTOR       | 0              |
| NDB_API_EVENT_BYTES_COUNT_INJECTOR         | 0              |
| NDB_API_WAIT_EXEC_COMPLETE_COUNT_SLAVE     | 0              |
| NDB_API_WAIT_SCAN_RESULT_COUNT_SLAVE       | 0              |
| NDB_API_WAIT_META_REQUEST_COUNT_SLAVE      | 0              |
| NDB_API_WAIT_NANOS_COUNT_SLAVE             | 0              |
| NDB_API_BYTES_SENT_COUNT_SLAVE             | 0              |
| NDB_API_BYTES_RECEIVED_COUNT_SLAVE         | 0              |
| NDB_API_TRANS_START_COUNT_SLAVE            | 0              |
| NDB_API_TRANS_COMMIT_COUNT_SLAVE           | 0              |
| NDB_API_TRANS_ABORT_COUNT_SLAVE            | 0              |
| NDB_API_TRANS_CLOSE_COUNT_SLAVE            | 0              |
| NDB_API_PK_OP_COUNT_SLAVE                  | 0              |
| NDB_API_UK_OP_COUNT_SLAVE                  | 0              |
| NDB_API_TABLE_SCAN_COUNT_SLAVE             | 0              |
| NDB_API_RANGE_SCAN_COUNT_SLAVE             | 0              |
| NDB_API_PRUNED_SCAN_COUNT_SLAVE            | 0              |
| NDB_API_SCAN_BATCH_COUNT_SLAVE             | 0              |
| NDB_API_READ_ROW_COUNT_SLAVE               | 0              |
| NDB_API_TRANS_LOCAL_READ_ROW_COUNT_SLAVE   | 0              |
| NDB_API_WAIT_EXEC_COMPLETE_COUNT           | 4              |
| NDB_API_WAIT_SCAN_RESULT_COUNT             | 3              |
| NDB_API_WAIT_META_REQUEST_COUNT            | 28             |
| NDB_API_WAIT_NANOS_COUNT                   | 53756398       |
| NDB_API_BYTES_SENT_COUNT                   | 1060           |
| NDB_API_BYTES_RECEIVED_COUNT               | 9724           |
| NDB_API_TRANS_START_COUNT                  | 3              |
| NDB_API_TRANS_COMMIT_COUNT                 | 2              |
| NDB_API_TRANS_ABORT_COUNT                  | 0              |
| NDB_API_TRANS_CLOSE_COUNT                  | 3              |
| NDB_API_PK_OP_COUNT                        | 2              |
| NDB_API_UK_OP_COUNT                        | 0              |
| NDB_API_TABLE_SCAN_COUNT                   | 1              |
| NDB_API_RANGE_SCAN_COUNT                   | 0              |
| NDB_API_PRUNED_SCAN_COUNT                  | 0              |
| NDB_API_SCAN_BATCH_COUNT                   | 0              |
| NDB_API_READ_ROW_COUNT                     | 2              |
| NDB_API_TRANS_LOCAL_READ_ROW_COUNT         | 2              |
| NDB_API_EVENT_DATA_COUNT                   | 0              |
| NDB_API_EVENT_NONDATA_COUNT                | 0              |
| NDB_API_EVENT_BYTES_COUNT                  | 0              |
+--------------------------------------------+----------------+
60 rows in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT * FROM INFORMATION_SCHEMA.GLOBAL_STATUS</code></strong> 
    -&gt;     <strong class="userinput"><code>WHERE VARIABLE_NAME LIKE 'ndb_api%';</code></strong>
+--------------------------------------------+----------------+
| VARIABLE_NAME                              | VARIABLE_VALUE |
+--------------------------------------------+----------------+
| NDB_API_WAIT_EXEC_COMPLETE_COUNT_SESSION   | 2              |
| NDB_API_WAIT_SCAN_RESULT_COUNT_SESSION     | 0              |
| NDB_API_WAIT_META_REQUEST_COUNT_SESSION    | 1              |
| NDB_API_WAIT_NANOS_COUNT_SESSION           | 8144375        |
| NDB_API_BYTES_SENT_COUNT_SESSION           | 68             |
| NDB_API_BYTES_RECEIVED_COUNT_SESSION       | 84             |
| NDB_API_TRANS_START_COUNT_SESSION          | 1              |
| NDB_API_TRANS_COMMIT_COUNT_SESSION         | 1              |
| NDB_API_TRANS_ABORT_COUNT_SESSION          | 0              |
| NDB_API_TRANS_CLOSE_COUNT_SESSION          | 1              |
| NDB_API_PK_OP_COUNT_SESSION                | 1              |
| NDB_API_UK_OP_COUNT_SESSION                | 0              |
| NDB_API_TABLE_SCAN_COUNT_SESSION           | 0              |
| NDB_API_RANGE_SCAN_COUNT_SESSION           | 0              |
| NDB_API_PRUNED_SCAN_COUNT_SESSION          | 0              |
| NDB_API_SCAN_BATCH_COUNT_SESSION           | 0              |
| NDB_API_READ_ROW_COUNT_SESSION             | 1              |
| NDB_API_TRANS_LOCAL_READ_ROW_COUNT_SESSION | 1              |
| NDB_API_EVENT_DATA_COUNT_INJECTOR          | 0              |
| NDB_API_EVENT_NONDATA_COUNT_INJECTOR       | 0              |
| NDB_API_EVENT_BYTES_COUNT_INJECTOR         | 0              |
| NDB_API_WAIT_EXEC_COMPLETE_COUNT_SLAVE     | 0              |
| NDB_API_WAIT_SCAN_RESULT_COUNT_SLAVE       | 0              |
| NDB_API_WAIT_META_REQUEST_COUNT_SLAVE      | 0              |
| NDB_API_WAIT_NANOS_COUNT_SLAVE             | 0              |
| NDB_API_BYTES_SENT_COUNT_SLAVE             | 0              |
| NDB_API_BYTES_RECEIVED_COUNT_SLAVE         | 0              |
| NDB_API_TRANS_START_COUNT_SLAVE            | 0              |
| NDB_API_TRANS_COMMIT_COUNT_SLAVE           | 0              |
| NDB_API_TRANS_ABORT_COUNT_SLAVE            | 0              |
| NDB_API_TRANS_CLOSE_COUNT_SLAVE            | 0              |
| NDB_API_PK_OP_COUNT_SLAVE                  | 0              |
| NDB_API_UK_OP_COUNT_SLAVE                  | 0              |
| NDB_API_TABLE_SCAN_COUNT_SLAVE             | 0              |
| NDB_API_RANGE_SCAN_COUNT_SLAVE             | 0              |
| NDB_API_PRUNED_SCAN_COUNT_SLAVE            | 0              |
| NDB_API_SCAN_BATCH_COUNT_SLAVE             | 0              |
| NDB_API_READ_ROW_COUNT_SLAVE               | 0              |
| NDB_API_TRANS_LOCAL_READ_ROW_COUNT_SLAVE   | 0              |
| NDB_API_WAIT_EXEC_COMPLETE_COUNT           | 4              |
| NDB_API_WAIT_SCAN_RESULT_COUNT             | 3              |
| NDB_API_WAIT_META_REQUEST_COUNT            | 28             |
| NDB_API_WAIT_NANOS_COUNT                   | 53756398       |
| NDB_API_BYTES_SENT_COUNT                   | 1060           |
| NDB_API_BYTES_RECEIVED_COUNT               | 9724           |
| NDB_API_TRANS_START_COUNT                  | 3              |
| NDB_API_TRANS_COMMIT_COUNT                 | 2              |
| NDB_API_TRANS_ABORT_COUNT                  | 0              |
| NDB_API_TRANS_CLOSE_COUNT                  | 3              |
| NDB_API_PK_OP_COUNT                        | 2              |
| NDB_API_UK_OP_COUNT                        | 0              |
| NDB_API_TABLE_SCAN_COUNT                   | 1              |
| NDB_API_RANGE_SCAN_COUNT                   | 0              |
| NDB_API_PRUNED_SCAN_COUNT                  | 0              |
| NDB_API_SCAN_BATCH_COUNT                   | 0              |
| NDB_API_READ_ROW_COUNT                     | 2              |
| NDB_API_TRANS_LOCAL_READ_ROW_COUNT         | 2              |
| NDB_API_EVENT_DATA_COUNT                   | 0              |
| NDB_API_EVENT_NONDATA_COUNT                | 0              |
| NDB_API_EVENT_BYTES_COUNT                  | 0              |
+--------------------------------------------+----------------+
60 rows in set (0.00 sec)
</pre><a class="indexterm" name="idm139979018071648"></a><a class="indexterm" name="idm139979018069424"></a><p>
      各 <code class="literal">Ndb</code> オブジェクトは、それぞれに独自のカウンタを持っています。NDB API アプリケーションは、最適化やモニタリングで使用するためにカウンタの値を読み取ることができます。同時に複数の <code class="literal">Ndb</code> オブジェクトを使用するマルチスレッドクライアントの場合、特定の <code class="literal">Ndb_cluster_connection</code> に属するすべての <code class="literal">Ndb</code> オブジェクトから、カウンタの集計ビューを取得することもできます。
    </p><p>
      4 セットのカウンタが表示されます。1 セットは、現在のセッションにのみ適用されます。その他の 3 セットはグローバルです。<span class="emphasis"><em>これは、<span class="command"><strong>mysql</strong></span> クライアントでは、これらの値をセッションとグローバルのどちらのステータス変数としても取得できることに関係ありません</em></span>。つまり、<code class="literal">SHOW STATUS</code> を使用して <code class="literal">SESSION</code> または <code class="literal">GLOBAL</code> キーワードを指定しても、NDB API 統計のステータス変数にレポートされる値は影響を受けず、<code class="literal">SESSION_STATUS</code> と <code class="literal">GLOBAL_STATUS</code> テーブルのどちらの同等のカラムから値を取得しているかに関係なく、これらの各変数の値は同じです。
    </p><a class="indexterm" name="idm139979018054560"></a><a class="indexterm" name="idm139979018052336"></a><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="emphasis"><em>セッションカウンタ (セッションに固有)</em></span>
        </p><p>
          セッションカウンタは、現在のセッションで (のみ) 使用される <code class="literal">Ndb</code> オブジェクトに関連します。このようなオブジェクトをほかの MySQL クライアントが使用しても、これらのカウンタは影響を受けません。
        </p><p>
          標準の MySQL セッション変数との混同を最小限にするために、これらの NDB API セッションに対応する変数は、先頭に下線を付けた <span class="quote">「<span class="quote"><code class="literal">_session</code> 変数</span>」</span>と呼んでいます。
        </p></li><li class="listitem"><p>
          <span class="emphasis"><em>スレーブカウンタ (グローバル)</em></span>
        </p><p>
          このカウンタセットは、レプリケーションスレーブ SQL スレッド (存在する場合) で使用される <code class="literal">Ndb</code> オブジェクトに関連します。この <span class="command"><strong>mysqld</strong></span> がレプリケーションスレーブとして機能していない場合や、<code class="literal">NDB</code> テーブルを使用していない場合、これらのカウントはすべて 0 になります。
        </p><p>
          関連するステータス変数は、(先頭に下線を付けた) <span class="quote">「<span class="quote"><code class="literal">_slave</code> 変数</span>」</span>と呼んでいます。
        </p></li><li class="listitem"><p>
          <span class="emphasis"><em>インジェクタカウンタ (グローバル)</em></span>
        </p><p>
          インジェクタカウンタは、バイナリログインジェクタスレッドがクラスタイベントを待機するために使用する <code class="literal">Ndb</code> オブジェクトに関連します。バイナリログを書き込まないときでも、MySQL Cluster に接続された <span class="command"><strong>mysqld</strong></span> プロセスは、スキーマの変更などの一部のイベントを待機し続けます。
        </p><p>
          NDB API インジェクタカウンタに対応するステータス変数は、(先頭に下線を付けた) <span class="quote">「<span class="quote"><code class="literal">_injector</code> 変数</span>」</span>と呼んでいます。
        </p></li><li class="listitem"><p>
          <span class="emphasis"><em>サーバー (グローバル) カウンタ (グローバル)</em></span>
        </p><p>
          このカウンタセットは、この <span class="command"><strong>mysqld</strong></span> によって現在使用されているすべての <code class="literal">Ndb</code> オブジェクトに関連します。これには、すべての MySQL クライアントアプリケーション、スレーブ SQL スレッド (存在する場合)、binlog インジェクタ、および <code class="literal">NDB</code> ユーティリティースレッドが含まれます。
        </p><p>
          これらのカウンタに対応するステータス変数は、<span class="quote">「<span class="quote">グローバル変数</span>」</span>または <span class="quote">「<span class="quote"><span class="command"><strong>mysqld</strong></span> レベルの変数</span>」</span>と呼んでいます。
        </p></li></ul></div><p>
      (一般的なプリフィクス <code class="literal">Ndb_api</code> とともに) 変数名の部分文字列 <code class="literal">session</code>、<code class="literal">slave</code>、または <code class="literal">injector</code> で追加でフィルタ処理すると、特定の変数セットの値を取得できます。<code class="literal">_session</code> 変数の場合は、これを次に示すように実行できます。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SHOW STATUS LIKE 'ndb_api%session';</code></strong>
+--------------------------------------------+---------+
| Variable_name                              | Value   |
+--------------------------------------------+---------+
| Ndb_api_wait_exec_complete_count_session   | 2       |
| Ndb_api_wait_scan_result_count_session     | 0       |
| Ndb_api_wait_meta_request_count_session    | 1       |
| Ndb_api_wait_nanos_count_session           | 8144375 |
| Ndb_api_bytes_sent_count_session           | 68      |
| Ndb_api_bytes_received_count_session       | 84      |
| Ndb_api_trans_start_count_session          | 1       |
| Ndb_api_trans_commit_count_session         | 1       |
| Ndb_api_trans_abort_count_session          | 0       |
| Ndb_api_trans_close_count_session          | 1       |
| Ndb_api_pk_op_count_session                | 1       |
| Ndb_api_uk_op_count_session                | 0       |
| Ndb_api_table_scan_count_session           | 0       |
| Ndb_api_range_scan_count_session           | 0       |
| Ndb_api_pruned_scan_count_session          | 0       |
| Ndb_api_scan_batch_count_session           | 0       |
| Ndb_api_read_row_count_session             | 1       |
| Ndb_api_trans_local_read_row_count_session | 1       |
+--------------------------------------------+---------+
18 rows in set (0.50 sec)
</pre><p>
      NDB API <span class="command"><strong>mysqld</strong></span> レベルのステータス変数のリストを取得するには、次のように、<code class="literal">ndb_api</code> で始まり、<code class="literal">_count</code> で終わる変数名でフィルタ処理します。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT * FROM INFORMATION_SCHEMA.SESSION_STATUS</code></strong> 
    -&gt;     <strong class="userinput"><code>WHERE VARIABLE_NAME LIKE 'ndb_api%count';</code></strong>
+------------------------------------+----------------+
| VARIABLE_NAME                      | VARIABLE_VALUE |
+------------------------------------+----------------+
| NDB_API_WAIT_EXEC_COMPLETE_COUNT   | 4              |
| NDB_API_WAIT_SCAN_RESULT_COUNT     | 3              |
| NDB_API_WAIT_META_REQUEST_COUNT    | 28             |
| NDB_API_WAIT_NANOS_COUNT           | 53756398       |
| NDB_API_BYTES_SENT_COUNT           | 1060           |
| NDB_API_BYTES_RECEIVED_COUNT       | 9724           |
| NDB_API_TRANS_START_COUNT          | 3              |
| NDB_API_TRANS_COMMIT_COUNT         | 2              |
| NDB_API_TRANS_ABORT_COUNT          | 0              |
| NDB_API_TRANS_CLOSE_COUNT          | 3              |
| NDB_API_PK_OP_COUNT                | 2              |
| NDB_API_UK_OP_COUNT                | 0              |
| NDB_API_TABLE_SCAN_COUNT           | 1              |
| NDB_API_RANGE_SCAN_COUNT           | 0              |
| NDB_API_PRUNED_SCAN_COUNT          | 0              |
| NDB_API_SCAN_BATCH_COUNT           | 0              |
| NDB_API_READ_ROW_COUNT             | 2              |
| NDB_API_TRANS_LOCAL_READ_ROW_COUNT | 2              |
| NDB_API_EVENT_DATA_COUNT           | 0              |
| NDB_API_EVENT_NONDATA_COUNT        | 0              |
| NDB_API_EVENT_BYTES_COUNT          | 0              |
+------------------------------------+----------------+
21 rows in set (0.09 sec)
</pre><p>
      4 セットすべてのステータス変数に、すべてのカウンタが反映されるとはかぎりません。イベントカウンタ <code class="literal">DataEventsRecvdCount</code>、<code class="literal">NondataEventsRecvdCount</code>、および <code class="literal">EventBytesRecvdCount</code> の場合は、<code class="literal">_injector</code> と <span class="command"><strong>mysqld</strong></span> レベルの NDB API ステータス変数のみを使用できます。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SHOW STATUS LIKE 'ndb_api%event%';</code></strong>
+--------------------------------------+-------+
| Variable_name                        | Value |
+--------------------------------------+-------+
| Ndb_api_event_data_count_injector    | 0     |
| Ndb_api_event_nondata_count_injector | 0     |
| Ndb_api_event_bytes_count_injector   | 0     |
| Ndb_api_event_data_count             | 0     |
| Ndb_api_event_nondata_count          | 0     |
| Ndb_api_event_bytes_count            | 0     |
+--------------------------------------+-------+
6 rows in set (0.00 sec)
</pre><p>
      次に示すように、その他の NDB API カウンタには、<code class="literal">_injector</code> ステータス変数が実装されていません。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SHOW STATUS LIKE 'ndb_api%injector%';</code></strong>
+--------------------------------------+-------+
| Variable_name                        | Value |
+--------------------------------------+-------+
| Ndb_api_event_data_count_injector    | 0     |
| Ndb_api_event_nondata_count_injector | 0     |
| Ndb_api_event_bytes_count_injector   | 0     |
+--------------------------------------+-------+
3 rows in set (0.00 sec)
</pre><a class="indexterm" name="idm139979018001376"></a><a class="indexterm" name="idm139979017999088"></a><p>
      ステータス変数の名前は、対応するカウンタの名前に簡単に関連付けることができます。次の表に、各 NDB API 統計カウンタを、説明およびこのカウンタに対応する MySQL サーバーステータス変数の名前とともに一覧表示しています。
    </p><div class="informaltable"><table summary="この表の 1 番目のカラムには、NDB API 統計カウンタの名前を一覧表示しています。2 番目のカラムでは、行を 2 つのセルに分割しており、1 番目のセルには統計カウンタの説明、2 番目のセルには対応する MySQL サーバーステータス変数のリストを示しています。ステータス変数はタイプ別に、セッション、スレーブ、インジェクタ、サーバーの順に一覧表示しています。" border="1"><colgroup><col class="c1"><col class="c2"></colgroup><thead><tr><th scope="col" rowspan="2" valign="middle">カウンタ名</th><th scope="col">説明</th></tr><tr><th scope="col">ステータス変数 (統計タイプ別):

              <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    セッション
                  </p></li><li class="listitem"><p>
                    スレーブ
                  </p></li><li class="listitem"><p>
                    インジェクタ
                  </p></li><li class="listitem"><p>
                    サーバー
                  </p></li></ul></div></th></tr></thead><tbody><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">WaitExecCompleteCount</code></td><td>操作の実行が完了するまで待機する間にスレッドがブロックされた回数。すべての <code class="literal">execute()</code> 呼び出しと、クライアントから見えない BLOB および自動インクリメント操作の暗黙的な実行が含まれます。</td></tr><tr><td scope="row"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">Ndb_api_wait_exec_complete_count_session</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_wait_exec_complete_count_slave</code>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_wait_exec_complete_count</code>
                  </p></li></ul></div></td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">WaitScanResultCount</code></td><td>追加の結果やスキャンが閉じるまで待機するなど、スキャンベースの信号を待機する間にスレッドがブロックされた回数。</td></tr><tr><td scope="row"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">Ndb_api_wait_scan_result_count_session</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_wait_scan_result_count_slave</code>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_wait_scan_result_count</code>
                  </p></li></ul></div></td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">WaitMetaRequestCount</code></td><td>メタベースの信号を待機する間にスレッドがブロックされた回数。これは、DDL 操作またはエポックが開始される (または終了する) まで待機しているときに発生する可能性があります。</td></tr><tr><td scope="row"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">Ndb_api_wait_meta_request_count_session</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_wait_meta_request_count_slave</code>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_wait_meta_request_count</code>
                  </p></li></ul></div></td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">WaitNanosCount</code></td><td>データノードからの何らかのタイプの信号の待機にかかった合計時間 (ナノ秒)。</td></tr><tr><td scope="row"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">Ndb_api_wait_nanos_count_session</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_wait_nanos_count_slave</code>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_wait_nanos_count</code>
                  </p></li></ul></div></td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">BytesSentCount</code></td><td>データノードに送信されたデータ量 (バイト単位)。</td></tr><tr><td scope="row"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">Ndb_api_bytes_sent_count_session</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_bytes_sent_count_slave</code>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_bytes_sent_count</code>
                  </p></li></ul></div></td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">BytesRecvdCount</code></td><td>データノードから受信されたデータ量 (バイト単位)。</td></tr><tr><td scope="row"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">Ndb_api_bytes_received_count_session</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_bytes_received_count_slave</code>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_bytes_received_count</code>
                  </p></li></ul></div></td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">TransStartCount</code></td><td>開始されたトランザクションの数。</td></tr><tr><td scope="row"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">Ndb_api_trans_start_count_session</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_trans_start_count_slave</code>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_trans_start_count</code>
                  </p></li></ul></div></td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">TransCommitCount</code></td><td>コミットされたトランザクションの数。</td></tr><tr><td scope="row"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">Ndb_api_trans_commit_count_session</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_trans_commit_count_slave</code>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_trans_commit_count</code>
                  </p></li></ul></div></td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">TransAbortCount</code></td><td>中止されたトランザクションの数。</td></tr><tr><td scope="row"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">Ndb_api_trans_abort_count_session</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_trans_abort_count_slave</code>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_trans_abort_count</code>
                  </p></li></ul></div></td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">TransCloseCount</code></td><td>中止されたトランザクションの数。(この値は、<code class="literal">TransCommitCount</code> と <code class="literal">TransAbortCount</code> との合計より大きい場合があります。)</td></tr><tr><td scope="row"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">Ndb_api_trans_close_count_session</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_trans_close_count_slave</code>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_trans_close_count</code>
                  </p></li></ul></div></td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">PkOpCount</code></td><td>主キーに基づいた操作または主キーを使用した操作の数。このカウントには、BLOB 部分テーブル操作、暗黙的なロック解除操作、自動インクリメント操作、および通常 MySQL クライアントから見える主キー操作が含まれます。</td></tr><tr><td scope="row"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">Ndb_api_pk_op_count_session</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_pk_op_count_slave</code>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_pk_op_count</code>
                  </p></li></ul></div></td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">UkOpCount</code></td><td>一意のキーに基づいた操作または一意のキーを使用した操作の数。</td></tr><tr><td scope="row"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">Ndb_api_uk_op_count_session</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_uk_op_count_slave</code>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_uk_op_count</code>
                  </p></li></ul></div></td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">TableScanCount</code></td><td>開始されたテーブルスキャンの数。これには、内部テーブルのスキャンが含まれます。</td></tr><tr><td scope="row"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">Ndb_api_table_scan_count_session</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_table_scan_count_slave</code>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_table_scan_count</code>
                  </p></li></ul></div></td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">RangeScanCount</code></td><td>開始された範囲スキャンの数。</td></tr><tr><td scope="row"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">Ndb_api_range_scan_count_session</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_range_scan_count_slave</code>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_range_scan_count</code>
                  </p></li></ul></div></td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">PrunedScanCount</code></td><td>単一パーティションにプルーニングされたスキャンの数。</td></tr><tr><td scope="row"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">Ndb_api_pruned_scan_count_session</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_pruned_scan_count_slave</code>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_pruned_scan_count</code>
                  </p></li></ul></div></td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">ScanBatchCount</code></td><td>受信された行のバッチの数。(このコンテキストで、<em class="firstterm">バッチ</em>とは単一フラグメントからのスキャン結果のセットです。)</td></tr><tr><td scope="row"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">Ndb_api_scan_batch_count_session</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_scan_batch_count_slave</code>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_scan_batch_count</code>
                  </p></li></ul></div></td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">ReadRowCount</code></td><td>読み取られた行の合計数。主キー、一意のキー、またはスキャン操作を使用して読み取られた行が含まれます。</td></tr><tr><td scope="row"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">Ndb_api_read_row_count_session</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_read_row_count_slave</code>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_read_row_count</code>
                  </p></li></ul></div></td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">TransLocalReadRowCount</code></td><td>トランザクションが実行された同じデータノードから読み取られた行数。</td></tr><tr><td scope="row"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">Ndb_api_trans_local_read_row_count_session</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_trans_local_read_row_count_slave</code>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_trans_local_read_row_count</code>
                  </p></li></ul></div></td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">DataEventsRecvdCount</code></td><td>受信された行変更イベントの数。</td></tr><tr><td scope="row"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_event_data_count_injector</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_event_data_count</code>
                  </p></li></ul></div></td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">NondataEventsRecvdCount</code></td><td>受信された行変更イベント以外のイベントの数。</td></tr><tr><td scope="row"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_event_nondata_count_injector</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_event_nondata_count</code>
                  </p></li></ul></div></td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">EventBytesRecvdCount</code></td><td>受信されたイベントのバイト数。</td></tr><tr><td scope="row"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_event_bytes_count_injector</code>
                  </p></li><li class="listitem"><p>
                    <code class="literal">Ndb_api_event_bytes_count</code>
                  </p></li></ul></div></td></tr></tbody></table></div><p>
      コミットされたトランザクションのすべてのカウント、つまり <code class="literal">TransCommitCount</code> カウンタのステータス変数を確認するには、次のように、<code class="literal">SHOW STATUS</code> の結果を部分文字列 <code class="literal">trans_commit_count</code> でフィルタ処理できます。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SHOW STATUS LIKE '%trans_commit_count%';</code></strong>
+------------------------------------+-------+
| Variable_name                      | Value |
+------------------------------------+-------+
| Ndb_api_trans_commit_count_session | 1     |
| Ndb_api_trans_commit_count_slave   | 0     |
| Ndb_api_trans_commit_count         | 2     |
+------------------------------------+-------+
3 rows in set (0.00 sec)
</pre><p>
      ここから、現在の <span class="command"><strong>mysql</strong></span> クライアントセッションで 1 つのトランザクションがコミットされ、この <span class="command"><strong>mysqld</strong></span> で、それが最後に再起動されてから、2 つのトランザクションがコミットされたことを判断できます。
    </p><p>
      ステートメントを実行した直前と直後で、対応する <code class="literal">_session</code> ステータス変数の値を比較すると、特定の SQL ステートメントによって、さまざまな NDB API カウンタがどのように増分されているかを確認できます。この例では、<code class="literal">SHOW STATUS</code> から初期値を取得したあとに、<code class="literal">test</code> データベースに、単一のカラムを持つ <code class="literal">t</code> という名前の <code class="literal">NDB</code> テーブルを作成します。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SHOW STATUS LIKE 'ndb_api%session%';</code></strong>
+--------------------------------------------+--------+
| Variable_name                              | Value  |
+--------------------------------------------+--------+
| Ndb_api_wait_exec_complete_count_session   | 2      |
| Ndb_api_wait_scan_result_count_session     | 0      |
| Ndb_api_wait_meta_request_count_session    | 3      |
| Ndb_api_wait_nanos_count_session           | 820705 |
| Ndb_api_bytes_sent_count_session           | 132    |
| Ndb_api_bytes_received_count_session       | 372    |
| Ndb_api_trans_start_count_session          | 1      |
| Ndb_api_trans_commit_count_session         | 1      |
| Ndb_api_trans_abort_count_session          | 0      |
| Ndb_api_trans_close_count_session          | 1      |
| Ndb_api_pk_op_count_session                | 1      |
| Ndb_api_uk_op_count_session                | 0      |
| Ndb_api_table_scan_count_session           | 0      |
| Ndb_api_range_scan_count_session           | 0      |
| Ndb_api_pruned_scan_count_session          | 0      |
| Ndb_api_scan_batch_count_session           | 0      |
| Ndb_api_read_row_count_session             | 1      |
| Ndb_api_trans_local_read_row_count_session | 1      |
+--------------------------------------------+--------+
18 rows in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>USE test;</code></strong>
Database changed
mysql&gt; <strong class="userinput"><code>CREATE TABLE t (c INT) ENGINE NDBCLUSTER;</code></strong>
Query OK, 0 rows affected (0.85 sec)
</pre><p>
      この時点で、次に示す (出力で変更された行を強調表示しています) ように、新しい <code class="literal">SHOW STATUS</code> ステートメントを実行し、変更を確認できます。
    </p><pre class="programlisting">
mysql&gt; SHOW STATUS LIKE 'ndb_api%session%';
+--------------------------------------------+-----------+
| Variable_name                              | Value     |
+--------------------------------------------+-----------+<span class="emphasis"><em>
| Ndb_api_wait_exec_complete_count_session   | 8         |</em></span>
| Ndb_api_wait_scan_result_count_session     | 0         |
<span class="emphasis"><em>| Ndb_api_wait_meta_request_count_session    | 17        |</em></span>
<span class="emphasis"><em>| Ndb_api_wait_nanos_count_session           | 706871709 |</em></span>
<span class="emphasis"><em>| Ndb_api_bytes_sent_count_session           | 2376      |</em></span>
<span class="emphasis"><em>| Ndb_api_bytes_received_count_session       | 3844      |</em></span>
<span class="emphasis"><em>| Ndb_api_trans_start_count_session          | 4         |</em></span>
<span class="emphasis"><em>| Ndb_api_trans_commit_count_session         | 4         |</em></span>
| Ndb_api_trans_abort_count_session          | 0         |
<span class="emphasis"><em>| Ndb_api_trans_close_count_session          | 4         |</em></span>
<span class="emphasis"><em>| Ndb_api_pk_op_count_session                | 6         |</em></span>
| Ndb_api_uk_op_count_session                | 0         |
| Ndb_api_table_scan_count_session           | 0         |
| Ndb_api_range_scan_count_session           | 0         |
| Ndb_api_pruned_scan_count_session          | 0         |
| Ndb_api_scan_batch_count_session           | 0         |
<span class="emphasis"><em>| Ndb_api_read_row_count_session             | 2         |</em></span>
| Ndb_api_trans_local_read_row_count_session | 1         |
+--------------------------------------------+-----------+
18 rows in set (0.00 sec)
</pre><p>
      同様に、<code class="literal">t</code> に行を挿入することで発生した NDB API 統計カウンタの変更も確認できます。次に示すように、行を挿入してから、前の例で使用したものと同じ <code class="literal">SHOW STATUS</code> ステートメントを実行します。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>INSERT INTO t VALUES (100);</code></strong>
Query OK, 1 row affected (0.00 sec)

mysql&gt; <strong class="userinput"><code>SHOW STATUS LIKE 'ndb_api%session%';</code></strong>
+--------------------------------------------+-----------+
| Variable_name                              | Value     |
+--------------------------------------------+-----------+
<span class="emphasis"><em>| Ndb_api_wait_exec_complete_count_session   | 11        |</em></span>
<span class="emphasis"><em>| Ndb_api_wait_scan_result_count_session     | 6         |</em></span>
<span class="emphasis"><em>| Ndb_api_wait_meta_request_count_session    | 20        |</em></span>
<span class="emphasis"><em>| Ndb_api_wait_nanos_count_session           | 707370418 |</em></span>
<span class="emphasis"><em>| Ndb_api_bytes_sent_count_session           | 2724      |</em></span>
<span class="emphasis"><em>| Ndb_api_bytes_received_count_session       | 4116      |</em></span>
<span class="emphasis"><em>| Ndb_api_trans_start_count_session          | 7         |</em></span>
<span class="emphasis"><em>| Ndb_api_trans_commit_count_session         | 6         |</em></span>
| Ndb_api_trans_abort_count_session          | 0         |
<span class="emphasis"><em>| Ndb_api_trans_close_count_session          | 7         |</em></span>
<span class="emphasis"><em>| Ndb_api_pk_op_count_session                | 8         |</em></span>
| Ndb_api_uk_op_count_session                | 0         |
<span class="emphasis"><em>| Ndb_api_table_scan_count_session           | 1         |</em></span>
| Ndb_api_range_scan_count_session           | 0         |
| Ndb_api_pruned_scan_count_session          | 0         |
| Ndb_api_scan_batch_count_session           | 0         |
<span class="emphasis"><em>| Ndb_api_read_row_count_session             | 3         |</em></span>
<span class="emphasis"><em>| Ndb_api_trans_local_read_row_count_session | 2         |</em></span>
+--------------------------------------------+-----------+
18 rows in set (0.00 sec)
</pre><p>
      これらの結果から、いくつかのことを観察できます。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          明示的な主キーなしで <code class="literal">t</code> を作成しましたが、その際に 5 つの主キー操作が実行されました (<code class="literal">Ndb_api_pk_op_count_session</code> の<span class="quote">「<span class="quote">前</span>」</span>と<span class="quote">「<span class="quote">後</span>」</span>の値の差、つまり 6 から 1 を引く)。これは、<code class="literal">NDB</code> ストレージエンジンを使用しているすべてのテーブルの機能である非表示の主キーの作成を反映しています。
        </p></li><li class="listitem"><p>
          <code class="literal">Ndb_api_wait_nanos_count_session</code> の連続した値を比較すると、<code class="literal">CREATE TABLE</code> ステートメントを実装している NDB API 操作が、<code class="literal">INSERT</code> によって実行された操作 (707370418 - 706871709 = 498709 ナノ秒、つまり約 0.0005 秒) よりも大幅に長い時間 (706871709 - 820705 = 706051004 ナノ秒、つまり約 0.7 秒)、データノードからの応答を待機したことを確認できます。<span class="command"><strong>mysql</strong></span> クライアントでこれらのステートメントについてレポートされた実行時間は、これらの数値に大まかに関連しています。
        </p><p>
          十分な (ナノ秒) 時間分解能を備えていないプラットフォームでは、SQL ステートメントが非常に高速で実行されたために、<code class="literal">WaitNanosCount</code> NDB API カウンタの値の小さな変更が、<code class="literal">Ndb_api_wait_nanos_count_session</code>、<code class="literal">Ndb_api_wait_nanos_count_slave</code>、または <code class="literal">Ndb_api_wait_nanos_count</code> の値に表れないことがあります。
        </p></li><li class="listitem"><p>
          <code class="literal">Ndb_api_read_row_count_session</code> と <code class="literal">Ndb_api_trans_local_read_row_count_session</code> の値が増加したことを反映して、<code class="literal">INSERT</code> ステートメントによって <code class="literal">ReadRowCount</code> と <code class="literal">TransLocalReadRowCount</code> の両方の NDB API 統計カウンタが増分されています。
        </p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mysql-cluster-replication"></a>18.6 MySQL Cluster レプリケーション</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-abbreviations">18.6.1 MySQL Cluster レプリケーション: 略語と記号</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-general">18.6.2 MySQL Cluster レプリケーションの一般要件</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-issues">18.6.3 MySQL Cluster レプリケーションの既知の問題</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-schema">18.6.4 MySQL Cluster レプリケーションスキーマとテーブル</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-preparation">18.6.5 レプリケーションのための MySQL Cluster の準備</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-starting">18.6.6 MySQL Cluster レプリケーションの起動 (レプリケーションチャネルが 1 つ)</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-two-channels">18.6.7 2 つのレプリケーションチャネルを使用する MySQL Cluster レプリケーション</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-failover">18.6.8 MySQL Cluster レプリケーションを使用したフェイルオーバーの実装</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-backups">18.6.9 MySQL Cluster レプリケーションを使用した MySQL Cluster バックアップ</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-multi-master">18.6.10 MySQL Cluster レプリケーション: マルチマスターと循環レプリケーション</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution">18.6.11 MySQL Cluster レプリケーションの競合解決</a></span></dt></dl></div><a class="indexterm" name="idm139979017729392"></a><a class="indexterm" name="idm139979017726784"></a><a class="indexterm" name="idm139979017724224"></a><a class="indexterm" name="idm139979017722800"></a><a class="indexterm" name="idm139979017720944"></a><p>
    MySQL Cluster は、通常は単に<span class="quote">「<span class="quote">レプリケーション</span>」</span>と呼ばれる<em class="firstterm">非同期レプリケーション</em>をサポートしています。このセクションでは、MySQL Cluster として動作する、あるグループのコンピュータが、別のコンピュータまたはコンピュータのグループに複製する構成を、セットアップしたり管理したりする方法について説明します。標準の MySQL レプリケーションに関してはこのマニュアルで別途説明しています。(<a class="xref" href="replication.html" title="第 17 章 レプリケーション">第17章「<i>レプリケーション</i>」</a>を参照してください。)
  </p><p>
    通常 (非クラスタ) のレプリケーションは、<span class="quote">「<span class="quote">マスター</span>」</span>サーバーと <span class="quote">「<span class="quote">スレーブ</span>」</span>サーバー、複製される操作とデータの元になるマスター、およびその受け手であるスレーブによって行われています。概念的にはレプリケーションは非常に似ていますが、MySQL Cluster では、実際には複雑さが増す可能性があります。2 つの完全なクラスタ間のレプリケーションを含む多くの異なる構成を対象にするために、MySQL Cluster が拡張される場合があるためです。MySQL Cluster 自身は、クラスタリングの機能を <code class="literal">NDB</code> ストレージエンジンに依存していますが、複製されたテーブルのスレーブのコピーにストレージエンジンとして <code class="literal">NDB</code> を使用する必要はありません (<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-ndb-to-non-ndb" title="NDB から別のストレージエンジンへのレプリケーション">NDB から別のストレージエンジンへのレプリケーション</a>を参照してください)。ただし、可用性を最大にするため、ある MySQL Cluster から別の MySQL Cluster に複製できます (複製することが望ましい)。また、ここで説明するのはこのシナリオであり、次の図で示すとおりです。
  </p><div class="mediaobject"><img src="images/cluster-replication-overview.png" width="640" height="360" alt="MySQL クラスタ間のレプリケーションレイアウト"></div><p>
    このシナリオでは、レプリケーションプロセスは、マスタークラスタの連続的な状態のログが取られ、スレーブクラスタに保存されるというプロセスです。このプロセスは NDB バイナリログインジェクタスレッドとして知られる特別なスレッドによって実行されます。このスレッドは各 MySQL サーバーで動作し、バイナリログ (<code class="literal">binlog</code>) を作成します。このスレッドは、バイナリログを作成するクラスタのすべての変更 (MySQL Server を介して影響を受けた変更だけではありません) を、シリアライゼーションの正しい順序でバイナリログに挿入します。ここでは、MySQL のレプリケーションマスターとレプリケーションスレーブのサーバーをレプリケーションサーバーまたはレプリケーションノードと呼び、そのサーバー間のデータフローまたは通信回線を<em class="firstterm">レプリケーションチャネル</em>と呼びます。
  </p><p>
    MySQL Cluster および MySQL Cluster レプリケーションを使用したポイントインタイムリカバリの実行の情報につては、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-pitr" title="18.6.9.2 MySQL Cluster レプリケーションを使用したポイントインタイムリカバリ">セクション18.6.9.2「MySQL Cluster レプリケーションを使用したポイントインタイムリカバリ」</a>を参照してください。
  </p><a class="indexterm" name="idm139979017700768"></a><a class="indexterm" name="idm139979017698480"></a><p><b>NDB API _slave ステータス変数 </b>
      NDB API カウンタは、MySQL Cluster のレプリケーションスレーブで高度なモニタリング監視機能を提供できます。これらは NDB 統計の <code class="literal">_slave</code> ステータス変数として実装されます。この内容が見られるのは、<code class="literal">SHOW STATUS</code> の出力の中、または MySQL Cluster レプリケーションでスレーブとして動作している MySQL Server に接続された <span class="command"><strong>mysql</strong></span> クライアントセッションの <code class="literal">SESSION_STATUS</code> または <code class="literal">GLOBAL_STATUS</code> テーブルに対してクエリーを発行した結果の中です。複製された <code class="literal">NDB</code> テーブルに作用するステートメントの実行の前後でこれらのステータス変数の値を比較することで、NDB API レベルでスレーブによって行われる、対応したアクションを監視できます。これにより、MySQL Cluster レプリケーションのモニタリングまたはトラブルシューティングのときに役に立つ場合があります。追加情報については、<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="18.5.15 NDB API 統計のカウンタと変数">セクション18.5.15「NDB API 統計のカウンタと変数」</a>を参照してください。
    </p><p><b>NDB テーブルから非 NDB テーブルへのレプリケーション </b>
      マスターとして動作する MySQL Cluster から、スレーブ <span class="command"><strong>mysqld</strong></span> で <code class="literal">InnoDB</code> または <code class="literal">MyISAM</code> などのほかの MySQL ストレージエンジンを使用するテーブルに <code class="literal">NDB</code> テーブルを複製できます。これには多くの条件が適用されます。詳細については、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-ndb-to-non-ndb" title="NDB から別のストレージエンジンへのレプリケーション">NDB から別のストレージエンジンへのレプリケーション</a>および<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-ndb-to-nontransactional" title="NDB から非トランザクションストレージエンジンへのレプリケーション">NDB から非トランザクションストレージエンジンへのレプリケーション</a>を参照してください。
    </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-replication-abbreviations"></a>18.6.1 MySQL Cluster レプリケーション: 略語と記号</h3></div></div></div><a class="indexterm" name="idm139979017678576"></a><p>
      このセクションを通じて、マスターとスレーブのクラスタ、およびクラスタまたはクラスタノードで実行されるプロセスとコマンドを参照する場合に、次の略語と記号を使用します。
    </p><div class="informaltable"><table summary="この表は、マスターとスレーブのクラスタ、およびクラスタまたはクラスタノードで実行されるプロセスとコマンドを参照する記号に対して、このセクションを通じて使用される略語の一覧を記載しています。" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">記号または略語</th><th scope="col">説明 (... を参照)</th></tr></thead><tbody><tr><td scope="row"><em class="replaceable"><code>M</code></em></td><td>(プライマリ) レプリケーションマスターとしての役割を果たすクラスタ</td></tr><tr><td scope="row"><em class="replaceable"><code>S</code></em></td><td>(プライマリ) レプリケーションスレーブとしての役割を果たすクラスタ</td></tr><tr><td scope="row"><code class="literal">shell<em class="replaceable"><code>M</code></em>&gt;</code></td><td>マスタークラスタで発行されるシェルコマンド</td></tr><tr><td scope="row"><code class="literal">mysql<em class="replaceable"><code>M</code></em>&gt;</code></td><td>マスタークラスタの SQL ノードとして動作する単一の MySQL サーバーで発行された MySQL クライアントコマンド</td></tr><tr><td scope="row"><code class="literal">mysql<em class="replaceable"><code>M*</code></em>&gt;</code></td><td>レプリケーションマスターのクラスタに参加しているすべての SQL ノードで発行される MySQL クライアントのコマンド</td></tr><tr><td scope="row"><code class="literal">shell<em class="replaceable"><code>S</code></em>&gt;</code></td><td>スレーブクラスタで発行されるシェルコマンド</td></tr><tr><td scope="row"><code class="literal">mysql<em class="replaceable"><code>S</code></em>&gt;</code></td><td>スレーブクラスタで SQL ノードとして動作している単一の MySQL サーバーで発行される MySQLクライアントのコマンド</td></tr><tr><td scope="row"><code class="literal">mysql<em class="replaceable"><code>S*</code></em>&gt;</code></td><td>レプリケーションスレーブのクラスタに参加しているすべての SQL ノードで発行される MySQL クライアントのコマンド</td></tr><tr><td scope="row"><em class="replaceable"><code>C</code></em></td><td>プライマリレプリケーションチャネル</td></tr><tr><td scope="row"><em class="replaceable"><code>C'</code></em></td><td>セカンダリレプリケーションチャネル</td></tr><tr><td scope="row"><em class="replaceable"><code>M'</code></em></td><td>セカンダリレプリケーションマスター</td></tr><tr><td scope="row"><em class="replaceable"><code>S'</code></em></td><td>セカンダリレプリケーションスレーブ</td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-replication-general"></a>18.6.2 MySQL Cluster レプリケーションの一般要件</h3></div></div></div><a class="indexterm" name="idm139979017647744"></a><a class="indexterm" name="idm139979017645568"></a><p>
      レプリケーションチャネルには、レプリケーションサーバーとして動作する 2 台の MySQL サーバー (マスターとスレーブ用に各 1 台) が必要です。たとえば、2 つのレプリケーションチャネルを持つレプリケーションを設定する場合 (冗長性の確保に予備のチャネルを用意)、合計で 4 つのレプリケーションノード (クラスタごとに 2 つのノード) になります。
    </p><p>
      このセクション以降で説明する MySQL Cluster のレプリケーションは、行ベースのレプリケーションに依存しています。つまり、レプリケーションマスターの MySQL サーバーは、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-starting" title="18.6.6 MySQL Cluster レプリケーションの起動 (レプリケーションチャネルが 1 つ)">セクション18.6.6「MySQL Cluster レプリケーションの起動 (レプリケーションチャネルが 1 つ)」</a>で説明のとおり、<code class="option">--binlog-format=ROW</code> または <code class="option">--binlog-format=MIXED</code> で動作している必要があります。行ベースのレプリケーションの一般的な情報は、<a class="xref" href="replication.html#replication-formats" title="17.1.2 レプリケーション形式">セクション17.1.2「レプリケーション形式」</a>を参照してください。
    </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
        <code class="option">--binlog-format=STATEMENT</code>で MySQL Cluster レプリケーションを使用しようとすると、マスターの <code class="literal">ndb_binlog_index</code> テーブルおよびスレーブの <code class="literal">ndb_apply_status</code> テーブルの <code class="literal">epoch</code> カラムが更新されないため、レプリケーションは正常に動作しません (<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-schema" title="18.6.4 MySQL Cluster レプリケーションスキーマとテーブル">セクション18.6.4「MySQL Cluster レプリケーションスキーマとテーブル」</a>を参照してください)。その代わり、レプリケーションマスターとして動作する MySQL サーバーでの更新のみがスレーブに伝播され、マスタークラスタのほかの SQL ノードからの更新は複製されません。
      </p><p>
        MySQL Cluster NDB 7.3 の <code class="option">--binlog-format</code> オプションのデフォルト値は <code class="literal">MIXED</code> です。
      </p></div><p>
      どちらかのクラスタのレプリケーションに使用される各 MySQL サーバーは、どちらかのクラスタに参加している MySQL レプリケーションサーバーの中で一意に識別される必要があります (マスターおよびスレーブの両方のクラスタにあるレプリケーションサーバーは同じ ID を共有できません)。これは、<code class="option">--server-id=<em class="replaceable"><code>id</code></em></code> オプションを使用して各 SQL ノードを起動して、実行できます。ここで、<em class="replaceable"><code>id</code></em> は一意の整数です。必須ではありませんが、ここでは、すべての MySQL Cluster のバイナリは同じリリースバージョンのバイナリであるものとします。
    </p><p>
      MySQL レプリケーションでは通常、使用するレプリケーションプロトコルおよびサーバーがサポートする SQL 機能セットの両方のバージョンに関与する両方の MySQL サーバー (<span class="command"><strong>mysqld</strong></span> プロセス) に互換性がある必要があります (<a class="xref" href="replication.html#replication-compatibility" title="17.4.2 MySQL バージョン間のレプリケーション互換性">セクション17.4.2「MySQL バージョン間のレプリケーション互換性」</a>を参照してください)。これは、MySQL Cluster のバイナリと MySQL Server 5.6 のディストリビューションのバイナリでの違いとして、MySQL Cluster のレプリケーションでは、両方の <span class="command"><strong>mysqld</strong></span> バイナリを MySQL Cluster ディストリビューションのバイナリにするという追加の要件があるためです。<span class="command"><strong>mysqld</strong></span> サーバーの互換性を確保するもっとも単純で容易な方法は、マスターとスレーブのすべての <span class="command"><strong>mysqld</strong></span> バイナリに、同じ MySQL Cluster のディストリビューションを使用することです。
    </p><p>
      スレーブのサーバーまたはクラスタはマスターのレプリケーション専用であり、ほかのデータは保存されていないものとします。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        ステートメントベースのレプリケーションを使用すると MySQL Cluster を複製できます。ただし、この場合、次の制限が適用されます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            マスターとして動作しているクラスタでのデータ行へのすべての更新は、単一の MySQL サーバーに対して行う必要があります。
          </p></li><li class="listitem"><p>
            複数の同時 MySQL レプリケーションプロセスを使用してクラスタを複製することはできません。
          </p></li><li class="listitem"><p>
            SQL レベルで行われた変更のみが複製されます。
          </p></li></ul></div><p>
        これらは、行ベースのレプリケーションと対照的に、ステートメントベースのレプリケーションのその他の制限事項に追加されます。2 つのレプリケーション形式の間の違いに関する詳細な情報については、<a class="xref" href="replication.html#replication-sbr-rbr" title="17.1.2.1 ステートメントベースおよび行ベースレプリケーションのメリットとデメリット">セクション17.1.2.1「ステートメントベースおよび行ベースレプリケーションのメリットとデメリット」</a>を参照してください。
      </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-replication-issues"></a>18.6.3 MySQL Cluster レプリケーションの既知の問題</h3></div></div></div><a class="indexterm" name="idm139979017614832"></a><p>
      このセクションでは、MySQL Cluster NDB 7.3 でレプリケーションを使用する場合の既知の問題や課題について説明します。
    </p><p><b>マスタースレーブの接続の喪失 </b>
        <a class="indexterm" name="idm139979017610992"></a>接続の喪失は、レプリケーションマスターの SQL ノードとレプリケーションスレーブの SQL ノードとの間、またはレプリケーションマスターの SQL ノードとマスタークラスタのデータノードとの間のいずれかで発生する可能性があります。後者の場合にこの発生は、物理的な接続が喪失した結果 (たとえば、ネットワークケーブルの破損など) だけではなく、データノードイベントのバッファーのオーバーフローによる可能性もあります。SQL ノードは、応答が遅すぎると、クラスタでドロップされる可能性があります (これは、<code class="literal">MaxBufferedEpochs</code> および <code class="literal">TimeBetweenEpochs</code> 構成パラメータを調整することで、ある程度まで制御が可能です)。これが起こると、<span class="emphasis"><em>新しいデータをレプリケーションマスターのバイナリログに記録せずに、マスタークラスタに挿入できます</em></span>。このため、高可用性を保証するには、スレーブクラスタとマスター間の同期の維持に必要な場合、セカンダリレプリケーションチャネルへのフェイルオーバー、バックアップレプリケーションチャネルの維持、プライマリチャネルのモニターが非常に重要です。MySQL Cluster は、自身でこのようなモニタリングを実行するようには設計されていないため、外部のアプリケーションが必要です。
      </p><p>
      <a class="indexterm" name="idm139979017603408"></a> <a class="indexterm" name="idm139979017601152"></a> レプリケーションマスターは、マスタークラスタに接続したり、再接続をしたりするときに<span class="quote">「<span class="quote">ギャップ</span>」</span>イベントを発行します。(ギャップイベントは一種の<span class="quote">「<span class="quote">インシデントイベント</span>」</span>であり、データベースの内容に影響を与えるが、一連の変更として容易に表現できないインシデントが発生したことを示します。インシデントの例は、サーバーのクラッシュ、データベースの再同期、(複数の) ソフトウェアの更新、(複数の) ハードウェアの更新などです。)スレーブは、レプリケーションログ内のギャップを検出すると、エラーメッセージを出して停止します。このメッセージは <code class="literal">SHOW SLAVE STATUS</code> の出力に表示され、SQL スレッドがレプリケーションストリームに登録されたインシデントによって停止し、手動による介入が必要なことを示します。このような状況での対処の詳細については、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-failover" title="18.6.8 MySQL Cluster レプリケーションを使用したフェイルオーバーの実装">セクション18.6.8「MySQL Cluster レプリケーションを使用したフェイルオーバーの実装」</a>を参照してください。
    </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
        MySQL Cluster は自身でレプリケーションのステータスをモニターしたり、フェイルオーバーの準備をしたりするようには設計されていないため、高可用性がスレーブのサーバーまたはクラスタの要件である場合、複数のレプリケーションラインをセットアップし、プライマリのレプリケーションラインでマスターの <span class="command"><strong>mysqld</strong></span> をモニターし、必要に応じてセカンダリラインへのフェイルオーバーの準備をする必要があります。これは、手動や、場合によってはサードパーティーのアプリケーションによって行う必要があります。この種のセットアップの実装に関する情報については、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-two-channels" title="18.6.7 2 つのレプリケーションチャネルを使用する MySQL Cluster レプリケーション">セクション18.6.7「2 つのレプリケーションチャネルを使用する MySQL Cluster レプリケーション」</a>および <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-failover" title="18.6.8 MySQL Cluster レプリケーションを使用したフェイルオーバーの実装">セクション18.6.8「MySQL Cluster レプリケーションを使用したフェイルオーバーの実装」</a>を参照してください。
      </p><p>
        ただし、スタンドアロンの MySQL サーバーから MySQL Cluster に複製している場合は、通常 1 つのチャネルで十分です。
      </p></div><p><b>循環レプリケーション </b>
        <a class="indexterm" name="idm139979017589120"></a> <a class="indexterm" name="idm139979017586928"></a> <a class="indexterm" name="idm139979017584864"></a> MySQL Cluster レプリケーションは、次の例で示すように、循環レプリケーションをサポートしています。レプリケーションのセットアップは、番号が 1、2、3 の 3 つの MySQL Cluster で構成され、クラスタ 1 はクラスタ 2 のレプリケーションマスターとして動作し、クラスタ 2 はクラスタ 3 のマスターとして動作し、クラスタ 3 はクラスタ 1 のマスターとして動作して循環を完成します。各 MySQL Cluster は 2 つの SQL ノードを持ち、SQL ノード A と B はクラスタ 1 に属し、SQL ノード C と D はクラスタ 2 に属し、SQL ノード E と F はクラスタ 3 に属しています。
      </p><p>
      これらのクラスタを使用する循環レプリケーションは、次の条件を満たすかぎり、サポートされます。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          すべてのマスターとスレーブの SQL ノードは同じ
        </p></li><li class="listitem"><p>
          レプリケーションのマスターおよびスレーブとして動作するすべての SQL ノードが <code class="option">--log-slave-updates</code> オプションを使用して起動される
        </p></li></ul></div><p>
      このタイプの循環レプリケーションのセットアップは、次の図に示すとおりです。
    </p><div class="mediaobject"><img src="images/cluster-circular-replication-1.png" width="550" height="646" alt="すべてのマスター SQL ノードがスレーブでもある、MySQL Cluster 循環レプリケーションのスキームです。"></div><p>
      このシナリオでは、クラスタ 1 の SQL ノード A はクラスタ 2 の SQL ノード C に複製し、SQL ノード C はクラスタ 3 の SQL ノード E に複製し、SQL ノード E は SQL ノード A に複製します。言い換えると、レプリケーションライン (図中の赤の矢印) は、レプリケーションのマスターおよびスレーブとして使用されるすべての SQL ノードを直接接続します。
    </p><p>
      ここで示すように、すべてのマスター SQL ノードが必ずしもスレーブではない循環レプリケーションをセットアップすることも可能です。
    </p><div class="mediaobject"><img src="images/cluster-circular-replication-2.png" width="550" height="622" alt="すべてのマスター SQL ノードが必ずしもスレーブではない、MySQL Cluster 循環レプリケーションのスキームです。"></div><p>
      この場合、各クラスタの異なる SQL ノードはレプリケーションのマスターおよびスレーブとして使用されます。ただし、SQL ノードを <code class="option">--log-slave-updates</code> を使用して起動する必要は<span class="emphasis"><em>ありません</em></span>。レプリケーションのライン (これも図中の赤の矢印) が連続的でない MySQL Cluster のこのタイプの循環レプリケーションスキームは、可能性はありますが、まだ完全にはテストされていないため、実験的なものだと考えるようにしてください。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        <code class="literal">NDB</code> ストレージエンジンは<em class="firstterm">IDEMPOTENT 実行モード</em>を使用します。このモードでは、このモードでない場合に MySQL Cluster の循環レプリケーションを中断する重複キーなどのエラーを抑止します。これは、グローバル <code class="literal">slave_exec_mode</code> システム変数を <code class="literal">IDEMPOTENT</code> に設定することと同等です。これは、MySQL Cluster を使用する場合のマルチマスターレプリケーションにも必要です。(Bug #31609)
      </p><p>
        多重モードは MySQL Cluster を使用する場合のマルチマスターレプリケーションにも必須ですが (Bug #31609)、MySQL Cluster のレプリケーションで <code class="literal">slave_exec_mode</code> を設定する必要はありません。MySQL Cluster でこの設定を自動的に行い、この変数の明示的な設定への試行を無視するためです。
      </p></div><p><b>MySQL Cluster レプリケーションと主キー </b>
        <a class="indexterm" name="idm139979017553952"></a>ノード障害が発生した場合、重複行が挿入される可能性があるため、主キーがない <code class="literal">NDB</code> テーブルのレプリケーションでエラーが発生する可能性があります。このため、複製されるすべての <code class="literal">NDB</code> テーブルに主キーを持つことを強くお勧めします。
      </p><p><b>MySQL Cluster レプリケーションと一意キー </b>
        <a class="indexterm" name="idm139979017548176"></a>古いバージョンの MySQL Cluster では、<code class="literal">NDB</code> テーブルの一意キーのカラムの値を更新する操作が行われると、複製時に重複キーエラーになる場合がありました。<code class="literal">NDB</code> テーブル間のレプリケーションに関するこの問題は、すべてのテーブル行の更新が実行されるまで一意キーのチェックを保留することで解決されます。
      </p><p>
      この方法で制約を保留することは、現在 <code class="literal">NDB</code> でのみサポートされています。このため、<code class="literal">NDB</code> から別のストレージエンジン (<code class="literal">MyISAM</code> や <code class="literal">InnoDB</code> など) に複製する場合の一意キーの更新は、まだサポートされていません。
    </p><p>
      一意キーの更新のチェックを保留しないレプリケーションが <code class="literal">NDB</code> テーブル (<code class="literal">t</code> など) を使用して説明が可能な場合に発生する問題は、ここで示すように、マスターで発生し、移入されます (および一意キーの更新の保留をサポートしていないスレーブに複製されます)。
    </p><pre class="programlisting">
CREATE TABLE t (
    p INT PRIMARY KEY, 
    c INT, 
    UNIQUE KEY u (c)
)   ENGINE NDB;

INSERT INTO t 
    VALUES (1,1), (2,2), (3,3), (4,4), (5,5);
</pre><p>
      <code class="literal">t</code> での次の <code class="literal">UPDATE</code> ステートメントはマスターで成功します。これは、影響を受ける行が <code class="literal">ORDER BY</code> オプションで指定される順番で処理され、テーブル全体に実行されるためです。
    </p><pre class="programlisting">
UPDATE t SET c = c - 1 ORDER BY p;
</pre><p>
      しかしスレーブでは、同じステートメントが重複キーエラーなどの制約違反で失敗しました。これは、行の更新の順序付けが、テーブル全体に対して行われたのではなく、一回に 1 つのパーティションに対して行われたためです。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        各 <code class="literal">NDB</code> テーブルは、作成時に、キーで無条件にパーティション化されます。詳細については、<a class="xref" href="partitioning.html#partitioning-key" title="19.2.5 KEY パーティショニング">セクション19.2.5「KEY パーティショニング」</a>を参照してください。
      </p></div><p><b>GTID は未サポート </b>
        グローバルトランザクション ID を使用するレプリケーションは、<code class="literal">NDB</code> ストレージエンジンと互換性がなく、サポートされていません。GTID を有効にすると、MySQL Cluster レプリケーションが失敗する可能性があります。
      </p><p><b>--initial での再起動 </b>
        <a class="indexterm" name="idm139979017523920"></a> <code class="option">--initial</code> オプションを使用してクラスタを再起動すると、GCI とエポック番号の順序が <code class="literal">0</code> からやり直されます。(これは一般的に MySQL Cluster に当てはまり、MySQL Cluster を含むレプリケーションシナリオに限定されているわけではありません。)この場合、レプリケーションに関与する MySQL サーバーは再起動されます。この後、<code class="literal">RESET MASTER</code> および <code class="literal">RESET SLAVE</code> ステートメントを使用して、無効な <code class="literal">ndb_binlog_index</code> および <code class="literal">ndb_apply_status</code> テーブルをそれぞれクリアしてください。
      </p><p><a name="mysql-cluster-replication-ndb-to-non-ndb"></a><b>NDB から別のストレージエンジンへのレプリケーション </b>
        マスターの <code class="literal">NDB</code> テーブルを、異なるストレージエンジンを使用するスレーブのテーブルに複製できますが、次に記載した制限事項を考慮してください。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          マルチマスターと循環レプリケーションはサポートされていません (これを機能させるには、マスターとスレーブの両方のテーブルで <code class="literal">NDB</code> ストレージエンジンを使用する必要があります)。
        </p></li><li class="listitem"><p>
          スレーブのテーブルにバイナリロギングを実行していないストレージエンジンを使用するには、特別な処理が必要です。
        </p></li><li class="listitem"><p>
          スレーブのテーブルに非トランザクションのストレージエンジンを使用する場合も、特別な処理が必要です。
        </p></li><li class="listitem"><p>
          マスターの <span class="command"><strong>mysqld</strong></span> は <code class="option">--ndb-log-update-as-write=0</code> または <code class="option">--ndb-log-update-as-write=OFF</code> で起動する必要があります。
        </p></li></ul></div><p>
      次のいくつかのパラグラフでは、ここで説明したそれぞれの問題の追加情報を示します。
    </p><p><b>NDB をほかのストレージエンジンに複製するときにサポートされていないマルチマスター </b>
        <code class="literal">NDB</code> からの異なるストレージエンジンへのレプリケーションの場合、2 つのデータベースの関係は、単純なマスタースレーブ関係である必要があります。つまり、循環レプリケーションまたはマスターマスターレプリケーションは MySQL Cluster とほかのストレージエンジン間でサポートされていません。
      </p><p>
      また、<code class="literal">NDB</code> および別のストレージエンジン間で複製する場合、複数のレプリケーションチャネルを構成できません。(ただし、MySQL Cluster データベースは複数のスレーブ MySQL Cluster データベースに同時に複製<span class="emphasis"><em>できます</em></span>。)マスターが <code class="literal">NDB</code> テーブルを使用している場合、複数の MySQL Server がすべての変更のバイナリログを維持することは、引き続き可能です。ただし、スレーブがマスターを変えた場合 (フェイルオーバー)、新しいマスタースレーブ関係はスレーブで明示的に定義される必要があります。
    </p><p><b>バイナリロギングを実行していないスレーブのストレージエンジンへの NDB の複製 </b>
        <a class="indexterm" name="idm139979017496288"></a>独自のバイナリロギングを処理しないストレージエンジンを使用するスレーブに MySQL Cluster から複製を試みると、レプリケーションプロセスは次のエラーにより停止します: <span class="errortext">Binary logging not possible ... Statement cannot be written atomically since more than one engine involved and at least one engine is self-logging</span> (エラー <span class="errorcode">1595</span>)。次の方法のいずれかで、この問題を回避できます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>スレーブのバイナリロギングをオフにします </b>
            これを実現するには、<code class="literal">sql_log_bin = 0</code> を設定します。
          </p></li><li class="listitem"><p><b>mysql.ndb_apply_status テーブルに使用されるストレージエンジンを変更します </b>
            このテーブルが独自のバイナリロギングを処理しないエンジンを使用することになるため、競合も解消できます。これを行うには、スレーブで <code class="literal">ALTER TABLE mysql.ndb_apply_status ENGINE=MyISAM</code> などのステートメントを発行します。スレーブで非 <code class="literal">NDB</code> ストレージエンジンを使用する場合、この実行は安全です。これは、複数のスレーブ SQL ノードの同期の維持について気にする必要がないためです。
          </p></li><li class="listitem"><p><b>スレーブでの mysql.ndb_apply_status テーブルへの変更を除外します </b>
            これを行うには、スレーブの SQL ノードを <code class="option">--replicate-ignore-table=mysql.ndb_apply_status</code> で起動します。レプリケーションでほかのテーブルを無視する必要がある場合、代わりに適切な <code class="option">--replicate-wild-ignore-table</code> オプションを使用することをお勧めします。
          </p></li></ul></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
        <code class="literal">mysql.ndb_apply_status</code> のレプリケーションまたはバイナリロギングを無効にしたり、ある MySQL Cluster から別の MySQL Cluster に複製するときに、このテーブルに使用されるストレージエンジンを変更したり<span class="emphasis"><em>しないで</em></span>ください。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-issues-filtering" title="MySQL Cluster 間のレプリケーションで使用する、レプリケーションおよびバイナリロギングのフィルタリングルール">MySQL Cluster 間のレプリケーションで使用する、レプリケーションおよびバイナリロギングのフィルタリングルール</a>を参照してください。
      </p></div><p><a name="mysql-cluster-replication-ndb-to-nontransactional"></a><b>NDB から非トランザクションストレージエンジンへのレプリケーション </b>
        <code class="literal">MyISAM</code> などの非トランザクションストレージエンジンに <code class="literal">NDB</code> から複製する場合、<code class="literal">INSERT ... ON DUPLICATE KEY UPDATE</code> ステートメントを複製するときに、不要な重複キーエラーが発生することがあります。これらを抑止するには、強制的に更新を (更新としてではなく) 書き込みとしてログを取るようにする <code class="option">--ndb-log-update-as-write=0</code> を使用します。
      </p><p><a name="mysql-cluster-replication-issues-filtering"></a><b>MySQL Cluster 間のレプリケーションで使用する、レプリケーションおよびバイナリロギングのフィルタリングルール </b>
        <code class="option">--replicate-do-*</code>、<code class="option">--replicate-ignore-*</code>、<code class="option">--binlog-do-db</code>、または <code class="option">--binlog-ignore-db</code> のいずれかのオプションを使用して、複製されるデータベースまたはテーブルを除外する場合、<code class="literal">mysql.ndb_apply_status</code> のレプリケーションまたはバイナリロギングをブロックしないように注意する必要があります。このことは、MySQL Cluster 間のレプリケーションが適切に動作するために必要です。特に、次の点に留意しておく必要があります。
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          <code class="option">--replicate-do-db=<em class="replaceable"><code>db_name</code></em></code> を使用すると (およびほかの <code class="option">--replicate-do-*</code> または <code class="option">--replicate-ignore-*</code> オプションを使用しない)、データベース <em class="replaceable"><code>db_name</code></em> にあるテーブル<span class="emphasis"><em>だけ</em></span>が複製されます。この場合、<code class="option">--replicate-do-db=mysql</code>、<code class="option">--binlog-do-db=mysql</code>、または <code class="option">--replicate-do-table=mysql.ndb_apply_status</code> も使用して、確実に <code class="literal">mysql.ndb_apply_status</code> をスレーブに移入する必要があります。
        </p><p>
          <code class="option">--binlog-do-db=<em class="replaceable"><code>db_name</code></em></code> を使用すると (およびほかの <code class="option">--binlog-do-db</code> オプションを使用しない)、データベース <em class="replaceable"><code>db_name</code></em> にあるテーブルへの変更<span class="emphasis"><em>のみ</em></span>がバイナリログに書き込まれます。この場合、<code class="option">--replicate-do-db=mysql</code>、<code class="option">--binlog-do-db=mysql</code>、または <code class="option">--replicate-do-table=mysql.ndb_apply_status</code> も使用して、確実に <code class="literal">mysql.ndb_apply_status</code> をスレーブに移入する必要があります。
        </p></li><li class="listitem"><p>
          <code class="option">--replicate-ignore-db=mysql</code> を使用すると、<code class="literal">mysql</code> データベースにあるテーブルは複製されません。この場合、<code class="option">--replicate-do-table=mysql.ndb_apply_status</code> も使用して、確実に <code class="literal">mysql.ndb_apply_status</code> を複製する必要があります。
        </p><p>
          <code class="option">--binlog-ignore-db=mysql</code> を使用すると、<code class="literal">mysql</code> データベースにあるテーブルへの変更はバイナリログに書き込まれません。この場合、<code class="option">--replicate-do-table=mysql.ndb_apply_status</code> も使用して、確実に <code class="literal">mysql.ndb_apply_status</code> を複製する必要があります。
        </p></li></ol></div><p>
      各レプリケーションルールには次のことも必要になります。
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          独自の <code class="option">--replicate-do-*</code> または <code class="option">--replicate-ignore-*</code> オプション。複数のルールはレプリケーションの 1 つのフィルタリングオプションで表現できません。これらのルールについての情報は、<a class="xref" href="replication.html#replication-options" title="17.1.4 レプリケーションおよびバイナリロギングのオプションと変数">セクション17.1.4「レプリケーションおよびバイナリロギングのオプションと変数」</a>を参照してください。
        </p></li><li class="listitem"><p>
          独自の <code class="option">--binlog-do-db</code> または <code class="option">--binlog-ignore-db</code> オプション。複数のルールはバイナリログの 1 つのフィルタリングオプションで表現できません。これらのルールについての情報は、<a class="xref" href="server-administration.html#binary-log" title="5.2.4 バイナリログ">セクション5.2.4「バイナリログ」</a>を参照してください。
        </p></li></ol></div><p>
      <code class="literal">NDB</code> 以外のストレージエンジンを使用するスレーブに MySQL Cluster を複製する場合、このセクションの別のところで説明するように、直前で説明した考慮事項は当てはまりません。
    </p><p><b>MySQL Cluster レプリケーションと IPv6 </b>
        現在、NDB API と MGM API は IPv6 をサポートしていません。ただし、MySQL Server (MySQL Cluster で SQL ノードとして動作する MySQL Server を含む) は IPv6 を使用してほかの MySQL Server に接続できます。つまり、次の図の点線の矢印で示すように、マスターとスレーブの SQL ノードを接続するために、IPv6 を使用して MySQL Cluster 間を複製できます。
      </p><div class="mediaobject"><img src="images/cluster-replication-ipv6.png" width="625" height="400" alt="レプリケーションで MySQL Cluster の SQL ノード間の接続に使用される IPv6"></div><p>
      ただし、MySQL Cluster <span class="emphasis"><em>内</em></span>で発生するすべての接続 (前の図の実線の矢印で示した接続) は IPv4 を使用する必要があります。言い換えると、すべての MySQL Cluster のデータノード、管理サーバー、および管理クライアントは、IPv4 を使用して互いにアクセスできる必要があります。また、SQL ノードは IPv4 を使用してクラスタと通信する必要があります。
    </p><p>
      現在、NDB と MGM の API では IPv6 をサポートしていないため、これらの API を使用して書かれたアプリケーションは、IPv4 を使用してすべての接続を作ることも必要です。
    </p><p><b>属性の昇格と降格 </b>
        MySQL Cluster レプリケーションでは、属性の昇格と降格がサポートされています。後者の実装では、不可逆型と可逆型の変換は区別され、スレーブでのこれらの変換の使用は、<code class="literal">slave_type_conversions</code> グローバルシステム変数を設定することで制御できます。
      </p><p>
      MySQL Cluster の属性の昇格と降格についての詳細は、<a class="xref" href="replication.html#replication-features-attribute-promotion" title="行ベースレプリケーション: 属性の昇格と降格">行ベースレプリケーション: 属性の昇格と降格</a>を参照してください。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-replication-schema"></a>18.6.4 MySQL Cluster レプリケーションスキーマとテーブル</h3></div></div></div><a class="indexterm" name="idm139979017418272"></a><a class="indexterm" name="idm139979017416048"></a><a class="indexterm" name="idm139979017414176"></a><a class="indexterm" name="idm139979017412240"></a><a class="indexterm" name="idm139979017410336"></a><a class="indexterm" name="idm139979017408336"></a><a class="indexterm" name="idm139979017406400"></a><p>
      MySQL Cluster でのレプリケーションでは、複製されるクラスタとレプリケーションスレーブ (スレーブは単一のサーバーである場合やクラスタである場合があります) の両方で SQL ノードとしての役割を果たす各 MySQL Server インスタンス上の <code class="literal">mysql</code> データベースの数多くの専用のテーブルを使用します。これらのテーブルは <span class="command"><strong>mysql_install_db</strong></span> スクリプトによって MySQL のインストールプロセス中に作成され、バイナリログのインデックスデータを保存するテーブルを含みます。<code class="literal">ndb_binlog_index</code> テーブルは各 MySQL サーバーに対してローカルであり、クラスタ化には使用されず、<code class="literal">MyISAM</code> ストレージエンジンを使用します。すなわち、これは各 <span class="command"><strong>mysqld</strong></span> で個別に作成され、マスタークラスタに参加する必要があります。(ただし、バイナリログ自身には、複製されるクラスタ内にあるすべての MySQL サーバーからの更新が含まれます。)このテーブルは次のように定義されます。
    </p><pre class="programlisting">
CREATE TABLE `ndb_binlog_index` (
    `Position` BIGINT(20) UNSIGNED NOT NULL,
    `File` VARCHAR(255) NOT NULL,
    `epoch` BIGINT(20) UNSIGNED NOT NULL,
    `inserts` INT(10) UNSIGNED NOT NULL,
    `updates` INT(10) UNSIGNED NOT NULL,
    `deletes` INT(10) UNSIGNED NOT NULL,
    `schemaops` INT(10) UNSIGNED NOT NULL,
    `orig_server_id` INT(10) UNSIGNED NOT NULL,
    `orig_epoch` BIGINT(20) UNSIGNED NOT NULL,
    `gci` INT(10) UNSIGNED NOT NULL,
    `next_position` bigint(20) unsigned NOT NULL,
    `next_file` varchar(255) NOT NULL,
    PRIMARY KEY (`epoch`,`orig_server_id`,`orig_epoch`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1;
</pre><p>
      このテーブルのサイズは、バイナリログファイル当たりのエポック数およびバイナリログファイル数に依存します。一般的に、バイナリログファイル当たりのエポック数は、エポックごとに作成されるバイナリログの量とバイナリログファイルのサイズに依存し、エポックが小さくなるとファイル当たりのエポックが増えます。空のエポックは、<code class="option">--ndb-log-empty-epochs</code> オプションが <code class="literal">OFF</code> のときでも、<code class="filename">ndb_binlog_index</code> テーブルに挿入される結果となり、ファイル当たりのエントリ数はファイルが使用中である時間の長さに依存する点に注意してください。すなわち、次のとおりです。
    </p><pre class="programlisting">
[number of epochs per file] = [time spent per file] / <code class="literal">TimeBetweenEpochs</code>  
</pre><p>
      ビジーな MySQL Cluster は定期的にバイナリログに書き込み、おそらく、ビジーでない MySQL Cluster よりも頻繁にバイナリログファイルを交替します。すなわち、<code class="option">--ndb-log-empty-epochs=ON</code> である<span class="quote">「<span class="quote">ビジーでない</span>」</span> MySQL Cluster は、大量のアクティビティーを持つ MySQL Cluster に比べて、実際にはファイル当たりの <code class="literal">ndb_binlog_index</code> 行数をかなり多く持つことができます。
    </p><p>
      <span class="command"><strong>mysqld</strong></span> が <code class="option">--ndb-log-orig</code> オプションで起動されると、<code class="literal">orig_server_id</code> と <code class="literal">orig_epoch</code> のカラムに、それぞれ、イベントが発生したサーバーの ID と、イベントが発生元のサーバーで行なったエポックが格納されます。これは、複数のマスターを使用する MySQL Cluster のレプリケーションのセットアップに役立ちます。マルチマスターのセットアップでスレーブに適用されるいちばん高いエポックにいちばん近いバイナリログの位置を検出するために使用される <code class="literal">SELECT</code> ステートメントは (<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-multi-master" title="18.6.10 MySQL Cluster レプリケーション: マルチマスターと循環レプリケーション">セクション18.6.10「MySQL Cluster レプリケーション: マルチマスターと循環レプリケーション」</a>を参照してください)、これら 2 つのカラム (インデックス化されていません) を使用します。これにより、特にマスターが <code class="option">--ndb-log-empty-epochs=ON</code> で実行しているときに、クエリーはテーブルスキャンを実行しなければならないため、フェイルオーバーを試みるときにパフォーマンスの問題につながる可能性があります。ここで示すように、これらのカラムにインデックスを追加することで、マルチマスターのフェイルオーバー時間を改善できます。
    </p><pre class="programlisting">
ALTER TABLE mysql.ndb_binlog_index 
    ADD INDEX orig_lookup USING BTREE (orig_server_id, orig_epoch);
</pre><p>
      このインデックスを追加しても、1 つのマスターから 1 つのスレーブに複製する場合はメリットがありません。これは、このような場合にバイナリログの位置の取得に使用するクエリーは <code class="literal">orig_server_id</code> または <code class="literal">orig_epoch</code> を利用しないためです。
    </p><p>
      <code class="literal">next_position</code> および <code class="literal">next_file</code> カラムの使用についての詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-failover" title="18.6.8 MySQL Cluster レプリケーションを使用したフェイルオーバーの実装">セクション18.6.8「MySQL Cluster レプリケーションを使用したフェイルオーバーの実装」</a>を参照してください。
    </p><p>
      次の図は、MySQL Cluster レプリケーションのマスターサーバー、そのバイナリログのインジェクタスレッド、および <code class="literal">mysql.ndb_binlog_index</code> テーブルの関係を示します。
    </p><div class="mediaobject"><img src="images/cluster-replication-binlog-injector.png" width="640" height="481" alt="レプリケーションマスターのクラスタ、binlog インジェクタスレッド、および ndb_binlog_index テーブル"></div><a class="indexterm" name="idm139979017367648"></a><a class="indexterm" name="idm139979017365536"></a><p>
      <code class="literal">ndb_apply_status</code> という名前の追加テーブルは、マスターからスレーブに複製された操作の記録を取るために使用されます。<code class="literal">ndb_binlog_index</code> の場合と異なり、このテーブルのデータは (スレーブ) クラスタのどの SQL ノードにも特定されていないため、ここで示すように、<code class="literal">ndb_apply_status</code> は <code class="literal">NDBCLUSTER</code> ストレージエンジンを使用できます。
    </p><pre class="programlisting">
CREATE TABLE `ndb_apply_status` (
    `server_id`   INT(10) UNSIGNED NOT NULL,
    `epoch`       BIGINT(20) UNSIGNED NOT NULL,
    `log_name`    VARCHAR(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
    `start_pos`   BIGINT(20) UNSIGNED NOT NULL,
    `end_pos`     BIGINT(20) UNSIGNED NOT NULL,
    PRIMARY KEY (`server_id`) USING HASH
) ENGINE=NDBCLUSTER   DEFAULT CHARSET=latin1;
</pre><p>
      <code class="literal">ndb_apply_status</code> テーブルはスレーブでのみ移入されます。このことは、マスターでは、このテーブルに行は含まれないことを意味しています。このため、ここで <code class="literal">ndb_apply_status</code> に割り当てられる <code class="literal">DataMemory</code> または <code class="literal">IndexMemory</code> を考慮する必要がありません。
    </p><p>
      このテーブルはマスターで発生したデータから移入されるため、複製は許可されます。ただし、レプリケーションのフィルタリングルールまたはバイナリログのフィルタリングルールによって、意図せずにスレーブが <code class="literal">ndb_apply_status</code> を更新しなかったり、マスターがバイナリログに書き込まなかったりすると、クラスタ間のレプリケーションが正しく動作しない場合があります。このようなフィルタリングルールに起因する潜在的な問題の詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-issues-filtering" title="MySQL Cluster 間のレプリケーションで使用する、レプリケーションおよびバイナリロギングのフィルタリングルール">MySQL Cluster 間のレプリケーションで使用する、レプリケーションおよびバイナリロギングのフィルタリングルール</a>を参照してください。
    </p><a class="indexterm" name="idm139979017351296"></a><p>
      <code class="literal">ndb_binlog_index</code> と <code class="literal">ndb_apply_status</code> のテーブルは、ユーザーによって明示的に複製されることはないため、<code class="literal">mysql</code> データベースに作成されます。通常、これらのテーブルのどちらかを作成または維持するには、ユーザーの介入は必要ありません。<code class="literal">ndb_binlog_index</code> と <code class="literal">ndb_apply_status</code> の両方とも <code class="literal">NDB</code> バイナリログ (binlog) のインジェクタスレッドによって維持されるためです。これにより、マスターの <span class="command"><strong>mysqld</strong></span> プロセスは、<code class="literal">NDB</code> ストレージエンジンによって実行された変更への更新が維持されます。<code class="literal">NDB</code> <em class="firstterm">binlog インジェクタスレッド</em>は <code class="literal">NDB</code> ストレージエンジンから直接イベントを受け取ります。<code class="literal">NDB</code> インジェクタは、クラスタ内のすべてのデータイベントを取得する役割を担い、データを変更、挿入、または削除するすべてのイベントが <code class="literal">ndb_binlog_index</code> テーブルに記録されたかを確認します。スレーブの I/O スレッドは、マスターのバイナリログからスレーブのリレーログにイベントを転送します。
    </p><p>
      ただし、レプリケーション用に MySQL Cluster を準備する初期の段階で、これらのテーブルの存在と完全性を確認することをお勧めします。マスターで <code class="literal">mysql.ndb_binlog_index</code> テーブルに直接クエリーを発行することで、バイナリログに記録されたイベントデータを参照できます。これは、レプリケーションマスターまたはスレーブの MySQL サーバーのどちらかで <code class="literal">SHOW BINLOG EVENTS</code> ステートメントを使用して実現することもできます。(<a class="xref" href="sql-syntax.html#show-binlog-events" title="13.7.5.3 SHOW BINLOG EVENTS 構文">セクション13.7.5.3「SHOW BINLOG EVENTS 構文」</a>を参照してください。)
    </p><p>
      <code class="literal">SHOW ENGINE NDB STATUS</code> の出力から有効な情報を取得することもできます。
    </p><a class="indexterm" name="idm139979017331680"></a><p>
      <code class="literal">ndb_schema</code> テーブルは、<code class="literal">NDB</code> テーブルに行われたスキーマの変更を追跡するために使用されます。ここで示すように定義されます。
    </p><pre class="programlisting">
CREATE TABLE ndb_schema (
    `db` VARBINARY(63) NOT NULL,
    `name` VARBINARY(63) NOT NULL,
    `slock` BINARY(32) NOT NULL,
    `query` BLOB NOT NULL,
    `node_id` INT UNSIGNED NOT NULL,
    `epoch` BIGINT UNSIGNED NOT NULL,
    `id` INT UNSIGNED NOT NULL,
    `version` INT UNSIGNED NOT NULL,
    `type` INT UNSIGNED NOT NULL,
    PRIMARY KEY USING HASH (db,name)
) ENGINE=NDB   DEFAULT CHARSET=latin1;
</pre><p>
      このセクションで前に述べた 2 つのテーブルとは異なり、<code class="literal">ndb_schema</code> テーブルは MySQL <code class="literal">SHOW</code> ステートメントでも、<code class="literal">INFORMATION_SCHEMA</code> テーブルでも参照できません。ただし、ここで示すように、<span class="command"><strong>ndb_show_tables</strong></span> の出力で参照できます。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ndb_show_tables -t 2</code></strong>
id    type                 state    logging database     schema   name
4     UserTable            Online   Yes     mysql        def      ndb_apply_status
5     UserTable            Online   Yes     ndbworld     def      City
6     UserTable            Online   Yes     ndbworld     def      Country
3     UserTable            Online   Yes     mysql        def      NDB$BLOB_2_3
7     UserTable            Online   Yes     ndbworld     def      CountryLanguage
<span class="emphasis"><em>2     UserTable            Online   Yes     mysql        def      ndb_schema</em></span>

NDBT_ProgramExit: 0 - OK
</pre><p>
      ここで示すように、<span class="command"><strong>mysql</strong></span> およびほかの MySQL クライアントアプリケーションでこのテーブルの <code class="literal">SELECT</code> を発行することも可能です。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT * FROM mysql.ndb_schema WHERE name='City' \G</code></strong>
*************************** 1. row ***************************
     db: ndbworld
   name: City
  slock:
  query: alter table City engine=ndb
node_id: 4
  epoch: 0
     id: 0
version: 0
   type: 7
1 row in set (0.00 sec)
</pre><p>
      これは、アプリケーションのデバッグで有効となる場合があります。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        <code class="literal">NDB</code> テーブルでスキーマの変更を行う場合、アプリケーションは <code class="literal">ALTER TABLE</code> ステートメントを発行した MySQL クライアント接続でこのステートメントが戻るまで待ってから、更新されたテーブル定義の使用を試みます。
      </p></div><p>
      <code class="literal">ndb_apply_status</code> テーブルまたは <code class="literal">ndb_schema</code> テーブルがスレーブに存在しない場合、<span class="command"><strong>ndb_restore</strong></span> は存在しないテーブル (または複数のテーブル) を再作成します (Bug #14612)。
    </p><p>
      MySQL Cluster レプリケーションの競合の解決には、追加の <code class="literal">mysql.ndb_replication</code> テーブルが必要です。現在、このテーブルは手動で作成する必要があります。これを行う方法については、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="18.6.11 MySQL Cluster レプリケーションの競合解決">セクション18.6.11「MySQL Cluster レプリケーションの競合解決」</a>を参照してください。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-replication-preparation"></a>18.6.5 レプリケーションのための MySQL Cluster の準備</h3></div></div></div><a class="indexterm" name="idm139979017305408"></a><a class="indexterm" name="idm139979017303232"></a><p>
      レプリケーションのための MySQL Cluster の準備は、次のステップで構成されます。
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          すべての MySQL サーバーに対してバージョンの互換性を確認します (<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-general" title="18.6.2 MySQL Cluster レプリケーションの一般要件">セクション18.6.2「MySQL Cluster レプリケーションの一般要件」</a>を参照してください)。
        </p></li><li class="listitem"><p>
          マスタークラスタで適切な権限を持つスレーブのアカウントを作成します。
        </p><pre class="programlisting">
mysql<em class="replaceable"><code>M</code></em>&gt; <strong class="userinput"><code>GRANT REPLICATION SLAVE</code></strong>
     -&gt; <strong class="userinput"><code>ON *.* TO '<em class="replaceable"><code>slave_user</code></em>'@'<em class="replaceable"><code>slave_host</code></em>'</code></strong>
     -&gt; <strong class="userinput"><code>IDENTIFIED BY '<em class="replaceable"><code>slave_password</code></em>';</code></strong>
</pre><p>
          前のステートメントで、<em class="replaceable"><code>slave_user</code></em> はスレーブアカウントのユーザー名、<em class="replaceable"><code>slave_host</code></em> はレプリケーションスレーブのホスト名または IP アドレス、<em class="replaceable"><code>slave_password</code></em> はこのアカウントに割り当てるパスワードです。
        </p><p>
          たとえば、名前が <span class="quote">「<span class="quote"><code class="literal">myslave</code></span>」</span> のスレーブのユーザーアカウントを作成するには、名前が <span class="quote">「<span class="quote"><code class="literal">rep-slave</code></span>」</span> のホストからログインし、パスワード <span class="quote">「<span class="quote"><code class="literal">53cr37</code></span>」</span> を使用して、次の <code class="literal">GRANT</code> ステートメントを使用します。
        </p><pre class="programlisting">
mysql<em class="replaceable"><code>M</code></em>&gt; <strong class="userinput"><code>GRANT REPLICATION SLAVE</code></strong>
     -&gt; <strong class="userinput"><code>ON *.* TO 'myslave'@'rep-slave'</code></strong>
     -&gt; <strong class="userinput"><code>IDENTIFIED BY '53cr37';</code></strong>
</pre><p>
          セキュリティー上、レプリケーションスレーブのアカウントには (ほかの目的に使用しない) 一意のユーザーアカウントを使用することをお勧めします。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979017281376"></a> スレーブがマスターを使用するように構成します。MySQL Monitor を使用すると、<code class="literal">CHANGE MASTER TO</code> ステートメントを使用してこれを実現できます。
        </p><pre class="programlisting">
mysql<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>CHANGE MASTER TO</code></strong>
     -&gt; <strong class="userinput"><code>MASTER_HOST='<em class="replaceable"><code>master_host</code></em>',</code></strong>
     -&gt; <strong class="userinput"><code>MASTER_PORT=<em class="replaceable"><code>master_port</code></em>,</code></strong>
     -&gt; <strong class="userinput"><code>MASTER_USER='<em class="replaceable"><code>slave_user</code></em>',</code></strong>
     -&gt; <strong class="userinput"><code>MASTER_PASSWORD='<em class="replaceable"><code>slave_password</code></em>';</code></strong>
</pre><p>
          前のステートメントでは、<em class="replaceable"><code>master_host</code></em> はレプリケーションマスターのホスト名または IP アドレス、<em class="replaceable"><code>master_port</code></em> はスレーブがマスターに接続するために使用されるポート、<em class="replaceable"><code>slave_user</code></em> はマスターでスレーブ用にセットアップされたユーザー名、<em class="replaceable"><code>slave_password</code></em> は前のステップでそのユーザーアカウント用に設定されたパスワードです。
        </p><p>
          たとえば、ホスト名が <span class="quote">「<span class="quote"><code class="literal">rep-master</code></span>」</span> の MySQL サーバーから、前のステップで作成されたレプリケーションスレーブのアカウントを使用して複製するようにスレーブに伝えるには、次のステートメントを使用します。
        </p><pre class="programlisting">
mysql<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>CHANGE MASTER TO</code></strong>
     -&gt; <strong class="userinput"><code>MASTER_HOST='rep-master',</code></strong>
     -&gt; <strong class="userinput"><code>MASTER_PORT=3306,</code></strong>
     -&gt; <strong class="userinput"><code>MASTER_USER='myslave',</code></strong>
     -&gt; <strong class="userinput"><code>MASTER_PASSWORD='53cr37';</code></strong>
</pre><p>
          このステートメントで使用できるオプションの完全なリストについては、<a class="xref" href="sql-syntax.html#change-master-to" title="13.4.2.1 CHANGE MASTER TO 構文">セクション13.4.2.1「CHANGE MASTER TO 構文」</a>を参照してください。
        </p><p>
          レプリケーションのバックアップ機能を提供するには、レプリケーションプロセスを起動する前に、<code class="option">--ndb-connectstring</code> オプションをスレーブの <code class="filename">my.cnf</code> ファイルに追加することも必要です。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-backups" title="18.6.9 MySQL Cluster レプリケーションを使用した MySQL Cluster バックアップ">セクション18.6.9「MySQL Cluster レプリケーションを使用した MySQL Cluster バックアップ」</a>を参照してください。
        </p><p>
          レプリケーションスレーブに <code class="filename">my.cnf</code> で設定できる追加オプションは、<a class="xref" href="replication.html#replication-options" title="17.1.4 レプリケーションおよびバイナリロギングのオプションと変数">セクション17.1.4「レプリケーションおよびバイナリロギングのオプションと変数」</a>を参照してください。
        </p></li><li class="listitem"><p>
          マスタークラスタがすでに使用中である場合、マスターのバックアップを作成し、それをスレーブにロードして、スレーブがマスターと同期を取る時間を削減できます。スレーブも MySQL Cluster を実行している場合、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-backups" title="18.6.9 MySQL Cluster レプリケーションを使用した MySQL Cluster バックアップ">セクション18.6.9「MySQL Cluster レプリケーションを使用した MySQL Cluster バックアップ」</a> で説明されたバックアップとリストアの手順を使用して、これを実現できます。
        </p><pre class="programlisting">
ndb-connectstring=<em class="replaceable"><code>management_host</code></em>[:<em class="replaceable"><code>port</code></em>]
</pre><p>
          レプリケーションスレーブで MySQL Cluster を使用して<span class="emphasis"><em>いない</em></span>場合、レプリケーションマスターでこのコマンドを使用してバックアップを作成できます。
        </p><pre class="programlisting">
shell<em class="replaceable"><code>M</code></em>&gt; <strong class="userinput"><code>mysqldump --master-data=1</code></strong>
</pre><p>
          次に、ダンプファイルをスレーブにコピーして、その結果得られるデータダンプをスレーブにインポートします。この後、ここに示すように <span class="command"><strong>mysql</strong></span> クライアントを使用してデータをダンプファイルからスレーブのデータベースにインポートできます。ここで、<em class="replaceable"><code>dump_file</code></em> はマスターで <span class="command"><strong>mysqldump</strong></span> を使用して生成されたファイルの名前であり、<em class="replaceable"><code>db_name</code></em> は複製されるデータベースの名前です。
        </p><pre class="programlisting">
shell<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>mysql -u root -p <em class="replaceable"><code>db_name</code></em> &lt; <em class="replaceable"><code>dump_file</code></em></code></strong>
</pre><p>
          <span class="command"><strong>mysqldump</strong></span> で使用するオプションの完全なリストは、<a class="xref" href="programs.html#mysqldump" title="4.5.4 mysqldump — データベースバックアッププログラム">セクション4.5.4「<span class="command"><strong>mysqldump</strong></span> — データベースバックアッププログラム」</a>を参照してください。
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            この方法でスレーブにデータをコピーする場合、すべてのデータがロードされる前に、スレーブがマスターに接続を試みてレプリケーションを開始しないようにするため、コマンド行で <code class="option">--skip-slave-start</code> オプションを使用してスレーブが起動されたことを確認する必要があります。または、スレーブの <code class="filename">my.cnf</code> ファイルに <code class="literal">skip-slave-start</code> 含める必要があります。データのロードが完了したら、次の 2 つのセクションで説明する追加ステップに従います。
          </p></div></li><li class="listitem"><p>
          レプリケーションマスターとして動作している各 MySQL サーバーが、一意のサーバー ID で構成され、バイナリロギングが有効化された状態で行フォーマットを使用して構成されていることを確認します。(<a class="xref" href="replication.html#replication-formats" title="17.1.2 レプリケーション形式">セクション17.1.2「レプリケーション形式」</a>を参照してください。)これらのオプションは、マスターサーバーの <code class="filename">my.cnf</code> ファイルで、またはマスターの <span class="command"><strong>mysqld</strong></span> プロセスを起動するときにコマンド行で設定できます。後者のオプションに関する情報については、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-starting" title="18.6.6 MySQL Cluster レプリケーションの起動 (レプリケーションチャネルが 1 つ)">セクション18.6.6「MySQL Cluster レプリケーションの起動 (レプリケーションチャネルが 1 つ)」</a>を参照してください。
        </p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-replication-starting"></a>18.6.6 MySQL Cluster レプリケーションの起動 (レプリケーションチャネルが 1 つ)</h3></div></div></div><a class="indexterm" name="idm139979017230496"></a><p>
      このセクションでは、1 つのレプリケーションチャネルを使用する MySQL Cluster レプリケーションを起動するための手順の概要について説明します。
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          このコマンドを発行して MySQL レプリケーションのマスターサーバーを起動します。
        </p><pre class="programlisting">
shell<em class="replaceable"><code>M</code></em>&gt; <strong class="userinput"><code>mysqld --ndbcluster --server-id=<em class="replaceable"><code>id</code></em> \</code></strong>
        <strong class="userinput"><code>--log-bin &amp;</code></strong>
</pre><p>
          前のステートメントで、<em class="replaceable"><code>id</code></em> はこのサーバーの一意の ID です (<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-general" title="18.6.2 MySQL Cluster レプリケーションの一般要件">セクション18.6.2「MySQL Cluster レプリケーションの一般要件」</a>を参照してください)。これは、適切なロギング形式を使用するバイナリロギングを有効にして、サーバーの <span class="command"><strong>mysqld</strong></span> プロセスを起動します。
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            <code class="option">--binlog-format=MIXED</code> でマスターを起動することもできます。この場合、クラスタ間で複製するときに行ベースのレプリケーションが自動的に使用されます。<code class="literal">STATEMENT</code> ベースのバイナリロギングは MySQL Cluster レプリケーションではサポートされていません (<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-general" title="18.6.2 MySQL Cluster レプリケーションの一般要件">セクション18.6.2「MySQL Cluster レプリケーションの一般要件」</a>を参照してください)。
          </p></div></li><li class="listitem"><p>
          ここで示すように、MySQL レプリケーションのスレーブサーバーを起動します。
        </p><pre class="programlisting">
shell<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>mysqld --ndbcluster --server-id=<em class="replaceable"><code>id</code></em> &amp;</code></strong>
</pre><p>
          ここで示すコマンドで、<em class="replaceable"><code>id</code></em> はスレーブサーバーの一意の ID です。レプリケーションスレーブでロギングを有効にする必要はありません。
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            レプリケーションをすぐに開始したくない場合、このコマンドで <code class="option">--skip-slave-start</code> オプションを使用するか、スレーブサーバーの <code class="filename">my.cnf</code> ファイルに <code class="literal">skip-slave-start</code> を含める必要があります。このオプションを使用すると、以下のステップ 4 で説明するように、適切な <code class="literal">START SLAVE</code> ステートメントが発行されるまで、レプリケーションの開始が遅延されます。
          </p></div></li><li class="listitem"><p>
          マスターサーバーのレプリケーションバイナリログとスレーブサーバーとの同期を取る必要があります。これまでにマスターでバイナリロギングが実行していなかった場合、次のステートメントをスレーブで実行します。
        </p><pre class="programlisting">
mysql<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>CHANGE MASTER TO</code></strong>
     -&gt; <strong class="userinput"><code>MASTER_LOG_FILE='',</code></strong>
     -&gt; <strong class="userinput"><code>MASTER_LOG_POS=4;</code></strong>
</pre><p>
          これは、ログの開始ポイントからマスターのバイナリログを読み取るようにスレーブに指示します。ほかの方法で、つまり、バックアップを使用してマスターからデータをロードする場合、<code class="literal">MASTER_LOG_FILE</code> および <code class="literal">MASTER_LOG_POS</code> に使用する適切な値を取得する方法について、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-failover" title="18.6.8 MySQL Cluster レプリケーションを使用したフェイルオーバーの実装">セクション18.6.8「MySQL Cluster レプリケーションを使用したフェイルオーバーの実装」</a>を参照してください。
        </p></li><li class="listitem"><p>
          最後に、レプリケーションスレーブで <span class="command"><strong>mysql</strong></span> クライアントからこのコマンドを発行して、レプリケーションの適用を開始するようにスレーブに指示する必要があります。
        </p><pre class="programlisting">
mysql<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>START SLAVE;</code></strong>
</pre><p>
          これにより、レプリケーションデータのマスターからスレーブへの転送も開始します。
        </p></li></ol></div><p>
      次のセクションで説明する手順に類似した方法で、2 つのレプリケーションチャネルを使用することも可能です。この方法と 1 つのレプリケーションチャネルを使用する方法との違いは<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-two-channels" title="18.6.7 2 つのレプリケーションチャネルを使用する MySQL Cluster レプリケーション">セクション18.6.7「2 つのレプリケーションチャネルを使用する MySQL Cluster レプリケーション」</a>で説明しています。
    </p><a class="indexterm" name="idm139979017193472"></a><p>
      <em class="firstterm">バッチ更新</em>を有効にして、クラスタのレプリケーションのパフォーマンスを向上することも可能です。スレーブの <span class="command"><strong>mysqld</strong></span> プロセスで <code class="literal">slave_allow_batching</code> システム変数を設定することで、これを実現できます。通常、更新は受け取るとすぐに適用されます。しかし、バッチを使用すると、更新は 32K バイトがまとめて適用されるため、特に個々の更新が比較的小さい場合、スループットは向上しますが、CPU 利用率は低下する結果となる場合があります。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        スレーブのバッチ処理はエポックごとに機能します。複数のトランザクションに属する更新は同じバッチの一部として送ることができます。
      </p><p>
        すべての未処理の更新は、その更新の合計が 32K バイト未満であっても、エポックの最後に達したときに適用されます。
      </p></div><a class="indexterm" name="idm139979017186800"></a><p>
      バッチ処理は、実行時にオンとオフを切り替えることができます。実行時にこれを有効にするため、次の 2 つのステートメントのどちらかを使用できます。
    </p><pre class="programlisting">
SET GLOBAL slave_allow_batching = 1;
SET GLOBAL slave_allow_batching = ON;
</pre><p>
      特定のバッチによって問題が起きる場合 (作用により正しく複製されるように思えないステートメントなど)、スレーブのバッチ処理は次のステートメントのどちらかを使用して無効化できます。
    </p><pre class="programlisting">
SET GLOBAL slave_allow_batching = 0;
SET GLOBAL slave_allow_batching = OFF;
</pre><p>
      現在スレーブのバッチ処理が適切な <code class="literal">SHOW VARIABLES</code> ステートメントによって使用されているかどうかを、次のように確認できます。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SHOW VARIABLES LIKE 'slave%';</code></strong>
+---------------------------+-------+
| Variable_name             | Value |
+---------------------------+-------+
| slave_allow_batching      | ON    |
| slave_compressed_protocol | OFF   |
| slave_load_tmpdir         | /tmp  |
| slave_net_timeout         | 3600  |
| slave_skip_errors         | OFF   |
| slave_transaction_retries | 10    |
+---------------------------+-------+
6 rows in set (0.00 sec)
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-replication-two-channels"></a>18.6.7 2 つのレプリケーションチャネルを使用する MySQL Cluster レプリケーション</h3></div></div></div><a class="indexterm" name="idm139979017177136"></a><a class="indexterm" name="idm139979017174912"></a><p>
      さらに完成された例のシナリオでは、2 つのレプリケーションチャネルを使用することで冗長性を提供し、これによって、1 つのレプリケーションチャネルで発生する可能性のある障害を防ぐことを想定しています。これには合計 4 台のレプリケーションサーバーが必要で、2 台のマスターサーバーをマスタークラスタに、2 台のスレーブサーバーをスレーブクラスタに使用します。以後の説明では、一意の識別子が次のように割り当てられているものとします。
    </p><div class="informaltable"><table summary="この表には、前の本文で説明した MySQL クラスタのレプリケーションサーバーに対するサーバー ID (一意の識別子) の一覧を掲載しています。この表では、各クラスタレプリケーションサーバーの説明も記載します。" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">サーバー ID</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row">1</td><td>マスター - プライマリレプリケーションチャネル (<span class="emphasis"><em>M</em></span>)</td></tr><tr><td scope="row">2</td><td>マスター - セカンダリレプリケーションチャネル (<span class="emphasis"><em>M'</em></span>)</td></tr><tr><td scope="row">3</td><td>スレーブ - プライマリレプリケーションチャネル (<span class="emphasis"><em>S</em></span>)</td></tr><tr><td scope="row">4</td><td>スレーブ - セカンダリレプリケーションチャネル (<span class="emphasis"><em>S'</em></span>)</td></tr></tbody></table></div><p>
      2 つのチャネルを使用するレプリケーションの設定は、1 つのレプリケーションチャネルの設定と根本的に異なるわけではありません。最初に、プライマリおよびセカンダリのレプリケーションマスターに対する <span class="command"><strong>mysqld</strong></span> プロセスを起動し、次にプライマリおよびセカンダリのスレーブに対するプロセスを起動する必要があります。次に、各スレーブで <code class="literal">START SLAVE</code> ステートメントを発行すると、レプリケーションプロセスを開始できます。コマンドと、そのコマンドの発行に必要な順序を次に示します。
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          プライマリレプリケーションマスターを起動します。
        </p><pre class="programlisting">
shell<em class="replaceable"><code>M</code></em>&gt; <strong class="userinput"><code>mysqld --ndbcluster --server-id=1 \</code></strong>
               <strong class="userinput"><code>--log-bin &amp;</code></strong>
</pre></li><li class="listitem"><p>
          セカンダリレプリケーションマスターを起動します。
        </p><pre class="programlisting">
shell<em class="replaceable"><code>M'</code></em>&gt; <strong class="userinput"><code>mysqld --ndbcluster --server-id=2 \</code></strong>
               <strong class="userinput"><code>--log-bin &amp;</code></strong>
</pre></li><li class="listitem"><p>
          プライマリレプリケーションのスレーブサーバーを起動します。
        </p><pre class="programlisting">
shell<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>mysqld --ndbcluster --server-id=3 \</code></strong>
               <strong class="userinput"><code>--skip-slave-start &amp;</code></strong>
</pre></li><li class="listitem"><p>
          セカンダリレプリケーションスレーブを起動します。
        </p><pre class="programlisting">
shell<em class="replaceable"><code>S'</code></em>&gt; <strong class="userinput"><code>mysqld --ndbcluster --server-id=4 \</code></strong>
                <strong class="userinput"><code>--skip-slave-start &amp;</code></strong>
</pre></li><li class="listitem"><p>
          最後に、ここで示すように、プライマリスレーブで <code class="literal">START SLAVE</code> ステートメントを実行して、プライマリチャネルでレプリケーションを開始します。
        </p><pre class="programlisting">
mysql<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>START SLAVE;</code></strong>
</pre><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">警告</div><p>
            この時点では、プライマリチャネルだけが起動されます。セカンダリレプリケーションチャネルは、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-failover" title="18.6.8 MySQL Cluster レプリケーションを使用したフェイルオーバーの実装">セクション18.6.8「MySQL Cluster レプリケーションを使用したフェイルオーバーの実装」</a>で説明しているように、プライマリレプリケーションチャネルで障害が起きた場合にのみ起動されます。複数のレプリケーションチャネルを同時に実行すると、不要な重複レコードがレプリケーションスレーブで作成される可能性があります。
          </p></div></li></ol></div><p>
      前に述べたとおり、レプリケーションスレーブでバイナリロギングを有効にする必要はありません。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-replication-failover"></a>18.6.8 MySQL Cluster レプリケーションを使用したフェイルオーバーの実装</h3></div></div></div><a class="indexterm" name="idm139979017132768"></a><a class="indexterm" name="idm139979017130560"></a><p>
      プライマリクラスタのレプリケーションプロセスが失敗した場合、セカンダリレプリケーションチャネルに切り替えることができます。次に、この実現に必要なステップについて説明します。
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          <a class="indexterm" name="idm139979017126256"></a>最新のグローバルチェックポイント (GCP) の時間を取得します。すなわち、スレーブクラスタの <code class="literal">ndb_apply_status</code> テーブルから最新のエポックを指定する必要があり、これは次のクエリーを使用して特定できます。
        </p><pre class="programlisting">
mysql<em class="replaceable"><code>S'</code></em>&gt; <strong class="userinput"><code>SELECT @latest:=MAX(epoch)</code></strong>
      -&gt;        <strong class="userinput"><code>FROM mysql.ndb_apply_status;</code></strong>
</pre></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979017120288"></a>ステップ 1 で示したクエリーから得た情報を使用して、マスタークラスタの <code class="literal">ndb_binlog_index</code> テーブルから対応するレコードを取得します。
        </p><p>
          MySQL Cluster NDB 7.3 では、次のクエリーを使用すると、マスターの <code class="literal">ndb_binlog_index</code> テーブルから必要なレコードを取得できます。
        </p><pre class="programlisting">
mysql<em class="replaceable"><code>M'</code></em>&gt; <strong class="userinput"><code>SELECT</code></strong>
      -&gt;     <strong class="userinput"><code>@file:=SUBSTRING_INDEX(next_file, '/', -1),</code></strong>
      -&gt;     <strong class="userinput"><code>@pos:=next_position</code></strong>
      -&gt; <strong class="userinput"><code>FROM mysql.ndb_binlog_index</code></strong>
      -&gt; <strong class="userinput"><code>WHERE epoch = @latest</code></strong>
      -&gt; <strong class="userinput"><code>ORDER BY epoch ASC LIMIT 1;</code></strong>
</pre><p>
          これらは、プライマリレプリケーションチャネルでの障害発生後に、マスターに保存されたレコードです。ここでは、ユーザー変数 <code class="literal">@latest</code> を使用して、ステップ 1 で取得した値を表します。もちろん、ある <span class="command"><strong>mysqld</strong></span> インスタンスが、ほかのサーバーインスタンスに設定されたユーザー変数には直接アクセスできません。これらの値は、手動で 2 番目のクエリーに、またはアプリケーションコードに<span class="quote">「<span class="quote">プラグインする</span>」</span>必要があります。
        </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
            <code class="literal">START SLAVE</code> を実行する前に、スレーブ <span class="command"><strong>mysqld</strong></span> が <code class="option">--slave-skip-errors=ddl_exist_errors</code>で起動されていることを確認します。そうしないと、レプリケーションが重複 DDL エラーで停止する可能性があります。
          </p></div></li><li class="listitem"><p>
          これで、セカンダリスレーブサーバーで次のクエリーを実行して、セカンダリチャネルの同期を取ることができるようになります。
        </p><pre class="programlisting">
mysql<em class="replaceable"><code>S'</code></em>&gt; <strong class="userinput"><code>CHANGE MASTER TO</code></strong>
      -&gt;     <strong class="userinput"><code>MASTER_LOG_FILE='@file',</code></strong>
      -&gt;     <strong class="userinput"><code>MASTER_LOG_POS=@pos;</code></strong>
</pre><p>
          再度ユーザー変数 (この場合は <code class="literal">@file</code> と <code class="literal">@pos</code>) を使用して、ステップ 2 で取得され、ステップ 3 で適用される値を表します。実際には、これらの値を手動で挿入するか、関与する両方のサーバーにアクセスできるアプリケーションコードを使用して挿入する必要があります。
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            <code class="literal">@file</code> は <code class="literal">'/var/log/mysql/replication-master-bin.00001'</code> などの文字列値であるため、SQL またはアプリケーションコードで使用するときは、引用符で囲む必要があります。ただし、<code class="literal">@pos</code> で表される値は引用符で囲む必要は<span class="emphasis"><em>ありません</em></span>。通常、MySQL は文字列を数字に変換しようとしますが、この場合は例外です。
          </p></div></li><li class="listitem"><p>
          これで、セカンダリスレーブの <span class="command"><strong>mysqld</strong></span> で適切なコマンドを発行して、セカンダリチャネルでレプリケーションを開始できるようになりました。
        </p><pre class="programlisting">
mysql<em class="replaceable"><code>S'</code></em>&gt; <strong class="userinput"><code>START SLAVE;</code></strong>
</pre></li></ol></div><p>
      セカンダリレプリケーションチャネルがアクティブになったら、プライマリの不具合を調べて、修復できます。これを行うために必要な的確なアクションは、プライマリチャネルで失敗した原因によって異なります。
    </p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">警告</div><p>
        セカンダリレプリケーションチャネルは、プライマリレプリケーションチャネルの停止時や停止した場合にのみ、起動されます。複数のレプリケーションチャネルを同時に実行すると、不要な重複レコードがレプリケーションスレーブで作成される可能性があります。
      </p></div><p>
      障害が 1 台のサーバーに限定される場合、<em class="replaceable"><code>M</code></em> から <em class="replaceable"><code>S'</code></em> に、または <em class="replaceable"><code>M'</code></em> から <em class="replaceable"><code>S</code></em> に、(論理的には) 複製できますが、まだ検証されていません。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-replication-backups"></a>18.6.9 MySQL Cluster レプリケーションを使用した MySQL Cluster バックアップ</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-auto-sync">18.6.9.1 MySQL Cluster レプリケーション: レプリケーションスレーブとマスターのバイナリログとの同期の自動化</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-pitr">18.6.9.2 MySQL Cluster レプリケーションを使用したポイントインタイムリカバリ</a></span></dt></dl></div><a class="indexterm" name="idm139979017082912"></a><a class="indexterm" name="idm139979017080736"></a><a class="indexterm" name="idm139979017078608"></a><a class="indexterm" name="idm139979017076464"></a><p>
      このセクションでは、バックアップの作成と、バックアップからの MySQL Cluster レプリケーションを使用したリストアについて説明します。レプリケーションサーバーは、前に説明したとおりにすでに構成されたものとします (<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-preparation" title="18.6.5 レプリケーションのための MySQL Cluster の準備">セクション18.6.5「レプリケーションのための MySQL Cluster の準備」</a>およびその直後のセクションを参照してください)。これがすでに行われている場合、バックアップを作成してそのバックアップからリストアする手順は次のとおりです。
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          バックアップを開始するには、2 つの異なる方法があります。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>方法 A </b>
                この方法では、レプリケーションプロセスを開始する前に、クラスタのバックアッププロセスがマスターサーバーで有効になっている必要があります。これを行うには、<code class="filename">my.cnf file</code> の <code class="literal">[mysql_cluster]</code> セクションに次の行を加えます。ここで、<em class="replaceable"><code>management_host</code></em> はマスタークラスタに対する <code class="literal">NDB</code> 管理サーバーの IP アドレスまたはホスト名であり、<em class="replaceable"><code>port</code></em> は管理サーバーのポート番号です。
              </p><pre class="programlisting">
ndb-connectstring=<em class="replaceable"><code>management_host</code></em>[:<em class="replaceable"><code>port</code></em>]
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
                ポート番号は、デフォルトのポート (1186) が使用されていない場合にのみ、指定する必要があります。MySQL Cluster でのポートおよびポートの割り当てに関する詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-install-configuration" title="18.2.4 MySQL Cluster の初期構成">セクション18.2.4「MySQL Cluster の初期構成」</a>を参照してください。
              </p></div><p>
              <a class="indexterm" name="idm139979017061040"></a>この場合、バックアップは、このステートメントをレプリケーションマスターで実行すると起動できます。
            </p><pre class="programlisting">
shell<em class="replaceable"><code>M</code></em>&gt; <strong class="userinput"><code>ndb_mgm -e "START BACKUP"</code></strong>
</pre></li><li class="listitem"><p><b>方法 B </b>
                <code class="filename">my.cnf</code> ファイルで、管理ホストを検出する場所が指定されていない場合、<code class="literal">START BACKUP</code> コマンドの一部としてこの情報を <code class="literal">NDB</code> 管理クライアントに渡すことで、バックアッププロセスを起動できます。ここで示すように、これを実行できます。ここで、<em class="replaceable"><code>management_host</code></em> と <em class="replaceable"><code>port</code></em> は管理サーバーのホスト名とポート番号です。
              </p><pre class="programlisting">
shell<em class="replaceable"><code>M</code></em>&gt; <strong class="userinput"><code>ndb_mgm <em class="replaceable"><code>management_host</code></em>:<em class="replaceable"><code>port</code></em> -e "START BACKUP"</code></strong>
</pre><p>
              前に述べたようなシナリオの場合 (<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-preparation" title="18.6.5 レプリケーションのための MySQL Cluster の準備">セクション18.6.5「レプリケーションのための MySQL Cluster の準備」</a>を参照してください)、これは次のように実行されます。
            </p><pre class="programlisting">
shell<em class="replaceable"><code>M</code></em>&gt; <strong class="userinput"><code>ndb_mgm rep-master:1186 -e "START BACKUP"</code></strong>
</pre></li></ul></div></li><li class="listitem"><p>
          オンラインにされているスレーブにクラスタのバックアップファイルをコピーします。マスタークラスタの <span class="command"><strong>ndbd</strong></span> プロセスを動作している各システムには、そのシステム上にクラスタのバックアップファイルが配置され、これらの<span class="emphasis"><em>すべて</em></span>のファイルがスレーブにコピーされ、正常なリストアを確実に行う必要があります。バックアップファイルは、スレーブの管理ホストが存在するコンピュータ上のどのディレクトリにもコピーできますが、MySQL および NDB バイナリがそのディレクトリの読み取り権限を持っている場合にかぎります。このケースでは、このファイルがディレクトリ <code class="filename">/var/BACKUPS/BACKUP-1</code> にコピーされたものとします。
        </p><p>
          スレーブクラスタがマスターと同じ <span class="command"><strong>ndbd</strong></span> プロセス (データノード) 番号を持つ必要はありませんが、この番号を同じ番号にすることを強くお勧めします。レプリケーションプロセスの不適切な起動を防ぐには、スレーブを <code class="option">--skip-slave-start</code> オプションで起動する必要が<span class="emphasis"><em>あります</em></span>。
        </p></li><li class="listitem"><p>
          マスタークラスタに存在し、スレーブに複製するデータベースをスレーブクラスタに作成します。
        </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
            複製する各データベースに対応する <code class="literal">CREATE DATABASE</code> (または <code class="literal">CREATE SCHEMA</code>) ステートメントは、スレーブクラスタの各 SQL ノードで実行します。
          </p></div></li><li class="listitem"><p>
          MySQL Monitor でこのステートメントを使用してスレーブクラスタをリセットします。
        </p><pre class="programlisting">
mysql<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>RESET SLAVE;</code></strong>
</pre><p>
          リストアプロセスを実行する前に、スレーブの <code class="literal">ndb_apply_status</code> テーブルにレコードが含まれていないことを確認することが重要です。これを行うには、スレーブでこの SQL ステートメントを実行します。
        </p><pre class="programlisting">
mysql<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>DELETE FROM mysql.ndb_apply_status;</code></strong>
</pre></li><li class="listitem"><p>
          これで、各バックアップファイルに対して順番に <span class="command"><strong>ndb_restore</strong></span> コマンドを使用して、レプリケーションスレーブでクラスタのリストアプロセスを起動できます。このプロセスの最初に、クラスタのメタデータをリストアするための <code class="option">-m</code> オプションを加える必要があります。
        </p><pre class="programlisting">
shell<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>ndb_restore -c <em class="replaceable"><code>slave_host</code></em>:<em class="replaceable"><code>port</code></em> -n <em class="replaceable"><code>node-id</code></em> \</code></strong>
        <strong class="userinput"><code>-b <em class="replaceable"><code>backup-id</code></em> -m -r <em class="replaceable"><code>dir</code></em></code></strong>
</pre><p>
          <em class="replaceable"><code>dir</code></em> は、バックアップファイルがレプリケーションスレーブに置かれたディレクトリへのパスです。残りのバックアップファイルに対応する <span class="command"><strong>ndb_restore</strong></span> コマンドに、<code class="option">-m</code> オプションを使用<span class="emphasis"><em>しない</em></span>でください。
        </p><p>
          バックアップファイルがディレクトリ <code class="filename">/var/BACKUPS/BACKUP-1</code> にコピーされた場所である 4 つのデータノード (<a class="xref" href="mysql-cluster.html#mysql-cluster-replication" title="18.6 MySQL Cluster レプリケーション">セクション18.6「MySQL Cluster レプリケーション」</a> の図に表示されているとおりです) を使用してマスタークラスタからリストアする場合、スレーブで実行されるコマンドの正しいシーケンスは、次のようになります。
        </p><pre class="programlisting">
shell<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>ndb_restore -c rep-slave:1186 -n 2 -b 1 -m \</code></strong>
        <strong class="userinput"><code>-r ./var/BACKUPS/BACKUP-1</code></strong>
shell<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>ndb_restore -c rep-slave:1186 -n 3 -b 1 \</code></strong>
        <strong class="userinput"><code>-r ./var/BACKUPS/BACKUP-1</code></strong>
shell<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>ndb_restore -c rep-slave:1186 -n 4 -b 1 \</code></strong>
        <strong class="userinput"><code>-r ./var/BACKUPS/BACKUP-1</code></strong>
shell<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>ndb_restore -c rep-slave:1186 -n 5 -b 1 -e \</code></strong>
        <strong class="userinput"><code>-r ./var/BACKUPS/BACKUP-1</code></strong>
</pre><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
            エポックがスレーブの <code class="literal">mysql.ndb_apply_status</code> に書き込まれるには、この例の <span class="command"><strong>ndb_restore</strong></span> の最後の起動に <code class="option">-e</code> (または <code class="option">--restore_epoch</code>) オプションが必要です。この情報がないと、スレーブはマスターと適切に同期を取れなくなります。(<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="18.4.20 ndb_restore — MySQL Cluster バックアップのリストア">セクション18.4.20「<span class="command"><strong>ndb_restore</strong></span> — MySQL Cluster バックアップのリストア」</a>を参照してください。)
          </p></div></li><li class="listitem"><p>
          ここで、スレーブの <code class="literal">ndb_apply_status</code> テーブルから最新のエポックを取得する必要があります (<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-failover" title="18.6.8 MySQL Cluster レプリケーションを使用したフェイルオーバーの実装">セクション18.6.8「MySQL Cluster レプリケーションを使用したフェイルオーバーの実装」</a>で説明したとおりです)。
        </p><pre class="programlisting">
mysql<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>SELECT @latest:=MAX(epoch)</code></strong>
        <strong class="userinput"><code>FROM mysql.ndb_apply_status;</code></strong>
</pre></li><li class="listitem"><p>
          前のステップで取得したエポック値として <code class="literal">@latest</code> を使用すると、ここで示したクエリーを使用して、マスターの <code class="literal">mysql.ndb_binlog_index</code> テーブルから正しいバイナリログファイル <code class="literal">@file</code> の正しい起動位置 <code class="literal">@pos</code> を取得できます。
        </p><pre class="programlisting">
mysql<em class="replaceable"><code>M</code></em>&gt; <strong class="userinput"><code>SELECT</code></strong>
     -&gt;     <strong class="userinput"><code>@file:=SUBSTRING_INDEX(File, '/', -1),</code></strong>
     -&gt;     <strong class="userinput"><code>@pos:=Position</code></strong>
     -&gt; <strong class="userinput"><code>FROM mysql.ndb_binlog_index</code></strong>
     -&gt; <strong class="userinput"><code>WHERE epoch &gt; @latest</code></strong>
     -&gt; <strong class="userinput"><code>ORDER BY epoch ASC LIMIT 1;</code></strong>
</pre><p>
          現在レプリケーショントラフィックがない場合、マスターで <code class="literal">SHOW MASTER STATUS</code> を実行して、<code class="literal">File</code> カラムに表示されるすべてのファイルに対していちばん大きな値のサフィクスを持つ名前のファイルの <code class="literal">Position</code> カラムの値を使用すると、この情報を取得できます。ただしこの場合、これを指定し、その内容を次のステップで手動で指定するか、スクリプトで出力を解析して指定する必要があります。
        </p></li><li class="listitem"><p>
          前のステップで取得した値を使用すると、スレーブの <span class="command"><strong>mysql</strong></span> クライアントで適切な <code class="literal">CHANGE MASTER TO</code> ステートメントを発行できるようになります。
        </p><pre class="programlisting">
mysql<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>CHANGE MASTER TO</code></strong>
     -&gt;     <strong class="userinput"><code>MASTER_LOG_FILE='@file',</code></strong>
     -&gt;     <strong class="userinput"><code>MASTER_LOG_POS=@pos;</code></strong>
</pre></li><li class="listitem"><p>
          スレーブはどのバイナリログファイルのどの点から読み取りを開始するかがマスターから<span class="quote">「<span class="quote">わかる</span>」</span>ようになるため、スレーブはこの標準 MySQL ステートメントで複製を開始できます。
        </p><pre class="programlisting">
mysql<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>START SLAVE;</code></strong>
</pre></li></ol></div><p>
      セカンダリレプリケーションチャネルでバックアップとリストアを実行するために必要なことは、必要に応じて、プライマリのマスターとスレーブのレプリケーションサーバーのホスト名と ID に代わって、セカンダリのマスターとスレーブのホスト名と ID を使用し、前述のステートメントを実行するステップを繰り返すだけです。
    </p><p>
      クラスタのバックアップの実行とバックアップからのクラスタのリストアに関する詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-backup" title="18.5.3 MySQL Cluster のオンラインバックアップ">セクション18.5.3「MySQL Cluster のオンラインバックアップ」</a>を参照してください。
    </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-replication-auto-sync"></a>18.6.9.1 MySQL Cluster レプリケーション: レプリケーションスレーブとマスターのバイナリログとの同期の自動化</h4></div></div></div><a class="indexterm" name="idm139979016970192"></a><a class="indexterm" name="idm139979016968016"></a><p>
        前のセクションで説明した多くのプロセスを自動化できます (<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-backups" title="18.6.9 MySQL Cluster レプリケーションを使用した MySQL Cluster バックアップ">セクション18.6.9「MySQL Cluster レプリケーションを使用した MySQL Cluster バックアップ」</a>参照してください)。次の Perl スクリプト <code class="filename">reset-slave.pl</code> は、これを行う方法の実例として役に立ちます。
      </p><a class="indexterm" name="idm139979016963728"></a><a class="indexterm" name="idm139979016961408"></a><pre class="programlisting">
#!/user/bin/perl -w

#  file: reset-slave.pl

#  Copyright ©2005 MySQL AB

#  This program is free software; you can redistribute it and/or modify
#  it under the terms of the GNU General Public License as published by
#  the Free Software Foundation; either version 2 of the License, or
#  (at your option) any later version.

#  This program is distributed in the hope that it will be useful,
#  but WITHOUT ANY WARRANTY; without even the implied warranty of
#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#  GNU General Public License for more details.

#  You should have received a copy of the GNU General Public License
#  along with this program; if not, write to:
#  Free Software Foundation, Inc.
#  59 Temple Place, Suite 330
#  Boston, MA 02111-1307 USA
#
#  Version 1.1


######################## Includes ###############################

use DBI;

######################## Globals ################################

my  $m_host='';
my  $m_port='';
my  $m_user='';
my  $m_pass='';
my  $s_host='';
my  $s_port='';
my  $s_user='';
my  $s_pass='';
my  $dbhM='';
my  $dbhS='';

####################### Sub Prototypes ##########################

sub CollectCommandPromptInfo;
sub ConnectToDatabases;
sub DisconnectFromDatabases;
sub GetSlaveEpoch;
sub GetMasterInfo;
sub UpdateSlave;

######################## Program Main ###########################

CollectCommandPromptInfo;
ConnectToDatabases;
GetSlaveEpoch;
GetMasterInfo;
UpdateSlave;
DisconnectFromDatabases;

################## Collect Command Prompt Info ##################

sub CollectCommandPromptInfo
{
  ### Check that user has supplied correct number of command line args
  die "Usage:\n
       reset-slave &gt;master MySQL host&lt; &gt;master MySQL port&lt; \n
                   &gt;master user&lt; &gt;master pass&lt; &gt;slave MySQL host&lt; \n
                   &gt;slave MySQL port&lt; &gt;slave user&lt; &gt;slave pass&lt; \n
       All 8 arguments must be passed. Use BLANK for NULL passwords\n"
       unless @ARGV == 8;

  $m_host  =  $ARGV[0];
  $m_port  =  $ARGV[1];
  $m_user  =  $ARGV[2];
  $m_pass  =  $ARGV[3];
  $s_host  =  $ARGV[4];
  $s_port  =  $ARGV[5];
  $s_user  =  $ARGV[6];
  $s_pass  =  $ARGV[7];

  if ($m_pass eq "BLANK") { $m_pass = '';}
  if ($s_pass eq "BLANK") { $s_pass = '';}
}

###############  Make connections to both databases #############

sub ConnectToDatabases
{
  ### Connect to both master and slave cluster databases

  ### Connect to master
  $dbhM
    = DBI-&gt;connect(
    "dbi:mysql:database=mysql;host=$m_host;port=$m_port",
    "$m_user", "$m_pass")
      or die "Can't connect to Master Cluster MySQL process!
              Error: $DBI::errstr\n";

  ### Connect to slave
  $dbhS
    = DBI-&gt;connect(
          "dbi:mysql:database=mysql;host=$s_host",
          "$s_user", "$s_pass")
    or die "Can't connect to Slave Cluster MySQL process!
            Error: $DBI::errstr\n";
}

################  Disconnect from both databases ################

sub DisconnectFromDatabases
{
  ### Disconnect from master

  $dbhM-&gt;disconnect
  or warn " Disconnection failed: $DBI::errstr\n";

  ### Disconnect from slave

  $dbhS-&gt;disconnect
  or warn " Disconnection failed: $DBI::errstr\n";
}

######################  Find the last good GCI ##################

sub GetSlaveEpoch
{
  $sth = $dbhS-&gt;prepare("SELECT MAX(epoch)
                         FROM mysql.ndb_apply_status;")
      or die "Error while preparing to select epoch from slave: ",
             $dbhS-&gt;errstr;

  $sth-&gt;execute
      or die "Selecting epoch from slave error: ", $sth-&gt;errstr;

  $sth-&gt;bind_col (1, \$epoch);
  $sth-&gt;fetch;
  print "\tSlave Epoch =  $epoch\n";
  $sth-&gt;finish;
}

#######  Find the position of the last GCI in the binary log ########

sub GetMasterInfo
{
  $sth = $dbhM-&gt;prepare("SELECT
                           SUBSTRING_INDEX(File, '/', -1), Position
                         FROM mysql.ndb_binlog_index
                         WHERE epoch &gt; $epoch
                         ORDER BY epoch ASC LIMIT 1;")
      or die "Prepare to select from master error: ", $dbhM-&gt;errstr;

  $sth-&gt;execute
      or die "Selecting from master error: ", $sth-&gt;errstr;

  $sth-&gt;bind_col (1, \$binlog);
  $sth-&gt;bind_col (2, \$binpos);
  $sth-&gt;fetch;
  print "\tMaster binary log =  $binlog\n";
  print "\tMaster binary log position =  $binpos\n";
  $sth-&gt;finish;
}

##########  Set the slave to process from that location #########

sub UpdateSlave
{
  $sth = $dbhS-&gt;prepare("CHANGE MASTER TO
                         MASTER_LOG_FILE='$binlog',
                         MASTER_LOG_POS=$binpos;")
      or die "Prepare to CHANGE MASTER error: ", $dbhS-&gt;errstr;

  $sth-&gt;execute
       or die "CHANGE MASTER on slave error: ", $sth-&gt;errstr;
  $sth-&gt;finish;
  print "\tSlave has been updated. You may now start the slave.\n";
}

# end reset-slave.pl
</pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-cluster-replication-pitr"></a>18.6.9.2 MySQL Cluster レプリケーションを使用したポイントインタイムリカバリ</h4></div></div></div><a class="indexterm" name="idm139979016952416"></a><a class="indexterm" name="idm139979016950208"></a><a class="indexterm" name="idm139979016948032"></a><p>
        <em class="firstterm">ポイントインタイム</em>リカバリ (つまり、特定の時点よりあとに行われたデータ変更のリカバリ) は、サーバーをバックアップが行われた時点の状態に戻す完全バックアップのリストア後に実行されます。MySQL Cluster と MySQL Cluster レプリケーションを使用した MySQL Cluster テーブルのポイントインタイムリカバリの実行は、ネイティブの <code class="literal">NDB</code> データバックアップ (<span class="command"><strong>ndb_mgm</strong></span> クライアントで <code class="literal">CREATE BACKUP</code> を発行して取得されます) を使用し、<code class="literal">ndb_binlog_index</code> テーブル (<span class="command"><strong>mysqldump</strong></span> を使用して作られたダンプ) をリストアすることで実行できます。
      </p><p>
        MySQL Cluster のポイントインタイムリカバリを実行するには、ここで示すステップに従う必要があります。
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            <span class="command"><strong>ndb_mgm</strong></span> クライアントで <code class="literal">START BACKUP</code> コマンドを使用して、クラスタ内のすべての <code class="literal">NDB</code> データベースをバックアップします (<a class="xref" href="mysql-cluster.html#mysql-cluster-backup" title="18.5.3 MySQL Cluster のオンラインバックアップ">セクション18.5.3「MySQL Cluster のオンラインバックアップ」</a>を参照してください)。
          </p></li><li class="listitem"><p>
            その後の時点でクラスタをリストアする前に、<code class="literal">mysql.ndb_binlog_index</code> テーブルのバックアップを作成します。このタスクに <span class="command"><strong>mysqldump</strong></span> を使用することが、おそらくもっとも簡単です。このときに、バイナリログファイルもバックアップします。
          </p><p>
            このバックアップは、必要に応じて定期的 (等間隔で 1 時間ごとなど) に更新してください。
          </p></li><li class="listitem"><p>
            (<span class="emphasis"><em>重大な障害またはエラーが発生します</em></span>。)
          </p></li><li class="listitem"><p>
            最新の既知の良好なバックアップを探します。
          </p></li><li class="listitem"><p>
            データノードのファイルシステムをクリアします (<span class="command"><strong>ndbd</strong></span> <code class="option">--initial</code> または <span class="command"><strong>ndbmtd</strong></span> <code class="option">--initial</code> を使用します)。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              MySQL Cluster ディスクデータテーブルスペースおよびログファイルは <code class="option">--initial</code> では削除されません。これらを手動で削除する必要があります。
            </p></div></li><li class="listitem"><p>
            <code class="literal">mysql.ndb_binlog_index</code> テーブルで <code class="literal">DROP TABLE</code> または <code class="literal">TRUNCATE TABLE</code> を使用します。
          </p></li><li class="listitem"><p>
            <span class="command"><strong>ndb_restore</strong></span> を実行して、すべてのデータをリストアします。<code class="literal">ndb_apply_status</code> テーブルが正しく移入されるように、<span class="command"><strong>ndb_restore</strong></span> を実行するときに <code class="option">--restore_epoch</code> を加える必要があります。(詳細については、<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="18.4.20 ndb_restore — MySQL Cluster バックアップのリストア">セクション18.4.20「<span class="command"><strong>ndb_restore</strong></span> — MySQL Cluster バックアップのリストア」</a>を参照してください。)
          </p></li><li class="listitem"><p>
            必要に応じて、<span class="command"><strong>mysqldump</strong></span> の出力から <code class="literal">ndb_binlog_index</code> テーブルをリストアしたり、バックアップからバイナリログファイルをリストアしたりします。
          </p></li><li class="listitem"><p>
            最後に適用されたエポック (すなわち、<code class="literal">ndb_apply_status</code> テーブルの <code class="literal">epoch</code> カラムの最大値) をユーザー変数 <code class="literal">@LATEST_EPOCH</code> として検索します (重要)。
          </p><pre class="programlisting">
SELECT <span class="emphasis"><em>@LATEST_EPOCH</em></span>:=MAX(epoch) 
    FROM mysql.ndb_apply_status;
</pre></li><li class="listitem"><p>
            <code class="literal">ndb_binlog_index</code> テーブルの <code class="literal">@LATEST_EPOCH</code> に対応する、最新のバイナリログファイル (<code class="literal">@FIRST_FILE</code>) と位置 (<code class="literal">Position</code> カラム値) をこのファイル内で検索します。
          </p><pre class="programlisting">
SELECT Position, <span class="emphasis"><em>@FIRST_FILE</em></span>:=File 
    FROM mysql.ndb_binlog_index 
    WHERE epoch &gt; <span class="emphasis"><em>@LATEST_EPOCH</em></span> ORDER BY epoch ASC LIMIT 1;
</pre></li><li class="listitem"><p>
            <span class="command"><strong>mysqlbinlog</strong></span> を使用して、障害が発生した時点まで、特定のファイルと位置からバイナリログイベントを再現します。(<a class="xref" href="programs.html#mysqlbinlog" title="4.6.8 mysqlbinlog — バイナリログファイルを処理するためのユーティリティー">セクション4.6.8「<span class="command"><strong>mysqlbinlog</strong></span> — バイナリログファイルを処理するためのユーティリティー」</a>を参照してください。)
          </p></li></ol></div><p>
        バイナリログ、レプリケーション、および増分リカバリに関する詳細は、<a class="xref" href="backup-and-recovery.html#point-in-time-recovery" title="7.5 バイナリログを使用したポイントインタイム (増分) リカバリ">セクション7.5「バイナリログを使用したポイントインタイム (増分) リカバリ」</a>も参照してください。
      </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-replication-multi-master"></a>18.6.10 MySQL Cluster レプリケーション: マルチマスターと循環レプリケーション</h3></div></div></div><a class="indexterm" name="idm139979016896912"></a><a class="indexterm" name="idm139979016894704"></a><a class="indexterm" name="idm139979016892560"></a><a class="indexterm" name="idm139979016890448"></a><p>
      マルチマスターレプリケーションで MySQL Cluster を使用することは可能です (多くの MySQL Cluster 間の循環レプリケーションを含みます)。
    </p><p><b>循環レプリケーションの例 </b>
        次のいくつかのパラグラフでは、次のようなレプリケーションセットアップの例について検討します。このセットアップは、番号が 1、2、3 の 3 つの MySQL Cluster で構成され、クラスタ 1 はクラスタ 2 のレプリケーションマスターとして動作し、クラスタ 2 はクラスタ 3 のマスターとして動作し、クラスタ 3 はクラスタ 1 のマスターとして動作します。各クラスタは 2 つの SQL ノードを持ち、SQL ノード A と B はクラスタ 1 に属し、SQL ノード C と D はクラスタ 2 に属し、SQL ノード E と F はクラスタ 3 に属しています。
      </p><p>
      これらのクラスタを使用する循環レプリケーションは、次の条件を満たすかぎり、サポートされます。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          すべてのマスターとスレーブの SQL ノードは同じ
        </p></li><li class="listitem"><p>
          レプリケーションのマスターおよびスレーブとして動作するすべての SQL ノードが <code class="option">--log-slave-updates</code> オプションを使用して起動される
        </p></li></ul></div><p>
      このタイプの循環レプリケーションのセットアップは、次の図に示すとおりです。
    </p><div class="mediaobject"><img src="images/cluster-circular-replication-1.png" width="550" height="646" alt="すべてのマスター SQL ノードがスレーブでもある、MySQL Cluster 循環レプリケーションのスキームです。"></div><p>
      このシナリオでは、クラスタ 1 の SQL ノード A はクラスタ 2 の SQL ノード C に複製し、SQL ノード C はクラスタ 3 の SQL ノード E に複製し、SQL ノード E は SQL ノード A に複製します。言い換えると、レプリケーションライン (図中の赤の矢印) は、レプリケーションのマスターおよびスレーブとして使用されるすべての SQL ノードを直接接続します。
    </p><p>
      ここで示すように、すべてのマスター SQL ノードが必ずしもスレーブというわけではない場合に、循環レプリケーションをセットアップすることも可能です。
    </p><div class="mediaobject"><img src="images/cluster-circular-replication-2.png" width="550" height="622" alt="すべてのマスター SQL ノードが必ずしもスレーブではない、MySQL Cluster 循環レプリケーションのスキームです。"></div><p>
      この場合、各クラスタの異なる SQL ノードはレプリケーションのマスターおよびスレーブとして使用されます。ただし、SQL ノードを <code class="option">--log-slave-updates</code> を使用して起動する必要は<span class="emphasis"><em>ありません</em></span>。レプリケーションのライン (これも図中の赤の矢印) が連続的でない MySQL Cluster のこのタイプの循環レプリケーションスキームは、可能性はありますが、まだ完全にはテストされていないため、実験的なものだと考えるようにしてください。
    </p><p><b>NDB ネイティブのバックアップとリストアを使用したスレーブ MySQL Cluster の初期化 </b>
        <a class="indexterm" name="idm139979016864512"></a>循環レプリケーションをセットアップする場合、バックアップを作成する MySQL Cluster で管理クライアントの <code class="literal">BACKUP</code> コマンドを使用してから、<span class="command"><strong>ndb_restore</strong></span> を使用して別の MySQL Cluster でこのバックアップを適用すると、スレーブクラスタを初期化できます。ただし、これによってバイナリログが、レプリケーションスレーブとして動作する 2 番目の MySQL Cluster の SQL ノードに、自動的に作成されることはありません。バイナリログが作成されるようにするには、対象の SQL ノードで <code class="literal">SHOW TABLES</code> ステートメントを発行する必要があります。これは、<code class="literal">START SLAVE</code> を実行する前に行なってください。
      </p><p>
      これは、今後のリリースで対応する予定の既知の問題です。
    </p><p><b>マルチマスターのフェイルオーバーの例 </b>
        このセクションでは、3 つの MySQL Cluster のサーバー ID が 1、2、および 3 であるマルチマスターの MySQL Cluster レプリケーションセットアップでのフェイルオーバーについて説明します。このシナリオでは、クラスタ 1 はクラスタ 2 および 3 に複製し、クラスタ 2 もクラスタ 3 に複製します。この関係はここで示すとおりです。
      </p><div class="mediaobject"><img src="images/cluster-replication-multi-master.png" width="350" height="275" alt="3 つの MySQL Cluster で構成される、マルチマスター MySQL Cluster レプリケーションセットアップ"></div><p>
      つまり、データはクラスタ 1 からクラスタ 3 へ異なる 2 つのルートを介して (直接、およびクラスタ 2 経由で) 複製されます。
    </p><p>
      マルチマスターレプリケーションに参加するすべての MySQL サーバーが必ずしもマスターとスレーブの両方の役割を果たさなければならないわけではなく、特定の MySQL Cluster が異なるレプリケーションチャネルの異なる SQL ノードを使用する場合があります。このようなケースを次に示します。
    </p><div class="mediaobject"><img src="images/cluster-replication-multi-master-mysqlds.png" width="500" height="375" alt="マルチマスター MySQL Cluster レプリケーションセットアップ (各 MySQL Server)"></div><p>
      レプリケーションスレーブとして動作している MySQL サーバーは、<code class="option">--log-slave-updates</code> オプションを使用して実行する必要があります。また、どの <span class="command"><strong>mysqld</strong></span> プロセスでこのオプションが必要か、前の図に示されています。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        <code class="option">--log-slave-updates</code> オプションを使用しても、レプリケーションスレーブとして動作していないサーバーには作用しません。
      </p></div><p>
      複製しているクラスタの 1 つが停止した場合、フェイルオーバーの必要性が生じます。この例では、クラスタ 1 のサービスが失われ、そのためにクラスタ 3 がクラスタ 1 の更新の 2 つのソースを失うケースを検討します。MySQL Cluster 間のレプリケーションが非同期であるため、クラスタ 1 から直接生じるクラスタ 3 の更新が、クラスタ 2 を経由して受け取った更新よりも新しいという保証はありません。クラスタ 1 からの更新に関して、クラスタ 3 が確実にクラスタ 2 に追いつくことで、これに対処できます。すなわち、MySQL サーバーに関して、未処理の更新を MySQL サーバー C からサーバー F に複製する必要があります。
    </p><p>
      サーバー C で、次のクエリーを実行します。
    </p><pre class="programlisting">
mysqlC&gt; SELECT @latest:=MAX(epoch)
     -&gt;     FROM mysql.ndb_apply_status
     -&gt;     WHERE server_id=1;

mysqlC&gt; SELECT
     -&gt;     @file:=SUBSTRING_INDEX(File, '/', -1),
     -&gt;     @pos:=Position
     -&gt;     FROM mysql.ndb_binlog_index
     -&gt;     WHERE orig_epoch &gt;= @latest
     -&gt;     AND orig_server_id = 1
     -&gt;     ORDER BY epoch ASC LIMIT 1;
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        適切なインデックスを <code class="literal">ndb_binlog_index</code> テーブルに追加することで、このクエリーのパフォーマンスを向上できるため、フェイルオーバー時間が大幅に短縮される可能性があります。詳細については、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-schema" title="18.6.4 MySQL Cluster レプリケーションスキーマとテーブル">セクション18.6.4「MySQL Cluster レプリケーションスキーマとテーブル」</a>を参照してください。
      </p></div><p>
      <em class="replaceable"><code>@file</code></em> および <em class="replaceable"><code>@pos</code></em> の値を手動でサーバー C からサーバー F にコピーをします (またはアプリケーションで同様に実行させます)。次にサーバー F で、次の <code class="literal">CHANGE MASTER TO</code> ステートメントを実行します。
    </p><pre class="programlisting">
mysqlF&gt; CHANGE MASTER TO
     -&gt;     MASTER_HOST = 'serverC'
     -&gt;     MASTER_LOG_FILE='@file',
     -&gt;     MASTER_LOG_POS=@pos;
</pre><p>
      この実行後、MySQL サーバー F で <code class="literal">START SLAVE</code> ステートメントを発行でき、サーバー B から生じた、不足している更新がサーバー F に複製されます。
    </p><p>
      <code class="literal">CHANGE MASTER TO</code> ステートメントは <code class="literal">IGNORE_SERVER_IDS</code> オプションもサポートします。このオプションは、カンマ区切りのサーバーの ID を使用し、対応するサーバーから発生したイベントが無視されます。詳細については、<a class="xref" href="sql-syntax.html#change-master-to" title="13.4.2.1 CHANGE MASTER TO 構文">セクション13.4.2.1「CHANGE MASTER TO 構文」</a>および<a class="xref" href="sql-syntax.html#show-slave-status" title="13.7.5.35 SHOW SLAVE STATUS 構文">セクション13.7.5.35「SHOW SLAVE STATUS 構文」</a>を参照してください。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-replication-conflict-resolution"></a>18.6.11 MySQL Cluster レプリケーションの競合解決</h3></div></div></div><a class="indexterm" name="idm139979016821408"></a><a class="indexterm" name="idm139979016819248"></a><a class="indexterm" name="idm139979016817120"></a><a class="indexterm" name="idm139979016815008"></a><p>
      複数のマスターが関与するレプリケーションセットアップを使用する場合 (循環レプリケーションを含みます)、異なるマスターが、異なるデータを持つスレーブ上の同じ行を更新しようとする可能性があります。MySQL Cluster レプリケーションでの競合解決は、特定のマスター上の更新をスレーブで適用すべきかどうかを判断するために使用されるユーザー定義の解決カラムを許可することで、このような競合を解決できます。
    </p><p>
      MySQL Cluster でサポートされる競合解決のいくつかのタイプ (<code class="literal">NDB$OLD()</code>、<code class="literal">NDB$MAX()</code>、<code class="literal">NDB$MAX_DELETE_WIN()</code>) は、このユーザー定義カラムを <span class="quote">「<span class="quote">timestamp</span>」</span> カラムとして実装しています (ただし、このセクションの後半で説明するように、このタイプは <code class="literal">TIMESTAMP</code> になり得ません)。このタイプの競合解決は、常に、トランザクションごとではなく、行ごとに適用されます。エポックベースの競合解決関数 <code class="literal">NDB$EPOCH()</code> および <code class="literal">NDB$EPOCH_TRANS()</code> は、エポックが複製された順番を比較します (このため、これらの関数はトランザクション型です)。このセクションの後半で説明するように、競合が発生したときにスレーブで解決カラム値を比較するために、さまざまな方法を使用できます。使用する方法はテーブルごとに設定できます。
    </p><p>
      更新を適用するかどうかを判断するときに解決関数で適切な選択を行えるように、解決カラムに適切な値で正しく移入されることを確認することは、アプリケーションの責任になります。
    </p><p><b>要件 </b>
        競合解決の準備は、マスターとスレーブの両方で行う必要があります。これらのタスクは次のリストで説明します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          バイナリログを書き込むマスターで、どのカラム (すべてのカラム、または更新されたカラムだけ) を送るか指定する必要があります。MySQL Server でこれを行うには、全体的には <span class="command"><strong>mysqld</strong></span> 起動オプション <code class="option">--ndb-log-updated-only</code> (このセクションの後半で説明します) を適用し、テーブル単位には <code class="literal">mysql.ndb_replication</code> テーブルのエントリによって実行します (<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-replication-table" title="ndb_replication システムテーブル">ndb_replication システムテーブル</a>を参照してください)。
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            非常に大きなカラム (<code class="literal">TEXT</code> や <code class="literal">BLOB</code> カラムなど) を持つテーブルを複製する場合、<code class="option">--ndb-log-updated-only</code> はマスターとスレーブのバイナリログのサイズを減らしたり、<code class="literal">max_allowed_packet</code> を超えたことによって起こる可能性のあるレプリケーション障害を回避したりする場合にも役立つことがあります。
          </p><p>
            この問題に関する詳細は、<a class="xref" href="replication.html#replication-features-max-allowed-packet" title="17.4.1.20 レプリケーションと max_allowed_packet">セクション17.4.1.20「レプリケーションと max_allowed_packet」</a>を参照してください。
          </p></div></li><li class="listitem"><p>
          スレーブでは、どのタイプの競合解決 (<span class="quote">「<span class="quote">最後のタイムスタンプが優先</span>」</span>、<span class="quote">「<span class="quote">同じタイムスタンプが優先</span>」</span>、<span class="quote">「<span class="quote">プライマリが優先</span>」</span>、<span class="quote">「<span class="quote">プライマリが優先し、トランザクションを完結する</span>」</span>、または何もしない) を適用するかを指定する必要があります。これは、<code class="literal">mysql.ndb_replication</code> システムテーブルを使用して、テーブルごとに行われます (<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-replication-table" title="ndb_replication システムテーブル">ndb_replication システムテーブル</a>を参照してください)。
        </p></li><li class="listitem"><p>
          MySQL Cluster NDB 7.4.1 以降は読み取り競合検出をサポートしています。すなわち、あるクラスタの特定の行の読み取りと、別のクラスタの同じ行の更新または削除との間の競合を検出します。これには、スレーブで <code class="literal">ndb_log_exclusive_reads</code> を 1 に設定することで取得される排他的読み取りロックが必要です。競合している読み取りによって読み取られたすべての行のログが、例外テーブルに記録されます。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-examples-read-conflicts" title="読み取り競合の検出と解決">読み取り競合の検出と解決</a>を参照してください。
        </p></li></ul></div><p>
      タイムスタンプベースの競合解決に関数 <code class="literal">NDB$OLD()</code>、<code class="literal">NDB$MAX()</code>、および <code class="literal">NDB$MAX_DELETE_WIN()</code> を使用する場合、更新を<span class="quote">「<span class="quote">タイムスタンプ</span>」</span>カラムとして指定するために使用されるカラムを参照するのが一般的です。ただし、このカラムのデータ型は <code class="literal">TIMESTAMP</code> にしないでください。このデータ型は <code class="literal">INT</code> (<code class="literal">INTEGER</code>) または <code class="literal">BIGINT</code> にしてください。また、<span class="quote">「<span class="quote">timestamp</span>」</span> カラムは <code class="literal">UNSIGNED</code> および <code class="literal">NOT NULL</code> にしてください。
    </p><p>
      このセクションの後半で説明する <code class="literal">NDB$EPOCH()</code> および <code class="literal">NDB$EPOCH_TRANS()</code> 関数は、プライマリおよびセカンダリ MySQL Cluster で適用されるレプリケーションエポックの相対順序を比較することで機能し、タイプスタンプを利用しません。
    </p><a class="indexterm" name="idm139979016771376"></a><p><b>マスターカラムの制御 </b>
        <span class="quote">「<span class="quote">前</span>」</span>のイメージおよび<span class="quote">「<span class="quote">後</span>」</span>のイメージ (すなわち、更新が適用される前と後のテーブルの状態) に関して、更新の操作を確認できます。一般的に主キーでテーブルを更新する場合、<span class="quote">「<span class="quote">前</span>」</span>のイメージはそれほど問題はありません。ただし、更新ごとにレプリケーションスレーブで更新された値を使用するかどうかを指定する必要がある場合は、両方のイメージがマスターのバイナリログに書き込まれることを確認する必要があります。このセクションの後半で説明するように、これは <span class="command"><strong>mysqld</strong></span> の <code class="option">--ndb-log-update-as-write</code> オプションで実行されます。
      </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
        行全体のロギングを行うか、更新されたカラムだけのロギングを行うかは、MySQL サーバーが起動されたときに決まり、オンラインでは変更できません。異なるロギングオプションを使用して、<span class="command"><strong>mysqld</strong></span> を再起動するか、新しい <span class="command"><strong>mysqld</strong></span> インスタンスを起動する必要があります。
      </p></div><a class="indexterm" name="idm139979016762000"></a><h4><a name="idm139979016759776"></a>すべてまたは一部の行のロギング (--ndb-log-updated-only オプション)</h4><div class="informaltable"><table summary="Options for ndb_log_updated_only" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--ndb-log-updated-only</code></td></tr><tr><td scope="row" rowspan="3"><span class="bold"><strong>システム変数</strong></span></td><td><span class="bold"><strong>名前</strong></span></td><td colspan="2"><code class="literal">ndb_log_updated_only</code></td></tr><tr><td scope="row"><span class="bold"><strong>変数スコープ</strong></span></td><td colspan="2">グローバル</td></tr><tr><td scope="row"><span class="bold"><strong>動的変数</strong></span></td><td colspan="2">はい</td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">ON</code></td></tr></tbody></table></div><p><a name="option_mysqld_ndb-log-updated-only"></a>
      競合解決のために、行のログを取る基本的な方法は 2 つあり、その方法は <span class="command"><strong>mysqld</strong></span> の <code class="option">--ndb-log-updated-only</code> オプションを設定すると指定されます。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          行全体のログを取得します
        </p></li><li class="listitem"><p>
          更新されたカラムデータ (すなわち、値が設定されたカラムデータ) だけのログを取ります。この値が実際に変更されたかどうかには関係しません。これはデフォルトの動作です。
        </p></li></ul></div><p>
      通常、更新されたカラムのみのログを取るだけで十分 (しかも効率的) です。ただし、すべての行のログを取る必要がある場合、<code class="option">--ndb-log-updated-only</code> を <code class="literal">0</code> または <code class="literal">OFF</code> に設定すると、これを実行できます。
    </p><h4><a name="idm139979016732128"></a>--ndb-log-update-as-write オプション: 変更されたデータを更新としてログを取得</h4><div class="informaltable"><table summary="Options for ndb-log-update-as-write" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--ndb-log-update-as-write</code></td></tr><tr><td scope="row" rowspan="3"><span class="bold"><strong>システム変数</strong></span></td><td><span class="bold"><strong>名前</strong></span></td><td colspan="2"><code class="literal">ndb_log_update_as_write</code></td></tr><tr><td scope="row"><span class="bold"><strong>変数スコープ</strong></span></td><td colspan="2">グローバル</td></tr><tr><td scope="row"><span class="bold"><strong>動的変数</strong></span></td><td colspan="2">はい</td></tr><tr><td scope="row" rowspan="2"><span class="bold"><strong>許可されている値</strong></span></td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">ブール</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">ON</code></td></tr></tbody></table></div><p><a name="option_mysqld_ndb-log-update-as-write"></a>
      MySQL Server の <code class="option">--ndb-log-update-as-write</code> オプションの設定では、ロギングが<span class="quote">「<span class="quote">前</span>」</span>のイメージがある状態で実行されるか、ない状態で実行されるかを指定します。競合解決は MySQL Server の更新ハンドラで行われるため、更新は更新であって書き込みではないようにマスターでのロギングを制御する必要があります。すなわち、更新は、新しい行の書き込みではなく、(更新が既存の行を置き換える場合でも) 既存の行の変更として処理されます。このオプションはデフォルトではオンです。つまり、更新は書き込みとして処理されます。(つまりデフォルトでは、更新は <code class="literal">update_row</code> イベントとしてではなく、<code class="literal">write_row</code> イベントとしてバイナリログに書き込まれます。)
    </p><p>
      オプションをオフにするには、マスターの <span class="command"><strong>mysqld</strong></span> を <code class="option">--ndb-log-update-as-write=0</code> または <code class="option">--ndb-log-update-as-write=OFF</code> で起動します。NDB テーブルから異なるストレージエンジンを使用するテーブルに複製する場合は、これを行う必要があります。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-ndb-to-non-ndb" title="NDB から別のストレージエンジンへのレプリケーション">NDB から別のストレージエンジンへのレプリケーション</a>および<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-ndb-to-nontransactional" title="NDB から非トランザクションストレージエンジンへのレプリケーション">NDB から非トランザクションストレージエンジンへのレプリケーション</a>を参照してください。
    </p><a class="indexterm" name="idm139979016703840"></a><p><b>競合解決の制御 </b>
        通常、競合解決は競合が発生する可能性のあるサーバーで有効になっています。ロギング方法の選択と同様に、<code class="literal">mysql.ndb_replication</code> テーブル内のエントリによって有効化されます。
      </p><p><a name="mysql-cluster-ndb-replication-table"></a><b>ndb_replication システムテーブル </b>
        <a class="indexterm" name="idm139979016697984"></a> <a class="indexterm" name="idm139979016696432"></a>競合解決を有効にするには、競合解決のタイプ、および使用する方法によってマスター、スレーブ、またはその両方の <code class="literal">mysql</code> システムデータベースに <code class="literal">ndb_replication</code> テーブルを作成する必要があります。このテーブルは、ロギングと競合解決関数をテーブル単位に制御するために使用され、レプリケーションに関与する 1 つの行単位テーブルを持ちます。<code class="literal">ndb_replication</code> が作成され、競合を解決すべきサーバー上の制御情報が格納されます。スレーブでローカルにデータを変更することもできる単純なマスタースレーブのセットアップでは、一般的にこれはスレーブになります。より複雑なマスターマスター (2 方向) レプリケーションスキーマでは、これは関与するすべてのマスターになります。<code class="literal">mysql.ndb_replication</code> の各行は複製されるテーブルに対応し、対象テーブルに対するログの取得方法と競合の解決方法 (すなわち、もし競合が発生した場合に、どの競合解決関数を使用するか) を指定します。<code class="literal">mysql.ndb_replication</code> テーブルの定義は次のとおりです。
      </p><pre class="programlisting">
CREATE TABLE mysql.ndb_replication  (
    db VARBINARY(63),
    table_name VARBINARY(63),
    server_id INT UNSIGNED,
    binlog_type INT UNSIGNED,
    conflict_fn VARBINARY(128),
    PRIMARY KEY USING HASH (db, table_name, server_id)
)   ENGINE=NDB
PARTITION BY KEY(db,table_name);
</pre><p>
      このテーブルのカラムは、次のいくつかのパラグラフで説明します。
    </p><p><b>db </b>
        複製されるテーブルを含むデータベースの名前です。ワイルドカード <code class="literal">_</code> と <code class="literal">%</code> のどちらか、またはその両方を、データベース名の一部として使用できます。マッチングは、<code class="literal">LIKE</code> 演算子に対して実装されたマッチングに似ています。
      </p><p><b>table_name </b>
        複製されるテーブルの名前です。テーブル名に、ワイルドカード <code class="literal">_</code> と <code class="literal">%</code> のどちらか、またはその両方を含めることができます。マッチングは、<code class="literal">LIKE</code> 演算子に対して実装されたマッチングに似ています。
      </p><p><b>server_id </b>
        テーブルが存在する MySQL インスタンス (SQL ノード) の一意のサーバー ID です。
      </p><p><b>binlog_type </b>
        使用されるバイナリロギングのタイプです。これは、次の表に示すように指定されます。
      </p><div class="informaltable"><table summary="この表では、binlog_type 値の一覧を示し、それぞれの内部値と説明を掲載します。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">値</th><th scope="col">内部値</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row">0</td><td><code class="literal">NBT_DEFAULT</code></td><td>サーバーのデフォルトを使用します</td></tr><tr><td scope="row">1</td><td><code class="literal">NBT_NO_LOGGING</code></td><td>バイナリログにこのテーブルの記録を行いません</td></tr><tr><td scope="row">2</td><td><code class="literal">NBT_UPDATED_ONLY</code></td><td>更新された属性のみが記録されます</td></tr><tr><td scope="row">3</td><td><code class="literal">NBT_FULL</code></td><td>更新されない場合でも、行全体を記録します (MySQL サーバーのデフォルトの動作)</td></tr><tr><td scope="row">4</td><td><code class="literal">NBT_USE_UPDATE</code></td><td>(<code class="literal">NBT_UPDATED_ONLY_USE_UPDATE</code> および <code class="literal">NBT_FULL_USE_UPDATE</code> の値の生成のみを行い、単独では使用しません)</td></tr><tr><td scope="row">5</td><td>[<span class="emphasis"><em>Not used</em></span>]</td><td>---</td></tr><tr><td scope="row">6</td><td><code class="literal">NBT_UPDATED_ONLY_USE_UPDATE</code> (<code class="literal">NBT_UPDATED_ONLY | NBT_USE_UPDATE</code> に相当)</td><td>値が変更されていない場合でも、更新された属性を使用します</td></tr><tr><td scope="row">7</td><td><code class="literal">NBT_FULL_USE_UPDATE</code> (<code class="literal">NBT_FULL | NBT_USE_UPDATE</code> に相当)</td><td>値が変更されていない場合でも、行全体を使用します</td></tr></tbody></table></div><p><b>conflict_fn </b>
        適用される競合解決関数です。この関数は、次のリストに示されたいずれかの関数として指定する必要があります。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-ndb-old" title="NDB$OLD(column_name)">NDB$OLD(column_name)</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-ndb-max" title="NDB$MAX(column_name)">NDB$MAX(column_name)</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-ndb-max-delete-win" title="NDB$MAX_DELETE_WIN(column_name)">NDB$MAX_DELETE_WIN(column_name)</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-ndb-epoch" title="NDB$EPOCH() および NDB$EPOCH_TRANS()">NDB$EPOCH() および NDB$EPOCH_TRANS()</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-ndb-epoch-trans" title="NDB$EPOCH_TRANS()">NDB$EPOCH_TRANS()</a>
        </p></li><li class="listitem"><p>
          <code class="literal">NULL</code>
        </p></li></ul></div><p>
      これらの関数は、次のいくつかのパラグラフで説明します。
    </p><p><a name="mysql-cluster-replication-ndb-old"></a><b>NDB$OLD(column_name) </b>
        <a class="indexterm" name="idm139979016636672"></a> <em class="replaceable"><code>column_name</code></em> の値がマスターとスレーブで同じである場合、更新が適用されます。同じでないと、更新はスレーブに適用されず、例外がログに書き込まれます。これは、次の擬似コードで説明します。
      </p><pre class="programlisting">
if (<em class="replaceable"><code>master_old_column_value</code></em> == <em class="replaceable"><code>slave_current_column_value</code></em>)
  apply_update();
else
  log_exception();
</pre><p>
      <a class="indexterm" name="idm139979016632272"></a> この関数は<span class="quote">「<span class="quote">同じ値が優先</span>」</span>競合解決に使用されます。このタイプの競合解決では、誤ったマスターから更新がスレーブに適用されません。
    </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
        マスターの<span class="quote">「<span class="quote">前</span>」</span>のイメージのカラム値がこの関数で使用されます。
      </p></div><p><a name="mysql-cluster-replication-ndb-max"></a><b>NDB$MAX(column_name) </b>
        <a class="indexterm" name="idm139979016627328"></a> マスターからの特定の行の <span class="quote">「<span class="quote">タイムスタンプ</span>」</span>カラム値がスレーブでの値より高い場合は、適用されます。高くない場合は、スレーブで適用されません。これは、次の擬似コードで説明します。
      </p><pre class="programlisting">
if (<em class="replaceable"><code>master_new_column_value</code></em> &gt; <em class="replaceable"><code>slave_current_column_value</code></em>)
  apply_update();
</pre><p>
      <a class="indexterm" name="idm139979016623184"></a> この関数は<span class="quote">「<span class="quote">もっとも大きいタイムスタンプが優先</span>」</span>競合解決に使用できます。このタイプの競合解決では、競合が発生した場合、最後に更新された行のバージョンが存続するバージョンになります。
    </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
        マスターの<span class="quote">「<span class="quote">後</span>」</span>のイメージからのカラム値がこの関数で使用されます。
      </p></div><p><a name="mysql-cluster-replication-ndb-max-delete-win"></a><b>NDB$MAX_DELETE_WIN(column_name) </b>
        <a class="indexterm" name="idm139979016618032"></a> これは <code class="literal">NDB$MAX()</code> のバリエーションです。タイムスタンプは削除操作に使用できないため、<code class="literal">NDB$MAX()</code> を使用する削除は、実際には <code class="literal">NDB$OLD</code> として処理されます。ただしユースケースによっては、これは最適ではありません。<code class="literal">NDB$MAX_DELETE_WIN()</code> の場合、マスターから既存の行を追加または更新する特定行の <span class="quote">「<span class="quote">タイムスタンプ</span>」</span>カラム値が、スレーブでの値より大きい場合に適用されます。ただし、削除操作は常に値が高いものとして処理されます。これは、次の擬似コードで説明します。
      </p><pre class="programlisting">
if ( (<em class="replaceable"><code>master_new_column_value</code></em> &gt; <em class="replaceable"><code>slave_current_column_value</code></em>)
        ||
      <em class="replaceable"><code>operation.type</code></em> == "delete")
  apply_update();
</pre><p>
      <a class="indexterm" name="idm139979016609904"></a> この関数は<span class="quote">「<span class="quote">もっとも大きいタイムスタンプ、削除が優先</span>」</span>競合解決に使用できます。このタイプの競合解決では、競合が発生した場合、削除された行のバージョン、または (そうでなければ) 最後に更新された行のバージョンが存続するバージョンになります。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        <code class="literal">NDB$MAX()</code> と同様に、マスターの<span class="quote">「<span class="quote">後</span>」</span>のイメージからのカラム値が、この関数で使用される値です。
      </p></div><p><a name="mysql-cluster-replication-ndb-epoch"></a><b>NDB$EPOCH() および NDB$EPOCH_TRANS() </b>
        <code class="literal">NDB$EPOCH()</code> 関数は、複製されたエポックが、スレーブで発生した変更に関連してスレーブの MySQL Cluster で適用される順番を追跡します。この相対的な順番は、スレーブで発生した変更が、ローカルに発生した変更と同時に起こったかどうか、そのために競合が発生する可能性があるかどうかを判断するために使用されます。
      </p><p>
      <code class="literal">NDB$EPOCH()</code> の説明で従う内容のほとんどは、<code class="literal">NDB$EPOCH_TRANS()</code> にも適用されます。例外は本文に記載されています。
    </p><p>
      <code class="literal">NDB$EPOCH()</code> は非対象であり、2 つのクラスタの循環レプリケーション構成の一方の MySQL Cluster で動作します (<span class="quote">「<span class="quote">アクティブアクティブ</span>」</span>レプリケーションと呼ぶこともあります)。ここで、プライマリとして動作するクラスタと、セカンダリとして動作するもう一方のクラスタについて言及します。プライマリのスレーブは競合の検出と処理を担います。一方、セカンダリのスレーブは競合の検出または処理には関与しません。
    </p><p>
      プライマリのスレーブが競合を検出すると、競合を相殺するためにスレーブ自身のバイナリログにイベントを挿入します。これにより、最終的にセカンダリの MySQL Cluster はプライマリに合うように再調整され、プライマリとセカンダリの不一致が回避されます。この補正と再調整のメカニズムには、プライマリの MySQL Cluster がセカンダリとの競合に常に勝る必要があります。つまり、競合が発生した場合、セカンダリからの変更ではなく、プライマリの変更が常に使用される必要があります。この<span class="quote">「<span class="quote">プライマリが常に勝つ</span>」</span>ルールには次の意味が込められています。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          プライマリでいったんコミットされると、データを変更する操作は永続し、競合の検出と解決によって取り消されたり、ロールバックされたりしません。
        </p></li><li class="listitem"><p>
          プライマリから読み取られたデータには一貫性があります。プライマリでコミットされた変更 (ローカルまたはスレーブから) は、あとで取り消せません。
        </p></li><li class="listitem"><p>
          セカンダリでデータを変更する操作は、競合が発生しているとプライマリが判断した場合、あとで取り消される可能性があります。
        </p></li><li class="listitem"><p>
          セカンダリで読み取られた各行は、常に自己矛盾がなく、各行は、セカンダリでコミットされた状態、またはプライマリでコミットされた状態のいずれかを常に反映しています。
        </p></li><li class="listitem"><p>
          セカンダリで読み取られた一連の行は、任意の時点で必ずしも一貫しているわけではありません。<code class="literal">NDB$EPOCH_TRANS()</code> の場合、これは一時的な状態であり、<code class="literal">NDB$EPOCH()</code> の場合は、永続的な状態となることがあります。
        </p></li><li class="listitem"><p>
          十分な期間、競合が発生しないと、セカンダリの MySQL Cluster のすべてのデータは (最終的に) プライマリのデータに一致します。
        </p></li></ul></div><p>
      <code class="literal">NDB$EPOCH()</code> および <code class="literal">NDB$EPOCH_TRANS()</code> では、競合を検出するためにユーザースキーマを修正したり、アプリケーションを変更したりする必要はありません。ただし、システム全体が指定された制限内で動作することを検証するために、使用するスキーマ、および使用するアクセスパターンを考慮する必要があります。
    </p><p>
      <code class="literal">NDB$EPOCH()</code> および <code class="literal">NDB$EPOCH_TRANS()</code> 関数はオプションのパラメータを取ることができます。これはエポックの下位 32 ビットを表すために使用されるビット数であり、次の値以上に設定してください。
    </p><pre class="programlisting">
CEIL( LOG2( <code class="literal">TimeBetweenGlobalCheckpoints</code> / <code class="literal">TimeBetweenEpochs</code> ), 1) 
</pre><p>
      これらの構成パラメータがデフォルト値 (それぞれ、2000 および 100 ミリ秒) である場合、値は 5 バイトになり、デフォルト値 (6) で十分です。ただし、ほかの値が <code class="literal">TimeBetweenGlobalCheckpoints</code>、<code class="literal">TimeBetweenEpochs</code>、またはその両方に使用される場合を除きます。値が小さすぎると誤判定となる可能性があります。一方、値が大きすぎると、データベース内に無駄なスペースが増える可能性があります。
    </p><p>
      このセクションの別のところで説明するように、例外テーブルが同じ例外テーブルのスキーマルールに従って定義された場合、<code class="literal">NDB$EPOCH()</code> と <code class="literal">NDB$EPOCH_TRANS()</code> の両方は競合している行のエントリを関連する例外テーブルに挿入します (<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-ndb-old" title="NDB$OLD(column_name)">NDB$OLD(column_name)</a>を参照してください)。例外テーブルを使用するテーブルを作成する前に、例外テーブルを作成する必要があります。
    </p><p>
      <code class="literal">NDB$EPOCH()</code> および <code class="literal">NDB$EPOCH_TRANS()</code> は、このセクションで説明したほかの競合検出関数と同様に、<code class="literal">mysql.ndb_replication</code> テーブルに関連するエントリを含めることで起動されます (<a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-replication-table" title="ndb_replication システムテーブル">ndb_replication システムテーブル</a>を参照してください)。このシナリオでのプライマリとセカンダリの MySQL Cluster のロールは、<code class="literal">mysql.ndb_replication</code> テーブルのエントリによってすべて決定されます。
    </p><p>
      <code class="literal">NDB$EPOCH()</code> および <code class="literal">NDB$EPOCH_TRANS()</code> で使用される競合検出アルゴリズムは非同期であるため、プライマリスレーブとセカンダリスレーブの <code class="literal">server_id</code> エントリで異なる値を使用する必要があります。
    </p><p>
      MySQL Cluster NDB 7.3.6 より前では、<code class="literal">DELETE</code> 操作間の競合は <code class="literal">UPDATE</code> 操作の競合と同様に処理され、同じエポック内の競合は競合していると見なされていました。MySQL Cluster NDB 7.3.6 以降では、<code class="literal">DELETE</code> 操作間の競合だけでは <code class="literal">NDB$EPOCH()</code> または <code class="literal">NDB$EPOCH_TRANS()</code> を使用して競合を起動するには十分でなく、エポック内の相対的な配置は重要ではありません。(Bug "18454499)
    </p><p><a name="mysql-cluster-replication-ndb-epoch-statvars"></a><b>NDB$EPOCH() および NDB$EPOCH_TRANS() ステータス変数 </b>
        <code class="literal">NDB$EPOCH()</code> および <code class="literal">NDB$EPOCH_TRANS()</code> の競合検出をモニターするために、いくつかのステータス変数を使用できます。このスレーブが <code class="literal">Ndb_conflict_fn_epoch</code> システムステータス変数の現在の値で最後に再起動されたあとに <code class="literal">NDB$EPOCH()</code> によって競合中であると検出された行数がわかります。
      </p><p>
      <code class="literal">Ndb_conflict_fn_epoch_trans</code> は <code class="literal">NDB$EPOCH_TRANS()</code> によって競合中であると直接検出された行数を示します。実際に再構成された行数 (行のメンバーシップ、またはほかの競合する行と同じトランザクションの依存関係によって影響を受ける行を含みます) は、<code class="literal">Ndb_conflict_trans_row_reject_count</code> によって取得されます。
    </p><p>
      詳細については、<a class="xref" href="mysql-cluster.html#mysql-cluster-status-variables" title="18.3.4.4 MySQL Cluster のステータス変数">セクション18.3.4.4「MySQL Cluster のステータス変数」</a>を参照してください。
    </p><p><a name="mysql-cluster-replication-ndb-epoch-limitations"></a><b>NDB$EPOCH() の制約 </b>
        <code class="literal">NDB$EPOCH()</code> を使用して競合検出を実行する場合、現在、次の制約が適用されます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">TimeBetweenEpochs</code> (デフォルト: 100 ミリ秒) に比例する精度で、競合が MySQL Cluster のエポック境界を使用して検出されます。最小競合ウィンドウは、両方のクラスタの同じデータへの並列更新が常に競合を報告する最小時間です。これは、常にゼロでない時間であり、<code class="literal">2 * (latency + queueing + TimeBetweenEpochs)</code> にほぼ比例します。これは、<code class="literal">TimeBetweenEpochs</code> にデフォルトを仮定し、またクラスタ間の待機時間 (およびキューイング遅延) を無視して、最小競合ウィンドウが約 200 ミリ秒であることを意味します。この最小ウィンドウは、予期されたアプリケーション<span class="quote">「<span class="quote">競争</span>」</span>パターンを調べるときに考慮してください。
        </p></li><li class="listitem"><p>
          <code class="literal">NDB$EPOCH()</code> および <code class="literal">NDB$EPOCH_TRANS()</code> 関数を使用するテーブルには、追加ストレージが必要です。関数に渡される値によって、1 行当たり 1 ビットから 32 ビットのスペースが必要です。
        </p></li><li class="listitem"><p>
          削除操作の競合は、プライマリとセカンダリの間の相違につながる可能性があります。行が両方のクラスタ上で同時に削除される場合、競合は検出できますが、行が削除されるために競合は記録されません。すなわち、後続の再編成操作の伝播中にさらなる競合は検出されず、不一致になる可能性があります。
        </p><p>
          削除は外部シリアライズするか、1 つのクラスタだけにルーティングしてください。また、行の削除の間の競合を追跡できるように、このような削除および削除に続く挿入でトランザクションごとに個々の行を更新してください。これには、アプリケーションの変更が必要となる場合があります。
        </p></li><li class="listitem"><p>
          競合の検出に <code class="literal">NDB$EPOCH()</code> または <code class="literal">NDB$EPOCH_TRANS()</code> を使用する場合、循環<span class="quote">「<span class="quote">アクティブアクティブ</span>」</span>構成の MySQL Cluster が 2 つの場合のみがサポートされています。
        </p></li><li class="listitem"><p>
          <code class="literal">BLOB</code> または <code class="literal">TEXT</code> カラムを持つテーブルは、現在 <code class="literal">NDB$EPOCH()</code> または <code class="literal">NDB$EPOCH_TRANS()</code> ではサポートされていません。
        </p></li></ul></div><p><a name="mysql-cluster-replication-ndb-epoch-trans"></a><b>NDB$EPOCH_TRANS() </b>
        <code class="literal">NDB$EPOCH_TRANS()</code> は <code class="literal">NDB$EPOCH()</code> 関数を拡張したものです。<span class="quote">「<span class="quote">プライマリがすべてに優先</span>」</span>ルール (<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-ndb-epoch" title="NDB$EPOCH() および NDB$EPOCH_TRANS()">NDB$EPOCH() および NDB$EPOCH_TRANS()</a>を参照してください) を使用する同じ方法で競合が検出され、処理されますが、競合が発生した同じトランザクションで更新されたその他の行も競合していると見なす、という条件が追加されます。つまり、<code class="literal">NDB$EPOCH()</code> がセカンダリの競合している各行を再編成するのに対して、<code class="literal">NDB$EPOCH_TRANS()</code> は競合しているトランザクションを再編成します。
      </p><p>
      また、競合しているトランザクションへの依存が検出されたトランザクションも競合していると見なされ、これらの依存関係はセカンダリクラスタのバイナリログの内容によって判断されます。バイナリログにはデータ変更操作だけ (挿入、更新、削除) が含まれるため、重複するデータの変更だけがトランザクション間の依存関係の判断に使用されます。
    </p><p>
      <code class="literal">NDB$EPOCH_TRANS()</code> は <code class="literal">NDB$EPOCH()</code> と同じ条件と制約に従い、さらにバージョン 2 のバイナリログ行イベントが使用されます (<code class="option">--log-bin-use-v1-row-events</code> は 0 に等しい)。これにより、バイナリログ内のイベント当たり 2 バイトのストレージオーバーヘッドが加わります。また、すべてのトランザクション ID をセカンダリのバイナリログに記録する必要があり (<code class="option">--ndb-log-transaction-id</code> オプション)、このため、可変のオーバーヘッド (行当たり最大 13 バイト) がさらに加わります。
    </p><p>
      <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-ndb-epoch" title="NDB$EPOCH() および NDB$EPOCH_TRANS()">NDB$EPOCH() および NDB$EPOCH_TRANS()</a>を参照してください。
    </p><p><b>NULL </b>
        対応するテーブルに競合解決を使用しないことを示します。
      </p><p><b>ステータス情報 </b>
        サーバーステータス変数 <code class="literal">Ndb_conflict_fn_max</code> は、<span class="command"><strong>mysqld</strong></span> が最後に起動されてから、<span class="quote">「<span class="quote">もっとも大きいタイムスタンプが優先</span>」</span>競合解決によって現在の SQL ノードに行が適用されなかった回数のカウントを示します。
      </p><p>
      指定された <span class="command"><strong>mysqld</strong></span> が最後に再起動されたあとに<span class="quote">「<span class="quote">同じタイムスタンプが優先</span>」</span>競合解決の結果として行が挿入されなかった回数は、グローバルステータス変数 <code class="literal">Ndb_conflict_fn_old</code> によって取得されます。<code class="literal">Ndb_conflict_fn_old</code> をインクリメントすること以外に、このセクションの後半の説明のように、使用されなかった行の主キーは <em class="firstterm">例外テーブル</em>に挿入されます。
    </p><p><a name="mysql-cluster-replication-exceptions-table"></a><b>競合解決の例外テーブル </b>
        <code class="literal">NDB$OLD()</code> 競合解決関数を使用するには、このタイプの競合解決が使用される各 <code class="literal">NDB</code> テーブルに対応する例外テーブルも作成する必要があります。これは、<code class="literal">NDB$EPOCH()</code> または <code class="literal">NDB$EPOCH_TRANS()</code> を使用する場合にも当てはまります。このテーブルの名前は、競合解決が適用されるテーブルの名前に文字列 <code class="literal">$EX</code> を付加した名前です。(たとえば、元のテーブルの名前が <code class="literal">mytable</code> である場合、対応する例外テーブルの名前は <code class="literal">mytable$EX</code> になります。)MySQL Cluster NDB 7.4.1 より前では、このテーブルは次のように作成されます。
      </p><pre class="programlisting">
CREATE TABLE <em class="replaceable"><code>original_table</code></em>$EX  (
    server_id INT UNSIGNED,
    master_server_id INT UNSIGNED,
    master_epoch BIGINT UNSIGNED,
    count INT UNSIGNED,

    <em class="replaceable"><code>original_table_pk_columns</code></em>,

    [<em class="replaceable"><code>additional_columns</code></em>,]

    PRIMARY KEY(server_id, master_server_id, master_epoch, count)
) ENGINE=NDB;
</pre><p>
      MySQL Cluster NDB 7.4.1 以降では、例外のタイプ、原因、および元のトランザクションに関する情報を提供するオプションカラムを含む、拡張した例外テーブル定義をサポートしています。これらのバージョンでは、例外テーブルを作成する構文は次のとおりです。
    </p><pre class="programlisting">
CREATE TABLE original_table$EX  (
    [NDB$]server_id INT UNSIGNED,
    [NDB$]master_server_id INT UNSIGNED,
    [NDB$]master_epoch BIGINT UNSIGNED,
    [NDB$]count INT UNSIGNED,

    [NDB$OP_TYPE ENUM('WRITE_ROW','UPDATE_ROW', 'DELETE_ROW', 
      'REFRESH_ROW', 'READ_ROW') NOT NULL,]
    [NDB$CFT_CAUSE ENUM('ROW_DOES_NOT_EXIST', 'ROW_ALREADY_EXISTS', 
      'DATA_IN_CONFLICT', 'TRANS_IN_CONFLICT') NOT NULL,]
    [NDB$ORIG_TRANSID BIGINT UNSIGNED NOT NULL,]

    <em class="replaceable"><code>original_table_pk_columns</code></em>,

    [<em class="replaceable"><code>orig_table_column</code></em>|<em class="replaceable"><code>orig_table_column</code></em>$OLD|<em class="replaceable"><code>orig_table_column</code></em>$NEW,]

    [<em class="replaceable"><code>additional_columns</code></em>,]

    PRIMARY KEY([NDB$]server_id, [NDB$]master_server_id, [NDB$]master_epoch, [NDB$]count)
) ENGINE=NDB;
</pre><p>
      最初の 4 つのカラムが必須です。最初の 4 つのカラムの名前、および元のテーブルの主キーカラムに一致するカラムの名前は重要ではありません。ただし、わかりやすさと一貫性のため、<code class="literal">server_id</code>、<code class="literal">master_server_id</code>、<code class="literal">master_epoch</code>、および <code class="literal">count</code> のカラムについてはここで示した名前を使用し、元のテーブルの主キーのカラムに一致するカラムについては元のテーブルと同じ名前を使用することをお勧めします。
    </p><p>
      MySQL Cluster NDB 7.4.1 以降では、例外テーブルがこのセクションの後半で説明した複数のオプションカラム <code class="literal">NDB$OP_TYPE</code>、<code class="literal">NDB$CFT_CAUSE</code>、または <code class="literal">NDB$ORIG_TRANSID</code> を使用している場合、各必須カラムもプリフィクス <code class="literal">NDB$</code> を使用して名前を付ける必要があります。必要に応じて、オプションカラムを定義しない場合でも <code class="literal">NDB$</code> プリフィクスを使用して必須カラムに名前を付けることができます。ただしこの場合、4 つすべての必須カラムにプリフィクスを使用して名前を付ける必要があります。
    </p><p>
      このカラムに続き、元のテーブルの主キーを構成するカラムは、元のテーブルの主キーの定義に使用される順番でコピーをしてください。元のテーブルの主キーカラムを複製するカラムのデータ型は、元のカラムと同じ (または大きい) データ型にしてください。MySQL Cluster NDB 7.3 以前では、例外テーブルの主キーはカラム対カラムで再作成する必要があります。MySQL Cluster NDB 7.4.1 以降では、主キーカラムのサブセットを使用することも可能です。
    </p><p>
      使用する MySQL Cluster のバージョンにかかわらず、例外テーブルは <code class="literal">NDB</code> ストレージエンジンを使用する必要があります。(例外テーブルで <code class="literal">NDB$OLD()</code> を使用する例は、このセクションの後半で示します。)
    </p><p>
      オプションで、コピーされる主キーカラムのあとに追加カラムを定義できますが、その前に追加カラムを定義することはできません。このような追加カラムは <code class="literal">NOT NULL</code> にはできません。MySQL Cluster NDB 7.4.1 以降では、事前定義の 3 つの追加オプションカラム <code class="literal">NDB$OP_TYPE</code>、<code class="literal">NDB$CFT_CAUSE</code>、および <code class="literal">NDB$ORIG_TRANSID</code> (次のいくつかのパラグラフで説明します) をサポートしています。
    </p><p>
      <code class="literal">NDB$OP_TYPE</code>: このカラムは、競合の原因となる操作の種類を取得するために使用できます。このカラムを使用する場合、ここで示すように定義します。
    </p><pre class="programlisting">
NDB$OP_TYPE ENUM('WRITE_ROW', 'UPDATE_ROW', 'DELETE_ROW', 
    'REFRESH_ROW', 'READ_ROW') NOT NULL
</pre><p>
      <code class="literal">WRITE_ROW</code>、<code class="literal">UPDATE_ROW</code>、および <code class="literal">DELETE_ROW</code> 操作タイプは、ユーザー起動の操作を表します。<code class="literal">REFRESH_ROW</code> 操作は、競合を検出したクラスタから元のクラスタに戻されたトランザクションを相殺するときに、競合解決によって生成される操作です。<code class="literal">READ_ROW</code> 操作は、排他的行ロックを使用して定義される、ユーザー起動の読み取り追跡操作です。
    </p><p>
      <code class="literal">NDB$CFT_CAUSE</code>: 登録された競合の原因を示すオプションカラム <code class="literal">NDB$CFT_CAUSE</code> を定義できます。このカラムは、使用する場合、ここで示すように定義されます。
    </p><pre class="programlisting">
NDB$CFT_CAUSE ENUM('ROW_DOES_NOT_EXIST', 'ROW_ALREADY_EXISTS',
    'DATA_IN_CONFLICT', 'TRANS_IN_CONFLICT') NOT NULL
</pre><p>
      <code class="literal">ROW_DOES_NOT_EXIST</code> は <code class="literal">UPDATE_ROW</code> および <code class="literal">WRITE_ROW</code> 操作の原因として報告できます。<code class="literal">ROW_ALREADY_EXISTS</code> は <code class="literal">WRITE_ROW</code> イベントに対して報告できます。<code class="literal">DATA_IN_CONFLICT</code> は、行ベースの競合関数が競合を検出した場合に報告されます。<code class="literal">TRANS_IN_CONFLICT</code> は、トランザクション競合関数がトランザクション全体に属するすべての操作を拒否する場合に報告されます。
    </p><p>
      <code class="literal">NDB$ORIG_TRANSID</code>: <code class="literal">NDB$ORIG_TRANSID</code> カラムは、使用する場合、元のトランザクションの ID を格納します。このカラムは次のように定義されます。
    </p><pre class="programlisting">
NDB$ORIG_TRANSID BIGINT UNSIGNED NOT NULL
</pre><p>
      <code class="literal">NDB$ORIG_TRANSID</code> は <code class="literal">NDB</code> によって生成される 64 ビットの値です。この値は、同じまたは異なる例外テーブルから同じ競合トランザクションに属する複数の例外テーブルのエントリを相互に関連付けるために使用されます。
    </p><p>
      MySQL Cluster NDB 7.4.1 以降では、更新および削除の操作 (すなわち、<code class="literal">DELETE_ROW</code> イベントを含む操作です) で、元のテーブルの主キーの一部ではない追加参照カラムの名前を <code class="literal"><em class="replaceable"><code>colname</code></em>$OLD</code> または <code class="literal"><em class="replaceable"><code>colname</code></em>$NEW</code>. <code class="literal"><em class="replaceable"><code>colname</code></em>$OLD</code> 参照の古い値にできます。<code class="literal"><em class="replaceable"><code>colname</code></em>$NEW</code> は挿入および更新の操作 (言い換えると、<code class="literal">WRITE_ROW</code> イベント、<code class="literal">UPDATE_ROW</code> イベント、または両方のタイプのイベントを使用する操作です) で新しい値の参照に使用できます。競合中の操作は特定の非主キー参照カラムに値は指定されませんが、例外テーブルの行には <code class="literal">NULL</code> またはそのカラムに対して定義されたデフォルト値のいずれかが格納されます。
    </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
        <code class="literal">mysql.ndb_replication</code> テーブルは、データテーブルがレプリケーション用にセットアップされたときに読み取られるため、複製されるテーブルに対応する行は、複製されるテーブルが作成される<span class="emphasis"><em>前</em></span>に <code class="literal">mysql.ndb_replication</code> に挿入する必要があります。
      </p></div><h4><a name="idm139979016441328"></a>例</h4><p>
      この例では、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-preparation" title="18.6.5 レプリケーションのための MySQL Cluster の準備">セクション18.6.5「レプリケーションのための MySQL Cluster の準備」</a>および<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-starting" title="18.6.6 MySQL Cluster レプリケーションの起動 (レプリケーションチャネルが 1 つ)">セクション18.6.6「MySQL Cluster レプリケーションの起動 (レプリケーションチャネルが 1 つ)」</a>で説明したとおり、すでに MySQL Cluster レプリケーションセットアップが正常に機能しているものとします。
    </p><p><a name="mysql-cluster-replication-examples-ndbmax"></a><b>NDB$MAX() の例 </b>
        <span class="quote">「<span class="quote">タイムスタンプ</span>」</span> としてカラム <code class="literal">mycol</code> を使用して、テーブル <code class="literal">test.t1</code> で<span class="quote">「<span class="quote">もっとも大きいタイムスタンプが優先</span>」</span>競合解決を有効にするものとします。これは、次のステップで実行できます。
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          <code class="option">--ndb-log-update-as-write=OFF</code> でマスターの <span class="command"><strong>mysqld</strong></span> を起動したことを確認します。
        </p></li><li class="listitem"><p>
          マスターで、<code class="literal">INSERT</code> ステートメントを実行します。
        </p><pre class="programlisting">
INSERT INTO mysql.ndb_replication
    VALUES ('test', 't1', 0, NULL, 'NDB$MAX(mycol)');
</pre><p>
          <code class="literal">server_id</code> に 0 を挿入すると、このテーブルにアクセスするすべての SQL ノードが競合解決を使用します。特定の <span class="command"><strong>mysqld</strong></span> だけで競合解決を使用する場合は、実際のサーバー ID を使用します。
        </p><p>
          <code class="literal">binlog_type</code> カラムに <code class="literal">NULL</code> を挿入すると、0 (<code class="literal">NBT_DEFAULT</code>) の挿入と同じ効果があり、サーバーのデフォルトが使用されます。
        </p></li><li class="listitem"><p>
          <code class="literal">test.t1</code> テーブルを作成します。
        </p><pre class="programlisting">
CREATE TABLE test.t1 (
    <em class="replaceable"><code>columns</code></em>
    mycol INT UNSIGNED,
    <em class="replaceable"><code>columns</code></em>
) ENGINE=NDB;
</pre><p>
          これで、このテーブルに更新が行われると、競合解決が適用され、<code class="literal">mycol</code> のもっとも大きい値を持つ行のバージョンがスレーブに書き込まれます。
        </p></li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        ほかの <code class="literal">binlog_type</code> オプション (<code class="literal">NBT_UPDATED_ONLY_USE_UPDATE</code> など) は、コマンド行オプションを使用するのではなく、<code class="literal">ndb_replication</code> テーブルを使用してマスターでロギングを制御するために使用してください。
      </p></div><p><a name="mysql-cluster-replication-examples-ndbold"></a><b>NDB$OLD() の例 </b>
        <code class="literal">NDB</code> テーブル (ここで定義されたテーブルなど) が複製中であり、このテーブルへの更新に<span class="quote">「<span class="quote">同じタイムスタンプが優先</span>」</span>競合解決を有効にするものとします。
      </p><pre class="programlisting">
CREATE TABLE test.t2  (
    a INT UNSIGNED NOT NULL,
    b CHAR(25) NOT NULL,
    <em class="replaceable"><code>columns</code></em>,
    mycol INT UNSIGNED NOT NULL,
    <em class="replaceable"><code>columns</code></em>,
    PRIMARY KEY pk (a, b)
)   ENGINE=NDB;
</pre><p>
      ここで示す順番で、次のステップが必要です。
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          まず (<code class="literal">test.t2</code> を作成する<span class="emphasis"><em>前に</em></span>)、ここで示すように <a class="link" href="mysql-cluster.html#mysql-cluster-ndb-replication-table" title="ndb_replication システムテーブル"><code class="literal">mysql.ndb_replication</code></a> テーブルに行を挿入する必要があります。
        </p><pre class="programlisting">
INSERT INTO mysql.ndb_replication
    VALUES ('test', 't2', 0, NULL, 'NDB$OLD(mycol)');
</pre><p>
          <code class="literal">binlog_type</code> カラムに可能な値は、このセクションの前半に示しています。値 <code class="literal">'NDB$OLD(mycol)'</code> を <code class="literal">conflict_fn</code> カラムに挿入してください。
        </p></li><li class="listitem"><p>
          <code class="literal">test.t2</code> に対応する例外テーブルを作成します。ここで示すテーブル作成ステートメントはすべての必須カラムを含みます。これらの必須カラムのあとと、テーブルの主キー定義の前に、追加カラムを宣言する必要があります。
        </p><pre class="programlisting">
CREATE TABLE test.t2$EX  (
    server_id SMALLINT UNSIGNED,
    master_server_id INT UNSIGNED,
    master_epoch BIGINT UNSIGNED,
    count BIGINT UNSIGNED,
    a INT UNSIGNED NOT NULL,
    b CHAR(25) NOT NULL,

    [<em class="replaceable"><code>additional_columns</code></em>,]

    PRIMARY KEY(server_id, master_server_id, master_epoch, count)
)   ENGINE=NDB;
</pre><p>
          MySQL Cluster NDB 7.4.1 以降では、特定の競合に対するタイプ、原因、および元のトランザクション ID に関する情報のカラムを加えることができます。元のテーブルのすべての主キーカラムに一致するカラムを提供する必要もありません。これらのバージョンでは、次のように例外テーブルを作成できます。
        </p><pre class="programlisting">
CREATE TABLE test.t2$EX  (
    NDB$server_id SMALLINT UNSIGNED,
    NDB$master_server_id INT UNSIGNED,
    NDB$master_epoch BIGINT UNSIGNED,
    NDB$count BIGINT UNSIGNED,
    a INT UNSIGNED NOT NULL,
    
    NDB$OP_TYPE ENUM('WRITE_ROW','UPDATE_ROW', 'DELETE_ROW', 
      'REFRESH_ROW', 'READ_ROW') NOT NULL,
    NDB$CFT_CAUSE ENUM('ROW_DOES_NOT_EXIST', 'ROW_ALREADY_EXISTS', 
      'DATA_IN_CONFLICT', 'TRANS_IN_CONFLICT') NOT NULL,
    NDB$ORIG_TRANSID BIGINT UNSIGNED NOT NULL,

    [<em class="replaceable"><code>additional_columns</code></em>,]

    PRIMARY KEY(NDB$server_id, NDB$master_server_id, NDB$master_epoch, NDB$count)
)   ENGINE=NDB;
</pre><p>
          少なくとも 1 つのカラム <code class="literal">NDB$OP_TYPE</code>、<code class="literal">NDB$CFT_CAUSE</code>、または <code class="literal">NDB$ORIG_TRANSID</code> をテーブル定義に含めたため、4 つの必須カラムに <code class="literal">NDB$</code> プリフィクスが必要です。
        </p></li><li class="listitem"><p>
          前に示したように、テーブル <code class="literal">test.t2</code> を作成します。
        </p></li></ol></div><p>
      <code class="literal">NDB$OLD()</code> を使用して競合解決を実行するテーブルごとに、これらのステップに従う必要があります。このようなテーブルごとに、<code class="literal">mysql.ndb_replication</code> に対応する行があり、複製されているテーブルと同じデータベースに例外テーブルがある必要があります。
    </p><a class="indexterm" name="idm139979016387632"></a><a class="indexterm" name="idm139979016385328"></a><p><a name="mysql-cluster-replication-examples-read-conflicts"></a><b>読み取り競合の検出と解決 </b>
        MySQL Cluster NDB 7.4.1 以降では、読み取り操作の追跡をサポートしています。これにより、あるクラスタの特定の行の読み取りと、別のクラスタの同じ行の更新または削除との間で競合を管理することが、循環レプリケーションセットアップで可能になります。この例では、<code class="literal">employee</code> および <code class="literal">department</code> テーブルを使用してシナリオをモデル化します。このシナリオでは、ある従業員がある部門から別の部門にマスタークラスタ (以降、クラスタ <span class="emphasis"><em>A</em></span> と呼びます) 上で移動し、一方、スレーブクラスタ (以降、<span class="emphasis"><em>B</em></span> と呼びます) は従業員の前の部門の従業員数をインターリーブされたトランザクションで更新します。
      </p><p>
      データテーブルは次の SQL ステートメントで作成されました。
    </p><pre class="programlisting">
# Employee table
CREATE TABLE employee (
    id INT PRIMARY KEY,
    name VARCHAR(2000),
    dept INT NOT NULL
)   ENGINE=NDB;  

# Department table
CREATE TABLE department (
    id INT PRIMARY KEY,
    name VARCHAR(2000),
    members INT
)   ENGINE=NDB;
</pre><p>
      2 つのテーブルの内容は、次の <code class="literal">SELECT</code> ステートメントの出力 (一部) に示される行を含みます。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT id, name, dept FROM employee;</code></strong>
+---------------+------+
| id   | name   | dept |
+------+--------+------+
...
| 998  |  Mike  | 3    |
| 999  |  Joe   | 3    |
| 1000 |  Mary  | 3    |
...
+------+--------+------+

mysql&gt; <strong class="userinput"><code>SELECT id, name, members FROM department;</code></strong>
+-----+-------------+---------+
| id  | name        | members |
+-----+-------------+---------+
...
| 3   | Old project | 24      |
...
+-----+-------------+---------+
</pre><p>
      4 つの必須カラム (これらはこのテーブルの主キーに使用されます)、操作タイプと原因用のオプションカラム、および元のテーブルの主キーカラムを含んだ、ここで示した SQL ステートメントで作成された例外テーブルをすでに使用しているものとします。
    </p><pre class="programlisting">
CREATE TABLE employee$EX  (
    NDB$server_id INT UNSIGNED,
    NDB$master_server_id INT UNSIGNED,
    NDB$master_epoch BIGINT UNSIGNED,
    NDB$count INT UNSIGNED,

    NDB$OP_TYPE ENUM( 'WRITE_ROW','UPDATE_ROW', 'DELETE_ROW',
                      'REFRESH_ROW','READ_ROW') NOT NULL,
    NDB$CFT_CAUSE ENUM( 'ROW_DOES_NOT_EXIST',
                        'ROW_ALREADY_EXISTS',
                        'DATA_IN_CONFLICT',
                        'TRANS_IN_CONFLICT') NOT NULL,

    id INT NOT NULL,
                    
    PRIMARY KEY(NDB$server_id, NDB$master_server_id, NDB$master_epoch, NDB$count)
)   ENGINE=NDB;
</pre><p>
      2 つのクラスタ上で同時に 2 つのトランザクションが発生するものとします。クラスタ <span class="emphasis"><em>A</em></span> では、新しい部門を作成してから、従業員番号 999 をその部門に移動します。次の SQL ステートメントを使用します。
    </p><pre class="programlisting">
<code class="literal">BEGIN</code>;
  <code class="literal">INSERT</code> INTO department VALUES (4, "New project", 1);      
  <span class="emphasis"><em><code class="literal">UPDATE</code> employee SET dept = 4 WHERE id = 999;</em></span>
COMMIT;
</pre><p>
      同時にクラスタ <span class="emphasis"><em>B</em></span> では、次に示すように、別のトランザクションが <code class="literal">employee</code> から読み取ります。
    </p><pre class="programlisting">
BEGIN;
  <span class="emphasis"><em>SELECT name FROM employee WHERE id = 999;</em></span>
  UPDATE department SET members = members - 1  WHERE id = 3;
commit;
</pre><a class="indexterm" name="idm139979016361040"></a><p>
      競合しているトランザクションは、通常は競合解決メカニズムで検出されません。これは、競合が読み取り (<code class="literal">SELECT</code>) と更新操作の間で発生しているためです。MySQL Cluster NDB 7.4.1 以降では、スレーブクラスタで <code class="literal">SET</code> <code class="literal">ndb_log_exclusive_reads</code> <code class="literal">= 1</code> を実行することで、この問題を回避できます。この方法で排他的読み取りロックを取得すると、マスターでの行の読み取りに、スレーブクラスタで競合解決が必要であることを示すフラグが付きます。これらのトランザクションのロギングの前にこの方法で排他的読み取りを有効にすると、クラスタ <span class="emphasis"><em>B</em></span> での読み取りが追跡され、解決のためにクラスタ <span class="emphasis"><em>A</em></span> に送られます。従業員の行の競合が検出され、クラスタ <span class="emphasis"><em>B</em></span> でのトランザクションは中止されます。
    </p><p>
      競合は、ここで示すように (クラスタ <span class="emphasis"><em>A</em></span> にある) 例外テーブルに <code class="literal">READ_ROW</code> 操作として登録されます (操作タイプの説明については、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-exceptions-table" title="競合解決の例外テーブル">競合解決の例外テーブル</a>を参照してください)。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT id, NDB$OP_TYPE, NDB$CFT_CAUSE FROM employee$EX;</code></strong>
+-------+-------------+-------------------+
| id    | NDB$OP_TYPE | NDB$CFT_CAUSE     |
+-------+-------------+-------------------+
...
| 999   | READ_ROW    | TRANS_IN_CONFLICT |
+-------+-------------+-------------------+
</pre><p>
      読み取り操作で検出された、存在するどの行にもフラグが付けられます。すなわち、ここで示すように、クラスタ <span class="emphasis"><em>A</em></span> での更新と、同時に発生したトランザクションで同じテーブルからのクラスタ <span class="emphasis"><em>B</em></span> での複数行の読み取りとの間で競合の影響を調べることで、例外テーブルに同じ競合に起因する複数の行のログが取られる場合があります。ここで、クラスタ <span class="emphasis"><em>A</em></span> で実行されるトランザクションを示します。
    </p><pre class="programlisting">
BEGIN;
  INSERT INTO department VALUES (4, "New project", 0);      
  <span class="emphasis"><em>UPDATE employee SET dept = 4 WHERE dept = 3;</em></span>
  SELECT COUNT(*) INTO @count FROM employee WHERE dept = 4; 
  UPDATE department SET members = @count WHERE id = 4;
COMMIT;
</pre><p>
      同時に、ここで示すステートメントを含むトランザクションがクラスタ <span class="emphasis"><em>B</em></span> で実行されます。
    </p><pre class="programlisting">
SET ndb_log_exclusive_reads = 1;  # Must be set if not already enabled
...
BEGIN;
  <span class="emphasis"><em>SELECT COUNT(*) INTO @count FROM employee WHERE dept = 3 FOR UPDATE;</em></span> 
  UPDATE department SET members = @count WHERE id = 3;
COMMIT;
</pre><p>
      この場合、ここで示すように、2 番目のトランザクションの <code class="literal">SELECT</code> の中の <code class="literal">WHERE</code> 条件に一致する 3 つすべての行が読み取られ、例外テーブルでフラグが付けられます。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT id, NDB$OP_TYPE, NDB$CFT_CAUSE FROM employee$EX;</code></strong>
+-------+-------------+-------------------+
| id    | NDB$OP_TYPE | NDB$CFT_CAUSE     |
+-------+-------------+-------------------+
...
| 998   | READ_ROW    | TRANS_IN_CONFLICT | 
| 999   | READ_ROW    | TRANS_IN_CONFLICT | 
| 1000  | READ_ROW    | TRANS_IN_CONFLICT |
...
+-------+-------------+-------------------+ 
</pre><p>
      読み取りの追跡は、存在する行だけに基づいて行われます。特定条件の追跡に基づく読み取りは、<span class="emphasis"><em>検出された</em></span>行だけと競合し、インターリーブされたトランザクションで挿入された行とは競合しません。これは、MySQL Cluster の 1 つのインスタンスで排他的行ロックが実行される方法に類似しています。
    </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mysql-cluster-news"></a>18.7 MySQL Cluster リリースノート</h2></div></div></div><p>
      MySQL Cluster リリースの変更点は、このリファレンスマニュアルとは別個に文書化されています。MySQL Cluster NDB 7.3 の各リリースの変更点に関するリリースノートは、『<a class="ulink" href="http://dev.mysql.com/doc/relnotes/mysql-cluster/7.3/en/" target="_top">MySQL Cluster NDB 7.3 リリースノート</a>』にあります。MySQL Cluster NDB 7.4 リリースについては、『<a class="ulink" href="http://dev.mysql.com/doc/relnotes/mysql-cluster/7.4/en/" target="_top">MySQL Cluster NDB 7.4 リリースノート</a>』にあります。「<a class="ulink" href="http://dev.mysql.com/doc//index-cluster.html#cluster-relnotes" target="_top">MySQL Cluster リリースノート</a>」で MySQL Cluster の古いバージョンのリリースノートを入手することもできます。
    </p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="replication.html">前</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="partitioning.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">第 17 章 レプリケーション </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> 第 19 章 パーティション化</td></tr></table></div><div class="copyright-footer"></div></body></html>
