<html lang="ja"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>第 4 章 MySQL プログラム</title><link rel="stylesheet" type="text/css" href="mvl.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="MySQL 5.6 リファレンスマニュアル"><link rel="up" href="index.html" title="MySQL 5.6 リファレンスマニュアル"><link rel="prev" href="tutorial.html" title="第 3 章 チュートリアル"><link rel="next" href="server-administration.html" title="第 5 章 MySQL サーバーの管理">
<script language="javascript" type="text/javascript">
  function addOnload(theFunc)
  {
    var previous = window.onload;
    if (typeof window.onload != 'function')
    {
      window.onload = theFunc;
    }
    else
    {
      window.onload = function()
      {
        previous();
        theFunc();
      }
    }
  }

  addOnload(function()
  {
    var base = new Date(1442918127*1000);
    var now = new Date();
    var diff = ((now-base)/1000)/(24*3600);

    if (diff > 90) {
      var nodes = document.getElementsByClassName('titlepage');
      nodes[0].innerHTML = '<p style="border: 5px #ff0000 solid; padding: 5px; margin 5px">' +
        'This copy of the manual is more than 90 days old. We encourage you to download a ' +
        'new version from <a href="http://dev.mysql.com">dev.mysql.com/doc</a>.</p>' + nodes[0].innerHTML;
    }
  });
</script>
<noscript></noscript>
</head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">第 4 章 MySQL プログラム</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tutorial.html">前</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="server-administration.html">次へ</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="programs"></a>第 4 章 MySQL プログラム</h1></div></div></div><div class="toc"><p><b>目次</b></p><dl class="toc"><dt><span class="section"><a href="programs.html#programs-overview">4.1 MySQL プログラムの概要</a></span></dt><dt><span class="section"><a href="programs.html#programs-using">4.2 MySQL プログラムの使用</a></span></dt><dd><dl><dt><span class="section"><a href="programs.html#invoking-programs">4.2.1 MySQL プログラムの起動</a></span></dt><dt><span class="section"><a href="programs.html#connecting">4.2.2 MySQL サーバーへの接続</a></span></dt><dt><span class="section"><a href="programs.html#program-options">4.2.3 プログラムオプションの指定</a></span></dt><dt><span class="section"><a href="programs.html#command-line-options">4.2.4 コマンド行でのオプションの使用</a></span></dt><dt><span class="section"><a href="programs.html#option-modifiers">4.2.5 プログラムオプション修飾子</a></span></dt><dt><span class="section"><a href="programs.html#option-files">4.2.6 オプションファイルの使用</a></span></dt><dt><span class="section"><a href="programs.html#option-file-options">4.2.7 オプションファイルの処理に影響するコマンド行オプション</a></span></dt><dt><span class="section"><a href="programs.html#program-variables">4.2.8 プログラム変数の設定へのオプションの使用</a></span></dt><dt><span class="section"><a href="programs.html#option-defaults-equals">4.2.9 オプションのデフォルト、値を想定するオプション、および = 記号</a></span></dt><dt><span class="section"><a href="programs.html#setting-environment-variables">4.2.10 環境変数の設定</a></span></dt></dl></dd><dt><span class="section"><a href="programs.html#programs-server">4.3 MySQL サーバーとサーバー起動プログラム</a></span></dt><dd><dl><dt><span class="section"><a href="programs.html#mysqld">4.3.1 <span class="command"><strong>mysqld</strong></span> — MySQL サーバー</a></span></dt><dt><span class="section"><a href="programs.html#mysqld-safe">4.3.2 <span class="command"><strong>mysqld_safe</strong></span> — MySQL サーバー起動スクリプト</a></span></dt><dt><span class="section"><a href="programs.html#mysql-server">4.3.3 <span class="command"><strong>mysql.server</strong></span> — MySQL サーバー起動スクリプト</a></span></dt><dt><span class="section"><a href="programs.html#mysqld-multi">4.3.4 <span class="command"><strong>mysqld_multi</strong></span> — 複数の MySQL サーバーの管理</a></span></dt></dl></dd><dt><span class="section"><a href="programs.html#programs-installation">4.4 MySQL インストール関連のプログラム</a></span></dt><dd><dl><dt><span class="section"><a href="programs.html#comp-err">4.4.1 <span class="command"><strong>comp_err</strong></span> — MySQL エラーメッセージファイルのコンパイル</a></span></dt><dt><span class="section"><a href="programs.html#mysqlbug">4.4.2 <span class="command"><strong>mysqlbug</strong></span> — バグレポートの生成</a></span></dt><dt><span class="section"><a href="programs.html#mysql-install-db">4.4.3 <span class="command"><strong>mysql_install_db</strong></span> — MySQL データディレクトリの初期化</a></span></dt><dt><span class="section"><a href="programs.html#mysql-plugin">4.4.4 <span class="command"><strong>mysql_plugin</strong></span> — MySQL サーバープラグインの構成</a></span></dt><dt><span class="section"><a href="programs.html#mysql-secure-installation">4.4.5 <span class="command"><strong>mysql_secure_installation</strong></span> — MySQL インストールのセキュリティー改善</a></span></dt><dt><span class="section"><a href="programs.html#mysql-tzinfo-to-sql">4.4.6 <span class="command"><strong>mysql_tzinfo_to_sql</strong></span> — タイムゾーンテーブルのロード</a></span></dt><dt><span class="section"><a href="programs.html#mysql-upgrade">4.4.7 <span class="command"><strong>mysql_upgrade</strong></span> — MySQL テーブルのチェックとアップグレード</a></span></dt></dl></dd><dt><span class="section"><a href="programs.html#programs-client">4.5 MySQL クライアントプログラム</a></span></dt><dd><dl><dt><span class="section"><a href="programs.html#mysql">4.5.1 <span class="command"><strong>mysql</strong></span> — MySQL コマンド行ツール</a></span></dt><dt><span class="section"><a href="programs.html#mysqladmin">4.5.2 <span class="command"><strong>mysqladmin</strong></span> — MySQL サーバーの管理を行うクライアント</a></span></dt><dt><span class="section"><a href="programs.html#mysqlcheck">4.5.3 <span class="command"><strong>mysqlcheck</strong></span> — テーブル保守プログラム</a></span></dt><dt><span class="section"><a href="programs.html#mysqldump">4.5.4 <span class="command"><strong>mysqldump</strong></span> — データベースバックアッププログラム</a></span></dt><dt><span class="section"><a href="programs.html#mysqlimport">4.5.5 <span class="command"><strong>mysqlimport</strong></span> — データインポートプログラム</a></span></dt><dt><span class="section"><a href="programs.html#mysqlshow">4.5.6 <span class="command"><strong>mysqlshow</strong></span> — データベース、テーブル、およびカラム情報の表示</a></span></dt><dt><span class="section"><a href="programs.html#mysqlslap">4.5.7 <span class="command"><strong>mysqlslap</strong></span> — 負荷エミュレーションクライアント</a></span></dt></dl></dd><dt><span class="section"><a href="programs.html#programs-admin-utils">4.6 MySQL 管理プログラムおよびユーティリティープログラム</a></span></dt><dd><dl><dt><span class="section"><a href="programs.html#innochecksum">4.6.1 <span class="command"><strong>innochecksum</strong></span> — オフライン InnoDB ファイルチェックサムユーティリティー</a></span></dt><dt><span class="section"><a href="programs.html#myisam-ftdump">4.6.2 <span class="command"><strong>myisam_ftdump</strong></span> — 全文インデックス情報の表示</a></span></dt><dt><span class="section"><a href="programs.html#myisamchk">4.6.3 <span class="command"><strong>myisamchk</strong></span> — MyISAM テーブルメンテナンスユーティリティー</a></span></dt><dt><span class="section"><a href="programs.html#myisamlog">4.6.4 <span class="command"><strong>myisamlog</strong></span> — MyISAM ログファイルの内容の表示</a></span></dt><dt><span class="section"><a href="programs.html#myisampack">4.6.5 <span class="command"><strong>myisampack</strong></span> — 圧縮された読み取り専用の MyISAM テーブルの生成</a></span></dt><dt><span class="section"><a href="programs.html#mysql-config-editor">4.6.6 <span class="command"><strong>mysql_config_editor</strong></span> — MySQL 構成ユーティリティー</a></span></dt><dt><span class="section"><a href="programs.html#mysqlaccess">4.6.7 <span class="command"><strong>mysqlaccess</strong></span> — アクセス権限をチェックするクライアント</a></span></dt><dt><span class="section"><a href="programs.html#mysqlbinlog">4.6.8 <span class="command"><strong>mysqlbinlog</strong></span> — バイナリログファイルを処理するためのユーティリティー</a></span></dt><dt><span class="section"><a href="programs.html#mysqldumpslow">4.6.9 <span class="command"><strong>mysqldumpslow</strong></span> — スロークエリーログファイルの要約</a></span></dt><dt><span class="section"><a href="programs.html#mysqlhotcopy">4.6.10 <span class="command"><strong>mysqlhotcopy</strong></span> — データベースバックアッププログラム</a></span></dt><dt><span class="section"><a href="programs.html#mysql-convert-table-format">4.6.11 <span class="command"><strong>mysql_convert_table_format</strong></span> — 指定されたストレージエンジンを使用するためのテーブルの変換</a></span></dt><dt><span class="section"><a href="programs.html#mysql-find-rows">4.6.12 <span class="command"><strong>mysql_find_rows</strong></span> — ファイルからの SQL ステートメントの抽出</a></span></dt><dt><span class="section"><a href="programs.html#mysql-fix-extensions">4.6.13 <span class="command"><strong>mysql_fix_extensions</strong></span> — テーブルファイル名の拡張子の正規化</a></span></dt><dt><span class="section"><a href="programs.html#mysql-setpermission">4.6.14 <span class="command"><strong>mysql_setpermission</strong></span> — 付与テーブルに許可をインタラクティブに設定</a></span></dt><dt><span class="section"><a href="programs.html#mysql-waitpid">4.6.15 <span class="command"><strong>mysql_waitpid</strong></span> — プロセスを強制終了して終了を待機</a></span></dt><dt><span class="section"><a href="programs.html#mysql-zap">4.6.16 <span class="command"><strong>mysql_zap</strong></span> — パターンに一致するプロセスを強制終了</a></span></dt></dl></dd><dt><span class="section"><a href="programs.html#programs-development">4.7 MySQL プログラム開発ユーティリティー</a></span></dt><dd><dl><dt><span class="section"><a href="programs.html#msql2mysql">4.7.1 <span class="command"><strong>msql2mysql</strong></span> — mSQL プログラムを MySQL で使用するために変換</a></span></dt><dt><span class="section"><a href="programs.html#mysql-config">4.7.2 <span class="command"><strong>mysql_config</strong></span> — クライアントのコンパイル用オプションの表示</a></span></dt><dt><span class="section"><a href="programs.html#my-print-defaults">4.7.3 <span class="command"><strong>my_print_defaults</strong></span> — オプションファイルからのオプションの表示</a></span></dt><dt><span class="section"><a href="programs.html#resolve-stack-dump">4.7.4 <span class="command"><strong>resolve_stack_dump</strong></span> — 数値スタックトレースダンプをシンボルに解決</a></span></dt></dl></dd><dt><span class="section"><a href="programs.html#programs-miscellaneous">4.8 その他のプログラム</a></span></dt><dd><dl><dt><span class="section"><a href="programs.html#perror">4.8.1 <span class="command"><strong>perror</strong></span> — エラーコードの説明</a></span></dt><dt><span class="section"><a href="programs.html#replace-utility">4.8.2 <span class="command"><strong>replace</strong></span> — 文字列置換ユーティリティー</a></span></dt><dt><span class="section"><a href="programs.html#resolveip">4.8.3 <span class="command"><strong>resolveip</strong></span> — ホスト名と IP アドレスの解決</a></span></dt></dl></dd></dl></div><p>
    この章では、Oracle Corporation が提供する MySQL コマンド行プログラムの簡単な概要を説明します。また、これらのプログラムを実行するときに、オプションを指定するための一般的な構文についても説明します。ほとんどのプログラムには、その動作に固有のオプションがありますが、オプションの構文はそれらすべてに関して同様です。最後に、この章では個々のプログラムが認識するオプションを含め、詳細を説明します。
  </p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="programs-overview"></a>4.1 MySQL プログラムの概要</h2></div></div></div><p>
      MySQL インストールには多くのさまざまなプログラムがあります。このセクションでは、それらの概要を簡単に説明します。そのあとのセクションで、それぞれをより詳細に説明しますが、MySQL Cluster プログラムは例外です。各プログラムの説明では、呼び出し構文とサポートされるオプションを示します。<a class="xref" href="mysql-cluster.html#mysql-cluster-programs" title="18.4 MySQL Cluster プログラム">セクション18.4「MySQL Cluster プログラム」</a>では、MySQL Cluster に固有のプログラムについて説明します。
    </p><p>
      ほとんどの MySQL 配布には、これらのプログラムが (プラットフォーム固有のプログラムを除き) すべて含まれます。(たとえば、サーバー起動スクリプトは Windows では使用されません。)例外は、RPM 配布はより専門化されているということです。サーバー用に 1 つの RPM があり、クライアントプログラム用にもう 1 つ、などです。もし 1 つまたは複数のプログラムが欠けているようであれば、<a class="xref" href="installing.html" title="第 2 章 MySQL のインストールと更新">第2章「<i>MySQL のインストールと更新</i>」</a>を参照して、配布のタイプとその内容を確認してください。配布がすべてのプログラムを含んではおらず、追加のパッケージをインストールする必要がある場合もあります。
    </p><p>
      各 MySQL プログラムは多くのさまざまなオプションを取ります。ほとんどのプログラムには <code class="option">--help</code> オプションがあり、プログラムのさまざまなオプションの説明を取得するために使用できます。たとえば、<span class="command"><strong>mysql --help</strong></span> を試してみてください。
    </p><p>
      MySQL プログラムのデフォルトのオプション値は、コマンド行のオプションまたはオプションファイルを指定して、オーバーライドできます。プログラムの起動と、プログラムオプションの指定に関する一般的な情報については、<a class="xref" href="programs.html#programs-using" title="4.2 MySQL プログラムの使用">セクション4.2「MySQL プログラムの使用」</a>を参照してください。
    </p><p>
      MySQL Server <span class="command"><strong>mysqld</strong></span> は、MySQL インストールのほとんどの作業を実行するメインプログラムです。サーバーには、サーバーの起動と停止を支援する、関係するいくつかのスクリプトが付随します。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="indexterm" name="idm139979159809536"></a> <span class="command"><strong>mysqld</strong></span>
        </p><p>
          SQL デーモン (すなわち MySQL Server)。クライアントは、サーバーに接続することでデータベースへアクセスするため、クライアントプログラムを使用するには、<span class="command"><strong>mysqld</strong></span> が稼働していなければなりません。<a class="xref" href="programs.html#mysqld" title="4.3.1 mysqld — MySQL サーバー">セクション4.3.1「<span class="command"><strong>mysqld</strong></span> — MySQL サーバー」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159804192"></a> <span class="command"><strong>mysqld_safe</strong></span>
        </p><p>
          サーバー起動スクリプト。<span class="command"><strong>mysqld_safe</strong></span> は <span class="command"><strong>mysqld</strong></span> を起動しようとします。<a class="xref" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL サーバー起動スクリプト">セクション4.3.2「<span class="command"><strong>mysqld_safe</strong></span> — MySQL サーバー起動スクリプト」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159798720"></a> <span class="command"><strong>mysql.server</strong></span>
        </p><p>
          サーバー起動スクリプト。このスクリプトは、特定の実行レベルのシステムサービスを起動するスクリプトを含む、System V スタイルの実行ディレクトリを使用するシステム上で使用されます。これは、MySQL サーバーを起動するために、<span class="command"><strong>mysqld_safe</strong></span> を呼び出します。<a class="xref" href="programs.html#mysql-server" title="4.3.3 mysql.server — MySQL サーバー起動スクリプト">セクション4.3.3「<span class="command"><strong>mysql.server</strong></span> — MySQL サーバー起動スクリプト」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159793456"></a> <span class="command"><strong>mysqld_multi</strong></span>
        </p><p>
          システムにインストールされている複数のサーバーの起動または停止を実行できるサーバー起動スクリプト。<a class="xref" href="programs.html#mysqld-multi" title="4.3.4 mysqld_multi — 複数の MySQL サーバーの管理">セクション4.3.4「<span class="command"><strong>mysqld_multi</strong></span> — 複数の MySQL サーバーの管理」</a>を参照してください。
        </p></li></ul></div><p>
      いくつかのプログラムは、MySQL のインストール中またはアップグレード中に、セットアップ操作を実行します。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="indexterm" name="idm139979159787968"></a> <span class="command"><strong>comp_err</strong></span>
        </p><p>
          このプログラムは MySQL のビルド/インストールプロセス中に使用されます。これは、エラーソースファイルからエラーメッセージをコンパイルします。<a class="xref" href="programs.html#comp-err" title="4.4.1 comp_err — MySQL エラーメッセージファイルのコンパイル">セクション4.4.1「<span class="command"><strong>comp_err</strong></span> — MySQL エラーメッセージファイルのコンパイル」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159783536"></a> <span class="command"><strong>mysql_install_db</strong></span>
        </p><p>
          このプログラムは、MySQL データベースを作成し、付与テーブルをデフォルト権限で初期化し、<code class="literal">InnoDB</code> <a class="link" href="glossary.html#glos_system_tablespace" title="システムテーブルスペース">システムテーブルスペース</a>をセットアップします。通常、MySQL をはじめてシステムにインストールするときに一度だけ実行されます。<a class="xref" href="programs.html#mysql-install-db" title="4.4.3 mysql_install_db — MySQL データディレクトリの初期化">セクション4.4.3「<span class="command"><strong>mysql_install_db</strong></span> — MySQL データディレクトリの初期化」</a>、<a class="xref" href="installing.html#unix-postinstallation" title="2.10.1 Unix 類似システムでのインストール後の手順">セクション2.10.1「Unix 類似システムでのインストール後の手順」</a>、および<a class="xref" href="programs.html#mysql-install-db" title="4.4.3 mysql_install_db — MySQL データディレクトリの初期化">セクション4.4.3「<span class="command"><strong>mysql_install_db</strong></span> — MySQL データディレクトリの初期化」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159776368"></a> <span class="command"><strong>mysql_plugin</strong></span>
        </p><p>
          このプログラムは MySQL Server プラグインを構成します。<a class="xref" href="programs.html#mysql-plugin" title="4.4.4 mysql_plugin — MySQL サーバープラグインの構成">セクション4.4.4「<span class="command"><strong>mysql_plugin</strong></span> — MySQL サーバープラグインの構成」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159772128"></a> <span class="command"><strong>mysql_secure_installation</strong></span>
        </p><p>
          このプログラムにより、MySQL インストールのセキュリティーを改善できます。SQL。<a class="xref" href="programs.html#mysql-secure-installation" title="4.4.5 mysql_secure_installation — MySQL インストールのセキュリティー改善">セクション4.4.5「<span class="command"><strong>mysql_secure_installation</strong></span> — MySQL インストールのセキュリティー改善」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159767952"></a> <span class="command"><strong>mysql_tzinfo_to_sql</strong></span>
        </p><p>
          このプログラムは、ホストシステムの <em class="firstterm">zoneinfo</em> データベース (タイムゾーンを記述しているファイルセット) の内容を使用して、タイムゾーンテーブルを <code class="literal">mysql</code> データベースにロードします。SQL。<a class="xref" href="programs.html#mysql-tzinfo-to-sql" title="4.4.6 mysql_tzinfo_to_sql — タイムゾーンテーブルのロード">セクション4.4.6「<span class="command"><strong>mysql_tzinfo_to_sql</strong></span> — タイムゾーンテーブルのロード」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159762368"></a> <span class="command"><strong>mysql_upgrade</strong></span>
        </p><p>
          このプログラムは MySQL のアップグレード操作のあとで使用されます。テーブルの非互換性をチェックして必要に応じて修復し、新しいバージョンの MySQL で行われた変更に合わせて付与テーブルを更新します。<a class="xref" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — MySQL テーブルのチェックとアップグレード">セクション4.4.7「<span class="command"><strong>mysql_upgrade</strong></span> — MySQL テーブルのチェックとアップグレード」</a>を参照してください。
        </p></li></ul></div><p>
      MySQL サーバーに接続するクライアントプログラム。
    </p><a class="indexterm" name="idm139979159757712"></a><a class="indexterm" name="idm139979159756256"></a><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="indexterm" name="idm139979159753456"></a> <span class="command"><strong>mysql</strong></span>
        </p><p>
          インタラクティブに SQL ステートメントを書き込む、またはバッチモードでファイルを使用してステートメントを実行するためのコマンド行ツールです。<a class="xref" href="programs.html#mysql" title="4.5.1 mysql — MySQL コマンド行ツール">セクション4.5.1「<span class="command"><strong>mysql</strong></span> — MySQL コマンド行ツール」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159749216"></a> <span class="command"><strong>mysqladmin</strong></span>
        </p><p>
          データベースの作成と削除、付与テーブルのリロード、テーブルのディスクへのフラッシュ、およびログファイルの再オープン等、管理操作を実行するクライアント。<span class="command"><strong>mysqladmin</strong></span> は、サーバーからバージョン、プロセス、およびステータス情報を取得するためにも使用できます。<a class="xref" href="programs.html#mysqladmin" title="4.5.2 mysqladmin — MySQL サーバーの管理を行うクライアント">セクション4.5.2「<span class="command"><strong>mysqladmin</strong></span> — MySQL サーバーの管理を行うクライアント」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159743760"></a> <span class="command"><strong>mysqlcheck</strong></span>
        </p><p>
          テーブルのチェック、修復、分析、および最適化を行うテーブルメンテナンスのクライアント。<a class="xref" href="programs.html#mysqlcheck" title="4.5.3 mysqlcheck — テーブル保守プログラム">セクション4.5.3「<span class="command"><strong>mysqlcheck</strong></span> — テーブル保守プログラム」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159739408"></a> <span class="command"><strong>mysqldump</strong></span>
        </p><p>
          MySQL データベースを SQL、テキスト、または XML としてファイルにダンプするクライアント。<a class="xref" href="programs.html#mysqldump" title="4.5.4 mysqldump — データベースバックアッププログラム">セクション4.5.4「<span class="command"><strong>mysqldump</strong></span> — データベースバックアッププログラム」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159735072"></a> <span class="command"><strong>mysqlimport</strong></span>
        </p><p>
          <code class="literal">LOAD DATA INFILE</code> を使用して、テキストファイルを対応するテーブルにインポートするクライアント。<a class="xref" href="programs.html#mysqlimport" title="4.5.5 mysqlimport — データインポートプログラム">セクション4.5.5「<span class="command"><strong>mysqlimport</strong></span> — データインポートプログラム」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159729552"></a> <span class="command"><strong>mysqlshow</strong></span>
        </p><p>
          データベース、テーブル、カラム、およびインデックスの情報を表示するクライアント。<a class="xref" href="programs.html#mysqlshow" title="4.5.6 mysqlshow — データベース、テーブル、およびカラム情報の表示">セクション4.5.6「<span class="command"><strong>mysqlshow</strong></span> — データベース、テーブル、およびカラム情報の表示」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159725408"></a> <span class="command"><strong>mysqlslap</strong></span>
        </p><p>
          MySQL Server のクライアント負荷をエミュレートし、各ステージのタイミングをレポートするクライアント。複数のクライアントがサーバーにアクセスしているかのように作動します。<a class="xref" href="programs.html#mysqlslap" title="4.5.7 mysqlslap — 負荷エミュレーションクライアント">セクション4.5.7「<span class="command"><strong>mysqlslap</strong></span> — 負荷エミュレーションクライアント」</a>を参照してください。
        </p></li></ul></div><p>
      MySQL 管理プログラムおよびユーティリティープログラム:
    </p><a class="indexterm" name="idm139979159720640"></a><a class="indexterm" name="idm139979159719200"></a><a class="indexterm" name="idm139979159717168"></a><a class="indexterm" name="idm139979159715792"></a><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="indexterm" name="idm139979159712960"></a> <span class="command"><strong>innochecksum</strong></span>
        </p><p>
          オフライン <code class="literal">InnoDB</code> オフラインファイルのチェックサムユーティリティー。<a class="xref" href="programs.html#innochecksum" title="4.6.1 innochecksum — オフライン InnoDB ファイルチェックサムユーティリティー">セクション4.6.1「<span class="command"><strong>innochecksum</strong></span> — オフライン InnoDB ファイルチェックサムユーティリティー」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159708064"></a> <span class="command"><strong>myisam_ftdump</strong></span>
        </p><p>
          <code class="literal">MyISAM</code> テーブル内の全文インデックスの情報を表示するユーティリティー。<a class="xref" href="programs.html#myisam-ftdump" title="4.6.2 myisam_ftdump — 全文インデックス情報の表示">セクション4.6.2「<span class="command"><strong>myisam_ftdump</strong></span> — 全文インデックス情報の表示」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159703184"></a> <span class="command"><strong>myisamchk</strong></span>
        </p><p>
          <code class="literal">MyISAM</code> テーブルの記述、チェック、最適化、および修復を行うユーティリティー。<a class="xref" href="programs.html#myisamchk" title="4.6.3 myisamchk — MyISAM テーブルメンテナンスユーティリティー">セクション4.6.3「<span class="command"><strong>myisamchk</strong></span> — MyISAM テーブルメンテナンスユーティリティー」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159698224"></a> <span class="command"><strong>myisamlog</strong></span>
        </p><p>
          <code class="literal">MyISAM</code> ログファイルの内容を処理するユーティリティー。<a class="xref" href="programs.html#myisamlog" title="4.6.4 myisamlog — MyISAM ログファイルの内容の表示">セクション4.6.4「<span class="command"><strong>myisamlog</strong></span> — MyISAM ログファイルの内容の表示」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159693328"></a> <span class="command"><strong>myisampack</strong></span>
        </p><p>
          <code class="literal">MyISAM</code> テーブルを圧縮してより小さい読み取り専用のテーブルを生成するユーティリティー。<a class="xref" href="programs.html#myisampack" title="4.6.5 myisampack — 圧縮された読み取り専用の MyISAM テーブルの生成">セクション4.6.5「<span class="command"><strong>myisampack</strong></span> — 圧縮された読み取り専用の MyISAM テーブルの生成」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159688384"></a> <span class="command"><strong>mysql_config_editor</strong></span>
        </p><p>
          <code class="filename">.mylogin.cnf</code> という名前のセキュアで暗号化されたログインファイルに認証情報を格納できるようにするユーティリティー。<a class="xref" href="programs.html#mysql-config-editor" title="4.6.6 mysql_config_editor — MySQL 構成ユーティリティー">セクション4.6.6「<span class="command"><strong>mysql_config_editor</strong></span> — MySQL 構成ユーティリティー」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159683504"></a> <span class="command"><strong>mysqlaccess</strong></span>
        </p><p>
          ホスト名、ユーザー名、およびデータベースの組み合わせに対してアクセス権限をチェックするスクリプト。<a class="xref" href="programs.html#mysqlaccess" title="4.6.7 mysqlaccess — アクセス権限をチェックするクライアント">セクション4.6.7「<span class="command"><strong>mysqlaccess</strong></span> — アクセス権限をチェックするクライアント」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159679120"></a> <span class="command"><strong>mysqlbinlog</strong></span>
        </p><p>
          バイナリログからステートメントを読み取るためのユーティリティー。クラッシュ状態からリカバリするために、バイナリログファイルに含まれる実行ステートメントのログを使用することができます。<a class="xref" href="programs.html#mysqlbinlog" title="4.6.8 mysqlbinlog — バイナリログファイルを処理するためのユーティリティー">セクション4.6.8「<span class="command"><strong>mysqlbinlog</strong></span> — バイナリログファイルを処理するためのユーティリティー」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159674480"></a> <span class="command"><strong>mysqldumpslow</strong></span>
        </p><p>
          スロークエリーログの内容を読み取って要約するユーティリティー。<a class="xref" href="programs.html#mysqldumpslow" title="4.6.9 mysqldumpslow — スロークエリーログファイルの要約">セクション4.6.9「<span class="command"><strong>mysqldumpslow</strong></span> — スロークエリーログファイルの要約」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159670208"></a> <span class="command"><strong>mysqlhotcopy</strong></span>
        </p><p>
          サーバーの稼働中に <code class="literal">MyISAM</code> テーブルのバックアップを迅速に作成するユーティリティー。<a class="xref" href="programs.html#mysqlhotcopy" title="4.6.10 mysqlhotcopy — データベースバックアッププログラム">セクション4.6.10「<span class="command"><strong>mysqlhotcopy</strong></span> — データベースバックアッププログラム」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159665184"></a> <span class="command"><strong>mysql_convert_table_format</strong></span>
        </p><p>
          データベース内のテーブルを、所定のストレージエンジンを使用するように変換するユーティリティー。<a class="xref" href="programs.html#mysql-convert-table-format" title="4.6.11 mysql_convert_table_format — 指定されたストレージエンジンを使用するためのテーブルの変換">セクション4.6.11「<span class="command"><strong>mysql_convert_table_format</strong></span> — 指定されたストレージエンジンを使用するためのテーブルの変換」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159660880"></a> <span class="command"><strong>mysql_find_rows</strong></span>
        </p><p>
          SQL ステートメント (更新ログなど) を含むファイルを読み取り、所定の正規表現に一致するステートメントを抽出するユーティリティー。<a class="xref" href="programs.html#mysql-find-rows" title="4.6.12 mysql_find_rows — ファイルからの SQL ステートメントの抽出">セクション4.6.12「<span class="command"><strong>mysql_find_rows</strong></span> — ファイルからの SQL ステートメントの抽出」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159656496"></a> <span class="command"><strong>mysql_fix_extensions</strong></span>
        </p><p>
          <code class="literal">MyISAM</code> テーブルファイルの拡張子を小文字に変換するユーティリティー。これは、ファイル名の大文字と小文字を区別しないシステムから、ファイル名の大文字と小文字を区別するシステムにファイルを転送したあとで便利です。<a class="xref" href="programs.html#mysql-fix-extensions" title="4.6.13 mysql_fix_extensions — テーブルファイル名の拡張子の正規化">セクション4.6.13「<span class="command"><strong>mysql_fix_extensions</strong></span> — テーブルファイル名の拡張子の正規化」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159651120"></a> <span class="command"><strong>mysql_setpermission</strong></span>
        </p><p>
          MySQL 付与テーブルにインタラクティブに許可を設定するためのユーティリティー。<a class="xref" href="programs.html#mysql-setpermission" title="4.6.14 mysql_setpermission — 付与テーブルに許可をインタラクティブに設定">セクション4.6.14「<span class="command"><strong>mysql_setpermission</strong></span> — 付与テーブルに許可をインタラクティブに設定」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159646816"></a> <span class="command"><strong>mysql_waitpid</strong></span>
        </p><p>
          指定されたプロセス ID のプロセスを強制終了させるユーティリティー。<a class="xref" href="programs.html#mysql-waitpid" title="4.6.15 mysql_waitpid — プロセスを強制終了して終了を待機">セクション4.6.15「<span class="command"><strong>mysql_waitpid</strong></span> — プロセスを強制終了して終了を待機」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159642528"></a> <span class="command"><strong>mysql_zap</strong></span>
        </p><p>
          パターンと一致するプロセスを強制終了させるユーティリティー。<a class="xref" href="programs.html#mysql-zap" title="4.6.16 mysql_zap — パターンに一致するプロセスを強制終了">セクション4.6.16「<span class="command"><strong>mysql_zap</strong></span> — パターンに一致するプロセスを強制終了」</a>を参照してください。
        </p></li></ul></div><p>
      MySQL プログラム開発ユーティリティー:
    </p><a class="indexterm" name="idm139979159638112"></a><a class="indexterm" name="idm139979159636624"></a><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="command"><strong>msql2mysql</strong></span>
        </p><p>
          <code class="literal">mSQL</code> プログラムを MySQL に変換するシェルスクリプト。これはすべてのケースを扱うわけではありませんが、変換するときのスタートとしては便利です。<a class="xref" href="programs.html#msql2mysql" title="4.7.1 msql2mysql — mSQL プログラムを MySQL で使用するために変換">セクション4.7.1「<span class="command"><strong>msql2mysql</strong></span> — mSQL プログラムを MySQL で使用するために変換」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <span class="command"><strong>mysql_config</strong></span>
        </p><p>
          MySQL プログラムをコンパイルするときに必要なオプション値を生成するシェルスクリプト。<a class="xref" href="programs.html#mysql-config" title="4.7.2 mysql_config — クライアントのコンパイル用オプションの表示">セクション4.7.2「<span class="command"><strong>mysql_config</strong></span> — クライアントのコンパイル用オプションの表示」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159627056"></a> <span class="command"><strong>my_print_defaults</strong></span>
        </p><p>
          オプションファイルのオプショングループにどのオプションがあるかを表示するユーティリティー。<a class="xref" href="programs.html#my-print-defaults" title="4.7.3 my_print_defaults — オプションファイルからのオプションの表示">セクション4.7.3「<span class="command"><strong>my_print_defaults</strong></span> — オプションファイルからのオプションの表示」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159622704"></a> <span class="command"><strong>resolve_stack_dump</strong></span>
        </p><p>
          数値スタックトレースダンプをシンボルに解決するユーティリティープログラム。<a class="xref" href="programs.html#resolve-stack-dump" title="4.7.4 resolve_stack_dump — 数値スタックトレースダンプをシンボルに解決">セクション4.7.4「<span class="command"><strong>resolve_stack_dump</strong></span> — 数値スタックトレースダンプをシンボルに解決」</a>を参照してください。
        </p></li></ul></div><p>
      その他のユーティリティー:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="indexterm" name="idm139979159617520"></a> <span class="command"><strong>perror</strong></span>
        </p><p>
          システムあるいは MySQL エラーコードの意味を表示するユーティリティー。<a class="xref" href="programs.html#perror" title="4.8.1 perror — エラーコードの説明">セクション4.8.1「<span class="command"><strong>perror</strong></span> — エラーコードの説明」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159613296"></a> <span class="command"><strong>replace</strong></span>
        </p><p>
          入力テキストで文字列を置換するユーティリティープログラム。<a class="xref" href="programs.html#replace-utility" title="4.8.2 replace — 文字列置換ユーティリティー">セクション4.8.2「<span class="command"><strong>replace</strong></span> — 文字列置換ユーティリティー」</a>を参照してください。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159609216"></a> <span class="command"><strong>resolveip</strong></span>
        </p><p>
          ホスト名を IP アドレスに、または IP アドレスをホスト名に解決するユーティリティープログラム。<a class="xref" href="programs.html#resolveip" title="4.8.3 resolveip — ホスト名と IP アドレスの解決">セクション4.8.3「<span class="command"><strong>resolveip</strong></span> — ホスト名と IP アドレスの解決」</a>を参照してください。
        </p></li></ul></div><p>
      Oracle Corporation は、<a class="link" href="workbench.html" title="第 26 章 MySQL Workbench">MySQL Workbench</a> GUI も提供します。これは、MySQL サーバーおよびデータベースの管理、クエリーの作成、実行、評価、およびほかのリレーショナルデータベース管理システムからのスキーマおよびデータを MySQL で使用するための移行を行うために使用されます。その他の GUI ツールには、<a class="link" href="installing.html#windows-notifier" title="2.3.4 MySQL Notifier">MySQL Notifier</a> および <a class="ulink" href="http://dev.mysql.com/doc/mysql-for-excel/en/index.html" target="_top">MySQL for Excel</a> などがあります。
    </p><a class="indexterm" name="idm139979159601760"></a><a class="indexterm" name="idm139979159600288"></a><p>
      MySQL クライアント/サーバーライブラリを使用してサーバーと通信する MySQL クライアントプログラムは、次の環境変数を使用します。
    </p><a class="indexterm" name="idm139979159597472"></a><a class="indexterm" name="idm139979159596048"></a><a class="indexterm" name="idm139979159594112"></a><a class="indexterm" name="idm139979159592592"></a><a class="indexterm" name="idm139979159590656"></a><a class="indexterm" name="idm139979159589152"></a><a class="indexterm" name="idm139979159587216"></a><a class="indexterm" name="idm139979159585696"></a><a class="indexterm" name="idm139979159583760"></a><a class="indexterm" name="idm139979159582272"></a><div class="informaltable"><table summary="この表は、MySQL クライアント/サーバーライブラリを使用してサーバーと通信する MySQL クライアントプログラムが使用する環境変数を説明します。" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">環境変数</th><th scope="col">意味</th></tr></thead><tbody><tr><td scope="row"><code class="literal">MYSQL_UNIX_PORT</code></td><td><code class="literal">localhost</code> への接続に使用される、デフォルト Unix ソケットファイル</td></tr><tr><td scope="row"><code class="literal">MYSQL_TCP_PORT</code></td><td>TCP/IP 接続に使用されるデフォルトのポート番号</td></tr><tr><td scope="row"><code class="literal">MYSQL_PWD</code></td><td>デフォルトパスワード</td></tr><tr><td scope="row"><code class="literal">MYSQL_DEBUG</code></td><td>デバッグ中のデバッグトレースオプション</td></tr><tr><td scope="row"><code class="literal">TMPDIR</code></td><td>一時テーブルや一時ファイルが作成されるディレクトリ</td></tr></tbody></table></div><p>
      MySQL プログラムが使用する環境変数の全リストについては、<a class="xref" href="installing.html#environment-variables" title="2.12 環境変数">セクション2.12「環境変数」</a>を参照してください。
    </p><p>
      <code class="literal">MYSQL_PWD</code> の使用はセキュアではありません。<a class="xref" href="security.html#password-security-user" title="6.1.2.1 パスワードセキュリティーのためのエンドユーザーガイドライン">セクション6.1.2.1「パスワードセキュリティーのためのエンドユーザーガイドライン」</a>を参照してください。
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="programs-using"></a>4.2 MySQL プログラムの使用</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="programs.html#invoking-programs">4.2.1 MySQL プログラムの起動</a></span></dt><dt><span class="section"><a href="programs.html#connecting">4.2.2 MySQL サーバーへの接続</a></span></dt><dt><span class="section"><a href="programs.html#program-options">4.2.3 プログラムオプションの指定</a></span></dt><dt><span class="section"><a href="programs.html#command-line-options">4.2.4 コマンド行でのオプションの使用</a></span></dt><dt><span class="section"><a href="programs.html#option-modifiers">4.2.5 プログラムオプション修飾子</a></span></dt><dt><span class="section"><a href="programs.html#option-files">4.2.6 オプションファイルの使用</a></span></dt><dt><span class="section"><a href="programs.html#option-file-options">4.2.7 オプションファイルの処理に影響するコマンド行オプション</a></span></dt><dt><span class="section"><a href="programs.html#program-variables">4.2.8 プログラム変数の設定へのオプションの使用</a></span></dt><dt><span class="section"><a href="programs.html#option-defaults-equals">4.2.9 オプションのデフォルト、値を想定するオプション、および = 記号</a></span></dt><dt><span class="section"><a href="programs.html#setting-environment-variables">4.2.10 環境変数の設定</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="invoking-programs"></a>4.2.1 MySQL プログラムの起動</h3></div></div></div><p>
      MySQL プログラムをコマンド行から (つまり、シェルまたはコマンドプロンプトから) 起動するには、プログラム名に続けて、実行させたいことをプログラムに指示するために必要な任意のオプションまたはその他の引数を入力します。次のコマンドは、プログラム起動の例です。<span class="quote">「<span class="quote"><code class="literal">shell&gt;</code></span>」</span> は、コマンドインタプリタのプロンプトを示します。この部分は入力には含まれません。表示される具体的なプロンプトは、コマンドインタプリタによって異なります。通常のプロンプトは、<span class="command"><strong>sh</strong></span>、<span class="command"><strong>ksh</strong></span>、または <span class="command"><strong>bash</strong></span> では <code class="literal">$</code>、<span class="command"><strong>csh</strong></span> または <span class="command"><strong>tcsh</strong></span> では <code class="literal">%</code>、Windows <span class="command"><strong>command.com</strong></span> または <span class="command"><strong>cmd.exe</strong></span> コマンドインタプリタでは <code class="literal">C:\&gt;</code> です。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql --user=root test</code></strong>
shell&gt; <strong class="userinput"><code>mysqladmin extended-status variables</code></strong>
shell&gt; <strong class="userinput"><code>mysqlshow --help</code></strong>
shell&gt; <strong class="userinput"><code>mysqldump -u root personnel</code></strong>
</pre><p>
      単一または二重のダッシュ (<span class="quote">「<span class="quote"><code class="literal">-</code></span>」</span>、<span class="quote">「<span class="quote"><code class="literal">--</code></span>」</span>) で始まる引数は、プログラムオプションを指定します。オプションは通常、プログラムが行うサーバーへの接続のタイプを示したり、動作モードに影響したりします。オプション構文については<a class="xref" href="programs.html#program-options" title="4.2.3 プログラムオプションの指定">セクション4.2.3「プログラムオプションの指定」</a>で説明します。
    </p><p>
      オプションではない引数 (先頭にダッシュのない引数) は、プログラムに追加情報を提供します。たとえば、<span class="command"><strong>mysql</strong></span> プログラムは最初のオプションではない引数をデータベース名として解釈するため、コマンド <code class="literal">mysql --user=root test</code> は <code class="literal">test</code> データベースを使用することを示します。
    </p><p>
      個々のプログラムについて説明しているこのあとのセクションでは、プログラムがどのオプションをサポートするかを示し、追加のオプションではない引数があればその意味を説明しています。
    </p><p>
      一部のオプションは、複数のプログラムで共通です。これらのうち、もっともよく使用されるのは、接続パラメータを指定する <code class="option">--host</code> (または <code class="option">-h</code>)、<code class="option">--user</code> (または <code class="option">-u</code>)、および <code class="option">--password</code> (または <code class="option">-p</code>) の各オプションです。これらは、MySQL サーバーが稼働しているホストの名前、MySQL アカウントのユーザー名とパスワードを示します。すべての MySQL クライアントプログラムは、これらのオプションを理解します。これらのオプションにより、どのサーバーに接続するか、およびそのサーバーで使用するアカウントを指定できます。その他の接続オプションとしては、TCP/IP ポート番号を指定する <code class="option">--port</code> (または <code class="option">-P</code>)、そして Unix 上で Unix ソケットファイル (Windows では名前付きパイプ名) を指定する <code class="option">--socket</code> (または <code class="option">-S</code>) があります。接続オプションを指定するオプションの詳細は、<a class="xref" href="programs.html#connecting" title="4.2.2 MySQL サーバーへの接続">セクション4.2.2「MySQL サーバーへの接続」</a>を参照してください。
    </p><a class="indexterm" name="idm139979159531824"></a><a class="indexterm" name="idm139979159530368"></a><p>
      MySQL プログラムを起動するために、プログラムがインストールされている <code class="filename">bin</code> ディレクトリのパス名を使用する必要がある場合があります。<code class="filename">bin</code> ディレクトリ以外のディレクトリから MySQL を起動しようとすると毎回 <span class="quote">「<span class="quote">program not found</span>」</span> というエラーが表示される場合は、この場合に該当する可能性があります。MySQL プログラムをより使いやすくするために、MySQL の <code class="filename">bin</code> ディレクトリのパス名を <code class="literal">PATH</code> 環境変数設定に追加できます。それにより、プログラムのパス名全体ではなく名前のみを入力して実行できます。たとえば、<span class="command"><strong>mysql</strong></span> が <code class="filename">/usr/local/mysql/bin</code> にインストールされている場合、<span class="command"><strong>mysql</strong></span> と呼び出すことでプログラムを実行可能であり、<span class="command"><strong>/usr/local/mysql/bin/mysql</strong></span> と呼び出す必要はありません。
    </p><p>
      <code class="literal">PATH</code> 変数の設定する際の手順については、コマンドインタプリタのドキュメントを参照してください。環境変数を設定するための構文は、インタプリタ固有です。(これに関する説明は、<a class="xref" href="programs.html#setting-environment-variables" title="4.2.10 環境変数の設定">セクション4.2.10「環境変数の設定」</a>で述べられています。)<code class="literal">PATH</code> 設定を変更したら、設定が反映されるように、Windows の場合は新しいコンソールウィンドウを開き、Unix の場合はログインしなおします。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="connecting"></a>4.2.2 MySQL サーバーへの接続</h3></div></div></div><a class="indexterm" name="idm139979159515680"></a><a class="indexterm" name="idm139979159513568"></a><a class="indexterm" name="idm139979159512192"></a><a class="indexterm" name="idm139979159510160"></a><a class="indexterm" name="idm139979159508128"></a><a class="indexterm" name="idm139979159506896"></a><a class="indexterm" name="idm139979159505440"></a><p>
      クライアントプログラムが MySQL サーバーに接続できるためには、サーバーが稼働しているホストの名前および MySQL アカウントのユーザー名とパスワードなどの、適切な接続パラメータを使用する必要があります。各接続パラメータにはデフォルト値がありますが、必要に応じてコマンド行またはオプションファイルでプログラムオプションを指定することによってオーバーライドできます。
    </p><p>
      次の例は <span class="command"><strong>mysql</strong></span> クライアントプログラムを使用しますが、原則は <span class="command"><strong>mysqldump</strong></span>、<span class="command"><strong>mysqladmin</strong></span>、または <span class="command"><strong>mysqlshow</strong></span> など、ほかのクライアントにも適用されます。
    </p><p>
      次のコマンドは、接続パラメータを明示的に指定せずに <span class="command"><strong>mysql</strong></span> を呼び出します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql</code></strong>
</pre><p>
      パラメータオプションがないため、デフォルト値が適用されます。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          デフォルトのホスト名は <code class="literal">localhost</code> です。Unix では、後述するようにこれには特別な意味があります。
        </p></li><li class="listitem"><p>
          デフォルトのユーザー名は、Windows では <code class="literal">ODBC</code>、Unix では Unix のログイン名です。
        </p></li><li class="listitem"><p>
          <code class="option">-p</code> も <code class="option">--password</code> も指定しない場合は、パスワードは送信されません。
        </p></li><li class="listitem"><p>
          <span class="command"><strong>mysql</strong></span> では、最初のオプションではない引数はデフォルトデータベースの名前とみなされます。そのようなオプションがない場合は、<span class="command"><strong>mysql</strong></span> はデフォルトデータベースを選択しません。
        </p></li></ul></div><p>
      パスワードのほか、ホスト名およびユーザー名を明示的に指定するには、コマンド行で適切なオプションを指定します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql --host=localhost --user=myname --password=mypass mydb</code></strong>
shell&gt; <strong class="userinput"><code>mysql -h localhost -u myname -pmypass mydb</code></strong>
</pre><p>
      パスワードオプションについては、パスワード値はオプションです。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="option">-p</code> または <code class="option">--password</code> オプションを使用してパスワード値を指定する場合、<code class="option">-p</code> または <code class="option">--password</code> とそれに続くパスワードとの間に<span class="emphasis"><em>スペースがあってはいけません</em></span>。
        </p></li><li class="listitem"><p>
          <code class="option">-p</code> または <code class="option">--password</code> オプションを使用するがパスワード値を指定しない場合、パスワードを入力するようクライアントプログラムが要求します。パスワードは入力時に表示されません。これは、コマンド行でパスワードを提供するよりもセキュアです。システム上のほかのユーザーが <span class="command"><strong>ps auxw</strong></span> などのコマンドを実行して、コマンド行で指定されたパスワードを見ることができる場合があります。<a class="xref" href="security.html#password-security-user" title="6.1.2.1 パスワードセキュリティーのためのエンドユーザーガイドライン">セクション6.1.2.1「パスワードセキュリティーのためのエンドユーザーガイドライン」</a>を参照してください。
        </p></li></ul></div><p>
      今述べたように、コマンド行にパスワード値を含めるのはセキュリティー上のリスクになり得ます。この問題を解決するには、パスワード値を入れずに <code class="option">--password</code> または <code class="option">-p</code> オプションを指定します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql --host=localhost --user=myname --password mydb</code></strong>
shell&gt; <strong class="userinput"><code>mysql -h localhost -u myname -p mydb</code></strong>
</pre><p>
      パスワードオプションにパスワード値がない場合、クライアントプログラムはプロンプトを出力して、ユーザーがパスワードを入力するのを待機します。(これらの例では、<code class="literal">mydb</code> はその前のパスワードオプションとスペースで区切られているため、パスワードとは解釈<span class="emphasis"><em>されません</em></span>。)
    </p><p>
      システムによっては、MySQL がパスワードを要求するために使用するライブラリルーチンが、自動的にパスワードを 8 文字に制限します。これはシステムライブラリの問題であり、MySQL の問題ではありません。内部的には、MySQL にはパスワードの長さに関する制限はありません。この問題を回避するには、MySQL のパスワードを 8 文字以下の値に変更するか、またはオプションファイルにパスワードを指定します。
    </p><a class="indexterm" name="idm139979159468736"></a><p>
      Unix では、MySQL プログラムはホスト名 <code class="literal">localhost</code> を、ほかのネットワークベースのプログラムと比較して想定されるのとはおそらく異なる、特別な方法で扱います。<code class="literal">localhost</code> への接続で、MySQL プログラムは Unix ソケットファイルを使用してローカルサーバーに接続しようとします。これは、ポート番号を指定するために <code class="option">--port</code> または <code class="option">-P</code> オプションが与えられた場合にも生じます。クライアントがローカルサーバーに TCP/IP 接続を行うことを保証するには、<code class="option">--host</code> または <code class="option">-h</code> を使用して、ホスト名の値 <code class="literal">127.0.0.1</code>、またはローカルサーバーの IP アドレスまたは名前を指定します。<code class="option">--protocol=TCP</code> オプションを使用して、<code class="literal">localhost</code> に対しても、接続プロトコルを明示的に指定することもできます。例:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql --host=127.0.0.1</code></strong>
shell&gt; <strong class="userinput"><code>mysql --protocol=TCP</code></strong>
</pre><p>
      <code class="option">--protocol</code> オプションを使用すると、その他のオプションが通常デフォルトでほかのプロトコルになる場合でも、特定のタイプの接続を確立できます。
    </p><p>
      サーバーが IPv6 接続を受け付けるように構成されている場合、クライアントは <code class="option">--host=::1</code> を使用して IPv6 で接続できます。<a class="xref" href="server-administration.html#ipv6-support" title="5.1.9 IPv6 サポート">セクション5.1.9「IPv6 サポート」</a>を参照してください。
    </p><p>
      Windows では、<code class="option">--pipe</code> または <code class="option">--protocol=PIPE</code> オプションを指定するか、または <code class="literal">.</code>(ピリオド) をホスト名として指定することによって、MySQL クライアントが名前付けパイプ接続を使用することを強制できます。名前付きパイプ接続が有効にされていない場合は、エラーが発生します。デフォルトのパイプ名を使用しない場合には <code class="option">--socket</code> オプションを使用してパイプ名を指定します。
    </p><p>
      リモートサーバーへの接続では、常に TCP/IP が使用されます。次のコマンドは、デフォルトのポート番号 (3306) を使用して <code class="literal">remote.example.com</code> で動作するサーバーに接続します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql --host=remote.example.com</code></strong>
</pre><p>
      ポート番号を明示的に指定するには、<code class="option">--port</code> オプションまたは <code class="option">-P</code> オプションを使用します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql --host=remote.example.com --port=13306</code></strong>
</pre><p>
      ローカルサーバーへの接続にもポート番号を指定できます。ただし前述のように、Unix では <code class="literal">localhost</code> への接続にはデフォルトでソケットファイルが使用されます。前述のように TCP/IP 接続を強制しないと、ポート番号を指定するすべてのオプションは無視されます。
    </p><p>
      次のコマンドでは、Unix ではプログラムはソケットファイルを使用し、<code class="option">--port</code> オプションは無視されます。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql --port=13306 --host=localhost</code></strong>
</pre><p>
      ポート番号を使用するようにするには、プログラムを次のいずれかの方法で呼び出します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql --port=13306 --host=127.0.0.1</code></strong>
shell&gt; <strong class="userinput"><code>mysql --port=13306 --protocol=TCP</code></strong>
</pre><p>
      次のリストは、クライアントプログラムがサーバーに接続する方法を制御するために使用できるオプションの概要です。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_general_host"></a>
          <a class="indexterm" name="idm139979159434208"></a> <code class="option">--host=<em class="replaceable"><code>host_name</code></em></code>, <code class="option">-h <em class="replaceable"><code>host_name</code></em></code>
        </p><p>
          サーバーが稼働しているホスト。デフォルト値は <code class="literal">localhost</code> です。
        </p></li><li class="listitem"><p><a name="option_general_password"></a>
          <a class="indexterm" name="idm139979159428752"></a> <code class="option">--password[=<em class="replaceable"><code>pass_val</code></em>]</code>, <code class="option">-p[<em class="replaceable"><code>pass_val</code></em>]</code>
        </p><p>
          MySQL アカウントのパスワード。前述のように、パスワード値はオプションですが、指定する場合は <code class="option">-p</code> または <code class="option">--password=</code> とそれに続くパスワードとの間に<span class="emphasis"><em>スペースがあってはいけません</em></span>。デフォルトではパスワードを送信しません。
        </p></li><li class="listitem"><p><a name="option_general_pipe"></a>
          <a class="indexterm" name="idm139979159421728"></a> <code class="option">--pipe</code>, <code class="option">-W</code>
        </p><p>
          Windows で、名前付きパイプを使用してサーバーに接続します。名前付きパイプ接続を可能にするには、サーバーは <code class="option">--enable-named-pipe</code> オプションで起動する必要があります。
        </p></li><li class="listitem"><p><a name="option_general_port"></a>
          <a class="indexterm" name="idm139979159416480"></a> <code class="option">--port=<em class="replaceable"><code>port_num</code></em></code>, <code class="option">-P <em class="replaceable"><code>port_num</code></em></code>
        </p><p>
          TCP/IP を使用する接続で、接続に使用するポート番号。デフォルトのポート番号は 3306 です。
        </p></li><li class="listitem"><p><a name="option_general_protocol"></a>
          <a class="indexterm" name="idm139979159411520"></a> <code class="option">--protocol={TCP|SOCKET|PIPE|MEMORY}</code>
        </p><p>
          このオプションは、サーバーへの接続に使用するプロトコルを明示的に指定します。このオプションは、ほかの接続パラメータによって、必要なプロトコル以外のものが通常使用される場合に役立ちます。たとえば、Unix では <code class="literal">localhost</code> への接続はデフォルトでは Unix ソケットファイルを使用して行われます。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql --host=localhost</code></strong>
</pre><p>
          代わりに TCP/IP 接続を強制するには、<code class="option">--protocol</code> オプションを指定します。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql --host=localhost --protocol=TCP</code></strong>
</pre><p>
          次の表は、許可される <code class="option">--protocol</code> オプション値を示し、各値を使用できるプラットフォームを示しています。値は大文字と小文字が区別されません。
        </p><div class="informaltable"><table summary="この表は、許可される --protocol オプション値、各値に対する接続プロトコル、および各値を使用できるプラットフォームをリストしています。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><code class="option">--protocol</code> の値</th><th scope="col">接続プロトコル</th><th scope="col">許可されるオペレーティングシステム</th></tr></thead><tbody><tr><td scope="row" align="left"><code class="literal">TCP</code></td><td align="left">ローカルまたはリモートのサーバーへの TCP/IP 接続</td><td align="left">すべて</td></tr><tr><td scope="row" align="left"><code class="literal">SOCKET</code></td><td align="left">ローカルサーバーへの Unix ソケットファイル接続</td><td align="left">Unix のみ</td></tr><tr><td scope="row" align="left"><code class="literal">PIPE</code></td><td align="left">ローカルまたはリモートのサーバーへの名前付きパイプ接続</td><td align="left">Windows のみ</td></tr><tr><td scope="row" align="left"><code class="literal">MEMORY</code></td><td align="left">ローカルサーバーへの共有メモリー接続</td><td align="left">Windows のみ</td></tr></tbody></table></div></li><li class="listitem"><p><a name="option_general_shared-memory-base-name"></a>
          <a class="indexterm" name="idm139979159381632"></a> <code class="option">--shared-memory-base-name=<em class="replaceable"><code>name</code></em></code>
        </p><p>
          Windows で、共有メモリーを使用して作成されるローカルサーバーへの接続の共有メモリー名。デフォルト値は <code class="literal">MYSQL</code> です。共有メモリー名では大文字と小文字を区別します。
        </p><p>
          共有メモリー接続を可能にするには、サーバーは <code class="option">--shared-memory</code> オプションで起動する必要があります。
        </p></li><li class="listitem"><p><a name="option_general_socket"></a>
          <a class="indexterm" name="idm139979159374976"></a> <code class="option">--socket=<em class="replaceable"><code>file_name</code></em></code>, <code class="option">-S <em class="replaceable"><code>file_name</code></em></code>
        </p><p>
          Unix で、名前付きパイプを使用して行われるローカルサーバーへの接続で使用する Unix ソケットファイルの名前。デフォルトの Unix ソケットファイル名は <code class="filename">/tmp/mysql.sock</code> です。
        </p><p>
          Windows の場合、ローカルサーバーへの接続で、使用する名前付きパイプの名前。デフォルトの Windows パイプ名は <code class="literal">MySQL</code> です。パイプ名では大文字と小文字を区別しません。
        </p><p>
          名前付きパイプ接続を可能にするには、サーバーは <code class="option">--enable-named-pipe</code> オプションで起動する必要があります。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159366672"></a> <code class="option">--ssl*</code>
        </p><p>
          <code class="option">--ssl</code> で始まるオプションは、サーバーが SSL サポートで構成されている場合には、SSL を使用してサーバーへのセキュアな接続を確立するために使用されます。詳細については、<a class="xref" href="security.html#ssl-options" title="6.3.10.4 SSL コマンドのオプション">セクション6.3.10.4「SSL コマンドのオプション」</a>を参照してください。
        </p></li><li class="listitem"><p><a name="option_general_user"></a>
          <a class="indexterm" name="idm139979159361248"></a> <code class="option">--user=<em class="replaceable"><code>user_name</code></em></code>, <code class="option">-u <em class="replaceable"><code>user_name</code></em></code>
        </p><p>
          使用する MySQL アカウントのユーザー名。デフォルトのユーザー名は、Windows では <code class="literal">ODBC</code>、Unix では Unix のログイン名です。
        </p></li></ul></div><p>
      クライアントプログラムを呼び出すたびに異なるデフォルト値を入力しなくてもいいように、コマンド行で接続を行うときに、それらを使用するように指定できます。これはいくつかの方法で実行できます。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="indexterm" name="idm139979159354672"></a> 接続パラメータをオプションファイルの <code class="literal">[client]</code> セクションに指定できます。このファイルの関係セクションは次のようになります。
        </p><pre class="programlisting">
[client]
host=<em class="replaceable"><code>host_name</code></em>
user=<em class="replaceable"><code>user_name</code></em>
password=<em class="replaceable"><code>your_pass</code></em>
</pre><p>
          <a class="xref" href="programs.html#option-files" title="4.2.6 オプションファイルの使用">セクション4.2.6「オプションファイルの使用」</a>でオプションファイルの詳細を記述しています。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm139979159348320"></a> <a class="indexterm" name="idm139979159346848"></a> <a class="indexterm" name="idm139979159344912"></a> <a class="indexterm" name="idm139979159343408"></a> <a class="indexterm" name="idm139979159341472"></a> <a class="indexterm" name="idm139979159339984"></a> 一部の接続パラメータは、環境変数を使用して指定できます。<span class="command"><strong>mysql</strong></span> のホストは、<code class="literal">MYSQL_HOST</code> で指定できます。MySQL ユーザー名は、<code class="literal">USER</code> を使用して指定できます (これは Windows のみです)。パスワードは、<code class="literal">MYSQL_PWD</code> を使用して指定できます (ただし、これはセキュアではありません。<a class="xref" href="security.html#password-security-user" title="6.1.2.1 パスワードセキュリティーのためのエンドユーザーガイドライン">セクション6.1.2.1「パスワードセキュリティーのためのエンドユーザーガイドライン」</a>を参照してください)。変数の一覧は、<a class="xref" href="installing.html#environment-variables" title="2.12 環境変数">セクション2.12「環境変数」</a>を参照してください。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="program-options"></a>4.2.3 プログラムオプションの指定</h3></div></div></div><p>
      MySQL プログラムに対してオプションを指定する方法はいくつかあります。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          コマンド行で、プログラム名に続けてオプションをリストします。これは、プログラムの特定の起動に適用されるオプションに共通です。
        </p></li><li class="listitem"><p>
          プログラムが起動するときに読み取るオプションファイルにオプションをリストします。これは、プログラムを実行するとき毎回使用するオプションに共通です。
        </p></li><li class="listitem"><p>
          環境変数にオプションをリストします (<a class="xref" href="programs.html#setting-environment-variables" title="4.2.10 環境変数の設定">セクション4.2.10「環境変数の設定」</a>を参照してください)。この方法は、プログラムを実行するとき毎回適用するオプションに便利です。実際には、このためにはオプションファイルを使用する方が一般的ですが、環境変数が非常に役立つ状況については、<a class="xref" href="server-administration.html#multiple-unix-servers" title="5.3.3 Unix 上での複数の MySQL インスタンスの実行">セクション5.3.3「Unix 上での複数の MySQL インスタンスの実行」</a>で説明しています。そこでは、このような変数を使用して、サーバーとクライアントプログラムに対して TCP/IP のポート番号および Unix ソケットファイルを指定する便利なテクニックについて説明しています。
        </p></li></ul></div><p>
      オプションは順に処理されるため、あるオプションが複数回指定されている場合、最後のものが優先されます。次のコマンドでは、<span class="command"><strong>mysql</strong></span> は <code class="literal">localhost</code> で稼働しているサーバーに接続します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -h example.com -h localhost</code></strong>
</pre><p>
      矛盾するオプションまたは関係するオプションが指定された場合、あとのオプションが先のオプションより優先されます。次のコマンドは <span class="command"><strong>mysql</strong></span> を<span class="quote">「<span class="quote">カラム名なし</span>」</span>モードで起動します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql --column-names --skip-column-names</code></strong>
</pre><p>
      MySQL プログラムは、まず環境変数を調べ、次にオプションファイルを読み取り、その次にコマンド行をチェックすることで、どのオプションが指定されたかを判断します。すなわち、環境変数はもっとも優先順位が低く、コマンド行のオプションがもっとも高くなります。
    </p><p>
      MySQL プログラムがオプションを処理する方法を利用して、プログラムのデフォルトオプション値をオプションファイルに指定できます。それにより、プログラムを実行するたびに入力するのを避けることができると同時に、必要に応じてコマンド行オプションを使用することにより、デフォルトをオーバーライドできます。
    </p><p>
      オプションは、すべて記述するか、またはあいまいでないプリフィクスとして指定できます。たとえば<code class="option">--compress</code> オプションは <code class="option">--compr</code> として <span class="command"><strong>mysqldump</strong></span> に指定できますが、<code class="option">--comp</code> としては指定できません。後者はあいまいなためです。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqldump --comp</code></strong>
mysqldump: ambiguous option '--comp' (compatible, compress)
</pre><p>
      オプションのプリフィクスを使用すると、プログラムに対して新しいオプションが実装された場合に問題となることがあることに注意してください。現在あいまいでないプリフィクスが、将来あいまいになる可能性があります。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        MySQL 5.6.13 以降、あいまいでないプリフィクスは非推奨です。あいまいでないプリフィクスが指定された場合、フィードバックを提供するため警告が発生します。オプションのプリフィクスは MySQL 5.7 ではサポートされなくなりました。完全なオプションのみが受け入れられます。
      </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="command-line-options"></a>4.2.4 コマンド行でのオプションの使用</h3></div></div></div><p>
      コマンド行で指定されるプログラムオプションは次のルールに従います。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          オプションはコマンド名のあとに指定します。
        </p></li><li class="listitem"><p>
          オプション引数は、それがオプション名の短い形式か長い形式かによって、1 つまたは 2 つのダッシュで始まります。多くのオプションには短い形式と長い形式の両方があります。たとえば、<code class="option">-?</code> と <code class="option">--help</code> は、 MySQL プログラムに対してヘルプメッセージの表示を指示するオプションの短い形式と長い形式です。
        </p></li><li class="listitem"><p>
          オプション名では大文字と小文字が区別されます。<code class="option">-v</code> と <code class="option">-V</code> はいずれも正当で、異なる意味を持ちます。(これらは、<code class="option">--verbose</code> および <code class="option">--version</code> オプションに対応する短い形式です。)
        </p></li><li class="listitem"><p>
          一部のオプションは、オプション名に続いて値を取ります。たとえば、<code class="option">-h localhost</code> または <code class="option">--host=localhost</code> は、クライアントプログラムに対して MySQL サーバーホストを示します。オプション値は、プログラムに対して MySQL サーバーが稼働しているホストの名前を示します。
        </p></li><li class="listitem"><p>
          値を取る長いオプションでは、オプション名と値を <span class="quote">「<span class="quote"><code class="literal">=</code></span>」</span> 記号で区切ります。値を取る短いオプションでは、オプション値はオプション文字の直後に続けるか、または間にスペースがあってもかまいません。<code class="option">-hlocalhost</code> と <code class="option">-h localhost</code> は同等です。このルールの例外は、MySQL のパスワードを指定するオプションです。このオプションは、長い形式で <code class="option">--password=<em class="replaceable"><code>pass_val</code></em></code> として、または <code class="option">--password</code> として指定できます。後者の場合 (パスワード値を指定しない場合)、プログラムはパスワードを要求します。パスワードオプションは、短い形式で <code class="option">-p<em class="replaceable"><code>pass_val</code></em></code> または <code class="option">-p</code> としても指定できます。しかし短い形式の場合、パスワード値を指定する場合は、<span class="emphasis"><em>間にスペースを入れずに</em></span>オプション文字に続けなければいけません。この理由は、オプション文字にスペースが続く場合、続く引数がパスワード値なのかほかの種類の引数なのかをプログラムが判断する方法がないためです。その結果、次の 2 つのコマンドは 2 つのまったく異なる意味を持ちます。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -ptest</code></strong>
shell&gt; <strong class="userinput"><code>mysql -p test</code></strong>
</pre><p>
          最初のコマンドは、パスワード値 <code class="literal">test</code> を使用することを <span class="command"><strong>mysql</strong></span> に指示しますが、デフォルトデータベースの指定は行いません。2 番目は、パスワード値を要求し、<code class="literal">test</code> をデフォルトデータベースとして使用することを <span class="command"><strong>mysql</strong></span> に指示します。
        </p></li><li class="listitem"><p>
          オプション名内では、ダッシュ (<span class="quote">「<span class="quote"><code class="literal">-</code></span>」</span>) と下線 (<span class="quote">「<span class="quote"><code class="literal">_</code></span>」</span>) を区別なく使用できます。たとえば、<code class="option">--skip-grant-tables</code> と <code class="option">--skip_grant_tables</code> は同等です。(ただし、先頭のダッシュは下線で指定することはできません。)
        </p></li><li class="listitem"><p>
          数値を取るオプションについては、値は、1024、1024<sup>2</sup> または 1024<sup>3</sup> の乗数を示すために、<code class="literal">K</code>、<code class="literal">M</code> または <code class="literal">G</code> (大文字または小文字) のサフィクスで指定できます。たとえば、次のコマンドは <span class="command"><strong>mysqladmin</strong></span> に対し、サーバーに 1024 回 ping を実行し、各 ping の間に 10 秒間スリープすることを指示します。
        </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>mysqladmin --count=1K --sleep=10 ping</code></strong>
</pre></li></ul></div><p>
      スペースを含むオプション値をコマンド行で指定する場合は、引用符で囲まなければなりません。たとえば、<code class="option">--execute</code> (または <code class="option">-e</code>) オプションを <span class="command"><strong>mysql</strong></span> とともに使用して、SQL ステートメントをサーバーに渡すことができます。このオプションが使用されると、<span class="command"><strong>mysql</strong></span> はオプション値のステートメントを実行して終了します。ステートメントは引用符で囲む必要があります。たとえば、次のコマンドを使用してユーザーアカウントのリストを取得できます。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>mysql -u root -p --execute="SELECT User, Host FROM mysql.user"</code></strong>
Enter password: <strong class="userinput"><code>******</code></strong>
+------+-----------+
| User | Host      |
+------+-----------+
|      | gigan     |
| root | gigan     |
|      | localhost |
| jon  | localhost |
| root | localhost |
+------+-----------+
shell&gt;
</pre><p>
      長い形式 (<code class="option">--execute</code>) には、等号 (<code class="literal">=</code>) が続くことに注意してください。
    </p><p>
      ステートメント内で引用符に囲まれた値を使用する場合は、内側の引用符をエスケープするか、ステートメント内ではステートメント自体を囲むのに使用する引用符とは異なるタイプの引用符を使用する必要があります。一重引用符または二重引用符を使用できるかどうか、および引用符文字をエスケープするための構文は、コマンドプロセッサの機能により異なります。たとえば、コマンドプロセッサが一重引用符または二重引用符の使用をサポートする場合、ステートメントの周囲には二重引用符を使用し、ステートメント内の引用符で囲む値には一重引用符を使用できます。
    </p><p>
      コマンド行のオプション値に複数の SQL ステートメントをセミコロンで区切って渡すことができます。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -u root -p -e "SELECT VERSION();SELECT NOW()"</code></strong>
Enter password: <strong class="userinput"><code>******</code></strong>
+-----------------+
| VERSION()       |
+-----------------+
| 5.1.5-alpha-log |
+-----------------+
+---------------------+
| NOW()               |
+---------------------+
| 2006-01-05 21:19:04 |
+---------------------+
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="option-modifiers"></a>4.2.5 プログラムオプション修飾子</h3></div></div></div><a class="indexterm" name="idm139979159257376"></a><a class="indexterm" name="idm139979159255344"></a><a class="indexterm" name="idm139979159253792"></a><a class="indexterm" name="idm139979159251840"></a><a class="indexterm" name="idm139979159250288"></a><a class="indexterm" name="idm139979159248336"></a><a class="indexterm" name="idm139979159246784"></a><a class="indexterm" name="idm139979159244832"></a><a class="indexterm" name="idm139979159243280"></a><a class="indexterm" name="idm139979159241328"></a><a class="indexterm" name="idm139979159239776"></a><a class="indexterm" name="idm139979159237744"></a><p>
      一部のオプションは<span class="quote">「<span class="quote">ブール値</span>」</span>で、オンまたはオフにできる動作を制御します。たとえば、<span class="command"><strong>mysql</strong></span> クライアントは、クエリーの結果の先頭にカラム名の行を表示するかどうかを決定するオプション <code class="option">--column-names</code> をサポートします。デフォルトでは、このオプションは有効です。ただし、初期ヘッダーラインを想定せずデータのみを想定するような別のプログラムに <span class="command"><strong>mysql</strong></span> の出力を送信する場合などは、この機能を無効にするとよいでしょう。
    </p><p>
      カラム名を無効にするには、次のいずれかの形式を使用してオプションを指定します。
    </p><pre class="programlisting">
--disable-column-names
--skip-column-names
--column-names=0
</pre><p>
      <code class="option">--disable</code> プリフィクスと <code class="option">--skip</code> プリフィクス、および <code class="literal">=0</code> サフィクスはすべて同じ効果を持ち、オプションをオフにします。
    </p><p>
      オプションを<span class="quote">「<span class="quote">有効</span>」</span>にする形式は、次のうちのいずれかで指定できます。
    </p><pre class="programlisting">
--column-names
--enable-column-names
--column-names=1
</pre><p>
      MySQL 5.6.2 以降では、<code class="literal">ON</code>、<code class="literal">TRUE</code>、<code class="literal">OFF</code>、および <code class="literal">FALSE</code> もブール値オプションとみなされます (大文字小文字は区別しません)。
    </p><p>
      オプションに <code class="option">--loose</code> プリフィクスがある場合、プログラムがオプションを認知できない場合にはエラーで終了せず、警告のみを発行します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql --loose-no-such-option</code></strong>
mysql: WARNING: unknown option '--loose-no-such-option'
</pre><p>
      <code class="option">--loose</code> プリフィクスは、MySQL を同じマシン上に複数回インストールした状態でプログラムを起動し、オプションファイルにオプションをリストする場合に役立ちます。プログラムのすべてのバージョンには認知されないようなオプションを <code class="option">--loose</code> プリフィクス (またはオプションファイル内では <code class="literal">loose</code>) を使用して指定できます。オプションを認識するバージョンのプログラムは通常どおりに処理し、認識しないバージョンは警告を発行して無視します。
    </p><p>
      <span class="command"><strong>mysqld</strong></span> では、クライアントプログラムが設定できる動的システム変数の大きさに制限を設けることができます。これを実行するには、<code class="option">--maximum</code> プリフィクスを変数名とともに使用します。たとえば、<code class="option">--maximum-query_cache_size=4M</code> は、クライアントが 4M バイトを超えるクエリーキャッシュサイズを作成できなくなります。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="option-files"></a>4.2.6 オプションファイルの使用</h3></div></div></div><a class="indexterm" name="idm139979159213920"></a><a class="indexterm" name="idm139979159212464"></a><a class="indexterm" name="idm139979159211088"></a><a class="indexterm" name="idm139979159209008"></a><a class="indexterm" name="idm139979159206960"></a><a class="indexterm" name="idm139979159205584"></a><p>
      ほとんどの MySQL プログラムはオプションファイル (構成ファイルと呼ばれることもあります) から起動オプションを読み取ることができます。オプションファイルは、よく使用されるオプションを指定するための便利な方法を提供し、プログラムを実行するたびにコマンド行で入力する必要がなくなります。MySQL サーバーには MySQL によって多数の<a class="link" href="server-administration.html#server-configuration-defaults" title="5.1.2 サーバー構成のデフォルト値">事前構成済みのオプションファイル</a>が提供されます。
    </p><p>
      プログラムがオプションファイルを読み取るかどうかを判断するには、<code class="option">--help</code> オプションを使用してプログラムを呼び出します。(<span class="command"><strong>mysqld</strong></span> では、<code class="option">--verbose</code> および <code class="option">--help</code> を使用します。)プログラムがオプションファイルを読み取る場合は、どのファイルを探すのか、およびどのオプショングループを認識するのかが、ヘルプメッセージに示されます。
    </p><p>
      ログインパスオプションを含む <code class="filename">.mylogin.cnf</code> ファイルは、<span class="command"><strong>mysql_config_editor</strong></span> ユーティリティーによって作成されます。<a class="xref" href="programs.html#mysql-config-editor" title="4.6.6 mysql_config_editor — MySQL 構成ユーティリティー">セクション4.6.6「<span class="command"><strong>mysql_config_editor</strong></span> — MySQL 構成ユーティリティー」</a>を参照してください。<span class="quote">「<span class="quote">ログインパス</span>」</span>は、<code class="option">host</code>、<code class="option">user</code>、および <code class="option">password</code> という限定されたオプションのセットのみを許可するオプショングループです。クライアントプログラムは、<code class="filename">.mylogin.cnf</code> からどのログインパスを読み取るのかを、<code class="option">--login-path</code> オプションを使用して指定します。
    </p><p>
      別のファイル名を指定するには、<code class="literal">MYSQL_TEST_LOGIN_FILE</code> 環境変数を設定します。この変数は <span class="command"><strong>mysql-test-run.pl</strong></span> テストユーティリティーが使用しますが、<code class="literal">mysql_config_editor</code> および <span class="command"><strong>mysql</strong></span>、<span class="command"><strong>mysqladmin</strong></span>、などの MySQL クライアントによっても認識されます。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        MySQL Cluster プログラムで使用されるオプションファイルは、<a class="xref" href="mysql-cluster.html#mysql-cluster-configuration" title="18.3 MySQL Cluster の構成">セクション18.3「MySQL Cluster の構成」</a>で説明します。
      </p></div><p>
      Windows では、MySQL プログラムは起動オプションを次のファイルから指定された順 (トップの項目が最初に使用されます) で読み取ります。
    </p><div class="informaltable"><table summary="この表は、Windows オペレーティングシステムで MySQL プログラムが起動オプションを読み取るファイル名をリストしています。各ファイルの目的を説明しています。" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">ファイル名</th><th scope="col">目的</th></tr></thead><tbody><tr><td scope="row"><code class="filename"><code class="literal">%PROGRAMDATA%</code>\MySQL\MySQL Server 5.6\my.ini</code>, <code class="filename"><code class="literal">%PROGRAMDATA%</code>\MySQL\MySQL Server 5.6\my.cnf</code></td><td>グローバルオプション</td></tr><tr><td scope="row"><code class="filename"><code class="literal">%WINDIR%</code>\my.ini</code>, <code class="filename"><code class="literal">%WINDIR%</code>\my.cnf</code></td><td>グローバルオプション</td></tr><tr><td scope="row"><code class="filename">C:\my.ini</code>, <code class="filename">C:\my.cnf</code></td><td>グローバルオプション</td></tr><tr><td scope="row"><code class="filename"><em class="replaceable"><code>INSTALLDIR</code></em>\my.ini</code>, <code class="filename"><em class="replaceable"><code>INSTALLDIR</code></em>\my.cnf</code></td><td>グローバルオプション</td></tr><tr><td scope="row"><code class="literal">defaults-extra-file</code></td><td><code class="option">--defaults-extra-file=<em class="replaceable"><code>path</code></em></code> によって指定されるファイル (ある場合)</td></tr><tr><td scope="row"><code class="filename"><code class="literal">%APPDATA%</code>\MySQL\.mylogin.cnf</code></td><td>ログインパスオプション</td></tr></tbody></table></div><p>
      <code class="literal">%PROGRAMDATA%</code> は、ホスト上のすべてのユーザーのアプリケーションデータを含むファイルシステムディレクトリを示します。このパスはデフォルトで、Microsoft Windows Vista 以降では <code class="literal">C:\ProgramData</code>、Microsoft Windows のそれ以前のバージョンでは <code class="literal">C:\Documents and Settings\All Users\Application Data</code> です。
    </p><p>
      <code class="literal">%WINDIR%</code> は、Windows ディレクトリの場所を示します。これは一般には <code class="filename">C:\WINDOWS</code> です。次のコマンドを使用して <code class="literal">WINDIR</code> 環境変数の値から正確な場所を割り出すことができます。
    </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>echo %WINDIR%</code></strong>
</pre><p>
      <em class="replaceable"><code>INSTALLDIR</code></em> は、MySQL のインストールディレクトリを示します。これは通常、MySQL 5.6 がインストールウィザードおよび構成ウィザードを使用してインストールされた場合には、<code class="filename">C:\<em class="replaceable"><code>PROGRAMDIR</code></em>\MySQL\MySQL 5.6 Server</code> です。ここで、<em class="replaceable"><code>PROGRAMDIR</code></em> はプログラムディレクトリ (英語バージョンの Windows では通常 <code class="filename">Program Files</code>) です。<a class="xref" href="installing.html#mysql-installer" title="2.3.3 MySQL Installer を使用した MySQL の Microsoft Windows へのインストール">セクション2.3.3「MySQL Installer を使用した MySQL の Microsoft Windows へのインストール」</a>を参照してください。
    </p><p>
      <code class="literal">%APPDATA%</code> は、Windows アプリケーションデータディレクトリの値を示します。次のコマンドを使用して <code class="literal">APPDATA</code> 環境変数の値から正確な場所を判断できます。
    </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>echo %APPDATA%</code></strong>
</pre><p>
      Unix、Linux、および OS X では、MySQL プログラムは起動オプションを次のファイルから指定された順 (トップの項目が最初に使用されます) で読み取ります。
    </p><a class="indexterm" name="idm139979159146960"></a><div class="informaltable"><table summary="この表は、Unix、Linux、および OS X オペレーティングシステムで MySQL プログラムが起動オプションを読み取るファイル名をリストしています。各ファイルの目的を説明しています。" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">ファイル名</th><th scope="col">目的</th></tr></thead><tbody><tr><td scope="row"><code class="filename">/etc/my.cnf</code></td><td>グローバルオプション</td></tr><tr><td scope="row"><code class="filename">/etc/mysql/my.cnf</code></td><td>グローバルオプション</td></tr><tr><td scope="row"><code class="filename"><em class="replaceable"><code>SYSCONFDIR</code></em>/my.cnf</code></td><td>グローバルオプション</td></tr><tr><td scope="row"><code class="filename">$MYSQL_HOME/my.cnf</code></td><td>サーバー固有のオプション</td></tr><tr><td scope="row"><code class="literal">defaults-extra-file</code></td><td><code class="option">--defaults-extra-file=<em class="replaceable"><code>path</code></em></code> によって指定されるファイル (ある場合)</td></tr><tr><td scope="row"><code class="filename">~/.my.cnf</code></td><td>ユーザー固有のオプション</td></tr><tr><td scope="row"><code class="filename">~/.mylogin.cnf</code></td><td>ログインパスオプション</td></tr></tbody></table></div><p>
      <code class="filename">~</code> は、現在のユーザーのホームディレクトリ (<code class="literal">$HOME</code> の値) を示します。
    </p><p>
      <em class="replaceable"><code>SYSCONFDIR</code></em> は、MySQL がビルドされたときに <code class="option">SYSCONFDIR</code> オプションとともに <span class="command"><strong>CMake</strong></span> に指定されたディレクトリを示します。デフォルトでは、これはコンパイル済みのインストールディレクトリの下にある <code class="filename">etc</code> ディレクトリです。
    </p><p>
      <code class="literal">MYSQL_HOME</code> はサーバー固有の <code class="filename">my.cnf</code> ファイルが存在するディレクトリへのパスを含む環境変数です。<code class="literal">MYSQL_HOME</code> がセットされていない状態で <span class="command"><strong>mysqld_safe</strong></span> プログラムを使ってサーバーを起動すると、<span class="command"><strong>mysqld_safe</strong></span> は次のように <code class="literal">MYSQL_HOME</code> をセットしようとします。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <em class="replaceable"><code>BASEDIR</code></em> および <em class="replaceable"><code>DATADIR</code></em> が、それぞれ MySQL ベースディレクトリとデータディレクトリのパス名を示すようにします。
        </p></li><li class="listitem"><p>
          <em class="replaceable"><code>DATADIR</code></em> には <code class="filename">my.cnf</code> ファイルが存在し、<em class="replaceable"><code>BASEDIR</code></em> には存在しない場合、<span class="command"><strong>mysqld_safe</strong></span> は <code class="literal">MYSQL_HOME</code> を <em class="replaceable"><code>DATADIR</code></em> にセットします。
        </p></li><li class="listitem"><p>
          そうでない場合は、<code class="literal">MYSQL_HOME</code> がセットされておらず、<code class="filename">my.cnf</code> ファイルが <em class="replaceable"><code>DATADIR</code></em> に存在しない場合、<span class="command"><strong>mysqld_safe</strong></span> は <em class="replaceable"><code>BASEDIR</code></em> に <code class="literal">MYSQL_HOME</code> をセットします。
        </p></li></ul></div><p>
      MySQL 5.6 では、<em class="replaceable"><code>DATADIR</code></em> を <code class="filename">my.cnf</code> の場所として使用することは非推奨です。
    </p><p>
      一般的に、<em class="replaceable"><code>DATADIR</code></em> はバイナリインストールでは <code class="filename">/usr/local/mysql/data</code>、ソースインストールでは <code class="filename">/usr/local/var</code> です。これは構成時に指定されたデータディレクトリの場所であって、<span class="command"><strong>mysqld</strong></span> が起動したとき <code class="option">--datadir</code> オプションで指定されるものではないということに注意してください。実行時に <code class="option">--datadir</code> を使用しても、サーバーがオプションファイルを探す際に何の影響ももたらしません。これはサーバーがオプションを処理する前にオプションファイルを探すからです。
    </p><p>
      MySQL は、前述の順序でオプションファイルを検索し、存在するものをすべて読み取ります。使用したいオプションファイルが存在しない場合は、プレーンテキストエディタで作成します。
    </p><p>
      所定のオプションが複数ある場合は、最後のインスタンスが優先されます。1 つ例外があります。<span class="command"><strong>mysqld</strong></span> では、オプションファイルで指定されたユーザーがコマンド行でオーバーライドされるのを防ぐため、安全対策として <code class="option">--user</code> オプションの<span class="emphasis"><em>最初の</em></span>インスタンスが使用されます。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        Unix プラットフォームでは、MySQL はだれでも書き込める構成ファイルを無視します。これはセキュリティー対策として意図的なものです。
      </p></div><p>
      MySQL プログラムを実行する際にコマンド行で指定できるすべての長いオプションは、オプションファイルでも指定できます。プログラムに対して使用可能なオプションのリストを取得するには、<code class="option">--help</code> オプションを使用してそのプログラムを実行します。
    </p><p>
      オプションファイルでオプションを指定する構文は、コマンド行構文と同様です (<a class="xref" href="programs.html#command-line-options" title="4.2.4 コマンド行でのオプションの使用">セクション4.2.4「コマンド行でのオプションの使用」</a>を参照してください)。ただしオプションファイルでは、先頭の 2 つのダッシュはオプション名から省略し、1 行で 1 つのオプションのみを指定します。たとえば、コマンド行での <code class="option">--quick</code> および <code class="option">--host=localhost</code> は、オプションファイルでは独立した行にある <code class="literal">quick</code> および <code class="literal">host=localhost</code> として指定するようにしてください。<code class="option">--loose-<em class="replaceable"><code>opt_name</code></em></code> 形式のオプションをオプションファイルで指定するには、<code class="literal">loose-<em class="replaceable"><code>opt_name</code></em></code> として作成します。
    </p><p>
      オプションファイルの空の行は無視されます。空でない行は次のいずれかの形式を取ることができます。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">#<em class="replaceable"><code>comment</code></em></code>, <code class="literal">;<em class="replaceable"><code>comment</code></em></code>
        </p><p>
          <span class="quote">「<span class="quote"><code class="literal">#</code></span>」</span> または <span class="quote">「<span class="quote"><code class="literal">;</code></span>」</span> で始まるコメント行。<span class="quote">「<span class="quote"><code class="literal">#</code></span>」</span> を使用するコメントは、行の途中で開始することもできます。
        </p></li><li class="listitem"><p>
          <code class="literal">[<em class="replaceable"><code>group</code></em>]</code>
        </p><p>
          <em class="replaceable"><code>group</code></em> はオプションを設定するプログラムまたはグループの名前です。グループ行のあと、すべてのオプション設定行は、オプションファイルが終了するか、または別のグループ行が指定されるまで、名前を指定したグループに適用されます。オプショングループ名では、大文字と小文字は区別されません。
        </p></li><li class="listitem"><p>
          <code class="literal"><em class="replaceable"><code>opt_name</code></em></code>
        </p><p>
          これは、コマンド行の <code class="option">--<em class="replaceable"><code>opt_name</code></em></code> と同等です。
        </p></li><li class="listitem"><p>
          <code class="literal"><em class="replaceable"><code>opt_name</code></em>=<em class="replaceable"><code>value</code></em></code>
        </p><p>
          これは、コマンド行の <code class="option">--<em class="replaceable"><code>opt_name</code></em>=<em class="replaceable"><code>value</code></em></code> と同等です。オプションファイルでは、<span class="quote">「<span class="quote"><code class="literal">=</code></span>」</span> 文字の周囲にスペースを置くことができます。これはコマンド行ではできません。オプションで、値を一重引用符または二重引用符で囲むことができます。これは、値が <span class="quote">「<span class="quote"><code class="literal">#</code></span>」</span> コメント文字を含む場合に便利です。
        </p></li></ul></div><p>
      先頭および末尾のスペースは、自動的にオプション名および値から削除されます。
    </p><a class="indexterm" name="idm139979159066512"></a><a class="indexterm" name="idm139979159064304"></a><p>
      エスケープシーケンス <span class="quote">「<span class="quote"><code class="literal">\b</code></span>」</span>、<span class="quote">「<span class="quote"><code class="literal">\t</code></span>」</span>、<span class="quote">「<span class="quote"><code class="literal">\n</code></span>」</span>、<span class="quote">「<span class="quote"><code class="literal">\r</code></span>」</span>、<span class="quote">「<span class="quote"><code class="literal">\\</code></span>」</span>、および <span class="quote">「<span class="quote"><code class="literal">\s</code></span>」</span> をオプション値で使用して、バックスペース、タブ、改行、復帰改行、バックスラッシュ、およびスペース文字を表すことができます。オプションファイルでのエスケープのルール:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          バックスラッシュに有効なエスケープシーケンス文字が続く場合、そのシーケンスはシーケンスが表す文字に変換されます。たとえば、<span class="quote">「<span class="quote"><code class="literal">\s</code></span>」</span> はスペースに変換されます。
        </p></li><li class="listitem"><p>
          バックスラッシュに有効なエスケープシーケンス文字が続かない場合は、変更されません。たとえば、<span class="quote">「<span class="quote"><code class="literal">\S</code></span>」</span> はそのままです。
        </p></li></ul></div><p>
      前述のルールは、バックスラッシュそのものは <span class="quote">「<span class="quote"><code class="literal">\\</code></span>」</span> で指定できることを意味します。または、有効なエスケープシーケンス文字が続かなければ <span class="quote">「<span class="quote"><code class="literal">\</code></span>」</span> で指定できます。
    </p><p>
      オプションファイルにおけるエスケープシーケンスのルールは、SQL ステートメントにおける文字列リテラルのエスケープシーケンスのルールとは若干異なります。後者の場合は、<span class="quote">「<span class="quote"><em class="replaceable"><code>x</code></em></span>」</span> が有効なエスケープシーケンス文字ではない場合、<span class="quote">「<span class="quote"><code class="literal">\<em class="replaceable"><code>x</code></em></code></span>」</span> は <span class="quote">「<span class="quote"><code class="literal">\<em class="replaceable"><code>x</code></em></code></span>」</span> ではなく <span class="quote">「<span class="quote"><em class="replaceable"><code>x</code></em></span>」</span> になります。<a class="xref" href="language-structure.html#string-literals" title="9.1.1 文字列リテラル">セクション9.1.1「文字列リテラル」</a>を参照してください。
    </p><a class="indexterm" name="idm139979159044176"></a><a class="indexterm" name="idm139979159042032"></a><p>
      オプションファイル値のエスケープのルールは、<span class="quote">「<span class="quote"><code class="literal">\</code></span>」</span> をパス名区切り文字として使用する Windows パス名に特に関係します。Windows パス名の区切り文字は、エスケープシーケンス文字が続く場合は <span class="quote">「<span class="quote"><code class="literal">\\</code></span>」</span> と記述する必要があります。そうでない場合は <span class="quote">「<span class="quote"><code class="literal">\\</code></span>」</span> または <span class="quote">「<span class="quote"><code class="literal">\</code></span>」</span> と記述できます。または、Windows パス名に <span class="quote">「<span class="quote"><code class="literal">/</code></span>」</span> を使用することもでき、<span class="quote">「<span class="quote"><code class="literal">\</code></span>」</span> として扱われます。オプションファイルでベースディレクトリ <code class="filename">C:\Program Files\MySQL\MySQL Server 5.6</code> を指定するとします。これはいくつかの方法で実行できます。例: 
    </p><pre class="programlisting">
basedir="C:\Program Files\MySQL\MySQL Server 5.6"
basedir="C:\\Program Files\\MySQL\\MySQL Server 5.6"
basedir="C:/Program Files/MySQL/MySQL Server 5.6"
basedir=C:\\Program\sFiles\\MySQL\\MySQL\sServer\s5.6
</pre><p>
      オプショングループ名がプログラム名と同じである場合、グループ内のオプションは特にそのプログラムに適用されます。たとえば、<code class="literal">[mysqld]</code> グループおよび <code class="literal">[mysql]</code> グループは、それぞれ <span class="command"><strong>mysqld</strong></span> サーバーおよび <span class="command"><strong>mysql</strong></span> クライアントプログラムに適用されます。
    </p><p>
      <code class="literal">[client]</code> オプショングループは、すべてのクライアントプログラムによって読み取られます (しかし、<span class="command"><strong>mysqld</strong></span> には読み取られ<span class="emphasis"><em>ません</em></span>)。このため、すべてのクライアントに適用されるオプションを指定できます。たとえば、<code class="literal">[client]</code> は、サーバーへの接続に使用するパスワードを指定するために使用するのに最適なグループです。(ただし、ほかの人にパスワードを知られないように、オプションファイルは必ず自分にしか読み書きできないようにしてください。)使用する<span class="emphasis"><em>すべての</em></span>クライアントプログラムが <code class="literal">[client]</code> グループを認識しないかぎり、オプションに置かないようにしてください。そのオプションを理解しないプログラムを実行しようとすると、そのプログラムはエラーメッセージを表示してから終了します。
    </p><p>
      一般的なグローバルオプションファイルを次に示します。
    </p><pre class="programlisting">
[client]
port=3306
socket=/tmp/mysql.sock

[mysqld]
port=3306
socket=/tmp/mysql.sock
key_buffer_size=16M
max_allowed_packet=8M

[mysqldump]
quick
</pre><p>
      前述のオプションファイルは、<code class="literal">key_buffer_size</code> 変数および <code class="literal">max_allowed_packet</code> 変数をセットする行に <code class="literal"><em class="replaceable"><code>var_name</code></em>=<em class="replaceable"><code>value</code></em></code> 構文を使用します。
    </p><p>
      一般的なユーザーオプションファイルを次に示します。
    </p><pre class="programlisting">
[client]
# The following password will be sent to all standard MySQL clients
password="my_password"

[mysql]
no-auto-rehash
connect_timeout=2

[mysqlhotcopy]
interactive-timeout
</pre><p>
      MySQL の特定のリリースシリーズの <span class="command"><strong>mysqld</strong></span> サーバーのみに読み取らせるべきオプショングループを作成する場合は、<code class="literal">[mysqld-5.5]</code>、<code class="literal">[mysqld-5.6]</code>、などの名前のグループを使用することで実行できます。次のグループは、<code class="option">--new</code> オプションが 5.6.x バージョン番号の MySQL サーバーのみに使用されるべきであることを示します。
    </p><pre class="programlisting">
[mysqld-5.6]
new
</pre><p>
      オプションファイルで、<code class="literal">!include</code> ディレクティブを使用してほかのオプションファイルをインクルードしたり、<code class="literal">!includedir</code> を使用して特定のディレクトリでオプションファイルを検索したりできます。たとえば、<code class="filename">/home/mydir/myopt.cnf</code> ファイルをインクルードするには、次のディレクティブを使用します。
    </p><pre class="programlisting">
!include /home/mydir/myopt.cnf
</pre><p>
      <code class="filename">/home/mydir</code> ディレクトリを検索してそこで見つかったオプションファイルを読み取るには、次のディレクティブを使用します。
    </p><pre class="programlisting">
!includedir /home/mydir
</pre><p>
      ディレクトリ内のオプションファイルが読み取られる順序は保証されません。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        現在、Unix オペレーティングシステムで <code class="literal">!includedir</code> ディレクティブを使用して検索およびインクルードされるファイルは、<code class="filename">.cnf</code> で終わるファイル名を持っていなくては<span class="emphasis"><em>なりません</em></span>。Windows においては、このディレクティブは <code class="filename">.ini</code> または <code class="filename">.cnf</code> 拡張子を持つファイルをチェックします。
      </p></div><p>
      インクルードされるオプションファイルの内容は、ほかのオプションファイルと同様に記述します。すなわち、オプションのグループを含み、それぞれの前にオプションが適用されるプログラムを示す <code class="literal">[<em class="replaceable"><code>group</code></em>]</code> 行があるようにしてください。
    </p><p>
      インクルードされるファイルの処理中、現在のプログラムが検索するグループ内のオプションのみが使用されます。その他のグループは無視されます。<code class="filename">my.cnf</code> ファイルに次の行が含まれるとします。
    </p><pre class="programlisting">
!include /home/mydir/myopt.cnf
</pre><p>
      また、<code class="filename">/home/mydir/myopt.cnf</code> は次のようであるとします。
    </p><pre class="programlisting">
[mysqladmin]
force

[mysqld]
key_buffer_size=16M
</pre><p>
      <code class="filename">my.cnf</code> が <span class="command"><strong>mysqld</strong></span> によって処理される場合、<code class="filename">/home/mydir/myopt.cnf</code> 内の <code class="literal">[mysqld]</code> グループのみが使用されます。このファイルが <span class="command"><strong>mysqladmin</strong></span> によって処理される場合、<code class="literal">[mysqladmin]</code> グループのみが使用されます。このファイルがその他のプログラムによって処理される場合、<code class="filename">/home/mydir/myopt.cnf</code> のオプションは使用されません。
    </p><p>
      <code class="literal">!includedir</code> ディレクティブは同様に処理されますが、指名されたディレクトリ内のすべてのオプションファイルが読み取られる点が異なります。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="option-file-options"></a>4.2.7 オプションファイルの処理に影響するコマンド行オプション</h3></div></div></div><p>
      オプションファイルをサポートするほとんどの MySQL プログラムは、次のオプションを処理します。それらはオプションファイルの処理に影響するため、オプションファイルではなくコマンド行で指定する必要があります。これらのオプションはそれぞれ、正しく機能するためにはほかのオプションより前に指定する必要があります。ただし、次の例外があります。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="option">--print-defaults</code> は、<code class="option">--defaults-file</code> または <code class="option">--defaults-extra-file</code> の直後に使用できます。
        </p></li><li class="listitem"><p>
          Windows では、サーバーが <code class="option">--defaults-file</code> および <code class="option">--install</code> オプションで起動される場合、<code class="option">--install</code> が最初でなければなりません。<a class="xref" href="installing.html#windows-start-service" title="2.3.5.7 Windows のサービスとして MySQL を起動する">セクション2.3.5.7「Windows のサービスとして MySQL を起動する」</a>を参照してください。
        </p></li></ul></div><p>
      ファイル名を指定する場合、<span class="quote">「<span class="quote"><code class="literal">~</code></span>」</span> シェルメタキャラクタは想定どおり解釈されない場合があるため、使用を避けるようにしてください。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_general_defaults-extra-file"></a>
          <a class="indexterm" name="idm139979158973696"></a> <code class="option">--defaults-extra-file=<em class="replaceable"><code>file_name</code></em></code>
        </p><p>
          このオプションファイルは、グローバルオプションファイルのあとに読み取りますが、(UNIX では) ユーザーオプションファイルの前に読み取るようにしてください。ファイルが存在しないかアクセスできない場合、エラーが発生します。<em class="replaceable"><code>file_name</code></em> は、フルパス名でなく相対パス名として指定された場合、現行ディレクトリを基準にして解釈されます。
        </p></li><li class="listitem"><p><a name="option_general_defaults-file"></a>
          <a class="indexterm" name="idm139979158968320"></a> <code class="option">--defaults-file=<em class="replaceable"><code>file_name</code></em></code>
        </p><p>
          指定されたオプションファイルのみ使用します。ファイルが存在しないかアクセスできない場合、エラーが発生します。<em class="replaceable"><code>file_name</code></em> は、フルパス名でなく相対パス名として指定された場合、現行ディレクトリを基準にして解釈されます。
        </p></li><li class="listitem"><p><a name="option_general_defaults-group-suffix"></a>
          <a class="indexterm" name="idm139979158963216"></a> <code class="option">--defaults-group-suffix=<em class="replaceable"><code>str</code></em></code>
        </p><p>
          通常のオプショングループだけでなく、通常の名前に <em class="replaceable"><code>str</code></em> のサフィクスが付いたグループも読み取ります。たとえば、<span class="command"><strong>mysql</strong></span> クライアントは通常 <code class="literal">[client]</code> グループおよび <code class="literal">[mysql]</code> グループを読み取ります。<code class="option">--defaults-group-suffix=_other</code> オプションを指定した場合、<span class="command"><strong>mysql</strong></span> は <code class="literal">[client_other]</code> グループおよび <code class="literal">[mysql_other]</code> グループも読み取ります。
        </p></li><li class="listitem"><p><a name="option_general_login-path"></a>
          <a class="indexterm" name="idm139979158953024"></a> <code class="option">--login-path=<em class="replaceable"><code>name</code></em></code>
        </p><p>
          指名されたログインパスから <code class="filename">.mylogin.cnf</code> ログインファイルのオプションを読み取ります。<span class="quote">「<span class="quote">ログインパス</span>」</span>は、<code class="option">host</code>、<code class="option">user</code>、および <code class="option">password</code> という限定されたオプションのセットのみを許可するオプショングループです。ログインパスは、サーバーホストおよびそのサーバーで認証するための認証情報を示す値のセットであると考えてください。ログインパスファイルを作成するには、<span class="command"><strong>mysql_config_editor</strong></span> ユーティリティーを使用します。<a class="xref" href="programs.html#mysql-config-editor" title="4.6.6 mysql_config_editor — MySQL 構成ユーティリティー">セクション4.6.6「<span class="command"><strong>mysql_config_editor</strong></span> — MySQL 構成ユーティリティー」</a>を参照してください。このオプションは MySQL 5.6.6 で追加されました。
        </p></li><li class="listitem"><p><a name="option_general_no-defaults"></a>
          <a class="indexterm" name="idm139979158944080"></a> <code class="option">--no-defaults</code>
        </p><p>
          オプションファイルを読み取りません。オプションファイルから不明のオプションを読み取ることが原因でプログラムの起動に失敗する場合、<code class="option">--no-defaults</code> を使用して、オプションを読み取らないようにすることができます。
        </p><p>
          例外として、<code class="filename">.mylogin.cnf</code> ファイルは、存在する場合はすべての場合に読み取られます。これにより、<code class="option">--no-defaults</code> が使用された場合に、コマンド行よりも安全な方法でパスワードを指定できます。(<code class="filename">.mylogin.cnf</code> は <span class="command"><strong>mysql_config_editor</strong></span> ユーティリティーによって作成されます。<a class="xref" href="programs.html#mysql-config-editor" title="4.6.6 mysql_config_editor — MySQL 構成ユーティリティー">セクション4.6.6「<span class="command"><strong>mysql_config_editor</strong></span> — MySQL 構成ユーティリティー」</a>を参照してください)。
        </p></li><li class="listitem"><p><a name="option_general_print-defaults"></a>
          <a class="indexterm" name="idm139979158934464"></a> <code class="option">--print-defaults</code>
        </p><p>
          プログラム名と、オプションファイルから受け取るすべてのオプションを出力します。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="program-variables"></a>4.2.8 プログラム変数の設定へのオプションの使用</h3></div></div></div><a class="indexterm" name="idm139979158930080"></a><a class="indexterm" name="idm139979158927952"></a><p>
      多くの MySQL プログラムには内部変数があり、実行時に <code class="literal">SET</code> ステートメントを使用して設定できます。<a class="xref" href="sql-syntax.html#set-statement" title="13.7.4 SET 構文">セクション13.7.4「SET 構文」</a>および<a class="xref" href="server-administration.html#using-system-variables" title="5.1.5 システム変数の使用">セクション5.1.5「システム変数の使用」</a>を参照してください。
    </p><p>
      これらのプログラム変数のほとんどは、プログラムオプションの指定に適用されるのと同じ構文を使用して、サーバーの起動時にも設定できます。たとえば、<span class="command"><strong>mysql</strong></span> には通信バッファーの最大サイズを制御する <code class="literal">max_allowed_packet</code> 変数があります。<span class="command"><strong>mysql</strong></span> に対して <code class="literal">max_allowed_packet</code> 変数を 16M バイトの値にセットするには、次のコマンドのいずれかを使用してください。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql --max_allowed_packet=16777216</code></strong>
shell&gt; <strong class="userinput"><code>mysql --max_allowed_packet=16M</code></strong>
</pre><p>
      最初のコマンドは値をバイトで指定します。2 番目は値を M バイトで指定します。数値を取る変数については、1024、1024<sup>2</sup> または 1024<sup>3</sup> の乗数を示すために、<code class="literal">K</code>、<code class="literal">M</code> または <code class="literal">G</code> (大文字または小文字) のサフィクスで値を指定できます。(たとえば、<code class="literal">max_allowed_packet</code> を設定するために使用される場合、サフィクスは K バイト、M バイトまたは G バイトの単位を示します。)
    </p><p>
      オプションファイルでは、変数の設定は先頭のダッシュなしで指定されます。
    </p><pre class="programlisting">
[mysql]
max_allowed_packet=16777216
</pre><p>
      または:
    </p><pre class="programlisting">
[mysql]
max_allowed_packet=16M
</pre><p>
      お好みで、変数名内の下線をダッシュとして指定できます。次のオプショングループは同等です。どちらもサーバーのキーバッファーを 512M バイトに設定します。
    </p><pre class="programlisting">
[mysqld]
key_buffer_size=512M

[mysqld]
key-buffer-size=512M
</pre><p>
      変数は、すべて記述するか、またはあいまいでないプリフィクスとして指定できます。たとえば、<code class="literal">max_allowed_packet</code> 変数は <span class="command"><strong>mysql</strong></span> に対して <code class="option">--max_a</code> として設定できますが、<code class="option">--max</code> としては指定できません。後者はあいまいなためです。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql --max=1000000</code></strong>
mysql: ambiguous option '--max=1000000' (max_allowed_packet, max_join_size)
</pre><p>
      変数のプリフィクスを使用すると、プログラムに対して新しい変数が実装された場合に問題となることがあることに注意してください。現在あいまいでないプリフィクスが、将来あいまいになる可能性があります。
    </p><p>
      値乗数を指定するサフィクスは、サーバーの起動時に変数を設定するときに使用できますが、実行時に <code class="literal">SET</code> で値を設定するためには使用できません。一方、<code class="literal">SET</code> を使用すると、式を使用して変数の値を割り当てることができますが、サーバーの起動時に変数を設定するときには使用できません。たとえば、サーバーの起動時に次の 1 行目は有効ですが 2 行目は無効です。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql --max_allowed_packet=16M</code></strong>
shell&gt; <strong class="userinput"><code>mysql --max_allowed_packet=16*1024*1024</code></strong>
</pre><p>
      逆に、実行時に次の 2 行目は有効ですが 1 行目は無効です。
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SET GLOBAL max_allowed_packet=16M;</code></strong>
mysql&gt; <strong class="userinput"><code>SET GLOBAL max_allowed_packet=16*1024*1024;</code></strong>
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="option-defaults-equals"></a>4.2.9 オプションのデフォルト、値を想定するオプション、および = 記号</h3></div></div></div><p>
      慣例により、値を割り当てるオプションの長い形式は、次のように等号 (<code class="literal">=</code>) で記述されます。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql --host=tonfisk --user=jon</code></strong>
</pre><p>
      値を必要とするオプション (つまり、デフォルトの値がないもの) では等号は必要ではないため、次も有効です。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql --host tonfisk --user jon</code></strong>
</pre><p>
      どちらの場合も、<span class="command"><strong>mysql</strong></span> クライアントは <span class="quote">「<span class="quote">tonfisk</span>」</span> という名前のホストで稼働している MySQL サーバーに、ユーザー名 <span class="quote">「<span class="quote">jon</span>」</span> のアカウントを使用して接続しようとします。
    </p><p>
      この動作のため、値を想定するオプションに値を指定しない場合に、時として問題が生じることがあります。次の例を見てください。ユーザーがホスト <code class="literal">tonfisk</code> で稼働している MySQL サーバーに、ユーザー <code class="literal">jon</code> として接続します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql --host 85.224.35.45 --user jon</code></strong>
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 3
Server version: 5.6.23 Source distribution

Type 'help;' or '\h' for help. Type '\c' to clear the buffer.

mysql&gt; <strong class="userinput"><code>SELECT CURRENT_USER();</code></strong>
+----------------+
| CURRENT_USER() |
+----------------+
| jon@%          |
+----------------+
1 row in set (0.00 sec)
</pre><p>
      これらのオプションの 1 つに対して必要な値を省略すると、次に示すようなエラーが生じます。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql --host 85.224.35.45 --user</code></strong>
<span class="errortext">mysql: option '--user' requires an argument</span>
</pre><p>
      この場合、<span class="command"><strong>mysql</strong></span> は、コマンド行で <code class="option">--user</code> オプションのあとに何もないため、値を見つけられませんでした。ただし、使用される最後のオプションでは<span class="emphasis"><em>ない</em></span>オプションの値を省略すると、想定外の別のエラーが生じます。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql --host --user jon</code></strong>
<span class="errortext">ERROR 2005 (HY000): Unknown MySQL server host '--user' (1)</span>
</pre><p>
      <span class="command"><strong>mysql</strong></span> はコマンド行で <code class="option">--host</code> に続く任意の文字列をホスト名と想定するため、<code class="option">--host</code> <code class="option">--user</code> は <code class="option">--host=--user</code> と解釈され、クライアントは <span class="quote">「<span class="quote">--user</span>」</span> という名前のホストで稼働している MySQL サーバーに接続しようとします。
    </p><p>
      デフォルト値を持つオプションは、値を割り当てる場合には必ず等号が必要です。そうしないとエラーになります。たとえば、MySQL サーバー <code class="option">--log-error</code> オプションはデフォルト値 <code class="filename"><em class="replaceable"><code>host_name</code></em>.err</code> を持ちます。ここで、<em class="replaceable"><code>host_name</code></em> は MySQL が稼働しているホストの名前です。ホスト名が <span class="quote">「<span class="quote">tonfisk</span>」</span> であるコンピュータ上で MySQL を稼働しているとします。次のように <span class="command"><strong>mysqld_safe</strong></span> を呼び出した場合を考えます。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqld_safe &amp;</code></strong>
[1] 11699
shell&gt; 080112 12:53:40 mysqld_safe Logging to '/usr/local/mysql/var/tonfisk.err'.
080112 12:53:40 mysqld_safe Starting mysqld daemon with databases from /usr/local/mysql/var
shell&gt;
</pre><p>
      サーバーのシャットダウン後、次のように再起動します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqld_safe --log-error &amp;</code></strong>
[1] 11699
shell&gt; 080112 12:53:40 mysqld_safe Logging to '/usr/local/mysql/var/tonfisk.err'.
080112 12:53:40 mysqld_safe Starting mysqld daemon with databases from /usr/local/mysql/var
shell&gt;
</pre><p>
      コマンド行で <code class="option">--log-error</code> にはほかに何も続いておらず、独自のデフォルト値が供給されるため、結果は同じです。(<code class="literal">&amp;</code> 文字は、オペレーティングシステムに対して MySQL をバックグランドで実行することを指示します。MySQL 自身はこれを無視します。)ここで、エラーを <code class="filename">my-errors.err</code> という名前のファイルに記録するとします。<code class="option">--log-error my-errors</code> でサーバーを起動しようとする可能性がありますが、これは次に示すように、意図した効果を持ちません。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqld_safe --log-error my-errors &amp;</code></strong>
[1] 31357
shell&gt; 080111 22:53:31 mysqld_safe Logging to '/usr/local/mysql/var/tonfisk.err'.
080111 22:53:32 mysqld_safe Starting mysqld daemon with databases from /usr/local/mysql/var
080111 22:53:34 mysqld_safe mysqld from pid file /usr/local/mysql/var/tonfisk.pid ended

[1]+  Done                    ./mysqld_safe --log-error my-errors
</pre><p>
      サーバーは <code class="filename">/usr/local/mysql/var/tonfisk.err</code> をエラーログとして起動しようとしましたが、シャットダウンしました。このファイルの最後の数行を調べると理由がわかります。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>tail /usr/local/mysql/var/tonfisk.err</code></strong>
080111 22:53:32  InnoDB: Started; log sequence number 0 46409
<span class="errortext">/usr/local/mysql/libexec/mysqld: Too many arguments (first extra is 'my-errors').
Use --verbose --help to get a list of available options</span>
080111 22:53:32 <span class="errortext">[ERROR] Aborting</span>

080111 22:53:32  InnoDB: Starting shutdown...
080111 22:53:34  InnoDB: Shutdown completed; log sequence number 0 46409
080111 22:53:34 [Note] /usr/local/mysql/libexec/mysqld: Shutdown complete

080111 22:53:34 mysqld_safe mysqld from pid file /usr/local/mysql/var/tonfisk.pid ended
</pre><p>
      <code class="option">--log-error</code> オプションはデフォルト値を供給するため、次に示すように、別の値を割り当てるには等号を使用する必要があります。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqld_safe --log-error=my-errors &amp;</code></strong>
[1] 31437
shell&gt; 080111 22:54:15 mysqld_safe Logging to '/usr/local/mysql/var/my-errors.err'.
080111 22:54:15 mysqld_safe Starting mysqld daemon with databases from /usr/local/mysql/var

shell&gt;
</pre><p>
      今度はサーバーは正常に起動し、エラーをファイル <code class="filename">/usr/local/mysql/var/my-errors.err</code> にロギングしています。
    </p><p>
      オプションファイルでオプション値を指定する場合も、同様の問題が生じる可能性があります。たとえば、次の内容の <code class="filename">my.cnf</code> ファイルを考えます。
    </p><pre class="programlisting">
[mysql]

host
user
</pre><p>
      <span class="command"><strong>mysql</strong></span> クライアントがこのファイルを読み取ると、これらのエントリは <code class="option">--host</code> <code class="option">--user</code> または <code class="option">--host=--user</code> と解釈され、次に示すような結果になります。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql</code></strong>
<span class="errortext">ERROR 2005 (HY000): Unknown MySQL server host '--user' (1)</span>
</pre><p>
      ただし、オプションファイルでは等号は想定されません。<code class="filename">my.cnf</code> ファイルが次に示すようになっているとします。
    </p><pre class="programlisting">
[mysql]

user jon
</pre><p>
      この場合、<span class="command"><strong>mysql</strong></span> を起動しようとすると別のエラーになります。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql</code></strong>
<span class="errortext">mysql: unknown option '--user jon'</span>
</pre><p>
      <code class="literal">host=tonfisk</code> ではなく <code class="literal">host tonfisk</code> とオプションファイルに記述した場合も同様のエラーが生じます。代わりに、等号を使用しなくてはなりません。
    </p><pre class="programlisting">
[mysql]

user=jon
</pre><p>
      これでログインが成功します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql</code></strong>
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 5
Server version: 5.6.23 Source distribution

Type 'help;' or '\h' for help. Type '\c' to clear the buffer.

mysql&gt; <strong class="userinput"><code>SELECT USER();</code></strong>
+---------------+
| USER()        |
+---------------+
| jon@localhost |
+---------------+
1 row in set (0.00 sec)
</pre><p>
      これはコマンド行での動作と同じではありません。コマンド行では等号は必要ではありません。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql --user jon --host tonfisk</code></strong>
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 6
Server version: 5.6.23 Source distribution

Type 'help;' or '\h' for help. Type '\c' to clear the buffer.

mysql&gt; <strong class="userinput"><code>SELECT USER();</code></strong>
+---------------+
| USER()        |
+---------------+
| jon@tonfisk   |
+---------------+
1 row in set (0.00 sec)
</pre><p>
      MySQL 5.6 では、オプションファイルに、値を必要とするオプションを値なしで指定すると、サーバーがエラーで中止します。<code class="filename">my.cnf</code> に次の内容が含まれるとします。
    </p><pre class="programlisting">
[mysqld]
log_error
relay_log
relay_log_index
</pre><p>
      これは、次に示すようにサーバーが起動に失敗します。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqld_safe &amp;</code></strong>

090514 09:48:39 mysqld_safe Logging to '/home/jon/bin/mysql/var/tonfisk.err'.
090514 09:48:39 mysqld_safe Starting mysqld daemon with databases from /home/jon/bin/mysql/var
090514 09:48:39 mysqld_safe mysqld from pid file /home/jon/bin/mysql/var/tonfisk.pid ended
</pre><p>
      <code class="option">--log-error</code> オプションは引数を必要としません。しかし、エラーログ (指定された値がないため、デフォルトの <code class="filename"><em class="replaceable"><code>datadir</code></em>/<em class="replaceable"><code>hostname</code></em>.err</code> になります) に示されるように、<code class="option">--relay-log</code> オプションには必要です。
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>tail -n 3 ../var/tonfisk.err</code></strong>

090514 09:48:39 mysqld_safe Starting mysqld daemon with databases from /home/jon/bin/mysql/var
090514  9:48:39 [ERROR] /home/jon/bin/mysql/libexec/mysqld: option '--relay-log' requires an argument
090514  9:48:39 [ERROR] Aborting
</pre><p>
      これは以前の動作からは変更されています。以前は、サーバーは <code class="filename">my.cnf</code> ファイルの最後の 2 行を <code class="option">--relay-log=relay_log_index</code> と解釈し、<span class="quote">「<span class="quote">relay_log_index</span>」</span> をベース名としてリレーログファイルを作成しました。(Bug #25192)
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="setting-environment-variables"></a>4.2.10 環境変数の設定</h3></div></div></div><a class="indexterm" name="idm139979158808480"></a><p>
      環境変数は、コマンドプロセッサの現在の起動に影響するようにコマンドプロンプトで設定したり、将来の起動に影響するように永続的に設定したりできます。変数を永続的に設定するには、起動ファイルで設定するか、またはこのためにシステムが提供するインタフェースを使用して設定できます。具体的な詳細は、コマンドインタプリタのドキュメントを参照してください。<a class="xref" href="installing.html#environment-variables" title="2.12 環境変数">セクション2.12「環境変数」</a>には、MySQL プログラムの動作に影響するすべての環境変数のリストがあります。
    </p><p>
      環境変数の値を指定するには、コマンドプロセッサに適した構文を使用します。たとえば Windows では、<code class="literal">USER</code> 変数を設定して MySQL アカウント名を指定できます。そうするには、次の構文を使用します。
    </p><pre class="programlisting">
SET USER=<em class="replaceable"><code>your_name</code></em>
</pre><p>
      Unix での構文はシェルに依存します。<code class="literal">MYSQL_TCP_PORT</code> 変数を使用して TCP/IP ポート番号を指定するとします。(<span class="command"><strong>sh</strong></span>、<span class="command"><strong>ksh</strong></span>、<span class="command"><strong>bash</strong></span>、<span class="command"><strong>zsh</strong></span>、などの) 典型的な構文は次のとおりです。
    </p><pre class="programlisting">
MYSQL_TCP_PORT=3306
export MYSQL_TCP_PORT
</pre><p>
      最初のコマンドが変数を設定し、その値が MySQL およびほかのプロセスにアクセス可能になるように、<code class="literal">export</code> コマンドがシェル環境に変数をエクスポートします。
    </p><p>
      <span class="command"><strong>csh</strong></span> および <span class="command"><strong>tcsh</strong></span> については、シェル変数を環境で使用可能にするために <span class="command"><strong>setenv</strong></span> を使用してください。
    </p><pre class="programlisting">
setenv MYSQL_TCP_PORT 3306
</pre><p>
      環境変数を設定するコマンドは、コマンドプロンプトで実行してただちに有効にできますが、その設定はログアウトするまでしか持続しません。ログインするたびに設定を有効にするには、システムが提供するインタフェースを使用するか、コマンドインタプリタが、起動時に毎回読み取る起動ファイルに適切なコマンドを配置します。
    </p><p>
      Windows では、システム コントロール パネル (詳細設定の下) で環境変数を設定できます。
    </p><p>
      Unix では、通常のシェル起動ファイルは <span class="command"><strong>bash</strong></span> では <code class="filename">.bashrc</code> または <code class="filename">.bash_profile</code>、または <span class="command"><strong>tcsh</strong></span> では <code class="filename">.tcshrc</code> です。
    </p><p>
      MySQL プログラムが <code class="literal">/usr/local/mysql/bin</code> にインストールされ、これらのプログラムを呼び出しやすくしたいとします。そのためには、<code class="literal">PATH</code> 環境変数の値をそのディレクトリを含むように設定します。たとえば、シェルが <span class="command"><strong>bash</strong></span> の場合、<code class="filename">.bashrc</code> ファイルに次の行を追加します。
    </p><pre class="programlisting">
PATH=${PATH}:/usr/local/mysql/bin
</pre><p>
      <span class="command"><strong>bash</strong></span> はログインシェルと非ログインシェルで異なる起動ファイルを使用するため、ログインシェルに対しては設定を <code class="filename">.bashrc</code>、非ログインシェルに対しては <code class="filename">.bash_profile</code> に追加して、いずれの場合にも確実に <code class="literal">PATH</code> が設定されるようにするとよいでしょう。
    </p><p>
      シェルが <span class="command"><strong>tcsh</strong></span> の場合、<code class="filename">.tcshrc</code> ファイルに次の行を追加します。
    </p><pre class="programlisting">
setenv PATH ${PATH}:/usr/local/mysql/bin
</pre><p>
      ホームディレクトリに適切な起動ファイルが存在しない場合、テキストエディタで作成します。
    </p><p>
      <code class="literal">PATH</code> 設定を変更したら、設定が反映されるように、Windows の場合は新しいコンソールウィンドウを開き、Unix の場合はログインしなおします。
    </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="programs-server"></a>4.3 MySQL サーバーとサーバー起動プログラム</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="programs.html#mysqld">4.3.1 <span class="command"><strong>mysqld</strong></span> — MySQL サーバー</a></span></dt><dt><span class="section"><a href="programs.html#mysqld-safe">4.3.2 <span class="command"><strong>mysqld_safe</strong></span> — MySQL サーバー起動スクリプト</a></span></dt><dt><span class="section"><a href="programs.html#mysql-server">4.3.3 <span class="command"><strong>mysql.server</strong></span> — MySQL サーバー起動スクリプト</a></span></dt><dt><span class="section"><a href="programs.html#mysqld-multi">4.3.4 <span class="command"><strong>mysqld_multi</strong></span> — 複数の MySQL サーバーの管理</a></span></dt></dl></div><p>
    このセクションでは、MySQL サーバー <span class="command"><strong>mysqld</strong></span>、およびサーバーを起動するために使用されるいくつかのプログラムについて説明します。
  </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysqld"></a>4.3.1 <span class="command"><strong>mysqld</strong></span> — MySQL サーバー</h3></div></div></div><a class="indexterm" name="idm139979158769216"></a><a class="indexterm" name="idm139979158767312"></a><p>
        <span class="command"><strong>mysqld</strong></span> は、MySQL サーバーとも呼ばれ、MySQL インストールでのほとんどの作業を実行するメインプログラムです。MySQL サーバーは、データベースおよびテーブルを含む MySQL データディレクトリへのアクセスを管理します。データディレクトリは、ログファイルおよびステータスファイルなど、その他の情報のデフォルトの場所でもあります。
      </p><p>
        MySQL サーバーが起動するとき、クライアントプログラムからのネットワーク接続を待機し、それらのクライアントに代わってデータベースへのアクセスを管理します。
      </p><p>
        <span class="command"><strong>mysqld</strong></span> プログラムには、起動時に指定できる多くのオプションがあります。すべてのオプションをリストするには、次のコマンドを実行します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqld --verbose --help</code></strong>
</pre><p>
        MySQL サーバーには、稼働時の動作に影響する一連のシステム変数もあります。システム変数はサーバーの起動時に設定でき、多くは実行時に変更して動的なサーバー再構成に影響を与えることができます。MySQL サーバーには、動作に関する情報を提供する一連のステータス変数もあります。これらのステータス変数をモニターして、実行時のパフォーマンス特性にアクセスできます。
      </p><p>
        MySQL サーバーのコマンドオプション、システム変数、およびステータス変数の詳細な説明は、<a class="xref" href="server-administration.html#mysqld-server" title="5.1 MySQL Server">セクション5.1「MySQL Server」</a>を参照してください。MySQL のインストールおよび初期構成のセットアップについては、<a class="xref" href="installing.html" title="第 2 章 MySQL のインストールと更新">第2章「<i>MySQL のインストールと更新</i>」</a>を参照してください。
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysqld-safe"></a>4.3.2 <span class="command"><strong>mysqld_safe</strong></span> — MySQL サーバー起動スクリプト</h3></div></div></div><a class="indexterm" name="idm139979158754736"></a><a class="indexterm" name="idm139979158753520"></a><a class="indexterm" name="idm139979158751616"></a><p>
        <span class="command"><strong>mysqld_safe</strong></span> は、Unix で <span class="command"><strong>mysqld</strong></span> サーバーを起動するための推奨される方法です。<span class="command"><strong>mysqld_safe</strong></span> は、エラー発生時の再起動やランタイム情報のエラーログファイルへのロギングなど、いくつかの安全機能を追加します。エラーのロギングについては、このセクションで後ほど説明します。
      </p><p>
        <span class="command"><strong>mysqld_safe</strong></span> は、<span class="command"><strong>mysqld</strong></span> という名前の実行可能ファイルを起動しようとします。デフォルトの動作をオーバーライドして、起動するサーバーの名前を明示的に指定するには、<span class="command"><strong>mysqld_safe</strong></span> で <code class="option">--mysqld</code> オプションまたは <code class="option">--mysqld-version</code> オプションを指定します。<code class="option">--ledir</code> オプションを使用して、<span class="command"><strong>mysqld_safe</strong></span> がサーバーを検索するディレクトリを指定することもできます。
      </p><p>
        <span class="command"><strong>mysqld_safe</strong></span> のオプションの多くは、<span class="command"><strong>mysqld</strong></span> のオプションと同じです。<a class="xref" href="server-administration.html#server-options" title="5.1.3 サーバーコマンドオプション">セクション5.1.3「サーバーコマンドオプション」</a>を参照してください。
      </p><p>
        <span class="command"><strong>mysqld_safe</strong></span> が理解できないオプションは、コマンド行で指定された場合は <span class="command"><strong>mysqld</strong></span> に渡されますが、オプションファイルの <code class="literal">[mysqld_safe]</code> グループに指定された場合は無視されます。<a class="xref" href="programs.html#option-files" title="4.2.6 オプションファイルの使用">セクション4.2.6「オプションファイルの使用」</a>を参照してください。
      </p><p>
        <span class="command"><strong>mysqld_safe</strong></span> は、オプションファイルの <code class="literal">[mysqld]</code>、<code class="literal">[server]</code>、<code class="literal">[mysqld_safe]</code> の各セクションからすべてのオプションを読み取ります。たとえば、<code class="literal">[mysqld]</code> セクションを次のように指定すると、<span class="command"><strong>mysqld_safe</strong></span> は <code class="option">--log-error</code> オプションを検出して使用します。
      </p><pre class="programlisting">
[mysqld]
log-error=error.log
</pre><p>
        下位互換性のため、<span class="command"><strong>mysqld_safe</strong></span> は <code class="literal">[safe_mysqld]</code> セクションも読み取りますが、<code class="literal">[safe_mysqld]</code> セクションを <code class="literal">[mysqld_safe]</code> セクションに名前変更することが推奨されます。
      </p><p>
        <span class="command"><strong>mysqld_safe</strong></span> は次のオプションをサポートします。また、オプションファイルを読み取り、<a class="xref" href="programs.html#option-file-options" title="4.2.7 オプションファイルの処理に影響するコマンド行オプション">セクション4.2.7「オプションファイルの処理に影響するコマンド行オプション」</a>に説明されている、それらを処理するためのオプションもサポートします。
      </p><div class="table"><a name="idm139979158722368"></a><p class="title"><b>表 4.1 <code class="literal">mysqld_safe</code> のオプション</b></p><div class="table-contents"><table summary="mysqld_safe のオプション" border="1"><colgroup><col class="format"><col class="description"></colgroup><thead><tr><th scope="col">形式</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><a class="link" href="programs.html#option_mysqld_safe_basedir">--basedir</a></td><td>MySQL インストールディレクトリへのパス</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqld_safe_core-file-size">--core-file-size</a></td><td>mysqld が作成できるべきコアファイルのサイズ</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqld_safe_datadir">--datadir</a></td><td>データディレクトリへのパス</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqld_safe_defaults-extra-file">--defaults-extra-file</a></td><td>通常のオプションファイルに加えてオプションファイルを読み取る</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqld_safe_defaults-file">--defaults-file</a></td><td>指名されたオプションファイルのみを読み取る</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqld_safe_help">--help</a></td><td>ヘルプメッセージを表示して終了</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqld_safe_ledir">--ledir</a></td><td>サーバーが置かれているディレクトリへのパス</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqld_safe_log-error">--log-error</a></td><td>指定されたファイルにエラーログを書き込み</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqld_safe_malloc-lib">--malloc-lib</a></td><td>mysqld で使用する代替 malloc ライブラリ</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqld_safe_mysqld">--mysqld</a></td><td>起動するサーバープログラム名 (ledir ディレクトリの)</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqld_safe_mysqld-version">--mysqld-version</a></td><td>サーバープログラム名のサフィクス</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqld_safe_nice">--nice</a></td><td>サーバーのスケジュール設定の優先順位を設定するために nice プログラムを使用</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqld_safe_no-defaults">--no-defaults</a></td><td>オプションファイルを読み取らない</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqld_safe_open-files-limit">--open-files-limit</a></td><td>mysqld が開くことができるファイル数</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqld_safe_pid-file">--pid-file</a></td><td>プロセス ID ファイルのパス名</td></tr><tr><td scope="row">--plugin-dir</td><td>プラグインがインストールされているディレクトリ</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqld_safe_port">--port</a></td><td>TCP/IP 接続を待機するポート番号</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqld_safe_skip-kill-mysqld">--skip-kill-mysqld</a></td><td>迷子の mysqld プロセスの kill を試行しない</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqld_safe_syslog">--skip-syslog</a></td><td>syslog にエラーメッセージを書き込まず、エラーログファイルを使用</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqld_safe_socket">--socket</a></td><td>Unix ソケット接続を待機するソケットファイル</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqld_safe_syslog">--syslog</a></td><td>syslog にエラーメッセージを書き込み</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqld_safe_syslog-tag">--syslog-tag</a></td><td>syslog に書き込まれるメッセージのタグサフィクス</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqld_safe_timezone">--timezone</a></td><td>TZ タイムゾーン環境変数を指定された値に設定</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqld_safe_user">--user</a></td><td>mysqld を、名前が user_name または数値のユーザー ID が user_id であるユーザーとして実行</td></tr></tbody></table></div></div><br class="table-break"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysqld_safe_help"></a>
            <a class="indexterm" name="idm139979158675136"></a> <a class="indexterm" name="idm139979158672992"></a> <code class="option">--help</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_mysqld_safe_basedir"></a>
            <a class="indexterm" name="idm139979158668576"></a> <a class="indexterm" name="idm139979158666400"></a> <code class="option">--basedir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            MySQL インストールディレクトリへのパス。
          </p></li><li class="listitem"><p><a name="option_mysqld_safe_core-file-size"></a>
            <a class="indexterm" name="idm139979158661680"></a> <a class="indexterm" name="idm139979158659520"></a> <code class="option">--core-file-size=<em class="replaceable"><code>size</code></em></code>
          </p><p>
            <span class="command"><strong>mysqld</strong></span> で作成できるべきコアファイルのサイズ。このオプション値は <span class="command"><strong>ulimit -c</strong></span> に渡されます。
          </p></li><li class="listitem"><p><a name="option_mysqld_safe_datadir"></a>
            <a class="indexterm" name="idm139979158653248"></a> <a class="indexterm" name="idm139979158651072"></a> <code class="option">--datadir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            データディレクトリへのパス。
          </p></li><li class="listitem"><p><a name="option_mysqld_safe_defaults-extra-file"></a>
            <a class="indexterm" name="idm139979158646384"></a> <a class="indexterm" name="idm139979158644224"></a> <code class="option">--defaults-extra-file=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            通常のオプションファイルに加えて読み取られるオプションファイルの名前。これを使用する場合は、コマンド行の最初のオプションでなければなりません。ファイルが存在しない場合やその他の理由でアクセスできない場合は、サーバーはエラーで終了します。
          </p></li><li class="listitem"><p><a name="option_mysqld_safe_defaults-file"></a>
            <a class="indexterm" name="idm139979158638960"></a> <a class="indexterm" name="idm139979158636800"></a> <code class="option">--defaults-file=<em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            通常のオプションファイルの代わりに読み取られるオプションファイルの名前。これを使用する場合は、コマンド行の最初のオプションでなければなりません。
          </p></li><li class="listitem"><p><a name="option_mysqld_safe_ledir"></a>
            <a class="indexterm" name="idm139979158631680"></a> <a class="indexterm" name="idm139979158629504"></a> <code class="option">--ledir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            <span class="command"><strong>mysqld_safe</strong></span> がサーバーを検出できない場合、このオプションを使用してサーバーが置かれているディレクトリのパス名を示します。
          </p></li><li class="listitem"><p><a name="option_mysqld_safe_log-error"></a>
            <a class="indexterm" name="idm139979158623904"></a> <a class="indexterm" name="idm139979158621760"></a> <code class="option">--log-error=<em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            指定されたファイルにエラーログを書き込みます。<a class="xref" href="server-administration.html#error-log" title="5.2.2 エラーログ">セクション5.2.2「エラーログ」</a> を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqld_safe_malloc-lib"></a>
            <a class="indexterm" name="idm139979158616208"></a> <a class="indexterm" name="idm139979158614096"></a> <code class="option">--malloc-lib=[<em class="replaceable"><code>lib_name</code></em>]</code>
          </p><p>
            システムの <code class="literal">malloc()</code> ライブラリの代わりに、メモリー割り当てに使用されるライブラリの名前。パス名を指定することによって任意のライブラリを使用できますが、MySQL 5.6 では Linux 向けのバイナリの MySQL 配布に同梱の <code class="literal">tcmalloc</code> ライブラリを使用できるようにするためのショートカット形式があります。特定の構成ではショートカット形式が機能しない可能性があります。その場合は代わりにパス名を指定するようにしてください。
          </p><p>
            <code class="option">--malloc-lib</code> オプションは、<span class="command"><strong>mysqld</strong></span> が起動するときに、ダイナミックリンクに影響を与え、ローダーがメモリー割り当てライブラリを検出できるように、<code class="literal">LD_PRELOAD</code> 環境値を変更します。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                このオプションが指定されない場合、または値なしで指定された場合 (<code class="option">--malloc-lib=</code>)、<code class="literal">LD_PRELOAD</code> は変更されず、<code class="literal">tcmalloc</code> を使用する試みは行われません。
              </p></li><li class="listitem"><p>
                オプションが、<code class="option">--malloc-lib=tcmalloc</code> と指定された場合、<span class="command"><strong>mysqld_safe</strong></span> は <code class="literal">tcmalloc</code> ライブラリを <code class="filename">/usr/lib</code> から検索し、次に MySQL <code class="literal">pkglibdir</code> の場所 (たとえば、<code class="filename">/usr/local/mysql/lib</code> または適切なもの) から検索します。<code class="literal">tmalloc</code> が検出された場合は、そのパス名が <code class="literal">LD_PRELOAD</code> 値の先頭に追加されて <span class="command"><strong>mysqld</strong></span> に渡されます。<code class="literal">tcmalloc</code> が見つからない場合は、<span class="command"><strong>mysqld_safe</strong></span> はエラーで中止されます。
              </p></li><li class="listitem"><p>
                オプションが <code class="option">--malloc-lib=<em class="replaceable"><code>/path/to/some/library</code></em></code> と指定された場合、そのフルパスが <code class="literal">LD_PRELOAD</code> 値の先頭に追加されます。そのフルパスが、存在しないかまたは読み取り不能なファイルを指している場合は、<span class="command"><strong>mysqld_safe</strong></span> はエラーで中止されます。
              </p></li><li class="listitem"><p>
                <span class="command"><strong>mysqld_safe</strong></span> がパス名を <code class="literal">LD_PRELOAD</code> に追加する場合は、その変数がすでに持っている、既存の値の先頭にパスを追加します。
              </p></li></ul></div><p>
            Linux ユーザーは、次の行を <code class="filename">my.cnf</code> ファイルに追加することにより、バイナリパッケージに含まれる <code class="filename">libtcmalloc_minimal.so</code> を使用できます。
          </p><pre class="programlisting">
[mysqld_safe]
malloc-lib=tcmalloc
</pre><p>
            任意のプラットフォームで <code class="literal">tcmalloc</code> パッケージを <code class="filename">/usr/lib</code> にインストールしたユーザーにも、これらの行は十分です。特定の <code class="literal">tcmalloc</code> ライブラリを使用するには、そのフルパス名を指定します。例:
          </p><pre class="programlisting">
[mysqld_safe]
malloc-lib=/opt/lib/libtcmalloc_minimal.so
</pre></li><li class="listitem"><p><a name="option_mysqld_safe_mysqld"></a>
            <a class="indexterm" name="idm139979158577904"></a> <a class="indexterm" name="idm139979158575728"></a> <code class="option">--mysqld=<em class="replaceable"><code>prog_name</code></em></code>
          </p><p>
            <code class="literal">ledir</code> ディレクトリにある、起動するサーバープログラムの名前。MySQL のバイナリ配布を使用するが、バイナリ配布以外のデータディレクトリがある場合には、このオプションが必要です。<span class="command"><strong>mysqld_safe</strong></span> がサーバーを検出できない場合は、<code class="option">--ledir</code> オプションを使用してサーバーのあるディレクトリへのパス名を示します。
          </p></li><li class="listitem"><p><a name="option_mysqld_safe_mysqld-version"></a>
            <a class="indexterm" name="idm139979158568320"></a> <a class="indexterm" name="idm139979158566160"></a> <code class="option">--mysqld-version=<em class="replaceable"><code>suffix</code></em></code>
          </p><p>
            このオプションは <code class="option">--mysqld</code> オプションと類似していますが、サーバーのプログラム名のサフィクスだけを指定します。ベース名は <span class="command"><strong>mysqld</strong></span> であるとみなされます。たとえば、<code class="option">--mysqld-version=debug</code> を使用すると、<span class="command"><strong>mysqld_safe</strong></span> は <code class="literal">ledir</code> ディレクトリの <span class="command"><strong>mysqld-debug</strong></span> プログラムを起動します。<code class="option">--mysqld-version</code> の引数が空の場合、<span class="command"><strong>mysqld_safe</strong></span> は <code class="literal">ledir</code> ディレクトリの <span class="command"><strong>mysqld</strong></span> を使用します。
          </p></li><li class="listitem"><p><a name="option_mysqld_safe_nice"></a>
            <a class="indexterm" name="idm139979158553680"></a> <a class="indexterm" name="idm139979158551536"></a> <code class="option">--nice=<em class="replaceable"><code>priority</code></em></code>
          </p><p>
            サーバーのスケジュール優先順位を任意の値に設定するには、<code class="literal">nice</code> プログラムを使用します。
          </p></li><li class="listitem"><p><a name="option_mysqld_safe_no-defaults"></a>
            <a class="indexterm" name="idm139979158545936"></a> <a class="indexterm" name="idm139979158543792"></a> <code class="option">--no-defaults</code>
          </p><p>
            オプションファイルを読み取りません。これを使用する場合は、コマンド行の最初のオプションでなければなりません。
          </p></li><li class="listitem"><p><a name="option_mysqld_safe_open-files-limit"></a>
            <a class="indexterm" name="idm139979158539088"></a> <a class="indexterm" name="idm139979158536928"></a> <code class="option">--open-files-limit=<em class="replaceable"><code>count</code></em></code>
          </p><p>
            <span class="command"><strong>mysqld</strong></span> が開くことができるファイル数。オプション値は <span class="command"><strong>ulimit -n</strong></span> に渡されます。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              これが正しく機能するためには、<span class="command"><strong>mysqld_safe</strong></span> を <code class="literal">root</code> として起動する必要があります。
            </p></div></li><li class="listitem"><p><a name="option_mysqld_safe_pid-file"></a>
            <a class="indexterm" name="idm139979158528240"></a> <a class="indexterm" name="idm139979158526096"></a> <code class="option">--pid-file=<em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            プロセス ID ファイルのパス名。
          </p></li><li class="listitem"><p><a name="option_mysqld_safe_plugin-dir"></a>
            <a class="indexterm" name="idm139979158521296"></a> <a class="indexterm" name="idm139979158519152"></a> <code class="option">--plugin-dir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            プラグインディレクトリのパス名。
          </p></li><li class="listitem"><p><a name="option_mysqld_safe_port"></a>
            <a class="indexterm" name="idm139979158514496"></a> <a class="indexterm" name="idm139979158512352"></a> <a class="indexterm" name="idm139979158510400"></a> <code class="option">--port=<em class="replaceable"><code>port_num</code></em></code>
          </p><p>
            サーバーが TCP/IP 接続を待機するときに使用するポート番号。サーバーが <code class="literal">root</code> システムユーザーで開始されている場合を除き、ポート番号は 1024 以上にする必要があります。
          </p></li><li class="listitem"><p><a name="option_mysqld_safe_skip-kill-mysqld"></a>
            <a class="indexterm" name="idm139979158505248"></a> <a class="indexterm" name="idm139979158503088"></a> <code class="option">--skip-kill-mysqld</code>
          </p><p>
            起動時に、未処理の <span class="command"><strong>mysqld</strong></span> プロセスの強制終了を試行しません。このオプションは、Linux のみで機能します。
          </p></li><li class="listitem"><p><a name="option_mysqld_safe_socket"></a>
            <a class="indexterm" name="idm139979158497776"></a> <a class="indexterm" name="idm139979158495600"></a> <code class="option">--socket=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            サーバーがローカル接続を待機するときに使用する Unix ソケットファイル。
          </p></li><li class="listitem"><p><a name="option_mysqld_safe_syslog"></a>
            <a class="indexterm" name="idm139979158490784"></a> <a class="indexterm" name="idm139979158488608"></a> <a class="indexterm" name="idm139979158486656"></a> <a class="indexterm" name="idm139979158484512"></a> <code class="option">--syslog</code>, <code class="option">--skip-syslog</code>
          </p><p>
            <code class="option">--syslog</code> は、<span class="command"><strong>logger</strong></span> プログラムをサポートするシステムで、エラーメッセージが <code class="literal">syslog</code> に送信されるようにします。<code class="literal">--skip-syslog</code> は、<code class="literal">syslog</code> の使用を抑制し、メッセージはエラーログファイルに書き込まれます。
          </p><p>
            <code class="literal">syslog</code> が使用される場合、<code class="literal">daemon.err</code> syslog 機能/重要度がすべてのログメッセージで使用されます。
          </p></li><li class="listitem"><p><a name="option_mysqld_safe_syslog-tag"></a>
            <a class="indexterm" name="idm139979158473168"></a> <a class="indexterm" name="idm139979158471024"></a> <code class="option">--syslog-tag=<em class="replaceable"><code>tag</code></em></code>
          </p><p>
            <code class="literal">syslog</code> へのロギングで、<span class="command"><strong>mysqld_safe</strong></span> および <span class="command"><strong>mysqld</strong></span> からのメッセージはそれぞれ <code class="literal">mysqld_safe</code> および <code class="literal">mysqld</code> 識別子を付けて書き込まれます。識別子のサフィクスを指定するには、<code class="option">--syslog-tag=<em class="replaceable"><code>tag</code></em></code> を使用します。これにより、識別子は <code class="literal">mysqld_safe-<em class="replaceable"><code>tag</code></em></code> および <code class="literal">mysqld-<em class="replaceable"><code>tag</code></em></code> に変更されます。
          </p></li><li class="listitem"><p><a name="option_mysqld_safe_timezone"></a>
            <a class="indexterm" name="idm139979158459504"></a> <a class="indexterm" name="idm139979158457328"></a> <code class="option">--timezone=<em class="replaceable"><code>timezone</code></em></code>
          </p><p>
            <code class="literal">TZ</code> タイムゾーン環境変数を、指定されたオプション値に設定します。正当なタイムゾーン指定形式は、オペレーティングシステムのドキュメントを参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqld_safe_user"></a>
            <a class="indexterm" name="idm139979158451648"></a> <a class="indexterm" name="idm139979158449504"></a> <code class="option">--user={<em class="replaceable"><code>user_name</code></em>|<em class="replaceable"><code>user_id</code></em>}</code>
          </p><p>
            <span class="command"><strong>mysqld</strong></span> サーバーを、名前 <em class="replaceable"><code>user_name</code></em> または数字ユーザー ID <em class="replaceable"><code>user_id</code></em> を持つユーザーとして実行します。(このコンテキストでの<span class="quote">「<span class="quote">ユーザー</span>」</span>は、システムログインアカウントであり、付与テーブルにリストされている MySQL ユーザーではありません。)
          </p></li></ul></div><p>
        <span class="command"><strong>mysqld_safe</strong></span> を <code class="option">--defaults-file</code> オプションまたは <code class="option">--defaults-extra-file</code> オプションで起動してオプションファイルを指定する場合、そのオプションはコマンド行で指定されるうちの最初のものでなければなりません。そうでない場合は、オプションファイルは使用されません。たとえば、次のコマンドは指定されたオプションファイルを使用しません。
      </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>mysqld_safe --port=<em class="replaceable"><code>port_num</code></em> --defaults-file=<em class="replaceable"><code>file_name</code></em></code></strong>
</pre><p>
        代わりに、次のコマンドを使用します。
      </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>mysqld_safe --defaults-file=<em class="replaceable"><code>file_name</code></em> --port=<em class="replaceable"><code>port_num</code></em></code></strong>
</pre><p>
        MySQL のソースまたはバイナリ配布は通常、サーバーを若干異なる場所にインストールしますが、<span class="command"><strong>mysqld_safe</strong></span> スクリプトは、どちらからインストールしたサーバーでも正常に立ち上げることができるように作成されています。(<a class="xref" href="installing.html#installation-layouts" title="2.1.5 インストールのレイアウト">セクション2.1.5「インストールのレイアウト」</a>を参照してください。) <span class="command"><strong>mysqld_safe</strong></span> は、次の条件のいずれかが満たされていることを想定しています。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            サーバーとデータベースは作業ディレクトリ (<span class="command"><strong>mysqld_safe</strong></span> が呼び出されたディレクトリ) から相対的に検索できること。バイナリ配布の場合、<span class="command"><strong>mysqld_safe</strong></span> は作業ディレクトリの下の <code class="filename">bin</code> ディレクトリおよび <code class="filename">data</code> ディレクトリを検索します。ソース配布の場合は、<code class="filename">libexec</code> ディレクトリおよび <code class="filename">var</code> ディレクトリを検索します。<span class="command"><strong>mysqld_safe</strong></span> を MySQL インストールディレクトリ (バイナリ配布の場合は <code class="filename">/usr/local/mysql</code>) から起動した場合には、この条件が満たされるはずです。
          </p></li><li class="listitem"><p>
            サーバーとデータベースが作業ディレクトリから相対的に検出できない場合は、<span class="command"><strong>mysqld_safe</strong></span> は絶対パス名での検索を試みます。通常の場所は <code class="filename">/usr/local/libexec</code> および <code class="filename">/usr/local/var</code> です。実際の場所は、配布のビルド時に構成される値から決定されます。構成時に指定された場所に MySQL がインストールされていれば、これは正しいはずです。
          </p></li></ul></div><p>
        <span class="command"><strong>mysqld_safe</strong></span> はサーバーおよびデータベースを作業ディレクトリから相対的に検索しようとするため、<span class="command"><strong>mysqld_safe</strong></span> を MySQL インストールディレクトリから起動するかぎり、MySQL のバイナリ配布は任意の場所にインストールできます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cd <em class="replaceable"><code>mysql_installation_directory</code></em></code></strong>
shell&gt; <strong class="userinput"><code>bin/mysqld_safe &amp;</code></strong>
</pre><p>
        <span class="command"><strong>mysqld_safe</strong></span> を MySQL インストールディレクトリから呼び出しても失敗する場合は、<code class="option">--ledir</code> オプションおよび <code class="option">--datadir</code> オプションを指定して、システムのサーバーとデータベースがあるディレクトリを指定します。
      </p><p>
        MySQL 5.6.5 以降では、<span class="command"><strong>mysqld_safe</strong></span> は <span class="command"><strong>sleep</strong></span> および <span class="command"><strong>date</strong></span> システムユーティリティーを使用して、今回の起動までに何回起動しようとしたかを判断します。これらが存在し、5 回より多い場合は、再起動するまでに強制的に 1 秒間待機させられます。これは、連続して失敗する場合に過度に CPU を使用することを防ぐためのものです。(Bug #11761530、Bug #54035)
      </p><p>
        <span class="command"><strong>mysqld_safe</strong></span> を使用して <span class="command"><strong>mysqld</strong></span> を起動する場合、<span class="command"><strong>mysqld_safe</strong></span> は自身と <span class="command"><strong>mysqld</strong></span> からのエラー (および通知) メッセージが同じ出力先に送信されるよう手配します。
      </p><p>
        これらのメッセージの出力先を制御するための <span class="command"><strong>mysqld_safe</strong></span> オプションがいくつかあります。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="option">--log-error=<em class="replaceable"><code>file_name</code></em></code>: エラーメッセージを指定されたエラーファイルに書き込みます。
          </p></li><li class="listitem"><p>
            <code class="option">--syslog</code>: <span class="command"><strong>logger</strong></span> プログラムをサポートするシステムで、<code class="literal">syslog</code> にエラーメッセージを書き込みます。
          </p></li><li class="listitem"><p>
            <code class="option">--skip-syslog</code>: エラーメッセージを <code class="literal">syslog</code> に書き込みません。メッセージは、デフォルトのエラーログファイル (データディレクトリの <code class="filename"><em class="replaceable"><code>host_name</code></em>.err</code>)、または <code class="option">--log-error</code> オプションが指定された場合は、指定されたファイルに書き込まれます。
          </p></li></ul></div><p>
        これらのオプションが指定されていない場合は、デフォルトは <code class="option">--skip-syslog</code> です。
      </p><p>
        <code class="option">--log-error</code> と <code class="option">--syslog</code> が両方指定された場合は、警告が発行され <code class="option">--log-error</code> が優先されます。
      </p><p>
        <span class="command"><strong>mysqld_safe</strong></span> がメッセージを書き込む場合、通知はロギングの出力先 (<code class="literal">syslog</code> またはエラーログファイル) および <code class="literal">stdout</code> に送られます。エラーはロギングの出力先と <code class="literal">stderr</code> に送られます。
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-server"></a>4.3.3 <span class="command"><strong>mysql.server</strong></span> — MySQL サーバー起動スクリプト</h3></div></div></div><a class="indexterm" name="idm139979158384080"></a><p>
        Unix の MySQL 配布には、<span class="command"><strong>mysql.server</strong></span> というスクリプトがあります。System V スタイルの実行ディレクトリを使用してシステムサービスの起動および停止を行う、Linux および Solaris などのシステムで使用できます。MySQL の OS X Startup Item でも使用されます。
      </p><p>
        <span class="command"><strong>mysql.server</strong></span> は、MySQL インストールディレクトリの <code class="filename">support-files</code> または MySQL のソース配布にあります。
      </p><p>
        Linux の RPM パッケージ (<code class="literal">MySQL-server-<em class="replaceable"><code>VERSION</code></em>.rpm</code>) を使用する場合は、<span class="command"><strong>mysql.server</strong></span> スクリプトは <code class="filename">/etc/init.d</code> ディレクトリに <code class="filename">mysql</code> という名前でインストールされます。それを手動でインストールする必要はありません。Linux RPM パッケージに関する詳細は、<a class="xref" href="installing.html#linux-installation-rpm" title="2.5.5 RPM パッケージを使用して MySQL を Linux にインストールする">セクション2.5.5「RPM パッケージを使用して MySQL を Linux にインストールする」</a>を参照してください。
      </p><p>
        ベンダーによっては、起動スクリプトを <span class="command"><strong>mysqld</strong></span> のような別名でインストールする RPM パッケージを提供している場合もあります。
      </p><p>
        MySQL をソース配布から、あるいは <span class="command"><strong>mysql.server</strong></span> を自動的にインストールしないバイナリの配布形式を使用してインストールする場合、それを手動でインストールできます。手順は<a class="xref" href="installing.html#automatic-start" title="2.10.1.2 MySQL を自動的に起動および停止する">セクション2.10.1.2「MySQL を自動的に起動および停止する」</a>を参照してください。
      </p><p>
        <span class="command"><strong>mysql.server</strong></span> は、オプションファイルの <code class="literal">[mysql.server]</code> セクションおよび <code class="literal">[mysqld]</code> セクションからオプションを読み取ります。下位互換性のため、<code class="literal">[mysql_server]</code> セクションも読み取りますが、MySQL 5.6 を使用する場合は、このようなセクションは <code class="literal">[mysql.server]</code> に名前変更するようにしてください。
      </p><p>
        <span class="command"><strong>mysql.server</strong></span> は次のオプションをサポートします。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysql_server_basedir"></a>
            <a class="indexterm" name="idm139979158363264"></a> <a class="indexterm" name="idm139979158361088"></a> <code class="option">--basedir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            MySQL インストールディレクトリへのパス。
          </p></li><li class="listitem"><p><a name="option_mysql_server_datadir"></a>
            <a class="indexterm" name="idm139979158356384"></a> <a class="indexterm" name="idm139979158354208"></a> <code class="option">--datadir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            MySQL データディレクトリへのパス。
          </p></li><li class="listitem"><p><a name="option_mysql_server_pid-file"></a>
            <a class="indexterm" name="idm139979158349456"></a> <a class="indexterm" name="idm139979158347312"></a> <code class="option">--pid-file=<em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            サーバーがプロセス ID を書き込むべきファイルのパス名。
          </p></li><li class="listitem"><p><a name="option_mysql_server_service-startup-timeout"></a>
            <a class="indexterm" name="idm139979158342400"></a> <a class="indexterm" name="idm139979158340256"></a> <code class="option">--service-startup-timeout=<em class="replaceable"><code>seconds</code></em></code>
          </p><p>
            サーバーの起動を確認するために待機する秒数。サーバーがこの時間内に起動しない場合、<span class="command"><strong>mysql.server</strong></span> はエラーで終了します。デフォルト値は 900 です。0 の値は、起動をまったく待機しないことを意味します。負の値はいつまでも (タイムアウトなしで) 待機することを意味します。
          </p></li><li class="listitem"><p><a name="option_mysql_server_use-mysqld_safe"></a>
            <a class="indexterm" name="idm139979158334080"></a> <a class="indexterm" name="idm139979158331920"></a> <code class="option">--use-mysqld_safe</code>
          </p><p>
            <span class="command"><strong>mysqld_safe</strong></span> を使用してサーバーを起動します。これはデフォルトです。
          </p></li><li class="listitem"><p><a name="option_mysql_server_user"></a>
            <a class="indexterm" name="idm139979158326640"></a> <a class="indexterm" name="idm139979158324464"></a> <code class="option">--user=<em class="replaceable"><code>user_name</code></em></code>
          </p><p>
            <span class="command"><strong>mysqld</strong></span> を実行する際に使用するログインユーザー名。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysqld-multi"></a>4.3.4 <span class="command"><strong>mysqld_multi</strong></span> — 複数の MySQL サーバーの管理</h3></div></div></div><a class="indexterm" name="idm139979158318192"></a><a class="indexterm" name="idm139979158316976"></a><a class="indexterm" name="idm139979158315072"></a><a class="indexterm" name="idm139979158313744"></a><p>
        <span class="command"><strong>mysqld_multi</strong></span> は、Unix ソケットファイルや TCP/IP ポートでの接続を待機する複数の <span class="command"><strong>mysqld</strong></span> プロセスを管理するためのものです。サーバーの起動または停止、現在のステータスのレポートを実行できます。
      </p><p>
        <span class="command"><strong>mysqld_multi</strong></span> は <code class="literal">[mysqld<em class="replaceable"><code>N</code></em>]</code> という名前のグループを <code class="filename">my.cnf</code> (または <code class="option">--defaults-file</code> オプションで指定されたファイル) から検索します。<em class="replaceable"><code>N</code></em> は任意の正の整数です。この数字は、次の説明ではオプショングループ番号、または <em class="replaceable"><code>GNR</code></em> といいます。グループ番号は、それぞれのオプショングループを識別し、起動、停止、またはステータスレポート取得の対象となるサーバーを指定するために、<span class="command"><strong>mysqld_multi</strong></span> の引数として使用されます。これらのグループにリストされるオプションは、<span class="command"><strong>mysqld</strong></span> を起動するために <code class="literal">[mysqld]</code> グループで使用するものと同じです。(たとえば<a class="xref" href="installing.html#automatic-start" title="2.10.1.2 MySQL を自動的に起動および停止する">セクション2.10.1.2「MySQL を自動的に起動および停止する」</a>などを参照してください。)ただし、複数のサーバーを使用する場合は、Unix ソケットファイルや TCP/IP ポート番号などに関してそれぞれが独自のオプション値を使用する必要があります。複数サーバーの環境で、どのオプションを一意とする必要があるのかについては、<a class="xref" href="server-administration.html#multiple-servers" title="5.3 1 つのマシン上での複数の MySQL インスタンスの実行">セクション5.3「1 つのマシン上での複数の MySQL インスタンスの実行」</a>を参照してください。
      </p><p>
        <span class="command"><strong>mysqld_multi</strong></span> を呼び出すには、次の構文を使用します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqld_multi [<em class="replaceable"><code>options</code></em>] {start|stop|reload|report} [<em class="replaceable"><code>GNR</code></em>[,<em class="replaceable"><code>GNR</code></em>] ...]</code></strong>
</pre><p>
        <code class="literal">start</code>、<code class="literal">stop</code>、<code class="literal">reload</code> (停止して再起動)、および <code class="literal">report</code> は、実行する操作を示します (<code class="literal">reload</code> は MySQL 5.6.3 で使用可能です。)オプション名に続く <em class="replaceable"><code>GNR</code></em> リストに従って、指定した操作を単一のサーバーまたは複数のサーバーで実行できます。リストがない場合は、<span class="command"><strong>mysqld_multi</strong></span> はオプションファイル内のすべてのサーバーに対して操作を実行します。
      </p><p>
        各 <em class="replaceable"><code>GNR</code></em> 値は、オプショングループ番号またはグループ番号の範囲を表します。値は、オプションファイル内のグループ名の最後の数字とします。たとえば、<code class="literal">[mysqld17]</code> という名前のグループの <em class="replaceable"><code>GNR</code></em> は <code class="literal">17</code> です。番号の範囲を指定するには、最初と最後の番号をダッシュで区切ります。<em class="replaceable"><code>GNR</code></em> 値 <code class="literal">10-13</code> は、<code class="literal">[mysqld10]</code> から <code class="literal">[mysqld13]</code> のグループを表します。コマンド行で、複数のグループまたはグループの範囲を、カンマで区切って指定できます。<em class="replaceable"><code>GNR</code></em> リストには空白文字 (スペースまたはタブ) を使用してはいけません。空白文字からあとにあるものはすべて無視されます。
      </p><p>
        次のコマンドは <code class="literal">[mysqld17]</code> というオプショングループを使用して単一のサーバーを起動します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqld_multi start 17</code></strong>
</pre><p>
        次のコマンドは、<code class="literal">[mysqld8]</code> および <code class="literal">[mysqld10]</code> から <code class="literal">[mysqld13]</code> までのオプショングループを使用して複数のサーバーを停止します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqld_multi stop 8,10-13</code></strong>
</pre><p>
        オプションファイルをセットアップする方法の例として、次のコマンドを使用します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqld_multi --example</code></strong>
</pre><p>
        <span class="command"><strong>mysqld_multi</strong></span> は次のようにオプションファイルを検索します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysqld_multi_no-defaults"></a>
            <a class="indexterm" name="idm139979158272064"></a> <a class="indexterm" name="idm139979158269920"></a> <code class="option">--no-defaults</code> では、オプションファイルは読み取りません。
          </p></li><li class="listitem"><p><a name="option_mysqld_multi_defaults-file"></a>
            <a class="indexterm" name="idm139979158265840"></a> <a class="indexterm" name="idm139979158263680"></a> <code class="option">--defaults-file=<em class="replaceable"><code>file_name</code></em></code> では、指定されたファイルのみを読み取ります。
          </p></li><li class="listitem"><p><a name="option_mysqld_multi_defaults-extra-file"></a>
            <a class="indexterm" name="idm139979158259216"></a> <a class="indexterm" name="idm139979158257056"></a> それ以外の場合は、<code class="option">--defaults-extra-file=<em class="replaceable"><code>file_name</code></em></code> オプションが指定された場合はそこで指定されたファイルを含めて、標準の場所のリストにあるオプションファイルが読み取られます。(オプションが複数回指定された場合は、最後の値が使用されます。)
          </p></li></ul></div><p>
        読み取られるオプションファイルでは、<code class="literal">[mysqld_multi]</code> および <code class="literal">[mysqld<em class="replaceable"><code>N</code></em>]</code> オプショングループが検索されます。<code class="literal">[mysqld_multi]</code> グループは、<span class="command"><strong>mysqld_multi</strong></span> 自身へのオプションに使用できます。<code class="literal">[mysqld<em class="replaceable"><code>N</code></em>]</code> グループは、<span class="command"><strong>mysqld</strong></span> の特定のインスタンスに渡されるオプションに使用できます。
      </p><p>
        <code class="literal">[mysqld]</code> グループまたは <code class="literal">[mysqld_safe]</code> グループは、<span class="command"><strong>mysqld</strong></span> または <span class="command"><strong>mysqld_safe</strong></span> のすべてのインスタンスによって読み取られる共通オプションに使用できます。<code class="option">--defaults-file=<em class="replaceable"><code>file_name</code></em></code> オプションを指定して、そのインスタンスに異なる構成ファイルを使用できます。この場合、そのファイルの<code class="literal">[mysqld]</code> または <code class="literal">[mysqld_safe]</code> グループがそのインスタンスに使用されます。
      </p><p>
        <span class="command"><strong>mysqld_multi</strong></span> は次のオプションをサポートします。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysqld_multi_help"></a>
            <a class="indexterm" name="idm139979158238160"></a> <a class="indexterm" name="idm139979158235984"></a> <code class="option">--help</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_mysqld_multi_example"></a>
            <a class="indexterm" name="idm139979158231504"></a> <a class="indexterm" name="idm139979158229328"></a> <code class="option">--example</code>
          </p><p>
            サンプルのオプションファイルを表示します。
          </p></li><li class="listitem"><p><a name="option_mysqld_multi_log"></a>
            <a class="indexterm" name="idm139979158224880"></a> <a class="indexterm" name="idm139979158222752"></a> <code class="option">--log=<em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            ログファイルの名前を指定します。ファイルが存在する場合は、ログ出力はそこに追加されます。
          </p></li><li class="listitem"><p><a name="option_mysqld_multi_mysqladmin"></a>
            <a class="indexterm" name="idm139979158217792"></a> <a class="indexterm" name="idm139979158215648"></a> <code class="option">--mysqladmin=<em class="replaceable"><code>prog_name</code></em></code>
          </p><p>
            サーバーの停止に使用する <span class="command"><strong>mysqladmin</strong></span> バイナリ。
          </p></li><li class="listitem"><p><a name="option_mysqld_multi_mysqld"></a>
            <a class="indexterm" name="idm139979158210128"></a> <a class="indexterm" name="idm139979158207984"></a> <code class="option">--mysqld=<em class="replaceable"><code>prog_name</code></em></code>
          </p><p>
            使用する <span class="command"><strong>mysqld</strong></span> バイナリ。このオプションの値として <span class="command"><strong>mysqld_safe</strong></span> を指定できます。<span class="command"><strong>mysqld_safe</strong></span> を使用してサーバーを起動する場合は、対応する <code class="literal">[mysqld<em class="replaceable"><code>N</code></em>]</code> オプショングループに <code class="literal">mysqld</code> オプションまたは <code class="literal">ledir</code> オプションを含めることができます。これらのオプションは、<span class="command"><strong>mysqld_safe</strong></span> が起動するべきサーバーの名前と、サーバーがあるディレクトリのパス名を示します。(これらのオプションに関する説明は、<a class="xref" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL サーバー起動スクリプト">セクション4.3.2「<span class="command"><strong>mysqld_safe</strong></span> — MySQL サーバー起動スクリプト」</a>を参照してください。)例:
          </p><pre class="programlisting">
[mysqld38]
mysqld = mysqld-debug
ledir  = /opt/local/mysql/libexec
</pre></li><li class="listitem"><p><a name="option_mysqld_multi_no-log"></a>
            <a class="indexterm" name="idm139979158195664"></a> <a class="indexterm" name="idm139979158193488"></a> <code class="option">--no-log</code>
          </p><p>
            ログファイルではなく、<code class="literal">stdout</code> にログを出力します。デフォルトでは、出力はログファイルに送られます。
          </p></li><li class="listitem"><p><a name="option_mysqld_multi_password"></a>
            <a class="indexterm" name="idm139979158188192"></a> <a class="indexterm" name="idm139979158186016"></a> <code class="option">--password=<em class="replaceable"><code>password</code></em></code>
          </p><p>
            <span class="command"><strong>mysqladmin</strong></span> を呼び出すときに使う MySQL アカウントのパスワード。ほかの MySQL プログラムとは異なり、このオプションではパスワード値はオプションではありません。
          </p></li><li class="listitem"><p><a name="option_mysqld_multi_silent"></a>
            <a class="indexterm" name="idm139979158180384"></a> <a class="indexterm" name="idm139979158178208"></a> <code class="option">--silent</code>
          </p><p>
            サイレントモード。警告を無効にします。
          </p></li><li class="listitem"><p><a name="option_mysqld_multi_tcp-ip"></a>
            <a class="indexterm" name="idm139979158173728"></a> <a class="indexterm" name="idm139979158171552"></a> <code class="option">--tcp-ip</code>
          </p><p>
            Unix ソケットファイルではなく TCP/IP ポートを介して各 MySQL サーバーに接続します。(ソケットファイルがない場合でもサーバーは稼働している可能性がありますが、TCP/IP ポートからのみアクセスできます。)接続はデフォルトでは Unix ソケットファイルを使用して行われます。このオプションは <code class="literal">stop</code> 操作と <code class="literal">report</code> 操作に影響します。
          </p></li><li class="listitem"><p><a name="option_mysqld_multi_user"></a>
            <a class="indexterm" name="idm139979158165088"></a> <a class="indexterm" name="idm139979158162912"></a> <code class="option">--user=<em class="replaceable"><code>user_name</code></em></code>
          </p><p>
            <span class="command"><strong>mysqladmin</strong></span> を呼び出すときに使う MySQL アカウントのユーザー名。
          </p></li><li class="listitem"><p><a name="option_mysqld_multi_verbose"></a>
            <a class="indexterm" name="idm139979158157440"></a> <a class="indexterm" name="idm139979158155264"></a> <code class="option">--verbose</code>
          </p><p>
            より詳細になります。
          </p></li><li class="listitem"><p><a name="option_mysqld_multi_version"></a>
            <a class="indexterm" name="idm139979158150944"></a> <a class="indexterm" name="idm139979158148768"></a> <code class="option">--version</code>
          </p><p>
            バージョン情報を表示して終了します。
          </p></li></ul></div><p>
        <span class="command"><strong>mysqld_multi</strong></span> に関する注意:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="bold"><strong>もっとも重要</strong></span>: <span class="command"><strong>mysqld_multi</strong></span> を使用する前に、<span class="command"><strong>mysqld</strong></span> サーバーに渡されるオプションの意味と、<span class="emphasis"><em>なぜ</em></span>独立した <span class="command"><strong>mysqld</strong></span> プロセスが必要なのかを確実に理解してください。同じデータディレクトリで複数の <span class="command"><strong>mysqld</strong></span> サーバーを使用することの危険性に注意してください。<span class="emphasis"><em>特別な意図</em></span>がないかぎり、独立のデータディレクトリを使用してください。スレッドを使用するシステムでは、同じデータディレクトリで複数のサーバーを起動してもパフォーマンスは改善され<span class="emphasis"><em>ません</em></span>。<a class="xref" href="server-administration.html#multiple-servers" title="5.3 1 つのマシン上での複数の MySQL インスタンスの実行">セクション5.3「1 つのマシン上での複数の MySQL インスタンスの実行」</a> を参照してください。
          </p></li><li class="listitem"><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
              各サーバーのデータディレクトリが、その特定の <span class="command"><strong>mysqld</strong></span> を開始した Unix アカウントから完全にアクセス可能であることを確認してください。<span class="emphasis"><em>特別な意図</em></span>がないかぎり、Unix <em class="replaceable"><code>root</code></em> アカウントをこれに使用<span class="emphasis"><em>しないでください</em></span>。<a class="xref" href="security.html#changing-mysql-user" title="6.1.5 MySQL を通常ユーザーとして実行する方法">セクション6.1.5「MySQL を通常ユーザーとして実行する方法」</a>を参照してください。
            </p></div></li><li class="listitem"><p>
            <span class="command"><strong>mysqld</strong></span> サーバーを (<span class="command"><strong>mysqladmin</strong></span> プログラムで) 停止するのに使用する MySQL アカウントが、各サーバーに対して同じユーザー名とパスワードを持つことを確認してください。また、そのアカウントには <code class="literal">SHUTDOWN</code> 権限があることも確かめてください。管理対象のサーバーの管理アカウントのユーザー名またはパスワードが異なる場合は、各サーバーに同じユーザー名とパスワードを持つアカウントを作成するとよいでしょう。たとえば、次のコマンドをそれぞれのサーバーで実行することにより、共通の <code class="literal">multi_admin</code> アカウントをセットアップできます。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -u root -S /tmp/mysql.sock -p</code></strong>
Enter password:
mysql&gt; <strong class="userinput"><code>GRANT SHUTDOWN ON *.*</code></strong>
    -&gt; <strong class="userinput"><code>TO 'multi_admin'@'localhost' IDENTIFIED BY 'multipass';</code></strong>
</pre><p>
            <a class="xref" href="security.html#privilege-system" title="6.2 MySQL アクセス権限システム">セクション6.2「MySQL アクセス権限システム」</a>を参照してください。これは、それぞれの <span class="command"><strong>mysqld</strong></span> サーバーで行う必要があります。それぞれに接続する場合、接続パラメータを適切に変更します。アカウント名のホスト名部分は、 <span class="command"><strong>mysqld_multi</strong></span> を実行するホストから <code class="literal">multi_admin</code> として接続できるものでなければなりません。
          </p></li><li class="listitem"><p>
            Unix ソケットファイルと TCP/IP ポート番号は、すべての <span class="command"><strong>mysqld</strong></span> で異なる必要があります。(または、ホストが複数のネットワークアドレスを持つ場合、<code class="option">--bind-address</code> を使用して、異なるサーバーが異なるインタフェースを待機するようにできます。)
          </p></li><li class="listitem"><p>
            <span class="command"><strong>mysqld_safe</strong></span> を使用して <span class="command"><strong>mysqld</strong></span> を起動している場合 (たとえば <code class="option">--mysqld=mysqld_safe</code>)、<code class="option">--pid-file</code> オプションは非常に重要です。すべての <span class="command"><strong>mysqld</strong></span> が独自のプロセス ID ファイルを持っているべきです。<span class="command"><strong>mysqld</strong></span> ではなく、<span class="command"><strong>mysqld_safe</strong></span> を使用することの利点は、<span class="command"><strong>mysqld_safe</strong></span> は <span class="command"><strong>mysqld</strong></span> のプロセスをモニターして、<code class="literal">kill -9</code> を使用したシグナル送信や、セグメンテーション違反などその他の原因でプロセスが終了した場合に、再起動するということです。<span class="command"><strong>mysqld_safe</strong></span> スクリプトでは、特定の場所から起動することが必要な場合があります。これは、<span class="command"><strong>mysqld_multi</strong></span> を実行する前に、特定のディレクトリに場所を変更しなければならない可能性があることを意味します。起動時に問題がある場合は、<span class="command"><strong>mysqld_safe</strong></span> スクリプトを調べてください。特に次の行をチェックします。
          </p><pre class="programlisting">
----------------------------------------------------------------
MY_PWD=`pwd`
# Check if we are starting this relative (for the binary release)
if test -d $MY_PWD/data/mysql -a \
   -f ./share/mysql/english/errmsg.sys -a \
   -x ./bin/mysqld
----------------------------------------------------------------
</pre><p>
            これらの行によって実行されるテストは成功するはずです。そうでないと問題が生じます。<a class="xref" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL サーバー起動スクリプト">セクション4.3.2「<span class="command"><strong>mysqld_safe</strong></span> — MySQL サーバー起動スクリプト」</a>を参照してください。
          </p></li><li class="listitem"><p>
            <code class="option">--user</code> オプションを <span class="command"><strong>mysqld</strong></span> に対して使用する場合がありますが、そのためには <span class="command"><strong>mysqld_multi</strong></span> スクリプトを Unix のスーパーユーザー (<code class="literal">root</code>) として実行する必要があります。このオプションがオプションファイルにあるかどうかは問題ではなく、もしスーパーユーザーではない人が、<span class="command"><strong>mysqld</strong></span> プロセスを自分の Unix アカウントで起動すると、警告が出ます。
          </p></li></ul></div><p>
        次の例は、<span class="command"><strong>mysqld_multi</strong></span> とともに使用するオプションファイルの設定方法を示します。<span class="command"><strong>mysqld</strong></span> プログラムが起動または終了する順序は、オプションファイルで指定する順序によります。グループ番号は、切れ目のないシーケンスの形式にする必要はありません。例では、最初と 5 番目の <code class="literal">[mysqld<em class="replaceable"><code>N</code></em>]</code> グループは意図的に省略しています。これは、オプションファイルで<span class="quote">「<span class="quote">ギャップ</span>」</span>があっても構わないことを示しています。これにより、柔軟性が高まります。
      </p><pre class="programlisting">
# This file should probably be in your home dir (~/.my.cnf)
# or /etc/my.cnf
# Version 2.1 by Jani Tolonen

[mysqld_multi]
mysqld     = /usr/local/bin/mysqld_safe
mysqladmin = /usr/local/bin/mysqladmin
user       = multi_admin
password   = multipass

[mysqld2]
socket     = /tmp/mysql.sock2
port       = 3307
pid-file   = /usr/local/mysql/var2/hostname.pid2
datadir    = /usr/local/mysql/var2
language   = /usr/local/share/mysql/english
user       = john

[mysqld3]
socket     = /tmp/mysql.sock3
port       = 3308
pid-file   = /usr/local/mysql/var3/hostname.pid3
datadir    = /usr/local/mysql/var3
language   = /usr/local/share/mysql/swedish
user       = monty

[mysqld4]
socket     = /tmp/mysql.sock4
port       = 3309
pid-file   = /usr/local/mysql/var4/hostname.pid4
datadir    = /usr/local/mysql/var4
language   = /usr/local/share/mysql/estonia
user       = tonu

[mysqld6]
socket     = /tmp/mysql.sock6
port       = 3311
pid-file   = /usr/local/mysql/var6/hostname.pid6
datadir    = /usr/local/mysql/var6
language   = /usr/local/share/mysql/japanese
user       = jani
</pre><p>
        <a class="xref" href="programs.html#option-files" title="4.2.6 オプションファイルの使用">セクション4.2.6「オプションファイルの使用」</a>を参照してください。
      </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="programs-installation"></a>4.4 MySQL インストール関連のプログラム</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="programs.html#comp-err">4.4.1 <span class="command"><strong>comp_err</strong></span> — MySQL エラーメッセージファイルのコンパイル</a></span></dt><dt><span class="section"><a href="programs.html#mysqlbug">4.4.2 <span class="command"><strong>mysqlbug</strong></span> — バグレポートの生成</a></span></dt><dt><span class="section"><a href="programs.html#mysql-install-db">4.4.3 <span class="command"><strong>mysql_install_db</strong></span> — MySQL データディレクトリの初期化</a></span></dt><dt><span class="section"><a href="programs.html#mysql-plugin">4.4.4 <span class="command"><strong>mysql_plugin</strong></span> — MySQL サーバープラグインの構成</a></span></dt><dt><span class="section"><a href="programs.html#mysql-secure-installation">4.4.5 <span class="command"><strong>mysql_secure_installation</strong></span> — MySQL インストールのセキュリティー改善</a></span></dt><dt><span class="section"><a href="programs.html#mysql-tzinfo-to-sql">4.4.6 <span class="command"><strong>mysql_tzinfo_to_sql</strong></span> — タイムゾーンテーブルのロード</a></span></dt><dt><span class="section"><a href="programs.html#mysql-upgrade">4.4.7 <span class="command"><strong>mysql_upgrade</strong></span> — MySQL テーブルのチェックとアップグレード</a></span></dt></dl></div><p>
    このセクションのプログラムは、MySQL のインストールまたはアップグレードに使用されます。
  </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="comp-err"></a>4.4.1 <span class="command"><strong>comp_err</strong></span> — MySQL エラーメッセージファイルのコンパイル</h3></div></div></div><a class="indexterm" name="idm139979158087424"></a><p>
        <span class="command"><strong>comp_err</strong></span> は、<span class="command"><strong>mysqld</strong></span> がさまざまなエラーコードに対して表示するエラーメッセージを判断するために使用する、<code class="filename">errmsg.sys</code> ファイルを作成します。<span class="command"><strong>comp_err</strong></span> は、通常 MySQL のビルド時に自動的に実行されます。MySQL ソース配布の <code class="filename">sql/share/errmsg.txt</code> にあるプレーンテキストファイルから <code class="filename">errmsg.sys</code> ファイルをコンパイルします。
      </p><p>
        <span class="command"><strong>comp_err</strong></span> は、<code class="filename">mysqld_error.h</code>、<code class="filename">mysqld_ername.h</code>、および <code class="filename">sql_state.h</code> の各ヘッダーファイルも生成します。
      </p><p>
        エラーメッセージの定義方法の詳細は、「<a class="ulink" href="http://dev.mysql.com/doc/internals/en" target="_top">MySQL Internals Manual</a>」を参照してください。
      </p><p>
        <span class="command"><strong>comp_err</strong></span> は次のように呼び出します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>comp_err [<em class="replaceable"><code>options</code></em>]</code></strong>
</pre><p>
        <span class="command"><strong>comp_err</strong></span> は次のオプションをサポートします。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_comp_err_help"></a>
            <a class="indexterm" name="idm139979158070624"></a> <a class="indexterm" name="idm139979158068480"></a> <code class="option">--help</code>, <code class="option">-?</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_comp_err_charset"></a>
            <a class="indexterm" name="idm139979158063616"></a> <a class="indexterm" name="idm139979158061472"></a> <code class="option">--charset=<em class="replaceable"><code>path</code></em></code>, <code class="option">-C <em class="replaceable"><code>path</code></em></code>
          </p><p>
            文字セットディレクトリ。デフォルトは <code class="filename">../sql/share/charsets</code> です。
          </p></li><li class="listitem"><p><a name="option_comp_err_debug"></a>
            <a class="indexterm" name="idm139979158055248"></a> <a class="indexterm" name="idm139979158053104"></a> <code class="option">--debug=<em class="replaceable"><code>debug_options</code></em></code>, <code class="option">-# <em class="replaceable"><code>debug_options</code></em></code>
          </p><p>
            デバッグのログを書き込みます。一般的な <em class="replaceable"><code>debug_options</code></em> 文字列は <code class="literal">d:t:O,<em class="replaceable"><code>file_name</code></em></code> です。デフォルトは <code class="literal">d:t:O,/tmp/comp_err.trace</code> です。
          </p></li><li class="listitem"><p><a name="option_comp_err_debug-info"></a>
            <a class="indexterm" name="idm139979158045408"></a> <a class="indexterm" name="idm139979158043264"></a> <code class="option">--debug-info</code>, <code class="option">-T</code>
          </p><p>
            プログラムの終了時に、デバッグ情報を出力します。
          </p></li><li class="listitem"><p><a name="option_comp_err_header_file"></a>
            <a class="indexterm" name="idm139979158038304"></a> <a class="indexterm" name="idm139979158036160"></a> <code class="option">--header_file=<em class="replaceable"><code>file_name</code></em></code>, <code class="option">-H <em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            エラーヘッダーファイルの名前です。デフォルトは <code class="filename">mysqld_error.h</code> です。
          </p></li><li class="listitem"><p><a name="option_comp_err_in_file"></a>
            <a class="indexterm" name="idm139979158029904"></a> <a class="indexterm" name="idm139979158027744"></a> <code class="option">--in_file=<em class="replaceable"><code>file_name</code></em></code>, <code class="option">-F <em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            入力ファイルの名前です。デフォルトは <code class="filename">../sql/share/errmsg.txt</code> です。
          </p></li><li class="listitem"><p><a name="option_comp_err_name_file"></a>
            <a class="indexterm" name="idm139979158021552"></a> <a class="indexterm" name="idm139979158019408"></a> <code class="option">--name_file=<em class="replaceable"><code>file_name</code></em></code>, <code class="option">-N <em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            エラー名ファイルの名前です。デフォルトは <code class="filename">mysqld_ername.h</code> です。
          </p></li><li class="listitem"><p><a name="option_comp_err_out_dir"></a>
            <a class="indexterm" name="idm139979158013168"></a> <a class="indexterm" name="idm139979158011008"></a> <code class="option">--out_dir=<em class="replaceable"><code>path</code></em></code>, <code class="option">-D <em class="replaceable"><code>path</code></em></code>
          </p><p>
            出力ベースディレクトリの名前です。デフォルトは <code class="filename">../sql/share/</code> です。
          </p></li><li class="listitem"><p><a name="option_comp_err_out_file"></a>
            <a class="indexterm" name="idm139979158004752"></a> <a class="indexterm" name="idm139979158002608"></a> <code class="option">--out_file=<em class="replaceable"><code>file_name</code></em></code>, <code class="option">-O <em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            出力ファイルの名前です。デフォルトは <code class="filename">errmsg.sys</code> です。
          </p></li><li class="listitem"><p><a name="option_comp_err_statefile"></a>
            <a class="indexterm" name="idm139979157996320"></a> <a class="indexterm" name="idm139979157994176"></a> <code class="option">--statefile=<em class="replaceable"><code>file_name</code></em></code>, <code class="option">-S <em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            SQLSTATE ヘッダーファイルの名前です。デフォルトは <code class="filename">sql_state.h</code> です。
          </p></li><li class="listitem"><p><a name="option_comp_err_version"></a>
            <a class="indexterm" name="idm139979157987968"></a> <a class="indexterm" name="idm139979157985824"></a> <code class="option">--version</code>, <code class="option">-V</code>
          </p><p>
            バージョン情報を表示して終了します。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysqlbug"></a>4.4.2 <span class="command"><strong>mysqlbug</strong></span> — バグレポートの生成</h3></div></div></div><a class="indexterm" name="idm139979157980096"></a><p>
        このプログラムは非推奨です。これは MySQL 5.6.19 以降で非推奨となり、MySQL 5.7 で削除されています。
      </p><p>
        通常バグをレポートする場合は、<a class="ulink" href="http://bugs.mysql.com/" target="_top">http://bugs.mysql.com/</a> にアクセスしてください。これはバグデータベースのアドレスです。このバグデータベースは一般に公開されているので、だれでも参照および検索することができます。システムにログインすると、新しいレポートを入力できます。
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-install-db"></a>4.4.3 <span class="command"><strong>mysql_install_db</strong></span> — MySQL データディレクトリの初期化</h3></div></div></div><a class="indexterm" name="idm139979157974704"></a><p>
        <span class="command"><strong>mysql_install_db</strong></span> は MySQL データディレクトリを初期化し、システムテーブルを作成します (システムテーブルがない場合)。また、<code class="literal">InnoDB</code> テーブルの管理に必要な、<a class="link" href="glossary.html#glos_system_tablespace" title="システムテーブルスペース">システムのテーブルスペース</a>および関係するデータ構造体も初期化します。MySQL 5.6.8 では、<span class="command"><strong>mysql_install_db</strong></span> は Perl スクリプトで、Perl がインストールされた任意のシステムで使用できます。5.6.8 より前ではシェルスクリプトで、Unix プラットフォームでのみ使用可能です。
      </p><p>
        MySQL 5.6.8 以降では、<span class="command"><strong>mysql_install_db</strong></span> は UNIX プラットフォーム上で、<code class="filename">my.cnf</code> という名前のデフォルトオプションファイルを基本インストールディレクトリに作成します。このファイルは <code class="filename">my-default.cnf</code> という名前の配布パッケージに含まれるテンプレートから作成されます。テンプレートは基本インストールディレクトリ内またはその配下から見つけることができます。<span class="command"><strong>mysqld_safe</strong></span> を使用して開始すると、サーバーはデフォルトで <code class="filename">my.cnf</code> ファイルを使用します。<code class="literal">my.cnf</code> がすでに存在する場合、<span class="command"><strong>mysql_install_db</strong></span> はそのファイルが使用中だと認識し、<code class="filename">my-new.cnf</code> という名前の新しいファイルを代わりに書き込みます。
      </p><p>
        1 つの例外を除き、デフォルトのオプションファイル内の設定はコメント化されて無効になっています。例外は、このファイルが <code class="literal">sql_mode</code> システム変数を <code class="literal">NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES</code> に変更することです。この設定により、トランザクションテーブルを変更する操作での不良データに対して警告でなくエラーを発生させるサーバー構成が提供されます。<a class="xref" href="server-administration.html#sql-mode" title="5.1.7 サーバー SQL モード">セクション5.1.7「サーバー SQL モード」</a>を参照してください。
      </p><p>
        <span class="command"><strong>mysql_install_db</strong></span> を呼び出すには、次の構文を使用します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql_install_db [<em class="replaceable"><code>options</code></em>]</code></strong>
</pre><p>
        MySQL サーバー <span class="command"><strong>mysqld</strong></span> があとで起動されるとき、データディレクトリにアクセスしなければならないため、<span class="command"><strong>mysqld</strong></span> の起動に使用するのと同じシステムアカウントから <span class="command"><strong>mysql_install_db</strong></span> を起動するか、または <code class="literal">root</code> として実行し、<code class="option">--user</code> オプションを指定して <span class="command"><strong>mysqld</strong></span> を実行するユーザー名を指示します。<span class="command"><strong>mysql_install_db</strong></span> がインストールディレクトリまたはデータディレクトリの正しい場所を使用しない場合は、<code class="option">--basedir</code> または <code class="option">--datadir</code> などの、ほかのオプションを指定しなければならない場合があります。例:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>scripts/mysql_install_db --user=mysql \</code></strong>
         <strong class="userinput"><code>--basedir=/opt/mysql/mysql \</code></strong>
         <strong class="userinput"><code>--datadir=/opt/mysql/mysql/data</code></strong>
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          <span class="command"><strong>mysql_install_db</strong></span> が <code class="literal">InnoDB</code> <a class="link" href="glossary.html#glos_system_tablespace" title="システムテーブルスペース">システムテーブルスペース</a> をセットアップしたあと、テーブルスペースの特性を変更するにはまったく新しい<a class="link" href="glossary.html#glos_instance" title="インスタンス">インスタンス</a>をセットアップする必要があります。これには、システムテーブルスペース内の最初のファイル名および undo ログの数が含まれます。デフォルト値を使用しない場合は、<span class="command"><strong>mysql_install_db</strong></span> を実行する前に、<code class="literal">innodb_data_file_path</code> および <code class="literal">innodb_log_file_size</code> の各構成パラメータの設定が MySQL <a class="link" href="glossary.html#glos_configuration_file" title="構成ファイル">構成ファイル</a>内で適切な場所にあることを確認してください。また、 <code class="literal">innodb_data_home_dir</code> および <code class="literal">innodb_log_group_home_dir</code> などの、<code class="literal">InnoDB</code> ファイルの作成および場所に影響するその他のパラメータを、必要に応じて指定してください。
        </p><p>
          これらのオプションが構成ファイルにあるが、そのファイルが MySQL がデフォルトで読み取る場所にない場合は、<span class="command"><strong>mysql_install_db</strong></span> の実行時に <code class="option">--defaults-extra-file</code> オプションを使用してファイルの場所を指定します。
        </p></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          インストールを実行する際にカスタムの <code class="literal">TMPDIR</code> 環境変数を設定し、指定されたディレクトリにアクセスできない場合、<span class="command"><strong>mysql_install_db</strong></span> は失敗する場合があります。その場合は、<code class="literal">TMPDIR</code> の設定を取り消すか、または <code class="literal">TMPDIR</code> をシステムの一時ディレクトリ (通常 <code class="filename">/tmp</code>) を指すように設定します。
        </p></div><p>
        <span class="command"><strong>mysql_install_db</strong></span> は次のオプションをサポートします。これらはコマンド行またはオプションファイルの <code class="literal">[mysql_install_db]</code> グループで指定できます。(<span class="command"><strong>mysqld</strong></span> に共通なオプションは、<code class="literal">[mysqld]</code> グループにも指定できます。)その他のオプションは <span class="command"><strong>mysqld</strong></span> に渡されます。MySQL プログラムによって使用されるオプションファイルの詳細については、<a class="xref" href="programs.html#option-files" title="4.2.6 オプションファイルの使用">セクション4.2.6「オプションファイルの使用」</a>を参照してください。
      </p><div class="table"><a name="idm139979157919952"></a><p class="title"><b>表 4.2 <code class="literal">mysql_install_db</code> オプション</b></p><div class="table-contents"><table summary="mysql_install_db オプション" border="1"><colgroup><col class="format"><col class="description"><col class="introduced"><col class="deprecated"></colgroup><thead><tr><th scope="col">形式</th><th scope="col">説明</th><th scope="col">導入</th><th scope="col">非推奨</th></tr></thead><tbody><tr><td scope="row"><a class="link" href="programs.html#option_mysql_install_db_basedir">--basedir</a></td><td>ベースディレクトリへのパス</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_install_db_builddir">--builddir</a></td><td>ビルドディレクトリへのパス (ソースからのビルドで)</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_install_db_cross-bootstrap">--cross-bootstrap</a></td><td>内部使用</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_install_db_datadir">--datadir</a></td><td>データディレクトリへのパス</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_install_db_defaults-extra-file">--defaults-extra-file</a></td><td>通常のオプションファイルに加えてオプションファイルを読み取る</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_install_db_defaults-file">--defaults-file</a></td><td>指名されたオプションファイルのみを読み取る</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_install_db_force">--force</a></td><td>DNS が機能しない場合でも実行</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_install_db_help">--help</a></td><td>ヘルプメッセージを表示して終了</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_install_db_keep-my-cnf">--keep-my-cnf</a></td><td>既存の my.cnf file を保持し、新規に作成しない</td><td>5.6.20</td><td>5.6.20</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_install_db_ldata">--ldata</a></td><td>--datadir のシノニム</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_install_db_no-defaults">--no-defaults</a></td><td>オプションファイルを読み取らない</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_install_db_random-passwords">--random-passwords</a></td><td>管理アカウントにランダムパスワードを生成</td><td>5.6.8</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_install_db_rpm">--rpm</a></td><td>内部使用</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_install_db_skip-name-resolve">--skip-name-resolve</a></td><td>付与テーブルにホスト名ではなく IP アドレスを使用</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_install_db_srcdir">--srcdir</a></td><td>内部使用</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_install_db_user">--user</a></td><td>mysqld を実行するシステムログインユーザー</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_install_db_verbose">--verbose</a></td><td>冗長モード</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_install_db_windows">--windows</a></td><td>内部使用</td><td> </td><td> </td></tr></tbody></table></div></div><br class="table-break"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysql_install_db_help"></a>
            <a class="indexterm" name="idm139979157871120"></a> <a class="indexterm" name="idm139979157868944"></a> <code class="option">--help</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_mysql_install_db_basedir"></a>
            <a class="indexterm" name="idm139979157864512"></a> <a class="indexterm" name="idm139979157862336"></a> <code class="option">--basedir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            MySQL インストールディレクトリへのパス。
          </p></li><li class="listitem"><p><a name="option_mysql_install_db_builddir"></a>
            <a class="indexterm" name="idm139979157857616"></a> <a class="indexterm" name="idm139979157855440"></a> <code class="option">--builddir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            <code class="option">--srcdir</code> およびソースからのビルドとともに使用します。これは、ビルドされたファイルがあるディレクトリの場所にセットします。
          </p></li><li class="listitem"><p><a name="option_mysql_install_db_cross-bootstrap"></a>
            <a class="indexterm" name="idm139979157849824"></a> <a class="indexterm" name="idm139979157847664"></a> <code class="option">--cross-bootstrap</code>
          </p><p>
            内部使用。このオプションは、あるホスト用のシステムテーブルを別のホストでビルドするために使用されます。
          </p></li><li class="listitem"><p><a name="option_mysql_install_db_datadir"></a>
            <a class="indexterm" name="idm139979157842960"></a> <a class="indexterm" name="idm139979157840784"></a> <code class="option">--datadir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            MySQL データディレクトリへのパス。MySQL 5.6.8 以降、<span class="command"><strong>mysql_install_db</strong></span> はオプション値に関してより厳密になりました。パスが存在しない場合は、パス名の最後のコンポーネントのみが作成されます。親ディレクトリはすでに存在する必要があります。存在しない場合はエラーが発生します。
          </p></li><li class="listitem"><p><a name="option_mysql_install_db_defaults-extra-file"></a>
            <a class="indexterm" name="idm139979157834656"></a> <code class="option">--defaults-extra-file=<em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            このオプションファイルは、グローバルオプションファイルのあとに読み取りますが、(UNIX では) ユーザーオプションファイルの前に読み取るようにしてください。ファイルが存在しないかアクセスできない場合、エラーが発生します。<em class="replaceable"><code>file_name</code></em> は、フルパス名でなく相対パス名として指定された場合、現行ディレクトリを基準にして解釈されます。
          </p></li><li class="listitem"><p><a name="option_mysql_install_db_defaults-file"></a>
            <a class="indexterm" name="idm139979157829408"></a> <code class="option">--defaults-file=<em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            指定されたオプションファイルのみ使用します。ファイルが存在しないかアクセスできない場合、エラーが発生します。<em class="replaceable"><code>file_name</code></em> は、フルパス名でなく相対パス名として指定された場合、現行ディレクトリを基準にして解釈されます。
          </p></li><li class="listitem"><p><a name="option_mysql_install_db_force"></a>
            <a class="indexterm" name="idm139979157824368"></a> <a class="indexterm" name="idm139979157822192"></a> <code class="option">--force</code>
          </p><p>
            DNS が機能しない場合でも <span class="command"><strong>mysql_install_db</strong></span> を実行します。通常ホスト名を使用して作成される付与テーブルエントリが、代わりに IP アドレスを使用します。
          </p></li><li class="listitem"><p><a name="option_mysql_install_db_keep-my-cnf"></a>
            <a class="indexterm" name="idm139979157816848"></a> <a class="indexterm" name="idm139979157814704"></a> <code class="option">--keep-my-cnf</code>
          </p><p>
            <span class="command"><strong>mysql_install_db</strong></span> に対し、既存の <code class="filename">my.cnf</code> ファイルがあれば、新しいデフォルトの <code class="filename">my.cnf</code> ファイルを作成せずに既存のものを維持するように指示します。このオプションは MySQL 5.6.20 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysql_install_db_ldata"></a>
            <a class="indexterm" name="idm139979157807776"></a> <a class="indexterm" name="idm139979157805600"></a> <code class="option">--ldata=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            <code class="option">--datadir</code> のシノニム。
          </p></li><li class="listitem"><p><a name="option_mysql_install_db_no-defaults"></a>
            <a class="indexterm" name="idm139979157800336"></a> <code class="option">--no-defaults</code>
          </p><p>
            オプションファイルを読み取りません。オプションファイルから不明のオプションを読み取ることが原因でプログラムの起動に失敗する場合、<code class="option">--no-defaults</code> を使用して、オプションを読み取らないようにすることができます。
          </p></li><li class="listitem"><p><a name="option_mysql_install_db_random-passwords"></a>
            <a class="indexterm" name="idm139979157795248"></a> <a class="indexterm" name="idm139979157793040"></a> <code class="option">--random-passwords</code>
          </p><p>
            Unix プラットフォームで、このオプションはよりセキュアな MySQL インストールを提供します。<span class="command"><strong>mysql_install_db</strong></span> を <code class="option">--random-passwords</code> で起動すると、通常の動作に加えて次のアクションを実行するようになります。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                インストールプロセスはランダムなパスワードを作成して、それを初期 MySQL <code class="literal">root</code> アカウントに割り当て、これらのアカウントに対して<span class="quote">「<span class="quote">有効期限切れパスワード</span>」</span>フラグを設定します。
              </p></li><li class="listitem"><p>
                <a class="indexterm" name="idm139979157784832"></a> 初期のランダムな <code class="literal">root</code> パスワードは、<code class="literal">HOME</code> 環境変数によって指定されるディレクトリの <code class="filename">.mysql_secret</code> ファイルに書き込まれます。オペレーティングシステムによっては、<span class="command"><strong>sudo</strong></span> などのコマンドを使用すると<code class="literal">HOME</code> の値が <code class="literal">root</code> システムユーザーのホームディレクトリを参照するようになる場合があります。
              </p><p>
                <code class="filename">.mysql_secret</code> がすでに存在する場合は、新しいパスワード情報はそれに追加されます。各パスワードエントリにはタイムスタンプが含まれるため、複数のインストール操作の場合に、それぞれに関連するパスワードを判断できます。
              </p><p>
                <code class="filename">.mysql_secret</code> は、作成対象のシステムユーザーのみがアクセスできるように、モード 600 で作成されます。
              </p></li><li class="listitem"><p>
                匿名ユーザー MySQL アカウントは作成されません。
              </p></li></ul></div><p>
            これらのアクションの結果、インストール後、サーバーを起動して <code class="filename">.mysql_secret</code> ファイルに書き込まれたパスワードを使用して <code class="literal">root</code> として接続し、新しい <code class="literal">root</code> パスワードを指定することが必要です。これを行うまで、<code class="literal">root</code> はそれ以外何もできません。これは、使用するすべての <code class="literal">root</code> アカウントについて実行する必要があります。パスワードを変更するには、<code class="literal">SET PASSWORD</code> ステートメントを (たとえば <span class="command"><strong>mysql</strong></span> クライアントとともに) 使用します。<span class="command"><strong>mysqladmin</strong></span> または <span class="command"><strong>mysql_secure_installation</strong></span> も使用できます。
          </p><p>
            (アップグレードではなく) 新しい RPM インストール操作は、<span class="command"><strong>mysql_install_db</strong></span> を <code class="option">--random-passwords</code> オプションで起動します。(Unbreakable Linux Network での RPM を使用したインストール操作は <span class="command"><strong>mysql_install_db</strong></span> を使用しないため、影響されません。)
          </p><p>
            MySQL 5.6.9 では、(アップグレードではなく) 新しい Solaris PKG インストール操作は、<span class="command"><strong>mysql_install_db</strong></span> を <code class="option">--random-passwords</code> オプションで起動します。
          </p><p>
            バイナリの <code class="filename">.tar.gz</code> 配布またはソース配布を使用するインストール操作では、<span class="command"><strong>mysql_install_db</strong></span> を <code class="option">--random-passwords</code> オプションで手動で起動して、MySQL インストールをよりセキュアにできます。これは、機密データのあるサイトでは特に推奨されます。
          </p><p>
            このオプションは MySQL 5.6.8 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysql_install_db_rpm"></a>
            <a class="indexterm" name="idm139979157756544"></a> <a class="indexterm" name="idm139979157754384"></a> <code class="option">--rpm</code>
          </p><p>
            内部使用。このオプションは、RPM パッケージを使用して実行されるインストール操作で、MySQL のインストールプロセス中に使用されます。
          </p></li><li class="listitem"><p><a name="option_mysql_install_db_skip-name-resolve"></a>
            <a class="indexterm" name="idm139979157749616"></a> <a class="indexterm" name="idm139979157747456"></a> <code class="option">--skip-name-resolve</code>
          </p><p>
            付与テーブルのエントリ作成時にホスト名ではなく IP アドレスを使用します。このオプションは、DNS が機能しない場合に便利です。
          </p></li><li class="listitem"><p><a name="option_mysql_install_db_srcdir"></a>
            <a class="indexterm" name="idm139979157742768"></a> <a class="indexterm" name="idm139979157740592"></a> <code class="option">--srcdir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            内部使用。このオプションは、<span class="command"><strong>mysql_install_db</strong></span> がエラーメッセージファイルおよびヘルプテーブルの移入用ファイルなどのサポートファイルを検索するディレクトリを指定します。
          </p></li><li class="listitem"><p><a name="option_mysql_install_db_user"></a>
            <a class="indexterm" name="idm139979157734832"></a> <a class="indexterm" name="idm139979157732656"></a> <code class="option">--user=<em class="replaceable"><code>user_name</code></em></code>
          </p><p>
            <span class="command"><strong>mysqld</strong></span> を実行する際に使用するシステム (ログイン) ユーザー名。<span class="command"><strong>mysqld</strong></span> によって作成されるファイルおよびディレクトリは、このユーザーが所有します。このオプションを使用するには、システム <code class="literal">root</code> ユーザーでなければなりません。デフォルトでは、<span class="command"><strong>mysqld</strong></span> は現在のログイン名を使用して稼働し、作成されるファイルおよびディレクトリはそのユーザーの所有となります。
          </p></li><li class="listitem"><p><a name="option_mysql_install_db_verbose"></a>
            <a class="indexterm" name="idm139979157724384"></a> <a class="indexterm" name="idm139979157722208"></a> <code class="option">--verbose</code>
          </p><p>
            冗長モード。プログラムの動作についてより多くの情報を出力します。
          </p></li><li class="listitem"><p><a name="option_mysql_install_db_windows"></a>
            <a class="indexterm" name="idm139979157717696"></a> <a class="indexterm" name="idm139979157715520"></a> <code class="option">--windows</code>
          </p><p>
            内部使用。このオプションは、Windows 配布の作成に使用されます。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-plugin"></a>4.4.4 <span class="command"><strong>mysql_plugin</strong></span> — MySQL サーバープラグインの構成</h3></div></div></div><a class="indexterm" name="idm139979157710128"></a><p>
        <span class="command"><strong>mysql_plugin</strong></span> ユーティリティーを使用すると、MySQL 管理者は MySQL サーバーがどのプラグインをロードするかを管理できます。サーバーの起動時に手動で <code class="option">--plugin-load</code> オプションを指定したり、<code class="literal">INSTALL PLUGIN</code> および <code class="literal">UNINSTALL PLUGIN</code> ステートメントを実行時に使用したりする代わりに使用できます。<span class="command"><strong>mysql_plugin</strong></span> は MySQL 5.6.3 で使用可能です。
      </p><p>
        <span class="command"><strong>mysql_plugin</strong></span> は、プラグインを有効にするために呼び出されたか無効にするために呼び出されたかによって、プラグインレジストリとして機能する <code class="literal">mysql.plugin</code> テーブルの行を挿入または削除します。(この操作を実行するために、<span class="command"><strong>mysql_plugin</strong></span> は MySQL サーバーをブートストラップモードで呼び出します。これは、サーバーがすでに稼働していてはならないことを意味します。)通常のサーバー起動では、サーバーは <code class="literal">mysql.plugin</code> にリストされているプラグインを自動的にロードして有効にします。プラグインの有効化をさらに管理するには、<a class="xref" href="server-administration.html#server-plugin-loading" title="5.1.8.1 プラグインのインストールおよびアンインストール">セクション5.1.8.1「プラグインのインストールおよびアンインストール」</a>で説明するように、特定のプラグインを指名する <code class="option">--<em class="replaceable"><code>plugin_name</code></em></code> オプションを使用します。
      </p><p>
        <span class="command"><strong>mysql_plugin</strong></span> は、呼び出されるたびに構成ファイルを読み取り、単一のプラグインライブラリオブジェクトファイルに含まれるプラグインを構成する方法を決定します。<span class="command"><strong>mysql_plugin</strong></span> を呼び出すには、次の構文を使用します。
      </p><pre class="programlisting">
mysql_plugin [<em class="replaceable"><code>options</code></em>] <em class="replaceable"><code>plugin</code></em> {ENABLE|DISABLE}
</pre><p>
        <em class="replaceable"><code>plugin</code></em> は構成するプラグインの名前です。<code class="literal">ENABLE</code> または <code class="literal">DISABLE</code> (大文字と小文字は区別されません) は、構成ファイルで指名されたプラグインライブラリのコンポーネントを有効にするか無効にするかを指定します。<em class="replaceable"><code>plugin</code></em> 引数および <code class="literal">ENABLE</code> 引数または <code class="literal">DISABLE</code> 引数の順序はどちらでもかまいません。
      </p><p>
        たとえば、Linux で <code class="filename">myplugins.so</code>、または Windows で <code class="filename">myplugins.dll</code> という名前のプラグインライブラリファイルのコンポーネントを構成するには、<em class="replaceable"><code>plugin</code></em> の値を <code class="literal">myplugins</code> に指定します。このプラグインライブラリに、<code class="literal">plugin1</code>、<code class="literal">plugin2</code>、および <code class="literal">plugin3</code> という 3 つのプラグインが含まれ、これらすべてを <span class="command"><strong>mysql_plugin</strong></span> コントロールに構成するとします。規則では、構成ファイルは <code class="filename">.ini</code> というサフィクスおよびプラグインライブラリと同じベース名を持つため、このプラグインライブラリのデフォルト構成ファイル名は <code class="filename">myplugins.ini</code> です。構成ファイルの内容は次のようになります。
      </p><pre class="programlisting">
myplugins
plugin1
plugin2
plugin3
</pre><p>
        <code class="filename">myplugins.ini</code> ファイルの最初の行は、<code class="filename">.so</code> または <code class="filename">.dll</code> などの拡張子のないライブラリオブジェクトファイルの名前です。残りの行は、有効または無効にするコンポーネントの名前です。ファイル内の各値は、独立した行に記述するようにしてください。<code class="literal">'#'</code> の文字で始まる行は、コメントとみなされ無視されます。
      </p><p>
        構成ファイルにリストされたプラグインを有効にするには、<span class="command"><strong>mysql_plugin</strong></span> を次のように呼び出します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql_plugin myplugins ENABLE</code></strong>
</pre><p>
        プラグインを無効にするには、<code class="literal">ENABLE</code> ではなく <code class="literal">DISABLE</code> を使用します。
      </p><p>
        <span class="command"><strong>mysql_plugin</strong></span> が構成ファイルもプラグインライブラリファイルも検出できない場合、または <span class="command"><strong>mysql_plugin</strong></span> が MySQL サーバーを起動できない場合は、エラーが発生します。
      </p><p>
        <span class="command"><strong>mysql_plugin</strong></span> は次のオプションをサポートします。これらはコマンド行または任意のオプションファイルの <code class="literal">[mysqld]</code> グループで指定できます。<code class="literal">[mysqld]</code> グループに指定されるオプションに関しては、<span class="command"><strong>mysql_plugin</strong></span> は <code class="option">--basedir</code>、<code class="option">--datadir</code>、および <code class="option">--plugin-dir</code> の各オプションを認識し、その他は無視します。MySQL プログラムによって使用されるオプションファイルの詳細については、<a class="xref" href="programs.html#option-files" title="4.2.6 オプションファイルの使用">セクション4.2.6「オプションファイルの使用」</a>を参照してください。
      </p><div class="table"><a name="idm139979157661616"></a><p class="title"><b>表 4.3 <code class="literal">mysql_plugin</code> オプション</b></p><div class="table-contents"><table summary="mysql_plugin オプション" border="1"><colgroup><col class="format"><col class="description"></colgroup><thead><tr><th scope="col">形式</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><a class="link" href="programs.html#option_mysql_plugin_basedir">--basedir</a></td><td>サーバーのベースディレクトリ</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_plugin_datadir">--datadir</a></td><td>サーバーのデータディレクトリ</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_plugin_help">--help</a></td><td>ヘルプメッセージを表示して終了</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_plugin_my-print-defaults">--my-print-defaults</a></td><td>my_print_defaults へのパス</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_plugin_mysqld">--mysqld</a></td><td>サーバーへのパス</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_plugin_no-defaults">--no-defaults</a></td><td>構成ファイルを読み取らない</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_plugin_plugin-dir">--plugin-dir</a></td><td>プラグインがインストールされているディレクトリ</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_plugin_plugin-ini">--plugin-ini</a></td><td>プラグイン構成ファイル</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_plugin_print-defaults">--print-defaults</a></td><td>構成ファイルのデフォルトを表示</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_plugin_verbose">--verbose</a></td><td>冗長モード</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_plugin_version">--version</a></td><td>バージョン情報を表示して終了</td></tr></tbody></table></div></div><br class="table-break"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysql_plugin_help"></a>
            <a class="indexterm" name="idm139979157636384"></a> <a class="indexterm" name="idm139979157634208"></a> <code class="option">--help</code>, <code class="option">-?</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_mysql_plugin_basedir"></a>
            <a class="indexterm" name="idm139979157629392"></a> <a class="indexterm" name="idm139979157627216"></a> <code class="option">--basedir=<em class="replaceable"><code>path</code></em></code>, <code class="option">-b <em class="replaceable"><code>path</code></em></code>
          </p><p>
            サーバーのベースディレクトリ。
          </p></li><li class="listitem"><p><a name="option_mysql_plugin_datadir"></a>
            <a class="indexterm" name="idm139979157621840"></a> <a class="indexterm" name="idm139979157619664"></a> <code class="option">--datadir=<em class="replaceable"><code>path</code></em></code>, <code class="option">-d <em class="replaceable"><code>path</code></em></code>
          </p><p>
            サーバーのデータディレクトリ。
          </p></li><li class="listitem"><p><a name="option_mysql_plugin_my-print-defaults"></a>
            <a class="indexterm" name="idm139979157614304"></a> <a class="indexterm" name="idm139979157612144"></a> <code class="option">--my-print-defaults=<em class="replaceable"><code>path</code></em></code>, <code class="option">-b <em class="replaceable"><code>path</code></em></code>
          </p><p>
            <span class="command"><strong>my_print_defaults</strong></span> プログラムへのパス。
          </p></li><li class="listitem"><p><a name="option_mysql_plugin_mysqld"></a>
            <a class="indexterm" name="idm139979157606064"></a> <a class="indexterm" name="idm139979157603888"></a> <code class="option">--mysqld=<em class="replaceable"><code>path</code></em></code>, <code class="option">-b <em class="replaceable"><code>path</code></em></code>
          </p><p>
            <span class="command"><strong>mysqld</strong></span> サーバーへのパス。
          </p></li><li class="listitem"><p><a name="option_mysql_plugin_no-defaults"></a>
            <a class="indexterm" name="idm139979157597888"></a> <a class="indexterm" name="idm139979157595744"></a> <code class="option">--no-defaults</code>, <code class="option">-p</code>
          </p><p>
            構成ファイルから値を読み取りません。このオプションにより、管理者は構成ファイルからデフォルトを読み取るのをスキップできます。
          </p><p>
            <span class="command"><strong>mysql_plugin</strong></span> では、<code class="option">--no-defaults</code> をサポートするほかのほとんどの MySQL プログラムとは異なり、このオプションをコマンド行の最初に指定する必要はありません。
          </p></li><li class="listitem"><p><a name="option_mysql_plugin_plugin-dir"></a>
            <a class="indexterm" name="idm139979157588432"></a> <a class="indexterm" name="idm139979157586288"></a> <code class="option">--plugin-dir=<em class="replaceable"><code>path</code></em></code>, <code class="option">-p <em class="replaceable"><code>path</code></em></code>
          </p><p>
            サーバーのプラグインディレクトリ。
          </p></li><li class="listitem"><p><a name="option_mysql_plugin_plugin-ini"></a>
            <a class="indexterm" name="idm139979157580800"></a> <a class="indexterm" name="idm139979157578656"></a> <code class="option">--plugin-ini=<em class="replaceable"><code>file_name</code></em></code>, <code class="option">-i <em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            <span class="command"><strong>mysql_plugin</strong></span> 構成ファイル。相対パス名は、現在のディレクトリに相対的に解釈されます。このオプションを指定しない場合、デフォルトはプラグインディレクトリの <code class="filename"><em class="replaceable"><code>plugin</code></em>.ini</code> です。ここで、<em class="replaceable"><code>plugin</code></em> はコマンド行の <em class="replaceable"><code>plugin</code></em> 引数です。
          </p></li><li class="listitem"><p><a name="option_mysql_plugin_print-defaults"></a>
            <a class="indexterm" name="idm139979157570208"></a> <a class="indexterm" name="idm139979157568048"></a> <code class="option">--print-defaults</code>, <code class="option">-P</code>
          </p><p>
            構成ファイルからのデフォルト値を表示します。このオプションを使用すると、<span class="command"><strong>mysql_plugin</strong></span> は<code class="option">--basedir</code>、<code class="option">--datadir</code>、および <code class="option">--plugin-dir</code> のデフォルトが構成ファイルにあればそれらを出力します。変数の値が見つからない場合は何も表示されません。
          </p><p>
            <span class="command"><strong>mysql_plugin</strong></span> では、<code class="option">--print-defaults</code> をサポートするほかのほとんどの MySQL プログラムとは異なり、このオプションをコマンド行の最初に指定する必要はありません。
          </p></li><li class="listitem"><p><a name="option_mysql_plugin_verbose"></a>
            <a class="indexterm" name="idm139979157557760"></a> <a class="indexterm" name="idm139979157555584"></a> <code class="option">--verbose</code>, <code class="option">-v</code>
          </p><p>
            冗長モード。プログラムの動作についてより多くの情報を出力します。このオプションは情報量を増加させるために複数回使用できます。
          </p></li><li class="listitem"><p><a name="option_mysql_plugin_version"></a>
            <a class="indexterm" name="idm139979157550512"></a> <a class="indexterm" name="idm139979157548336"></a> <code class="option">--version</code>, <code class="option">-V</code>
          </p><p>
            バージョン情報を表示して終了します。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-secure-installation"></a>4.4.5 <span class="command"><strong>mysql_secure_installation</strong></span> — MySQL インストールのセキュリティー改善</h3></div></div></div><a class="indexterm" name="idm139979157542608"></a><p>
        このプログラムにより、次の方法で MySQL インストールのセキュリティーを改善できます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">root</code> アカウントのパスワードを設定できます。
          </p></li><li class="listitem"><p>
            ローカルホスト以外からアクセス可能な <code class="literal">root</code> アカウントを削除できます。
          </p></li><li class="listitem"><p>
            匿名ユーザーアカウントを削除できます。
          </p></li><li class="listitem"><p>
            <code class="literal">test</code> データベース (デフォルトでは、匿名ユーザーであっても、すべてのユーザーがアクセスできます)、および <code class="literal">test_</code> で始まる名前を持つデータベースへのアクセスを許可する権限を削除できます。
          </p></li></ul></div><p>
        <span class="command"><strong>mysql_secure_installation</strong></span> により、<a class="xref" href="installing.html#default-privileges" title="2.10.2 最初の MySQL アカウントのセキュリティー設定">セクション2.10.2「最初の MySQL アカウントのセキュリティー設定」</a>に述べられているのと同様のセキュリティーの推奨事項を実装しやすくなります。
      </p><p>
        <span class="command"><strong>mysql_secure_installation</strong></span> は引数なしで呼び出します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql_secure_installation</code></strong>
</pre><p>
        このスクリプトを実行すると、どのアクションを実行するか決定するように求められます。
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-tzinfo-to-sql"></a>4.4.6 <span class="command"><strong>mysql_tzinfo_to_sql</strong></span> — タイムゾーンテーブルのロード</h3></div></div></div><a class="indexterm" name="idm139979157526272"></a><a class="indexterm" name="idm139979157525040"></a><p>
        <span class="command"><strong>mysql_tzinfo_to_sql</strong></span> プログラムは、<code class="literal">mysql</code> データベースに、タイムゾーンテーブルをロードします。<em class="firstterm">zoneinfo</em> データベース (タイムゾーンを記述するファイルのセット) があるシステムで使用します。このようなシステムには、Linux、FreeBSD、Solaris、OS X などがあります。これらのファイルの適切な場所の 1 つは <code class="filename">/usr/share/zoneinfo</code> ディレクトリです (Solaris では <code class="filename">/usr/share/lib/zoneinfo</code>)。zoneinfo データベースがないシステムの場合には、<a class="xref" href="globalization.html#time-zone-support" title="10.6 MySQL Server でのタイムゾーンのサポート">セクション10.6「MySQL Server でのタイムゾーンのサポート」</a>で説明するダウンロード可能なパッケージを使用できます。
      </p><p>
        <span class="command"><strong>mysql_tzinfo_to_sql</strong></span> はいくつかの方法で呼び出せます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql_tzinfo_to_sql <em class="replaceable"><code>tz_dir</code></em></code></strong>
shell&gt; <strong class="userinput"><code>mysql_tzinfo_to_sql <em class="replaceable"><code>tz_file tz_name</code></em></code></strong>
shell&gt; <strong class="userinput"><code>mysql_tzinfo_to_sql --leap <em class="replaceable"><code>tz_file</code></em></code></strong>
</pre><p>
        最初の呼び出し構文は、zoneinfo ディレクトリのパス名を <span class="command"><strong>mysql_tzinfo_to_sql</strong></span> に渡し、出力を <span class="command"><strong>mysql</strong></span> プログラムに送信します。例:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql_tzinfo_to_sql /usr/share/zoneinfo | mysql -u root mysql</code></strong>
</pre><p>
        <span class="command"><strong>mysql_tzinfo_to_sql</strong></span> は、システムのタイムゾーンファイルを読み取り、そのファイルから SQL ステートメントを生成します。<span class="command"><strong>mysql</strong></span> はこれらのステートメントを処理して、タイムゾーンテーブルをロードします。
      </p><p>
        2 番目の構文は、<span class="command"><strong>mysql_tzinfo_to_sql</strong></span> がタイムゾーン名 <em class="replaceable"><code>tz_name</code></em> に対応する単一のタイムゾーンファイル <em class="replaceable"><code>tz_file</code></em> をロードします。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql_tzinfo_to_sql <em class="replaceable"><code>tz_file</code></em> <em class="replaceable"><code>tz_name</code></em> | mysql -u root mysql</code></strong>
</pre><p>
        うるう秒を考慮する必要がある場合は、3 番目の構文を使用して <span class="command"><strong>mysql_tzinfo_to_sql</strong></span> を呼び出します。これはうるう秒の情報を初期化します。<em class="replaceable"><code>tz_file</code></em> はタイムゾーンファイルの名前です。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql_tzinfo_to_sql --leap <em class="replaceable"><code>tz_file</code></em> | mysql -u root mysql</code></strong>
</pre><p>
        <span class="command"><strong>mysql_tzinfo_to_sql</strong></span> の実行後、以前にキャッシュしたすべてのタイムゾーンデータを使用し続けないように、サーバーを再起動することをお勧めします。
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-upgrade"></a>4.4.7 <span class="command"><strong>mysql_upgrade</strong></span> — MySQL テーブルのチェックとアップグレード</h3></div></div></div><a class="indexterm" name="idm139979157495952"></a><a class="indexterm" name="idm139979157494736"></a><a class="indexterm" name="idm139979157493344"></a><p>
        <span class="command"><strong>mysql_upgrade</strong></span> はすべてのデータベースのすべてのテーブルに対して、MySQL サーバーの現在のバージョンとの非互換性を調べます。また、<span class="command"><strong>mysql_upgrade</strong></span> は、システムテーブルをアップグレードして、追加された可能性のある新しい権限または機能を利用できるようにします。
      </p><p>
        <span class="command"><strong>mysql_upgrade</strong></span> は、テーブルに非互換性がある可能性が見つかった場合はテーブルのチェックを実行し、問題が検出された場合はテーブルの修復を試みます。テーブルを修復できない場合は、手動でテーブルを修復する方法について、<a class="xref" href="installing.html#rebuilding-tables" title="2.11.4 テーブルまたはインデックスの再作成または修復">セクション2.11.4「テーブルまたはインデックスの再作成または修復」</a>を参照してください。
      </p><p>
        <span class="command"><strong>mysql_upgrade</strong></span> は、MySQL をアップグレードするたびに実行するようにしてください。
      </p><p>
        Linux で、MySQL を RPM パッケージからインストールする場合は、サーバーとクライアントの RPM をインストールする必要があります。<span class="command"><strong>mysql_upgrade</strong></span> はサーバー RPM に含まれていますが、クライアント RPM に <span class="command"><strong>mysqlcheck</strong></span> が含まれるため、クライアント RPM が必要です。(<a class="xref" href="installing.html#linux-installation-rpm" title="2.5.5 RPM パッケージを使用して MySQL を Linux にインストールする">セクション2.5.5「RPM パッケージを使用して MySQL を Linux にインストールする」</a>を参照してください。)
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          Windows Server 2008、Vista、およびそれ以降では、<span class="command"><strong>mysql_upgrade</strong></span> を管理者権限で実行する必要があります。そのためには、コマンドプロンプトを管理者として実行してそのコマンドを実行します。そうしないと、アップグレードが正しく実行されない場合があります。
        </p></div><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注意</div><p>
          アップグレードを実行する<span class="emphasis"><em>前</em></span>に、必ず現在の MySQL インストールをバックアップするようにしてください。<a class="xref" href="backup-and-recovery.html#backup-methods" title="7.2 データベースバックアップ方法">セクション7.2「データベースバックアップ方法」</a>を参照してください。
        </p><p>
          一部のアップグレードの非互換性により、MySQL インストールをアップグレードして <span class="command"><strong>mysql_upgrade</strong></span> を実行する前に特殊な処理が必要な場合があります。このような非互換性が、使用しているインストールに該当するかどうかの判断、およびその対処方法については、<a class="xref" href="installing.html#upgrading" title="2.11.1 MySQL のアップグレード">セクション2.11.1「MySQL のアップグレード」</a>を参照してください。
        </p></div><p>
        <span class="command"><strong>mysql_upgrade</strong></span> を使用するには、サーバーが稼働していることを確認してください。そのあと、次のように呼び出します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql_upgrade [<em class="replaceable"><code>options</code></em>]</code></strong>
</pre><p>
        <span class="command"><strong>mysql_upgrade</strong></span> の実行後、システムテーブルに行われた変更が有効になるように、サーバーを停止して再起動します。
      </p><p>
        複数の MySQL サーバーインスタンスが稼働している場合は、目的のサーバーに適した接続パラメータを使用して <span class="command"><strong>mysql_upgrade</strong></span> を呼び出します。たとえば、ローカルホストで 3306 から 3308 までのポートでサーバーが稼働している場合、適切なポートに接続してそれぞれをアップグレードします。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql_upgrade --protocol=tcp -P 3306 [<em class="replaceable"><code>other_options</code></em>]</code></strong>
shell&gt; <strong class="userinput"><code>mysql_upgrade --protocol=tcp -P 3307 [<em class="replaceable"><code>other_options</code></em>]</code></strong>
shell&gt; <strong class="userinput"><code>mysql_upgrade --protocol=tcp -P 3308 [<em class="replaceable"><code>other_options</code></em>]</code></strong>
</pre><p>
        Unix でのローカルホスト接続では、<code class="option">--protocol=tcp</code> オプションを使用すると、Unix ソケットファイルではなく TCP/IP を強制的に使用して接続が行われます。
      </p><p>
        <span class="command"><strong>mysql_upgrade</strong></span> は次のコマンドを実行して、テーブルのチェックと修復およびシステムテーブルのアップグレードを実行します。
      </p><pre class="programlisting">
mysqlcheck --no-defaults --databases
 --fix-db-names --fix-table-names mysql
mysqlcheck --no-defaults --check-upgrade --databases
 --auto-repair mysql
mysql &lt; fix_priv_tables
mysqlcheck --no-defaults --all-databases
 --skip-database=mysql --fix-db-names --fix-table-names
mysqlcheck --no-defaults --check-upgrade --all-databases
 --skip-database=mysql --auto-repair
</pre><p>
        前述のコマンドに関する注意:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="command"><strong>mysql_upgrade</strong></span> はまた、<span class="command"><strong>mysql_upgrade</strong></span> コマンドに <code class="option">--write-binlog</code> オプションが指定されたかどうかに応じて、<code class="option">--write-binlog</code> または <code class="option">--skip-write-binlog</code> を <span class="command"><strong>mysqlcheck</strong></span> コマンドに追加します。
          </p></li><li class="listitem"><p>
            <span class="command"><strong>mysql_upgrade</strong></span> は <span class="command"><strong>mysqlcheck</strong></span> を <code class="option">--all-databases</code> オプションで呼び出すため、すべてのデータベースのすべてのテーブルが処理され、完了するのに長時間かかる場合があります。各テーブルはロックされるため、処理中にほかのセッションで使用することはできません。チェックと修復の処理には時間がかかることがあり、特に大きなテーブルでは長い時間を要する可能性があります。
          </p></li><li class="listitem"><p>
            <code class="option">--check-upgrade</code> オプションで実行されるチェックの詳細は、<code class="literal">CHECK TABLE</code> ステートメントの <code class="literal">FOR UPGRADE</code> オプションの説明を参照してください (<a class="xref" href="sql-syntax.html#check-table" title="13.7.2.2 CHECK TABLE 構文">セクション13.7.2.2「CHECK TABLE 構文」</a>を参照してください)。
          </p></li><li class="listitem"><p>
            <em class="replaceable"><code>fix_priv_tables</code></em> は、<span class="command"><strong>mysql_upgrade</strong></span> により内部的に生成され、<code class="literal">mysql</code> データベース内のテーブルをアップグレードするための SQL ステートメントを含むスクリプトを示します。
          </p></li></ul></div><p>
        チェックおよび修復が行われたすべてのテーブルは、現在の MySQL バージョン番号でマークされます。これにより、次に同じバージョンのサーバーで <span class="command"><strong>mysql_upgrade</strong></span> を立ち上げるときに、そのテーブルを再度チェックして修正する必要があるかどうかが確実にわかります。
      </p><a class="indexterm" name="idm139979157441184"></a><a class="indexterm" name="idm139979157439088"></a><a class="indexterm" name="idm139979157436880"></a><p>
        <span class="command"><strong>mysql_upgrade</strong></span> はまた、MySQL バージョン番号をデータディレクトリの <code class="filename">mysql_upgrade_info</code> という名前のファイルに保存します。これは、テーブルのチェックをスキップできるように、すべてのテーブルがこのリリースに関してチェック済みかどうかを迅速にチェックするために使用されます。このファイルを無視してとにかくチェックを実行するには、<code class="option">--force</code> オプションを使用します。
      </p><p>
        <span class="command"><strong>mysql_upgrade</strong></span> では、ヘルプテーブルの内容はアップグレードされません。アップグレードの手順については、<a class="xref" href="server-administration.html#server-side-help-support" title="5.1.10 サーバー側のヘルプ">セクション5.1.10「サーバー側のヘルプ」</a>を参照してください。
      </p><p>
        デフォルトでは、<span class="command"><strong>mysql_upgrade</strong></span> は MySQL <code class="literal">root</code> ユーザーとして実行されます。<span class="command"><strong>mysql_upgrade</strong></span> の実行時に <code class="literal">root</code> のパスワードが期限切れの場合、パスワードが期限切れであり、その結果 <span class="command"><strong>mysql_upgrade</strong></span> が失敗したというメッセージが表示されます。これを修正するには、<code class="literal">root</code> のパスワードを期限が切れていないものにリセットして、<span class="command"><strong>mysql_upgrade</strong></span> をふたたび実行します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <strong class="userinput"><code>****</code></strong>  &lt;- enter root password here
mysql&gt; <strong class="userinput"><code>SET PASSWORD = PASSWORD('root-password');</code></strong>
mysql&gt; <strong class="userinput"><code>quit</code></strong>

shell&gt; <strong class="userinput"><code>mysql_upgrade [<em class="replaceable"><code>options</code></em>]</code></strong>
</pre><p>
        <span class="command"><strong>mysql_upgrade</strong></span> は次のオプションをサポートします。これらはコマンド行またはオプションファイルの <code class="literal">[mysql_upgrade]</code> グループおよび <code class="literal">[client]</code> グループで指定できます。その他のオプションは <span class="command"><strong>mysqlcheck</strong></span> に渡されます。オプションファイルの詳細は、<a class="xref" href="programs.html#option-files" title="4.2.6 オプションファイルの使用">セクション4.2.6「オプションファイルの使用」</a>を参照してください。
      </p><div class="table"><a name="idm139979157414048"></a><p class="title"><b>表 4.4 <code class="literal">mysql_upgrade</code> オプション</b></p><div class="table-contents"><table summary="mysql_upgrade オプション" border="1"><colgroup><col class="format"><col class="description"><col class="introduced"></colgroup><thead><tr><th scope="col">形式</th><th scope="col">説明</th><th scope="col">導入</th></tr></thead><tbody><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_basedir">--basedir</a></td><td>使用しない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_character-sets-dir">--character-sets-dir</a></td><td>文字セットがインストールされているディレクトリ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_compress">--compress</a></td><td>クライアントとサーバー間で送信される情報をすべて圧縮</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_datadir">--datadir</a></td><td>使用しない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_debug">--debug</a></td><td>デバッグのログを書き込み</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_debug-check">--debug-check</a></td><td>プログラムの終了時にデバッグ情報を出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_debug-info">--debug-info</a></td><td>プログラムの終了時に、デバッグ情報、メモリー、および CPU の統計を出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_default-auth">--default-auth</a></td><td>使用する認証プラグイン</td><td>5.6.2</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_default-character-set">--default-character-set</a></td><td>デフォルト文字セットを指定</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_defaults-extra-file">--defaults-extra-file</a></td><td>通常のオプションファイルに加えてオプションファイルを読み取る</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_defaults-file">--defaults-file</a></td><td>指名されたオプションファイルのみを読み取る</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_defaults-group-suffix">--defaults-group-suffix</a></td><td>オプショングループのサフィクス値</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_force">--force</a></td><td>MySQL の現在のバージョンに対して mysql_upgrade を実行済みでも強制的に実行</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_help">--help</a></td><td>ヘルプメッセージを表示して終了</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_host">--host</a></td><td>指定されたホスト上で MySQL サーバーに接続</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_login-path">--login-path</a></td><td>ログインパスオプションを .mylogin.cnf から読み取り</td><td>5.6.6</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_no-defaults">--no-defaults</a></td><td>オプションファイルを読み取らない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_password">--password</a></td><td>サーバーに接続する際に使用するパスワード</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_pipe">--pipe</a></td><td>Windows で、名前付きパイプを使用してサーバーに接続</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_plugin-dir">--plugin-dir</a></td><td>プラグインがインストールされているディレクトリ</td><td>5.6.2</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_port">--port</a></td><td>接続に使用する TCP/IP ポート番号</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_print-defaults">--print-defaults</a></td><td>デフォルトを出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_protocol">--protocol</a></td><td>使用する接続プロトコル</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_shared-memory-base-name">--shared-memory-base-name</a></td><td>共有メモリー接続に使用する共有メモリーの名前</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_socket">--socket</a></td><td>ローカルホストへの接続で、使用する Unix ソケットファイル</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_ssl">--ssl</a></td><td>接続に SSL を有効化</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_ssl">--ssl-ca</a></td><td>信頼された SSL CA のリストを含むファイルのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_ssl">--ssl-capath</a></td><td>信頼された SSL CA の PEM 形式の証明書を含むディレクトリのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_ssl">--ssl-cert</a></td><td>PEM 形式の X509 証明書を含むファイルのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_ssl">--ssl-cipher</a></td><td>SSL の暗号化に使用される、許可された暗号のリスト</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_ssl">--ssl-crl</a></td><td>証明書失効リストを含むファイルのパス</td><td>5.6.3</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_ssl">--ssl-crlpath</a></td><td>証明書失効リストファイルを含むディレクトリのパス</td><td>5.6.3</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_ssl">--ssl-key</a></td><td>PEM 形式の X509 鍵を含むファイルのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_ssl">--ssl-verify-server-cert</a></td><td>サーバーへの接続時に、サーバーの証明書内のコモンネーム値をホスト名に対して検証</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_tmpdir">--tmpdir</a></td><td>一時ファイルのディレクトリ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_upgrade-system-tables">--upgrade-system-tables</a></td><td>システムテーブルのみを更新し、データは更新しない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_user">--user</a></td><td>サーバーへの接続時に使用する MySQL ユーザー名</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_verbose">--verbose</a></td><td>冗長モード</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_version-check">--version-check</a></td><td>適切なサーバーバージョンをチェック</td><td>5.6.12</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_upgrade_write-binlog">--write-binlog</a></td><td>すべてのステートメントをバイナリログに書き込み</td><td> </td></tr></tbody></table></div></div><br class="table-break"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysql_upgrade_help"></a>
            <a class="indexterm" name="idm139979157327792"></a> <a class="indexterm" name="idm139979157325616"></a> <code class="option">--help</code>
          </p><p>
            短いヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_basedir"></a>
            <a class="indexterm" name="idm139979157321168"></a> <a class="indexterm" name="idm139979157318992"></a> <code class="option">--basedir=<em class="replaceable"><code>dir_name</code></em></code>
          </p><p>
            MySQL インストールディレクトリへのパス。このオプションは、後方互換性のため受け付けられますが無視されます。MySQL 5.7 では削除されました。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_character-sets-dir"></a>
            <a class="indexterm" name="idm139979157314048"></a> <a class="indexterm" name="idm139979157311888"></a> <code class="option">--character-sets-dir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            文字セットがインストールされているディレクトリ。<a class="xref" href="globalization.html#charset-configuration" title="10.5 文字セットの構成">セクション10.5「文字セットの構成」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_compress"></a>
            <a class="indexterm" name="idm139979157306160"></a> <a class="indexterm" name="idm139979157304016"></a> <code class="option">--compress</code>
          </p><p>
            クライアントとサーバーの両方が圧縮をサポートしている場合、その間で送受信される情報をすべて圧縮します。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_datadir"></a>
            <a class="indexterm" name="idm139979157299392"></a> <a class="indexterm" name="idm139979157297216"></a> <code class="option">--datadir=<em class="replaceable"><code>dir_name</code></em></code>
          </p><p>
            データディレクトリへのパス。このオプションは、後方互換性のため受け付けられますが無視されます。MySQL 5.7 では削除されました。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_debug"></a>
            <a class="indexterm" name="idm139979157292240"></a> <a class="indexterm" name="idm139979157290064"></a> <code class="option">--debug[=<em class="replaceable"><code>debug_options</code></em>]</code>, <code class="option">-# [<em class="replaceable"><code>debug_options</code></em>]</code>
          </p><p>
            デバッグのログを書き込みます。一般的な <em class="replaceable"><code>debug_options</code></em> 文字列は <code class="literal">d:t:o,<em class="replaceable"><code>file_name</code></em></code> です。デフォルトは <code class="literal">d:t:O,/tmp/mysql_upgrade.trace</code> です。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_debug-check"></a>
            <a class="indexterm" name="idm139979157282112"></a> <a class="indexterm" name="idm139979157279968"></a> <code class="option">--debug-check</code>
          </p><p>
            プログラムの終了時に、デバッグ情報を出力します。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_debug-info"></a>
            <a class="indexterm" name="idm139979157275440"></a> <a class="indexterm" name="idm139979157273296"></a> <code class="option">--debug-info</code>, <code class="option">-T</code>
          </p><p>
            プログラムの終了時に、デバッグ情報とメモリーおよび CPU 使用率の統計を出力します。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_default-auth"></a>
            <a class="indexterm" name="idm139979157268288"></a> <a class="indexterm" name="idm139979157266128"></a> <code class="option">--default-auth=<em class="replaceable"><code>plugin</code></em></code>
          </p><p>
            使用するクライアント側の認証プラグイン。<a class="xref" href="security.html#pluggable-authentication" title="6.3.7 プラガブル認証">セクション6.3.7「プラガブル認証」</a>を参照してください。
          </p><p>
            このオプションは MySQL 5.6.2 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_default-character-set"></a>
            <a class="indexterm" name="idm139979157259808"></a> <a class="indexterm" name="idm139979157257632"></a> <code class="option">--default-character-set=<em class="replaceable"><code>charset_name</code></em></code>
          </p><p>
            <em class="replaceable"><code>charset_name</code></em> をデフォルト文字セットとして使用します。<a class="xref" href="globalization.html#charset-configuration" title="10.5 文字セットの構成">セクション10.5「文字セットの構成」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_defaults-extra-file"></a>
            <a class="indexterm" name="idm139979157251664"></a> <a class="indexterm" name="idm139979157249488"></a> <code class="option">--defaults-extra-file=<em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            このオプションファイルは、グローバルオプションファイルのあとに読み取りますが、(UNIX では) ユーザーオプションファイルの前に読み取るようにしてください。ファイルが存在しないかアクセスできない場合、エラーが発生します。<em class="replaceable"><code>file_name</code></em> は、フルパス名でなく相対パス名として指定された場合、現行ディレクトリを基準にして解釈されます。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_defaults-file"></a>
            <a class="indexterm" name="idm139979157243616"></a> <a class="indexterm" name="idm139979157241456"></a> <code class="option">--defaults-file=<em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            指定されたオプションファイルのみ使用します。ファイルが存在しないかアクセスできない場合、エラーが発生します。<em class="replaceable"><code>file_name</code></em> は、フルパス名でなく相対パス名として指定された場合、現行ディレクトリを基準にして解釈されます。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_defaults-group-suffix"></a>
            <a class="indexterm" name="idm139979157235680"></a> <a class="indexterm" name="idm139979157233504"></a> <code class="option">--defaults-group-suffix=<em class="replaceable"><code>str</code></em></code>
          </p><p>
            通常のオプショングループだけでなく、通常の名前に <em class="replaceable"><code>str</code></em> のサフィクスが付いたグループも読み取ります。たとえば、<span class="command"><strong>mysql_upgrade</strong></span> は通常 <code class="literal">[client]</code> グループおよび <code class="literal">[mysql_upgrade]</code> グループを読み取ります。<code class="option">--defaults-group-suffix=_other</code> オプションを指定した場合、<span class="command"><strong>mysql_upgrade</strong></span> は <code class="literal">[client_other]</code> グループおよび <code class="literal">[mysql_upgrade_other]</code> グループも読み取ります。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_force"></a>
            <a class="indexterm" name="idm139979157222848"></a> <a class="indexterm" name="idm139979157220672"></a> <code class="option">--force</code>
          </p><p>
            <code class="filename">mysql_upgrade_info</code> ファイルを無視し、MySQL の現在のバージョンに対して <span class="command"><strong>mysql_upgrade</strong></span> を実行済みでも強制的に実行します。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_host"></a>
            <a class="indexterm" name="idm139979157214736"></a> <a class="indexterm" name="idm139979157212560"></a> <code class="option">--host=<em class="replaceable"><code>host_name</code></em></code>, <code class="option">-h <em class="replaceable"><code>host_name</code></em></code>
          </p><p>
            指定されたホストの MySQL サーバーに接続します。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_login-path"></a>
            <a class="indexterm" name="idm139979157207152"></a> <a class="indexterm" name="idm139979157205008"></a> <code class="option">--login-path=<em class="replaceable"><code>name</code></em></code>
          </p><p>
            指名されたログインパスから <code class="filename">.mylogin.cnf</code> ログインファイルのオプションを読み取ります。<span class="quote">「<span class="quote">ログインパス</span>」</span>は、<code class="option">host</code>、<code class="option">user</code>、および <code class="option">password</code> という限定されたオプションのセットのみを許可するオプショングループです。ログインパスは、サーバーホストおよびそのサーバーで認証するための認証情報を示す値のセットであると考えてください。ログインパスファイルを作成するには、<span class="command"><strong>mysql_config_editor</strong></span> ユーティリティーを使用します。<a class="xref" href="programs.html#mysql-config-editor" title="4.6.6 mysql_config_editor — MySQL 構成ユーティリティー">セクション4.6.6「<span class="command"><strong>mysql_config_editor</strong></span> — MySQL 構成ユーティリティー」</a>を参照してください。このオプションは MySQL 5.6.6 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_no-defaults"></a>
            <a class="indexterm" name="idm139979157195456"></a> <a class="indexterm" name="idm139979157193344"></a> <code class="option">--no-defaults</code>
          </p><p>
            オプションファイルを読み取りません。オプションファイルから不明のオプションを読み取ることが原因でプログラムの起動に失敗する場合、<code class="option">--no-defaults</code> を使用して、オプションを読み取らないようにすることができます。
          </p><p>
            例外として、<code class="filename">.mylogin.cnf</code> ファイルは、存在する場合はすべての場合に読み取られます。これにより、 <code class="option">--no-defaults</code> が使用されたとしても、コマンド行よりも安全な方法でパスワードを指定できます。(<code class="filename">.mylogin.cnf</code> は <span class="command"><strong>mysql_config_editor</strong></span> ユーティリティーによって作成されます。<a class="xref" href="programs.html#mysql-config-editor" title="4.6.6 mysql_config_editor — MySQL 構成ユーティリティー">セクション4.6.6「<span class="command"><strong>mysql_config_editor</strong></span> — MySQL 構成ユーティリティー」</a>を参照してください)。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_password"></a>
            <a class="indexterm" name="idm139979157183152"></a> <a class="indexterm" name="idm139979157181008"></a> <code class="option">--password[=<em class="replaceable"><code>password</code></em>]</code>, <code class="option">-p[<em class="replaceable"><code>password</code></em>]</code>
          </p><p>
            サーバーに接続する際に使用するパスワードです。短いオプション形式 (<code class="option">-p</code>) を使用した場合は、オプションとパスワードの間にスペースを置くことは<span class="emphasis"><em>できません</em></span>。コマンド行で、<code class="option">--password</code> オプションまたは <code class="option">-p</code> オプションに続けて <em class="replaceable"><code>password</code></em> の値を指定しなかった場合、<span class="command"><strong>mysql_upgrade</strong></span> はそれを要求します。
          </p><p>
            コマンド行でのパスワード指定は、セキュアでないと考えるべきです。<a class="xref" href="security.html#password-security-user" title="6.1.2.1 パスワードセキュリティーのためのエンドユーザーガイドライン">セクション6.1.2.1「パスワードセキュリティーのためのエンドユーザーガイドライン」</a>を参照してください。オプションファイルを使用すれば、コマンド行でパスワードを指定することを回避できます。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_pipe"></a>
            <a class="indexterm" name="idm139979157170240"></a> <a class="indexterm" name="idm139979157168096"></a> <code class="option">--pipe</code>, <code class="option">-W</code>
          </p><p>
            Windows で、名前付きパイプを使用してサーバーに接続します。このオプションは、サーバーが名前付きパイプ接続をサポートしている場合にのみ適用されます。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_plugin-dir"></a>
            <a class="indexterm" name="idm139979157162960"></a> <a class="indexterm" name="idm139979157160816"></a> <code class="option">--plugin-dir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            プラグインを検索するディレクトリ。<code class="option">--default-auth</code> オプションを使用して認証プラグインを指定したが、<span class="command"><strong>mysql_upgrade</strong></span> がそれを検出できない場合は、このオプションを指定しなければならない可能性があります。<a class="xref" href="security.html#pluggable-authentication" title="6.3.7 プラガブル認証">セクション6.3.7「プラガブル認証」</a>を参照してください。
          </p><p>
            このオプションは MySQL 5.6.2 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_port"></a>
            <a class="indexterm" name="idm139979157152944"></a> <a class="indexterm" name="idm139979157150768"></a> <code class="option">--port=<em class="replaceable"><code>port_num</code></em></code>, <code class="option">-P <em class="replaceable"><code>port_num</code></em></code>
          </p><p>
            接続に使用する TCP/IP ポート番号。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_print-defaults"></a>
            <a class="indexterm" name="idm139979157145392"></a> <a class="indexterm" name="idm139979157143232"></a> <code class="option">--print-defaults</code>
          </p><p>
            プログラム名と、オプションファイルから受け取るすべてのオプションを出力します。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_protocol"></a>
            <a class="indexterm" name="idm139979157138592"></a> <a class="indexterm" name="idm139979157136416"></a> <code class="option">--protocol={TCP|SOCKET|PIPE|MEMORY}</code>
          </p><p>
            サーバーへの接続に使用する接続プロトコル。このオプションは、ほかの接続パラメータによって、必要なプロトコル以外のものが通常使用される場合に役立ちます。許可される値の詳細は、<a class="xref" href="programs.html#connecting" title="4.2.2 MySQL サーバーへの接続">セクション4.2.2「MySQL サーバーへの接続」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_shared-memory-base-name"></a>
            <a class="indexterm" name="idm139979157130800"></a> <a class="indexterm" name="idm139979157128656"></a> <code class="option">--shared-memory-base-name=<em class="replaceable"><code>name</code></em></code>
          </p><p>
            Windows で、共有メモリーを使用して作成されるローカルサーバーへの接続の共有メモリー名。デフォルト値は <code class="literal">MYSQL</code> です。共有メモリー名では大文字と小文字を区別します。
          </p><p>
            共有メモリー接続を可能にするには、サーバーは <code class="option">--shared-memory</code> オプションで起動する必要があります。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_socket"></a>
            <a class="indexterm" name="idm139979157121376"></a> <a class="indexterm" name="idm139979157119200"></a> <code class="option">--socket=<em class="replaceable"><code>path</code></em></code>, <code class="option">-S <em class="replaceable"><code>path</code></em></code>
          </p><p>
            <code class="literal">localhost</code> への接続用に使用する、Unix ソケットファイル、または Windows では使用する名前付きパイプの名前。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_ssl"></a>
            <a class="indexterm" name="idm139979157112992"></a> <a class="indexterm" name="idm139979157110832"></a> <code class="option">--ssl*</code>
          </p><p>
            <code class="option">--ssl</code> で始まるオプションは、SSL を使用してサーバーに接続することを許可するかどうかを指定し、SSL 鍵および証明書を検索する場所を指定します。<a class="xref" href="security.html#ssl-options" title="6.3.10.4 SSL コマンドのオプション">セクション6.3.10.4「SSL コマンドのオプション」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_tmpdir"></a>
            <a class="indexterm" name="idm139979157105104"></a> <a class="indexterm" name="idm139979157102960"></a> <code class="option">--tmpdir=<em class="replaceable"><code>dir_name</code></em></code>, <code class="option">-t <em class="replaceable"><code>path</code></em></code>
          </p><p>
            一時ファイルを作成するために使用するディレクトリのパス名。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_upgrade-system-tables"></a>
            <a class="indexterm" name="idm139979157097472"></a> <a class="indexterm" name="idm139979157095296"></a> <code class="option">--upgrade-system-tables</code>, <code class="option">-s</code>
          </p><p>
            システムテーブルのみをアップグレードし、データはアップグレードしません。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_user"></a>
            <a class="indexterm" name="idm139979157090272"></a> <a class="indexterm" name="idm139979157088096"></a> <code class="option">--user=<em class="replaceable"><code>user_name</code></em></code>, <code class="option">-u <em class="replaceable"><code>user_name</code></em></code>
          </p><p>
            サーバーへの接続時に使用する MySQL ユーザー名。デフォルトのユーザー名は <code class="literal">root</code> です。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_verbose"></a>
            <a class="indexterm" name="idm139979157081872"></a> <a class="indexterm" name="idm139979157079696"></a> <code class="option">--verbose</code>
          </p><p>
            冗長モード。プログラムの動作についてより多くの情報を出力します。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_version-check"></a>
            <a class="indexterm" name="idm139979157075184"></a> <a class="indexterm" name="idm139979157073024"></a> <code class="option">--version-check</code>, <code class="option">-k</code>
          </p><p>
            <span class="command"><strong>mysql_upgrade</strong></span> の接続先のサーバーのバージョンをチェックして、<span class="command"><strong>mysql_upgrade</strong></span> がビルドされたバージョンと同じであることを確認します。そうでない場合は <span class="command"><strong>mysql_upgrade</strong></span> は終了します。このオプションはデフォルトで有効にされています。<code class="option">--skip-version-check</code> を使用して無効化してください。このオプションは MySQL 5.6.12 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysql_upgrade_write-binlog"></a>
            <a class="indexterm" name="idm139979157064928"></a> <a class="indexterm" name="idm139979157062768"></a> <code class="option">--write-binlog</code>
          </p><p>
            <span class="command"><strong>mysql_upgrade</strong></span> の実行中にバイナリロギングを有効にします。MySQL 5.6.6 以前では、これはデフォルトの動作でした。(アップグレード中にバイナリロギングを無効にするには、プログラムを <code class="option">--skip-write-binlog</code> で起動することによって、このオプションの逆を使用する必要がありました。)MySQL 5.6.7 から、<span class="command"><strong>mysql_upgrade</strong></span> によるバイナリロギングはデフォルトで無効です (Bug #14221043)。アクションをバイナリログに書き込む場合は、明示的に <code class="option">--write-binlog</code> を使用してプログラムを呼び出します。(また、MySQL 5.6.7 から、<code class="option">--skip-write-binlog</code> オプションは実際には何もしません。)
          </p><p>
            グローバルトランザクション識別子を有効にして稼働している MySQL サーバーでは、<span class="command"><strong>mysql_upgrade</strong></span> を実行することは推奨されません (Bug #13833710)。これは、GTID を有効にするということは、<span class="command"><strong>mysql_upgrade</strong></span> がシステムテーブルに対して、<code class="literal">MyISAM</code> などの非トランザクションストレージエンジンを使用して実行する必要のある更新が、失敗することを意味するからです。詳細は、<a class="xref" href="replication.html#replication-gtids-restrictions" title="17.1.3.4 GTID ベースレプリケーションの制約">セクション17.1.3.4「GTID ベースレプリケーションの制約」</a>を参照してください。
          </p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="programs-client"></a>4.5 MySQL クライアントプログラム</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="programs.html#mysql">4.5.1 <span class="command"><strong>mysql</strong></span> — MySQL コマンド行ツール</a></span></dt><dt><span class="section"><a href="programs.html#mysqladmin">4.5.2 <span class="command"><strong>mysqladmin</strong></span> — MySQL サーバーの管理を行うクライアント</a></span></dt><dt><span class="section"><a href="programs.html#mysqlcheck">4.5.3 <span class="command"><strong>mysqlcheck</strong></span> — テーブル保守プログラム</a></span></dt><dt><span class="section"><a href="programs.html#mysqldump">4.5.4 <span class="command"><strong>mysqldump</strong></span> — データベースバックアッププログラム</a></span></dt><dt><span class="section"><a href="programs.html#mysqlimport">4.5.5 <span class="command"><strong>mysqlimport</strong></span> — データインポートプログラム</a></span></dt><dt><span class="section"><a href="programs.html#mysqlshow">4.5.6 <span class="command"><strong>mysqlshow</strong></span> — データベース、テーブル、およびカラム情報の表示</a></span></dt><dt><span class="section"><a href="programs.html#mysqlslap">4.5.7 <span class="command"><strong>mysqlslap</strong></span> — 負荷エミュレーションクライアント</a></span></dt></dl></div><p>
    このセクションでは、MySQL サーバーに接続するクライアントプログラムについて説明します。
  </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql"></a>4.5.1 <span class="command"><strong>mysql</strong></span> — MySQL コマンド行ツール</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="programs.html#mysql-command-options">4.5.1.1 mysql のオプション</a></span></dt><dt><span class="section"><a href="programs.html#mysql-commands">4.5.1.2 mysql コマンド</a></span></dt><dt><span class="section"><a href="programs.html#mysql-logging">4.5.1.3 mysql のロギング</a></span></dt><dt><span class="section"><a href="programs.html#mysql-server-side-help">4.5.1.4 mysql サーバー側のヘルプ</a></span></dt><dt><span class="section"><a href="programs.html#mysql-batch-commands">4.5.1.5 テキストファイルから SQL ステートメントを実行する</a></span></dt><dt><span class="section"><a href="programs.html#mysql-tips">4.5.1.6 mysql のヒント</a></span></dt></dl></div><a class="indexterm" name="idm139979157047024"></a><a class="indexterm" name="idm139979157045808"></a><a class="indexterm" name="idm139979157044496"></a><a class="indexterm" name="idm139979157042592"></a><a class="indexterm" name="idm139979157040864"></a><a class="indexterm" name="idm139979157039520"></a><p>
        <span class="command"><strong>mysql</strong></span> は、入力行の編集機能を備えた簡単な SQL シェルです。インタラクティブおよび非インタラクティブでの使用をサポートします。インタラクティブで使用した場合、クエリー結果は ASCII 表形式で提示されます。非インタラクティブ (フィルタとしてなど) で使用する場合、結果はタブ区切り形式で表示されます。出力形式は、コマンドオプションを使用して変更できます。
      </p><p>
        大きな結果セット用のメモリーが足りないことで問題が発生する場合は、<code class="option">--quick</code> オプションを使用します。これにより <span class="command"><strong>mysql</strong></span> は、全結果セットを表示前に取得してメモリー内でバッファリングする代わりに、サーバーから 1 行ずつ結果を取得することを強制されます。これは、<code class="literal">mysql_store_result()</code> ではなく、クライアント/サーバーライブラリ内の <code class="literal">mysql_use_result()</code> C API 関数を使用して結果セットを返すことで実行されます。
      </p><p>
        <span class="command"><strong>mysql</strong></span> は非常に簡単に使用できます。次のように、コマンドインタプリタのプロンプトから起動してください。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql <em class="replaceable"><code>db_name</code></em></code></strong>
</pre><p>
        または:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql --user=<em class="replaceable"><code>user_name</code></em> --password=<em class="replaceable"><code>your_password</code></em> <em class="replaceable"><code>db_name</code></em></code></strong>
</pre><p>
        次に SQL ステートメントを入力し、<span class="quote">「<span class="quote"><code class="literal">;</code></span>」</span>、<code class="literal">\g</code>、または <code class="literal">\G</code> で終わらせ Enter を押します。
      </p><p>
        <span class="keycap"><strong>Control+C</strong></span> と入力すると、<span class="command"><strong>mysql</strong></span> は現在のステートメントの強制終了を試行します。これが実行できない場合、またはステートメントを強制終了する前に <span class="keycap"><strong>Control+C</strong></span> が再度入力された場合は、<span class="command"><strong>mysql</strong></span> は終了します。
      </p><p>
        SQL ステートメントは次のように、スクリプトファイル (バッチファイル) で実行できます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql <em class="replaceable"><code>db_name</code></em> &lt; <em class="replaceable"><code>script.sql</code></em> &gt; <em class="replaceable"><code>output.tab</code></em></code></strong>
</pre><p>
        Unix では、<span class="command"><strong>mysql</strong></span> クライアントはインタラクティブに実行されたステートメントを履歴ファイルにログ記録します。<a class="xref" href="programs.html#mysql-logging" title="4.5.1.3 mysql のロギング">セクション4.5.1.3「mysql のロギング」</a>を参照してください。
      </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-command-options"></a>4.5.1.1 mysql のオプション</h4></div></div></div><a class="indexterm" name="idm139979157012624"></a><a class="indexterm" name="idm139979157011136"></a><a class="indexterm" name="idm139979157009184"></a><a class="indexterm" name="idm139979157006464"></a><p>
        <span class="command"><strong>mysql</strong></span> は次のオプションをサポートします。これらはコマンド行またはオプションファイルの <code class="literal">[mysql]</code> グループおよび <code class="literal">[client]</code> グループで指定できます。MySQL プログラムによって使用されるオプションファイルの詳細については、<a class="xref" href="programs.html#option-files" title="4.2.6 オプションファイルの使用">セクション4.2.6「オプションファイルの使用」</a>を参照してください。
      </p><div class="table"><a name="idm139979157000640"></a><p class="title"><b>表 4.5 <code class="literal">mysql</code> のオプション</b></p><div class="table-contents"><table summary="mysql のオプション" border="1"><colgroup><col class="format"><col class="description"><col class="introduced"></colgroup><thead><tr><th scope="col">形式</th><th scope="col">説明</th><th scope="col">導入</th></tr></thead><tbody><tr><td scope="row"><a class="link" href="programs.html#option_mysql_auto-rehash">--auto-rehash</a></td><td>自動リハッシュを有効化</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_auto-vertical-output">--auto-vertical-output</a></td><td>結果セットの垂直形式での表示を有効化</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_batch">--batch</a></td><td>履歴ファイルを使用しない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_binary-mode">--binary-mode</a></td><td>\r\n の \n への変換および \0 をクエリーの終端として処理することを無効化</td><td>5.6.3</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_bind-address">--bind-address</a></td><td>指定されたネットワークインタフェースを使用して MySQL サーバーに接続</td><td>5.6.1</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_character-sets-dir">--character-sets-dir</a></td><td>文字セットがインストールされているディレクトリ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_column-names">--column-names</a></td><td>結果にカラム名を記述</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_column-type-info">--column-type-info</a></td><td>結果セットのメタデータを表示</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_comments">--comments</a></td><td>サーバーに送信されたステートメント内のコメントを保持するか削除するか</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_compress">--compress</a></td><td>クライアントとサーバー間で送信される情報をすべて圧縮</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_connect-expired-password">--connect-expired-password</a></td><td>クライアントが期限切れパスワードのサンドボックスモードを処理できることをサーバーに指示。</td><td>5.6.12</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_connect_timeout">--connect_timeout</a></td><td>接続タイムアウトまでの秒数</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_database">--database</a></td><td>使用されるべきデータベース</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_debug">--debug</a></td><td>デバッグのログを書き込み</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_debug-check">--debug-check</a></td><td>プログラムの終了時にデバッグ情報を出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_debug-info">--debug-info</a></td><td>プログラムの終了時に、デバッグ情報、メモリー、および CPU の統計を出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_default-auth">--default-auth</a></td><td>使用する認証プラグイン</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_default-character-set">--default-character-set</a></td><td>デフォルト文字セットを指定</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_defaults-extra-file">--defaults-extra-file</a></td><td>通常のオプションファイルに加えてオプションファイルを読み取る</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_defaults-file">--defaults-file</a></td><td>指名されたオプションファイルのみを読み取る</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_defaults-group-suffix">--defaults-group-suffix</a></td><td>オプショングループのサフィクス値</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_delimiter">--delimiter</a></td><td>ステートメント区切り文字を設定</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_enable-cleartext-plugin">--enable-cleartext-plugin</a></td><td>平文の認証プラグインを有効化</td><td>5.6.7</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_execute">--execute</a></td><td>ステートメントを実行して終了</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_force">--force</a></td><td>SQL エラーが発生しても続行</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_help">--help</a></td><td>ヘルプメッセージを表示して終了</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_histignore">--histignore</a></td><td>ロギングに関してどのステートメントを無視するかを指定するパターン</td><td>5.6.8</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_host">--host</a></td><td>指定されたホスト上で MySQL サーバーに接続</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_html">--html</a></td><td>HTML 出力を生成</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_ignore-spaces">--ignore-spaces</a></td><td>関数名のあとのスペースを無視</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_init-command">--init-command</a></td><td>接続後に実行する SQL ステートメント</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_line-numbers">--line-numbers</a></td><td>エラーの行番号を書き込み</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_local-infile">--local-infile</a></td><td>LOAD DATA INFILE で LOCAL 機能を有効化または無効化</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_login-path">--login-path</a></td><td>ログインパスオプションを .mylogin.cnf から読み取り</td><td>5.6.6</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_max_allowed_packet">--max_allowed_packet</a></td><td>サーバーとの間で送受信するパケットの最大長</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_max_join_size">--max_join_size</a></td><td>--safe-updates を使用する結合で、自動的に設定される行の制限</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_named-commands">--named-commands</a></td><td>名前付き mysql コマンドを有効化</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_net_buffer_length">--net_buffer_length</a></td><td>TCP/IP とソケット通信のバッファーサイズ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_no-auto-rehash">--no-auto-rehash</a></td><td>自動リハッシュを無効化</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_no-beep">--no-beep</a></td><td>エラー時に音を発生させない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_no-defaults">--no-defaults</a></td><td>オプションファイルを読み取らない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_one-database">--one-database</a></td><td>コマンド行で指定されたデフォルトデータベースに対するステートメント以外を無視</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_pager">--pager</a></td><td>クエリー出力のページングに指定されたコマンドを使用</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_password">--password</a></td><td>サーバーに接続する際に使用するパスワード</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_pipe">--pipe</a></td><td>Windows で、名前付きパイプを使用してサーバーに接続</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_plugin-dir">--plugin-dir</a></td><td>プラグインがインストールされているディレクトリ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_port">--port</a></td><td>接続に使用する TCP/IP ポート番号</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_print-defaults">--print-defaults</a></td><td>デフォルトを出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_prompt">--prompt</a></td><td>プロンプトを指定された形式に設定</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_protocol">--protocol</a></td><td>使用する接続プロトコル</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_quick">--quick</a></td><td>各クエリーの結果をキャッシュしない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_raw">--raw</a></td><td>カラム値をエスケープの変換なしで書き込み</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_reconnect">--reconnect</a></td><td>サーバーとの接続が失われたとき、再接続を自動的に試行</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_safe-updates">--i-am-a-dummy</a>, <a class="link" href="programs.html#option_mysql_safe-updates">--safe-updates</a></td><td>キー値を指定する UPDATE ステートメントおよび DELETE ステートメントのみを許可</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_secure-auth">--secure-auth</a></td><td>古い (4.1.1 より前の) 形式でサーバーにパスワードを送信しない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_select_limit">--select_limit</a></td><td>--safe-updates 使用時に自動的に設定される SELECT ステートメントの制限</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_server-public-key-path">--server-public-key-path</a></td><td>RSA 公開鍵を含むファイルへのパス名</td><td>5.6.6</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_shared-memory-base-name">--shared-memory-base-name</a></td><td>共有メモリー接続に使用する共有メモリーの名前</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_show-warnings">--show-warnings</a></td><td>各ステートメントのあとに警告があれば表示</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_sigint-ignore">--sigint-ignore</a></td><td>SIGINT 信号を無視 (通常、Control+C を入力した結果)</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_silent">--silent</a></td><td>サイレントモード</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_auto-rehash">--skip-auto-rehash</a></td><td>自動リハッシュを無効化</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_skip-column-names">--skip-column-names</a></td><td>結果にカラム名を記述しない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_skip-line-numbers">--skip-line-numbers</a></td><td>エラーの行番号を省略</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_named-commands">--skip-named-commands</a></td><td>名前付き mysql コマンドを無効化</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_pager">--skip-pager</a></td><td>ページングを無効化</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_reconnect">--skip-reconnect</a></td><td>再接続を無効化</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_socket">--socket</a></td><td>ローカルホストへの接続で、使用する Unix ソケットファイル</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_ssl">--ssl</a></td><td>接続に SSL を有効化</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_ssl">--ssl-ca</a></td><td>信頼された SSL CA のリストを含むファイルのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_ssl">--ssl-capath</a></td><td>信頼された SSL CA の PEM 形式の証明書を含むディレクトリのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_ssl">--ssl-cert</a></td><td>PEM 形式の X509 証明書を含むファイルのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_ssl">--ssl-cipher</a></td><td>SSL の暗号化に使用される、許可された暗号のリスト</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_ssl">--ssl-crl</a></td><td>証明書失効リストを含むファイルのパス</td><td>5.6.3</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_ssl">--ssl-crlpath</a></td><td>証明書失効リストファイルを含むディレクトリのパス</td><td>5.6.3</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_ssl">--ssl-key</a></td><td>PEM 形式の X509 鍵を含むファイルのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_ssl">--ssl-verify-server-cert</a></td><td>サーバーへの接続時に、サーバーの証明書内のコモンネーム値をホスト名に対して検証</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_table">--table</a></td><td>出力を表形式で表示</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_tee">--tee</a></td><td>出力のコピーを指定されたファイルに追加</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_unbuffered">--unbuffered</a></td><td>各クエリーのあとでバッファーをフラッシュ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_user">--user</a></td><td>サーバーへの接続時に使用する MySQL ユーザー名</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_verbose">--verbose</a></td><td>冗長モード</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_version">--version</a></td><td>バージョン情報を表示して終了</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_vertical">--vertical</a></td><td>クエリー出力行を垂直形式で出力 (カラム値ごとに 1 行)</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_wait">--wait</a></td><td>接続が確立できない場合、中止せずに待機してからリトライ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_xml">--xml</a></td><td>XML 出力を生成</td><td> </td></tr></tbody></table></div></div><br class="table-break"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysql_help"></a>
            <a class="indexterm" name="idm139979156824624"></a> <a class="indexterm" name="idm139979156822480"></a> <code class="option">--help</code>, <code class="option">-?</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_mysql_auto-rehash"></a>
            <a class="indexterm" name="idm139979156817616"></a> <a class="indexterm" name="idm139979156815472"></a> <code class="option">--auto-rehash</code>
          </p><p>
            自動リハッシュを有効にします。このオプションはデフォルトでオンになっており、データベース、テーブル、およびカラムの名前補完が可能になります。リハッシュを無効にするには、<code class="option">--disable-auto-rehash</code> を使用します。これにより、<span class="command"><strong>mysql</strong></span> の起動がより高速になりますが、名前補完を使用する場合は <code class="literal">rehash</code> コマンドまたはそのショートカット <code class="literal">\#</code> を発行する必要があります。
          </p><p>
            名前を補完するには、最初の部分を入力して Tab を押します。名前があいまいでない場合、<span class="command"><strong>mysql</strong></span> がその名前を補完します。そうでない場合は、Tab をもう一度押して、これまでに入力した値で始まる、考えられる名前を表示できます。デフォルトのデータベースがない場合、補完は行われません。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              この機能では、<span class="bold"><strong>readline</strong></span> ライブラリでコンパイルされた MySQL クライアントが必要です。通常、<span class="bold"><strong>readline</strong></span> ライブラリは Windows では使用できません。
            </p></div></li><li class="listitem"><p><a name="option_mysql_auto-vertical-output"></a>
            <a class="indexterm" name="idm139979156802528"></a> <a class="indexterm" name="idm139979156800352"></a> <code class="option">--auto-vertical-output</code>
          </p><p>
            結果セットが現在のウィンドウに対して大きすぎる場合には縦に表示され、そうでない場合は通常の表形式が使用されるようになります。(これは、<code class="literal">;</code> または <code class="literal">\G</code> で終了するステートメントに適用されます。)
          </p></li><li class="listitem"><p><a name="option_mysql_batch"></a>
            <a class="indexterm" name="idm139979156794096"></a> <a class="indexterm" name="idm139979156791952"></a> <code class="option">--batch</code>, <code class="option">-B</code>
          </p><p>
            カラム区切り文字としてタブを使用し、各行を新しい行に出力します。このオプションでは、<span class="command"><strong>mysql</strong></span> は履歴ファイルを使用しません。
          </p><p>
            バッチモードでは、表形式でない出力が生成され、特殊文字のエスケープ処理が行われます。raw モードを使用すれば、エスケープ処理を無効にできます。<code class="option">--raw</code> オプションの説明を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysql_binary-mode"></a>
            <a class="indexterm" name="idm139979156784496"></a> <a class="indexterm" name="idm139979156782352"></a> <code class="option">--binary-mode</code>
          </p><p>
            このオプションは、<code class="literal">BLOB</code> 値を含む可能性のある <span class="command"><strong>mysqlbinlog</strong></span> の出力を処理する場合に便利です。<span class="command"><strong>mysql</strong></span> は、デフォルトではステートメント文字列内の <code class="literal">\r\n</code> を <code class="literal">\n</code> に変換し、<code class="literal">\0</code> をステートメント終端記号と解釈します。<code class="option">--binary-mode</code> ではこの両方の機能が無効になります。また、非インタラクティブモード (<span class="command"><strong>mysql</strong></span> にパイプされた入力または <code class="literal">source</code> コマンドでロードされた入力) の <code class="literal">charset</code> および <code class="literal">delimiter</code> を除いて、すべての <span class="command"><strong>mysql</strong></span> コマンドも無効になります。
          </p><p>
            このオプションは MySQL 5.6.3 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysql_bind-address"></a>
            <a class="indexterm" name="idm139979156767648"></a> <a class="indexterm" name="idm139979156765488"></a> <code class="option">--bind-address=<em class="replaceable"><code>ip_address</code></em></code>
          </p><p>
            複数のネットワークインタフェースを持つコンピュータで、このオプションを使用して、MySQL サーバーへの接続に使用するインタフェースを選択します。
          </p><p>
            このオプションは MySQL 5.6.1 からサポートされています。
          </p></li><li class="listitem"><p><a name="option_mysql_character-sets-dir"></a>
            <a class="indexterm" name="idm139979156759840"></a> <a class="indexterm" name="idm139979156757680"></a> <code class="option">--character-sets-dir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            文字セットがインストールされているディレクトリ。<a class="xref" href="globalization.html#charset-configuration" title="10.5 文字セットの構成">セクション10.5「文字セットの構成」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysql_column-names"></a>
            <a class="indexterm" name="idm139979156752192"></a> <a class="indexterm" name="idm139979156750064"></a> <code class="option">--column-names</code>
          </p><p>
            結果にカラム名を記述します。
          </p></li><li class="listitem"><p><a name="option_mysql_column-type-info"></a>
            <a class="indexterm" name="idm139979156745648"></a> <a class="indexterm" name="idm139979156743488"></a> <code class="option">--column-type-info</code>, <code class="option">-m</code>
          </p><p>
            結果セットのメタデータを表示します。
          </p></li><li class="listitem"><p><a name="option_mysql_comments"></a>
            <a class="indexterm" name="idm139979156738656"></a> <a class="indexterm" name="idm139979156736512"></a> <code class="option">--comments</code>, <code class="option">-c</code>
          </p><p>
            サーバーに送信されたステートメント内のコメントを保持するかどうかを指定します。デフォルトは --skip-comments (コメントを破棄) であり、--comments (コメントを保持) で有効になります。
          </p></li><li class="listitem"><p><a name="option_mysql_compress"></a>
            <a class="indexterm" name="idm139979156731264"></a> <a class="indexterm" name="idm139979156729120"></a> <code class="option">--compress</code>, <code class="option">-C</code>
          </p><p>
            クライアントとサーバーの両方が圧縮をサポートしている場合、その間で送受信される情報をすべて圧縮します。
          </p></li><li class="listitem"><p><a name="option_mysql_connect-expired-password"></a>
            <a class="indexterm" name="idm139979156724064"></a> <a class="indexterm" name="idm139979156721824"></a> <code class="option">--connect-expired-password</code>
          </p><p>
            サーバーに対し、接続に使用されたアカウントのパスワードの期限が切れている場合に、クライアントがサンドボックスモードを処理できることを示します。通常サーバーは、パスワードの期限の切れたアカウントを使用して接続を試みる非インタラクティブなクライアントを切断するため、これは非インタラクティブに <span class="command"><strong>mysql</strong></span> を起動する場合に便利です。(<a class="xref" href="security.html#password-expiration-sandbox-mode" title="6.3.6 パスワードの期限切れとサンドボックスモード">セクション6.3.6「パスワードの期限切れとサンドボックスモード」</a>を参照してください。)このオプションは MySQL 5.6.12 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysql_database"></a>
            <a class="indexterm" name="idm139979156715248"></a> <a class="indexterm" name="idm139979156713104"></a> <code class="option">--database=<em class="replaceable"><code>db_name</code></em></code>, <code class="option">-D <em class="replaceable"><code>db_name</code></em></code>
          </p><p>
            使用するデータベース。これは主に、オプションファイルで便利です。
          </p></li><li class="listitem"><p><a name="option_mysql_debug"></a>
            <a class="indexterm" name="idm139979156707696"></a> <a class="indexterm" name="idm139979156705552"></a> <code class="option">--debug[=<em class="replaceable"><code>debug_options</code></em>]</code>, <code class="option">-# [<em class="replaceable"><code>debug_options</code></em>]</code>
          </p><p>
            デバッグのログを書き込みます。一般的な <em class="replaceable"><code>debug_options</code></em> 文字列は <code class="literal">d:t:o,<em class="replaceable"><code>file_name</code></em></code> です。デフォルトは <code class="literal">d:t:o,/tmp/mysql.trace</code> です。
          </p></li><li class="listitem"><p><a name="option_mysql_debug-check"></a>
            <a class="indexterm" name="idm139979156697616"></a> <a class="indexterm" name="idm139979156695472"></a> <code class="option">--debug-check</code>
          </p><p>
            プログラムの終了時に、デバッグ情報を出力します。
          </p></li><li class="listitem"><p><a name="option_mysql_debug-info"></a>
            <a class="indexterm" name="idm139979156690992"></a> <a class="indexterm" name="idm139979156688832"></a> <code class="option">--debug-info</code>, <code class="option">-T</code>
          </p><p>
            プログラムの終了時に、デバッグ情報とメモリーおよび CPU 使用率の統計を出力します。
          </p></li><li class="listitem"><p><a name="option_mysql_default-auth"></a>
            <a class="indexterm" name="idm139979156683824"></a> <a class="indexterm" name="idm139979156681664"></a> <code class="option">--default-auth=<em class="replaceable"><code>plugin</code></em></code>
          </p><p>
            使用するクライアント側の認証プラグイン。<a class="xref" href="security.html#pluggable-authentication" title="6.3.7 プラガブル認証">セクション6.3.7「プラガブル認証」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysql_default-character-set"></a>
            <a class="indexterm" name="idm139979156676208"></a> <a class="indexterm" name="idm139979156673968"></a> <code class="option">--default-character-set=<em class="replaceable"><code>charset_name</code></em></code>
          </p><p>
            クライアントおよび接続で、<em class="replaceable"><code>charset_name</code></em> をデフォルト文字セットとして使用します。
          </p><p>
            オペレーティングシステムが <code class="literal">utf8</code> またはその他のマルチバイト文字セットを使用する場合に生じる一般的な問題は、MySQL クライアントがデフォルトで <code class="literal">latin1</code> 文字セットを使用するため、<span class="command"><strong>mysql</strong></span> クライアントからの出力が正しくフォーマットされないことです。このような問題は通常、このオプションを使用して、クライアントが代わりにシステムの文字セットを使用するように強制することで解決できます。
          </p><p>
            詳細は、<a class="xref" href="globalization.html#charset-configuration" title="10.5 文字セットの構成">セクション10.5「文字セットの構成」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysql_defaults-extra-file"></a>
            <a class="indexterm" name="idm139979156663888"></a> <a class="indexterm" name="idm139979156661760"></a> <code class="option">--defaults-extra-file=<em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            このオプションファイルは、グローバルオプションファイルのあとに読み取りますが、(UNIX では) ユーザーオプションファイルの前に読み取るようにしてください。ファイルが存在しないかアクセスできない場合、エラーが発生します。<em class="replaceable"><code>file_name</code></em> は、フルパス名でなく相対パス名として指定された場合、現行ディレクトリを基準にして解釈されます。
          </p></li><li class="listitem"><p><a name="option_mysql_defaults-file"></a>
            <a class="indexterm" name="idm139979156655760"></a> <a class="indexterm" name="idm139979156653600"></a> <code class="option">--defaults-file=<em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            指定されたオプションファイルのみ使用します。ファイルが存在しないかアクセスできない場合、エラーが発生します。<em class="replaceable"><code>file_name</code></em> は、フルパス名でなく相対パス名として指定された場合、現行ディレクトリを基準にして解釈されます。
          </p></li><li class="listitem"><p><a name="option_mysql_defaults-group-suffix"></a>
            <a class="indexterm" name="idm139979156647872"></a> <a class="indexterm" name="idm139979156645632"></a> <code class="option">--defaults-group-suffix=<em class="replaceable"><code>str</code></em></code>
          </p><p>
            通常のオプショングループだけでなく、通常の名前に <em class="replaceable"><code>str</code></em> のサフィクスが付いたグループも読み取ります。たとえば、<span class="command"><strong>mysql</strong></span> は通常 <code class="literal">[client]</code> グループおよび <code class="literal">[mysql]</code> グループを読み取ります。<code class="option">--defaults-group-suffix=_other</code> オプションを指定した場合、<span class="command"><strong>mysql</strong></span> は <code class="literal">[client_other]</code> グループおよび <code class="literal">[mysql_other]</code> グループも読み取ります。
          </p></li><li class="listitem"><p><a name="option_mysql_delimiter"></a>
            <a class="indexterm" name="idm139979156635072"></a> <a class="indexterm" name="idm139979156632912"></a> <code class="option">--delimiter=<em class="replaceable"><code>str</code></em></code>
          </p><p>
            ステートメント区切り文字を設定します。デフォルトはセミコロン (<span class="quote">「<span class="quote"><code class="literal">;</code></span>」</span>) 文字です。
          </p></li><li class="listitem"><p><a name="option_mysql_disable-named-commands"></a>
            <a class="indexterm" name="idm139979156627248"></a> <a class="indexterm" name="idm139979156625072"></a> <code class="option">--disable-named-commands</code>
          </p><p>
            名前付きコマンドを無効化します。<code class="literal">\*</code> 形式のみを使用します。または、セミコロン (<span class="quote">「<span class="quote"><code class="literal">;</code></span>」</span>) で終わる行の先頭でのみ名前付きコマンドを使用します。<span class="command"><strong>mysql</strong></span> の起動時に、このオプションはデフォルトで<span class="emphasis"><em>有効</em></span>になっています。ただし、このオプションを使用しても、ロング形式コマンドは最初の行から効果を発揮します。<a class="xref" href="programs.html#mysql-commands" title="4.5.1.2 mysql コマンド">セクション4.5.1.2「mysql コマンド」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysql_enable-cleartext-plugin"></a>
            <a class="indexterm" name="idm139979156616464"></a> <a class="indexterm" name="idm139979156614256"></a> <code class="option">--enable-cleartext-plugin</code>
          </p><p>
            <code class="literal">mysql_clear_password</code> 平文認証プラグインを有効にします。(<a class="xref" href="security.html#cleartext-authentication-plugin" title="6.3.8.7 クライアント側のクリアテキスト認証プラグイン">セクション6.3.8.7「クライアント側のクリアテキスト認証プラグイン」</a>を参照してください。)このオプションは MySQL 5.6.7 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysql_execute"></a>
            <a class="indexterm" name="idm139979156608368"></a> <a class="indexterm" name="idm139979156606224"></a> <code class="option">--execute=<em class="replaceable"><code>statement</code></em></code>, <code class="option">-e <em class="replaceable"><code>statement</code></em></code>
          </p><p>
            ステートメントを実行して、終了します。デフォルトの出力形式は、<code class="option">--batch</code> で生成されるものと同様です。例については、<a class="xref" href="programs.html#command-line-options" title="4.2.4 コマンド行でのオプションの使用">セクション4.2.4「コマンド行でのオプションの使用」</a>を参照してください。このオプションでは、<span class="command"><strong>mysql</strong></span> は履歴ファイルを使用しません。
          </p></li><li class="listitem"><p><a name="option_mysql_force"></a>
            <a class="indexterm" name="idm139979156598416"></a> <a class="indexterm" name="idm139979156596272"></a> <code class="option">--force</code>, <code class="option">-f</code>
          </p><p>
            SQL エラーが発生しても続行します。
          </p></li><li class="listitem"><p><a name="option_mysql_histignore"></a>
            <a class="indexterm" name="idm139979156591424"></a> <a class="indexterm" name="idm139979156589264"></a> <code class="option">--histignore</code>
          </p><p>
            ロギングのために、どのステートメントを無視するかを指定する、コロン区切りの 1 つまたは複数のパターンのリスト。これらのパターンはデフォルトのパターンリスト (<code class="literal">"*IDENTIFIED*:*PASSWORD*"</code>) に追加されます。このオプションに指定された値は、履歴ファイルに書き込まれるステートメントのロギングに影響します。詳細は、<a class="xref" href="programs.html#mysql-logging" title="4.5.1.3 mysql のロギング">セクション4.5.1.3「mysql のロギング」</a>を参照してください。このオプションは MySQL 5.6.8 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysql_host"></a>
            <a class="indexterm" name="idm139979156582640"></a> <a class="indexterm" name="idm139979156580496"></a> <code class="option">--host=<em class="replaceable"><code>host_name</code></em></code>, <code class="option">-h <em class="replaceable"><code>host_name</code></em></code>
          </p><p>
            指定されたホストの MySQL サーバーに接続します。
          </p></li><li class="listitem"><p><a name="option_mysql_html"></a>
            <a class="indexterm" name="idm139979156575088"></a> <a class="indexterm" name="idm139979156572944"></a> <code class="option">--html</code>, <code class="option">-H</code>
          </p><p>
            HTML 出力を生成します。
          </p></li><li class="listitem"><p><a name="option_mysql_ignore-spaces"></a>
            <a class="indexterm" name="idm139979156568080"></a> <a class="indexterm" name="idm139979156565920"></a> <code class="option">--ignore-spaces</code>, <code class="option">-i</code>
          </p><p>
            関数名の後ろのスペースを無視します。これの効果は、<code class="literal">IGNORE_SPACE</code> SQL モード (<a class="xref" href="server-administration.html#sql-mode" title="5.1.7 サーバー SQL モード">セクション5.1.7「サーバー SQL モード」</a>を参照してください) に関する議論で説明されています。
          </p></li><li class="listitem"><p><a name="option_mysql_init-command"></a>
            <a class="indexterm" name="idm139979156559216"></a> <a class="indexterm" name="idm139979156557088"></a> <code class="option">--init-command=str</code>
          </p><p>
            サーバーへの接続後に実行する SQL ステートメント。auto-reconnect が有効の場合、ステートメントは再接続が生じたあとに再度実行されます。
          </p></li><li class="listitem"><p><a name="option_mysql_line-numbers"></a>
            <a class="indexterm" name="idm139979156552304"></a> <a class="indexterm" name="idm139979156550144"></a> <code class="option">--line-numbers</code>
          </p><p>
            エラーの行番号を書き込みます。<code class="option">--skip-line-numbers</code> で無効にできます。
          </p></li><li class="listitem"><p><a name="option_mysql_local-infile"></a>
            <a class="indexterm" name="idm139979156544896"></a> <a class="indexterm" name="idm139979156542736"></a> <code class="option">--local-infile[={0|1}]</code>
          </p><p>
            <code class="literal">LOAD DATA INFILE</code> で <code class="literal">LOCAL</code> 機能を有効または無効にします。値がない場合、オプションは <code class="literal">LOCAL</code> を有効にします。このオプションは、<code class="literal">LOCAL</code> を明示的に有効または無効にするため、<code class="option">--local-infile=0</code> または <code class="option">--local-infile=1</code> として指定できます。サーバーも <code class="literal">LOCAL</code> をサポートしていない場合、有効にしても効果はありません。
          </p></li><li class="listitem"><p><a name="option_mysql_login-path"></a>
            <a class="indexterm" name="idm139979156532256"></a> <a class="indexterm" name="idm139979156530096"></a> <code class="option">--login-path=<em class="replaceable"><code>name</code></em></code>
          </p><p>
            指名されたログインパスから <code class="filename">.mylogin.cnf</code> ログインファイルのオプションを読み取ります。<span class="quote">「<span class="quote">ログインパス</span>」</span>は、<code class="option">host</code>、<code class="option">user</code>、および <code class="option">password</code> という限定されたオプションのセットのみを許可するオプショングループです。ログインパスは、サーバーホストおよびそのサーバーで認証するための認証情報を示す値のセットであると考えてください。ログインパスファイルを作成するには、<span class="command"><strong>mysql_config_editor</strong></span> ユーティリティーを使用します。<a class="xref" href="programs.html#mysql-config-editor" title="4.6.6 mysql_config_editor — MySQL 構成ユーティリティー">セクション4.6.6「<span class="command"><strong>mysql_config_editor</strong></span> — MySQL 構成ユーティリティー」</a>を参照してください。このオプションは MySQL 5.6.6 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysql_named-commands"></a>
            <a class="indexterm" name="idm139979156520544"></a> <a class="indexterm" name="idm139979156518416"></a> <code class="option">--named-commands</code>, <code class="option">-G</code>
          </p><p>
            名前付き <span class="command"><strong>mysql</strong></span> コマンドを有効にします。ショート形式のコマンドのみではなく、ロング形式のコマンドが許可されます。たとえば、<code class="literal">quit</code> と <code class="literal">\q</code> は両方認識されます。名前付きコマンドを無効化するには、<code class="option">--skip-named-commands</code> を使用します。<a class="xref" href="programs.html#mysql-commands" title="4.5.1.2 mysql コマンド">セクション4.5.1.2「mysql コマンド」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysql_no-auto-rehash"></a>
            <a class="indexterm" name="idm139979156509248"></a> <a class="indexterm" name="idm139979156507120"></a> <code class="option">--no-auto-rehash</code>, <code class="option">-A</code>
          </p><p>
            これは <code class="option">--skip-auto-rehash</code> と同様の効果を持ちます。<code class="option">--auto-rehash</code> の説明を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysql_no-beep"></a>
            <a class="indexterm" name="idm139979156500480"></a> <a class="indexterm" name="idm139979156498320"></a> <code class="option">--no-beep</code>, <code class="option">-b</code>
          </p><p>
            エラー時に音を発生させません。
          </p></li><li class="listitem"><p><a name="option_mysql_no-defaults"></a>
            <a class="indexterm" name="idm139979156493520"></a> <a class="indexterm" name="idm139979156491376"></a> <code class="option">--no-defaults</code>
          </p><p>
            オプションファイルを読み取りません。オプションファイルから不明のオプションを読み取ることが原因でプログラムの起動に失敗する場合、<code class="option">--no-defaults</code> を使用して、オプションを読み取らないようにできます。
          </p><p>
            例外として、<code class="filename">.mylogin.cnf</code> ファイルは、存在する場合はすべての場合に読み取られます。これにより、<code class="option">--no-defaults</code> が使用されたとしても、コマンド行よりも安全な方法でパスワードを指定できます。(<code class="filename">.mylogin.cnf</code> は <span class="command"><strong>mysql_config_editor</strong></span> ユーティリティーによって作成されます。<a class="xref" href="programs.html#mysql-config-editor" title="4.6.6 mysql_config_editor — MySQL 構成ユーティリティー">セクション4.6.6「<span class="command"><strong>mysql_config_editor</strong></span> — MySQL 構成ユーティリティー」</a>を参照してください)。
          </p></li><li class="listitem"><p><a name="option_mysql_one-database"></a>
            <a class="indexterm" name="idm139979156481152"></a> <a class="indexterm" name="idm139979156479024"></a> <code class="option">--one-database</code>, <code class="option">-o</code>
          </p><p>
            デフォルトデータベースがコマンド行で指定されたものである間に生じるステートメント以外を無視します。このオプションは初歩的なものであり、注意して使用してください。ステートメントのフィルタリングは <code class="literal">USE</code> ステートメントのみに基づいています。
          </p><p>
            最初、<span class="command"><strong>mysql</strong></span> は入力内のステートメントを実行します。これは、データベース <em class="replaceable"><code>db_name</code></em> をコマンド行で指定することは <code class="literal">USE <em class="replaceable"><code>db_name</code></em></code> を入力の最初に挿入することと同等であるためです。次に、<code class="literal">USE</code> ステートメントを検出するたびに、<span class="command"><strong>mysql</strong></span> は、指名されたデータベースがコマンド行のものであるかによって、後続のステートメントを受け入れまたは拒否します。ステートメントの内容は重要ではありません。
          </p><p>
            <span class="command"><strong>mysql</strong></span> が次の一連のステートメントを処理するために起動されたとします。
          </p><pre class="programlisting">
DELETE FROM db2.t2;
USE db2;
DROP TABLE db1.t1;
CREATE TABLE db1.t1 (i INT);
USE db1;
INSERT INTO t1 (i) VALUES(1);
CREATE TABLE db2.t1 (j INT);
</pre><p>
            コマンド行が <span class="command"><strong>mysql --force --one-database db1</strong></span> の場合、<span class="command"><strong>mysql</strong></span> は入力を次のように処理します。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">DELETE</code> ステートメントでは別のデータベースのテーブルが指名されていますが、デフォルトデータベースは <code class="literal">db1</code> であるため、このステートメントは実行されます。
              </p></li><li class="listitem"><p>
                <code class="literal">DROP TABLE</code> ステートメントおよび <code class="literal">CREATE TABLE</code> ステートメントでは <code class="literal">db1</code> のテーブルを指名していますが、デフォルトデータベースが <code class="literal">db1</code> ではないため、これらのステートメントは実行されません。
              </p></li><li class="listitem"><p>
                <code class="literal">CREATE TABLE</code> ステートメントでは別のデータベースのテーブルが指名されていますが、デフォルトデータベースは <code class="literal">db1</code> であるため、<code class="literal">INSERT</code> ステートメントおよび <code class="literal">CREATE TABLE</code> ステートメントは実行されます。
              </p></li></ul></div></li><li class="listitem"><p><a name="option_mysql_pager"></a>
            <a class="indexterm" name="idm139979156449968"></a> <a class="indexterm" name="idm139979156447824"></a> <code class="option">--pager[=<em class="replaceable"><code>command</code></em>]</code>
          </p><p>
            クエリー出力のページングに、指定されたコマンドを使用します。このコマンドが省略された場合、デフォルトのページャーは <code class="literal">PAGER</code> 環境変数の値となります。有効なページャーは、<span class="command"><strong>less</strong></span>、<span class="command"><strong>more</strong></span>、<span class="command"><strong>cat [&gt; filename]</strong></span>、などです。このオプションは Unix でインタラクティブモードの場合のみ機能します。ページングを無効化するには、<code class="option">--skip-pager</code> を使用してください。<a class="xref" href="programs.html#mysql-commands" title="4.5.1.2 mysql コマンド">セクション4.5.1.2「mysql コマンド」</a>には出力のページングの詳細説明があります。
          </p></li><li class="listitem"><p><a name="option_mysql_password"></a>
            <a class="indexterm" name="idm139979156437824"></a> <a class="indexterm" name="idm139979156435680"></a> <code class="option">--password[=<em class="replaceable"><code>password</code></em>]</code>, <code class="option">-p[<em class="replaceable"><code>password</code></em>]</code>
          </p><p>
            サーバーに接続する際に使用するパスワードです。短いオプション形式 (<code class="option">-p</code>) を使用した場合は、オプションとパスワードの間にスペースを置くことは<span class="emphasis"><em>できません</em></span>。コマンド行で、<code class="option">--password</code> オプションまたは <code class="option">-p</code> オプションに続けて <em class="replaceable"><code>password</code></em> の値を指定しなかった場合、<span class="command"><strong>mysql</strong></span> はそれを要求します。
          </p><p>
            コマンド行でのパスワード指定は、セキュアでないと考えるべきです。<a class="xref" href="security.html#password-security-user" title="6.1.2.1 パスワードセキュリティーのためのエンドユーザーガイドライン">セクション6.1.2.1「パスワードセキュリティーのためのエンドユーザーガイドライン」</a>を参照してください。オプションファイルを使用すれば、コマンド行でパスワードを指定することを回避できます。
          </p></li><li class="listitem"><p><a name="option_mysql_pipe"></a>
            <a class="indexterm" name="idm139979156424944"></a> <a class="indexterm" name="idm139979156422800"></a> <code class="option">--pipe</code>, <code class="option">-W</code>
          </p><p>
            Windows で、名前付きパイプを使用してサーバーに接続します。このオプションは、サーバーが名前付きパイプ接続をサポートしている場合にのみ適用されます。
          </p></li><li class="listitem"><p><a name="option_mysql_plugin-dir"></a>
            <a class="indexterm" name="idm139979156417664"></a> <a class="indexterm" name="idm139979156415504"></a> <code class="option">--plugin-dir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            プラグインを検索するディレクトリ。<code class="option">--default-auth</code> オプションを使用して認証プラグインを指定したが、<span class="command"><strong>mysql</strong></span> がそれを検出できない場合は、このオプションを指定しなければならない可能性があります。<a class="xref" href="security.html#pluggable-authentication" title="6.3.7 プラガブル認証">セクション6.3.7「プラガブル認証」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysql_port"></a>
            <a class="indexterm" name="idm139979156408208"></a> <a class="indexterm" name="idm139979156406064"></a> <a class="indexterm" name="idm139979156404112"></a> <code class="option">--port=<em class="replaceable"><code>port_num</code></em></code>, <code class="option">-P <em class="replaceable"><code>port_num</code></em></code>
          </p><p>
            接続に使用する TCP/IP ポート番号。
          </p></li><li class="listitem"><p><a name="option_mysql_print-defaults"></a>
            <a class="indexterm" name="idm139979156399344"></a> <a class="indexterm" name="idm139979156397184"></a> <code class="option">--print-defaults</code>
          </p><p>
            プログラム名と、オプションファイルから受け取るすべてのオプションを出力します。
          </p></li><li class="listitem"><p><a name="option_mysql_prompt"></a>
            <a class="indexterm" name="idm139979156392592"></a> <a class="indexterm" name="idm139979156390448"></a> <code class="option">--prompt=<em class="replaceable"><code>format_str</code></em></code>
          </p><p>
            プロンプトを指定された形式に設定します。デフォルトは <code class="literal">mysql&gt;</code> です。プロンプト内に含めることができる特別なシーケンスは、<a class="xref" href="programs.html#mysql-commands" title="4.5.1.2 mysql コマンド">セクション4.5.1.2「mysql コマンド」</a>で説明されています。
          </p></li><li class="listitem"><p><a name="option_mysql_protocol"></a>
            <a class="indexterm" name="idm139979156384112"></a> <a class="indexterm" name="idm139979156381968"></a> <code class="option">--protocol={TCP|SOCKET|PIPE|MEMORY}</code>
          </p><p>
            サーバーへの接続に使用する接続プロトコル。このオプションは、ほかの接続パラメータによって、必要なプロトコル以外のものが通常使用される場合に役立ちます。許可される値の詳細は、<a class="xref" href="programs.html#connecting" title="4.2.2 MySQL サーバーへの接続">セクション4.2.2「MySQL サーバーへの接続」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysql_quick"></a>
            <a class="indexterm" name="idm139979156376432"></a> <a class="indexterm" name="idm139979156374288"></a> <code class="option">--quick</code>, <code class="option">-q</code>
          </p><p>
            各クエリー結果をキャッシュせず、各行を受信ししだい出力します。出力が遅延された場合、サーバーの速度が低下することがあります。このオプションでは、<span class="command"><strong>mysql</strong></span> は履歴ファイルを使用しません。
          </p></li><li class="listitem"><p><a name="option_mysql_raw"></a>
            <a class="indexterm" name="idm139979156368304"></a> <a class="indexterm" name="idm139979156366176"></a> <code class="option">--raw</code>, <code class="option">-r</code>
          </p><p>
            表形式の出力では、カラムを<span class="quote">「<span class="quote">枠で囲む</span>」</span>ことにより、1 つのカラム値を別のカラム値と区別できます。表形式でない出力 (バッチモードで生成される場合や <code class="option">--batch</code> または <code class="option">--silent</code> オプションを指定した場合など) では、簡単に識別できるように特殊文字が出力時にエスケープされます。改行、タブ、<code class="literal">NUL</code>、およびバックスラッシュはそれぞれ、<code class="literal">\n</code>、<code class="literal">\t</code>、<code class="literal">\0</code>、および <code class="literal">\\</code> と記述されます。<code class="option">--raw</code> オプションを指定すると、この文字のエスケープ処理は無効になります。
          </p><p>
            次の例は、表形式と表形式でない出力の違い、および raw モードを使用してエスケープ処理を無効にした場合を示しています。
          </p><pre class="programlisting">
% <strong class="userinput"><code>mysql</code></strong>
mysql&gt; SELECT CHAR(92);
+----------+
| CHAR(92) |
+----------+
| \        |
+----------+

% <strong class="userinput"><code>mysql -s</code></strong>
mysql&gt; SELECT CHAR(92);
CHAR(92)
\\

% <strong class="userinput"><code>mysql -s -r</code></strong>
mysql&gt; SELECT CHAR(92);
CHAR(92)
\
</pre></li><li class="listitem"><p><a name="option_mysql_reconnect"></a>
            <a class="indexterm" name="idm139979156350720"></a> <a class="indexterm" name="idm139979156348560"></a> <code class="option">--reconnect</code>
          </p><p>
            サーバーとの接続が失われたとき、再接続を自動的に試行します。接続が失われるたびに一度再接続が試みられます。再接続動作を抑制するには、<code class="option">--skip-reconnect</code> を使用します。
          </p></li><li class="listitem"><p><a name="option_mysql_safe-updates"></a>
            <a class="indexterm" name="idm139979156342768"></a> <a class="indexterm" name="idm139979156340608"></a> <a class="indexterm" name="idm139979156338624"></a> <a class="indexterm" name="idm139979156336416"></a> <code class="option">--safe-updates</code>, <code class="option">--i-am-a-dummy</code>, <code class="option">-U</code>
          </p><p>
            キー値を使用して変更する行を指定する <code class="literal">UPDATE</code> ステートメントおよび <code class="literal">DELETE</code> ステートメントのみを許可します。このオプションをオプションファイル内で設定した場合、<code class="option">--safe-updates</code> をコマンド行で使用することでオーバーライドできます。このオプションについては、<a class="xref" href="programs.html#mysql-tips" title="4.5.1.6 mysql のヒント">セクション4.5.1.6「mysql のヒント」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysql_secure-auth"></a>
            <a class="indexterm" name="idm139979156326448"></a> <a class="indexterm" name="idm139979156324336"></a> <code class="option">--secure-auth</code>
          </p><p>
            古い (4.1 より前の) 形式でサーバーにパスワードを送信しません。これにより、新しいパスワード形式を使用するサーバー以外への接続を防ぎます。MySQL 5.6.7 では、このオプションはデフォルトで有効です。無効にするには <code class="option">--skip-secure-auth</code> を使用します。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              4.1 より前のハッシュ方式を使用するパスワードはネイティブのパスワードハッシュ方式を使用するパスワードよりもセキュアでないため、使用しないようにしてください。4.1 よりも前のパスワードは非推奨であり、これらのサポートは今後の MySQL リリースで削除される予定です。アカウントのアップグレード手順については、<a class="xref" href="security.html#account-upgrades" title="6.3.8.3 4.1 よりも前のパスワードハッシュ方式と mysql_old_password プラグインからの移行">セクション6.3.8.3「4.1 よりも前のパスワードハッシュ方式と mysql_old_password プラグインからの移行」</a>を参照してください。
            </p></div></li><li class="listitem"><p><a name="option_mysql_server-public-key-path"></a>
            <a class="indexterm" name="idm139979156316176"></a> <a class="indexterm" name="idm139979156314000"></a> <code class="option">--server-public-key-path=<code class="filename">file_name</code></code>
          </p><p>
            サーバー RSA 公開鍵を含むファイルへのパス名。ファイルは PEM 形式である必要があります。公開鍵は、<code class="literal">sha256_password</code> プラグインによって認証するアカウントを使用して、サーバーへの接続を作成するためのクライアントパスワードの RSA 暗号化に使用されます。このオプションは、そのプラグインによって認証しないクライアントアカウントに対しては無視されます。さらに、クライアントが SSL 接続を使用して、サーバーに接続する場合のように、パスワード暗号化が必要でない場合も無視されます。
          </p><p>
            サーバーは必要に応じて公開鍵をクライアントに送信するため、RSA パスワードの暗号化が行われるように、このオプションを使う必要はありません。そうすることで、サーバーは鍵を送信する必要がないため、効率が向上します。
          </p><p>
            RSA 公開鍵の取得方法を含め、<code class="literal">sha256_password</code> プラグインの使用に関する追加の説明については、<a class="xref" href="security.html#sha256-authentication-plugin" title="6.3.8.4 SHA-256 認証プラグイン">セクション6.3.8.4「SHA-256 認証プラグイン」</a>を参照してください。
          </p><p>
            このオプションは、MySQL が OpenSSL を使用してビルドされている場合のみ利用できます。MySQL 5.6.6 で <code class="option">--server-public-key</code> という名前で追加され、5.6.7 で <code class="option">--server-public-key-path</code> に名前変更されました。
          </p></li><li class="listitem"><p><a name="option_mysql_shared-memory-base-name"></a>
            <a class="indexterm" name="idm139979156302544"></a> <a class="indexterm" name="idm139979156300304"></a> <code class="option">--shared-memory-base-name=<em class="replaceable"><code>name</code></em></code>
          </p><p>
            Windows で、共有メモリーを使用して作成されるローカルサーバーへの接続の共有メモリー名。デフォルト値は <code class="literal">MYSQL</code> です。共有メモリー名では大文字と小文字を区別します。
          </p><p>
            共有メモリー接続を可能にするには、サーバーは <code class="option">--shared-memory</code> オプションで起動する必要があります。
          </p></li><li class="listitem"><p><a name="option_mysql_show-warnings"></a>
            <a class="indexterm" name="idm139979156293072"></a> <a class="indexterm" name="idm139979156290912"></a> <code class="option">--show-warnings</code>
          </p><p>
            警告が存在する場合、各ステートメント後に表示させます。このオプションはインタラクティブとバッチモードにのみ対応しています。
          </p></li><li class="listitem"><p><a name="option_mysql_sigint-ignore"></a>
            <a class="indexterm" name="idm139979156286144"></a> <a class="indexterm" name="idm139979156283984"></a> <code class="option">--sigint-ignore</code>
          </p><p>
            <code class="literal">SIGINT</code> 信号を無視します (通常、<span class="keycap"><strong>Control+C</strong></span> を入力した結果)。
          </p></li><li class="listitem"><p><a name="option_mysql_silent"></a>
            <a class="indexterm" name="idm139979156278192"></a> <a class="indexterm" name="idm139979156276048"></a> <code class="option">--silent</code>, <code class="option">-s</code>
          </p><p>
            サイレントモード。出力の生成を少なくします。このオプションを複数回指定して、出力の生成をさらに少なくできます。
          </p><p>
            このオプションでは、表形式でない出力が生成され、特殊文字のエスケープ処理が行われます。raw モードを使用すれば、エスケープ処理を無効にできます。<code class="option">--raw</code> オプションの説明を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysql_skip-column-names"></a>
            <a class="indexterm" name="idm139979156269280"></a> <a class="indexterm" name="idm139979156267120"></a> <code class="option">--skip-column-names</code>, <code class="option">-N</code>
          </p><p>
            結果にカラム名を記述しません。
          </p></li><li class="listitem"><p><a name="option_mysql_skip-line-numbers"></a>
            <a class="indexterm" name="idm139979156262192"></a> <a class="indexterm" name="idm139979156260032"></a> <code class="option">--skip-line-numbers</code>, <code class="option">-L</code>
          </p><p>
            エラーの行番号を書き込みません。エラーメッセージを含む結果ファイルを比較する場合に便利です。
          </p></li><li class="listitem"><p><a name="option_mysql_socket"></a>
            <a class="indexterm" name="idm139979156255088"></a> <a class="indexterm" name="idm139979156252944"></a> <code class="option">--socket=<em class="replaceable"><code>path</code></em></code>, <code class="option">-S <em class="replaceable"><code>path</code></em></code>
          </p><p>
            <code class="literal">localhost</code> への接続用に使用する、Unix ソケットファイル、または Windows では使用する名前付きパイプの名前。
          </p></li><li class="listitem"><p><a name="option_mysql_ssl"></a>
            <a class="indexterm" name="idm139979156246736"></a> <a class="indexterm" name="idm139979156244608"></a> <code class="option">--ssl*</code>
          </p><p>
            <code class="option">--ssl</code> で始まるオプションは、SSL を使用してサーバーに接続することを許可するかどうかを指定し、SSL 鍵および証明書を検索する場所を指定します。<a class="xref" href="security.html#ssl-options" title="6.3.10.4 SSL コマンドのオプション">セクション6.3.10.4「SSL コマンドのオプション」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysql_table"></a>
            <a class="indexterm" name="idm139979156238848"></a> <a class="indexterm" name="idm139979156236704"></a> <code class="option">--table</code>, <code class="option">-t</code>
          </p><p>
            出力を表形式で表示します。インタラクティブに使用する場合はこれがデフォルトですが、バッチモードで表形式の出力を生成するのにも使用できます。
          </p></li><li class="listitem"><p><a name="option_mysql_tee"></a>
            <a class="indexterm" name="idm139979156231584"></a> <a class="indexterm" name="idm139979156229456"></a> <code class="option">--tee=<em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            出力のコピーを指定されたファイルに追加します。このオプションはインタラクティブモードの場合のみ機能します。<a class="xref" href="programs.html#mysql-commands" title="4.5.1.2 mysql コマンド">セクション4.5.1.2「mysql コマンド」</a>で、tee ファイルについて詳細に説明しています。
          </p></li><li class="listitem"><p><a name="option_mysql_unbuffered"></a>
            <a class="indexterm" name="idm139979156223824"></a> <a class="indexterm" name="idm139979156221664"></a> <code class="option">--unbuffered</code>, <code class="option">-n</code>
          </p><p>
            各クエリー後にバッファーをフラッシュします。
          </p></li><li class="listitem"><p><a name="option_mysql_user"></a>
            <a class="indexterm" name="idm139979156216768"></a> <a class="indexterm" name="idm139979156214624"></a> <code class="option">--user=<em class="replaceable"><code>user_name</code></em></code>, <code class="option">-u <em class="replaceable"><code>user_name</code></em></code>
          </p><p>
            サーバーへの接続時に使用する MySQL ユーザー名。
          </p></li><li class="listitem"><p><a name="option_mysql_verbose"></a>
            <a class="indexterm" name="idm139979156209216"></a> <a class="indexterm" name="idm139979156207072"></a> <code class="option">--verbose</code>, <code class="option">-v</code>
          </p><p>
            冗長モード。プログラムの動作についてより多くの出力を生成します。このオプションを複数回指定して、さらに多くの出力を生成できます。(たとえば、<code class="option">-v -v -v</code> ではバッチモードでも表形式の出力を生成します。)
          </p></li><li class="listitem"><p><a name="option_mysql_version"></a>
            <a class="indexterm" name="idm139979156201440"></a> <a class="indexterm" name="idm139979156199296"></a> <code class="option">--version</code>, <code class="option">-V</code>
          </p><p>
            バージョン情報を表示して終了します。
          </p></li><li class="listitem"><p><a name="option_mysql_vertical"></a>
            <a class="indexterm" name="idm139979156194480"></a> <a class="indexterm" name="idm139979156192336"></a> <code class="option">--vertical</code>, <code class="option">-E</code>
          </p><p>
            クエリー出力行を縦に出力します (カラム値ごとに一行)。このオプションを使用しない場合、個々のステートメントを <code class="literal">\G</code> で終了させることにより、縦の出力を指定できます。
          </p></li><li class="listitem"><p><a name="option_mysql_wait"></a>
            <a class="indexterm" name="idm139979156186544"></a> <a class="indexterm" name="idm139979156184400"></a> <code class="option">--wait</code>, <code class="option">-w</code>
          </p><p>
            接続が確立できない場合、中止せずに待機してからリトライします。
          </p></li><li class="listitem"><p><a name="option_mysql_xml"></a>
            <a class="indexterm" name="idm139979156179456"></a> <a class="indexterm" name="idm139979156177328"></a> <code class="option">--xml</code>, <code class="option">-X</code>
          </p><p>
            XML 出力を生成します。
          </p><pre class="programlisting">
&lt;field name="<em class="replaceable"><code>column_name</code></em>"&gt;NULL&lt;/field&gt;
</pre><p>
            <code class="option">--xml</code> が <span class="command"><strong>mysql</strong></span> とともに使用された場合の出力は、<span class="command"><strong>mysqldump <code class="option">--xml</code></strong></span> の出力と一致します。詳細は、<a class="xref" href="programs.html#mysqldump" title="4.5.4 mysqldump — データベースバックアッププログラム">セクション4.5.4「<span class="command"><strong>mysqldump</strong></span> — データベースバックアッププログラム」</a>を参照してください。
          </p><p>
            次に示すように、XML 出力は XML 名前空間も使用します。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql --xml -uroot -e "SHOW VARIABLES LIKE 'version%'"</code></strong>
&lt;?xml version="1.0"?&gt;

&lt;resultset statement="SHOW VARIABLES LIKE 'version%'" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
&lt;row&gt;
&lt;field name="Variable_name"&gt;version&lt;/field&gt;
&lt;field name="Value"&gt;5.0.40-debug&lt;/field&gt;
&lt;/row&gt;

&lt;row&gt;
&lt;field name="Variable_name"&gt;version_comment&lt;/field&gt;
&lt;field name="Value"&gt;Source distribution&lt;/field&gt;
&lt;/row&gt;

&lt;row&gt;
&lt;field name="Variable_name"&gt;version_compile_machine&lt;/field&gt;
&lt;field name="Value"&gt;i686&lt;/field&gt;
&lt;/row&gt;

&lt;row&gt;
&lt;field name="Variable_name"&gt;version_compile_os&lt;/field&gt;
&lt;field name="Value"&gt;suse-linux-gnu&lt;/field&gt;
&lt;/row&gt;
&lt;/resultset&gt;
</pre><p>
            (Bug #25946 を参照してください。)
          </p></li></ul></div><p>
        <code class="option">--<em class="replaceable"><code>var_name</code></em>=<em class="replaceable"><code>value</code></em></code> を使用して、次の変数も設定できます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysql_connect_timeout"></a>
            <a class="indexterm" name="idm139979156162176"></a> <a class="indexterm" name="idm139979156160032"></a> <code class="literal">connect_timeout</code>
          </p><p>
            接続タイムアウトまでの秒数。(デフォルト値は <code class="literal">0</code> です。)
          </p></li><li class="listitem"><p><a name="option_mysql_max_allowed_packet"></a>
            <a class="indexterm" name="idm139979156155504"></a> <code class="literal">max_allowed_packet</code>
          </p><p>
            クライアント/サーバー通信用のバッファーの最大サイズ。デフォルトは 16M バイト、最大は 1G バイトです。
          </p></li><li class="listitem"><p><a name="option_mysql_max_join_size"></a>
            <a class="indexterm" name="idm139979156151520"></a> <code class="literal">max_join_size</code>
          </p><p>
            <code class="option">--safe-updates</code> 使用時の、自動的に設定される結合内の行の制限。(デフォルト値は 1,000,000 です。)
          </p></li><li class="listitem"><p><a name="option_mysql_net_buffer_length"></a>
            <a class="indexterm" name="idm139979156146864"></a> <code class="literal">net_buffer_length</code>
          </p><p>
            TCP/IP とソケット通信のバッファーサイズ。(デフォルト値は 16K バイトです。)
          </p></li><li class="listitem"><p><a name="option_mysql_select_limit"></a>
            <a class="indexterm" name="idm139979156142896"></a> <code class="literal">select_limit</code>
          </p><p>
            <code class="option">--safe-updates</code> 使用時の、自動的に設定される <code class="literal">SELECT</code> ステートメントの制限。(デフォルト値は 1,000 です。)
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-commands"></a>4.5.1.2 mysql コマンド</h4></div></div></div><p>
        <span class="command"><strong>mysql</strong></span> は、ユーザーが発行する各 SQL ステートメントを、実行のためサーバーに送信します。<span class="command"><strong>mysql</strong></span> 自体が解釈するコマンドもあります。これらのコマンドのリストを表示するには、<code class="literal">mysql&gt;</code> プロンプトで <code class="literal">help</code> または <code class="literal">\h</code> と入力します。
      </p><a class="indexterm" name="idm139979156132528"></a><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>help</code></strong>

List of all MySQL commands:
Note that all text commands must be first on line and end with ';'
?         (\?) Synonym for `help'.
clear     (\c) Clear command.
connect   (\r) Reconnect to the server. Optional arguments are db and host.
delimiter (\d) Set statement delimiter.
edit      (\e) Edit command with $EDITOR.
ego       (\G) Send command to mysql server, display result vertically.
exit      (\q) Exit mysql. Same as quit.
go        (\g) Send command to mysql server.
help      (\h) Display this help.
nopager   (\n) Disable pager, print to stdout.
notee     (\t) Don't write into outfile.
pager     (\P) Set PAGER [to_pager]. Print the query results via PAGER.
print     (\p) Print current command.
prompt    (\R) Change your mysql prompt.
quit      (\q) Quit mysql.
rehash    (\#) Rebuild completion hash.
source    (\.) Execute an SQL script file. Takes a file name as an argument.
status    (\s) Get status information from the server.
system    (\!) Execute a system shell command.
tee       (\T) Set outfile [to_outfile]. Append everything into given
               outfile.
use       (\u) Use another database. Takes database name as argument.
charset   (\C) Switch to another charset. Might be needed for processing
               binlog with multi-byte charsets.
warnings  (\W) Show warnings after every statement.
nowarning (\w) Don't show warnings after every statement.

For server side help, type 'help contents'
</pre><p>
        <span class="command"><strong>mysql</strong></span> が <code class="option">--binary-mode</code> オプションで起動された場合、非インタラクティブモードの <code class="literal">charset</code> および <code class="literal">delimiter</code> (<span class="command"><strong>mysql</strong></span> にパイプされた入力または <code class="literal">source</code> コマンドでロードされた入力) を除いて、すべての <span class="command"><strong>mysql</strong></span> コマンドは無効になります。
      </p><p>
        各コマンドにはそれぞれロング形式とショート形式があります。ロング形式では大文字小文字は区別されせんが、ショート形式では区別されます。ロング形式にはオプションのセミコロン終端記号があとに続くこともありますが、ショート形式ではありません。
      </p><p>
        複数行の <code class="literal">/* ... */</code> コメント内でショート形式のコマンドを使用することはサポートされていません。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <a class="indexterm" name="idm139979156117952"></a> <a class="indexterm" name="idm139979156115792"></a> <code class="literal">help [<em class="replaceable"><code>arg</code></em>]</code>, <code class="literal">\h [<em class="replaceable"><code>arg</code></em>]</code>, <code class="literal">\? [<em class="replaceable"><code>arg</code></em>]</code>, <code class="literal">? [<em class="replaceable"><code>arg</code></em>]</code>
          </p><p>
            使用可能な <span class="command"><strong>mysql</strong></span> コマンドの一覧を示すヘルプメッセージを表示します。
          </p><p>
            <code class="literal">help</code> コマンドに引数を指定した場合、<span class="command"><strong>mysql</strong></span> は、サーバー側のヘルプにアクセスして MySQL リファレンスマニュアルの内容から検索するための文字列として引数を使用します。詳細は、<a class="xref" href="programs.html#mysql-server-side-help" title="4.5.1.4 mysql サーバー側のヘルプ">セクション4.5.1.4「mysql サーバー側のヘルプ」</a>を参照してください。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979156104256"></a> <a class="indexterm" name="idm139979156102112"></a> <code class="literal">charset <em class="replaceable"><code>charset_name</code></em></code>, <code class="literal">\C <em class="replaceable"><code>charset_name</code></em></code>
          </p><p>
            デフォルトの文字セットを変更し、<code class="literal">SET NAMES</code> ステートメントを発行します。これにより、自動再接続が有効になっている状態で <span class="command"><strong>mysql</strong></span> が稼働中の場合 (これは推奨されていません) に、クライアントとサーバーの間で文字セットの同期が保持されます。これは、指定された文字セットが再接続に使用されるためです。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979156094752"></a> <a class="indexterm" name="idm139979156092592"></a> <code class="literal">clear</code>, <code class="literal">\c</code>
          </p><p>
            現在の入力をクリアします。これは、入力しているステートメントの実行を取りやめる場合に使用します。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979156087824"></a> <a class="indexterm" name="idm139979156085648"></a> <code class="literal">connect [<em class="replaceable"><code>db_name</code></em> <em class="replaceable"><code>host_name</code></em>]]</code>, <code class="literal">\r [<em class="replaceable"><code>db_name</code></em> <em class="replaceable"><code>host_name</code></em>]]</code>
          </p><p>
            サーバーに再接続します。オプションのデータベース名およびホスト名の引数を指定して、デフォルトのデータベースまたはサーバーが稼働しているホストを指定することもできます。省略した場合は、現在の値が使用されます。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979156078816"></a> <a class="indexterm" name="idm139979156076640"></a> <code class="literal">delimiter <em class="replaceable"><code>str</code></em></code>, <code class="literal">\d <em class="replaceable"><code>str</code></em></code>
          </p><p>
            <span class="command"><strong>mysql</strong></span> が SQL ステートメント間の区切り文字として解釈する文字列を変更します。デフォルトはセミコロン (<span class="quote">「<span class="quote"><code class="literal">;</code></span>」</span>) 文字です。
          </p><p>
            区切り文字の文字列は、<code class="literal">delimiter</code> コマンド行で引用符ありまたはなしの引数として指定できます。単一引用符 (<code class="literal">'</code>)、二重引用符 (<code class="literal">"</code>)、または逆引用符 (<code class="literal">`</code>) 文字で囲むことができます。引用符で囲まれた文字列内に引用符を含めるには、別の引用符で文字列を囲むか、またはバックスラッシュ (<span class="quote">「<span class="quote"><code class="literal">\</code></span>」</span>) 文字で引用符をエスケープ処理します。バックスラッシュは MySQL のエスケープ文字であるため、引用符で囲まれた文字列の外側では使用しないようにしてください。引用符で囲まれていない引数については、区切り文字は最初のスペースまたは行の最後まで読み取られます。引用符で囲まれた引数の場合、区切り文字はその行の対応する引用符まで読み取られます。
          </p><p>
            <span class="command"><strong>mysql</strong></span> は、区切り文字列のインスタンスがどこで検出されても (引用符で囲まれた文字列内を除いて)、ステートメントの区切り文字として解釈します。ほかの語に出現する可能性のある区切り文字を定義しないように注意してください。たとえば、区切り文字を <code class="literal">X</code> と定義すると、ステートメントで <code class="literal">INDEX</code> という語を使用できなくなります。<span class="command"><strong>mysql</strong></span> はこれを <code class="literal">INDE</code> に区切り文字 <code class="literal">X</code> が続くと解釈します。
          </p><p>
            <span class="command"><strong>mysql</strong></span> によって認識される区切り文字がデフォルトの <span class="quote">「<span class="quote"><code class="literal">;</code></span>」</span> 以外の何かに設定されている場合、その文字のインスタンスは解釈されずにサーバーに送信されます。しかし、サーバー自体は引き続き <span class="quote">「<span class="quote"><code class="literal">;</code></span>」</span> をステートメントの区切り文字として解釈し、その解釈に従ってステートメントを処理します。サーバー側でのこの動作は、複数ステートメントの実行 (<a class="xref" href="connectors-apis.html#c-api-multiple-queries" title="23.8.17 複数ステートメント実行の C API サポート">セクション23.8.17「複数ステートメント実行の C API サポート」</a>を参照してください) や、ストアドプロシージャーおよび関数の本体、トリガー、およびイベントの解析 (<a class="xref" href="stored-programs-views.html#stored-programs-defining" title="20.1 ストアドプログラムの定義">セクション20.1「ストアドプログラムの定義」</a>を参照してください) に効果があります。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979156053440"></a> <a class="indexterm" name="idm139979156051280"></a> <code class="literal">edit</code>, <code class="literal">\e</code>
          </p><p>
            現在の入力ステートメントを編集します。<span class="command"><strong>mysql</strong></span> では、<code class="literal">EDITOR</code> および <code class="literal">VISUAL</code> 環境変数の値を確認して、どのエディタを使用するかを判断します。どちらの変数も設定されていない場合、デフォルトのエディタは <span class="command"><strong>vi</strong></span> です。
          </p><p>
            <code class="literal">edit</code> コマンドは Unix でのみ機能します。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979156042240"></a> <a class="indexterm" name="idm139979156040080"></a> <code class="literal">ego</code>, <code class="literal">\G</code>
          </p><p>
            現在のステートメントを、実行するためにサーバーに送信し、結果を縦の形式で表示します。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979156035312"></a> <a class="indexterm" name="idm139979156033152"></a> <code class="literal">exit</code>, <code class="literal">\q</code>
          </p><p>
            <span class="command"><strong>mysql</strong></span> を終了します。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979156027952"></a> <a class="indexterm" name="idm139979156025792"></a> <code class="literal">go</code>, <code class="literal">\g</code>
          </p><p>
            現在のステートメントを、実行するためにサーバーに送信します。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979156021104"></a> <a class="indexterm" name="idm139979156018928"></a> <code class="literal">nopager</code>, <code class="literal">\n</code>
          </p><p>
            出力のページングを無効にします。<code class="literal">pager</code> の説明を参照してください。
          </p><p>
            <code class="literal">nopager</code> コマンドは Unix でのみ機能します。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979156012320"></a> <a class="indexterm" name="idm139979156010160"></a> <code class="literal">notee</code>, <code class="literal">\t</code>
          </p><p>
            tee ファイルへの出力コピーを無効にします。<code class="literal">tee</code> の説明を参照してください。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979156004752"></a> <a class="indexterm" name="idm139979156002576"></a> <code class="literal">nowarning</code>, <code class="literal">\w</code>
          </p><p>
            各ステートメントのあとの警告の表示を無効にします。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979155997872"></a> <a class="indexterm" name="idm139979155995712"></a> <code class="literal">pager [<em class="replaceable"><code>command</code></em>]</code>, <code class="literal">\P [<em class="replaceable"><code>command</code></em>]</code>
          </p><p>
            出力のページングを有効にします。<span class="command"><strong>mysql</strong></span> を呼び出すときに <code class="option">--pager</code> オプションを使用することで、<span class="command"><strong>less</strong></span>、<span class="command"><strong>more</strong></span>、またはその他の同様のプログラムなどの Unix プログラムを使って、インタラクティブモードでクエリー結果を参照または検索できます。オプションで値を特定しない場合、<span class="command"><strong>mysql</strong></span> は <code class="literal">PAGER</code> 環境変数の値を確認し、ページャーをその値に設定します。ページャー機能はインタラクティブモードの場合のみ機能します。
          </p><p>
            出力ページングは <code class="literal">pager</code> コマンドでインタラクティブに有効にでき、<code class="literal">nopager</code> で無効にできます。このコマンドはオプションの引数を取ります。指定された場合、ページングプログラムはそれに設定されます。引数がない場合、ページャーはコマンド行で設定されたもの、またはページャーが指定されていない場合は <code class="literal">stdout</code> になります。
          </p><p>
            出力ページングは Unix 上でのみ機能します。これは Windows では存在しない <code class="literal">popen()</code> 関数を使用するからです。Windows では、クエリー出力の保存に <code class="literal">tee</code> オプションを代わりに使用できますが、これは場合によっては、出力のブラウズには <code class="literal">pager</code> ほど便利ではありません。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979155978672"></a> <a class="indexterm" name="idm139979155976512"></a> <code class="literal">print</code>, <code class="literal">\p</code>
          </p><p>
            現在の入力ステートメントを実行しないで出力します。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979155971824"></a> <a class="indexterm" name="idm139979155969664"></a> <code class="literal">prompt [<em class="replaceable"><code>str</code></em>]</code>, <code class="literal">\R [<em class="replaceable"><code>str</code></em>]</code>
          </p><p>
            <span class="command"><strong>mysql</strong></span> プロンプトを指定の文字列に再構成します。プロンプトで使用できる特殊文字シーケンスについては、このセクションのあとの方で説明します。
          </p><p>
            引数なしで <code class="literal">prompt</code> コマンドを指定すると、<span class="command"><strong>mysql</strong></span> はプロンプトをデフォルトの <code class="literal">mysql&gt;</code> にリセットします。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979155960512"></a> <a class="indexterm" name="idm139979155958352"></a> <code class="literal">quit</code>, <code class="literal">\q</code>
          </p><p>
            <span class="command"><strong>mysql</strong></span> を終了します。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979155953152"></a> <a class="indexterm" name="idm139979155950992"></a> <code class="literal">rehash</code>, <code class="literal">\#</code>
          </p><p>
            ステートメントの入力中にデータベース、テーブル、およびカラムの名前補完を可能にする補完ハッシュを再構築します。(<code class="option">--auto-rehash</code> オプションの説明を参照してください。)
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979155945360"></a> <a class="indexterm" name="idm139979155943200"></a> <code class="literal">source <em class="replaceable"><code>file_name</code></em></code>, <code class="literal">\. <em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            指定されたファイルを読み取り、その中に含まれているステートメントを実行します。Windows では、パス名区切り文字を <code class="literal">/</code> または <code class="literal">\\</code> に指定できます。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979155936384"></a> <a class="indexterm" name="idm139979155934224"></a> <code class="literal">status</code>, <code class="literal">\s</code>
          </p><p>
            使用中の接続とサーバーに関するステータス情報を表示します。<code class="option">--safe-updates</code> モードで稼働中の場合、<code class="literal">status</code> はクエリーに影響する <span class="command"><strong>mysql</strong></span> 変数の値も出力します。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979155927232"></a> <a class="indexterm" name="idm139979155925072"></a> <code class="literal">system <em class="replaceable"><code>command</code></em></code>, <code class="literal">\! <em class="replaceable"><code>command</code></em></code>
          </p><p>
            デフォルトのコマンドインタプリタを使って指定のコマンドを実行します。
          </p><p>
            <code class="literal">system</code> コマンドは Unix でのみ機能します。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979155918576"></a> <a class="indexterm" name="idm139979155916416"></a> <code class="literal">tee [<em class="replaceable"><code>file_name</code></em>]</code>, <code class="literal">\T [<em class="replaceable"><code>file_name</code></em>]</code>
          </p><p>
            <span class="command"><strong>mysql</strong></span> の呼び出し時に <code class="option">--tee</code> オプションを使用することで、ステートメントとその出力をログに記録できます。画面上に表示されるデータはすべて指定されたファイルに追加されます。これはデバッグを行う際にも非常に便利です。<span class="command"><strong>mysql</strong></span> では、各ステートメントが終わって次のプロンプトが表示される直前に、結果をファイルにフラッシュします。tee 機能はインタラクティブモードの場合のみ機能します。
          </p><p>
            <code class="literal">tee</code> コマンドを使用すれば、この機能をインタラクティブに有効にできます。パラメータがない場合、以前のファイルが使用されます。<code class="literal">tee</code> ファイルを無効にするには、<code class="literal">notee</code> コマンドを使用します。<code class="literal">tee</code> を実行するとロギングが再度有効になります。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979155904192"></a> <a class="indexterm" name="idm139979155902032"></a> <code class="literal">use <em class="replaceable"><code>db_name</code></em></code>, <code class="literal">\u <em class="replaceable"><code>db_name</code></em></code>
          </p><p>
            <em class="replaceable"><code>db_name</code></em> をデフォルトデータベースとして使用します。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979155896400"></a> <a class="indexterm" name="idm139979155894224"></a> <code class="literal">warnings</code>, <code class="literal">\W</code>
          </p><p>
            各ステートメントのあとの警告の表示を有効にします (存在する場合)。
          </p></li></ul></div><p>
        <code class="literal">pager</code> コマンドのヒントを次に記します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            これを使用してファイルに書き込むと、結果はファイルにのみ送られます。
          </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>pager cat &gt; /tmp/log.txt</code></strong>
</pre><p>
            ページャーとして使用するプログラムのオプションを渡すこともできます。
          </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>pager less -n -i -S</code></strong>
</pre></li><li class="listitem"><p>
            前の例の、<code class="option">-S</code> オプションに注意してください。幅の広いクエリー結果のブラウズの際に非常に便利です。非常に幅の広い結果セットは、画面上では読みにくい場合があります。<span class="command"><strong>less</strong></span> に対して <code class="option">-S</code> オプションを指定すると、左右の方向キーを使用して横にスクロールできるため、結果セットが読みやすくなります。また、<code class="option">-S</code> を <span class="command"><strong>less</strong></span> 内でインタラクティブに使用して、水平方向のブラウズモードをオン/オフにできます。詳細は、<span class="command"><strong>less</strong></span> マニュアルページを参照してください。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>man less</code></strong>
</pre></li><li class="listitem"><p>
            <code class="option">-F</code> および <code class="option">-X</code> オプションを <span class="command"><strong>less</strong></span> で使用すると、出力が 1 画面に収まる場合にプログラムを終了させることができ、これはスクロールが不要なときに便利です。
          </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>pager less -n -i -S -F -X</code></strong>
</pre></li><li class="listitem"><p>
            クエリー出力の取り扱いに関する非常に複雑なページャーコマンドを指定できます。
          </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>pager cat | tee /dr1/tmp/res.txt \</code></strong>
          <strong class="userinput"><code>| tee /dr2/tmp/res2.txt | less -n -i -S</code></strong>
</pre><p>
            この例では、コマンドはクエリーの結果を <code class="filename">/dr1</code> および <code class="filename">/dr2</code> にマウントされた 2 つの異なるファイルシステムの 2 つの異なるディレクトリ内の 2 つのファイルに送信し、さらに <span class="command"><strong>less</strong></span> を使用して結果を画面に表示します。
          </p></li></ul></div><p>
        <code class="literal">tee</code> 関数と <code class="literal">pager</code> 関数を組み合わせることもできます。<code class="literal">tee</code> ファイルを有効にし、<code class="literal">pager</code> を <span class="command"><strong>less</strong></span> に設定してあれば、<span class="command"><strong>less</strong></span> プログラムを使って結果をブラウズしつつ、同時にすべてをファイルに追加できます。<code class="literal">pager</code> コマンドと一緒に使用する Unix <code class="literal">tee</code> と、<span class="command"><strong>mysql</strong></span> に組み込みの <code class="literal">tee</code> コマンドの違いは、組み込みの <code class="literal">tee</code> は Unix <span class="command"><strong>tee</strong></span> がなくても機能するということです。また、組み込みの <code class="literal">tee</code> は画面に出力されるものすべてをログに記録しますが、<code class="literal">pager</code> と一緒に使用される Unix <span class="command"><strong>tee</strong></span> はそこまでログに記録しません。さらに、<code class="literal">tee</code> ファイルのロギングは <span class="command"><strong>mysql</strong></span> 内からインタラクティブにオン/オフできます。これは一部のクエリーのみをファイルにログするときに有効です。
      </p><a class="indexterm" name="idm139979155852976"></a><p>
        <code class="literal">prompt</code> コマンドはデフォルトの <code class="literal">mysql&gt;</code> プロンプトを再構成します。プロンプトを定義するための文字列には、次の特殊なシーケンスを含めることができます。
      </p><div class="informaltable"><table summary="この表は、デフォルトの mysql&gt; プロンプトの再構成に使用される prompt コマンドのオプションを説明するものです。" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">オプション</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><code class="literal">\c</code></td><td>ステートメントを発行するたびにインクリメントするカウンタ</td></tr><tr><td scope="row"><code class="literal">\D</code></td><td>現在の日付 (フルで)</td></tr><tr><td scope="row"><code class="literal">\d</code></td><td>デフォルトデータベース</td></tr><tr><td scope="row"><code class="literal">\h</code></td><td>サーバーホスト</td></tr><tr><td scope="row"><code class="literal">\l</code></td><td>現在の区切り文字</td></tr><tr><td scope="row"><code class="literal">\m</code></td><td>現在の時間の分</td></tr><tr><td scope="row"><code class="literal">\n</code></td><td>改行文字</td></tr><tr><td scope="row"><code class="literal">\O</code></td><td>3 文字の形式の現在の月 (Jan、Feb、…)</td></tr><tr><td scope="row"><code class="literal">\o</code></td><td>数字形式の現在の月</td></tr><tr><td scope="row"><code class="literal">\P</code></td><td>am/pm</td></tr><tr><td scope="row"><code class="literal">\p</code></td><td>現在の TCP/IP ポートまたはソケットファイル</td></tr><tr><td scope="row"><code class="literal">\R</code></td><td>現在の時間、24 時間表記 (0-23)</td></tr><tr><td scope="row"><code class="literal">\r</code></td><td>現在の時間、12 時間表記 (1-12)</td></tr><tr><td scope="row"><code class="literal">\S</code></td><td>セミコロン</td></tr><tr><td scope="row"><code class="literal">\s</code></td><td>現在の時間の秒</td></tr><tr><td scope="row"><code class="literal">\t</code></td><td>タブ文字</td></tr><tr><td scope="row"><code class="literal">\U</code></td><td><p>
                  完全な <code class="literal"><em class="replaceable"><code>user_name</code></em>@<em class="replaceable"><code>host_name</code></em></code> アカウント名
                </p></td></tr><tr><td scope="row"><code class="literal">\u</code></td><td>ユーザー名</td></tr><tr><td scope="row"><code class="literal">\v</code></td><td>サーバーバージョン</td></tr><tr><td scope="row"><code class="literal">\w</code></td><td>3 文字の形式の現在の曜日 (Mon, Tue, …)</td></tr><tr><td scope="row"><code class="literal">\Y</code></td><td>現在の年 (4 桁)</td></tr><tr><td scope="row"><code class="literal">\y</code></td><td>現在の年 (2 桁)</td></tr><tr><td scope="row"><code class="literal">\_</code></td><td>スペース</td></tr><tr><td scope="row"><code class="literal">\ </code></td><td>スペース (バックスラッシュのあとにスペースがあります)</td></tr><tr><td scope="row"><code class="literal">\'</code></td><td>単一引用符</td></tr><tr><td scope="row"><code class="literal">\"</code></td><td>二重引用符</td></tr><tr><td scope="row"><code class="literal">\\</code></td><td>リテラルの <span class="quote">「<span class="quote"><code class="literal">\</code></span>」</span> バックスラッシュ文字</td></tr><tr><td scope="row"><code class="literal">\<em class="replaceable"><code>x</code></em></code></td><td><p>
                  <em class="replaceable"><code>x</code></em> (上記にないすべての <span class="quote">「<span class="quote"><em class="replaceable"><code>x</code></em></span>」</span>)
                </p></td></tr></tbody></table></div><p>
        プロンプトはいくつかの方法でセットできます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="emphasis"><em>環境変数を使用します。</em></span><code class="literal">MYSQL_PS1</code> 環境変数をプロンプト文字列に設定できます。例:
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>export MYSQL_PS1="(\u@\h) [\d]&gt; "</code></strong>
</pre></li><li class="listitem"><p>
            <span class="emphasis"><em>コマンド行オプションを使用します。</em></span>コマンド行で、<code class="option">--prompt</code> オプションを <span class="command"><strong>mysql</strong></span> に設定できます。例:
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql --prompt="(\u@\h) [\d]&gt; "</code></strong>
(user@host) [database]&gt;
</pre></li><li class="listitem"><p>
            <span class="emphasis"><em>オプションファイルを使用します。</em></span><code class="literal">prompt</code> オプションを、ホームディレクトリの <code class="filename">/etc/my.cnf</code> または <code class="filename">.my.cnf</code> ファイルなど、任意の MySQL オプションファイルの <code class="literal">[mysql]</code> グループに設定できます。例:
          </p><pre class="programlisting">
[mysql]
prompt=(\\u@\\h) [\\d]&gt;\\_
</pre><p>
            この例では、バックスラッシュが 2 つあることに注意してください。オプションファイルで <code class="literal">prompt</code> オプションを使用してプロンプトを設定する場合、特別なプロンプトオプションを使用するときはバックスラッシュを 2 つ使用することをお勧めします。許可されるプロンプトオプションのセットと、オプションファイルで認識される特殊なエスケープシーケンスのセットには、重複があります。(オプションファイルでのエスケープシーケンスに関するルールは<a class="xref" href="programs.html#option-files" title="4.2.6 オプションファイルの使用">セクション4.2.6「オプションファイルの使用」</a>にリストされています。)単一のバックスラッシュを使用している場合、この重複が問題となる可能性があります。たとえば、<code class="literal">\s</code> は現在の秒の値としてではなく、スペースとして解釈されます。次の例は、現在の時間を <code class="literal">HH:MM:SS&gt;</code> 形式で含めるように、オプションファイルでプロンプトを定義する方法を示しています。
          </p><pre class="programlisting">
[mysql]
prompt="\\r:\\m:\\s&gt; "
</pre></li><li class="listitem"><p>
            <span class="emphasis"><em>プロンプトをインタラクティブに設定します。</em></span><code class="literal">prompt</code> コマンド (または <code class="literal">\R</code> コマンド) を使用すると、プロンプトをインタラクティブに変更できます。例:
          </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>prompt (\u@\h) [\d]&gt;\_</code></strong>
PROMPT set to '(\u@\h) [\d]&gt;\_'
(<em class="replaceable"><code>user</code></em>@<em class="replaceable"><code>host</code></em>) [<em class="replaceable"><code>database</code></em>]&gt;
(<em class="replaceable"><code>user</code></em>@<em class="replaceable"><code>host</code></em>) [<em class="replaceable"><code>database</code></em>]&gt; prompt
Returning to default PROMPT of mysql&gt;
mysql&gt;<strong class="userinput"><code></code></strong>
</pre></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-logging"></a>4.5.1.3 mysql のロギング</h4></div></div></div><a class="indexterm" name="idm139979155766144"></a><a class="indexterm" name="idm139979155764656"></a><a class="indexterm" name="idm139979155762720"></a><a class="indexterm" name="idm139979155761184"></a><a class="indexterm" name="idm139979155759248"></a><a class="indexterm" name="idm139979155757760"></a><a class="indexterm" name="idm139979155755824"></a><a class="indexterm" name="idm139979155754320"></a><a class="indexterm" name="idm139979155752384"></a><p>
        Unix では、<span class="command"><strong>mysql</strong></span> クライアントはインタラクティブに実行されたステートメントを履歴ファイルにログ記録します。デフォルトでは、このファイルは <code class="filename">.mysql_history</code> という名前で、ユーザーのホームディレクトリにあります。別のファイルを指定する場合は、<code class="literal">MYSQL_HISTFILE</code> 環境変数値を設定します。
      </p><h5><a name="idm139979155747616"></a>ロギングの方法</h5><p>
        ステートメントのロギングは次のように行われます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            ステートメントは、インタラクティブに実行された場合のみログに記録されます。ステートメントは、たとえばファイルまたはパイプから読み取られる場合はインタラクティブではありません。<code class="option">--batch</code> オプションまたは <code class="option">--execute</code> オプションを使用することによって、ステートメントのロギングを抑制することもできます。
          </p></li><li class="listitem"><p>
            ステートメントは、<span class="quote">「<span class="quote">ignore</span>」</span> リスト内のパターンのいずれかに一致する場合には無視され、ログに記録されません。このリストについてはあとで説明します。
          </p></li><li class="listitem"><p>
            <span class="command"><strong>mysql</strong></span> は、無視されず空でない各ステートメント行を個別にログに記録します。
          </p></li><li class="listitem"><p>
            無視されないステートメントが複数の行にまたがる場合 (終端区切り文字を含まない)、<span class="command"><strong>mysql</strong></span> は行を連結して完全なステートメントを形成し、改行をスペースに対応付け、結果に区切り文字を付け加えてログに記録します。
          </p></li></ul></div><p>
        その結果、複数行にまたがる入力ステートメントが 2 回ログに記録されることがあります。次の入力について考えます。
      </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT</code></strong>
    -&gt; <strong class="userinput"><code>'Today is'</code></strong>
    -&gt; <strong class="userinput"><code>,</code></strong>
    -&gt; <strong class="userinput"><code>CONCAT()</code></strong>
    -&gt; <strong class="userinput"><code>;</code></strong>
</pre><p>
        この場合、<span class="command"><strong>mysql</strong></span> は <span class="quote">「<span class="quote">SELECT</span>」</span>、<span class="quote">「<span class="quote">'Today is'</span>」</span>、<span class="quote">「<span class="quote">,</span>」</span>、<span class="quote">「<span class="quote">CONCAT()</span>」</span>、および <span class="quote">「<span class="quote">;</span>」</span> の各行を読み取りながらログに記録します。また、<code class="literal">SELECT\n'Today is'\n,\nCURDATE()</code> を <code class="literal">SELECT 'Today is' , CURDATE()</code> に対応付けたあと、区切り文字を追加した完全なステートメントもログに記録します。したがって、ログに記録される出力には次の行があります。
      </p><pre class="programlisting">
SELECT
'Today is'
,
CURDATE()
;
SELECT 'Today is' , CURDATE();
</pre><p>
        MySQL 5.6.8 では、<span class="command"><strong>mysql</strong></span> はロギングのために <span class="quote">「<span class="quote">ignore</span>」</span> リスト内の任意のパターンに一致するステートメントを無視します。デフォルトでは、パターンのリストは <code class="literal">"*IDENTIFIED*:*PASSWORD*"</code> で、パスワードを参照するステートメントを無視します。パターンマッチングでは大文字と小文字を区別しません。パターン内では、特殊文字が 2 つあります。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">?</code> は任意の 1 文字に一致します。
          </p></li><li class="listitem"><p>
            <code class="literal">*</code> はゼロ個以上の文字の任意のシーケンスに一致します。
          </p></li></ul></div><p>
        追加のパターンを指定するには、<code class="option">--histignore</code> オプションを使用するか、または <code class="literal">MYSQL_HISTIGNORE</code> 環境変数を設定します。(両方を指定した場合はオプション値が優先されます。)値は、コロン区切りの 1 つまたは複数のパターンのリストで、デフォルトのパターンリストに追加されます。
      </p><p>
        コマンド行で指定されたパターンは。コマンドインタプリタで特殊な扱いを受けることを防ぐために、引用符で囲むかエスケープ処理を行う必要がある場合があります。たとえば、パスワードを参照するステートメントに加えて <code class="literal">UPDATE</code> ステートメントおよび <code class="literal">DELETE</code> ステートメントのロギングを抑制するには、<span class="command"><strong>mysql</strong></span> を次のように呼び出します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql --histignore="*UPDATE*:*DELETE*"</code></strong>
</pre><h5><a name="idm139979155712384"></a>履歴ファイルの制御</h5><p>
        <code class="filename">.mysql_history</code> ファイルには、パスワードを含む SQL ステートメントのテキストなどの機密情報が書き込まれる場合があるため、制限付きアクセスモードで保護するようにしてください。<a class="xref" href="security.html#password-security-user" title="6.1.2.1 パスワードセキュリティーのためのエンドユーザーガイドライン">セクション6.1.2.1「パスワードセキュリティーのためのエンドユーザーガイドライン」</a>を参照してください。
      </p><p>
        履歴ファイルを維持しない場合は、<code class="filename">.mysql_history</code> が存在すればまずそれを削除します。次の手法のいずれかを使用してふたたび作成されないようにします。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MYSQL_HISTFILE</code> 環境変数を <code class="filename">/dev/null</code> に設定します。ログインするたびにこの設定が有効になるようにするには、これをシェルの起動ファイルに置きます。
          </p></li><li class="listitem"><p>
            <code class="filename">.mysql_history</code> を <code class="filename">/dev/null</code> へのシンボリックリンクとして作成します。これは一度のみの実行で済みます。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ln -s /dev/null $HOME/.mysql_history</code></strong>
</pre></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-server-side-help"></a>4.5.1.4 mysql サーバー側のヘルプ</h4></div></div></div><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>help <em class="replaceable"><code>search_string</code></em></code></strong>
</pre><p>
        <code class="literal">help</code> コマンドに引数を指定した場合、<span class="command"><strong>mysql</strong></span> は、サーバー側のヘルプにアクセスして MySQL リファレンスマニュアルの内容から検索するための文字列として引数を使用します。このコマンドを適切に操作するには、<code class="literal">mysql</code> データベース内のヘルプテーブルがヘルプトピック情報で初期化されていることが必要です (<a class="xref" href="server-administration.html#server-side-help-support" title="5.1.10 サーバー側のヘルプ">セクション5.1.10「サーバー側のヘルプ」</a>を参照してください)。
      </p><p>
        検索文字列に一致するものがない場合、検索は失敗に終わります。
      </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>help me</code></strong>

Nothing found
Please try to run 'help contents' for a list of all accessible topics
</pre><p>
        ヘルプカテゴリのリストを閲覧するには <span class="command"><strong>help contents</strong></span> を使用してください。
      </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>help contents</code></strong>
You asked for help about help category: "Contents"
For more information, type 'help &lt;item&gt;', where &lt;item&gt; is one of the
following categories:
   Account Management
   Administration
   Data Definition
   Data Manipulation
   Data Types
   Functions
   Functions and Modifiers for Use with GROUP BY
   Geographic Features
   Language Structure
   Plugins
   Storage Engines
   Stored Routines
   Table Maintenance
   Transactions
   Triggers
</pre><p>
        検索文字列に一致するものが複数ある場合は、<span class="command"><strong>mysql</strong></span> は一致するトピックのリストを表示します。
      </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>help logs</code></strong>
Many help items for your request exist.
To make a more specific request, please type 'help &lt;item&gt;',
where &lt;item&gt; is one of the following topics:
   SHOW
   SHOW BINARY LOGS
   SHOW ENGINE
   SHOW LOGS
</pre><p>
        トピックのヘルプエントリを閲覧するには、そのトピックを検索文字列として使用してください。
      </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>help show binary logs</code></strong>
Name: 'SHOW BINARY LOGS'
Description:
Syntax:
SHOW BINARY LOGS
SHOW MASTER LOGS

Lists the binary log files on the server. This statement is used as
part of the procedure described in [purge-binary-logs], that shows how
to determine which logs can be purged.

mysql&gt; SHOW BINARY LOGS;
+---------------+-----------+
| Log_name      | File_size |
+---------------+-----------+
| binlog.000015 |    724935 |
| binlog.000016 |    733481 |
+---------------+-----------+
</pre><p>
        検索文字列にはワイルドカード文字 <span class="quote">「<span class="quote"><code class="literal">%</code></span>」</span> および <span class="quote">「<span class="quote"><code class="literal">_</code></span>」</span> を含めることができます。これらは <code class="literal">LIKE</code> 演算子で実行されるパターンマッチング演算と同じ意味を持ちます。たとえば、<code class="literal">HELP rep%</code> は <code class="literal">rep</code> で始まるトピックのリストを返します。
      </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>HELP rep%</code></strong>
Many help items for your request exist.
To make a more specific request, please type 'help &lt;item&gt;',
where &lt;item&gt; is one of the following
topics:
   REPAIR TABLE
   REPEAT FUNCTION
   REPEAT LOOP
   REPLACE
   REPLACE FUNCTION
</pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-batch-commands"></a>4.5.1.5 テキストファイルから SQL ステートメントを実行する</h4></div></div></div><a class="indexterm" name="idm139979155670688"></a><a class="indexterm" name="idm139979155669152"></a><a class="indexterm" name="idm139979155667120"></a><a class="indexterm" name="idm139979155665088"></a><a class="indexterm" name="idm139979155663056"></a><a class="indexterm" name="idm139979155660992"></a><a class="indexterm" name="idm139979155659536"></a><a class="indexterm" name="idm139979155658112"></a><a class="indexterm" name="idm139979155656560"></a><p>
        <span class="command"><strong>mysql</strong></span> クライアントは、通常次のようにインタラクティブに使用されます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql <em class="replaceable"><code>db_name</code></em></code></strong>
</pre><p>
        しかし、SQL ステートメントをファイルに入れ、<span class="command"><strong>mysql</strong></span> にその入力をファイルから読み取るように指示することも可能です。そのためには、実行するステートメントを含む <em class="replaceable"><code>text_file</code></em> を作成します。それから、次に示されるように <span class="command"><strong>mysql</strong></span> を起動します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql <em class="replaceable"><code>db_name</code></em> &lt; <em class="replaceable"><code>text_file</code></em></code></strong>
</pre><p>
        ファイルの最初のステートメントとして <code class="literal">USE <em class="replaceable"><code>db_name</code></em></code> ステートメントを配置する場合、コマンド行でデータベース名を指定する必要はありません。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql &lt; text_file</code></strong>
</pre><p>
        <span class="command"><strong>mysql</strong></span> がすでに稼働している場合は、<code class="literal">source</code> コマンドまたは <code class="literal">\.</code> コマンドを使用して SQL スクリプトファイルを実行できます。
      </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>source <em class="replaceable"><code>file_name</code></em></code></strong>
mysql&gt; <strong class="userinput"><code>\. <em class="replaceable"><code>file_name</code></em></code></strong>
</pre><p>
        スクリプトでユーザーに進行状況を表示する場合があります。このためには、次のステートメントを挿入できます。
      </p><pre class="programlisting">
SELECT '&lt;info_to_display&gt;' AS ' ';
</pre><p>
        示されたステートメントは <code class="literal">&lt;info_to_display&gt;</code> を出力します。
      </p><p>
        また、<code class="option">--verbose</code> オプションを付けて <span class="command"><strong>mysql</strong></span> を呼び出すこともでき、生成される結果の前に各ステートメントが表示されるようになります。
      </p><p>
        <span class="command"><strong>mysql</strong></span> は、入力ファイルの先頭にある Unicode バイト順マーク (BOM) 文字を無視します。以前は、それらを読み取ってサーバーに送信していたため、構文エラーが発生していました。BOM が存在しても、<span class="command"><strong>mysql</strong></span> はデフォルトの文字セットを変更しません。これを行うには、<code class="option">--default-character-set=utf8</code> などのオプションを付けて <span class="command"><strong>mysql</strong></span> を呼び出します。
      </p><p>
        バッチモードの詳細は、<a class="xref" href="tutorial.html#batch-mode" title="3.5 バッチモードでの MySQL の使用">セクション3.5「バッチモードでの MySQL の使用」</a>を参照してください。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-tips"></a>4.5.1.6 mysql のヒント</h4></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="programs.html#mysql-input-editing">4.5.1.6.1 入力行の編集</a></span></dt><dt><span class="section"><a href="programs.html#windows-unicode-support">4.5.1.6.2 Windows における Unicode のサポート</a></span></dt><dt><span class="section"><a href="programs.html#vertical-query-results">4.5.1.6.3 クエリー結果を縦に表示する</a></span></dt><dt><span class="section"><a href="programs.html#safe-updates">4.5.1.6.4 --safe-updates オプションの使用</a></span></dt><dt><span class="section"><a href="programs.html#mysql-reconnect">4.5.1.6.5 mysql の自動再接続を無効にする</a></span></dt></dl></div><p>
        このセクションでは、<span class="command"><strong>mysql</strong></span> をさらに効果的に使用するテクニックを紹介します。
      </p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="mysql-input-editing"></a>4.5.1.6.1 入力行の編集</h5></div></div></div><p>
          <span class="command"><strong>mysql</strong></span> は入力行の編集をサポートし、現在の入力行を修正したり以前の入力行を呼び出したりできます。たとえば、<span class="keycap"><strong>「左矢印」</strong></span>キーおよび<span class="keycap"><strong>「右矢印」</strong></span>キーで現在の入力行内を横方向に移動し、<span class="keycap"><strong>「上矢印」</strong></span>キーおよび<span class="keycap"><strong>「下矢印」</strong></span>キーで以前に入力した行を上下に移動できます。<span class="keycap"><strong>「バックスペース」</strong></span>でカーソルの前の文字を削除でき、新しい文字を入力するとカーソルの位置に挿入されます。行を入力するには、<span class="keycap"><strong>「Enter」</strong></span>を押します。
        </p><p>
          Windows では、編集キーシーケンスはコンソールウィンドウでコマンドの編集に関してサポートされているものと同じです。Unix では、キーシーケンスは <span class="command"><strong>mysql</strong></span> のビルドに使用された入力ライブラリ (たとえば、<code class="literal">libedit</code> または <code class="literal">readline</code> ライブラリ) に依存します。
        </p><p>
          <code class="literal">libedit</code> ライブラリおよび <code class="literal">readline</code> ライブラリのドキュメントは、オンラインで入手できます。所定の入力ライブラリで許可されるキーシーケンスのセットを変更するには、ライブラリ起動ファイルでキーバインドを定義します。これはホームディレクトリにあるファイルで、<code class="filename">.editrc</code> は <code class="literal">libedit</code> 用、<code class="filename">.inputrc</code> は <code class="literal">readline</code> 用です。
        </p><p>
          たとえば <code class="literal">libedit</code> では、<span class="keycap"><strong>Control+W</strong></span> は現在のカーソル位置の前にあるものをすべて削除し、<span class="keycap"><strong>Control+U</strong></span> は行全体を削除します。<code class="literal">readline</code> では、<span class="keycap"><strong>Control+W</strong></span> はカーソルの前の単語を削除し、<span class="keycap"><strong>Control+U</strong></span> は現在のカーソル位置の前にあるものをすべて削除します。<span class="command"><strong>mysql</strong></span> が <code class="literal">libedit</code> を使用してビルドされた場合は、これら 2 つのキーに関して <code class="literal">readline</code> の動作を好むユーザーは、<code class="filename">.editrc</code> ファイルに次の行を置くことができます (必要に応じてファイルを作成します)。
        </p><pre class="programlisting">
bind "^W" ed-delete-prev-word
bind "^U" vi-kill-line-prev
</pre><p>
          現在のキーバインドのセットを表示するには、一時的に <code class="literal">bind</code> のみの行を <code class="filename">.editrc</code> の最後に置きます。<span class="command"><strong>mysql</strong></span> は起動時にバインドを表示します。
        </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="windows-unicode-support"></a>4.5.1.6.2 Windows における Unicode のサポート</h5></div></div></div><p>
          Windows は、コンソールからの読み取りおよび書き込みに、UTF-16LE に基づく API を提供します。MySQL 5.6.2 では、Windows の <span class="command"><strong>mysql</strong></span> クライアントはこれらの API を使用できます。5.6.3 では、Windows インストーラは MySQL メニューに <code class="literal">MySQL command line client - Unicode</code> という項目を作成します。この項目は、Unicode を使用して MySQL サーバーにコンソール経由で通信するように設定されたプロパティーで <span class="command"><strong>mysql</strong></span> クライアントを呼び出します。
        </p><p>
          このサポートを手動で利用するためには、互換性のある Unicode フォントを使用するコンソール内で <span class="command"><strong>mysql</strong></span> を実行し、デフォルト文字セットをサーバーとの通信でサポートされる Unicode 文字セットに設定します。
        </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
              コンソールウィンドウを開きます。
            </p></li><li class="listitem"><p>
              コンソールウィンドウプロパティーに移動して「フォント」タブを選択し、Lucida Console またはその他の互換性のある Unicode フォントを選択します。コンソールウィンドウはデフォルトでは Unicode に不適切な DOS ラスターフォントを使用するため、これが必要です。
            </p></li><li class="listitem"><p>
              <span class="command"><strong>mysql.exe</strong></span> を <code class="option">--default-character-set=utf8</code> (または <code class="literal">utf8mb4</code>) オプションで実行します。<code class="literal">utf16le</code> は接続文字セットとしてはサポートされていないため、このオプションが必要です。
            </p></li></ol></div><p>
          これらの変更により、<span class="command"><strong>mysql</strong></span> は Windows API を使用して、UTF-16LE を使用してコンソールと通信し、サーバーとは UTF-8 を使用して通信します。(前述のメニュー項目は、フォントと文字セットを今説明したように設定します。)
        </p><p>
          <span class="command"><strong>mysql</strong></span> を起動するたびにこれらのステップを実行しなくてもいいように、<span class="command"><strong>mysql.exe</strong></span> を呼び出すショートカットを作成できます。このショートカットは、コンソールフォントを Lucida Console またはその他の互換性のある Unicode フォントに設定し、<code class="option">--default-character-set=utf8</code> (または <code class="literal">utf8mb4</code>) オプションを <span class="command"><strong>mysql.exe</strong></span> に渡すようにしてください。
        </p><p>
          または、コンソールフォントの設定のみを行うショートカットを作成し、文字セットは <code class="filename">my.ini</code> ファイルの <code class="literal">[mysql]</code> グループで設定します。
        </p><pre class="programlisting">
[mysql]
default-character-set=utf8
</pre></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="vertical-query-results"></a>4.5.1.6.3 クエリー結果を縦に表示する</h5></div></div></div><p>
          クエリー結果の中には、縦表示の方が、通常の横向きの表形式よりもはるかに読みやすい場合があります。セミコロンの代わりに \G でクエリーを終了することで、クエリーを縦に表示できます。たとえば、多くの場合、改行を含む長いテキスト値は縦の出力の方がはるかに読みやすくなります。
        </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT * FROM mails WHERE LENGTH(txt) &lt; 300 LIMIT 300,1\G</code></strong>
*************************** 1. row ***************************
  msg_nro: 3068
     date: 2000-03-01 23:29:50
time_zone: +0200
mail_from: Monty
    reply: monty@no.spam.com
  mail_to: "Thimble Smith" &lt;tim@no.spam.com&gt;
      sbj: UTF-8
      txt: &gt;&gt;&gt;&gt;&gt; "Thimble" == Thimble Smith writes:

Thimble&gt; Hi.  I think this is a good idea.  Is anyone familiar
Thimble&gt; with UTF-8 or Unicode? Otherwise, I'll put this on my
Thimble&gt; TODO list and see what happens.

Yes, please do that.

Regards,
Monty
     file: inbox-jani-1
     hash: 190402944
1 row in set (0.09 sec)
</pre></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="safe-updates"></a>4.5.1.6.4 --safe-updates オプションの使用</h5></div></div></div><a class="indexterm" name="idm139979155568720"></a><p>
          初心者にとって、使いやすい起動オプションは <code class="option">--safe-updates</code> (または同じ効果のある <code class="option">--i-am-a-dummy</code>) です。これは <code class="literal">DELETE FROM <em class="replaceable"><code>tbl_name</code></em></code> ステートメントを発行したが、<code class="literal">WHERE</code> 句を忘れてしまった場合に役立ちます。通常、このようなステートメントはテーブルからすべての行を削除します。<code class="option">--safe-updates</code> を使用すると、行を特定するキー値を指定しないと、行を消去できません。これにより、事故を予防します。
        </p><p>
          <code class="option">--safe-updates</code> オプションを使用すると、<span class="command"><strong>mysql</strong></span> は MySQL サーバーに接続した際に次のステートメントを発行します。
        </p><pre class="programlisting">
SET sql_safe_updates=1, sql_select_limit=1000, max_join_size=1000000;
</pre><p>
          <a class="xref" href="server-administration.html#server-system-variables" title="5.1.4 サーバーシステム変数">セクション5.1.4「サーバーシステム変数」</a>を参照してください。
        </p><p>
          <code class="literal">SET</code> ステートメントには次の効果があります。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">UPDATE</code> ステートメントまたは <code class="literal">DELETE</code> ステートメントは、<code class="literal">WHERE</code> 句にキーの制約を指定するか、<code class="literal">LIMIT</code> 句を提供するか (または両方) しないかぎり実行を許可されません。例:
            </p><pre class="programlisting">
UPDATE <em class="replaceable"><code>tbl_name</code></em> SET <em class="replaceable"><code>not_key_column</code></em>=<em class="replaceable"><code>val</code></em> WHERE <em class="replaceable"><code>key_column</code></em>=<em class="replaceable"><code>val</code></em>;

UPDATE <em class="replaceable"><code>tbl_name</code></em> SET <em class="replaceable"><code>not_key_column</code></em>=<em class="replaceable"><code>val</code></em> LIMIT 1;
</pre></li><li class="listitem"><p>
              サーバーは、ステートメントに <code class="literal">LIMIT</code> 句が含まれていないかぎり、すべての大規模な <code class="literal">SELECT</code> の結果を 1,000 行に制限します。
            </p></li><li class="listitem"><p>
              サーバーは、1,000,000 を超える行の組み合わせを確認しなければいけない可能性のある、複数テーブルの <code class="literal">SELECT</code> ステートメントを中止します。
            </p></li></ul></div><p>
          1,000 および 1,000,000 以外の制限を指定するには、<code class="option">--select_limit</code> オプションおよび <code class="option">--max_join_size</code> オプションを使用してデフォルトをオーバーライドできます。
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql --safe-updates --select_limit=500 --max_join_size=10000</code></strong>
</pre></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="mysql-reconnect"></a>4.5.1.6.5 mysql の自動再接続を無効にする</h5></div></div></div><p>
          ステートメントの送信中にサーバーとの接続が切断された場合、<span class="command"><strong>mysql</strong></span> クライアントはただちに自動的にサーバーに一度再接続してステートメントを再度送信しようとします。ただし、<span class="command"><strong>mysql</strong></span> が再接続に成功しても、最初の接続は終了し、前セッションのオブジェクトと設定は失われます。この中には、一時テーブル、自動コミットモード、およびユーザー定義変数やセッション変数が含まれます。また、現トランザクションはロールバックします。この動作は危険な場合があります。たとえば、次の例では、サーバーはユーザーの了解なしに、最初のステートメントと 2 番目のステートメントの間にシャットダウンして再起動させられています。
        </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SET @a=1;</code></strong>
Query OK, 0 rows affected (0.05 sec)

mysql&gt; <strong class="userinput"><code>INSERT INTO t VALUES(@a);</code></strong>
ERROR 2006: MySQL server has gone away
No connection. Trying to reconnect...
Connection id:    1
Current database: test

Query OK, 1 row affected (1.30 sec)

mysql&gt; <strong class="userinput"><code>SELECT * FROM t;</code></strong>
+------+
| a    |
+------+
| NULL |
+------+
1 row in set (0.05 sec)
</pre><p>
          <code class="literal">@a</code> ユーザー変数は接続とともに失われ、再接続後は未定義です。接続が失われた際に、<span class="command"><strong>mysql</strong></span> がエラーで終了することが望ましい場合、<span class="command"><strong>mysql</strong></span> クライアントを <code class="option">--skip-reconnect</code> オプションで起動できます。
        </p><p>
          自動再接続および再接続時の状態情報への影響の詳細は、<a class="xref" href="connectors-apis.html#auto-reconnect" title="23.8.16 自動再接続動作の制御">セクション23.8.16「自動再接続動作の制御」</a>を参照してください。
        </p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysqladmin"></a>4.5.2 <span class="command"><strong>mysqladmin</strong></span> — MySQL サーバーの管理を行うクライアント</h3></div></div></div><a class="indexterm" name="idm139979155523840"></a><a class="indexterm" name="idm139979155522624"></a><a class="indexterm" name="idm139979155520608"></a><p>
        <span class="command"><strong>mysqladmin</strong></span> は管理操作を実行するためのクライアントです。サーバーの構成や現在のステータスの確認、データベースの作成および削除、およびその他の用途に使用できます。
      </p><p>
        <span class="command"><strong>mysqladmin</strong></span> は次のように起動します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqladmin [<em class="replaceable"><code>options</code></em>] <em class="replaceable"><code>command</code></em> [<em class="replaceable"><code>command-arg</code></em>] [<em class="replaceable"><code>command</code></em> [<em class="replaceable"><code>command-arg</code></em>]] ...</code></strong>
</pre><p>
        <span class="command"><strong>mysqladmin</strong></span> は次のコマンドをサポートします。コマンドの中にはコマンド名のあとに引数を取るものもあります。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="command_mysqladmin_db_name"></a>
            <code class="literal">create <em class="replaceable"><code>db_name</code></em></code>
          </p><p>
            <em class="replaceable"><code>db_name</code></em> という名前の新しいデータベースを作成します。
          </p></li><li class="listitem"><p><a name="command_mysqladmin_debug"></a>
            <code class="literal">debug</code>
          </p><p>
            エラーログにデバッグ情報を書き込むようにサーバーに指示します。この情報の形式と内容は変更されることがあります。
          </p><p>
            これにはイベントスケジューラの情報が含まれます。<a class="xref" href="stored-programs-views.html#events-status-info" title="20.4.5 イベントスケジューラのステータス">セクション20.4.5「イベントスケジューラのステータス」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="command_mysqladmin_drop"></a>
            <code class="literal">drop <em class="replaceable"><code>db_name</code></em></code>
          </p><p>
            <em class="replaceable"><code>db_name</code></em> という名前のデータベースとそのテーブルをすべて削除します。
          </p></li><li class="listitem"><p><a name="command_mysqladmin_extended-status"></a>
            <code class="literal">extended-status</code>
          </p><p>
            サーバーステータス変数とその値を表示します。
          </p></li><li class="listitem"><p><a name="command_mysqladmin_flush-hosts"></a>
            <code class="literal">flush-hosts</code>
          </p><p>
            ホストキャッシュ内の情報をすべてフラッシュします。
          </p></li><li class="listitem"><p><a name="command_mysqladmin_flush-logs"></a>
            <code class="literal">flush-logs</code>
          </p><p>
            ログをすべてフラッシュします。
          </p></li><li class="listitem"><p><a name="command_mysqladmin_flush-privileges"></a>
            <code class="literal">flush-privileges</code>
          </p><p>
            付与テーブルをリロードします (<code class="literal">reload</code> と同じ)。
          </p></li><li class="listitem"><p><a name="command_mysqladmin_flush-status"></a>
            <code class="literal">flush-status</code>
          </p><p>
            ステータス変数をクリアします。
          </p></li><li class="listitem"><p><a name="command_mysqladmin_flush-tables"></a>
            <code class="literal">flush-tables</code>
          </p><p>
            テーブルをすべてフラッシュします。
          </p></li><li class="listitem"><p><a name="command_mysqladmin_flush-threads"></a>
            <code class="literal">flush-threads</code>
          </p><p>
            スレッドキャッシュをフラッシュします。
          </p></li><li class="listitem"><p><a name="command_mysqladmin_kill"></a>
            <code class="literal">kill <em class="replaceable"><code>id</code></em>,<em class="replaceable"><code>id</code></em>,...</code>
          </p><p>
            サーバースレッドを強制終了します。複数のスレッド ID 値を指定する場合、リストにはスペースが存在してはいけません。
          </p></li><li class="listitem"><p><a name="command_mysqladmin_old-password"></a>
            <code class="literal">old-password <em class="replaceable"><code>new-password</code></em></code>
          </p><p>
            これは <code class="literal">password</code> コマンドと似ていますが、古い (4.1 以前) パスワードハッシュ形式を使用してパスワードを保存します。(<a class="xref" href="security.html#password-hashing" title="6.1.2.4 MySQL でのパスワードハッシュ">セクション6.1.2.4「MySQL でのパスワードハッシュ」</a>を参照してください。)
          </p></li><li class="listitem"><p><a name="command_mysqladmin_password"></a>
            <code class="literal">password <em class="replaceable"><code>new-password</code></em></code>
          </p><p>
            新しいパスワードを設定します。これにより、サーバーへの接続に使う <span class="command"><strong>mysqladmin</strong></span> のアカウントパスワードを <em class="replaceable"><code>new-password</code></em> に変更します。したがって、次に同じアカウントを使用して <span class="command"><strong>mysqladmin</strong></span> (またはほかのクライアントプログラム) を起動するとき、新しいパスワードを指定することが必要になります。
          </p><p>
            <em class="replaceable"><code>new-password</code></em> の値がスペースまたはコマンドインタプリタにとって特殊なその他の文字を含んでいる場合、引用符で囲む必要があります。Windows では、単一引用符ではなく二重引用符を必ず使用してください。単一引用符はパスワードから取り除かれず、むしろパスワードの一部として解釈されます。例:
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqladmin password "my new password"</code></strong>
</pre><p>
            MySQL 5.6 では、<code class="literal">password</code> コマンドに続いて新しいパスワードを省略できます。この場合、<span class="command"><strong>mysqladmin</strong></span> はパスワード値を要求し、パスワードをコマンド行で指定するのを避けることができます。パスワード値は、<code class="literal">password</code> が <span class="command"><strong>mysqladmin</strong></span> コマンド行の最後のコマンドである場合にかぎって省略できます。そうでない場合、次の引数がパスワードとみなされます。
          </p><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注意</div><p>
              サーバーが <code class="option">--skip-grant-tables</code> オプションを使用して起動された場合は、このコマンドを使用しないでください。パスワードの変更は適用されません。これは、同じコマンド行で <code class="literal">password</code> コマンドの前に <code class="literal">flush-privileges</code> コマンドを指定して付与テーブルを再度有効にする場合にも当てはまります (フラッシュ処理は接続後に行われるため)。ただし、<span class="command"><strong>mysqladmin flush-privileges</strong></span> コマンドを実行して付与テーブルを再度有効にしてから、個別に <span class="command"><strong>mysqladmin password</strong></span> コマンドを実行してパスワードを変更することは可能です。
            </p></div></li><li class="listitem"><p><a name="command_mysqladmin_ping"></a>
            <code class="literal">ping</code>
          </p><p>
            サーバーが使用可能かどうかをチェックします。サーバーが稼働中の場合は <span class="command"><strong>mysqladmin</strong></span> のリターンステータスは 0 になり、稼働していない場合は 1 になります。<code class="literal">Access denied</code> のようなエラーの場合でも 0 となります。これは、サーバーは稼働しているが接続を拒否したことを意味しており、サーバーが稼働していない状態とは異なるからです。
          </p></li><li class="listitem"><p><a name="command_mysqladmin_processlist"></a>
            <code class="literal">processlist</code>
          </p><p>
            アクティブなサーバースレッドのリストを表示します。これは <code class="literal">SHOW PROCESSLIST</code> ステートメントの出力と同様です。<code class="option">--verbose</code> オプションが指定されている場合、出力は <code class="literal">SHOW FULL PROCESSLIST</code> の出力と同様です。(<a class="xref" href="sql-syntax.html#show-processlist" title="13.7.5.30 SHOW PROCESSLIST 構文">セクション13.7.5.30「SHOW PROCESSLIST 構文」</a>を参照してください。)
          </p></li><li class="listitem"><p><a name="command_mysqladmin_reload"></a>
            <code class="literal">reload</code>
          </p><p>
            付与テーブルをリロードします。
          </p></li><li class="listitem"><p><a name="command_mysqladmin_refresh"></a>
            <code class="literal">refresh</code>
          </p><p>
            全テーブルをフラッシュし、ログファイルを閉じて、開きます。
          </p></li><li class="listitem"><p><a name="command_mysqladmin_shutdown"></a>
            <code class="literal">shutdown</code>
          </p><p>
            サーバーを停止します。
          </p></li><li class="listitem"><p><a name="command_mysqladmin_start-slave"></a>
            <code class="literal">start-slave</code>
          </p><p>
            スレーブサーバーのレプリケーションを開始します。
          </p></li><li class="listitem"><p><a name="command_mysqladmin_status"></a>
            <code class="literal">status</code>
          </p><p>
            短いサーバーステータスメッセージを表示します。
          </p></li><li class="listitem"><p><a name="command_mysqladmin_stop-slave"></a>
            <code class="literal">stop-slave</code>
          </p><p>
            スレーブサーバーのレプリケーションを停止します。
          </p></li><li class="listitem"><p><a name="command_mysqladmin_variables"></a>
            <code class="literal">variables</code>
          </p><p>
            サーバーシステム変数とその値を表示します。
          </p></li><li class="listitem"><p><a name="command_mysqladmin_version"></a>
            <code class="literal">version</code>
          </p><p>
            サーバーからのバージョン情報を表示します。
          </p></li></ul></div><p>
        すべてのコマンドは一意のプリフィクスに省略できます。例:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqladmin proc stat</code></strong>
+----+-------+-----------+----+---------+------+-------+------------------+
| Id | User  | Host      | db | Command | Time | State | Info             |
+----+-------+-----------+----+---------+------+-------+------------------+
| 51 | monty | localhost |    | Query   | 0    |       | show processlist |
+----+-------+-----------+----+---------+------+-------+------------------+
Uptime: 1473624  Threads: 1  Questions: 39487
Slow queries: 0  Opens: 541  Flush tables: 1
Open tables: 19  Queries per second avg: 0.0268
</pre><a class="indexterm" name="idm139979155422624"></a><p>
        <span class="command"><strong>mysqladmin status</strong></span> コマンドの結果は次の値を表示します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <a class="indexterm" name="idm139979155418592"></a> <code class="literal">Uptime</code>
          </p><p>
            MySQL サーバーが稼働している秒数。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979155414976"></a> <code class="literal">Threads</code>
          </p><p>
            アクティブスレッド (クライアント) の数です。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979155411600"></a> <code class="literal">Questions</code>
          </p><p>
            サーバーが起動して以来クライアントから寄せられた質問 (クエリー) の数です。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979155407856"></a> <code class="literal">Slow queries</code>
          </p><p>
            <code class="literal">long_query_time</code> 秒よりも時間を要したクエリーの数。<a class="xref" href="server-administration.html#slow-query-log" title="5.2.5 スロークエリーログ">セクション5.2.5「スロークエリーログ」</a>を参照してください。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979155402768"></a> <code class="literal">Opens</code>
          </p><p>
            サーバーによって開かれたテーブルの数。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979155399440"></a> <a class="indexterm" name="idm139979155397952"></a> <code class="literal">Flush tables</code>
          </p><p>
            サーバーが実行した <code class="literal">flush-*</code>、<code class="literal">refresh</code>、および <code class="literal">reload</code> コマンドの数です。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979155391872"></a> <code class="literal">Open tables</code>
          </p><p>
            現在開いているテーブルの数。
          </p></li></ul></div><p>
        Unix ソケットファイルを使用してローカルサーバーに接続する際に <span class="command"><strong>mysqladmin shutdown</strong></span> を実行した場合、<span class="command"><strong>mysqladmin</strong></span> はサーバーのプロセス ID ファイルが取り除かれるまで待ちます。これはサーバーが正しく停止したことを確認するためです。
      </p><a class="indexterm" name="idm139979155386496"></a><a class="indexterm" name="idm139979155384960"></a><a class="indexterm" name="idm139979155383008"></a><a class="indexterm" name="idm139979155380288"></a><p>
        <span class="command"><strong>mysqladmin</strong></span> は次のオプションをサポートします。これらはコマンド行またはオプションファイルの <code class="literal">[mysqladmin]</code> グループおよび <code class="literal">[client]</code> グループで指定できます。MySQL プログラムによって使用されるオプションファイルの詳細については、<a class="xref" href="programs.html#option-files" title="4.2.6 オプションファイルの使用">セクション4.2.6「オプションファイルの使用」</a>を参照してください。
      </p><div class="table"><a name="idm139979155374464"></a><p class="title"><b>表 4.6 <code class="literal">mysqladmin</code> のオプション</b></p><div class="table-contents"><table summary="mysqladmin のオプション" border="1"><colgroup><col class="format"><col class="description"><col class="introduced"></colgroup><thead><tr><th scope="col">形式</th><th scope="col">説明</th><th scope="col">導入</th></tr></thead><tbody><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_bind-address">--bind-address</a></td><td>指定されたネットワークインタフェースを使用して MySQL サーバーに接続</td><td>5.6.1</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_compress">--compress</a></td><td>クライアントとサーバー間で送信される情報をすべて圧縮</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_connect_timeout">--connect_timeout</a></td><td>接続タイムアウトまでの秒数</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_count">--count</a></td><td>繰り返されるコマンド実行での反復回数</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_debug">--debug</a></td><td>デバッグのログを書き込み</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_debug-check">--debug-check</a></td><td>プログラムの終了時にデバッグ情報を出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_debug-info">--debug-info</a></td><td>プログラムの終了時に、デバッグ情報、メモリー、および CPU の統計を出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_default-auth">--default-auth</a></td><td>使用する認証プラグイン</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_default-character-set">--default-character-set</a></td><td>デフォルト文字セットを指定</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_defaults-extra-file">--defaults-extra-file</a></td><td>通常のオプションファイルに加えてオプションファイルを読み取る</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_defaults-file">--defaults-file</a></td><td>指名されたオプションファイルのみを読み取る</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_defaults-group-suffix">--defaults-group-suffix</a></td><td>オプショングループのサフィクス値</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_enable-cleartext-plugin">--enable-cleartext-plugin</a></td><td>平文の認証プラグインを有効化</td><td>5.6.7</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_force">--force</a></td><td>SQL エラーが発生しても続行</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_help">--help</a></td><td>ヘルプメッセージを表示して終了</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_host">--host</a></td><td>指定されたホスト上で MySQL サーバーに接続</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_login-path">--login-path</a></td><td>ログインパスオプションを .mylogin.cnf から読み取り</td><td>5.6.6</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_no-beep">--no-beep</a></td><td>エラー時に音を発生させない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_no-defaults">--no-defaults</a></td><td>オプションファイルを読み取らない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_password">--password</a></td><td>サーバーに接続する際に使用するパスワード</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_pipe">--pipe</a></td><td>Windows で、名前付きパイプを使用してサーバーに接続</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_plugin-dir">--plugin-dir</a></td><td>プラグインがインストールされているディレクトリ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_port">--port</a></td><td>接続に使用する TCP/IP ポート番号</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_print-defaults">--print-defaults</a></td><td>デフォルトを出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_protocol">--protocol</a></td><td>使用する接続プロトコル</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_relative">--relative</a></td><td>--sleep オプションとともに使用された場合、現在値と以前の値の差異を表示</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_secure-auth">--secure-auth</a></td><td>古い (4.1.1 より前の) 形式でサーバーにパスワードを送信しない</td><td>5.6.17</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_shared-memory-base-name">--shared-memory-base-name</a></td><td>共有メモリー接続に使用する共有メモリーの名前</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_shutdown_timeout">--shutdown_timeout</a></td><td>サーバーのシャットダウンを待機する最大秒数</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_silent">--silent</a></td><td>サイレントモード</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_sleep">--sleep</a></td><td>コマンドを反復実行し、その間に delay 秒間スリープ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_socket">--socket</a></td><td>ローカルホストへの接続で、使用する Unix ソケットファイル</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_ssl">--ssl</a></td><td>接続に SSL を有効化</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_ssl">--ssl-ca</a></td><td>信頼された SSL CA のリストを含むファイルのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_ssl">--ssl-capath</a></td><td>信頼された SSL CA の PEM 形式の証明書を含むディレクトリのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_ssl">--ssl-cert</a></td><td>PEM 形式の X509 証明書を含むファイルのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_ssl">--ssl-cipher</a></td><td>SSL の暗号化に使用される、許可された暗号のリスト</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_ssl">--ssl-crl</a></td><td>証明書失効リストを含むファイルのパス</td><td>5.6.3</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_ssl">--ssl-crlpath</a></td><td>証明書失効リストファイルを含むディレクトリのパス</td><td>5.6.3</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_ssl">--ssl-key</a></td><td>PEM 形式の X509 鍵を含むファイルのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_ssl">--ssl-verify-server-cert</a></td><td>サーバーへの接続時に、サーバーの証明書内のコモンネーム値をホスト名に対して検証</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_user">--user</a></td><td>サーバーへの接続時に使用する MySQL ユーザー名</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_verbose">--verbose</a></td><td>冗長モード</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_version">--version</a></td><td>バージョン情報を表示して終了</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_vertical">--vertical</a></td><td>クエリー出力行を垂直形式で出力 (カラム値ごとに 1 行)</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqladmin_wait">--wait</a></td><td>接続が確立できない場合、中止せずに待機してからリトライ</td><td> </td></tr></tbody></table></div></div><br class="table-break"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysqladmin_help"></a>
            <a class="indexterm" name="idm139979155277008"></a> <a class="indexterm" name="idm139979155274864"></a> <code class="option">--help</code>, <code class="option">-?</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_bind-address"></a>
            <a class="indexterm" name="idm139979155270000"></a> <a class="indexterm" name="idm139979155267840"></a> <code class="option">--bind-address=<em class="replaceable"><code>ip_address</code></em></code>
          </p><p>
            複数のネットワークインタフェースを持つコンピュータで、このオプションを使用して、MySQL サーバーへの接続に使用するインタフェースを選択します。
          </p><p>
            このオプションは MySQL 5.6.1 からサポートされています。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_character-sets-dir"></a>
            <a class="indexterm" name="idm139979155262080"></a> <a class="indexterm" name="idm139979155259920"></a> <code class="option">--character-sets-dir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            文字セットがインストールされているディレクトリ。<a class="xref" href="globalization.html#charset-configuration" title="10.5 文字セットの構成">セクション10.5「文字セットの構成」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_compress"></a>
            <a class="indexterm" name="idm139979155254368"></a> <a class="indexterm" name="idm139979155252224"></a> <code class="option">--compress</code>, <code class="option">-C</code>
          </p><p>
            クライアントとサーバーの両方が圧縮をサポートしている場合、その間で送受信される情報をすべて圧縮します。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_count"></a>
            <a class="indexterm" name="idm139979155247216"></a> <a class="indexterm" name="idm139979155245072"></a> <code class="option">--count=<em class="replaceable"><code>N</code></em></code>, <code class="option">-c <em class="replaceable"><code>N</code></em></code>
          </p><p>
            <code class="option">--sleep</code> オプションが指定されている場合、繰り返し実行されるコマンドの反復実行の数。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_debug"></a>
            <a class="indexterm" name="idm139979155238976"></a> <a class="indexterm" name="idm139979155236832"></a> <code class="option">--debug[=<em class="replaceable"><code>debug_options</code></em>]</code>, <code class="option">-# [<em class="replaceable"><code>debug_options</code></em>]</code>
          </p><p>
            デバッグのログを書き込みます。一般的な <em class="replaceable"><code>debug_options</code></em> 文字列は <code class="literal">d:t:o,<em class="replaceable"><code>file_name</code></em></code> です。デフォルトは <code class="literal">d:t:o,/tmp/mysqladmin.trace</code> です。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_debug-check"></a>
            <a class="indexterm" name="idm139979155228832"></a> <a class="indexterm" name="idm139979155226688"></a> <code class="option">--debug-check</code>
          </p><p>
            プログラムの終了時に、デバッグ情報を出力します。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_debug-info"></a>
            <a class="indexterm" name="idm139979155222160"></a> <a class="indexterm" name="idm139979155220016"></a> <code class="option">--debug-info</code>
          </p><p>
            プログラムの終了時に、デバッグ情報とメモリーおよび CPU 使用率の統計を出力します。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_default-auth"></a>
            <a class="indexterm" name="idm139979155215392"></a> <a class="indexterm" name="idm139979155213232"></a> <code class="option">--default-auth=<em class="replaceable"><code>plugin</code></em></code>
          </p><p>
            使用するクライアント側の認証プラグイン。<a class="xref" href="security.html#pluggable-authentication" title="6.3.7 プラガブル認証">セクション6.3.7「プラガブル認証」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_default-character-set"></a>
            <a class="indexterm" name="idm139979155207712"></a> <a class="indexterm" name="idm139979155205472"></a> <code class="option">--default-character-set=<em class="replaceable"><code>charset_name</code></em></code>
          </p><p>
            <em class="replaceable"><code>charset_name</code></em> をデフォルト文字セットとして使用します。<a class="xref" href="globalization.html#charset-configuration" title="10.5 文字セットの構成">セクション10.5「文字セットの構成」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_defaults-extra-file"></a>
            <a class="indexterm" name="idm139979155199552"></a> <a class="indexterm" name="idm139979155197424"></a> <code class="option">--defaults-extra-file=<em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            このオプションファイルは、グローバルオプションファイルのあとに読み取りますが、(UNIX では) ユーザーオプションファイルの前に読み取るようにしてください。ファイルが存在しないかアクセスできない場合、エラーが発生します。<em class="replaceable"><code>file_name</code></em> は、フルパス名でなく相対パス名として指定された場合、現行ディレクトリを基準にして解釈されます。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_defaults-file"></a>
            <a class="indexterm" name="idm139979155191424"></a> <a class="indexterm" name="idm139979155189264"></a> <code class="option">--defaults-file=<em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            指定されたオプションファイルのみ使用します。ファイルが存在しないかアクセスできない場合、エラーが発生します。<em class="replaceable"><code>file_name</code></em> は、フルパス名でなく相対パス名として指定された場合、現行ディレクトリを基準にして解釈されます。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_defaults-group-suffix"></a>
            <a class="indexterm" name="idm139979155183536"></a> <a class="indexterm" name="idm139979155181296"></a> <code class="option">--defaults-group-suffix=<em class="replaceable"><code>str</code></em></code>
          </p><p>
            通常のオプショングループだけでなく、通常の名前に <em class="replaceable"><code>str</code></em> のサフィクスが付いたグループも読み取ります。たとえば、<span class="command"><strong>mysqladmin</strong></span> は通常 <code class="literal">[client]</code> グループおよび <code class="literal">[mysqladmin]</code> グループを読み取ります。<code class="option">--defaults-group-suffix=_other</code> オプションを指定した場合、<span class="command"><strong>mysqladmin</strong></span> は <code class="literal">[client_other]</code> グループおよび <code class="literal">[mysqladmin_other]</code> グループも読み取ります。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_enable-cleartext-plugin"></a>
            <a class="indexterm" name="idm139979155170576"></a> <a class="indexterm" name="idm139979155168400"></a> <code class="option">--enable-cleartext-plugin</code>
          </p><p>
            <code class="literal">mysql_clear_password</code> 平文認証プラグインを有効にします。(<a class="xref" href="security.html#cleartext-authentication-plugin" title="6.3.8.7 クライアント側のクリアテキスト認証プラグイン">セクション6.3.8.7「クライアント側のクリアテキスト認証プラグイン」</a>を参照してください。)このオプションは MySQL 5.6.7 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_force"></a>
            <a class="indexterm" name="idm139979155162464"></a> <a class="indexterm" name="idm139979155160320"></a> <code class="option">--force</code>, <code class="option">-f</code>
          </p><p>
            <code class="literal">drop <em class="replaceable"><code>db_name</code></em></code> コマンドの確認を求めません。複数のコマンドで、エラーが発生しても続けます。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_host"></a>
            <a class="indexterm" name="idm139979155154448"></a> <a class="indexterm" name="idm139979155152304"></a> <code class="option">--host=<em class="replaceable"><code>host_name</code></em></code>, <code class="option">-h <em class="replaceable"><code>host_name</code></em></code>
          </p><p>
            指定されたホストの MySQL サーバーに接続します。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_login-path"></a>
            <a class="indexterm" name="idm139979155146960"></a> <a class="indexterm" name="idm139979155144816"></a> <code class="option">--login-path=<em class="replaceable"><code>name</code></em></code>
          </p><p>
            指名されたログインパスから <code class="filename">.mylogin.cnf</code> ログインファイルのオプションを読み取ります。<span class="quote">「<span class="quote">ログインパス</span>」</span>は、<code class="option">host</code>、<code class="option">user</code>、および <code class="option">password</code> という限定されたオプションのセットのみを許可するオプショングループです。ログインパスは、サーバーホストおよびそのサーバーで認証するための認証情報を示す値のセットであると考えてください。ログインパスファイルを作成するには、<span class="command"><strong>mysql_config_editor</strong></span> ユーティリティーを使用します。<a class="xref" href="programs.html#mysql-config-editor" title="4.6.6 mysql_config_editor — MySQL 構成ユーティリティー">セクション4.6.6「<span class="command"><strong>mysql_config_editor</strong></span> — MySQL 構成ユーティリティー」</a>を参照してください。このオプションは MySQL 5.6.6 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_no-beep"></a>
            <a class="indexterm" name="idm139979155135264"></a> <a class="indexterm" name="idm139979155133152"></a> <code class="option">--no-beep</code>, <code class="option">-b</code>
          </p><p>
            サーバーへの接続に失敗するなどのエラーの際にデフォルトで鳴らされる警告音を抑制します。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_no-defaults"></a>
            <a class="indexterm" name="idm139979155128128"></a> <a class="indexterm" name="idm139979155125984"></a> <code class="option">--no-defaults</code>
          </p><p>
            オプションファイルを読み取りません。オプションファイルから不明のオプションを読み取ることが原因でプログラムの起動に失敗する場合、<code class="option">--no-defaults</code> を使用して、オプションを読み取らないようにすることができます。
          </p><p>
            例外として、<code class="filename">.mylogin.cnf</code> ファイルは、存在する場合はすべての場合に読み取られます。これにより、<code class="option">--no-defaults</code> が使用された場合でも、コマンド行よりも安全な方法でパスワードを指定できます。(<code class="filename">.mylogin.cnf</code> は <span class="command"><strong>mysql_config_editor</strong></span> ユーティリティーによって作成されます。<a class="xref" href="programs.html#mysql-config-editor" title="4.6.6 mysql_config_editor — MySQL 構成ユーティリティー">セクション4.6.6「<span class="command"><strong>mysql_config_editor</strong></span> — MySQL 構成ユーティリティー」</a>を参照してください)。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_password"></a>
            <a class="indexterm" name="idm139979155115728"></a> <a class="indexterm" name="idm139979155113584"></a> <code class="option">--password[=<em class="replaceable"><code>password</code></em>]</code>, <code class="option">-p[<em class="replaceable"><code>password</code></em>]</code>
          </p><p>
            サーバーに接続する際に使用するパスワードです。短いオプション形式 (<code class="option">-p</code>) を使用した場合は、オプションとパスワードの間にスペースを置くことは<span class="emphasis"><em>できません</em></span>。コマンド行で、<code class="option">--password</code> オプションまたは <code class="option">-p</code> オプションに続けて <em class="replaceable"><code>password</code></em> の値を指定しなかった場合、<span class="command"><strong>mysqladmin</strong></span> はそれを要求します。
          </p><p>
            コマンド行でのパスワード指定は、セキュアでないと考えるべきです。<a class="xref" href="security.html#password-security-user" title="6.1.2.1 パスワードセキュリティーのためのエンドユーザーガイドライン">セクション6.1.2.1「パスワードセキュリティーのためのエンドユーザーガイドライン」</a>を参照してください。オプションファイルを使用すれば、コマンド行でパスワードを指定することを回避できます。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_pipe"></a>
            <a class="indexterm" name="idm139979155102896"></a> <a class="indexterm" name="idm139979155100752"></a> <code class="option">--pipe</code>, <code class="option">-W</code>
          </p><p>
            Windows で、名前付きパイプを使用してサーバーに接続します。このオプションは、サーバーが名前付きパイプ接続をサポートしている場合にのみ適用されます。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_plugin-dir"></a>
            <a class="indexterm" name="idm139979155095568"></a> <a class="indexterm" name="idm139979155093424"></a> <code class="option">--plugin-dir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            プラグインを検索するディレクトリ。<code class="option">--default-auth</code> オプションを使用して認証プラグインを指定したが、<span class="command"><strong>mysqladmin</strong></span> がそれを検出できない場合は、このオプションを指定しなければならない可能性があります。<a class="xref" href="security.html#pluggable-authentication" title="6.3.7 プラガブル認証">セクション6.3.7「プラガブル認証」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_port"></a>
            <a class="indexterm" name="idm139979155086128"></a> <a class="indexterm" name="idm139979155083984"></a> <code class="option">--port=<em class="replaceable"><code>port_num</code></em></code>, <code class="option">-P <em class="replaceable"><code>port_num</code></em></code>
          </p><p>
            接続に使用する TCP/IP ポート番号。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_print-defaults"></a>
            <a class="indexterm" name="idm139979155078608"></a> <a class="indexterm" name="idm139979155076448"></a> <code class="option">--print-defaults</code>
          </p><p>
            プログラム名と、オプションファイルから受け取るすべてのオプションを出力します。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_protocol"></a>
            <a class="indexterm" name="idm139979155071808"></a> <a class="indexterm" name="idm139979155069632"></a> <code class="option">--protocol={TCP|SOCKET|PIPE|MEMORY}</code>
          </p><p>
            サーバーへの接続に使用する接続プロトコル。このオプションは、ほかの接続パラメータによって、必要なプロトコル以外のものが通常使用される場合に役立ちます。許可される値の詳細は、<a class="xref" href="programs.html#connecting" title="4.2.2 MySQL サーバーへの接続">セクション4.2.2「MySQL サーバーへの接続」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_relative"></a>
            <a class="indexterm" name="idm139979155064064"></a> <a class="indexterm" name="idm139979155061920"></a> <code class="option">--relative</code>, <code class="option">-r</code>
          </p><p>
            <code class="option">--sleep</code> オプションとともに使用された場合、現在値と以前の値の差異を表示します。このオプションは <code class="literal">extended-status</code> コマンドとのみ機能します。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_secure-auth"></a>
            <a class="indexterm" name="idm139979155055520"></a> <a class="indexterm" name="idm139979155053376"></a> <code class="option">--secure-auth</code>
          </p><p>
            古い (4.1 より前の) 形式でサーバーにパスワードを送信しません。これにより、新しいパスワード形式を使用するサーバー以外への接続を防ぎます。このオプションはデフォルトで有効です。無効にするには <code class="option">--skip-secure-auth</code> を使用します。このオプションは MySQL 5.6.17 で追加されました。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              4.1 より前のハッシュ方式を使用するパスワードはネイティブのパスワードハッシュ方式を使用するパスワードよりもセキュアでないため、使用しないようにしてください。4.1 よりも前のパスワードは非推奨であり、これらのサポートは今後の MySQL リリースで削除される予定です。アカウントのアップグレード手順については、<a class="xref" href="security.html#account-upgrades" title="6.3.8.3 4.1 よりも前のパスワードハッシュ方式と mysql_old_password プラグインからの移行">セクション6.3.8.3「4.1 よりも前のパスワードハッシュ方式と mysql_old_password プラグインからの移行」</a>を参照してください。
            </p></div></li><li class="listitem"><p><a name="option_mysqladmin_shared-memory-base-name"></a>
            <a class="indexterm" name="idm139979155045072"></a> <a class="indexterm" name="idm139979155042928"></a> <code class="option">--shared-memory-base-name=<em class="replaceable"><code>name</code></em></code>
          </p><p>
            Windows で、共有メモリーを使用して作成されるローカルサーバーへの接続の共有メモリー名。デフォルト値は <code class="literal">MYSQL</code> です。共有メモリー名では大文字と小文字を区別します。
          </p><p>
            共有メモリー接続を可能にするには、サーバーは <code class="option">--shared-memory</code> オプションで起動する必要があります。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_silent"></a>
            <a class="indexterm" name="idm139979155035648"></a> <a class="indexterm" name="idm139979155033472"></a> <code class="option">--silent</code>, <code class="option">-s</code>
          </p><p>
            サーバーとの接続が確立できない場合、警告なしで終了します。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_sleep"></a>
            <a class="indexterm" name="idm139979155028592"></a> <a class="indexterm" name="idm139979155026448"></a> <code class="option">--sleep=<em class="replaceable"><code>delay</code></em></code>, <code class="option">-i <em class="replaceable"><code>delay</code></em></code>
          </p><p>
            コマンドを繰り返し実行し、その間 <em class="replaceable"><code>delay</code></em> 秒間スリープします。<code class="option">--count</code> オプションは反復回数を決定します。<code class="option">--count</code> が指定されていない場合は、<span class="command"><strong>mysqladmin</strong></span> は中断されるまでいつまでもコマンドを実行します。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_socket"></a>
            <a class="indexterm" name="idm139979155018112"></a> <a class="indexterm" name="idm139979155015936"></a> <code class="option">--socket=<em class="replaceable"><code>path</code></em></code>, <code class="option">-S <em class="replaceable"><code>path</code></em></code>
          </p><p>
            <code class="literal">localhost</code> への接続用に使用する、Unix ソケットファイル、または Windows では使用する名前付きパイプの名前。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_ssl"></a>
            <a class="indexterm" name="idm139979155009728"></a> <a class="indexterm" name="idm139979155007600"></a> <code class="option">--ssl*</code>
          </p><p>
            <code class="option">--ssl</code> で始まるオプションは、SSL を使用してサーバーに接続することを許可するかどうかを指定し、SSL 鍵および証明書を検索する場所を指定します。<a class="xref" href="security.html#ssl-options" title="6.3.10.4 SSL コマンドのオプション">セクション6.3.10.4「SSL コマンドのオプション」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_user"></a>
            <a class="indexterm" name="idm139979155001888"></a> <a class="indexterm" name="idm139979154999744"></a> <code class="option">--user=<em class="replaceable"><code>user_name</code></em></code>, <code class="option">-u <em class="replaceable"><code>user_name</code></em></code>
          </p><p>
            サーバーへの接続時に使用する MySQL ユーザー名。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_verbose"></a>
            <a class="indexterm" name="idm139979154994288"></a> <a class="indexterm" name="idm139979154992112"></a> <code class="option">--verbose</code>, <code class="option">-v</code>
          </p><p>
            冗長モード。プログラムの動作についてより多くの情報を出力します。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_version"></a>
            <a class="indexterm" name="idm139979154987216"></a> <a class="indexterm" name="idm139979154985040"></a> <code class="option">--version</code>, <code class="option">-V</code>
          </p><p>
            バージョン情報を表示して終了します。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_vertical"></a>
            <a class="indexterm" name="idm139979154980224"></a> <a class="indexterm" name="idm139979154978048"></a> <code class="option">--vertical</code>, <code class="option">-E</code>
          </p><p>
            出力を縦に出力します。これは <code class="option">--relative</code> と同様ですが、出力を縦に出力します。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_wait"></a>
            <a class="indexterm" name="idm139979154972448"></a> <a class="indexterm" name="idm139979154970304"></a> <code class="option">--wait[=<em class="replaceable"><code>count</code></em>]</code>, <code class="option">-w[<em class="replaceable"><code>count</code></em>]</code>
          </p><p>
            接続が確立できない場合、中止せずに待機してからリトライします。<em class="replaceable"><code>count</code></em> 値が指定されている場合、リトライ回数を示します。デフォルトは 1 回です。
          </p></li></ul></div><p>
        <code class="option">--<em class="replaceable"><code>var_name</code></em>=<em class="replaceable"><code>value</code></em></code> を使用して、次の変数も設定できます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysqladmin_connect_timeout"></a>
            <a class="indexterm" name="idm139979154961888"></a> <a class="indexterm" name="idm139979154960432"></a> <code class="literal">connect_timeout</code>
          </p><p>
            接続タイムアウトまでの最大秒数。デフォルト値は 43200 秒 (12 時間) です。
          </p></li><li class="listitem"><p><a name="option_mysqladmin_shutdown_timeout"></a>
            <a class="indexterm" name="idm139979154955840"></a> <a class="indexterm" name="idm139979154954384"></a> <code class="literal">shutdown_timeout</code>
          </p><p>
            サーバーのシャットダウンを待機する最大秒数。デフォルト値は 3600 秒 (1 時間) です。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysqlcheck"></a>4.5.3 <span class="command"><strong>mysqlcheck</strong></span> — テーブル保守プログラム</h3></div></div></div><a class="indexterm" name="idm139979154948928"></a><a class="indexterm" name="idm139979154947712"></a><a class="indexterm" name="idm139979154945696"></a><a class="indexterm" name="idm139979154943792"></a><a class="indexterm" name="idm139979154941888"></a><p>
        <span class="command"><strong>mysqlcheck</strong></span> クライアントでは、テーブルの保守 (テーブルの検査、修復、最適化、分析) を実行します。
      </p><p>
        各テーブルは処理中にロックされるため、ほかのセッションでは利用できません。ただし、検査操作ではテーブルは <code class="literal">READ</code> ロックでのみロックされます (<code class="literal">READ</code> ロックおよび <code class="literal">WRITE</code> ロックの詳細は、<a class="xref" href="sql-syntax.html#lock-tables" title="13.3.5 LOCK TABLES および UNLOCK TABLES 構文">セクション13.3.5「LOCK TABLES および UNLOCK TABLES 構文」</a>を参照してください)。テーブルの保守処理は、特に大きなテーブルでは長い時間を要する可能性があります。<code class="option">--databases</code> オプションまたは <code class="option">--all-databases</code> オプションを使用して 1 つまたは複数のデータベースに含まれるすべてのテーブルを処理する場合は、<span class="command"><strong>mysqlcheck</strong></span> の呼び出しに長い時間がかかる可能性があります。(<span class="command"><strong>mysql_upgrade</strong></span> についても同じことが言えますが、これはこのプログラムが <span class="command"><strong>mysqlcheck</strong></span> を呼び出してすべてのテーブルを検査し、必要に応じて修復するからです。)
      </p><p>
        <span class="command"><strong>mysqlcheck</strong></span> の機能は <span class="command"><strong>myisamchk</strong></span> と同様ですが、作動方法が異なります。主な作動方法の違いは、<span class="command"><strong>mysqlcheck</strong></span> は <span class="command"><strong>mysqld</strong></span> サーバーが稼働中のときに使用されなければならないのに対し、<span class="command"><strong>myisamchk</strong></span> はこのサーバーが稼働していないときに使用されるべきであるという点です。<span class="command"><strong>mysqlcheck</strong></span> を使用することの利点は、テーブルの保守を行うためにサーバーを停止する必要がないことです。
      </p><p>
        <span class="command"><strong>mysqlcheck</strong></span> は SQL ステートメント <code class="literal">CHECK TABLE</code>、<code class="literal">REPAIR TABLE</code>、<code class="literal">ANALYZE TABLE</code>、および <code class="literal">OPTIMIZE TABLE</code> をユーザーにとって便利な方法で使用します。実行する操作に対してどのステートメントを使用するか決定し、実行のためサーバーにステートメントを送信します。各ステートメントがどのストレージエンジンと機能するかは、<a class="xref" href="sql-syntax.html#table-maintenance-sql" title="13.7.2 テーブル保守ステートメント">セクション13.7.2「テーブル保守ステートメント」</a>のステートメントの説明を参照してください。
      </p><p>
        <code class="literal">MyISAM</code> ストレージエンジンでは 4 つの保守処理をすべてサポートしているため、<span class="command"><strong>mysqlcheck</strong></span> を使用すると、<code class="literal">MyISAM</code> テーブルに対してそれらのどの保守処理も実行できます。ほかのストレージエンジンは必ずしもすべての操作をサポートしているとはかぎりません。そのような場合、エラーメッセージが表示されます。たとえば、<code class="literal">test.t</code> が <code class="literal">MEMORY</code> テーブルの場合、検査しようとすると次の結果が生成されます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqlcheck test t</code></strong>
test.t
note     : The storage engine for the table doesn't support check
</pre><p>
        <span class="command"><strong>mysqlcheck</strong></span> がテーブルを修復できない場合、手動でテーブルを修復する方法については<a class="xref" href="installing.html#rebuilding-tables" title="2.11.4 テーブルまたはインデックスの再作成または修復">セクション2.11.4「テーブルまたはインデックスの再作成または修復」</a>を参照してください。たとえば、<code class="literal">InnoDB</code> テーブルがこれに当たります。このテーブルは <code class="literal">CHECK TABLE</code> で検査できますが、<code class="literal">REPAIR TABLE</code> で修復はできません。
      </p><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注意</div><p>
          テーブルの修復操作を実行する前に、テーブルのバックアップを作成することをお勧めします。状況によっては、この操作のためにデータ損失が発生することがあります。考えられる原因としては、ファイルシステムのエラーなどがありますがこれに限りません。
        </p></div><p>
        一般的に、<span class="command"><strong>mysqlcheck</strong></span> を起動するには 3 つの方法があります。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqlcheck [<em class="replaceable"><code>options</code></em>] <em class="replaceable"><code>db_name</code></em> [<em class="replaceable"><code>tbl_name</code></em> ...]</code></strong>
shell&gt; <strong class="userinput"><code>mysqlcheck [<em class="replaceable"><code>options</code></em>] --databases <em class="replaceable"><code>db_name</code></em> ...</code></strong>
shell&gt; <strong class="userinput"><code>mysqlcheck [<em class="replaceable"><code>options</code></em>] --all-databases</code></strong>
</pre><p>
        <em class="replaceable"><code>db_name</code></em> のあとにテーブルを指定しない場合、または<code class="option">--databases</code> オプションまたは <code class="option">--all-databases</code> オプションを使用している場合、データベース全体が検査されます。
      </p><p>
        ほかのクライアントプログラムに比べ、<span class="command"><strong>mysqlcheck</strong></span> は特別な機能があります。テーブル検査のデフォルト動作 (<code class="option">--check</code>) はバイナリの名前を変更することで変えられます。テーブルをデフォルトで修復するツールが必要な場合、<span class="command"><strong>mysqlrepair</strong></span> という名前で <span class="command"><strong>mysqlcheck</strong></span> のコピーを作成するか、<span class="command"><strong>mysqlrepair</strong></span> という名前で <span class="command"><strong>mysqlcheck</strong></span> へのシンボリックリンクを作成してください。<span class="command"><strong>mysqlrepair</strong></span> を起動すれば、テーブルが修復されます。
      </p><p>
        次の表に示す名前は、<span class="command"><strong>mysqlcheck</strong></span> のデフォルト動作を変更するために使用できます。
      </p><div class="informaltable"><table summary="この表は、mysqlcheck のデフォルト動作を変更するために使用できる名前をリストしています。" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">コマンド</th><th scope="col">意味</th></tr></thead><tbody><tr><td scope="row"><span class="command"><strong>mysqlrepair</strong></span></td><td>デフォルトオプションは <code class="option">--repair</code></td></tr><tr><td scope="row"><span class="command"><strong>mysqlanalyze</strong></span></td><td>デフォルトオプションは <code class="option">--analyze</code></td></tr><tr><td scope="row"><span class="command"><strong>mysqloptimize</strong></span></td><td>デフォルトオプションは <code class="option">--optimize</code></td></tr></tbody></table></div><p>
        <span class="command"><strong>mysqlcheck</strong></span> は次のオプションをサポートします。これらはコマンド行またはオプションファイルの <code class="literal">[mysqlcheck]</code> グループおよび <code class="literal">[client]</code> グループで指定できます。MySQL プログラムによって使用されるオプションファイルの詳細については、<a class="xref" href="programs.html#option-files" title="4.2.6 オプションファイルの使用">セクション4.2.6「オプションファイルの使用」</a>を参照してください。
      </p><div class="table"><a name="idm139979154872496"></a><p class="title"><b>表 4.7 <code class="literal">mysqlcheck</code> のオプション</b></p><div class="table-contents"><table summary="mysqlcheck のオプション" border="1"><colgroup><col class="format"><col class="description"><col class="introduced"></colgroup><thead><tr><th scope="col">形式</th><th scope="col">説明</th><th scope="col">導入</th></tr></thead><tbody><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_all-databases">--all-databases</a></td><td>データベース内のテーブルをすべて確認</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_all-in-1">--all-in-1</a></td><td>各データベースに対して、そのデータベースのすべてのテーブルを指定する単一のステートメントを実行</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_analyze">--analyze</a></td><td>テーブルを分析</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_auto-repair">--auto-repair</a></td><td>確認されたテーブルが破損していた場合、自動的に修復</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_bind-address">--bind-address</a></td><td>指定されたネットワークインタフェースを使用して MySQL サーバーに接続</td><td>5.6.1</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_character-sets-dir">--character-sets-dir</a></td><td>文字セットがインストールされているディレクトリ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_check">--check</a></td><td>テーブルにエラーがないか確認</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_check-only-changed">--check-only-changed</a></td><td>最後に行われた検査以降に変更されたテーブルのみをチェック</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_check-upgrade">--check-upgrade</a></td><td>CHECK TABLE を FOR UPGRADE オプションで呼び出し</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_compress">--compress</a></td><td>クライアントとサーバー間で送信される情報をすべて圧縮</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_databases">--databases</a></td><td>指定されたデータベース内のテーブルをすべて処理</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_debug">--debug</a></td><td>デバッグのログを書き込み</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_debug-check">--debug-check</a></td><td>プログラムの終了時にデバッグ情報を出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_debug-info">--debug-info</a></td><td>プログラムの終了時に、デバッグ情報、メモリー、および CPU の統計を出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_default-auth">--default-auth</a></td><td>使用する認証プラグイン</td><td>5.6.2</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_default-character-set">--default-character-set</a></td><td>デフォルト文字セットを指定</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_defaults-extra-file">--defaults-extra-file</a></td><td>通常のオプションファイルに加えてオプションファイルを読み取る</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_defaults-file">--defaults-file</a></td><td>指名されたオプションファイルのみを読み取る</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_defaults-group-suffix">--defaults-group-suffix</a></td><td>オプショングループのサフィクス値</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_extended">--extended</a></td><td>テーブルをチェックして修復</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_fast">--fast</a></td><td>正しく閉じられていないテーブルのみを確認</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_fix-db-names">--fix-db-names</a></td><td>データベース名を 5.1 形式に変換</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_fix-table-names">--fix-table-names</a></td><td>テーブル名を 5.1 形式に変換</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_force">--force</a></td><td>SQL エラーが発生しても続行</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_help">--help</a></td><td>ヘルプメッセージを表示して終了</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_host">--host</a></td><td>指定されたホスト上で MySQL サーバーに接続</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_login-path">--login-path</a></td><td>ログインパスオプションを .mylogin.cnf から読み取り</td><td>5.6.6</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_medium-check">--medium-check</a></td><td>--extended 操作よりも速いチェックを実行</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_no-defaults">--no-defaults</a></td><td>オプションファイルを読み取らない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_optimize">--optimize</a></td><td>テーブルを最適化</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_password">--password</a></td><td>サーバーに接続する際に使用するパスワード</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_pipe">--pipe</a></td><td>Windows で、名前付きパイプを使用してサーバーに接続</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_plugin-dir">--plugin-dir</a></td><td>プラグインがインストールされているディレクトリ</td><td>5.6.2</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_port">--port</a></td><td>接続に使用する TCP/IP ポート番号</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_print-defaults">--print-defaults</a></td><td>デフォルトを出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_protocol">--protocol</a></td><td>使用する接続プロトコル</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_quick">--quick</a></td><td>最速のチェック方法</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_repair">--repair</a></td><td>一意ではではない一意なキー以外のほぼすべてを修正できる修復を実行</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_secure-auth">--secure-auth</a></td><td>古い (4.1.1 より前の) 形式でサーバーにパスワードを送信しない</td><td>5.6.17</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_shared-memory-base-name">--shared-memory-base-name</a></td><td>共有メモリー接続に使用する共有メモリーの名前</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_silent">--silent</a></td><td>サイレントモード</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_skip-database">--skip-database</a></td><td>実行される操作からこのデータベースを除外</td><td>5.6.11</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_socket">--socket</a></td><td>ローカルホストへの接続で、使用する Unix ソケットファイル</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_ssl">--ssl</a></td><td>接続に SSL を有効化</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_ssl">--ssl-ca</a></td><td>信頼された SSL CA のリストを含むファイルのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_ssl">--ssl-capath</a></td><td>信頼された SSL CA の PEM 形式の証明書を含むディレクトリのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_ssl">--ssl-cert</a></td><td>PEM 形式の X509 証明書を含むファイルのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_ssl">--ssl-cipher</a></td><td>SSL の暗号化に使用される、許可された暗号のリスト</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_ssl">--ssl-crl</a></td><td>証明書失効リストを含むファイルのパス</td><td>5.6.3</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_ssl">--ssl-crlpath</a></td><td>証明書失効リストファイルを含むディレクトリのパス</td><td>5.6.3</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_ssl">--ssl-key</a></td><td>PEM 形式の X509 鍵を含むファイルのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_ssl">--ssl-verify-server-cert</a></td><td>サーバーへの接続時に、サーバーの証明書内のコモンネーム値をホスト名に対して検証</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_tables">--tables</a></td><td>--databases オプションまたは -B オプションをオーバーライド</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_use-frm">--use-frm</a></td><td>MyISAM テーブルの修復操作用</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_user">--user</a></td><td>サーバーへの接続時に使用する MySQL ユーザー名</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_verbose">--verbose</a></td><td>冗長モード</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_version">--version</a></td><td>バージョン情報を表示して終了</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlcheck_write-binlog">--write-binlog</a></td><td>ANALYZE ステートメント、OPTIMIZE ステートメント、REPAIR ステートメントをバイナリログに記録。--skip-write-binlog は、NO_WRITE_TO_BINLOG をこれらのステートメントに追加します。</td><td> </td></tr></tbody></table></div></div><br class="table-break"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysqlcheck_help"></a>
            <a class="indexterm" name="idm139979154750304"></a> <a class="indexterm" name="idm139979154748160"></a> <code class="option">--help</code>, <code class="option">-?</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_all-databases"></a>
            <a class="indexterm" name="idm139979154743344"></a> <a class="indexterm" name="idm139979154741184"></a> <code class="option">--all-databases</code>, <code class="option">-A</code>
          </p><p>
            データベース内のテーブルをすべて検査します。これは、<code class="literal">INFORMATION_SCHEMA</code> データベースおよび <code class="literal">performace_schema</code> データベースがダンプされない点を除き、l<code class="option">--databases</code> オプションを使用してコマンド行にすべてのデータベースを指定するのと同じです。これらは、<code class="option">--databases</code> オプションで明示的に指名することでダンプできます。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_all-in-1"></a>
            <a class="indexterm" name="idm139979154732848"></a> <a class="indexterm" name="idm139979154730704"></a> <code class="option">--all-in-1</code>, <code class="option">-1</code>
          </p><p>
            各テーブルに対してステートメントを発行する代わりに、各データベースに対して、そのデータベースから処理されるすべてのテーブルを指名する単一のステートメントを実行します。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_analyze"></a>
            <a class="indexterm" name="idm139979154725440"></a> <a class="indexterm" name="idm139979154723264"></a> <code class="option">--analyze</code>, <code class="option">-a</code>
          </p><p>
            テーブルを分析します。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_auto-repair"></a>
            <a class="indexterm" name="idm139979154718448"></a> <a class="indexterm" name="idm139979154716304"></a> <code class="option">--auto-repair</code>
          </p><p>
            確認されたテーブルが壊れていた場合、自動的に修復します。必要な修復はすべてのテーブルが確認されたあとに実行されます。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_bind-address"></a>
            <a class="indexterm" name="idm139979154711568"></a> <a class="indexterm" name="idm139979154709408"></a> <code class="option">--bind-address=<em class="replaceable"><code>ip_address</code></em></code>
          </p><p>
            複数のネットワークインタフェースを持つコンピュータで、このオプションを使用して、MySQL サーバーへの接続に使用するインタフェースを選択します。
          </p><p>
            このオプションは MySQL 5.6.1 からサポートされています。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_character-sets-dir"></a>
            <a class="indexterm" name="idm139979154703696"></a> <a class="indexterm" name="idm139979154701536"></a> <code class="option">--character-sets-dir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            文字セットがインストールされているディレクトリ。<a class="xref" href="globalization.html#charset-configuration" title="10.5 文字セットの構成">セクション10.5「文字セットの構成」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_check"></a>
            <a class="indexterm" name="idm139979154696064"></a> <a class="indexterm" name="idm139979154693984"></a> <code class="option">--check</code>, <code class="option">-c</code>
          </p><p>
            テーブルにエラーがないか確認します。これはデフォルトの動作です。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_check-only-changed"></a>
            <a class="indexterm" name="idm139979154688976"></a> <a class="indexterm" name="idm139979154686816"></a> <code class="option">--check-only-changed</code>, <code class="option">-C</code>
          </p><p>
            最後に行われた検査以降に変更されたテーブル、または適切に閉じられなかったテーブルのみを検査します。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_check-upgrade"></a>
            <a class="indexterm" name="idm139979154681744"></a> <a class="indexterm" name="idm139979154679584"></a> <code class="option">--check-upgrade</code>, <code class="option">-g</code>
          </p><p>
            <code class="literal">CHECK TABLE</code> を <code class="literal">FOR UPGRADE</code> オプションで呼び出し、サーバーの現在のバージョンとの互換性のないテーブルがあるか検査します。このオプションにより、<code class="option">--fix-db-names</code> オプションおよび <code class="option">--fix-table-names</code> オプションが自動的に有効になります。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_compress"></a>
            <a class="indexterm" name="idm139979154671184"></a> <a class="indexterm" name="idm139979154669008"></a> <code class="option">--compress</code>
          </p><p>
            クライアントとサーバーの両方が圧縮をサポートしている場合、その間で送受信される情報をすべて圧縮します。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_databases"></a>
            <a class="indexterm" name="idm139979154664384"></a> <a class="indexterm" name="idm139979154662240"></a> <code class="option">--databases</code>, <code class="option">-B</code>
          </p><p>
            指定されたデータベース内のテーブルをすべて処理します。通常、<span class="command"><strong>mysqlcheck</strong></span> はコマンド行の最初の名前引数をデータベース名として、それに続く名前をテーブル名として処理します。このオプションを使用すると、名前引数をすべてデータベース名として処理します。
          </p><p>
            このオプションは、<code class="literal">INFORMATION_SCHEMA</code> データベースおよび <code class="literal">performace_schema</code> データベースのダンプに使用できます。これらは通常、<code class="option">--all-databases</code> オプションを指定してもダンプされません。(<code class="option">--skip-lock-tables</code> オプションも使用してください。)
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_debug"></a>
            <a class="indexterm" name="idm139979154652080"></a> <a class="indexterm" name="idm139979154649936"></a> <code class="option">--debug[=<em class="replaceable"><code>debug_options</code></em>]</code>, <code class="option">-# [<em class="replaceable"><code>debug_options</code></em>]</code>
          </p><p>
            デバッグのログを書き込みます。一般的な <em class="replaceable"><code>debug_options</code></em> 文字列は <code class="literal">d:t:o,<em class="replaceable"><code>file_name</code></em></code> です。デフォルトは <code class="literal">d:t:o</code> です。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_debug-check"></a>
            <a class="indexterm" name="idm139979154641952"></a> <a class="indexterm" name="idm139979154639808"></a> <code class="option">--debug-check</code>
          </p><p>
            プログラムの終了時に、デバッグ情報を出力します。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_debug-info"></a>
            <a class="indexterm" name="idm139979154635280"></a> <a class="indexterm" name="idm139979154633136"></a> <code class="option">--debug-info</code>
          </p><p>
            プログラムの終了時に、デバッグ情報とメモリーおよび CPU 使用率の統計を出力します。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_default-character-set"></a>
            <a class="indexterm" name="idm139979154628512"></a> <a class="indexterm" name="idm139979154626272"></a> <code class="option">--default-character-set=<em class="replaceable"><code>charset_name</code></em></code>
          </p><p>
            <em class="replaceable"><code>charset_name</code></em> をデフォルト文字セットとして使用します。<a class="xref" href="globalization.html#charset-configuration" title="10.5 文字セットの構成">セクション10.5「文字セットの構成」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_defaults-extra-file"></a>
            <a class="indexterm" name="idm139979154620352"></a> <a class="indexterm" name="idm139979154618224"></a> <code class="option">--defaults-extra-file=<em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            このオプションファイルは、グローバルオプションファイルのあとに読み取りますが、(UNIX では) ユーザーオプションファイルの前に読み取るようにしてください。ファイルが存在しないかアクセスできない場合、エラーが発生します。<em class="replaceable"><code>file_name</code></em> は、フルパス名でなく相対パス名として指定された場合、現行ディレクトリを基準にして解釈されます。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_defaults-file"></a>
            <a class="indexterm" name="idm139979154612224"></a> <a class="indexterm" name="idm139979154610064"></a> <code class="option">--defaults-file=<em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            指定されたオプションファイルのみ使用します。ファイルが存在しないかアクセスできない場合、エラーが発生します。<em class="replaceable"><code>file_name</code></em> は、フルパス名でなく相対パス名として指定された場合、現行ディレクトリを基準にして解釈されます。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_defaults-group-suffix"></a>
            <a class="indexterm" name="idm139979154604336"></a> <a class="indexterm" name="idm139979154602096"></a> <code class="option">--defaults-group-suffix=<em class="replaceable"><code>str</code></em></code>
          </p><p>
            通常のオプショングループだけでなく、通常の名前に <em class="replaceable"><code>str</code></em> のサフィクスが付いたグループも読み取ります。たとえば、<span class="command"><strong>mysqlcheck</strong></span> は通常 <code class="literal">[client]</code> グループおよび <code class="literal">[mysqlcheck]</code> グループを読み取ります。<code class="option">--defaults-group-suffix=_other</code> オプションを指定した場合、<span class="command"><strong>mysqlcheck</strong></span> は <code class="literal">[client_other]</code> グループおよび <code class="literal">[mysqlcheck_other]</code> グループも読み取ります。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_extended"></a>
            <a class="indexterm" name="idm139979154591424"></a> <a class="indexterm" name="idm139979154589248"></a> <code class="option">--extended</code>, <code class="option">-e</code>
          </p><p>
            テーブルの検査にこのオプションを使用している場合、100% 整合性があることが保証されますが、時間がかかります。
          </p><p>
            このオプションを使用してテーブルを修復している場合、修復作業に時間がかかるだけでなく、大量のガベージ行を生成することもあります。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_default-auth"></a>
            <a class="indexterm" name="idm139979154583392"></a> <a class="indexterm" name="idm139979154581232"></a> <code class="option">--default-auth=<em class="replaceable"><code>plugin</code></em></code>
          </p><p>
            使用するクライアント側の認証プラグイン。<a class="xref" href="security.html#pluggable-authentication" title="6.3.7 プラガブル認証">セクション6.3.7「プラガブル認証」</a>を参照してください。
          </p><p>
            このオプションは MySQL 5.6.2 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_fast"></a>
            <a class="indexterm" name="idm139979154575136"></a> <a class="indexterm" name="idm139979154572992"></a> <code class="option">--fast</code>, <code class="option">-F</code>
          </p><p>
            正しく閉じられていないテーブルのみを検査します。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_fix-db-names"></a>
            <a class="indexterm" name="idm139979154568144"></a> <a class="indexterm" name="idm139979154565984"></a> <code class="option">--fix-db-names</code>
          </p><p>
            データベース名を 5.1 形式に変換します。特殊文字を含むデータベース名のみ影響を受けます。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_fix-table-names"></a>
            <a class="indexterm" name="idm139979154561328"></a> <a class="indexterm" name="idm139979154559168"></a> <code class="option">--fix-table-names</code>
          </p><p>
            テーブル名を 5.1 形式に変換します。特殊文字を含むテーブル名のみ影響を受けます。このオプションはビューにも適用されます。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_force"></a>
            <a class="indexterm" name="idm139979154554464"></a> <a class="indexterm" name="idm139979154552320"></a> <code class="option">--force</code>, <code class="option">-f</code>
          </p><p>
            SQL エラーが発生しても続行します。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_host"></a>
            <a class="indexterm" name="idm139979154547520"></a> <a class="indexterm" name="idm139979154545376"></a> <code class="option">--host=<em class="replaceable"><code>host_name</code></em></code>, <code class="option">-h <em class="replaceable"><code>host_name</code></em></code>
          </p><p>
            指定されたホストの MySQL サーバーに接続します。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_login-path"></a>
            <a class="indexterm" name="idm139979154539920"></a> <a class="indexterm" name="idm139979154537776"></a> <code class="option">--login-path=<em class="replaceable"><code>name</code></em></code>
          </p><p>
            指名されたログインパスから <code class="filename">.mylogin.cnf</code> ログインファイルのオプションを読み取ります。<span class="quote">「<span class="quote">ログインパス</span>」</span>は、<code class="option">host</code>、<code class="option">user</code>、および <code class="option">password</code> という限定されたオプションのセットのみを許可するオプショングループです。ログインパスは、サーバーホストおよびそのサーバーで認証するための認証情報を示す値のセットであると考えてください。ログインパスファイルを作成するには、<span class="command"><strong>mysql_config_editor</strong></span> ユーティリティーを使用します。<a class="xref" href="programs.html#mysql-config-editor" title="4.6.6 mysql_config_editor — MySQL 構成ユーティリティー">セクション4.6.6「<span class="command"><strong>mysql_config_editor</strong></span> — MySQL 構成ユーティリティー」</a>を参照してください。このオプションは MySQL 5.6.6 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_medium-check"></a>
            <a class="indexterm" name="idm139979154528224"></a> <a class="indexterm" name="idm139979154526096"></a> <code class="option">--medium-check</code>, <code class="option">-m</code>
          </p><p>
            <code class="option">--extended</code> 操作よりも高速な検査を実行します。これはすべてのエラーの 99.99% のみを確認し、ほとんどの場合はこれで十分でしょう。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_no-defaults"></a>
            <a class="indexterm" name="idm139979154520384"></a> <a class="indexterm" name="idm139979154518240"></a> <code class="option">--no-defaults</code>
          </p><p>
            オプションファイルを読み取りません。オプションファイルから不明のオプションを読み取ることが原因でプログラムの起動に失敗する場合、<code class="option">--no-defaults</code> を使用して、オプションを読み取らないようにできます。
          </p><p>
            例外として、<code class="filename">.mylogin.cnf</code> ファイルは、存在する場合はすべての場合に読み取られます。これにより、<code class="option">--no-defaults</code> が使用された場合にも、コマンド行よりも安全な方法でパスワードを指定できます。(<code class="filename">.mylogin.cnf</code> は <span class="command"><strong>mysql_config_editor</strong></span> ユーティリティーによって作成されます。<a class="xref" href="programs.html#mysql-config-editor" title="4.6.6 mysql_config_editor — MySQL 構成ユーティリティー">セクション4.6.6「<span class="command"><strong>mysql_config_editor</strong></span> — MySQL 構成ユーティリティー」</a>を参照してください)。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_optimize"></a>
            <a class="indexterm" name="idm139979154508016"></a> <a class="indexterm" name="idm139979154505872"></a> <code class="option">--optimize</code>, <code class="option">-o</code>
          </p><p>
            テーブルを最適化します。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_password"></a>
            <a class="indexterm" name="idm139979154501088"></a> <a class="indexterm" name="idm139979154498912"></a> <code class="option">--password[=<em class="replaceable"><code>password</code></em>]</code>, <code class="option">-p[<em class="replaceable"><code>password</code></em>]</code>
          </p><p>
            サーバーに接続する際に使用するパスワードです。短いオプション形式 (<code class="option">-p</code>) を使用した場合は、オプションとパスワードの間にスペースを置くことは<span class="emphasis"><em>できません</em></span>。コマンド行で、<code class="option">--password</code> オプションまたは <code class="option">-p</code> オプションに続けて <em class="replaceable"><code>password</code></em> の値を指定しなかった場合、<span class="command"><strong>mysqlcheck</strong></span> はそれを要求します。
          </p><p>
            コマンド行でのパスワード指定は、セキュアでないと考えるべきです。<a class="xref" href="security.html#password-security-user" title="6.1.2.1 パスワードセキュリティーのためのエンドユーザーガイドライン">セクション6.1.2.1「パスワードセキュリティーのためのエンドユーザーガイドライン」</a>を参照してください。オプションファイルを使用すれば、コマンド行でパスワードを指定することを回避できます。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_pipe"></a>
            <a class="indexterm" name="idm139979154488224"></a> <a class="indexterm" name="idm139979154486080"></a> <code class="option">--pipe</code>, <code class="option">-W</code>
          </p><p>
            Windows で、名前付きパイプを使用してサーバーに接続します。このオプションは、サーバーが名前付きパイプ接続をサポートしている場合にのみ適用されます。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_plugin-dir"></a>
            <a class="indexterm" name="idm139979154480896"></a> <a class="indexterm" name="idm139979154478752"></a> <code class="option">--plugin-dir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            プラグインを検索するディレクトリ。<code class="option">--default-auth</code> オプションを使用して認証プラグインを指定したが、<span class="command"><strong>mysqlcheck</strong></span> がそれを検出できない場合は、このオプションを指定しなければならない可能性があります。<a class="xref" href="security.html#pluggable-authentication" title="6.3.7 プラガブル認証">セクション6.3.7「プラガブル認証」</a>を参照してください。
          </p><p>
            このオプションは MySQL 5.6.2 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_port"></a>
            <a class="indexterm" name="idm139979154470880"></a> <a class="indexterm" name="idm139979154468736"></a> <code class="option">--port=<em class="replaceable"><code>port_num</code></em></code>, <code class="option">-P <em class="replaceable"><code>port_num</code></em></code>
          </p><p>
            接続に使用する TCP/IP ポート番号。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_print-defaults"></a>
            <a class="indexterm" name="idm139979154463360"></a> <a class="indexterm" name="idm139979154461200"></a> <code class="option">--print-defaults</code>
          </p><p>
            プログラム名と、オプションファイルから受け取るすべてのオプションを出力します。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_protocol"></a>
            <a class="indexterm" name="idm139979154456560"></a> <a class="indexterm" name="idm139979154454384"></a> <code class="option">--protocol={TCP|SOCKET|PIPE|MEMORY}</code>
          </p><p>
            サーバーへの接続に使用する接続プロトコル。このオプションは、ほかの接続パラメータによって、必要なプロトコル以外のものが通常使用される場合に役立ちます。許可される値の詳細は、<a class="xref" href="programs.html#connecting" title="4.2.2 MySQL サーバーへの接続">セクション4.2.2「MySQL サーバーへの接続」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_quick"></a>
            <a class="indexterm" name="idm139979154448960"></a> <a class="indexterm" name="idm139979154446816"></a> <code class="option">--quick</code>, <code class="option">-q</code>
          </p><p>
            このオプションを使用してテーブルを検査している場合、正しくないリンクを検査するために行のスキャンを行いません。これが最速の検査方法です。
          </p><p>
            このオプションを使用してテーブルを修復している場合、インデックスツリーのみの修復を試みます。これが最速の修復方法です。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_repair"></a>
            <a class="indexterm" name="idm139979154440848"></a> <a class="indexterm" name="idm139979154438672"></a> <code class="option">--repair</code>, <code class="option">-r</code>
          </p><p>
            一意ではないユニークキー以外のすべてを修正できる修復を実行します。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_secure-auth"></a>
            <a class="indexterm" name="idm139979154433776"></a> <a class="indexterm" name="idm139979154431632"></a> <code class="option">--secure-auth</code>
          </p><p>
            古い (4.1 より前の) 形式でサーバーにパスワードを送信しません。これにより、新しいパスワード形式を使用するサーバー以外への接続を防ぎます。このオプションはデフォルトで有効です。無効にするには <code class="option">--skip-secure-auth</code> を使用します。このオプションは MySQL 5.6.17 で追加されました。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              4.1 より前のハッシュ方式を使用するパスワードはネイティブのパスワードハッシュ方式を使用するパスワードよりもセキュアでないため、使用しないようにしてください。4.1 よりも前のパスワードは非推奨であり、これらのサポートは今後の MySQL リリースで削除される予定です。アカウントのアップグレード手順については、<a class="xref" href="security.html#account-upgrades" title="6.3.8.3 4.1 よりも前のパスワードハッシュ方式と mysql_old_password プラグインからの移行">セクション6.3.8.3「4.1 よりも前のパスワードハッシュ方式と mysql_old_password プラグインからの移行」</a>を参照してください。
            </p></div></li><li class="listitem"><p><a name="option_mysqlcheck_shared-memory-base-name"></a>
            <a class="indexterm" name="idm139979154423392"></a> <a class="indexterm" name="idm139979154421248"></a> <code class="option">--shared-memory-base-name=<em class="replaceable"><code>name</code></em></code>
          </p><p>
            Windows で、共有メモリーを使用して作成されるローカルサーバーへの接続の共有メモリー名。デフォルト値は <code class="literal">MYSQL</code> です。共有メモリー名では大文字と小文字を区別します。
          </p><p>
            共有メモリー接続を可能にするには、サーバーは <code class="option">--shared-memory</code> オプションで起動する必要があります。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_silent"></a>
            <a class="indexterm" name="idm139979154413968"></a> <a class="indexterm" name="idm139979154411792"></a> <code class="option">--silent</code>, <code class="option">-s</code>
          </p><p>
            サイレントモード。エラーメッセージのみを出力します。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_skip-database"></a>
            <a class="indexterm" name="idm139979154406928"></a> <a class="indexterm" name="idm139979154404768"></a> <code class="option">--skip-database=<em class="replaceable"><code>db_name</code></em></code>
          </p><p>
            指名されたデータベース (大文字小文字は区別されます) を、<span class="command"><strong>mysqlcheck</strong></span> が実行する操作に含めません。このオプションは MySQL 5.6.11 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_socket"></a>
            <a class="indexterm" name="idm139979154398992"></a> <a class="indexterm" name="idm139979154396816"></a> <code class="option">--socket=<em class="replaceable"><code>path</code></em></code>, <code class="option">-S <em class="replaceable"><code>path</code></em></code>
          </p><p>
            <code class="literal">localhost</code> への接続用に使用する、Unix ソケットファイル、または Windows では使用する名前付きパイプの名前。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_ssl"></a>
            <a class="indexterm" name="idm139979154390608"></a> <a class="indexterm" name="idm139979154388480"></a> <code class="option">--ssl*</code>
          </p><p>
            <code class="option">--ssl</code> で始まるオプションは、SSL を使用してサーバーに接続するかどうかを指定し、SSL 鍵および証明書を検索する場所を指定します。<a class="xref" href="security.html#ssl-options" title="6.3.10.4 SSL コマンドのオプション">セクション6.3.10.4「SSL コマンドのオプション」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_tables"></a>
            <a class="indexterm" name="idm139979154382992"></a> <a class="indexterm" name="idm139979154380848"></a> <code class="option">--tables</code>
          </p><p>
            <code class="option">--databases</code> オプションまたは <code class="option">-B</code> オプションをおオーバーライドします。オプションに続くすべての名前引数はテーブル名とみなされます。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_use-frm"></a>
            <a class="indexterm" name="idm139979154375184"></a> <a class="indexterm" name="idm139979154373040"></a> <code class="option">--use-frm</code>
          </p><p>
            <code class="literal">MyISAM</code> テーブルの修復操作で、<code class="filename">.frm</code> ファイルからテーブル構造を取得することで <code class="filename">.MYI</code> ヘッダーが壊れていてもテーブルが修復できます。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_user"></a>
            <a class="indexterm" name="idm139979154366368"></a> <a class="indexterm" name="idm139979154364224"></a> <code class="option">--user=<em class="replaceable"><code>user_name</code></em></code>, <code class="option">-u <em class="replaceable"><code>user_name</code></em></code>
          </p><p>
            サーバーへの接続時に使用する MySQL ユーザー名。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_verbose"></a>
            <a class="indexterm" name="idm139979154358768"></a> <a class="indexterm" name="idm139979154356592"></a> <code class="option">--verbose</code>, <code class="option">-v</code>
          </p><p>
            冗長モード。プログラム処理のさまざまな段階についての情報を出力します。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_version"></a>
            <a class="indexterm" name="idm139979154351680"></a> <a class="indexterm" name="idm139979154349504"></a> <code class="option">--version</code>, <code class="option">-V</code>
          </p><p>
            バージョン情報を表示して終了します。
          </p></li><li class="listitem"><p><a name="option_mysqlcheck_write-binlog"></a>
            <a class="indexterm" name="idm139979154344688"></a> <a class="indexterm" name="idm139979154342528"></a> <code class="option">--write-binlog</code>
          </p><p>
            このオプションはデフォルトで有効で、<span class="command"><strong>mysqlcheck</strong></span> によって生成される <code class="literal">ANALYZE TABLE</code>、<code class="literal">OPTIMIZE TABLE</code>、および <code class="literal">REPAIR TABLE</code> の各ステートメントがバイナリログに書き込まれます。<code class="option">--skip-write-binlog</code> を使用すると、ステートメントに <code class="literal">NO_WRITE_TO_BINLOG</code> が追加され、ログに記録されなくなります。これらのステートメントがレプリケーションスレーブに送信されるべきではない場合またはバイナリログをバックアップからのリカバリに使用している場合には、<code class="option">--skip-write-binlog</code> を使用します。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysqldump"></a>4.5.4 <span class="command"><strong>mysqldump</strong></span> — データベースバックアッププログラム</h3></div></div></div><a class="indexterm" name="idm139979154329920"></a><a class="indexterm" name="idm139979154328704"></a><a class="indexterm" name="idm139979154326656"></a><a class="indexterm" name="idm139979154324720"></a><a class="indexterm" name="idm139979154322816"></a><p>
        <span class="command"><strong>mysqldump</strong></span> クライアントは、<a class="link" href="glossary.html#glos_logical_backup" title="論理バックアップ">論理バックアップ</a> を実行するユーティリティーで、元のスキーマオブジェクト、テーブルデータ、または両方を再現するために実行できる SQL ステートメントのセットを生成します。バックアップまたは別の SQL サーバーへの転送のため、1 つまたは複数の MySQL データベースをダンプします。<span class="command"><strong>mysqldump</strong></span> コマンドは、CSV、その他の区切り文字で区切られたテキスト、または XML 形式でも出力を生成できます。
      </p><p>
        <span class="command"><strong>mysqldump</strong></span> では、ダンプされるテーブルに対する <code class="literal">SELECT</code> 権限、ダンプされるビューに対する <code class="literal">SHOW VIEW</code>、ダンプされるトリガーに対する <code class="literal">TRIGGER</code>、および <code class="option">--single-transaction</code> オプションが使用されない場合には <code class="literal">LOCK TABLES</code> が少なくとも必要です。オプションの説明に示すように、一部のオプションではその他の権限が必要な場合があります。
      </p><p>
        ダンプファイルをリロードするには、<code class="literal">CREATE</code> ステートメントを手動で発行してダンプされる各オブジェクトを作成するために必要な権限と同じものを持っていなければなりません。
      </p><p>
        <span class="command"><strong>mysqldump</strong></span> 出力には、データベースの照合順序を変更する <code class="literal">ALTER DATABASE</code> ステートメントを含めることができます。これらは、ストアドプログラムをダンプする際に文字のエンコードを維持するために使用できます。このようなステートメントを含むダンプファイルをリロードするには、影響されるデータベースに対する <code class="literal">ALTER</code> 権限が必要です。
      </p><h4><a name="mysqldump-performance"></a>パフォーマンスおよびスケーラビリティーに関する考慮事項</h4><p>
        <code class="literal">mysqldump</code> の利点には、リストアする前に出力を表示して編集もできるという便利さと柔軟性があります。開発およびデータベース管理用にデータベースのクローンを作成したり、テスト用に既存のデータベースとわずかに異なるデータベースを作成したりできます。大量のデータのバックアップのための、高速でスケーラブルなソリューションを意図したものではありません。データサイズが大量の場合、バックアップのステップにかかる時間が妥当だとしても、SQL ステートメントの再現には、挿入やインデックスの作成などのディスク I/O が含まれるため、データのリストアに非常に長い時間がかかることがあります。
      </p><p>
        大規模なバックアップとリストアでは、データファイルを高速でリストアできる元の形式でコピーする、<a class="link" href="glossary.html#glos_physical" title="物理">物理</a>バックアップの方が適切です。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            テーブルが主に <code class="literal">InnoDB</code> テーブルである場合、または<code class="literal">InnoDB</code> テーブルと <code class="literal">MyISAM</code> テーブルが混在する場合は、MySQL Enterprise Backup 製品の <span class="command"><strong>mysqlbackup</strong></span> コマンドを使用することを検討してください。(Enterprise サブスクリプションの一部として含まれています。)これにより、最低限の中断でもっともパフォーマンスのよい <code class="literal">InnoDB</code> のバックアップを実行できます。また、<code class="literal">MyISAM</code> およびその他のストレージエンジンからのテーブルもバックアップでき、さまざまなバックアップシナリオに対応するための便利なオプションを多数提供します。<a class="xref" href="mysql-enterprise.html#mysql-enterprise-backup" title="25.2 MySQL Enterprise Backup">セクション25.2「MySQL Enterprise Backup」</a>を参照してください。
          </p></li><li class="listitem"><p>
            テーブルが主に <code class="literal">MyISAM</code> テーブルである場合は、代わりに <span class="command"><strong>mysqlhotcopy</strong></span> を使用することを検討してください。<span class="command"><strong>mysqldump</strong></span> のバックアップおよびリストア操作よりも優れたパフォーマンスを提供します。<a class="xref" href="programs.html#mysqlhotcopy" title="4.6.10 mysqlhotcopy — データベースバックアッププログラム">セクション4.6.10「<span class="command"><strong>mysqlhotcopy</strong></span> — データベースバックアッププログラム」</a>を参照してください。
          </p></li></ul></div><p>
        

        <span class="command"><strong>mysqldump</strong></span> は、テーブルの内容を 1 行ずつ取得してダンプすることも、ダンプする前にテーブルからすべての内容を取得して、メモリーにバッファリングすることもできます。大きなテーブルをダンプしている場合、メモリーへのバッファリングが問題になる場合があります。テーブルを 1 行ずつダンプする場合、<code class="option">--quick</code> オプションを使用してください (または <code class="option">--opt</code> を指定すれば <code class="option">--quick</code> が有効になります)。<code class="option">--opt</code> オプションは (したがって <code class="option">--quick</code> も) デフォルトで有効なため、メモリーへのバッファリングを有効にするには、<code class="option">--skip-quick</code> を使用します。
      </p><p>
        最近のバージョンの <span class="command"><strong>mysqldump</strong></span> を使用して、非常に古い MySQL サーバーにリロードされるダンプを生成する場合は、<code class="option">--opt</code> オプションまたは <code class="option">--extended-insert</code> オプションの代わりに <code class="option">--skip-opt</code> オプションを使用します。
      </p><p>
        <span class="command"><strong>mysqldump</strong></span> の詳細は、<a class="xref" href="backup-and-recovery.html#using-mysqldump" title="7.4 バックアップへの mysqldump の使用">セクション7.4「バックアップへの mysqldump の使用」</a>を参照してください。
      </p><h4><a name="mysqldump-syntax"></a>構文</h4><p>
        次に示すように、一般に <span class="command"><strong>mysqldump</strong></span> を使用するには、1 つまたは複数のテーブルのセットのダンプ、1 つまたは複数の完全なデータベースのセット、または MySQL サーバー全体の 3 つの方法があります。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqldump [<em class="replaceable"><code>options</code></em>] <em class="replaceable"><code>db_name</code></em> [<em class="replaceable"><code>tbl_name</code></em> ...]</code></strong>
shell&gt; <strong class="userinput"><code>mysqldump [<em class="replaceable"><code>options</code></em>] --databases <em class="replaceable"><code>db_name</code></em> ...</code></strong>
shell&gt; <strong class="userinput"><code>mysqldump [<em class="replaceable"><code>options</code></em>] --all-databases</code></strong>
</pre><p>
        データベース全体をダンプするには、<em class="replaceable"><code>db_name</code></em> に続けてテーブルを指名しないか、または <code class="option">--databases</code> オプションまたは <code class="option">--all-databases</code> オプションを使用します。
      </p><p>
        使用しているバージョンの <span class="command"><strong>mysqldump</strong></span> がサポートするオプションのリストを表示するには、コマンド <span class="command"><strong>mysqldump --help</strong></span> を発行します。
      </p><h4><a name="mysqldump-option-summary"></a>オプション構文 - アルファベット順のサマリー</h4><p>
        <span class="command"><strong>mysqldump</strong></span> は次のオプションをサポートします。これらはコマンド行またはオプションファイルの <code class="literal">[mysqldump]</code> グループおよび <code class="literal">[client]</code> グループで指定できます。MySQL プログラムによって使用されるオプションファイルの詳細については、<a class="xref" href="programs.html#option-files" title="4.2.6 オプションファイルの使用">セクション4.2.6「オプションファイルの使用」</a>を参照してください。
      </p><div class="table"><a name="idm139979154256768"></a><p class="title"><b>表 4.8 <code class="literal">mysqldump</code> のオプション</b></p><div class="table-contents"><table summary="mysqldump のオプション" border="1"><colgroup><col class="format"><col class="description"><col class="introduced"></colgroup><thead><tr><th scope="col">形式</th><th scope="col">説明</th><th scope="col">導入</th></tr></thead><tbody><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_add-drop-database">--add-drop-database</a></td><td>DROP DATABASE ステートメントを CREATE DATABASE ステートメントの前に追加</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_add-drop-table">--add-drop-table</a></td><td>DROP TABLE ステートメントを CREATE TABLE ステートメントの前に追加</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_add-drop-trigger">--add-drop-trigger</a></td><td>DROP TRIGGER ステートメントを CREATE TRIGGER ステートメントの前に追加</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_add-locks">--add-locks</a></td><td>LOCK TABLES と UNLOCK TABLES ステートメントで各テーブルダンプを囲む</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_all-databases">--all-databases</a></td><td>すべてのデータベース内のすべてのテーブルをダンプ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_allow-keywords">--allow-keywords</a></td><td>キーワードであるカラム名の作成を許可</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_apply-slave-statements">--apply-slave-statements</a></td><td>CHANGE MASTER ステートメントの前に STOP SLAVE を含め、START SLAVE を出力の最後に含める</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_bind-address">--bind-address</a></td><td>指定されたネットワークインタフェースを使用して MySQL サーバーに接続</td><td>5.6.1</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_comments">--comments</a></td><td>ダンプファイルにコメントを追加</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_compact">--compact</a></td><td>よりコンパクトな出力を生成</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_compatible">--compatible</a></td><td>古い MySQL サーバーやほかのデータベースシステムとの互換性がより高い出力を生成</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_complete-insert">--complete-insert</a></td><td>カラム名を含む完全な INSERT ステートメントを使用</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_create-options">--create-options</a></td><td>すべての MySQL に固有なテーブルオプションを CREATE TABLE ステートメントに含める</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_databases">--databases</a></td><td>複数のデータベースをダンプ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_debug">--debug</a></td><td>デバッグのログを書き込み</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_debug-check">--debug-check</a></td><td>プログラムの終了時にデバッグ情報を出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_debug-info">--debug-info</a></td><td>プログラムの終了時に、デバッグ情報、メモリー、および CPU の統計を出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_default-auth">--default-auth</a></td><td>使用する認証プラグイン</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_default-character-set">--default-character-set</a></td><td>デフォルト文字セットを指定</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_defaults-extra-file">--defaults-extra-file</a></td><td>通常のオプションファイルに加えてオプションファイルを読み取る</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_defaults-file">--defaults-file</a></td><td>指名されたオプションファイルのみを読み取る</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_defaults-group-suffix">--defaults-group-suffix</a></td><td>オプショングループのサフィクス値</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_delayed-insert">--delayed-insert</a></td><td>INSERT ステートメントではなく INSERT DELAYED ステートメントを書き出す</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_delete-master-logs">--delete-master-logs</a></td><td>マスターレプリケーションサーバーで、ダンプ操作の実行後にバイナリログを削除</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_disable-keys">--disable-keys</a></td><td>各テーブルについて、キーを無効にするステートメントおよび有効にするステートメントで INSERT ステートメントを囲む</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_dump-date">--dump-date</a></td><td>--comments が指定された場合、ダンプ日を "Dump completed on" コメントとして含める</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_dump-slave">--dump-slave</a></td><td>スレーブのマスターのバイナリログ座標をリストする CHANGE MASTER ステートメントを含める</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_events">--events</a></td><td>ダンプされたデータベースからイベントをダンプ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_extended-insert">--extended-insert</a></td><td>複数の VALUES リストを含む、複数行 INSERT 構文を使用</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_fields">--fields-enclosed-by</a></td><td>このオプションは --tab オプションとともに使用され、LOAD DATA INFILE の対応する句と同じ意味を持つ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_fields">--fields-escaped-by</a></td><td>このオプションは --tab オプションとともに使用され、LOAD DATA INFILE の対応する句と同じ意味を持つ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_fields">--fields-optionally-enclosed-by</a></td><td>このオプションは --tab オプションとともに使用され、LOAD DATA INFILE の対応する句と同じ意味を持つ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_fields">--fields-terminated-by</a></td><td>このオプションは --tab オプションとともに使用され、LOAD DATA INFILE の対応する句と同じ意味を持つ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_flush-logs">--flush-logs</a></td><td>ダンプを始める前に MySQL サーバーログファイルをフラッシュ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_flush-privileges">--flush-privileges</a></td><td>mysql データベースのダンプ後、FLUSH PRIVILEGES ステートメントを発行</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_help">--help</a></td><td>ヘルプメッセージを表示して終了</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_hex-blob">--hex-blob</a></td><td>バイナリカラムを 16 進変換表記法を使用してダンプ (たとえば、'abc' は 0x616263)</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_host">--host</a></td><td>接続先のホスト (IP アドレスまたはホスト名)</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_ignore-table">--ignore-table</a></td><td>指定されたテーブルをダンプしない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_include-master-host-port">--include-master-host-port</a></td><td>--dump-slave ともに生成された CHANGE MASTER ステートメントに MASTER_HOST/MASTER_PORT オプションを含める</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_insert-ignore">--insert-ignore</a></td><td>INSERT ステートメントではなく INSERT IGNORE ステートメントを書き出す</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_lines-terminated-by">--lines-terminated-by</a></td><td>このオプションは --tab オプションとともに使用され、LOAD DATA INFILE の対応する句と同じ意味を持つ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_lock-all-tables">--lock-all-tables</a></td><td>データベース内のテーブルをすべてロック</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_lock-tables">--lock-tables</a></td><td>テーブルをダンプする前にすべてロック</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_log-error">--log-error</a></td><td>警告およびエラーを指名されたファイルに追加</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_login-path">--login-path</a></td><td>ログインパスオプションを .mylogin.cnf から読み取り</td><td>5.6.6</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_master-data">--master-data</a></td><td>バイナリログファイルの名前と場所を出力に書き込む</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_max_allowed_packet">--max_allowed_packet</a></td><td>サーバーとの間で送受信するパケットの最大長</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_net_buffer_length">--net_buffer_length</a></td><td>TCP/IP とソケット通信のバッファーサイズ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_no-autocommit">--no-autocommit</a></td><td>ダンプされたテーブルごとに、INSERT ステートメントを SET autocommit = 0 ステートメントと COMMIT ステートメントで囲む</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_no-create-db">--no-create-db</a></td><td>このオプションは CREATE DATABASE ステートメントを抑制</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_no-create-info">--no-create-info</a></td><td>各ダンプされたテーブルを再作成する CREATE TABLE ステートメントを書き出さない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_no-data">--no-data</a></td><td>テーブルの内容をダンプしない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_no-defaults">--no-defaults</a></td><td>オプションファイルを読み取らない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_no-set-names">--no-set-names</a></td><td>--skip-set-charset と同じ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_no-tablespaces">--no-tablespaces</a></td><td>CREATE LOGFILE GROUP ステートメントおよび CREATE TABLESPACE ステートメントを出力に書き出さない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_opt">--opt</a></td><td>--add-drop-table --add-locks --create-options --disable-keys --extended-insert --lock-tables --quick --set-charset の短縮形。</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_order-by-primary">--order-by-primary</a></td><td>各テーブルの行を、主キーまたは最初の一意のインデックスでソートしてダンプ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_password">--password</a></td><td>サーバーに接続する際に使用するパスワード</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_pipe">--pipe</a></td><td>Windows で、名前付きパイプを使用してサーバーに接続</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_plugin-dir">--plugin-dir</a></td><td>プラグインがインストールされているディレクトリ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_port">--port</a></td><td>接続に使用する TCP/IP ポート番号</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_print-defaults">--print-defaults</a></td><td>デフォルトを出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_protocol">--protocol</a></td><td>使用する接続プロトコル</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_quick">--quick</a></td><td>サーバーからのテーブルについて、一度に 1 行ずつ取得</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_quote-names">--quote-names</a></td><td>識別子を逆引用符文字で囲む</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_replace">--replace</a></td><td>INSERT ステートメントではなく REPLACE ステートメントを書き出す</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_result-file">--result-file</a></td><td>指定されたファイルに出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_routines">--routines</a></td><td>ダンプされたデータベースからストアドルーチン (プロシージャーおよび関数) をダンプ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_secure-auth">--secure-auth</a></td><td>古い (4.1.1 より前の) 形式でサーバーにパスワードを送信しない</td><td>5.6.17</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_set-charset">--set-charset</a></td><td>SET NAMES default_character_set を出力に追加</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_set-gtid-purged">--set-gtid-purged</a></td><td>SET @@GLOBAL.GTID_PURGED を出力に追加するかどうか</td><td>5.6.9</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_shared-memory-base-name">--shared-memory-base-name</a></td><td>共有メモリー接続に使用する共有メモリーの名前</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_single-transaction">--single-transaction</a></td><td>このオプションは、サーバーからデータをダンプする前に BEGIN SQL ステートメントを発行</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_add-drop-table">--skip-add-drop-table</a></td><td>DROP TABLE ステートメントを CREATE TABLE ステートメントの前に追加しない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_add-locks">--skip-add-locks</a></td><td>ロックを追加しない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_skip-comments">--skip-comments</a></td><td>ダンプファイルにコメントを追加しない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_compact">--skip-compact</a></td><td>よりコンパクトな出力を生成しない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_disable-keys">--skip-disable-keys</a></td><td>キーを無効にしない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_extended-insert">--skip-extended-insert</a></td><td>extended-insert をオフにする</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_skip-opt">--skip-opt</a></td><td>--opt で設定されたオプションをオフにする</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_quick">--skip-quick</a></td><td>サーバーからのテーブルについて、一度に 1 行ずつ取得しない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_quote-names">--skip-quote-names</a></td><td>識別子を引用符で囲まない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_set-charset">--skip-set-charset</a></td><td>SET NAMES ステートメントを抑制</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_triggers">--skip-triggers</a></td><td>トリガーをダンプしない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_tz-utc">--skip-tz-utc</a></td><td>tz-utc をオフにする</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_socket">--socket</a></td><td>ローカルホストへの接続で、使用する Unix ソケットファイル</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_ssl">--ssl</a></td><td>接続に SSL を有効化</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_ssl">--ssl-ca</a></td><td>信頼された SSL CA のリストを含むファイルのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_ssl">--ssl-capath</a></td><td>信頼された SSL CA の PEM 形式の証明書を含むディレクトリのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_ssl">--ssl-cert</a></td><td>PEM 形式の X509 証明書を含むファイルのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_ssl">--ssl-cipher</a></td><td>SSL の暗号化に使用される、許可された暗号のリスト</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_ssl">--ssl-crl</a></td><td>証明書失効リストを含むファイルのパス</td><td>5.6.3</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_ssl">--ssl-crlpath</a></td><td>証明書失効リストファイルを含むディレクトリのパス</td><td>5.6.3</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_ssl">--ssl-key</a></td><td>PEM 形式の X509 鍵を含むファイルのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_ssl">--ssl-verify-server-cert</a></td><td>サーバーへの接続時に、サーバーの証明書内のコモンネーム値をホスト名に対して検証</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_tab">--tab</a></td><td>タブ区切りのデータファイルを生成</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_tables">--tables</a></td><td>--databases オプションまたは -B オプションをオーバーライド</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_triggers">--triggers</a></td><td>ダンプされた各テーブルについて、トリガーをダンプする</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_tz-utc">--tz-utc</a></td><td>SET TIME_ZONE='+00:00' をダンプファイルに追加</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_user">--user</a></td><td>サーバーへの接続時に使用する MySQL ユーザー名</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_verbose">--verbose</a></td><td>冗長モード</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_version">--version</a></td><td>バージョン情報を表示して終了</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_where">--where</a></td><td>所定の WHERE 条件で選択された行のみダンプ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldump_xml">--xml</a></td><td>XML 出力を生成</td><td> </td></tr></tbody></table></div></div><br class="table-break"><h4><a name="mysqldump-connection-options"></a>接続オプション</h4><p>
        <span class="command"><strong>mysqldump</strong></span> コマンドは MySQL サーバーにログインして情報を抽出します。次のオプションは、同じマシンまたはリモートシステム上の MySQL サーバーに接続する方法を指定します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysqldump_bind-address"></a>
            <a class="indexterm" name="idm139979154039840"></a> <a class="indexterm" name="idm139979154037680"></a> <code class="option">--bind-address=<em class="replaceable"><code>ip_address</code></em></code>
          </p><p>
            複数のネットワークインタフェースを持つコンピュータで、このオプションを使用して、MySQL サーバーへの接続に使用するインタフェースを選択します。
          </p><p>
            このオプションは MySQL 5.6.1 からサポートされています。
          </p></li><li class="listitem"><p><a name="option_mysqldump_compress"></a>
            <a class="indexterm" name="idm139979154031920"></a> <a class="indexterm" name="idm139979154029744"></a> <code class="option">--compress</code>, <code class="option">-C</code>
          </p><p>
            クライアントとサーバーの両方が圧縮をサポートしている場合、その間で送受信される情報をすべて圧縮します。
          </p></li><li class="listitem"><p><a name="option_mysqldump_default-auth"></a>
            <a class="indexterm" name="idm139979154025008"></a> <a class="indexterm" name="idm139979154022848"></a> <code class="option">--default-auth=<em class="replaceable"><code>plugin</code></em></code>
          </p><p>
            使用するクライアント側の認証プラグイン。<a class="xref" href="security.html#pluggable-authentication" title="6.3.7 プラガブル認証">セクション6.3.7「プラガブル認証」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqldump_host"></a>
            <a class="indexterm" name="idm139979154017632"></a> <a class="indexterm" name="idm139979154015488"></a> <code class="option">--host=<em class="replaceable"><code>host_name</code></em></code>, <code class="option">-h <em class="replaceable"><code>host_name</code></em></code>
          </p><p>
            与えられたホスト上の MySQL サーバーからデータをダンプします。デフォルトホストは <code class="literal">localhost</code> です。
          </p></li><li class="listitem"><p><a name="option_mysqldump_login-path"></a>
            <a class="indexterm" name="idm139979154009472"></a> <a class="indexterm" name="idm139979154007328"></a> <code class="option">--login-path=<em class="replaceable"><code>name</code></em></code>
          </p><p>
            指名されたログインパスから <code class="filename">.mylogin.cnf</code> ログインファイルのオプションを読み取ります。<span class="quote">「<span class="quote">ログインパス</span>」</span>は、<code class="option">host</code>、<code class="option">user</code>、および <code class="option">password</code> という限定されたオプションのセットのみを許可するオプショングループです。ログインパスは、サーバーホストおよびそのサーバーで認証するための認証情報を示す値のセットであると考えてください。ログインパスファイルを作成するには、<span class="command"><strong>mysql_config_editor</strong></span> ユーティリティーを使用します。<a class="xref" href="programs.html#mysql-config-editor" title="4.6.6 mysql_config_editor — MySQL 構成ユーティリティー">セクション4.6.6「<span class="command"><strong>mysql_config_editor</strong></span> — MySQL 構成ユーティリティー」</a>を参照してください。このオプションは MySQL 5.6.6 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqldump_password"></a>
            <a class="indexterm" name="idm139979153997776"></a> <a class="indexterm" name="idm139979153995632"></a> <code class="option">--password[=<em class="replaceable"><code>password</code></em>]</code>, <code class="option">-p[<em class="replaceable"><code>password</code></em>]</code>
          </p><p>
            サーバーに接続する際に使用するパスワードです。短いオプション形式 (<code class="option">-p</code>) を使用した場合は、オプションとパスワードの間にスペースを置くことは<span class="emphasis"><em>できません</em></span>。コマンド行で、<code class="option">--password</code> オプションまたは <code class="option">-p</code> オプションに続けて <em class="replaceable"><code>password</code></em> の値を指定しなかった場合、<span class="command"><strong>mysqldump</strong></span> はそれを要求します。
          </p><p>
            コマンド行でのパスワード指定は、セキュアでないと考えるべきです。<a class="xref" href="security.html#password-security-user" title="6.1.2.1 パスワードセキュリティーのためのエンドユーザーガイドライン">セクション6.1.2.1「パスワードセキュリティーのためのエンドユーザーガイドライン」</a>を参照してください。オプションファイルを使用すれば、コマンド行でパスワードを指定することを回避できます。
          </p></li><li class="listitem"><p><a name="option_mysqldump_pipe"></a>
            <a class="indexterm" name="idm139979153985488"></a> <a class="indexterm" name="idm139979153983344"></a> <code class="option">--pipe</code>, <code class="option">-W</code>
          </p><p>
            Windows で、名前付きパイプを使用してサーバーに接続します。このオプションは、サーバーが名前付きパイプ接続をサポートしている場合にのみ適用されます。
          </p></li><li class="listitem"><p><a name="option_mysqldump_plugin-dir"></a>
            <a class="indexterm" name="idm139979153978432"></a> <a class="indexterm" name="idm139979153976288"></a> <code class="option">--plugin-dir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            プラグインを検索するディレクトリ。<code class="option">--default-auth</code> オプションを使用して認証プラグインを指定したが、<span class="command"><strong>mysqldump</strong></span> がそれを検出できない場合は、このオプションを指定しなければならない可能性があります。<a class="xref" href="security.html#pluggable-authentication" title="6.3.7 プラガブル認証">セクション6.3.7「プラガブル認証」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqldump_port"></a>
            <a class="indexterm" name="idm139979153969264"></a> <a class="indexterm" name="idm139979153967120"></a> <code class="option">--port=<em class="replaceable"><code>port_num</code></em></code>, <code class="option">-P <em class="replaceable"><code>port_num</code></em></code>
          </p><p>
            接続に使用する TCP/IP ポート番号。
          </p></li><li class="listitem"><p><a name="option_mysqldump_protocol"></a>
            <a class="indexterm" name="idm139979153962016"></a> <a class="indexterm" name="idm139979153959840"></a> <code class="option">--protocol={TCP|SOCKET|PIPE|MEMORY}</code>
          </p><p>
            サーバーへの接続に使用する接続プロトコル。このオプションは、ほかの接続パラメータによって、必要なプロトコル以外のものが通常使用される場合に役立ちます。許可される値の詳細は、<a class="xref" href="programs.html#connecting" title="4.2.2 MySQL サーバーへの接続">セクション4.2.2「MySQL サーバーへの接続」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqldump_secure-auth"></a>
            <a class="indexterm" name="idm139979153954544"></a> <a class="indexterm" name="idm139979153952432"></a> <code class="option">--secure-auth</code>
          </p><p>
            古い (4.1 より前の) 形式でサーバーにパスワードを送信しません。これにより、新しいパスワード形式を使用するサーバー以外への接続を防ぎます。このオプションはデフォルトで有効です。無効にするには <code class="option">--skip-secure-auth</code> を使用します。このオプションは MySQL 5.6.17 で追加されました。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              4.1 より前のハッシュ方式を使用するパスワードはネイティブのパスワードハッシュ方式を使用するパスワードよりもセキュアでないため、使用しないようにしてください。4.1 よりも前のパスワードは非推奨であり、これらのサポートは今後の MySQL リリースで削除される予定です。アカウントのアップグレード手順については、<a class="xref" href="security.html#account-upgrades" title="6.3.8.3 4.1 よりも前のパスワードハッシュ方式と mysql_old_password プラグインからの移行">セクション6.3.8.3「4.1 よりも前のパスワードハッシュ方式と mysql_old_password プラグインからの移行」</a>を参照してください。
            </p></div></li><li class="listitem"><p><a name="option_mysqldump_socket"></a>
            <a class="indexterm" name="idm139979153944256"></a> <a class="indexterm" name="idm139979153942112"></a> <code class="option">--socket=<em class="replaceable"><code>path</code></em></code>, <code class="option">-S <em class="replaceable"><code>path</code></em></code>
          </p><p>
            <code class="literal">localhost</code> への接続用に使用する、Unix ソケットファイル、または Windows では使用する名前付きパイプの名前。
          </p></li><li class="listitem"><p><a name="option_mysqldump_ssl"></a>
            <a class="indexterm" name="idm139979153936176"></a> <a class="indexterm" name="idm139979153934048"></a> <code class="option">--ssl*</code>
          </p><p>
            <code class="option">--ssl</code> で始まるオプションは、SSL を使用してサーバーに接続することを許可するかどうかを指定し、SSL 鍵および証明書を検索する場所を指定します。<a class="xref" href="security.html#ssl-options" title="6.3.10.4 SSL コマンドのオプション">セクション6.3.10.4「SSL コマンドのオプション」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqldump_user"></a>
            <a class="indexterm" name="idm139979153928288"></a> <a class="indexterm" name="idm139979153926144"></a> <code class="option">--user=<em class="replaceable"><code>user_name</code></em></code>, <code class="option">-u <em class="replaceable"><code>user_name</code></em></code>
          </p><p>
            サーバーへの接続時に使用する MySQL ユーザー名。
          </p></li></ul></div><p>
        <code class="option">--<em class="replaceable"><code>var_name</code></em>=<em class="replaceable"><code>value</code></em></code> 構文を使用すれば、次の変数も設定できます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysqldump_max_allowed_packet"></a>
            <code class="literal">max_allowed_packet</code>
          </p><p>
            クライアント/サーバー通信用のバッファーの最大サイズ。デフォルトは 24M バイト、最大は 1G バイトです。
          </p></li><li class="listitem"><p><a name="option_mysqldump_net_buffer_length"></a>
            <code class="literal">net_buffer_length</code>
          </p><p>
            クライアント/サーバー通信用のバッファーの初期サイズ。複数行の <code class="literal">INSERT</code> ステートメント (<code class="option">--extended-insert</code> オプションまたは <code class="option">--opt</code> オプションを使用する場合など) を作成する場合、<span class="command"><strong>mysqldump</strong></span> は <code class="literal">net_buffer_length</code> までの長さの行を作成します。この変数を増加させる場合は、MySQL サーバー内の <code class="literal">net_buffer_length</code> 変数が少なくともこの大きさであることを確認してください。
          </p></li></ul></div><h4><a name="mysqldump-option-file-options"></a>オプションファイルオプション</h4><p>
        これらのオプションは、どのオプションファイルを読み取るかを制御するために使用されます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysqldump_defaults-extra-file"></a>
            <a class="indexterm" name="idm139979153905760"></a> <a class="indexterm" name="idm139979153903600"></a> <code class="option">--defaults-extra-file=<em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            このオプションファイルは、グローバルオプションファイルのあとに読み取りますが、(UNIX では) ユーザーオプションファイルの前に読み取るようにしてください。ファイルが存在しないかアクセスできない場合、エラーが発生します。<em class="replaceable"><code>file_name</code></em> は、フルパス名でなく相対パス名として指定された場合、現行ディレクトリを基準にして解釈されます。
          </p></li><li class="listitem"><p><a name="option_mysqldump_defaults-file"></a>
            <a class="indexterm" name="idm139979153897664"></a> <a class="indexterm" name="idm139979153895504"></a> <code class="option">--defaults-file=<em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            指定されたオプションファイルのみ使用します。ファイルが存在しないかアクセスできない場合、エラーが発生します。<em class="replaceable"><code>file_name</code></em> は、フルパス名でなく相対パス名として指定された場合、現行ディレクトリを基準にして解釈されます。
          </p></li><li class="listitem"><p><a name="option_mysqldump_defaults-group-suffix"></a>
            <a class="indexterm" name="idm139979153889776"></a> <a class="indexterm" name="idm139979153887536"></a> <code class="option">--defaults-group-suffix=<em class="replaceable"><code>str</code></em></code>
          </p><p>
            通常のオプショングループだけでなく、通常の名前に <em class="replaceable"><code>str</code></em> のサフィクスが付いたグループも読み取ります。たとえば、<span class="command"><strong>mysqldump</strong></span> は通常 <code class="literal">[client]</code> グループおよび <code class="literal">[mysqldump]</code> グループを読み取ります。<code class="option">--defaults-group-suffix=_other</code> オプションを指定した場合、<span class="command"><strong>mysqldump</strong></span> は <code class="literal">[client_other]</code> グループおよび <code class="literal">[mysqldump_other]</code> グループも読み取ります。
          </p></li><li class="listitem"><p><a name="option_mysqldump_no-defaults"></a>
            <a class="indexterm" name="idm139979153876864"></a> <a class="indexterm" name="idm139979153874720"></a> <code class="option">--no-defaults</code>
          </p><p>
            オプションファイルを読み取りません。オプションファイルから不明のオプションを読み取ることが原因でプログラムの起動に失敗する場合、<code class="option">--no-defaults</code> を使用して、オプションを読み取らないようにできます。
          </p><p>
            例外として、<code class="filename">.mylogin.cnf</code> ファイルは、存在する場合はすべての場合に読み取られます。これにより、<code class="option">--no-defaults</code> が使用された場合にも、コマンド行よりも安全な方法でパスワードを指定できます。(<code class="filename">.mylogin.cnf</code> は <span class="command"><strong>mysql_config_editor</strong></span> ユーティリティーによって作成されます。<a class="xref" href="programs.html#mysql-config-editor" title="4.6.6 mysql_config_editor — MySQL 構成ユーティリティー">セクション4.6.6「<span class="command"><strong>mysql_config_editor</strong></span> — MySQL 構成ユーティリティー」</a>を参照してください)。
          </p></li><li class="listitem"><p><a name="option_mysqldump_print-defaults"></a>
            <a class="indexterm" name="idm139979153864496"></a> <a class="indexterm" name="idm139979153862368"></a> <code class="option">--print-defaults</code>
          </p><p>
            プログラム名と、オプションファイルから受け取るすべてのオプションを出力します。
          </p></li></ul></div><h4><a name="mysqldump-ddl-options"></a>DDL オプション</h4><p>
        <span class="command"><strong>mysqldump</strong></span> の使用シナリオには、新しい MySQL インスタンス全体 (データベーステーブルを含む) のセットアップ、および既存のインスタンス内部のデータを既存のデータベースおよびテーブルで置換することが含まれます。次のオプションを使用すると、ダンプファイル内にさまざまな DDL ステートメントをエンコードすることによって、ダンプをリストアする際に何を削除し何をセットアップするのかを指定できます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysqldump_add-drop-database"></a>
            <a class="indexterm" name="idm139979153854464"></a> <a class="indexterm" name="idm139979153852304"></a> <code class="option">--add-drop-database</code>
          </p><p>
            <code class="literal">DROP DATABASE</code> ステートメントを各 <code class="literal">CREATE DATABASE</code> ステートメントの前に追加します。通常このオプションは、<code class="option">--all-databases</code> オプションまたは <code class="option">--databases</code> オプションとともに使用されます。これらのオプションのいずれかを指定しないと <code class="literal">CREATE DATABASE</code> ステートメントが書き込まれないからです。
          </p></li><li class="listitem"><p><a name="option_mysqldump_add-drop-table"></a>
            <a class="indexterm" name="idm139979153843264"></a> <a class="indexterm" name="idm139979153841104"></a> <code class="option">--add-drop-table</code>
          </p><p>
            <code class="literal">DROP TABLE</code> ステートメントを各 <code class="literal">CREATE TABLE</code> ステートメントの前に追加します。
          </p></li><li class="listitem"><p><a name="option_mysqldump_add-drop-trigger"></a>
            <a class="indexterm" name="idm139979153834896"></a> <a class="indexterm" name="idm139979153832736"></a> <code class="option">--add-drop-trigger</code>
          </p><p>
            <code class="literal">DROP TRIGGER</code> ステートメントを各 <code class="literal">CREATE TRIGGER</code> ステートメントの前に追加します。
          </p></li><li class="listitem"><p><a name="option_mysqldump_all-tablespaces"></a>
            <a class="indexterm" name="idm139979153826480"></a> <a class="indexterm" name="idm139979153824320"></a> <code class="option">--all-tablespaces</code>, <code class="option">-Y</code>
          </p><p>
            <code class="literal">NDB</code> テーブルが使用するテーブルスペースを作成するために必要なすべての SQL ステートメントをテーブルダンプに追加します。そうしないと、この情報は <span class="command"><strong>mysqldump</strong></span> の出力には含まれません。このオプションは、現在 MySQL Cluster テーブルに対してのみ有効です。
          </p></li><li class="listitem"><p><a name="option_mysqldump_no-create-db"></a>
            <a class="indexterm" name="idm139979153817504"></a> <a class="indexterm" name="idm139979153815344"></a> <code class="option">--no-create-db</code>, <code class="option">-n</code>
          </p><p>
            このオプションは、<code class="option">--databases</code> オプションまたは <code class="option">--all-databases</code> オプションが指定されていた場合、出力に含まれる <code class="literal">CREATE DATABASE</code> ステートメントを抑制します。
          </p></li><li class="listitem"><p><a name="option_mysqldump_no-create-info"></a>
            <a class="indexterm" name="idm139979153808112"></a> <a class="indexterm" name="idm139979153805952"></a> <code class="option">--no-create-info</code>, <code class="option">-t</code>
          </p><p>
            ダンプされた各テーブルを再作成する <code class="literal">CREATE TABLE</code> ステートメントを書き込みません。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              このオプションは、ログファイルグループまたはテーブルスペースを作成するステートメントを、<span class="command"><strong>mysqldump</strong></span> 出力から除外<span class="emphasis"><em>しません</em></span>。ただし、このためには <code class="option">--no-tablespaces</code> オプションを使用できます。
            </p></div></li><li class="listitem"><p><a name="option_mysqldump_no-tablespaces"></a>
            <a class="indexterm" name="idm139979153797168"></a> <a class="indexterm" name="idm139979153795008"></a> <code class="option">--no-tablespaces</code>, <code class="option">-y</code>
          </p><p>
            このオプションは、<span class="command"><strong>mysqldump</strong></span> の出力内のすべての <code class="literal">CREATE LOGFILE GROUP</code> ステートメントおよび<code class="literal">CREATE TABLESPACE</code> ステートメントを抑制します。
          </p></li><li class="listitem"><p><a name="option_mysqldump_replace"></a>
            <a class="indexterm" name="idm139979153787520"></a> <a class="indexterm" name="idm139979153785344"></a> <code class="option">--replace</code>
          </p><p>
            <code class="literal">INSERT</code> ステートメントではなく <code class="literal">REPLACE</code> ステートメントを書き込みます。
          </p></li></ul></div><h4><a name="mysqldump-debug-options"></a>デバッグオプション</h4><p>
        次のオプションは、デバッグ情報を出力したり、ダンプファイルにデバッグ情報をエンコードしたり、または潜在的な問題にかかわらずダンプ操作を続行させたりします。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysqldump_allow-keywords"></a>
            <a class="indexterm" name="idm139979153776720"></a> <a class="indexterm" name="idm139979153774592"></a> <code class="option">--allow-keywords</code>
          </p><p>
            キーワードであるカラム名の作成を許可します。これは各カラム名にテーブル名のプリフィクスを用いることで機能します。
          </p></li><li class="listitem"><p><a name="option_mysqldump_comments"></a>
            <a class="indexterm" name="idm139979153770128"></a> <a class="indexterm" name="idm139979153767952"></a> <code class="option">--comments</code>, <code class="option">-i</code>
          </p><p>
            プログラムバージョン、サーバーバージョン、およびホストなどの追加情報をダンプファイルに書き込みます。このオプションはデフォルトで有効となっています。この追加情報を抑制するには、<code class="option">--skip-comments</code> を使用してください。
          </p></li><li class="listitem"><p><a name="option_mysqldump_debug"></a>
            <a class="indexterm" name="idm139979153762224"></a> <a class="indexterm" name="idm139979153760080"></a> <code class="option">--debug[=<em class="replaceable"><code>debug_options</code></em>]</code>, <code class="option">-# [<em class="replaceable"><code>debug_options</code></em>]</code>
          </p><p>
            デバッグのログを書き込みます。一般的な <em class="replaceable"><code>debug_options</code></em> 文字列は <code class="literal">d:t:o,<em class="replaceable"><code>file_name</code></em></code> です。デフォルト値は <code class="literal">d:t:o,/tmp/mysqldump.trace</code> です。
          </p></li><li class="listitem"><p><a name="option_mysqldump_debug-check"></a>
            <a class="indexterm" name="idm139979153752400"></a> <a class="indexterm" name="idm139979153750256"></a> <code class="option">--debug-check</code>
          </p><p>
            プログラムの終了時に、デバッグ情報を出力します。
          </p></li><li class="listitem"><p><a name="option_mysqldump_debug-info"></a>
            <a class="indexterm" name="idm139979153746000"></a> <a class="indexterm" name="idm139979153743856"></a> <code class="option">--debug-info</code>
          </p><p>
            プログラムの終了時に、デバッグ情報とメモリーおよび CPU 使用率の統計を出力します。
          </p></li><li class="listitem"><p><a name="option_mysqldump_dump-date"></a>
            <a class="indexterm" name="idm139979153739504"></a> <a class="indexterm" name="idm139979153737360"></a> <code class="option">--dump-date</code>
          </p><p>
            <code class="option">--comments</code> オプションが指定された場合、<span class="command"><strong>mysqldump</strong></span> はダンプの最後に次の形式でコメントを生成します。
          </p><pre class="programlisting">
-- Dump completed on <em class="replaceable"><code>DATE</code></em>
</pre><p>
            ただし、別のときに取られたダンプファイルが、日付以外のデータがまったく同じでも日付のために異なって見えます。<code class="option">--dump-date</code> および <code class="option">--skip-dump-date</code> は、コメントに日付を追加するかどうかを制御します。デフォルトは <code class="option">--dump-date</code> (日付をコメントに含める) です。<code class="option">--skip-dump-date</code> は日付の出力を抑制します。
          </p></li><li class="listitem"><p><a name="option_mysqldump_force"></a>
            <a class="indexterm" name="idm139979153726032"></a> <a class="indexterm" name="idm139979153723888"></a> <code class="option">--force</code>, <code class="option">-f</code>
          </p><p>
            テーブルダンプの最中に SQL エラーが発生しても続行します。
          </p><p>
            このオプションの使い方の 1 つとして、削除されたテーブルをビュー定義が参照するために無効になっているビューを検出したときにも、<span class="command"><strong>mysqldump</strong></span> が実行を続けるようにすることです。<code class="option">--force</code> を指定しないと、<span class="command"><strong>mysqldump</strong></span> はエラーメッセージで終了します。<code class="option">--force</code> を使用すると、<span class="command"><strong>mysqldump</strong></span> はエラーメッセージを出力しますが、さらにビュー定義を含む SQL コメントをダンプ出力に書き込み、実行を継続します。
          </p></li><li class="listitem"><p><a name="option_mysqldump_log-error"></a>
            <a class="indexterm" name="idm139979153714816"></a> <a class="indexterm" name="idm139979153712672"></a> <code class="option">--log-error=<em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            警告およびエラーを、指名されたファイルに追加することによってログに記録します。デフォルトでは、ロギングを行いません。
          </p></li><li class="listitem"><p><a name="option_mysqldump_skip-comments"></a>
            <a class="indexterm" name="idm139979153707920"></a> <a class="indexterm" name="idm139979153705760"></a> <code class="option">--skip-comments</code>
          </p><p>
            <code class="option">--comments</code> オプションの説明を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqldump_verbose"></a>
            <a class="indexterm" name="idm139979153700864"></a> <a class="indexterm" name="idm139979153698688"></a> <code class="option">--verbose</code>, <code class="option">-v</code>
          </p><p>
            冗長モード。プログラムの動作についてより多くの情報を出力します。
          </p></li></ul></div><h4><a name="mysqldump-help-options"></a>ヘルプオプション</h4><p>
        次のオプションは、<span class="command"><strong>mysqldump</strong></span> コマンド自身に関する情報を表示します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysqldump_help"></a>
            <a class="indexterm" name="idm139979153691216"></a> <a class="indexterm" name="idm139979153689072"></a> <code class="option">--help</code>, <code class="option">-?</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_mysqldump_version"></a>
            <a class="indexterm" name="idm139979153684480"></a> <a class="indexterm" name="idm139979153682304"></a> <code class="option">--version</code>, <code class="option">-V</code>
          </p><p>
            バージョン情報を表示して終了します。
          </p></li></ul></div><h4><a name="mysqldump-i18n-options"></a>国際化オプション</h4><p>
        次のオプションは、<span class="command"><strong>mysqldump</strong></span> コマンドが各国語の設定で文字データを表現する方法を変更します。

        
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysqldump_character-sets-dir"></a>
            <a class="indexterm" name="idm139979153673888"></a> <a class="indexterm" name="idm139979153671728"></a> <code class="option">--character-sets-dir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            文字セットがインストールされているディレクトリ。<a class="xref" href="globalization.html#charset-configuration" title="10.5 文字セットの構成">セクション10.5「文字セットの構成」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqldump_default-character-set"></a>
            <a class="indexterm" name="idm139979153666448"></a> <a class="indexterm" name="idm139979153664240"></a> <code class="option">--default-character-set=<em class="replaceable"><code>charset_name</code></em></code>
          </p><p>
            <em class="replaceable"><code>charset_name</code></em> をデフォルト文字セットとして使用します。<a class="xref" href="globalization.html#charset-configuration" title="10.5 文字セットの構成">セクション10.5「文字セットの構成」</a>を参照してください。文字セットが指定されていない場合、<span class="command"><strong>mysqldump</strong></span> は <code class="literal">utf8</code> を使用します。
          </p></li><li class="listitem"><p><a name="option_mysqldump_no-set-names"></a>
            <a class="indexterm" name="idm139979153657104"></a> <a class="indexterm" name="idm139979153654944"></a> <code class="option">--no-set-names</code>, <code class="option">-N</code>
          </p><p>
            <code class="option">--set-charset</code> 設定をオフにします。<code class="option">--skip-set-charset</code> を指定するのと同様です。
          </p></li><li class="listitem"><p><a name="option_mysqldump_set-charset"></a>
            <a class="indexterm" name="idm139979153649264"></a> <a class="indexterm" name="idm139979153647120"></a> <code class="option">--set-charset</code>
          </p><p>
            出力に <code class="literal">SET NAMES <em class="replaceable"><code>default_character_set</code></em></code> を追加します。このオプションはデフォルトで有効となっています。<code class="literal">SET NAMES</code> ステートメントを抑制するには、<code class="option">--skip-set-charset</code> を使用してください。
          </p></li></ul></div><h4><a name="mysqldump-replication-options"></a>レプリケーションオプション</h4><p>
        <span class="command"><strong>mysqldump</strong></span> コマンドは、レプリケーションの構成において、空のインスタンスまたはデータを含むインスタンスをスレーブサーバーに作成するためによく使用されます。次のオプションは、レプリケーションマスターサーバーおよびスレーブサーバーでデータのダンプおよびリストアに適用されます。

        
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysqldump_apply-slave-statements"></a>
            <a class="indexterm" name="idm139979153635952"></a> <a class="indexterm" name="idm139979153633712"></a> <code class="option">--apply-slave-statements</code>
          </p><p>
            <code class="option">--dump-slave</code> オプションで作成されたスレーブダンプで、<code class="literal">STOP SLAVE</code> ステートメントを <code class="literal">CHANGE MASTER TO</code> ステートメントの前に、<code class="literal">START SLAVE</code> ステートメントを出力の最後に、それぞれ追加します。
          </p></li><li class="listitem"><p><a name="option_mysqldump_delete-master-logs"></a>
            <a class="indexterm" name="idm139979153625600"></a> <a class="indexterm" name="idm139979153623440"></a> <code class="option">--delete-master-logs</code>
          </p><p>
            マスターレプリケーションサーバーで、ダンプ操作の実行後にサーバーに <code class="literal">PURGE BINARY LOGS</code> ステートメントを送信することにより、バイナリログを削除します。このオプションは自動的に <code class="option">--master-data</code> を有効にします。
          </p></li><li class="listitem"><p><a name="option_mysqldump_dump-slave"></a>
            <a class="indexterm" name="idm139979153617120"></a> <a class="indexterm" name="idm139979153614976"></a> <code class="option">--dump-slave[=<em class="replaceable"><code>value</code></em>]</code>
          </p><p>
            このオプションは、ダンプされたサーバーと同じマスターを持つスレーブとして別のサーバーをセットアップするために使用できるダンプファイルを生成するために、レプリケーションスレーブサーバーをダンプするために使用することを除き、<code class="option">--master-data</code> と同様です。これにより、ダンプされたスレーブのマスターのバイナリログ座標 (ファイル名とファイル位置) を示す <code class="literal">CHANGE MASTER TO</code> ステートメントがダンプ出力に追加されます。これらは、スレーブがレプリケーションを開始するマスターサーバーの座標です。
          </p><p>
            <code class="option">--dump-slave</code> を使用すると、座標は <code class="option">--master-data</code> オプションのようにダンプされたサーバーのものではなく使用されるマスターのものになります。さらに、このオプションを指定すると <code class="option">--master-data</code> オプションが使用されている場合はオーバーライドされ、実質上無視されるようになります。
          </p><p>
            オプション値は <code class="option">--master-data</code> と同様に処理され (値を設定しないか、1 を設定すると <code class="literal">CHANGE MASTER TO</code> ステートメントがダンプに書き込まれ、2 を設定するとステートメントは書き込まれますが SQL コメントで囲まれます)、ほかのオプションを有効または無効にする点およびロッキングの処理において、<code class="option">--master-data</code> と同様の効果があります。
          </p><p>
            このオプションを使用すると、<span class="command"><strong>mysqldump</strong></span> はダンプ前にスレーブ SQL スレッドを終了し、ダンプ後に再起動します。
          </p><p>
            <code class="option">--dump-slave</code> とともに、<code class="option">--apply-slave-statements</code> オプションおよび <code class="option">--include-master-host-port</code> オプションも使用できます。
          </p></li><li class="listitem"><p><a name="option_mysqldump_include-master-host-port"></a>
            <a class="indexterm" name="idm139979153597840"></a> <a class="indexterm" name="idm139979153595664"></a> <code class="option">--include-master-host-port</code>
          </p><p>
            <code class="option">--dump-slave</code> を使用して生成されたスレーブダンプ内の <code class="literal">CHANGE MASTER TO</code> ステートメントに、スレーブのマスターのホスト名および TCP/IP ポート番号の <code class="literal">MASTER_HOST</code> オプションおよび <code class="literal">MASTER_PORT</code> オプションを追加します。
          </p></li><li class="listitem"><p><a name="option_mysqldump_master-data"></a>
            <a class="indexterm" name="idm139979153588000"></a> <a class="indexterm" name="idm139979153585856"></a> <code class="option">--master-data[=<em class="replaceable"><code>value</code></em>]</code>
          </p><p>
            マスターレプリケーションサーバーをダンプして、別のサーバーをマスターのスレーブとして設定するために使用できるダンプファイルを生成する場合に、このオプションを使用します。これにより、ダンプされたサーバーのバイナリログ座標 (ファイル名とファイル位置) を示す <code class="literal">CHANGE MASTER TO</code> ステートメントがダンプ出力に追加されます。これらは、ダンプファイルをスレーブにロードしたあとで、スレーブがレプリケーションを開始するマスターサーバーの座標です。
          </p><p>
            オプションの値が 2 の場合、<code class="literal">CHANGE MASTER TO</code> ステートメントは SQL コメントとして書き込まれるため、情報提供の意味しかなく、ダンプファイルがリロードされるときには何の効果もありません。オプション値が 1 の場合、ステートメントはコメントとしては書き込まれず、ダンプファイルがリロードされるときに実行されます。オプション値が指定されていない場合は、デフォルト値は 1 です。
          </p><p>
            このオプションには <code class="literal">RELOAD</code> 権限が必要で、バイナリログが有効にされていなければいけません。
          </p><p>
            <code class="option">--master-data</code> オプションは自動的に <code class="option">--lock-tables</code> をオフにします。また、<code class="option">--single-transaction</code> も指定されていない場合は、<code class="option">--lock-all-tables</code> をオンにします。その場合、ダンプの最初のわずかな時間のみグローバル読み取りロックが取得されます (<code class="option">--single-transaction</code> の説明を参照してください)。どの場合でも、ログに対するアクションはすべてダンプと同時に発生します。
          </p><p>
            <code class="option">--dump-slave</code> オプションを使用してマスターの既存のスレーブをダンプすることによって、スレーブをセットアップすることも可能です。<code class="option">--master-data</code> は、これによってオーバーライドされ、両方のオプションが使用された場合には無視されます。
          </p><p>
            MySQL 5.6.4 より前では、レプリケーションログテーブルのダンプにはこのオプションが必要でした (<a class="xref" href="replication.html#slave-logs" title="17.2.2 レプリケーションリレーおよびステータスログ">セクション17.2.2「レプリケーションリレーおよびステータスログ」</a>を参照してください)。
          </p></li><li class="listitem"><p><a name="option_mysqldump_set-gtid-purged"></a>
            <a class="indexterm" name="idm139979153567312"></a> <a class="indexterm" name="idm139979153565184"></a> <code class="option">--set-gtid-purged=<em class="replaceable"><code>value</code></em></code>
          </p><p>
            このオプションを使用すると、<code class="literal">SET @@global.gtid_purged</code> ステートメントを出力に追加するかどうかを指定することによって、ダンプファイルに書き込まれるグローバルトランザクション ID (GTID) 情報を制御できます。
          </p><p>
            次の表は、許可されるオプション値を示しています。デフォルト値は <code class="literal">AUTO</code> です。
          </p><div class="informaltable"><table summary="この表は、mysqldump --set-gtid-purged オプション の許可されるオプション値を示しています。" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">値</th><th scope="col">意味</th></tr></thead><tbody><tr><td scope="row"><code class="literal">OFF</code></td><td>出力に <code class="literal">SET</code> ステートメントを追加しません。</td></tr><tr><td scope="row"><code class="literal">ON</code></td><td>出力に <code class="literal">SET</code> ステートメントを追加します。サーバーで GTID が有効になっていない場合は、エラーが発生します。</td></tr><tr><td scope="row"><code class="literal">AUTO</code></td><td>サーバーで GTID が有効になっている場合に、出力に <code class="literal">SET</code> ステートメントを追加します。</td></tr></tbody></table></div><p>
            このオプションは MySQL 5.6.9 で追加されました。
          </p></li></ul></div><h4><a name="mysqldump-format-options"></a>形式オプション</h4><p>
        次のオプションは、ダンプファイル全体またはダンプファイル内のある種のデータの提示方法を指定します。また、ある種のオプションの情報をダンプファイルに書き込むかどうかも制御します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysqldump_compact"></a>
            <a class="indexterm" name="idm139979153541136"></a> <a class="indexterm" name="idm139979153538960"></a> <code class="option">--compact</code>
          </p><p>
            よりコンパクトな出力を生成します。このオプションは、<code class="option">--skip-add-drop-table</code>、<code class="option">--skip-add-locks</code>、<code class="option">--skip-comments</code>、<code class="option">--skip-disable-keys</code>、および <code class="option">--skip-set-charset</code> オプションを有効にします。
          </p></li><li class="listitem"><p><a name="option_mysqldump_compatible"></a>
            <a class="indexterm" name="idm139979153530016"></a> <a class="indexterm" name="idm139979153527872"></a> <code class="option">--compatible=<em class="replaceable"><code>name</code></em></code>
          </p><p>
            古い MySQL サーバーやほかのデータベースシステムとの互換性がより高い出力を生成します。<em class="replaceable"><code>name</code></em> の値は <code class="literal">ansi</code>、<code class="literal">mysql323</code>、<code class="literal">mysql40</code>、<code class="literal">postgresql</code>、<code class="literal">oracle</code>、<code class="literal">mssql</code>、<code class="literal">db2</code>、<code class="literal">maxdb</code>、<code class="literal">no_key_options</code>、<code class="literal">no_table_options</code>、または <code class="literal">no_field_options</code> となります。複数の値を使用する場合は、カンマで区切ります。これらの値は、サーバー SQL モード設定用の対応するオプションと同じ意味を持っています。<a class="xref" href="server-administration.html#sql-mode" title="5.1.7 サーバー SQL モード">セクション5.1.7「サーバー SQL モード」</a>を参照してください。
          </p><p>
            このオプションはほかのサーバーとの互換性を保証するものではありません。現在提供されている、ダンプ出力の互換性を向上させるための SQL モード値を有効にするだけです。たとえば、<code class="option">--compatible=oracle</code> はデータ型を Oracle 型に対応付けたり、Oracle コメント構文を使用したりしません。
          </p><p>
            <span class="emphasis"><em>このオプションには、バージョン 4.1.0 以降のサーバーが必要です</em></span>。それよりも古いサーバーでは、何も行われません。
          </p></li><li class="listitem"><p><a name="option_mysqldump_complete-insert"></a>
            <a class="indexterm" name="idm139979153511168"></a> <a class="indexterm" name="idm139979153509008"></a> <code class="option">--complete-insert</code>, <code class="option">-c</code>
          </p><p>
            カラム名を含む、完全な <code class="literal">INSERT</code> ステートメントを使用します。
          </p></li><li class="listitem"><p><a name="option_mysqldump_create-options"></a>
            <a class="indexterm" name="idm139979153503360"></a> <a class="indexterm" name="idm139979153501200"></a> <code class="option">--create-options</code>
          </p><p>
            MySQL 固有のテーブルオプションを <code class="literal">CREATE TABLE</code> ステートメントに含めます。
          </p></li><li class="listitem"><p><a name="option_mysqldump_fields"></a>
            <a class="indexterm" name="idm139979153495984"></a> <a class="indexterm" name="idm139979153493792"></a> <code class="option">--fields-terminated-by=...</code>, <a class="indexterm" name="idm139979153491088"></a> <a class="indexterm" name="idm139979153488880"></a> <code class="option">--fields-enclosed-by=...</code>, <a class="indexterm" name="idm139979153486192"></a> <a class="indexterm" name="idm139979153483936"></a> <code class="option">--fields-optionally-enclosed-by=...</code>, <a class="indexterm" name="idm139979153481200"></a> <a class="indexterm" name="idm139979153478992"></a> <code class="option">--fields-escaped-by=...</code>
          </p><p>
            これらのオプションは <code class="option">--tab</code> オプションとともに使用され、<code class="literal">LOAD DATA INFILE</code> の対応する <code class="literal">FIELDS</code> 句と同じ意味を持ちます。<a class="xref" href="sql-syntax.html#load-data" title="13.2.6 LOAD DATA INFILE 構文">セクション13.2.6「LOAD DATA INFILE 構文」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqldump_hex-blob"></a>
            <a class="indexterm" name="idm139979153470960"></a> <a class="indexterm" name="idm139979153468848"></a> <code class="option">--hex-blob</code>
          </p><p>
            16 進表記を使用してバイナリカラムをダンプします (たとえば、<code class="literal">'abc'</code>は <code class="literal">0x616263</code> となります)。影響を受けるデータ型は、<code class="literal">BINARY</code> 型、<code class="literal">VARBINARY</code> 型、<code class="literal">BLOB</code> 型および <code class="literal">BIT</code> です。
          </p></li><li class="listitem"><p><a name="option_mysqldump_lines-terminated-by"></a>
            <a class="indexterm" name="idm139979153459072"></a> <a class="indexterm" name="idm139979153456912"></a> <code class="option">--lines-terminated-by=...</code>
          </p><p>
            このオプションは <code class="option">--tab</code> とともに使用され、<code class="literal">LOAD DATA INFILE</code> の対応する <code class="literal">LINES</code> 句と同じ意味を持ちます。<a class="xref" href="sql-syntax.html#load-data" title="13.2.6 LOAD DATA INFILE 構文">セクション13.2.6「LOAD DATA INFILE 構文」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqldump_quote-names"></a>
            <a class="indexterm" name="idm139979153449168"></a> <a class="indexterm" name="idm139979153447056"></a> <code class="option">--quote-names</code>, <code class="option">-Q</code>
          </p><p>
            識別子 (データベース、テーブル、およびカラム名など) を <span class="quote">「<span class="quote"><code class="literal">`</code></span>」</span> 文字で囲みます。<code class="literal">ANSI_QUOTES</code> SQL モードが有効な場合、識別子は <span class="quote">「<span class="quote"><code class="literal">"</code></span>」</span> 文字で囲まれます。このオプションはデフォルトで有効となっています。<code class="option">--skip-quote-names</code> で無効にできますが、このオプションは <code class="option">--compatible</code> のような <code class="option">--quote-names</code> を有効にする可能性のあるオプションのあとに指定するようにしてください。
          </p></li><li class="listitem"><p><a name="option_mysqldump_result-file"></a>
            <a class="indexterm" name="idm139979153437216"></a> <a class="indexterm" name="idm139979153435072"></a> <code class="option">--result-file=<em class="replaceable"><code>file_name</code></em></code>, <code class="option">-r <em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            指定されたファイルに出力します。このオプションは、Windows 上で改行文字 <span class="quote">「<span class="quote"><code class="literal">\n</code></span>」</span> が復帰/改行シーケンス <span class="quote">「<span class="quote"><code class="literal">\r\n</code></span>」</span> に変換されるのを防ぐために使用します。ダンプの生成中にエラーが発生しても、結果ファイルが作成され以前の内容は上書きされます。
          </p></li><li class="listitem"><p><a name="option_mysqldump_tab"></a>
            <a class="indexterm" name="idm139979153427728"></a> <a class="indexterm" name="idm139979153425600"></a> <code class="option">--tab=<em class="replaceable"><code>path</code></em></code>, <code class="option">-T <em class="replaceable"><code>path</code></em></code>
          </p><p>
            タブ区切りのテキスト形式データファイルを生成します。<span class="command"><strong>mysqldump</strong></span> は、各ダンプテーブルに対して、テーブルを作成する <code class="literal">CREATE TABLE</code> ステートメントを含む <code class="filename"><em class="replaceable"><code>tbl_name</code></em>.sql</code> ファイルを作成し、サーバーはそのデータを含む <code class="filename"><em class="replaceable"><code>tbl_name</code></em>.txt</code> ファイルに書き込みます。オプション値はファイルを書き込むディレクトリです。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              このオプションは、<span class="command"><strong>mysqldump</strong></span> が <span class="command"><strong>mysqld</strong></span> サーバーと同じマシンで動作している場合にのみ使用するようにしてください。ユーザーは <code class="literal">FILE</code> 権限を持っている必要があり、サーバーは指定したディレクトリ内にファイルを書き込む許可を持っていなければいけません。
            </p></div><p>
            デフォルトでは、<code class="filename">.txt</code> データファイルはカラム値の間にタブ文字、各行の最後に改行を使用する形式になります。この形式は、<code class="option">--fields-<em class="replaceable"><code>xxx</code></em></code> オプションおよび <code class="option">--lines-terminated-by</code> オプションを使用して明示的に指定できます。
          </p><p>
            カラム値は、<code class="option">--default-character-set</code> オプションで指定された文字セットに変換されます。
          </p></li><li class="listitem"><p><a name="option_mysqldump_tz-utc"></a>
            <a class="indexterm" name="idm139979153407936"></a> <a class="indexterm" name="idm139979153405792"></a> <code class="option">--tz-utc</code>
          </p><p>
            このオプションにより、異なるタイムゾーンのサーバー間で <code class="literal">TIMESTAMP</code> カラムをダンプしてリロードできるようになります。<span class="command"><strong>mysqldump</strong></span> はその接続タイムゾーンを UTC に設定し、<code class="literal">SET TIME_ZONE='+00:00'</code> をダンプファイルに追加します。このオプションを使用しないと、<code class="literal">TIMESTAMP</code> カラムはダンプ元およびリロード先のサーバーのローカルタイムゾーンでダンプおよびリロードが実行され、サーバーが異なるタイムゾーンにある場合、値が変更されます。<code class="option">--tz-utc</code> は、サマータイムによる変更からも保護します。<code class="option">--tz-utc</code> はデフォルトで有効です。無効にするには、<code class="option">--skip-tz-utc</code> を使用します。
          </p></li><li class="listitem"><p><a name="option_mysqldump_xml"></a>
            <a class="indexterm" name="idm139979153395728"></a> <a class="indexterm" name="idm139979153393600"></a> <code class="option">--xml</code>, <code class="option">-X</code>
          </p><p>
            ダンプ出力および整形式 XML を書き出します。
          </p><p>
            <span class="bold"><strong><code class="literal">NULL</code>、<code class="literal">'NULL'</code>、および空の値</strong></span>: このオプションで生成される出力では、<em class="replaceable"><code>column_name</code></em> という名前のカラムに関して、<code class="literal">NULL</code> 値、空の文字列、および文字列値 <code class="literal">'NULL'</code> は次のように互いに区別されます。
          </p><div class="informaltable"><table summary="mysqldump --xml, -X オプションで生成される XML 出力で、column_name という名前のカラムに関して、NULL 値、空の文字列、および文字列値 'NULL' は、この表に示すように互いに区別されます。" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">値:</th><th scope="col">XML 表現:</th></tr></thead><tbody><tr><td scope="row"><code class="literal">NULL</code> (<span class="emphasis"><em>不明な値</em></span>)</td><td><p>
                      <code class="literal">&lt;field name="<em class="replaceable"><code>column_name</code></em>" xsi:nil="true" /&gt;</code>
                    </p></td></tr><tr><td scope="row"><code class="literal">''</code> (<span class="emphasis"><em>空の文字列</em></span>)</td><td><p>
                      <code class="literal">&lt;field name="<em class="replaceable"><code>column_name</code></em>"&gt;&lt;/field&gt;</code>
                    </p></td></tr><tr><td scope="row"><code class="literal">'NULL'</code> (<span class="emphasis"><em>文字列値</em></span>)</td><td><p>
                      <code class="literal">&lt;field name="<em class="replaceable"><code>column_name</code></em>"&gt;NULL&lt;/field&gt;</code>
                    </p></td></tr></tbody></table></div><p>
            <span class="command"><strong>mysql</strong></span> クライアントを <code class="option">--xml</code> オプションを使用して実行した場合の出力も、前記のルールに従います。(<a class="xref" href="programs.html#mysql-command-options" title="4.5.1.1 mysql のオプション">セクション4.5.1.1「mysql のオプション」</a>を参照してください。)
          </p><p>
            <span class="command"><strong>mysqldump</strong></span> からの XML 出力には、次に示すように XML 名前空間が含まれます。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqldump --xml -u root world City</code></strong>
&lt;?xml version="1.0"?&gt;
&lt;mysqldump xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
&lt;database name="world"&gt;
&lt;table_structure name="City"&gt;
&lt;field Field="ID" Type="int(11)" Null="NO" Key="PRI" Extra="auto_increment" /&gt;
&lt;field Field="Name" Type="char(35)" Null="NO" Key="" Default="" Extra="" /&gt;
&lt;field Field="CountryCode" Type="char(3)" Null="NO" Key="" Default="" Extra="" /&gt;
&lt;field Field="District" Type="char(20)" Null="NO" Key="" Default="" Extra="" /&gt;
&lt;field Field="Population" Type="int(11)" Null="NO" Key="" Default="0" Extra="" /&gt;
&lt;key Table="City" Non_unique="0" Key_name="PRIMARY" Seq_in_index="1" Column_name="ID"
Collation="A" Cardinality="4079" Null="" Index_type="BTREE" Comment="" /&gt;
&lt;options Name="City" Engine="MyISAM" Version="10" Row_format="Fixed" Rows="4079"
Avg_row_length="67" Data_length="273293" Max_data_length="18858823439613951"
Index_length="43008" Data_free="0" Auto_increment="4080"
Create_time="2007-03-31 01:47:01" Update_time="2007-03-31 01:47:02"
Collation="latin1_swedish_ci" Create_options="" Comment="" /&gt;
&lt;/table_structure&gt;
&lt;table_data name="City"&gt;
&lt;row&gt;
&lt;field name="ID"&gt;1&lt;/field&gt;
&lt;field name="Name"&gt;Kabul&lt;/field&gt;
&lt;field name="CountryCode"&gt;AFG&lt;/field&gt;
&lt;field name="District"&gt;Kabol&lt;/field&gt;
&lt;field name="Population"&gt;1780000&lt;/field&gt;
&lt;/row&gt;

<em class="replaceable"><code>...</code></em>

&lt;row&gt;
&lt;field name="ID"&gt;4079&lt;/field&gt;
&lt;field name="Name"&gt;Rafah&lt;/field&gt;
&lt;field name="CountryCode"&gt;PSE&lt;/field&gt;
&lt;field name="District"&gt;Rafah&lt;/field&gt;
&lt;field name="Population"&gt;92020&lt;/field&gt;
&lt;/row&gt;
&lt;/table_data&gt;
&lt;/database&gt;
&lt;/mysqldump&gt;
</pre><p>
            MySQL 5.6.5 より前では、このオプションを使用すると <code class="option">--routines</code> オプションが正しく機能しませんでした。つまり、ストアドルーチン、トリガー、およびイベントは XML 形式でダンプできませんでした。(Bug #11760384、Bug #52792)
          </p></li></ul></div><h4><a name="mysqldump-filter-options"></a>フィルタリングオプション</h4><p>
        次のオプションは、どのような種類のスキーマオブジェクトがダンプファイルに書き出されるかを、トリガーまたはイベントなどのカテゴリによって制御したり、たとえばダンプするデータベースおよびテーブルを選択して名前によって制御したり、または <code class="literal">WHERE</code> 句を使用してテーブルデータから行をフィルタリングして制御したりできます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysqldump_all-databases"></a>
            <a class="indexterm" name="idm139979153352448"></a> <a class="indexterm" name="idm139979153350288"></a> <code class="option">--all-databases</code>, <code class="option">-A</code>
          </p><p>
            すべてのデータベース内のすべてのテーブルをダンプします。これは、コマンド行で <code class="option">--databases</code> オプションを使用してすべてのデータベース名を指定するのと同じです。
          </p><p>
            MySQL 5.6.4 より前では、このオプションでは <code class="literal">slave_master_info</code> テーブルおよび <code class="literal">slave_relay_log_info</code> テーブル (<a class="xref" href="replication.html#slave-logs" title="17.2.2 レプリケーションリレーおよびステータスログ">セクション17.2.2「レプリケーションリレーおよびステータスログ」</a>を参照してください) は含まれませんでした。
          </p></li><li class="listitem"><p><a name="option_mysqldump_databases"></a>
            <a class="indexterm" name="idm139979153341840"></a> <a class="indexterm" name="idm139979153339728"></a> <code class="option">--databases</code>, <code class="option">-B</code>
          </p><p>
            複数のデータベースをダンプします。通常、<span class="command"><strong>mysqldump</strong></span> は、コマンド行の最初の名前引数をデータベース名として、それに続く名前をテーブル名として処理します。このオプションを使用すると、名前引数をすべてデータベース名として処理します。出力には、各新しいデータベースの前に <code class="literal">CREATE DATABASE</code> ステートメントおよび <code class="literal">USE</code> ステートメントが含まれます。
          </p></li><li class="listitem"><p><a name="option_mysqldump_events"></a>
            <a class="indexterm" name="idm139979153331776"></a> <a class="indexterm" name="idm139979153329632"></a> <code class="option">--events</code>, <code class="option">-E</code>
          </p><p>
            ダンプされるデータベースのイベントスケジューライベントを出力に含めます。
          </p></li><li class="listitem"><p><a name="option_mysqldump_ignore-table"></a>
            <a class="indexterm" name="idm139979153324928"></a> <a class="indexterm" name="idm139979153322768"></a> <code class="option">--ignore-table=<em class="replaceable"><code>db_name.tbl_name</code></em></code>
          </p><p>
            指定されたテーブルをダンプしません。これはデータベース名とテーブル名を両方指定する必要があります。複数のテーブルを無視するには、このオプションを複数回使用してください。このオプションを使用してビューを無視することもできます。
          </p></li><li class="listitem"><p><a name="option_mysqldump_no-data"></a>
            <a class="indexterm" name="idm139979153317776"></a> <a class="indexterm" name="idm139979153315632"></a> <code class="option">--no-data</code>, <code class="option">-d</code>
          </p><p>
            テーブルの行情報を書き出しません (つまり、テーブルの内容をダンプしません)。これは、テーブルの <code class="literal">CREATE TABLE</code> ステートメントのみをダンプする場合に便利です (たとえば、ダンプファイルをロードしてテーブルの空のコピーを作成する場合など)。
          </p></li><li class="listitem"><p><a name="option_mysqldump_routines"></a>
            <a class="indexterm" name="idm139979153309472"></a> <a class="indexterm" name="idm139979153307296"></a> <code class="option">--routines</code>, <code class="option">-R</code>
          </p><p>
            ダンプされるデータベースのストアドルーチン (プロシージャーおよび関数) を出力に含めます。このオプションを使用するには、<code class="literal">mysql.proc</code> テーブルに対する <code class="literal">SELECT</code> 権限が必要です。<code class="option">--routines</code> を使用して生成された出力は、ルーチンの再作成のため、<code class="literal">CREATE PROCEDURE</code> ステートメントおよび <code class="literal">CREATE FUNCTION</code> ステートメントを含んでいます。ただし、これらのステートメントはルーチンの作成および変更のタイムスタンプなどの属性を含みません。つまり、ルーチンがリロードされたとき、リロード時間と等しいタイムスタンプで作成されます。
          </p><p>
            ルーチンを元のタイムスタンプ属性で再作成しなければならない場合は、<code class="option">--routines</code> を使用しないでください。代わりに、<code class="literal">mysql</code> データベースの適切な権限を持っている MySQL アカウントを使用して、<code class="literal">mysql.proc</code> テーブルの内容を直接ダンプしてリロードしてください。
          </p><p>
            MySQL 5.6.5 より前では、このオプションは、<code class="option">--xml</code> オプションとともに使用した場合には何の効果もありません。(Bug #11760384、Bug #52792)
          </p></li><li class="listitem"><p><a name="option_mysqldump_tables"></a>
            <a class="indexterm" name="idm139979153293088"></a> <a class="indexterm" name="idm139979153290944"></a> <code class="option">--tables</code>
          </p><p>
            <code class="option">--databases</code> オプションまたは <code class="option">-B</code> オプションをオーバーライドします。<span class="command"><strong>mysqldump</strong></span> は、このオプションに続く名前の引数をすべてテーブル名とみなします。
          </p></li><li class="listitem"><p><a name="option_mysqldump_triggers"></a>
            <a class="indexterm" name="idm139979153284720"></a> <a class="indexterm" name="idm139979153282544"></a> <code class="option">--triggers</code>
          </p><p>
            ダンプされる各テーブルのトリガーを出力に含めます。このオプションはデフォルトで有効です。<code class="option">--skip-triggers</code> を使用して無効にします。
          </p></li><li class="listitem"><p><a name="option_mysqldump_where"></a>
            <a class="indexterm" name="idm139979153277728"></a> <a class="indexterm" name="idm139979153275584"></a> <code class="option">--where='<em class="replaceable"><code>where_condition</code></em>'</code>, <code class="option">-w '<em class="replaceable"><code>where_condition</code></em>'</code>
          </p><p>
            指定された <code class="literal">WHERE</code> 条件で選択される行のみダンプします。条件が、スペースまたはユーザーのコマンドインタプリタにとって特別なその他の文字を含んでいる場合、条件を引用符で囲まなければなりません。

            
          </p><p>
            例:
          </p><pre class="programlisting">
--where="user='jimf'"
-w"userid&gt;1"
-w"userid&lt;1"
</pre></li></ul></div><h4><a name="mysqldump-performance-options"></a>パフォーマンスオプション</h4><p>
        次のオプションは、特にリストア操作のパフォーマンスにもっとも重要です。大規模なデータセットでは、リストア操作 (ダンプファイル内の <code class="literal">INSERT</code> ステートメントの処理) がもっとも時間のかかる部分です。データを迅速にリストアすることが緊急である場合、事前にステージを計画してパフォーマンスをテストします。時間単位で測定されるリストア時間に対して、<code class="literal">InnoDB</code> のみ、または混在するデータベースでは <a class="link" href="mysql-enterprise.html#mysql-enterprise-backup" title="25.2 MySQL Enterprise Backup">MySQL Enterprise Backup</a>、または <code class="literal">MyISAM</code> のみのデータベースでは <span class="command"><strong>mysqlhotcopy</strong></span> など、代替のバックアップおよびリストアソリューションが望ましい場合もあります。

        
      </p><p>
        パフォーマンスは、主にダンプ操作に関して、<a class="link" href="programs.html#mysqldump-transaction-options" title="トランザクションオプション">トランザクションオプション</a>にも影響されます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysqldump_delayed-insert"></a>
            <a class="indexterm" name="idm139979153257424"></a> <a class="indexterm" name="idm139979153255264"></a> <code class="option">--delayed-insert</code>
          </p><p>
            <code class="literal">INSERT DELAYED</code> 構文をサポートする非トランザクションテーブルでは、通常の <code class="literal">INSERT</code> ステートメントではなくそのステートメントを使用します。
          </p><p>
            MySQL 5.6.6 では、<code class="literal">DELAYED</code> 挿入は非推奨であるため、このオプションは将来のリリースで削除されます。
          </p></li><li class="listitem"><p><a name="option_mysqldump_disable-keys"></a>
            <a class="indexterm" name="idm139979153247472"></a> <a class="indexterm" name="idm139979153245312"></a> <code class="option">--disable-keys</code>, <code class="option">-K</code>
          </p><p>
            テーブルごとに、<code class="literal">INSERT</code> ステートメントを <code class="literal">/*!40000 ALTER TABLE <em class="replaceable"><code>tbl_name</code></em> DISABLE KEYS */;</code> ステートメントと <code class="literal">/*!40000 ALTER TABLE <em class="replaceable"><code>tbl_name</code></em> ENABLE KEYS */;</code> ステートメントで囲みます。これにより、行がすべて挿入されたあとにインデックスが作成されるため、ダンプファイルのロードが高速になります。このオプションは、<code class="literal">MyISAM</code> テーブルの一意でないインデックスにのみ効果があります。
          </p></li><li class="listitem"><p><a name="option_mysqldump_extended-insert"></a>
            <a class="indexterm" name="idm139979153235984"></a> <a class="indexterm" name="idm139979153233824"></a> <code class="option">--extended-insert</code>, <code class="option">-e</code>
          </p><p>
            複数の <code class="literal">VALUES</code> リストを含む、複数行の <code class="literal">INSERT</code> 構文を使用します。これにより、ダンプファイルのサイズが小さくなり、ファイルがリロードされる際の挿入が高速化されます。
          </p></li><li class="listitem"><p><a name="option_mysqldump_insert-ignore"></a>
            <a class="indexterm" name="idm139979153227200"></a> <a class="indexterm" name="idm139979153225040"></a> <code class="option">--insert-ignore</code>
          </p><p>
            <code class="literal">INSERT</code> ステートメントではなく、<code class="literal">INSERT IGNORE</code> ステートメントを書き出します。
          </p></li><li class="listitem"><p><a name="option_mysqldump_opt"></a>
            <a class="indexterm" name="idm139979153218608"></a> <a class="indexterm" name="idm139979153216480"></a> <code class="option">--opt</code>
          </p><p>
            このオプションはデフォルトで有効で、<code class="option">--add-drop-table</code> <code class="option">--add-locks</code> <code class="option">--create-options</code> <code class="option">--disable-keys</code> <code class="option">--extended-insert</code> <code class="option">--lock-tables</code> <code class="option">--quick</code> <code class="option">--set-charset</code> の組み合わせの短縮形です。高速ダンプ操作が可能になり、MySQL サーバーに迅速にリロードできるダンプファイルを生成します。
          </p><p>
            <code class="option">--opt</code> オプションはデフォルトで有効であるため、いくつかのデフォルト設定をオフにする場合のみ、この逆の <code class="option">--skip-opt</code> を指定します。<code class="option">--opt</code> に影響されるオプションのサブセットを選択的に有効または無効にする方法は、<a class="link" href="programs.html#mysqldump-option-groups" title="オプショングループ"><code class="literal">mysqldump</code> オプショングループ</a> の説明を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqldump_quick"></a>
            <a class="indexterm" name="idm139979153202272"></a> <a class="indexterm" name="idm139979153200128"></a> <code class="option">--quick</code>, <code class="option">-q</code>
          </p><p>
            このオプションは大規模なテーブルのダンプに便利です。これは <span class="command"><strong>mysqldump</strong></span> に対して、テーブルのすべての行のセットを取得して、書き出す前にメモリーにバッファリングするのではなく、サーバーから 1 行ずつ行を取得することを強制します。
          </p></li><li class="listitem"><p><a name="option_mysqldump_skip-opt"></a>
            <a class="indexterm" name="idm139979153194304"></a> <a class="indexterm" name="idm139979153192160"></a> <code class="option">--skip-opt</code>
          </p><p>
            <code class="option">--opt</code> オプションの説明を参照してください。

            
          </p></li></ul></div><h4><a name="mysqldump-transaction-options"></a>トランザクションオプション</h4><p>
        次のオプションは、エクスポートされるデータの信頼性と一貫性のために、ダンプ操作のパフォーマンスを犠牲にします。

        
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysqldump_add-locks"></a>
            <a class="indexterm" name="idm139979153183376"></a> <a class="indexterm" name="idm139979153181232"></a> <code class="option">--add-locks</code>
          </p><p>
            <code class="literal">LOCK TABLES</code> ステートメントと <code class="literal">UNLOCK TABLES</code> ステートメントで各テーブルダンプを囲みます。これにより、ダンプファイルをリロードする際の挿入の速度が向上します。<a class="xref" href="optimization.html#insert-speed" title="8.2.2.1 INSERT ステートメントの速度">セクション8.2.2.1「INSERT ステートメントの速度」</a>を参照してください。

            
          </p></li><li class="listitem"><p><a name="option_mysqldump_flush-logs"></a>
            <a class="indexterm" name="idm139979153172944"></a> <a class="indexterm" name="idm139979153170800"></a> <code class="option">--flush-logs</code>, <code class="option">-F</code>
          </p><p>
            ダンプを始める前に MySQL サーバーログファイルをフラッシュします。このオプションには <code class="literal">RELOAD</code> 権限が必要です。このオプションを <code class="option">--all-databases</code> オプションと組み合わせて使用すると、ログは<span class="emphasis"><em>ダンプされるデータベースごとに</em></span>フラッシュされます。例外は、<code class="option">--lock-all-tables</code>、<code class="option">--master-data</code>、または <code class="option">--single-transaction</code> を使用する場合です。この場合、ログはすべてのテーブルがロックされた瞬間に対応して一度のみフラッシュされます。ダンプとログのフラッシュを正確に同時に実行するには、<code class="option">--flush-logs</code> を <code class="option">--lock-all-tables</code>、<code class="option">--master-data</code>、または <code class="option">--single-transaction</code> とともに使用するようにしてください。
          </p></li><li class="listitem"><p><a name="option_mysqldump_flush-privileges"></a>
            <a class="indexterm" name="idm139979153158320"></a> <a class="indexterm" name="idm139979153156160"></a> <code class="option">--flush-privileges</code>
          </p><p>
            <code class="literal">mysql</code> データベースのダンプ後に、ダンプ出力に <code class="literal">FLUSH PRIVILEGES</code> ステートメントを追加します。ダンプに <code class="literal">mysql</code> データベースおよび <code class="literal">mysql</code> データベース内のデータに依存するその他のすべてのデータベースが含まれている場合には、正しいリストアのために必ずこのオプションを使用するようにしてください。
          </p></li><li class="listitem"><p><a name="option_mysqldump_lock-all-tables"></a>
            <a class="indexterm" name="idm139979153147968"></a> <a class="indexterm" name="idm139979153145808"></a> <code class="option">--lock-all-tables</code>, <code class="option">-x</code>
          </p><p>
            データベース内のテーブルをすべてロックします。これは全ダンプの期間、グローバル読み取りロックを取得することで達成されます。このオプションにより、<code class="option">--single-transaction</code> および <code class="option">--lock-tables</code> は自動的にオフになります。
          </p></li><li class="listitem"><p><a name="option_mysqldump_lock-tables"></a>
            <a class="indexterm" name="idm139979153139312"></a> <a class="indexterm" name="idm139979153137168"></a> <code class="option">--lock-tables</code>, <code class="option">-l</code>
          </p><p>
            ダンプされる各データベースに対して、ダンプするすべてのテーブルをダンプ前にロックします。<code class="literal">MyISAM</code> テーブルの場合には、並列挿入を許可するため、テーブルは <code class="literal">READ LOCAL</code> でロックされます。<code class="literal">InnoDB</code> などのトランザクションテーブルの場合は、<code class="option">--single-transaction</code> はテーブルをロックする必要がまったくないため、<code class="option">--lock-tables</code> よりはるかに適したオプションです。
          </p><p>
            <code class="option">--lock-tables</code> は各データベースに対して個別にテーブルをロックするため、このオプションではダンプファイル内のテーブルがデータベース間で論理的に一貫していることは保証されません。異なるデータベース内のテーブルは完全に異なる状態でダンプされることがあります。
          </p><p>
            <code class="option">--opt</code> など、一部のオプションは <code class="option">--lock-tables</code> を自動的に有効にします。これをオーバーライドするには、<code class="option">--skip-lock-tables</code> をオプションリストの最後に使用します。
          </p></li><li class="listitem"><p><a name="option_mysqldump_no-autocommit"></a>
            <a class="indexterm" name="idm139979153124800"></a> <a class="indexterm" name="idm139979153122640"></a> <code class="option">--no-autocommit</code>
          </p><p>
            ダンプされるテーブルごとに、<code class="literal">INSERT</code> ステートメントを <code class="literal">SET autocommit = 0</code> ステートメントと <code class="literal">COMMIT</code> ステートメントで囲みます。
          </p></li><li class="listitem"><p><a name="option_mysqldump_order-by-primary"></a>
            <a class="indexterm" name="idm139979153115600"></a> <a class="indexterm" name="idm139979153113440"></a> <code class="option">--order-by-primary</code>
          </p><p>
            

            各テーブルの行を、主キーまたは最初の一意のインデックス (このようなインデックスが存在する場合) でソートしてダンプします。これは、<code class="literal">InnoDB</code> テーブルにロードされる <code class="literal">MyISAM</code> テーブルをダンプする場合に便利ですが、ダンプ操作にかかる時間がかなり長くなります。
          </p></li><li class="listitem"><p><a name="option_mysqldump_shared-memory-base-name"></a>
            <a class="indexterm" name="idm139979153106208"></a> <a class="indexterm" name="idm139979153104032"></a> <code class="option">--shared-memory-base-name=<em class="replaceable"><code>name</code></em></code>
          </p><p>
            Windows で、共有メモリーを使用して作成されるローカルサーバーへの接続の共有メモリー名。デフォルト値は <code class="literal">MYSQL</code> です。共有メモリー名では大文字と小文字を区別します。
          </p><p>
            共有メモリー接続を可能にするには、サーバーは <code class="option">--shared-memory</code> オプションで起動する必要があります。
          </p></li><li class="listitem"><p><a name="option_mysqldump_single-transaction"></a>
            <a class="indexterm" name="idm139979153096752"></a> <a class="indexterm" name="idm139979153094592"></a> <code class="option">--single-transaction</code>
          </p><p>
            このオプションは、データのダンプ前に、トランザクション分離モードを <code class="literal">REPEATABLE READ</code> に設定し、<code class="literal">START TRANSACTION</code> SQL ステートメントをサーバーに送信します。これは、<code class="literal">InnoDB</code> などのトランザクションテーブルの場合にかぎって便利です。その場合、アプリケーションをブロックすることなく、<code class="literal">START TRANSACTION</code> が発行された時点のデータベースの一貫した状態をダンプするからです。
          </p><p>
            このオプションを使用する場合、一貫した状態でダンプされるのは <code class="literal">InnoDB</code> テーブルのみだということに留意してください。たとえば、このオプションの使用中にダンプされた <code class="literal">MyISAM</code> テーブルまたは <code class="literal">MEMORY</code> テーブルは状態が変化する可能性があります。
          </p><p>
            <code class="option">--single-transaction</code> ダンプの処理中、ダンプファイルが正当である (テーブルの内容とバイナリログ座標が正しい) ことを保証するために、ほかの接続で <code class="literal">ALTER TABLE</code>、<code class="literal">CREATE TABLE</code>、<code class="literal">DROP TABLE</code>、<code class="literal">RENAME TABLE</code>、<code class="literal">TRUNCATE TABLE</code> ステートメントを使用しないようにしてください。一貫性読み取りはこれらのステートメントから分離されないため、ダンプされるテーブルでこれらを使用すると、<span class="command"><strong>mysqldump</strong></span> によって実行され、テーブルの内容を取得する <code class="literal">SELECT</code> が、正しくない内容を取得したり失敗したりすることがあります。
          </p><p>
            <code class="option">--single-transaction</code> オプションおよび <code class="option">--lock-tables</code> オプションは相互に排他的です。これは、保留中のトランザクションが <code class="literal">LOCK TABLES</code> により暗黙的にコミットされるためです。
          </p><p>
            大規模なテーブルをダンプするには、<code class="option">--single-transaction</code> オプションを <code class="option">--quick</code> オプションと組み合わせてください。
          </p></li></ul></div><h4><a name="mysqldump-option-groups"></a>オプショングループ</h4><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="option">--opt</code> オプションは、高速なダンプ操作を実行するために協働するいくつかの設定をオンにします。<code class="option">--opt</code> はデフォルトでオンであるため、これらの設定はすべてデフォルトでオンです。したがって、<code class="literal">--opt</code> を指定することは、あるとしてもまれです。代わりに、<code class="literal">--skip-opt</code> を指定してこれらの設定をグループとしてオフにし、そのあと、コマンド行で関連するオプションを指定して特定の設定を再度有効にできます。
          </p></li><li class="listitem"><p>
            <code class="option">--compact</code> オプションは、オプションのステートメントおよびコメントが出力に現れるかどうかを制御するいくつかの設定をオフにします。この場合も、このオプションに、特定の設定を再度有効にするその他のオプションを続けたり、<code class="literal">--skip-compact</code> の形式を使用してすべての設定をオンにしたりできます。
          </p></li></ul></div><p>
        グループオプションの一部を選択的に効果を有効または無効にする場合、オプションは前から後ろへの順で処理されるため、順序が重要です。たとえば、<code class="option">--disable-keys</code> <code class="option">--lock-tables</code> <code class="option">--skip-opt</code> では意図している効果を得られません。<code class="option">--skip-opt</code> だけの場合と同じになります。
      </p><h4><a name="mysqldump-option-examples"></a>例</h4><p>
        データベース全体のバックアップを作成するには:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqldump <em class="replaceable"><code>db_name</code></em> &gt; <em class="replaceable"><code>backup-file.sql</code></em></code></strong>
</pre><p>
        ダンプファイルをサーバーにロードするには:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql <em class="replaceable"><code>db_name</code></em> &lt; <em class="replaceable"><code>backup-file.sql</code></em></code></strong>
</pre><p>
        ダンプファイルをリロードする別の方法:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -e "source <em class="replaceable"><code>/path-to-backup/backup-file.sql</code></em>" <em class="replaceable"><code>db_name</code></em></code></strong>
</pre><p>
        <span class="command"><strong>mysqldump</strong></span> は、1 つの MySQL サーバーから別のサーバーにデータをコピーすることでデータベースを移入するのに非常に便利です。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqldump --opt <em class="replaceable"><code>db_name</code></em> | mysql --host=<em class="replaceable"><code>remote_host</code></em> -C <em class="replaceable"><code>db_name</code></em></code></strong>
</pre><p>
        複数のデータベースを 1 つのコマンドでダンプできます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqldump --databases <em class="replaceable"><code>db_name1</code></em> [<em class="replaceable"><code>db_name2</code></em> ...] &gt; my_databases.sql</code></strong>
</pre><p>
        すべてのデータベースをダンプするには、<code class="option">--all-databases</code> オプションを使用します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqldump --all-databases &gt; all_databases.sql</code></strong>
</pre><p>
        <code class="literal">InnoDB</code> テーブルに関して、<span class="command"><strong>mysqldump</strong></span> はオンラインバックアップの作成方法を提供します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqldump --all-databases --master-data --single-transaction &gt; all_databases.sql</code></strong>
</pre><p>
        このバックアップでは、ダンプの最初で (<code class="literal">FLUSH TABLES WITH READ LOCK</code> を使用して) すべてのテーブルに対するグローバル読み取りロックが取得されます。このロックが取得されるとすぐに、バイナリログの座標が読み取られ、ロックが解除されます。<code class="literal">FLUSH</code> ステートメントが発行されたときに長い更新ステートメントが実行中の場合、MySQL サーバーはそれらのステートメントが終わるまで停止する可能性があります。そのあと、ダンプはロックがなくなり、テーブルの読み取りと書き込みを妨げることはなくなります。MySQL サーバーが受信する更新ステートメントが (実行時間の点で) 短い場合、更新の数が多くても最初のロック時間はさほど気にならないはずです。
      </p><p>
        ポイントインタイムリカバリ (または <span class="quote">「<span class="quote">ロールフォワード</span>」</span>、これは古いバックアップをリストアし、そのバックアップ後に発生した変更を再現する必要がある場合) は、バイナリログを交替させる (<a class="xref" href="server-administration.html#binary-log" title="5.2.4 バイナリログ">セクション5.2.4「バイナリログ」</a>を参照してください) か、または少なくともダンプが対応しているバイナリログ座標を知っていると便利な場合があります。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqldump --all-databases --master-data=2 &gt; all_databases.sql</code></strong>
</pre><p>
        または:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqldump --all-databases --flush-logs --master-data=2</code></strong>
              <strong class="userinput"><code>&gt; all_databases.sql</code></strong>
</pre><p>
        <code class="option">--master-data</code> オプションおよび <code class="option">--single-transaction</code> オプションは同時に使用できます。これは、テーブルが <code class="literal">InnoDB</code> ストレージエンジンを使用して保存されている場合に、ポイントインタイムリカバリの前に使用するのに適したオンラインバックアップを作成する便利な方法を提供します。
      </p><p>
        バックアップ作成の詳細は、<a class="xref" href="backup-and-recovery.html#backup-methods" title="7.2 データベースバックアップ方法">セクション7.2「データベースバックアップ方法」</a>と<a class="xref" href="backup-and-recovery.html#backup-strategy-example" title="7.3 バックアップおよびリカバリ戦略の例">セクション7.3「バックアップおよびリカバリ戦略の例」</a>を参照してください。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            いくつかの機能を除いて <code class="option">--opt</code> の効果を選択するには、除く各機能に対して <code class="option">--skip</code> オプションを選択します。拡張挿入およびメモリーバッファリングを無効にするには、<code class="option">--opt</code> <code class="option">--skip-extended-insert</code> <code class="option">--skip-quick</code> を使用します。(<code class="option">--opt</code> はデフォルトでオンであるため、実際には <code class="option">--skip-extended-insert</code> <code class="option">--skip-quick</code> で十分です。)
          </p></li><li class="listitem"><p>
            

            インデックスの無効化とテーブルのロックを除くすべての機能に関して <code class="option">--opt</code> を反転するには、<code class="option">--skip-opt</code> <code class="option">--disable-keys</code> <code class="option">--lock-tables</code> を使用します。
          </p></li></ul></div><h4><a name="mysqldump-restrictions"></a>制約</h4><a class="indexterm" name="idm139979153005344"></a><a class="indexterm" name="idm139979153003312"></a><a class="indexterm" name="idm139979153001280"></a><p>
        <span class="command"><strong>mysqldump</strong></span> は、デフォルトでは <code class="literal">INFORMATION_SCHEMA</code> データベースおよび <code class="literal">performance_schema</code> データベースをダンプしません。これらのいずれかをダンプするには、コマンド行で明示的に指定し、<code class="option">--skip-lock-tables</code> オプションも使用します。<code class="option">--databases</code> オプションでも指定できます。
      </p><p>
        <span class="command"><strong>mysqldump</strong></span> は、MySQL Cluster <code class="literal">ndbinfo</code> 情報データベースをダンプしません。
      </p><p>
        MySQL 5.6.6 より前では、<span class="command"><strong>mysqldump</strong></span> は <code class="literal">mysql</code> データベースのダンプとして <code class="literal">general_log</code> テーブルも <code class="literal">slow_query_log</code> テーブルもダンプしません。5.6.6 以降では、ダンプにはそれらのテーブルを再作成するためのステートメントが含まれているため、ダンプファイルを再ロードしたあとにそれらのテーブルが失われません。ログテーブルの内容はダンプされません。
      </p><p>
        権限が不十分なためビューのバックアップに問題が生じる場合は、<a class="xref" href="restrictions.html#view-restrictions" title="D.5 ビューの制約">セクションD.5「ビューの制約」</a>の回避策を参照してください。
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysqlimport"></a>4.5.5 <span class="command"><strong>mysqlimport</strong></span> — データインポートプログラム</h3></div></div></div><a class="indexterm" name="idm139979152985184"></a><a class="indexterm" name="idm139979152983968"></a><a class="indexterm" name="idm139979152981952"></a><a class="indexterm" name="idm139979152980048"></a><a class="indexterm" name="idm139979152978144"></a><p>
        <span class="command"><strong>mysqlimport</strong></span> クライアントは、<code class="literal">LOAD DATA INFILE</code> SQL ステートメントにコマンド行インタフェースを提供します。<span class="command"><strong>mysqlimport</strong></span> に対するほとんどのオプションは、<code class="literal">LOAD DATA INFILE</code> 構文の句に直接対応しています。<a class="xref" href="sql-syntax.html#load-data" title="13.2.6 LOAD DATA INFILE 構文">セクション13.2.6「LOAD DATA INFILE 構文」</a>を参照してください。
      </p><p>
        <span class="command"><strong>mysqlimport</strong></span> は次のように起動します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqlimport [<em class="replaceable"><code>options</code></em>] <em class="replaceable"><code>db_name</code></em> <em class="replaceable"><code>textfile1</code></em> [<em class="replaceable"><code>textfile2</code></em> ...]</code></strong>
</pre><p>
        <span class="command"><strong>mysqlimport</strong></span> は、コマンド行で指定されたテキストファイルごとに、ファイル名の拡張子があればそれを取り除き、その結果をもとに、ファイル内容をインポートするテーブルの名前を決定します。たとえば、<code class="filename">patient.txt</code>、<code class="filename">patient.text</code>、および <code class="filename">patient</code> と名付けられたファイルはすべて <code class="literal">patient</code> と名付けられたテーブルにインポートされます。
      </p><p>
        <span class="command"><strong>mysqlimport</strong></span> は次のオプションをサポートします。これらはコマンド行またはオプションファイルの <code class="literal">[mysqlimport]</code> グループおよび <code class="literal">[client]</code> グループで指定できます。MySQL プログラムによって使用されるオプションファイルの詳細については、<a class="xref" href="programs.html#option-files" title="4.2.6 オプションファイルの使用">セクション4.2.6「オプションファイルの使用」</a>を参照してください。
      </p><div class="table"><a name="idm139979152958064"></a><p class="title"><b>表 4.9 <code class="literal">mysqlimport</code> のオプション</b></p><div class="table-contents"><table summary="mysqlimport のオプション" border="1"><colgroup><col class="format"><col class="description"><col class="introduced"></colgroup><thead><tr><th scope="col">形式</th><th scope="col">説明</th><th scope="col">導入</th></tr></thead><tbody><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_bind-address">--bind-address</a></td><td>指定されたネットワークインタフェースを使用して MySQL サーバーに接続</td><td>5.6.1</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_columns">--columns</a></td><td>このオプションはカンマによって分けられたカラム名のリストを値とします</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_compress">--compress</a></td><td>クライアントとサーバー間で送信される情報をすべて圧縮</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_debug">--debug</a></td><td>デバッグのログを書き込み</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_debug-check">--debug-check</a></td><td>プログラムの終了時にデバッグ情報を出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_debug-info">--debug-info</a></td><td>プログラムの終了時に、デバッグ情報、メモリー、および CPU の統計を出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_default-auth">--default-auth</a></td><td>使用する認証プラグイン</td><td>5.6.2</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_default-character-set">--default-character-set</a></td><td>デフォルト文字セットを指定</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_defaults-extra-file">--defaults-extra-file</a></td><td>通常のオプションファイルに加えてオプションファイルを読み取る</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_defaults-file">--defaults-file</a></td><td>指名されたオプションファイルのみを読み取る</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_defaults-group-suffix">--defaults-group-suffix</a></td><td>オプショングループのサフィクス値</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_delete">--delete</a></td><td>テキストファイルをインポートする前にテーブルを空にする</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_fields">--fields-enclosed-by</a></td><td>このオプションは、LOAD DATA INFILE の対応する句と同じ意味を持っています</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_fields">--fields-escaped-by</a></td><td>このオプションは、LOAD DATA INFILE の対応する句と同じ意味を持っています</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_fields">--fields-optionally-enclosed-by</a></td><td>このオプションは、LOAD DATA INFILE の対応する句と同じ意味を持っています</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_fields">--fields-terminated-by</a></td><td>-- このオプションは、LOAD DATA INFILE の対応する句と同じ意味を持っています</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_force">--force</a></td><td>SQL エラーが発生しても続行</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_help">--help</a></td><td>ヘルプメッセージを表示して終了</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_host">--host</a></td><td>指定されたホスト上で MySQL サーバーに接続</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_ignore">--ignore</a></td><td>--replace オプションの説明を参照</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_ignore-lines">--ignore-lines</a></td><td>データファイルの最初の N 行を無視</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_lines-terminated-by">--lines-terminated-by</a></td><td>このオプションは、LOAD DATA INFILE の対応する句と同じ意味を持っています</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_local">--local</a></td><td>クライアントホストから入力ファイルをローカルで読み込む</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_lock-tables">--lock-tables</a></td><td>テキストファイルを処理する前に、すべてのテーブルを書き込みロック</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_login-path">--login-path</a></td><td>ログインパスオプションを .mylogin.cnf から読み取り</td><td>5.6.6</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_low-priority">--low-priority</a></td><td>テーブルロード時に LOW_PRIORITY を使用。</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_no-defaults">--no-defaults</a></td><td>オプションファイルを読み取らない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_password">--password</a></td><td>サーバーに接続する際に使用するパスワード</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_pipe">--pipe</a></td><td>Windows で、名前付きパイプを使用してサーバーに接続</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_plugin-dir">--plugin-dir</a></td><td>プラグインがインストールされているディレクトリ</td><td>5.6.2</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_port">--port</a></td><td>接続に使用する TCP/IP ポート番号</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_print-defaults">--print-defaults</a></td><td>デフォルトを出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_protocol">--protocol</a></td><td>使用する接続プロトコル</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_replace">--replace</a></td><td>--replace および --ignore オプションは、一意のキー値に関して既存の行と重複する入力行の処理を制御</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_secure-auth">--secure-auth</a></td><td>古い (4.1.1 より前の) 形式でサーバーにパスワードを送信しない</td><td>5.6.17</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_shared-memory-base-name">--shared-memory-base-name</a></td><td>共有メモリー接続に使用する共有メモリーの名前</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_silent">--silent</a></td><td>エラーが発生したときのみ出力を生成</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_socket">--socket</a></td><td>ローカルホストへの接続で、使用する Unix ソケットファイル</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_ssl">--ssl</a></td><td>接続に SSL を有効化</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_ssl">--ssl-ca</a></td><td>信頼された SSL CA のリストを含むファイルのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_ssl">--ssl-capath</a></td><td>信頼された SSL CA の PEM 形式の証明書を含むディレクトリのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_ssl">--ssl-cert</a></td><td>PEM 形式の X509 証明書を含むファイルのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_ssl">--ssl-cipher</a></td><td>SSL の暗号化に使用される、許可された暗号のリスト</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_ssl">--ssl-crl</a></td><td>証明書失効リストを含むファイルのパス</td><td>5.6.3</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_ssl">--ssl-crlpath</a></td><td>証明書失効リストファイルを含むディレクトリのパス</td><td>5.6.3</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_ssl">--ssl-key</a></td><td>PEM 形式の X509 鍵を含むファイルのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_ssl">--ssl-verify-server-cert</a></td><td>サーバーへの接続時に、サーバーの証明書内のコモンネーム値をホスト名に対して検証</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_use-threads">--use-threads</a></td><td>並列ファイルロードのスレッド数</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_user">--user</a></td><td>サーバーへの接続時に使用する MySQL ユーザー名</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_verbose">--verbose</a></td><td>冗長モード</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlimport_version">--version</a></td><td>バージョン情報を表示して終了</td><td> </td></tr></tbody></table></div></div><br class="table-break"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysqlimport_help"></a>
            <a class="indexterm" name="idm139979152850384"></a> <a class="indexterm" name="idm139979152848240"></a> <code class="option">--help</code>, <code class="option">-?</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_bind-address"></a>
            <a class="indexterm" name="idm139979152843424"></a> <a class="indexterm" name="idm139979152841264"></a> <code class="option">--bind-address=<em class="replaceable"><code>ip_address</code></em></code>
          </p><p>
            複数のネットワークインタフェースを持つコンピュータで、このオプションを使用して、MySQL サーバーへの接続に使用するインタフェースを選択します。
          </p><p>
            このオプションは MySQL 5.6.1 からサポートされています。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_character-sets-dir"></a>
            <a class="indexterm" name="idm139979152835504"></a> <a class="indexterm" name="idm139979152833344"></a> <code class="option">--character-sets-dir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            文字セットがインストールされているディレクトリ。<a class="xref" href="globalization.html#charset-configuration" title="10.5 文字セットの構成">セクション10.5「文字セットの構成」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_columns"></a>
            <a class="indexterm" name="idm139979152827792"></a> <a class="indexterm" name="idm139979152825648"></a> <code class="option">--columns=<em class="replaceable"><code>column_list</code></em></code>, <code class="option">-c <em class="replaceable"><code>column_list</code></em></code>
          </p><p>
            このオプションは、カンマで区切られたカラム名のリストを値として取ります。カラム名の順序は、データファイルのカラムとテーブルのカラムを対応付ける方法を示しています。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_compress"></a>
            <a class="indexterm" name="idm139979152819888"></a> <a class="indexterm" name="idm139979152817712"></a> <code class="option">--compress</code>, <code class="option">-C</code>
          </p><p>
            クライアントとサーバーの両方が圧縮をサポートしている場合、その間で送受信される情報をすべて圧縮します。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_debug"></a>
            <a class="indexterm" name="idm139979152812704"></a> <a class="indexterm" name="idm139979152810528"></a> <code class="option">--debug[=<em class="replaceable"><code>debug_options</code></em>]</code>, <code class="option">-# [<em class="replaceable"><code>debug_options</code></em>]</code>
          </p><p>
            デバッグのログを書き込みます。一般的な <em class="replaceable"><code>debug_options</code></em> 文字列は <code class="literal">d:t:o,<em class="replaceable"><code>file_name</code></em></code> です。デフォルトは <code class="literal">d:t:o</code> です。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_debug-check"></a>
            <a class="indexterm" name="idm139979152802592"></a> <a class="indexterm" name="idm139979152800432"></a> <code class="option">--debug-check</code>
          </p><p>
            プログラムの終了時に、デバッグ情報を出力します。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_debug-info"></a>
            <a class="indexterm" name="idm139979152795904"></a> <a class="indexterm" name="idm139979152793760"></a> <code class="option">--debug-info</code>
          </p><p>
            プログラムの終了時に、デバッグ情報とメモリーおよび CPU 使用率の統計を出力します。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_default-character-set"></a>
            <a class="indexterm" name="idm139979152789088"></a> <a class="indexterm" name="idm139979152786912"></a> <code class="option">--default-character-set=<em class="replaceable"><code>charset_name</code></em></code>
          </p><p>
            <em class="replaceable"><code>charset_name</code></em> をデフォルト文字セットとして使用します。<a class="xref" href="globalization.html#charset-configuration" title="10.5 文字セットの構成">セクション10.5「文字セットの構成」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_default-auth"></a>
            <a class="indexterm" name="idm139979152780944"></a> <a class="indexterm" name="idm139979152778816"></a> <code class="option">--default-auth=<em class="replaceable"><code>plugin</code></em></code>
          </p><p>
            使用するクライアント側の認証プラグイン。<a class="xref" href="security.html#pluggable-authentication" title="6.3.7 プラガブル認証">セクション6.3.7「プラガブル認証」</a>を参照してください。
          </p><p>
            このオプションは MySQL 5.6.2 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_defaults-extra-file"></a>
            <a class="indexterm" name="idm139979152772720"></a> <a class="indexterm" name="idm139979152770560"></a> <code class="option">--defaults-extra-file=<em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            このオプションファイルは、グローバルオプションファイルのあとに読み取りますが、(UNIX では) ユーザーオプションファイルの前に読み取るようにしてください。ファイルが存在しないかアクセスできない場合、エラーが発生します。<em class="replaceable"><code>file_name</code></em> は、フルパス名でなく相対パス名として指定された場合、現行ディレクトリを基準にして解釈されます。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_defaults-file"></a>
            <a class="indexterm" name="idm139979152764560"></a> <a class="indexterm" name="idm139979152762400"></a> <code class="option">--defaults-file=<em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            指定されたオプションファイルのみ使用します。ファイルが存在しないかアクセスできない場合、エラーが発生します。<em class="replaceable"><code>file_name</code></em> は、フルパス名でなく相対パス名として指定された場合、現行ディレクトリを基準にして解釈されます。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_defaults-group-suffix"></a>
            <a class="indexterm" name="idm139979152756624"></a> <a class="indexterm" name="idm139979152754448"></a> <code class="option">--defaults-group-suffix=<em class="replaceable"><code>str</code></em></code>
          </p><p>
            通常のオプショングループだけでなく、通常の名前に <em class="replaceable"><code>str</code></em> のサフィクスが付いたグループも読み取ります。たとえば、<span class="command"><strong>mysqlimport</strong></span> は通常 <code class="literal">[client]</code> グループおよび <code class="literal">[mysqlimport]</code> グループを読み取ります。<code class="option">--defaults-group-suffix=_other</code> オプションを指定した場合、<span class="command"><strong>mysqlimport</strong></span> は <code class="literal">[client_other]</code> グループおよび <code class="literal">[mysqlimport_other]</code> グループも読み取ります。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_delete"></a>
            <a class="indexterm" name="idm139979152743728"></a> <a class="indexterm" name="idm139979152741552"></a> <code class="option">--delete</code>, <code class="option">-D</code>
          </p><p>
            テキストファイルをインポートする前にテーブルを空にします。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_fields"></a>
            <a class="indexterm" name="idm139979152736736"></a> <a class="indexterm" name="idm139979152734560"></a> <code class="option">--fields-terminated-by=...</code>, <a class="indexterm" name="idm139979152731584"></a> <a class="indexterm" name="idm139979152729376"></a> <code class="option">--fields-enclosed-by=...</code>, <a class="indexterm" name="idm139979152726416"></a> <a class="indexterm" name="idm139979152724160"></a> <code class="option">--fields-optionally-enclosed-by=...</code>, <a class="indexterm" name="idm139979152721152"></a> <a class="indexterm" name="idm139979152718944"></a> <code class="option">--fields-escaped-by=...</code>
          </p><p>
            これらのオプションは <code class="literal">LOAD DATA INFILE</code> の対応する句と同じ意味を持っています。<a class="xref" href="sql-syntax.html#load-data" title="13.2.6 LOAD DATA INFILE 構文">セクション13.2.6「LOAD DATA INFILE 構文」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_force"></a>
            <a class="indexterm" name="idm139979152712192"></a> <a class="indexterm" name="idm139979152710048"></a> <code class="option">--force</code>, <code class="option">-f</code>
          </p><p>
            エラーを無視します。たとえば、テキストファイルのテーブルが存在しない場合、残ったファイルの処理を続行します。<code class="option">--force</code> がない場合は、テーブルが存在しないと <span class="command"><strong>mysqlimport</strong></span> は終了します。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_host"></a>
            <a class="indexterm" name="idm139979152703456"></a> <a class="indexterm" name="idm139979152701312"></a> <code class="option">--host=<em class="replaceable"><code>host_name</code></em></code>, <code class="option">-h <em class="replaceable"><code>host_name</code></em></code>
          </p><p>
            指定されたホスト上の MySQL サーバーにデータをインポートします。デフォルトホストは <code class="literal">localhost</code> です。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_ignore"></a>
            <a class="indexterm" name="idm139979152695120"></a> <a class="indexterm" name="idm139979152692944"></a> <code class="option">--ignore</code>, <code class="option">-i</code>
          </p><p>
            <code class="option">--replace</code> オプションの説明を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_ignore-lines"></a>
            <a class="indexterm" name="idm139979152687472"></a> <a class="indexterm" name="idm139979152685312"></a> <code class="option">--ignore-lines=<em class="replaceable"><code>N</code></em></code>
          </p><p>
            データファイルの最初の <em class="replaceable"><code>N</code></em> 行を無視します。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_lines-terminated-by"></a>
            <a class="indexterm" name="idm139979152680192"></a> <a class="indexterm" name="idm139979152678032"></a> <code class="option">--lines-terminated-by=...</code>
          </p><p>
            このオプションは <code class="literal">LOAD DATA INFILE</code> の対応する句と同じ意味を持っています。たとえば、復帰改行と改行のペアで終了する行を持つ Windows ファイルをインポートする場合、<code class="option">--lines-terminated-by="\r\n "</code> を使用してください。(コマンドインタプリタのエスケープ処理の規則によってはバックスラッシュを 2 つ使用しなければならない場合があります。)<a class="xref" href="sql-syntax.html#load-data" title="13.2.6 LOAD DATA INFILE 構文">セクション13.2.6「LOAD DATA INFILE 構文」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_local"></a>
            <a class="indexterm" name="idm139979152670112"></a> <a class="indexterm" name="idm139979152667968"></a> <code class="option">--local</code>, <code class="option">-L</code>
          </p><p>
            クライアントホストから入力ファイルをローカルで読み取ります。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_lock-tables"></a>
            <a class="indexterm" name="idm139979152663072"></a> <a class="indexterm" name="idm139979152660928"></a> <code class="option">--lock-tables</code>, <code class="option">-l</code>
          </p><p>
            テキストファイルを処理する前に、<span class="emphasis"><em>すべての</em></span>テーブルを書き込み用にロックします。これにより、すべてのテーブルがサーバー上で同期していることが保証されます。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_login-path"></a>
            <a class="indexterm" name="idm139979152655472"></a> <a class="indexterm" name="idm139979152653328"></a> <code class="option">--login-path=<em class="replaceable"><code>name</code></em></code>
          </p><p>
            指名されたログインパスから <code class="filename">.mylogin.cnf</code> ログインファイルのオプションを読み取ります。<span class="quote">「<span class="quote">ログインパス</span>」</span>は、<code class="option">host</code>、<code class="option">user</code>、および <code class="option">password</code> という限定されたオプションのセットのみを許可するオプショングループです。ログインパスは、サーバーホストおよびそのサーバーで認証するための認証情報を示す値のセットであると考えてください。ログインパスファイルを作成するには、<span class="command"><strong>mysql_config_editor</strong></span> ユーティリティーを使用します。<a class="xref" href="programs.html#mysql-config-editor" title="4.6.6 mysql_config_editor — MySQL 構成ユーティリティー">セクション4.6.6「<span class="command"><strong>mysql_config_editor</strong></span> — MySQL 構成ユーティリティー」</a>を参照してください。このオプションは MySQL 5.6.6 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_low-priority"></a>
            <a class="indexterm" name="idm139979152643776"></a> <a class="indexterm" name="idm139979152641648"></a> <code class="option">--low-priority</code>
          </p><p>
            テーブルのロード時に <code class="literal">LOW_PRIORITY</code> を使用します。これは、テーブルレベルロックのみを使用するストレージエンジン (<code class="literal">MyISAM</code>、<code class="literal">MEMORY</code>、および <code class="literal">MERGE</code>) にのみ影響を与えます。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_no-defaults"></a>
            <a class="indexterm" name="idm139979152634032"></a> <a class="indexterm" name="idm139979152631888"></a> <code class="option">--no-defaults</code>
          </p><p>
            オプションファイルを読み取りません。オプションファイルから不明のオプションを読み取ることが原因でプログラムの起動に失敗する場合、<code class="option">--no-defaults</code> を使用して、オプションを読み取らないようにできます。
          </p><p>
            例外として、<code class="filename">.mylogin.cnf</code> ファイルは、存在する場合はすべての場合に読み取られます。これにより、<code class="option">--no-defaults</code> が使用された場合にも、コマンド行よりも安全な方法でパスワードを指定できます。(<code class="filename">.mylogin.cnf</code> は <span class="command"><strong>mysql_config_editor</strong></span> ユーティリティーによって作成されます。<a class="xref" href="programs.html#mysql-config-editor" title="4.6.6 mysql_config_editor — MySQL 構成ユーティリティー">セクション4.6.6「<span class="command"><strong>mysql_config_editor</strong></span> — MySQL 構成ユーティリティー」</a>を参照してください)。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_password"></a>
            <a class="indexterm" name="idm139979152621664"></a> <a class="indexterm" name="idm139979152619520"></a> <code class="option">--password[=<em class="replaceable"><code>password</code></em>]</code>, <code class="option">-p[<em class="replaceable"><code>password</code></em>]</code>
          </p><p>
            サーバーに接続する際に使用するパスワードです。短いオプション形式 (<code class="option">-p</code>) を使用した場合は、オプションとパスワードの間にスペースを置くことは<span class="emphasis"><em>できません</em></span>。コマンド行で、<code class="option">--password</code> オプションまたは <code class="option">-p</code> オプションに続けて <em class="replaceable"><code>password</code></em> の値を指定しなかった場合、<span class="command"><strong>mysqlimport</strong></span> はそれを要求します。
          </p><p>
            コマンド行でのパスワード指定は、セキュアでないと考えるべきです。<a class="xref" href="security.html#password-security-user" title="6.1.2.1 パスワードセキュリティーのためのエンドユーザーガイドライン">セクション6.1.2.1「パスワードセキュリティーのためのエンドユーザーガイドライン」</a>を参照してください。オプションファイルを使用すれば、コマンド行でパスワードを指定することを回避できます。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_pipe"></a>
            <a class="indexterm" name="idm139979152608832"></a> <a class="indexterm" name="idm139979152606688"></a> <code class="option">--pipe</code>, <code class="option">-W</code>
          </p><p>
            Windows で、名前付きパイプを使用してサーバーに接続します。このオプションは、サーバーが名前付きパイプ接続をサポートしている場合にのみ適用されます。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_plugin-dir"></a>
            <a class="indexterm" name="idm139979152601504"></a> <a class="indexterm" name="idm139979152599360"></a> <code class="option">--plugin-dir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            プラグインを検索するディレクトリ。<code class="option">--default-auth</code> オプションを使用して認証プラグインを指定したが、<span class="command"><strong>mysqlimport</strong></span> がそれを検出できない場合は、このオプションを指定しなければならない可能性があります。<a class="xref" href="security.html#pluggable-authentication" title="6.3.7 プラガブル認証">セクション6.3.7「プラガブル認証」</a>を参照してください。
          </p><p>
            このオプションは MySQL 5.6.2 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_port"></a>
            <a class="indexterm" name="idm139979152591488"></a> <a class="indexterm" name="idm139979152589344"></a> <code class="option">--port=<em class="replaceable"><code>port_num</code></em></code>, <code class="option">-P <em class="replaceable"><code>port_num</code></em></code>
          </p><p>
            接続に使用する TCP/IP ポート番号。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_print-defaults"></a>
            <a class="indexterm" name="idm139979152583968"></a> <a class="indexterm" name="idm139979152581808"></a> <code class="option">--print-defaults</code>
          </p><p>
            プログラム名と、オプションファイルから受け取るすべてのオプションを出力します。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_protocol"></a>
            <a class="indexterm" name="idm139979152577168"></a> <a class="indexterm" name="idm139979152574992"></a> <code class="option">--protocol={TCP|SOCKET|PIPE|MEMORY}</code>
          </p><p>
            サーバーへの接続に使用する接続プロトコル。このオプションは、ほかの接続パラメータによって、必要なプロトコル以外のものが通常使用される場合に役立ちます。許可される値の詳細は、<a class="xref" href="programs.html#connecting" title="4.2.2 MySQL サーバーへの接続">セクション4.2.2「MySQL サーバーへの接続」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_replace"></a>
            <a class="indexterm" name="idm139979152569424"></a> <a class="indexterm" name="idm139979152567280"></a> <code class="option">--replace</code>, <code class="option">-r</code>
          </p><p>
            <code class="option">--replace</code> オプションおよび <code class="option">--ignore</code> オプションは、既存の行の一意のキー値を重複させるような入力行の処理を制御します。<code class="option">--replace</code> を指定した場合、同じ一意のキー値を持つ既存の行は新しい行で置換されます。<code class="option">--ignore</code> を指定した場合、既存の行の一意のキー値を重複させる入力行はスキップされます。どちらのオプションも指定しなかった場合、重複するキー値が検出されるとエラーが発生し、残りのテキストファイルは無視されます。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_secure-auth"></a>
            <a class="indexterm" name="idm139979152558704"></a> <a class="indexterm" name="idm139979152556560"></a> <code class="option">--secure-auth</code>
          </p><p>
            古い (4.1 より前の) 形式でサーバーにパスワードを送信しません。これにより、新しいパスワード形式を使用するサーバー以外への接続を防ぎます。このオプションはデフォルトで有効です。無効にするには <code class="option">--skip-secure-auth</code> を使用します。このオプションは MySQL 5.6.17 で追加されました。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              4.1 より前のハッシュ方式を使用するパスワードはネイティブのパスワードハッシュ方式を使用するパスワードよりもセキュアでないため、使用しないようにしてください。4.1 よりも前のパスワードは非推奨であり、これらのサポートは今後の MySQL リリースで削除される予定です。アカウントのアップグレード手順については、<a class="xref" href="security.html#account-upgrades" title="6.3.8.3 4.1 よりも前のパスワードハッシュ方式と mysql_old_password プラグインからの移行">セクション6.3.8.3「4.1 よりも前のパスワードハッシュ方式と mysql_old_password プラグインからの移行」</a>を参照してください。
            </p></div></li><li class="listitem"><p><a name="option_mysqlimport_shared-memory-base-name"></a>
            <a class="indexterm" name="idm139979152548256"></a> <a class="indexterm" name="idm139979152546112"></a> <code class="option">--shared-memory-base-name=<em class="replaceable"><code>name</code></em></code>
          </p><p>
            Windows で、共有メモリーを使用して作成されるローカルサーバーへの接続の共有メモリー名。デフォルト値は <code class="literal">MYSQL</code> です。共有メモリー名では大文字と小文字を区別します。
          </p><p>
            共有メモリー接続を可能にするには、サーバーは <code class="option">--shared-memory</code> オプションで起動する必要があります。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_silent"></a>
            <a class="indexterm" name="idm139979152538832"></a> <a class="indexterm" name="idm139979152536656"></a> <code class="option">--silent</code>, <code class="option">-s</code>
          </p><p>
            サイレントモード。エラーが発生したときのみ出力を生成します。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_socket"></a>
            <a class="indexterm" name="idm139979152531776"></a> <a class="indexterm" name="idm139979152529632"></a> <code class="option">--socket=<em class="replaceable"><code>path</code></em></code>, <code class="option">-S <em class="replaceable"><code>path</code></em></code>
          </p><p>
            <code class="literal">localhost</code> への接続用に使用する、Unix ソケットファイル、または Windows では使用する名前付きパイプの名前。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_ssl"></a>
            <a class="indexterm" name="idm139979152523424"></a> <a class="indexterm" name="idm139979152521296"></a> <code class="option">--ssl*</code>
          </p><p>
            <code class="option">--ssl</code> で始まるオプションは、SSL を使用してサーバーに接続することを許可するかどうかを指定し、SSL 鍵および証明書を検索する場所を指定します。<a class="xref" href="security.html#ssl-options" title="6.3.10.4 SSL コマンドのオプション">セクション6.3.10.4「SSL コマンドのオプション」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_user"></a>
            <a class="indexterm" name="idm139979152515536"></a> <a class="indexterm" name="idm139979152513392"></a> <code class="option">--user=<em class="replaceable"><code>user_name</code></em></code>, <code class="option">-u <em class="replaceable"><code>user_name</code></em></code>
          </p><p>
            サーバーへの接続時に使用する MySQL ユーザー名。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_use-threads"></a>
            <a class="indexterm" name="idm139979152508000"></a> <a class="indexterm" name="idm139979152505856"></a> <code class="option">--use-threads=<em class="replaceable"><code>N</code></em></code>
          </p><p>
            <em class="replaceable"><code>N</code></em> 個のスレッドを使用して複数のファイルを並行してロードします。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_verbose"></a>
            <a class="indexterm" name="idm139979152500672"></a> <a class="indexterm" name="idm139979152498496"></a> <code class="option">--verbose</code>, <code class="option">-v</code>
          </p><p>
            冗長モード。プログラムの動作についてより多くの情報を出力します。
          </p></li><li class="listitem"><p><a name="option_mysqlimport_version"></a>
            <a class="indexterm" name="idm139979152493664"></a> <a class="indexterm" name="idm139979152491488"></a> <code class="option">--version</code>, <code class="option">-V</code>
          </p><p>
            バージョン情報を表示して終了します。
          </p></li></ul></div><p>
        <span class="command"><strong>mysqlimport</strong></span> の使用方法を表すサンプルのセッションを次に示します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -e 'CREATE TABLE imptest(id INT, n VARCHAR(30))' test</code></strong>
shell&gt; <strong class="userinput"><code>ed</code></strong>
a
100     Max Sydow
101     Count Dracula
.
w imptest.txt
32
q
shell&gt; <strong class="userinput"><code>od -c imptest.txt</code></strong>
0000000   1   0   0  \t   M   a   x       S   y   d   o   w  \n   1   0
0000020   1  \t   C   o   u   n   t       D   r   a   c   u   l   a  \n
0000040
shell&gt; <strong class="userinput"><code>mysqlimport --local test imptest.txt</code></strong>
test.imptest: Records: 2  Deleted: 0  Skipped: 0  Warnings: 0
shell&gt; <strong class="userinput"><code>mysql -e 'SELECT * FROM imptest' test</code></strong>
+------+---------------+
| id   | n             |
+------+---------------+
|  100 | Max Sydow     |
|  101 | Count Dracula |
+------+---------------+
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysqlshow"></a>4.5.6 <span class="command"><strong>mysqlshow</strong></span> — データベース、テーブル、およびカラム情報の表示</h3></div></div></div><a class="indexterm" name="idm139979152479488"></a><a class="indexterm" name="idm139979152478272"></a><a class="indexterm" name="idm139979152476256"></a><a class="indexterm" name="idm139979152474320"></a><a class="indexterm" name="idm139979152472416"></a><a class="indexterm" name="idm139979152470512"></a><p>
        <span class="command"><strong>mysqlshow</strong></span> クライアントは、どのデータベース、そのテーブル、またはテーブルのカラムまたはインデックスが存在するかを迅速に確認するために使用できます。
      </p><p>
        <span class="command"><strong>mysqlshow</strong></span> は複数の SQL <code class="literal">SHOW</code> ステートメントに対してコマンド行インタフェースを提供します。<a class="xref" href="sql-syntax.html#show" title="13.7.5 SHOW 構文">セクション13.7.5「SHOW 構文」</a>を参照してください。それらステートメントを直接使用することで同じ情報を得られます。たとえば、<span class="command"><strong>mysql</strong></span> クライアントプログラムからそれらを発行できます。
      </p><p>
        <span class="command"><strong>mysqlshow</strong></span> は次のように起動します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqlshow [<em class="replaceable"><code>options</code></em>] [<em class="replaceable"><code>db_name</code></em> [<em class="replaceable"><code>tbl_name</code></em> [<em class="replaceable"><code>col_name</code></em>]]]</code></strong>
</pre><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            データベースを指定しないと、データベース名のリストが表示されます。
          </p></li><li class="listitem"><p>
            テーブルを指定しないと、データベース内のすべての一致するテーブルが表示されます。
          </p></li><li class="listitem"><p>
            カラムを指定しないと、テーブル内のすべての一致するカラムとカラムの型が表示されます。
          </p></li></ul></div><p>
        出力は、ユーザーが何らかの権限を所持しているデータベース、テーブル、またはカラムの名前のみを表示します。
      </p><p>
        最後の引数にシェルまたは SQL のワイルドカード文字 (<span class="quote">「<span class="quote"><code class="literal">*</code></span>」</span>、<span class="quote">「<span class="quote"><code class="literal">?</code></span>」</span>、<span class="quote">「<span class="quote"><code class="literal">%</code></span>」</span>、または <span class="quote">「<span class="quote"><code class="literal">_</code></span>」</span>) が含まれている場合、そのワイルドカードに一致する名前だけが表示されます。データベース名に下線が含まれている場合は、正しいテーブルまたはカラムのリストを取得できるように、1 つのバックスラッシュ (一部の Unix シェルでは 2 つ必要) でエスケープ処理するようにしてください。<span class="quote">「<span class="quote"><code class="literal">*</code></span>」</span> 文字および <span class="quote">「<span class="quote"><code class="literal">?</code></span>」</span> 文字は、SQL の <span class="quote">「<span class="quote"><code class="literal">%</code></span>」</span> および <span class="quote">「<span class="quote"><code class="literal">_</code></span>」</span> ワイルドカード文字に変換されます。これは名前に <span class="quote">「<span class="quote"><code class="literal">_</code></span>」</span> を含むテーブルのカラムを表示しようとした際に問題を引き起こす場合があります。なぜなら、この場合 <span class="command"><strong>mysqlshow</strong></span> はパターンに一致するテーブル名のみを表示するからです。これは、コマンド行上で最後に <span class="quote">「<span class="quote"><code class="literal">%</code></span>」</span> を別個の引数として追加することで簡単に修正できます。
      </p><p>
        <span class="command"><strong>mysqlshow</strong></span> は次のオプションをサポートします。これらはコマンド行またはオプションファイルの <code class="literal">[mysqlshow]</code> グループおよび <code class="literal">[client]</code> グループで指定できます。MySQL プログラムによって使用されるオプションファイルの詳細については、<a class="xref" href="programs.html#option-files" title="4.2.6 オプションファイルの使用">セクション4.2.6「オプションファイルの使用」</a>を参照してください。
      </p><div class="table"><a name="idm139979152439856"></a><p class="title"><b>表 4.10 <code class="literal">mysqlshow</code> のオプション</b></p><div class="table-contents"><table summary="mysqlshow のオプション" border="1"><colgroup><col class="format"><col class="description"><col class="introduced"></colgroup><thead><tr><th scope="col">形式</th><th scope="col">説明</th><th scope="col">導入</th></tr></thead><tbody><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_bind-address">--bind-address</a></td><td>指定されたネットワークインタフェースを使用して MySQL サーバーに接続</td><td>5.6.1</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_compress">--compress</a></td><td>クライアントとサーバー間で送信される情報をすべて圧縮</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_count">--count</a></td><td>テーブルごとの行の数を表示</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_debug">--debug</a></td><td>デバッグのログを書き込み</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_debug-check">--debug-check</a></td><td>プログラムの終了時にデバッグ情報を出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_debug-info">--debug-info</a></td><td>プログラムの終了時に、デバッグ情報、メモリー、および CPU の統計を出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_default-auth">--default-auth</a></td><td>使用する認証プラグイン</td><td>5.6.2</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_default-character-set">--default-character-set</a></td><td>デフォルト文字セットを指定</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_defaults-extra-file">--defaults-extra-file</a></td><td>通常のオプションファイルに加えてオプションファイルを読み取る</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_defaults-file">--defaults-file</a></td><td>指名されたオプションファイルのみを読み取る</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_defaults-group-suffix">--defaults-group-suffix</a></td><td>オプショングループのサフィクス値</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_help">--help</a></td><td>ヘルプメッセージを表示して終了</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_host">--host</a></td><td>指定されたホスト上で MySQL サーバーに接続</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_keys">--keys</a></td><td>テーブルインデックスを表示</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_login-path">--login-path</a></td><td>ログインパスオプションを .mylogin.cnf から読み取り</td><td>5.6.6</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_no-defaults">--no-defaults</a></td><td>オプションファイルを読み取らない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_password">--password</a></td><td>サーバーに接続する際に使用するパスワード</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_pipe">--pipe</a></td><td>Windows で、名前付きパイプを使用してサーバーに接続</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_plugin-dir">--plugin-dir</a></td><td>プラグインがインストールされているディレクトリ</td><td>5.6.2</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_port">--port</a></td><td>接続に使用する TCP/IP ポート番号</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_print-defaults">--print-defaults</a></td><td>デフォルトを出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_protocol">--protocol</a></td><td>使用する接続プロトコル</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_secure-auth">--secure-auth</a></td><td>古い (4.1.1 より前の) 形式でサーバーにパスワードを送信しない</td><td>5.6.17</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_shared-memory-base-name">--shared-memory-base-name</a></td><td>共有メモリー接続に使用する共有メモリーの名前</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_show-table-type">--show-table-type</a></td><td>テーブルのタイプを示すカラムを表示</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_socket">--socket</a></td><td>ローカルホストへの接続で、使用する Unix ソケットファイル</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_ssl">--ssl</a></td><td>接続に SSL を有効化</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_ssl">--ssl-ca</a></td><td>信頼された SSL CA のリストを含むファイルのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_ssl">--ssl-capath</a></td><td>信頼された SSL CA の PEM 形式の証明書を含むディレクトリのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_ssl">--ssl-cert</a></td><td>PEM 形式の X509 証明書を含むファイルのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_ssl">--ssl-cipher</a></td><td>SSL の暗号化に使用される、許可された暗号のリスト</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_ssl">--ssl-crl</a></td><td>証明書失効リストを含むファイルのパス</td><td>5.6.3</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_ssl">--ssl-crlpath</a></td><td>証明書失効リストファイルを含むディレクトリのパス</td><td>5.6.3</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_ssl">--ssl-key</a></td><td>PEM 形式の X509 鍵を含むファイルのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_ssl">--ssl-verify-server-cert</a></td><td>サーバーへの接続時に、サーバーの証明書内のコモンネーム値をホスト名に対して検証</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_status">--status</a></td><td>各テーブルの追加情報を表示</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_user">--user</a></td><td>サーバーへの接続時に使用する MySQL ユーザー名</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_verbose">--verbose</a></td><td>冗長モード</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlshow_version">--version</a></td><td>バージョン情報を表示して終了</td><td> </td></tr></tbody></table></div></div><br class="table-break"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysqlshow_help"></a>
            <a class="indexterm" name="idm139979152356096"></a> <a class="indexterm" name="idm139979152353952"></a> <code class="option">--help</code>, <code class="option">-?</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_bind-address"></a>
            <a class="indexterm" name="idm139979152349136"></a> <a class="indexterm" name="idm139979152346976"></a> <code class="option">--bind-address=<em class="replaceable"><code>ip_address</code></em></code>
          </p><p>
            複数のネットワークインタフェースを持つコンピュータで、このオプションを使用して、MySQL サーバーへの接続に使用するインタフェースを選択します。
          </p><p>
            このオプションは MySQL 5.6.1 からサポートされています。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_character-sets-dir"></a>
            <a class="indexterm" name="idm139979152341216"></a> <a class="indexterm" name="idm139979152339056"></a> <code class="option">--character-sets-dir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            文字セットがインストールされているディレクトリ。<a class="xref" href="globalization.html#charset-configuration" title="10.5 文字セットの構成">セクション10.5「文字セットの構成」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_compress"></a>
            <a class="indexterm" name="idm139979152333504"></a> <a class="indexterm" name="idm139979152331360"></a> <code class="option">--compress</code>, <code class="option">-C</code>
          </p><p>
            クライアントとサーバーの両方が圧縮をサポートしている場合、その間で送受信される情報をすべて圧縮します。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_count"></a>
            <a class="indexterm" name="idm139979152326352"></a> <a class="indexterm" name="idm139979152324208"></a> <code class="option">--count</code>
          </p><p>
            テーブルごとの行の数を表示します。これは <code class="literal">MyISAM</code> でないテーブルでは、遅い場合があります。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_debug"></a>
            <a class="indexterm" name="idm139979152318944"></a> <a class="indexterm" name="idm139979152316800"></a> <code class="option">--debug[=<em class="replaceable"><code>debug_options</code></em>]</code>, <code class="option">-# [<em class="replaceable"><code>debug_options</code></em>]</code>
          </p><p>
            デバッグのログを書き込みます。一般的な <em class="replaceable"><code>debug_options</code></em> 文字列は <code class="literal">d:t:o,<em class="replaceable"><code>file_name</code></em></code> です。デフォルトは <code class="literal">d:t:o</code> です。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_debug-check"></a>
            <a class="indexterm" name="idm139979152308864"></a> <a class="indexterm" name="idm139979152306720"></a> <code class="option">--debug-check</code>
          </p><p>
            プログラムの終了時に、デバッグ情報を出力します。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_debug-info"></a>
            <a class="indexterm" name="idm139979152302192"></a> <a class="indexterm" name="idm139979152300048"></a> <code class="option">--debug-info</code>
          </p><p>
            プログラムの終了時に、デバッグ情報とメモリーおよび CPU 使用率の統計を出力します。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_default-character-set"></a>
            <a class="indexterm" name="idm139979152295424"></a> <a class="indexterm" name="idm139979152293184"></a> <code class="option">--default-character-set=<em class="replaceable"><code>charset_name</code></em></code>
          </p><p>
            <em class="replaceable"><code>charset_name</code></em> をデフォルト文字セットとして使用します。<a class="xref" href="globalization.html#charset-configuration" title="10.5 文字セットの構成">セクション10.5「文字セットの構成」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_default-auth"></a>
            <a class="indexterm" name="idm139979152287264"></a> <a class="indexterm" name="idm139979152285136"></a> <code class="option">--default-auth=<em class="replaceable"><code>plugin</code></em></code>
          </p><p>
            使用するクライアント側の認証プラグイン。<a class="xref" href="security.html#pluggable-authentication" title="6.3.7 プラガブル認証">セクション6.3.7「プラガブル認証」</a>を参照してください。
          </p><p>
            このオプションは MySQL 5.6.2 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_defaults-extra-file"></a>
            <a class="indexterm" name="idm139979152279040"></a> <a class="indexterm" name="idm139979152276880"></a> <code class="option">--defaults-extra-file=<em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            このオプションファイルは、グローバルオプションファイルのあとに読み取りますが、(UNIX では) ユーザーオプションファイルの前に読み取るようにしてください。ファイルが存在しないかアクセスできない場合、エラーが発生します。<em class="replaceable"><code>file_name</code></em> は、フルパス名でなく相対パス名として指定された場合、現行ディレクトリを基準にして解釈されます。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_defaults-file"></a>
            <a class="indexterm" name="idm139979152270880"></a> <a class="indexterm" name="idm139979152268720"></a> <code class="option">--defaults-file=<em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            指定されたオプションファイルのみ使用します。ファイルが存在しないかアクセスできない場合、エラーが発生します。<em class="replaceable"><code>file_name</code></em> は、フルパス名でなく相対パス名として指定された場合、現行ディレクトリを基準にして解釈されます。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_defaults-group-suffix"></a>
            <a class="indexterm" name="idm139979152262992"></a> <a class="indexterm" name="idm139979152260752"></a> <code class="option">--defaults-group-suffix=<em class="replaceable"><code>str</code></em></code>
          </p><p>
            通常のオプショングループだけでなく、通常の名前に <em class="replaceable"><code>str</code></em> のサフィクスが付いたグループも読み取ります。たとえば、<span class="command"><strong>mysqlshow</strong></span> は通常 <code class="literal">[client]</code> グループおよび <code class="literal">[mysqlshow]</code> グループを読み取ります。<code class="option">--defaults-group-suffix=_other</code> オプションを指定した場合、<span class="command"><strong>mysqlshow</strong></span> は <code class="literal">[client_other]</code> グループおよび <code class="literal">[mysqlshow_other]</code> グループも読み取ります。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_host"></a>
            <a class="indexterm" name="idm139979152250128"></a> <a class="indexterm" name="idm139979152247984"></a> <code class="option">--host=<em class="replaceable"><code>host_name</code></em></code>, <code class="option">-h <em class="replaceable"><code>host_name</code></em></code>
          </p><p>
            指定されたホストの MySQL サーバーに接続します。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_keys"></a>
            <a class="indexterm" name="idm139979152242576"></a> <a class="indexterm" name="idm139979152240432"></a> <code class="option">--keys</code>, <code class="option">-k</code>
          </p><p>
            テーブルインデックスを表示します。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_login-path"></a>
            <a class="indexterm" name="idm139979152235584"></a> <a class="indexterm" name="idm139979152233440"></a> <code class="option">--login-path=<em class="replaceable"><code>name</code></em></code>
          </p><p>
            指名されたログインパスから <code class="filename">.mylogin.cnf</code> ログインファイルのオプションを読み取ります。<span class="quote">「<span class="quote">ログインパス</span>」</span>は、<code class="option">host</code>、<code class="option">user</code>、および <code class="option">password</code> という限定されたオプションのセットのみを許可するオプショングループです。ログインパスは、サーバーホストおよびそのサーバーで認証するための認証情報を示す値のセットであると考えてください。ログインパスファイルを作成するには、<span class="command"><strong>mysql_config_editor</strong></span> ユーティリティーを使用します。<a class="xref" href="programs.html#mysql-config-editor" title="4.6.6 mysql_config_editor — MySQL 構成ユーティリティー">セクション4.6.6「<span class="command"><strong>mysql_config_editor</strong></span> — MySQL 構成ユーティリティー」</a>を参照してください。このオプションは MySQL 5.6.6 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_no-defaults"></a>
            <a class="indexterm" name="idm139979152223888"></a> <a class="indexterm" name="idm139979152221776"></a> <code class="option">--no-defaults</code>
          </p><p>
            オプションファイルを読み取りません。オプションファイルから不明のオプションを読み取ることが原因でプログラムの起動に失敗する場合、<code class="option">--no-defaults</code> を使用して、オプションを読み取らないようにできます。
          </p><p>
            例外として、<code class="filename">.mylogin.cnf</code> ファイルは、存在する場合はすべての場合に読み取られます。これにより、<code class="option">--no-defaults</code> が使用された場合にも、コマンド行よりも安全な方法でパスワードを指定できます。(<code class="filename">.mylogin.cnf</code> は <span class="command"><strong>mysql_config_editor</strong></span> ユーティリティーによって作成されます。<a class="xref" href="programs.html#mysql-config-editor" title="4.6.6 mysql_config_editor — MySQL 構成ユーティリティー">セクション4.6.6「<span class="command"><strong>mysql_config_editor</strong></span> — MySQL 構成ユーティリティー」</a>を参照してください)。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_password"></a>
            <a class="indexterm" name="idm139979152211552"></a> <a class="indexterm" name="idm139979152209408"></a> <code class="option">--password[=<em class="replaceable"><code>password</code></em>]</code>, <code class="option">-p[<em class="replaceable"><code>password</code></em>]</code>
          </p><p>
            サーバーに接続する際に使用するパスワードです。短いオプション形式 (<code class="option">-p</code>) を使用した場合は、オプションとパスワードの間にスペースを置くことは<span class="emphasis"><em>できません</em></span>。コマンド行で、<code class="option">--password</code> オプションまたは <code class="option">-p</code> オプションに続けて <em class="replaceable"><code>password</code></em> の値を指定しなかった場合、<span class="command"><strong>mysqlshow</strong></span> はそれを要求します。
          </p><p>
            コマンド行でのパスワード指定は、セキュアでないと考えるべきです。<a class="xref" href="security.html#password-security-user" title="6.1.2.1 パスワードセキュリティーのためのエンドユーザーガイドライン">セクション6.1.2.1「パスワードセキュリティーのためのエンドユーザーガイドライン」</a>を参照してください。オプションファイルを使用すれば、コマンド行でパスワードを指定することを回避できます。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_pipe"></a>
            <a class="indexterm" name="idm139979152198720"></a> <a class="indexterm" name="idm139979152196576"></a> <code class="option">--pipe</code>, <code class="option">-W</code>
          </p><p>
            Windows で、名前付きパイプを使用してサーバーに接続します。このオプションは、サーバーが名前付きパイプ接続をサポートしている場合にのみ適用されます。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_plugin-dir"></a>
            <a class="indexterm" name="idm139979152191392"></a> <a class="indexterm" name="idm139979152189248"></a> <code class="option">--plugin-dir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            プラグインを検索するディレクトリ。<code class="option">--default-auth</code> オプションを使用して認証プラグインを指定したが、<span class="command"><strong>mysqlshow</strong></span> がそれを検出できない場合は、このオプションを指定しなければならない可能性があります。<a class="xref" href="security.html#pluggable-authentication" title="6.3.7 プラガブル認証">セクション6.3.7「プラガブル認証」</a>を参照してください。
          </p><p>
            このオプションは MySQL 5.6.2 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_port"></a>
            <a class="indexterm" name="idm139979152181376"></a> <a class="indexterm" name="idm139979152179232"></a> <code class="option">--port=<em class="replaceable"><code>port_num</code></em></code>, <code class="option">-P <em class="replaceable"><code>port_num</code></em></code>
          </p><p>
            接続に使用する TCP/IP ポート番号。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_print-defaults"></a>
            <a class="indexterm" name="idm139979152173856"></a> <a class="indexterm" name="idm139979152171696"></a> <code class="option">--print-defaults</code>
          </p><p>
            プログラム名と、オプションファイルから受け取るすべてのオプションを出力します。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_protocol"></a>
            <a class="indexterm" name="idm139979152167056"></a> <a class="indexterm" name="idm139979152164880"></a> <code class="option">--protocol={TCP|SOCKET|PIPE|MEMORY}</code>
          </p><p>
            サーバーへの接続に使用する接続プロトコル。このオプションは、ほかの接続パラメータによって、必要なプロトコル以外のものが通常使用される場合に役立ちます。許可される値の詳細は、<a class="xref" href="programs.html#connecting" title="4.2.2 MySQL サーバーへの接続">セクション4.2.2「MySQL サーバーへの接続」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_secure-auth"></a>
            <a class="indexterm" name="idm139979152159312"></a> <a class="indexterm" name="idm139979152157200"></a> <code class="option">--secure-auth</code>
          </p><p>
            古い (4.1 より前の) 形式でサーバーにパスワードを送信しません。これにより、新しいパスワード形式を使用するサーバー以外への接続を防ぎます。このオプションはデフォルトで有効です。無効にするには <code class="option">--skip-secure-auth</code> を使用します。このオプションは MySQL 5.6.17 で追加されました。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              4.1 より前のハッシュ方式を使用するパスワードはネイティブのパスワードハッシュ方式を使用するパスワードよりもセキュアでないため、使用しないようにしてください。4.1 よりも前のパスワードは非推奨であり、これらのサポートは今後の MySQL リリースで削除される予定です。アカウントのアップグレード手順については、<a class="xref" href="security.html#account-upgrades" title="6.3.8.3 4.1 よりも前のパスワードハッシュ方式と mysql_old_password プラグインからの移行">セクション6.3.8.3「4.1 よりも前のパスワードハッシュ方式と mysql_old_password プラグインからの移行」</a>を参照してください。
            </p></div></li><li class="listitem"><p><a name="option_mysqlshow_shared-memory-base-name"></a>
            <a class="indexterm" name="idm139979152148896"></a> <a class="indexterm" name="idm139979152146752"></a> <code class="option">--shared-memory-base-name=<em class="replaceable"><code>name</code></em></code>
          </p><p>
            Windows で、共有メモリーを使用して作成されるローカルサーバーへの接続の共有メモリー名。デフォルト値は <code class="literal">MYSQL</code> です。共有メモリー名では大文字と小文字を区別します。
          </p><p>
            共有メモリー接続を可能にするには、サーバーは <code class="option">--shared-memory</code> オプションで起動する必要があります。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_show-table-type"></a>
            <a class="indexterm" name="idm139979152139472"></a> <a class="indexterm" name="idm139979152137312"></a> <code class="option">--show-table-type</code>, <code class="option">-t</code>
          </p><p>
            <code class="literal">SHOW FULL TABLES</code> と同様に、テーブルの型を示すカラムを表示します。型は <code class="literal">BASE TABLE</code> または <code class="literal">VIEW</code> です。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_socket"></a>
            <a class="indexterm" name="idm139979152129760"></a> <a class="indexterm" name="idm139979152127616"></a> <code class="option">--socket=<em class="replaceable"><code>path</code></em></code>, <code class="option">-S <em class="replaceable"><code>path</code></em></code>
          </p><p>
            <code class="literal">localhost</code> への接続用に使用する、Unix ソケットファイル、または Windows では使用する名前付きパイプの名前。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_ssl"></a>
            <a class="indexterm" name="idm139979152121408"></a> <a class="indexterm" name="idm139979152119280"></a> <code class="option">--ssl*</code>
          </p><p>
            <code class="option">--ssl</code> で始まるオプションは、SSL を使用してサーバーに接続することを許可するかどうかを指定し、SSL 鍵および証明書を検索する場所を指定します。<a class="xref" href="security.html#ssl-options" title="6.3.10.4 SSL コマンドのオプション">セクション6.3.10.4「SSL コマンドのオプション」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_status"></a>
            <a class="indexterm" name="idm139979152113520"></a> <a class="indexterm" name="idm139979152111376"></a> <code class="option">--status</code>, <code class="option">-i</code>
          </p><p>
            各テーブルの追加情報を表示します。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_user"></a>
            <a class="indexterm" name="idm139979152106576"></a> <a class="indexterm" name="idm139979152104432"></a> <code class="option">--user=<em class="replaceable"><code>user_name</code></em></code>, <code class="option">-u <em class="replaceable"><code>user_name</code></em></code>
          </p><p>
            サーバーへの接続時に使用する MySQL ユーザー名。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_verbose"></a>
            <a class="indexterm" name="idm139979152098976"></a> <a class="indexterm" name="idm139979152096800"></a> <code class="option">--verbose</code>, <code class="option">-v</code>
          </p><p>
            冗長モード。プログラムの動作についてより多くの情報を出力します。このオプションは情報量を増加させるために複数回使用できます。
          </p></li><li class="listitem"><p><a name="option_mysqlshow_version"></a>
            <a class="indexterm" name="idm139979152091728"></a> <a class="indexterm" name="idm139979152089552"></a> <code class="option">--version</code>, <code class="option">-V</code>
          </p><p>
            バージョン情報を表示して終了します。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysqlslap"></a>4.5.7 <span class="command"><strong>mysqlslap</strong></span> — 負荷エミュレーションクライアント</h3></div></div></div><a class="indexterm" name="idm139979152083824"></a><a class="indexterm" name="idm139979152082608"></a><p>
        <span class="command"><strong>mysqlslap</strong></span> は MySQL サーバーのクライアント負荷をエミュレートし、各段階のタイミングをレポートする診断プログラムです。複数のクライアントがサーバーにアクセスしているかのように作動します。
      </p><p>
        <span class="command"><strong>mysqlslap</strong></span> は次のように起動します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqlslap [<em class="replaceable"><code>options</code></em>]</code></strong>
</pre><p>
        <code class="option">--create</code> または <code class="option">--query</code> などのオプションを使用すると、SQL ステートメントを含む文字列やステートメントを含むファイルを指定できます。ファイルを指定した場合、デフォルトでは各行に 1 つのステートメントを含んでいなければなりません。(つまり、暗黙的なステートメント区切り文字は改行文字です。)異なる区切り文字を指定するには、<code class="option">--delimiter</code> オプションを使用します。これにより、複数行にわたるステートメントを指定したり、1 行に複数のステートメントを配置したりできます。ファイルにコメントを含めることはできません。<span class="command"><strong>mysqlslap</strong></span> はそれらを理解しません。
      </p><p>
        <span class="command"><strong>mysqlslap</strong></span> は次の 3 段階で実行されます。
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            テストに使用するスキーマ、テーブル、およびオプションでストアドプログラムまたはデータを作成します。この段階では、1 つのクライアント接続を使用します。
          </p></li><li class="listitem"><p>
            負荷テストを実行します。この段階では、多数のクライアント接続を使用できます。
          </p></li><li class="listitem"><p>
            クリーンアップ (接続の解除、指定した場合はテーブルの削除) を実行します。この段階では、1 つのクライアント接続を使用します。
          </p></li></ol></div><p>
        例:
      </p><p>
        50 台のクライアントがクエリーを実行し、それぞれ 200 の選択を行うような、create および query SQL ステートメントを提供します (コマンドは単一行に入力します)。
      </p><pre class="programlisting">
mysqlslap --delimiter=";"
  --create="CREATE TABLE a (b int);INSERT INTO a VALUES (23)"
  --query="SELECT * FROM a" --concurrency=50 --iterations=200
</pre><p>
        <span class="command"><strong>mysqlslap</strong></span> に、2 つの <code class="literal">INT</code> カラムと 3 つの <code class="literal">VARCHAR</code> カラムから成るテーブルを含む query SQL ステートメントを構築させます。5 台のクライアントを使ってそれぞれ 20 回ずつクエリーを実行します。テーブルを作成したり、データを挿入したりしないでください (直前のテストのスキーマとデータを使用します)。
      </p><pre class="programlisting">
mysqlslap --concurrency=5 --iterations=20
  --number-int-cols=2 --number-char-cols=3
  --auto-generate-sql
</pre><p>
        プログラムに、指定のファイルから create、insert、および query SQL ステートメントをロードするように指示します。この場合の <code class="filename">create.sql</code> ファイルには <code class="literal">';'</code> で区切られた複数のテーブル作成ステートメントと <code class="literal">';'</code> で区切られた複数の挿入ステートメントが含まれています。<code class="option">--query</code> ファイルには、<code class="literal">';'</code> で区切られた複数のクエリーが格納されます。5 台のクライアントを使用して、すべての load ステートメントを実行してから、query ファイル内のすべてのクエリーを実行します (それぞれ 5 回ずつ)。
      </p><pre class="programlisting">
mysqlslap --concurrency=5
  --iterations=5 --query=query.sql --create=create.sql
  --delimiter=";"
</pre><p>
        <span class="command"><strong>mysqlslap</strong></span> は次のオプションをサポートします。これらはコマンド行またはオプションファイルの <code class="literal">[mysqlslap]</code> グループおよび <code class="literal">[client]</code> グループで指定できます。MySQL プログラムによって使用されるオプションファイルの詳細については、<a class="xref" href="programs.html#option-files" title="4.2.6 オプションファイルの使用">セクション4.2.6「オプションファイルの使用」</a>を参照してください。
      </p><div class="table"><a name="idm139979152050560"></a><p class="title"><b>表 4.11 <code class="literal">mysqlslap</code> のオプション</b></p><div class="table-contents"><table summary="mysqlslap のオプション" border="1"><colgroup><col class="format"><col class="description"><col class="introduced"></colgroup><thead><tr><th scope="col">形式</th><th scope="col">説明</th><th scope="col">導入</th></tr></thead><tbody><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_auto-generate-sql">--auto-generate-sql</a></td><td>SQL ステートメントがファイルおよびコマンドオプションを使用して指定されない場合、自動的に生成</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_auto-generate-sql-add-autoincrement">--auto-generate-sql-add-autoincrement</a></td><td>AUTO_INCREMENT カラムを自動生成されたテーブルに追加</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_auto-generate-sql-execute-number">--auto-generate-sql-execute-number</a></td><td>自動的に生成するクエリーの数を指定</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_auto-generate-sql-guid-primary">--auto-generate-sql-guid-primary</a></td><td>自動生成されたテーブルに GUID ベースの主キーを追加</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_auto-generate-sql-load-type">--auto-generate-sql-load-type</a></td><td>自動的に生成するクエリーの数を指定</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_auto-generate-sql-secondary-indexes">--auto-generate-sql-secondary-indexes</a></td><td>自動生成されたテーブルに追加するセカンダリインデックスの数を指定</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_auto-generate-sql-unique-query-number">--auto-generate-sql-unique-query-number</a></td><td>自動テスト用に生成する異なるクエリーの数。</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_auto-generate-sql-unique-write-number">--auto-generate-sql-unique-write-number</a></td><td>--auto-generate-sql-write-number 用に生成する異なるクエリーの数</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_auto-generate-sql-write-number">--auto-generate-sql-write-number</a></td><td>各スレッドで実行する行挿入の回数</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_commit">--commit</a></td><td>コミットの前に実行するステートメントの数。</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_compress">--compress</a></td><td>クライアントとサーバー間で送信される情報をすべて圧縮</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_concurrency">--concurrency</a></td><td>SELECT ステートメントを発行する際、シミュレートするクライアントの数</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_create">--create</a></td><td>テーブルの作成に使用するステートメントを含むファイルまたは文字列</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_create-schema">--create-schema</a></td><td>テストを実行するスキーマ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_csv">--csv</a></td><td>カンマ区切りの値の形式で出力を生成</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_debug">--debug</a></td><td>デバッグのログを書き込み</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_debug-check">--debug-check</a></td><td>プログラムの終了時にデバッグ情報を出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_debug-info">--debug-info</a></td><td>プログラムの終了時に、デバッグ情報、メモリー、および CPU の統計を出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_default-auth">--default-auth</a></td><td>使用する認証プラグイン</td><td>5.6.2</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_defaults-extra-file">--defaults-extra-file</a></td><td>通常のオプションファイルに加えてオプションファイルを読み取る</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_defaults-file">--defaults-file</a></td><td>指名されたオプションファイルのみを読み取る</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_defaults-group-suffix">--defaults-group-suffix</a></td><td>オプショングループのサフィクス値</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_delimiter">--delimiter</a></td><td>SQL ステートメントで使用する区切り文字</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_detach">--detach</a></td><td>N 個のステートメントが終わるごとに各接続を切り離す (閉じてからふたたび開く)</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_enable-cleartext-plugin">--enable-cleartext-plugin</a></td><td>平文の認証プラグインを有効化</td><td>5.6.7</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_engine">--engine</a></td><td>テーブルの作成に使用するストレージエンジン</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_help">--help</a></td><td>ヘルプメッセージを表示して終了</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_host">--host</a></td><td>指定されたホスト上で MySQL サーバーに接続</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_iterations">--iterations</a></td><td>実行するテストの回数</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_login-path">--login-path</a></td><td>ログインパスオプションを .mylogin.cnf から読み取り</td><td>5.6.6</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_no-defaults">--no-defaults</a></td><td>オプションファイルを読み取らない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_no-drop">--no-drop</a></td><td>テスト実行中に作成されたスキーマを削除しない</td><td>5.6.3</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_number-char-cols">--number-char-cols</a></td><td>--auto-generate-sql が指定された場合に使用する VARCHAR カラムの数</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_number-int-cols">--number-int-cols</a></td><td>--auto-generate-sql が指定された場合に使用する INT カラムの数</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_number-of-queries">--number-of-queries</a></td><td>各クライアントのクエリー数をおよそこの数に制限</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_only-print">--only-print</a></td><td>データベースに接続しない。mysqlslap が実行したであろう内容を出力するのみ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_password">--password</a></td><td>サーバーに接続する際に使用するパスワード</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_pipe">--pipe</a></td><td>Windows で、名前付きパイプを使用してサーバーに接続</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_plugin-dir">--plugin-dir</a></td><td>プラグインがインストールされているディレクトリ</td><td>5.6.2</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_port">--port</a></td><td>接続に使用する TCP/IP ポート番号</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_post-query">--post-query</a></td><td>テスト完了後に実行するステートメントを含むファイルまたは文字列</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_post-system">--post-system</a></td><td>テスト完了後に system() を使用して実行する文字列</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_pre-query">--pre-query</a></td><td>テストの実施前に実行するステートメントを含むファイルまたは文字列</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_pre-system">--pre-system</a></td><td>テストの実施前に system() を使用して実行する文字列</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_print-defaults">--print-defaults</a></td><td>デフォルトを出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_protocol">--protocol</a></td><td>使用する接続プロトコル</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_query">--query</a></td><td>データ取得のために使用する SELECT ステートメントを含むファイルまたは文字列</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_secure-auth">--secure-auth</a></td><td>古い (4.1.1 より前の) 形式でサーバーにパスワードを送信しない</td><td>5.6.17</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_shared-memory-base-name">--shared-memory-base-name</a></td><td>共有メモリー接続に使用する共有メモリーの名前</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_silent">--silent</a></td><td>サイレントモード</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_socket">--socket</a></td><td>ローカルホストへの接続で、使用する Unix ソケットファイル</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_ssl">--ssl</a></td><td>接続に SSL を有効化</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_ssl">--ssl-ca</a></td><td>信頼された SSL CA のリストを含むファイルのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_ssl">--ssl-capath</a></td><td>信頼された SSL CA の PEM 形式の証明書を含むディレクトリのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_ssl">--ssl-cert</a></td><td>PEM 形式の X509 証明書を含むファイルのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_ssl">--ssl-cipher</a></td><td>SSL の暗号化に使用される、許可された暗号のリスト</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_ssl">--ssl-crl</a></td><td>証明書失効リストを含むファイルのパス</td><td>5.6.3</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_ssl">--ssl-crlpath</a></td><td>証明書失効リストファイルを含むディレクトリのパス</td><td>5.6.3</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_ssl">--ssl-key</a></td><td>PEM 形式の X509 鍵を含むファイルのパス</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_ssl">--ssl-verify-server-cert</a></td><td>サーバーへの接続時に、サーバーの証明書内のコモンネーム値をホスト名に対して検証</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_user">--user</a></td><td>サーバーへの接続時に使用する MySQL ユーザー名</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_verbose">--verbose</a></td><td>冗長モード</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlslap_version">--version</a></td><td>バージョン情報を表示して終了</td><td> </td></tr></tbody></table></div></div><br class="table-break"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysqlslap_help"></a>
            <a class="indexterm" name="idm139979151836160"></a> <a class="indexterm" name="idm139979151834176"></a> <code class="option">--help</code>, <code class="option">-?</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_auto-generate-sql"></a>
            <a class="indexterm" name="idm139979174717184"></a> <a class="indexterm" name="idm139979174714976"></a> <code class="option">--auto-generate-sql</code>, <code class="option">-a</code>
          </p><p>
            SQL ステートメントがファイルおよびコマンドオプションを使用して指定されない場合、自動的に生成します。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_auto-generate-sql-add-autoincrement"></a>
            <a class="indexterm" name="idm139979174710160"></a> <a class="indexterm" name="idm139979174707888"></a> <code class="option">--auto-generate-sql-add-autoincrement</code>
          </p><p>
            <code class="literal">AUTO_INCREMENT</code> カラムを自動生成されたテーブルに追加します。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_auto-generate-sql-execute-number"></a>
            <a class="indexterm" name="idm139979151729584"></a> <a class="indexterm" name="idm139979151727600"></a> <code class="option">--auto-generate-sql-execute-number=<em class="replaceable"><code>N</code></em></code>
          </p><p>
            自動的に生成するクエリーの数を指定します。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_auto-generate-sql-guid-primary"></a>
            <a class="indexterm" name="idm139979151723152"></a> <a class="indexterm" name="idm139979151721168"></a> <code class="option">--auto-generate-sql-guid-primary</code>
          </p><p>
            自動生成されたテーブルに GUID ベースの主キーを追加します。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_auto-generate-sql-load-type"></a>
            <a class="indexterm" name="idm139979151716928"></a> <a class="indexterm" name="idm139979151714848"></a> <code class="option">--auto-generate-sql-load-type=<em class="replaceable"><code>type</code></em></code>
          </p><p>
            テストの負荷タイプを指定します。許可される値は、<code class="literal">read</code> (テーブルのスキャン)、<code class="literal">write</code> (テーブルに挿入)、<code class="literal">key</code> (主キーの読み取り)、<code class="literal">update</code> (主キーの更新)、または <code class="literal">mixed</code> (挿入とスキャンして選択が半分ずつ) です。デフォルトは <code class="literal">mixed</code> です。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_auto-generate-sql-secondary-indexes"></a>
            <a class="indexterm" name="idm139979151706368"></a> <a class="indexterm" name="idm139979151704304"></a> <code class="option">--auto-generate-sql-secondary-indexes=<em class="replaceable"><code>N</code></em></code>
          </p><p>
            自動生成されたテーブルに追加するセカンダリインデックスの数を指定します。デフォルトでは、何も追加されません。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_auto-generate-sql-unique-query-number"></a>
            <a class="indexterm" name="idm139979151699584"></a> <a class="indexterm" name="idm139979151697392"></a> <code class="option">--auto-generate-sql-unique-query-number=<em class="replaceable"><code>N</code></em></code>
          </p><p>
            自動テスト用に生成する異なるクエリーの数。たとえば、1000 回の選択を行う <code class="literal">key</code> テストを実施する場合、このオプションの値を 1000 にして一意のクエリーを 1000 個実行することも、値を 50 にして異なるクエリーを 50 回行うこともできます。デフォルトは 10 です。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_auto-generate-sql-unique-write-number"></a>
            <a class="indexterm" name="idm139979151691744"></a> <a class="indexterm" name="idm139979151689552"></a> <code class="option">--auto-generate-sql-unique-write-number=<em class="replaceable"><code>N</code></em></code>
          </p><p>
            <code class="option">--auto-generate-sql-write-number</code> 用に生成する異なるクエリーの数を指定します。デフォルトは 10 です。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_auto-generate-sql-write-number"></a>
            <a class="indexterm" name="idm139979151684448"></a> <a class="indexterm" name="idm139979151682464"></a> <code class="option">--auto-generate-sql-write-number=<em class="replaceable"><code>N</code></em></code>
          </p><p>
            各スレッドで実行する行挿入の回数を指定します。デフォルトは 100 です。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_commit"></a>
            <a class="indexterm" name="idm139979151677936"></a> <a class="indexterm" name="idm139979151675952"></a> <code class="option">--commit=<em class="replaceable"><code>N</code></em></code>
          </p><p>
            コミットの前に実行するステートメントの数。デフォルトは 0 (コミットは行われない) です。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_compress"></a>
            <a class="indexterm" name="idm139979151671600"></a> <a class="indexterm" name="idm139979151669616"></a> <code class="option">--compress</code>, <code class="option">-C</code>
          </p><p>
            クライアントとサーバーの両方が圧縮をサポートしている場合、その間で送受信される情報をすべて圧縮します。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_concurrency"></a>
            <a class="indexterm" name="idm139979151665088"></a> <a class="indexterm" name="idm139979151663104"></a> <code class="option">--concurrency=<em class="replaceable"><code>N</code></em></code>, <code class="option">-c <em class="replaceable"><code>N</code></em></code>
          </p><p>
            <code class="literal">SELECT</code> ステートメントを発行する場合に、シミュレートするクライアントの数。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_create"></a>
            <a class="indexterm" name="idm139979151657328"></a> <a class="indexterm" name="idm139979151655344"></a> <code class="option">--create=<em class="replaceable"><code>value</code></em></code>
          </p><p>
            テーブルの作成に使用するステートメントを含むファイルまたは文字列。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_create-schema"></a>
            <a class="indexterm" name="idm139979151651056"></a> <a class="indexterm" name="idm139979151648992"></a> <code class="option">--create-schema=<em class="replaceable"><code>value</code></em></code>
          </p><p>
            テストを実行するスキーマ。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              <code class="option">--auto-generate-sql</code> オプションも指定されている場合、<span class="command"><strong>mysqlslap</strong></span> はテスト実行の最後にスキーマを削除します。これを避けるには、<code class="option">--no-drop</code> オプションも使用します。
            </p></div></li><li class="listitem"><p><a name="option_mysqlslap_csv"></a>
            <a class="indexterm" name="idm139979151641680"></a> <a class="indexterm" name="idm139979151639696"></a> <code class="option">--csv[=<em class="replaceable"><code>file_name</code></em>]</code>
          </p><p>
            カンマ区切りの値の形式で出力を生成します。出力は指定されたファイルか、ファイルが指定されていない場合標準出力に送られます。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_debug"></a>
            <a class="indexterm" name="idm139979151635104"></a> <a class="indexterm" name="idm139979151633120"></a> <code class="option">--debug[=<em class="replaceable"><code>debug_options</code></em>]</code>, <code class="option">-# [<em class="replaceable"><code>debug_options</code></em>]</code>
          </p><p>
            デバッグのログを書き込みます。一般的な <em class="replaceable"><code>debug_options</code></em> 文字列は <code class="literal">d:t:o,<em class="replaceable"><code>file_name</code></em></code> です。デフォルトは <code class="literal">d:t:o,/tmp/mysqlslap.trace</code> です。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_debug-check"></a>
            <a class="indexterm" name="idm139979151626064"></a> <a class="indexterm" name="idm139979151624080"></a> <code class="option">--debug-check</code>
          </p><p>
            プログラムの終了時に、デバッグ情報を出力します。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_debug-info"></a>
            <a class="indexterm" name="idm139979151620096"></a> <a class="indexterm" name="idm139979151618112"></a> <code class="option">--debug-info</code>, <code class="option">-T</code>
          </p><p>
            プログラムの終了時に、デバッグ情報とメモリーおよび CPU 使用率の統計を出力します。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_default-auth"></a>
            <a class="indexterm" name="idm139979151613648"></a> <a class="indexterm" name="idm139979151611584"></a> <code class="option">--default-auth =<em class="replaceable"><code>plugin</code></em></code>
          </p><p>
            使用するクライアント側の認証プラグイン。<a class="xref" href="security.html#pluggable-authentication" title="6.3.7 プラガブル認証">セクション6.3.7「プラガブル認証」</a>を参照してください。
          </p><p>
            このオプションは MySQL 5.6.2 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_defaults-extra-file"></a>
            <a class="indexterm" name="idm139979151606240"></a> <a class="indexterm" name="idm139979151604176"></a> <code class="option">--defaults-extra-file=<em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            このオプションファイルは、グローバルオプションファイルのあとに読み取りますが、(UNIX では) ユーザーオプションファイルの前に読み取るようにしてください。ファイルが存在しないかアクセスできない場合、エラーが発生します。<em class="replaceable"><code>file_name</code></em> は、フルパス名でなく相対パス名として指定された場合、現行ディレクトリを基準にして解釈されます。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_defaults-file"></a>
            <a class="indexterm" name="idm139979151598720"></a> <a class="indexterm" name="idm139979151596656"></a> <code class="option">--defaults-file=<em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            指定されたオプションファイルのみ使用します。ファイルが存在しないかアクセスできない場合、エラーが発生します。<em class="replaceable"><code>file_name</code></em> は、フルパス名でなく相対パス名として指定された場合、現行ディレクトリを基準にして解釈されます。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_defaults-group-suffix"></a>
            <a class="indexterm" name="idm139979151591472"></a> <a class="indexterm" name="idm139979151589392"></a> <code class="option">--defaults-group-suffix=<em class="replaceable"><code>str</code></em></code>
          </p><p>
            通常のオプショングループだけでなく、通常の名前に <em class="replaceable"><code>str</code></em> のサフィクスが付いたグループも読み取ります。たとえば、<span class="command"><strong>mysqlslap</strong></span> は通常 <code class="literal">[client]</code> グループおよび <code class="literal">[mysqlslap]</code> グループを読み取ります。<code class="option">--defaults-group-suffix=_other</code> オプションを指定した場合、<span class="command"><strong>mysqlslap</strong></span> は <code class="literal">[client_other]</code> グループおよび <code class="literal">[mysqlslap_other]</code> グループも読み取ります。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_delimiter"></a>
            <a class="indexterm" name="idm139979151579840"></a> <a class="indexterm" name="idm139979151577856"></a> <code class="option">--delimiter=<em class="replaceable"><code>str</code></em></code>, <code class="option">-F <em class="replaceable"><code>str</code></em></code>
          </p><p>
            ファイルまたはコマンドオプションを使用して提供される SQL ステートメントで使用される区切り文字。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_detach"></a>
            <a class="indexterm" name="idm139979151572832"></a> <a class="indexterm" name="idm139979151570848"></a> <code class="option">--detach=<em class="replaceable"><code>N</code></em></code>
          </p><p>
            <em class="replaceable"><code>N</code></em> 個のステートメントごとに各接続を切り離します (閉じてからふたたび開きます)。デフォルトは 0 (接続は切り離されない) です。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_enable-cleartext-plugin"></a>
            <a class="indexterm" name="idm139979151566048"></a> <a class="indexterm" name="idm139979151563968"></a> <code class="option">--enable-cleartext-plugin</code>
          </p><p>
            <code class="literal">mysql_clear_password</code> 平文認証プラグインを有効にします。(<a class="xref" href="security.html#cleartext-authentication-plugin" title="6.3.8.7 クライアント側のクリアテキスト認証プラグイン">セクション6.3.8.7「クライアント側のクリアテキスト認証プラグイン」</a>を参照してください。)このオプションは MySQL 5.6.7 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_engine"></a>
            <a class="indexterm" name="idm139979151558720"></a> <a class="indexterm" name="idm139979151556736"></a> <code class="option">--engine=<em class="replaceable"><code>engine_name</code></em></code>, <code class="option">-e <em class="replaceable"><code>engine_name</code></em></code>
          </p><p>
            テーブルの作成に使用するストレージエンジンを指定します。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_host"></a>
            <a class="indexterm" name="idm139979151551824"></a> <a class="indexterm" name="idm139979151549840"></a> <code class="option">--host=<em class="replaceable"><code>host_name</code></em></code>, <code class="option">-h <em class="replaceable"><code>host_name</code></em></code>
          </p><p>
            指定されたホストの MySQL サーバーに接続します。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_iterations"></a>
            <a class="indexterm" name="idm139979151544976"></a> <a class="indexterm" name="idm139979151542992"></a> <code class="option">--iterations=<em class="replaceable"><code>N</code></em></code>, <code class="option">-i <em class="replaceable"><code>N</code></em></code>
          </p><p>
            実行するテストの回数。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_login-path"></a>
            <a class="indexterm" name="idm139979151538192"></a> <a class="indexterm" name="idm139979151536208"></a> <code class="option">--login-path=<em class="replaceable"><code>name</code></em></code>
          </p><p>
            指名されたログインパスから <code class="filename">.mylogin.cnf</code> ログインファイルのオプションを読み取ります。<span class="quote">「<span class="quote">ログインパス</span>」</span>は、<code class="option">host</code>、<code class="option">user</code>、および <code class="option">password</code> という限定されたオプションのセットのみを許可するオプショングループです。ログインパスは、サーバーホストおよびそのサーバーで認証するための認証情報を示す値のセットであると考えてください。ログインパスファイルを作成するには、<span class="command"><strong>mysql_config_editor</strong></span> ユーティリティーを使用します。<a class="xref" href="programs.html#mysql-config-editor" title="4.6.6 mysql_config_editor — MySQL 構成ユーティリティー">セクション4.6.6「<span class="command"><strong>mysql_config_editor</strong></span> — MySQL 構成ユーティリティー」</a>を参照してください。このオプションは MySQL 5.6.6 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_no-drop"></a>
            <a class="indexterm" name="idm139979151527760"></a> <a class="indexterm" name="idm139979151525776"></a> <code class="option">--no-drop</code>
          </p><p>
            <span class="command"><strong>mysqlslap</strong></span> がテスト実行中に作成するスキーマをドロップしないようにします。このオプションは MySQL 5.6.3 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_no-defaults"></a>
            <a class="indexterm" name="idm139979151521024"></a> <a class="indexterm" name="idm139979151519040"></a> <code class="option">--no-defaults</code>
          </p><p>
            オプションファイルを読み取りません。オプションファイルから不明のオプションを読み取ることが原因でプログラムの起動に失敗する場合、<code class="option">--no-defaults</code> を使用して、オプションを読み取らないようにできます。
          </p><p>
            例外として、<code class="filename">.mylogin.cnf</code> ファイルは、存在する場合はすべての場合に読み取られます。これにより、<code class="option">--no-defaults</code> が使用された場合にも、コマンド行よりも安全な方法でパスワードを指定できます。(<code class="filename">.mylogin.cnf</code> は <span class="command"><strong>mysql_config_editor</strong></span> ユーティリティーによって作成されます。<a class="xref" href="programs.html#mysql-config-editor" title="4.6.6 mysql_config_editor — MySQL 構成ユーティリティー">セクション4.6.6「<span class="command"><strong>mysql_config_editor</strong></span> — MySQL 構成ユーティリティー」</a>を参照してください)。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_number-char-cols"></a>
            <a class="indexterm" name="idm139979151509952"></a> <a class="indexterm" name="idm139979151507888"></a> <code class="option">--number-char-cols=<em class="replaceable"><code>N</code></em></code>, <code class="option">-x <em class="replaceable"><code>N</code></em></code>
          </p><p>
            <code class="option">--auto-generate-sql</code> が指定されている場合に使用する <code class="literal">VARCHAR</code> カラムの数。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_number-int-cols"></a>
            <a class="indexterm" name="idm139979151501456"></a> <a class="indexterm" name="idm139979151499392"></a> <code class="option">--number-int-cols=<em class="replaceable"><code>N</code></em></code>, <code class="option">-y <em class="replaceable"><code>N</code></em></code>
          </p><p>
            <code class="option">--auto-generate-sql</code> が指定されている場合に使用する <code class="literal">INT</code> カラムの数。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_number-of-queries"></a>
            <a class="indexterm" name="idm139979151492960"></a> <a class="indexterm" name="idm139979151490896"></a> <code class="option">--number-of-queries=<em class="replaceable"><code>N</code></em></code>
          </p><p>
            各クライアントのクエリー数をおよそこの数に制限します。クエリーのカウントには、ステートメント区切り文字が考慮されます。たとえば、<span class="command"><strong>mysqlslap</strong></span> を次のように起動する場合、<code class="literal">;</code> 区切り文字が認識され、クエリー文字列の各インスタンスは 2 つのクエリーとカウントされます。その結果、(10 ではなく) 5 つの行が挿入されます。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqlslap --delimiter=";" --number-of-queries=10</code></strong>
         <strong class="userinput"><code>--query="use test;insert into t values(null)"</code></strong>
</pre></li><li class="listitem"><p><a name="option_mysqlslap_only-print"></a>
            <a class="indexterm" name="idm139979151482688"></a> <a class="indexterm" name="idm139979151480704"></a> <code class="option">--only-print</code>
          </p><p>
            データベースには接続しません。<span class="command"><strong>mysqlslap</strong></span> は、実行したであろう内容を出力するだけです。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_password"></a>
            <a class="indexterm" name="idm139979151476000"></a> <a class="indexterm" name="idm139979151474016"></a> <code class="option">--password[=<em class="replaceable"><code>password</code></em>]</code>, <code class="option">-p[<em class="replaceable"><code>password</code></em>]</code>
          </p><p>
            サーバーに接続する際に使用するパスワードです。短いオプション形式 (<code class="option">-p</code>) を使用した場合は、オプションとパスワードの間にスペースを置くことは<span class="emphasis"><em>できません</em></span>。コマンド行で、<code class="option">--password</code> オプションまたは <code class="option">-p</code> オプションに続けて <em class="replaceable"><code>password</code></em> の値を指定しなかった場合、<span class="command"><strong>mysqlslap</strong></span> はそれを要求します。
          </p><p>
            コマンド行でのパスワード指定は、セキュアでないと考えるべきです。<a class="xref" href="security.html#password-security-user" title="6.1.2.1 パスワードセキュリティーのためのエンドユーザーガイドライン">セクション6.1.2.1「パスワードセキュリティーのためのエンドユーザーガイドライン」</a>を参照してください。オプションファイルを使用すれば、コマンド行でパスワードを指定することを回避できます。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_pipe"></a>
            <a class="indexterm" name="idm139979151464272"></a> <a class="indexterm" name="idm139979151462288"></a> <code class="option">--pipe</code>, <code class="option">-W</code>
          </p><p>
            Windows で、名前付きパイプを使用してサーバーに接続します。このオプションは、サーバーが名前付きパイプ接続をサポートしている場合にのみ適用されます。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_plugin-dir"></a>
            <a class="indexterm" name="idm139979151457632"></a> <a class="indexterm" name="idm139979151455648"></a> <code class="option">--plugin-dir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            プラグインを検索するディレクトリ。<code class="option">--default-auth</code> オプションを使用して認証プラグインを指定したが、<span class="command"><strong>mysqlslap</strong></span> がそれを検出できない場合は、このオプションを指定しなければならない可能性があります。<a class="xref" href="security.html#pluggable-authentication" title="6.3.7 プラガブル認証">セクション6.3.7「プラガブル認証」</a>を参照してください。
          </p><p>
            このオプションは MySQL 5.6.2 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_port"></a>
            <a class="indexterm" name="idm139979151448720"></a> <a class="indexterm" name="idm139979151446736"></a> <code class="option">--port=<em class="replaceable"><code>port_num</code></em></code>, <code class="option">-P <em class="replaceable"><code>port_num</code></em></code>
          </p><p>
            接続に使用する TCP/IP ポート番号。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_post-query"></a>
            <a class="indexterm" name="idm139979151441904"></a> <a class="indexterm" name="idm139979151439920"></a> <code class="option">--post-query=<em class="replaceable"><code>value</code></em></code>
          </p><p>
            テスト完了後に実行するステートメントを含むファイルまたは文字列。この実行は、タイミングの目的ではカウントされません。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_post-system"></a>
            <a class="indexterm" name="idm139979151435472"></a> <a class="indexterm" name="idm139979151433488"></a> <code class="option">--post-system=<em class="replaceable"><code>str</code></em></code>
          </p><p>
            テスト完了後に <code class="literal">system()</code> を使用して実行する文字列。この実行は、タイミングの目的ではカウントされません。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_pre-query"></a>
            <a class="indexterm" name="idm139979151428480"></a> <a class="indexterm" name="idm139979151426496"></a> <code class="option">--pre-query=<em class="replaceable"><code>value</code></em></code>
          </p><p>
            テストの実行前に実行するステートメントを含むファイルまたは文字列。この実行は、タイミングの目的ではカウントされません。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_pre-system"></a>
            <a class="indexterm" name="idm139979151422048"></a> <a class="indexterm" name="idm139979151420064"></a> <code class="option">--pre-system=<em class="replaceable"><code>str</code></em></code>
          </p><p>
            テストの実行前に <code class="literal">system()</code> を使用して実行する文字列。この実行は、タイミングの目的ではカウントされません。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_print-defaults"></a>
            <a class="indexterm" name="idm139979151415040"></a> <a class="indexterm" name="idm139979151412976"></a> <code class="option">--print-defaults</code>
          </p><p>
            プログラム名と、オプションファイルから受け取るすべてのオプションを出力します。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_protocol"></a>
            <a class="indexterm" name="idm139979151408816"></a> <a class="indexterm" name="idm139979151406832"></a> <code class="option">--protocol={TCP|SOCKET|PIPE|MEMORY}</code>
          </p><p>
            サーバーへの接続に使用する接続プロトコル。このオプションは、ほかの接続パラメータによって、必要なプロトコル以外のものが通常使用される場合に役立ちます。許可される値の詳細は、<a class="xref" href="programs.html#connecting" title="4.2.2 MySQL サーバーへの接続">セクション4.2.2「MySQL サーバーへの接続」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_query"></a>
            <a class="indexterm" name="idm139979151402000"></a> <a class="indexterm" name="idm139979151400016"></a> <code class="option">--query=<em class="replaceable"><code>value</code></em></code>, <code class="option">-q <em class="replaceable"><code>value</code></em></code>
          </p><p>
            データ取得のため使用する <code class="literal">SELECT</code> ステートメントを含むファイルまたは文字列。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_secure-auth"></a>
            <a class="indexterm" name="idm139979151394208"></a> <a class="indexterm" name="idm139979151392224"></a> <code class="option">--secure-auth</code>
          </p><p>
            古い (4.1 より前の) 形式でサーバーにパスワードを送信しません。これにより、新しいパスワード形式を使用するサーバー以外への接続を防ぎます。このオプションはデフォルトで有効です。無効にするには <code class="option">--skip-secure-auth</code> を使用します。このオプションは MySQL 5.6.17 で追加されました。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              4.1 より前のハッシュ方式を使用するパスワードはネイティブのパスワードハッシュ方式を使用するパスワードよりもセキュアでないため、使用しないようにしてください。4.1 よりも前のパスワードは非推奨であり、これらのサポートは今後の MySQL リリースで削除される予定です。アカウントのアップグレード手順については、<a class="xref" href="security.html#account-upgrades" title="6.3.8.3 4.1 よりも前のパスワードハッシュ方式と mysql_old_password プラグインからの移行">セクション6.3.8.3「4.1 よりも前のパスワードハッシュ方式と mysql_old_password プラグインからの移行」</a>を参照してください。
            </p></div></li><li class="listitem"><p><a name="option_mysqlslap_shared-memory-base-name"></a>
            <a class="indexterm" name="idm139979151384848"></a> <a class="indexterm" name="idm139979151382768"></a> <code class="option">--shared-memory-base-name=<em class="replaceable"><code>name</code></em></code>
          </p><p>
            Windows で、共有メモリーを使用して作成されるローカルサーバーへの接続の共有メモリー名。このオプションは、サーバーが共有メモリー接続をサポートしている場合にのみ適用されます。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_silent"></a>
            <a class="indexterm" name="idm139979151378064"></a> <a class="indexterm" name="idm139979151376080"></a> <code class="option">--silent</code>, <code class="option">-s</code>
          </p><p>
            サイレントモード。出力はありません。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_socket"></a>
            <a class="indexterm" name="idm139979151371744"></a> <a class="indexterm" name="idm139979151369760"></a> <code class="option">--socket=<em class="replaceable"><code>path</code></em></code>, <code class="option">-S <em class="replaceable"><code>path</code></em></code>
          </p><p>
            <code class="literal">localhost</code> への接続用に使用する、Unix ソケットファイル、または Windows では使用する名前付きパイプの名前。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_ssl"></a>
            <a class="indexterm" name="idm139979151364160"></a> <a class="indexterm" name="idm139979151362176"></a> <code class="option">--ssl*</code>
          </p><p>
            <code class="option">--ssl</code> で始まるオプションは、SSL を使用してサーバーに接続することを許可するかどうかを指定し、SSL 鍵および証明書を検索する場所を指定します。<a class="xref" href="security.html#ssl-options" title="6.3.10.4 SSL コマンドのオプション">セクション6.3.10.4「SSL コマンドのオプション」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_user"></a>
            <a class="indexterm" name="idm139979151357120"></a> <a class="indexterm" name="idm139979151355136"></a> <code class="option">--user=<em class="replaceable"><code>user_name</code></em></code>, <code class="option">-u <em class="replaceable"><code>user_name</code></em></code>
          </p><p>
            サーバーへの接続時に使用する MySQL ユーザー名。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_verbose"></a>
            <a class="indexterm" name="idm139979151350272"></a> <a class="indexterm" name="idm139979151348288"></a> <code class="option">--verbose</code>, <code class="option">-v</code>
          </p><p>
            冗長モード。プログラムの動作についてより多くの情報を出力します。このオプションは情報量を増加させるために複数回使用できます。
          </p></li><li class="listitem"><p><a name="option_mysqlslap_version"></a>
            <a class="indexterm" name="idm139979151343696"></a> <a class="indexterm" name="idm139979151341712"></a> <code class="option">--version</code>, <code class="option">-V</code>
          </p><p>
            バージョン情報を表示して終了します。
          </p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="programs-admin-utils"></a>4.6 MySQL 管理プログラムおよびユーティリティープログラム</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="programs.html#innochecksum">4.6.1 <span class="command"><strong>innochecksum</strong></span> — オフライン InnoDB ファイルチェックサムユーティリティー</a></span></dt><dt><span class="section"><a href="programs.html#myisam-ftdump">4.6.2 <span class="command"><strong>myisam_ftdump</strong></span> — 全文インデックス情報の表示</a></span></dt><dt><span class="section"><a href="programs.html#myisamchk">4.6.3 <span class="command"><strong>myisamchk</strong></span> — MyISAM テーブルメンテナンスユーティリティー</a></span></dt><dt><span class="section"><a href="programs.html#myisamlog">4.6.4 <span class="command"><strong>myisamlog</strong></span> — MyISAM ログファイルの内容の表示</a></span></dt><dt><span class="section"><a href="programs.html#myisampack">4.6.5 <span class="command"><strong>myisampack</strong></span> — 圧縮された読み取り専用の MyISAM テーブルの生成</a></span></dt><dt><span class="section"><a href="programs.html#mysql-config-editor">4.6.6 <span class="command"><strong>mysql_config_editor</strong></span> — MySQL 構成ユーティリティー</a></span></dt><dt><span class="section"><a href="programs.html#mysqlaccess">4.6.7 <span class="command"><strong>mysqlaccess</strong></span> — アクセス権限をチェックするクライアント</a></span></dt><dt><span class="section"><a href="programs.html#mysqlbinlog">4.6.8 <span class="command"><strong>mysqlbinlog</strong></span> — バイナリログファイルを処理するためのユーティリティー</a></span></dt><dt><span class="section"><a href="programs.html#mysqldumpslow">4.6.9 <span class="command"><strong>mysqldumpslow</strong></span> — スロークエリーログファイルの要約</a></span></dt><dt><span class="section"><a href="programs.html#mysqlhotcopy">4.6.10 <span class="command"><strong>mysqlhotcopy</strong></span> — データベースバックアッププログラム</a></span></dt><dt><span class="section"><a href="programs.html#mysql-convert-table-format">4.6.11 <span class="command"><strong>mysql_convert_table_format</strong></span> — 指定されたストレージエンジンを使用するためのテーブルの変換</a></span></dt><dt><span class="section"><a href="programs.html#mysql-find-rows">4.6.12 <span class="command"><strong>mysql_find_rows</strong></span> — ファイルからの SQL ステートメントの抽出</a></span></dt><dt><span class="section"><a href="programs.html#mysql-fix-extensions">4.6.13 <span class="command"><strong>mysql_fix_extensions</strong></span> — テーブルファイル名の拡張子の正規化</a></span></dt><dt><span class="section"><a href="programs.html#mysql-setpermission">4.6.14 <span class="command"><strong>mysql_setpermission</strong></span> — 付与テーブルに許可をインタラクティブに設定</a></span></dt><dt><span class="section"><a href="programs.html#mysql-waitpid">4.6.15 <span class="command"><strong>mysql_waitpid</strong></span> — プロセスを強制終了して終了を待機</a></span></dt><dt><span class="section"><a href="programs.html#mysql-zap">4.6.16 <span class="command"><strong>mysql_zap</strong></span> — パターンに一致するプロセスを強制終了</a></span></dt></dl></div><p>
    このセクションでは、管理プログラムおよびその他のユーティリティー操作を実行するプログラムについて説明します。
  </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="innochecksum"></a>4.6.1 <span class="command"><strong>innochecksum</strong></span> — オフライン InnoDB ファイルチェックサムユーティリティー</h3></div></div></div><a class="indexterm" name="idm139979151334544"></a><p>
        <span class="command"><strong>innochecksum</strong></span> は、<code class="literal">InnoDB</code> ファイルのチェックサムを出力します。このツールは <code class="literal">InnoDB</code> テーブルスペースファイルを読み取って各ページのチェックサムを計算し、計算されたチェックサムを保存されているチェックサムと比較して不一致をレポートします。不一致はページが破損していることを示します。元は、停電後にテーブルスペースの完全性の検証を迅速化するために開発されましたが、ファイルコピーのあとにも使用できます。チェックサムの不一致があると、<code class="literal">InnoDB</code> は稼働中のサーバーを意図的にシャットダウンするため、本番稼働しているサーバーが破損したページに遭遇するのを待つのではなく、このツールを使用することが推奨されます。MySQL 5.6.16 では、<span class="command"><strong>innochecksum</strong></span> は 2G バイトを超えるサイズのファイルをサポートしています。以前は、<span class="command"><strong>innochecksum</strong></span> は 2G バイトまでのサイズのファイルだけをサポートしていました。
      </p><p>
        <span class="command"><strong>innochecksum</strong></span> は、サーバーがすでにオープンしているテーブルスペースファイルには使用できません。このようなファイルに関しては、<code class="literal">CHECK TABLE</code> を使用してテーブルスペース内のテーブルをチェックするとよいでしょう。
      </p><p>
        チェックサムの不一致が検出された場合、通常はバックアップからテーブルスペースをリストアするか、またはサーバーを起動して、<span class="command"><strong>mysqldump</strong></span> を使用してテーブルスペース内のテーブルのバックアップを作成します。
      </p><p>
        <span class="command"><strong>innochecksum</strong></span> は次のように起動します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>innochecksum [<em class="replaceable"><code>options</code></em>] <em class="replaceable"><code>file_name</code></em></code></strong>
</pre><p>
        <span class="command"><strong>innochecksum</strong></span> は次のオプションをサポートします。ページ番号を参照するオプションについては、数字はゼロベースです。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_innochecksum_count"></a>
            <code class="option">-c</code>
          </p><p>
            ファイル内のページ数のカウントを出力します。
          </p></li><li class="listitem"><p><a name="option_innochecksum_debug"></a>
            <code class="option">-d</code>
          </p><p>
            デバッグモード。各ページのチェックサムを出力します。
          </p></li><li class="listitem"><p><a name="option_innochecksum_end"></a>
            <code class="option">-e <em class="replaceable"><code>num</code></em></code>
          </p><p>
            このページ番号で終了します。
          </p></li><li class="listitem"><p><a name="option_innochecksum_page"></a>
            <code class="option">-p <em class="replaceable"><code>num</code></em></code>
          </p><p>
            このページ番号のみをチェックします。
          </p></li><li class="listitem"><p><a name="option_innochecksum_start"></a>
            <code class="option">-s <em class="replaceable"><code>num</code></em></code>
          </p><p>
            このページ番号から開始します。
          </p></li><li class="listitem"><p><a name="option_innochecksum_verbose"></a>
            <code class="option">-v</code>
          </p><p>
            詳細モード。5 秒ごとに進行状況インジケータを出力します。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="myisam-ftdump"></a>4.6.2 <span class="command"><strong>myisam_ftdump</strong></span> — 全文インデックス情報の表示</h3></div></div></div><a class="indexterm" name="idm139979151304576"></a><p>
        

        <span class="command"><strong>myisam_ftdump</strong></span> は <code class="literal">MyISAM</code> テーブル内の <code class="literal">FULLTEXT</code> インデックスに関する情報を表示します。<code class="literal">MyISAM</code> インデックスファイルを直接読み取るため、テーブルのあるサーバーホスト上で実行する必要があります。サーバーが稼働中の場合は、<span class="command"><strong>myisam_ftdump</strong></span> を使用する前に、必ず最初に <code class="literal">FLUSH TABLES</code> ステートメントを発行してください。
      </p><p>
        <span class="command"><strong>myisam_ftdump</strong></span> はインデックス全体をスキャンしてダンプします。これは特に高速ではありません。一方、単語の分布の変更頻度は高くないため、頻繁に実行する必要はありません。
      </p><p>
        <span class="command"><strong>myisam_ftdump</strong></span> は次のように起動します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>myisam_ftdump [<em class="replaceable"><code>options</code></em>] <em class="replaceable"><code>tbl_name</code></em> <em class="replaceable"><code>index_num</code></em></code></strong>
</pre><p>
        <em class="replaceable"><code>tbl_name</code></em> 引数は <code class="literal">MyISAM</code> テーブルの名前であるべきです。インデックスファイル (<code class="filename">.MYI</code> サフィクスの付いたファイル) を指名することでテーブルを指定することもできます。テーブルファイルがあるディレクトリで <span class="command"><strong>myisam_ftdump</strong></span> を起動しない場合は、テーブルまたはインデックスのファイル名の前に、テーブルのデータベースディレクトリのパス名を指定する必要があります。インデックス番号は 0 から始まります。
      </p><p>
        例: <code class="literal">test</code> データベースに、次の定義を持つ <code class="literal">mytexttable</code> という名前のテーブルが含まれるとします。
      </p><pre class="programlisting">
CREATE TABLE mytexttable
(
  id   INT NOT NULL,
  txt  TEXT NOT NULL,
  PRIMARY KEY (id),
  FULLTEXT (txt)
) ENGINE=MyISAM;
</pre><p>
        <code class="literal">id</code> のインデックスはインデックス 0 で、<code class="literal">txt</code> の <code class="literal">FULLTEXT</code> インデックスはインデックス 1 です。作業ディレクトリが <code class="literal">test</code> データベースディレクトリの場合は、<span class="command"><strong>myisam_ftdump</strong></span> を次のように起動します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>myisam_ftdump mytexttable 1</code></strong>
</pre><p>
        <code class="literal">test</code> データベースディレクトリへのパス名が <code class="filename">/usr/local/mysql/data/test</code> の場合、そのパス名を指定してテーブル名引数を指定することもできます。これは、データベースディレクトリ内で <span class="command"><strong>myisam_ftdump</strong></span> を起動しない場合役に立ちます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>myisam_ftdump /usr/local/mysql/data/test/mytexttable 1</code></strong>
</pre><p>
        次のように、<span class="command"><strong>myisam_ftdump</strong></span> を使用して、インデックスエントリのリストを出現頻度順に生成できます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>myisam_ftdump -c mytexttable 1 | sort -r</code></strong>
</pre><p>
        <span class="command"><strong>myisam_ftdump</strong></span> は次のオプションをサポートします。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_myisam_ftdump_help"></a>
            <a class="indexterm" name="idm139979151272368"></a> <a class="indexterm" name="idm139979151270384"></a> <code class="option">--help</code>, <code class="option">-h</code> <code class="option">-?</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_myisam_ftdump_count"></a>
            <a class="indexterm" name="idm139979151265664"></a> <a class="indexterm" name="idm139979151263680"></a> <code class="option">--count</code>, <code class="option">-c</code>
          </p><p>
            1 語当たりの統計 (カウントとグローバルな重み) を計算します。
          </p></li><li class="listitem"><p><a name="option_myisam_ftdump_dump"></a>
            <a class="indexterm" name="idm139979151259280"></a> <a class="indexterm" name="idm139979151257296"></a> <code class="option">--dump</code>, <code class="option">-d</code>
          </p><p>
            データオフセットや語の重みを含むインデックスをダンプします。
          </p></li><li class="listitem"><p><a name="option_myisam_ftdump_length"></a>
            <a class="indexterm" name="idm139979151252896"></a> <a class="indexterm" name="idm139979151250912"></a> <code class="option">--length</code>, <code class="option">-l</code>
          </p><p>
            長さの分布をレポートします。
          </p></li><li class="listitem"><p><a name="option_myisam_ftdump_stats"></a>
            <a class="indexterm" name="idm139979151246608"></a> <a class="indexterm" name="idm139979151244624"></a> <code class="option">--stats</code>, <code class="option">-s</code>
          </p><p>
            グローバルインデックス統計をレポートします。ほかの操作が指定されていない場合、これがデフォルトの操作です。
          </p></li><li class="listitem"><p><a name="option_myisam_ftdump_verbose"></a>
            <a class="indexterm" name="idm139979151240080"></a> <a class="indexterm" name="idm139979151238096"></a> <code class="option">--verbose</code>, <code class="option">-v</code>
          </p><p>
            冗長モード。プログラムの動作についてより多くの情報を出力します。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="myisamchk"></a>4.6.3 <span class="command"><strong>myisamchk</strong></span> — MyISAM テーブルメンテナンスユーティリティー</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="programs.html#myisamchk-general-options">4.6.3.1 myisamchk の一般オプション</a></span></dt><dt><span class="section"><a href="programs.html#myisamchk-check-options">4.6.3.2 myisamchk のチェックオプション</a></span></dt><dt><span class="section"><a href="programs.html#myisamchk-repair-options">4.6.3.3 myisamchk の修復オプション</a></span></dt><dt><span class="section"><a href="programs.html#myisamchk-other-options">4.6.3.4 その他の myisamchk オプション</a></span></dt><dt><span class="section"><a href="programs.html#myisamchk-table-info">4.6.3.5 myisamchk によるテーブル情報の取得</a></span></dt><dt><span class="section"><a href="programs.html#myisamchk-memory">4.6.3.6 myisamchk メモリー使用量</a></span></dt></dl></div><a class="indexterm" name="idm139979151232784"></a><p>
        <span class="command"><strong>myisamchk</strong></span> ユーティリティーは、データベーステーブルに関する情報を取得したり、データベーステーブルのチェック、修復、または最適化を実行したりします。<span class="command"><strong>myisamchk</strong></span> は <code class="literal">MyISAM</code> テーブル (データおよびインデックスの保存のための <code class="filename">.MYD</code> および <code class="filename">.MYI</code> ファイルを持つテーブル) に機能します。
      </p><p>
        さらに、<code class="literal">CHECK TABLE</code> および <code class="literal">REPAIR TABLE</code> ステートメントを使用して、<code class="literal">MyISAM</code> テーブルをチェックして修復することもできます。<a class="xref" href="sql-syntax.html#check-table" title="13.7.2.2 CHECK TABLE 構文">セクション13.7.2.2「CHECK TABLE 構文」</a>および<a class="xref" href="sql-syntax.html#repair-table" title="13.7.2.5 REPAIR TABLE 構文">セクション13.7.2.5「REPAIR TABLE 構文」</a>を参照してください。
      </p><p>
        <span class="command"><strong>myisamchk</strong></span> をパーティション化されたテーブルに対して使用することはサポートされていません。
      </p><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注意</div><p>
          テーブルの修復操作を実行する前に、テーブルのバックアップを作成することをお勧めします。状況によっては、この操作のためにデータ損失が発生することがあります。考えられる原因としては、ファイルシステムのエラーなどがありますがこれに限りません。
        </p></div><p>
        <span class="command"><strong>myisamchk</strong></span> は次のように起動します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>myisamchk [<em class="replaceable"><code>options</code></em>] <em class="replaceable"><code>tbl_name</code></em> ...</code></strong>
</pre><p>
        <em class="replaceable"><code>options</code></em> は <span class="command"><strong>myisamchk</strong></span> に実行させる内容を指定します。次のセクションで、これらについて説明します。また、<span class="command"><strong>myisamchk --help</strong></span> を起動することでオプションのリストを取得できます。
      </p><p>
        オプションを指定しないと、<span class="command"><strong>myisamchk</strong></span> はデフォルトの操作としてユーザーのテーブルをチェックします。詳細な情報を取得したり、<span class="command"><strong>myisamchk</strong></span> に修正アクションを取らせたりするには、次の議論で説明されているようにオプションを指定してください。
      </p><p>
        <em class="replaceable"><code>tbl_name</code></em> は、チェックまたは修復するデータベーステーブルです。データベースディレクトリ以外で <span class="command"><strong>myisamchk</strong></span> を起動する場合は、データベースディレクトリへのパスを指定する必要があります。これは、<span class="command"><strong>myisamchk</strong></span> にはデータベースディレクトリの場所がまったくわからないからです。実際には、<span class="command"><strong>myisamchk</strong></span> は作業対象のファイルがデータベースディレクトリにあるかどうかは考慮しません。データベーステーブルに応対するファイルをほかの場所へコピーして、そこでそれらのファイルに対してリカバリ操作を行うことができます。
      </p><p>
        必要に応じて、<span class="command"><strong>myisamchk</strong></span> コマンド行で複数のテーブルを指定できます。インデックスファイル (<code class="filename">.MYI</code> サフィクスの付いたファイル) を指名することでテーブルを指定することもできます。これにより、パターン <code class="filename">*.MYI</code> を使用して。ディレクトリ内のすべてのテーブルを指定することも可能になります。たとえば、データベースディレクトリ内に居る場合、次のようにそのディレクトリ内のすべての <code class="literal">MyISAM</code> テーブルをチェックできます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>myisamchk *.MYI</code></strong>
</pre><p>
        データベースディレクトリ以外の場所からは、ディレクトリへのパスを指定することですべてのテーブルをチェックできます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>myisamchk <em class="replaceable"><code>/path/to/database_dir/</code></em>*.MYI</code></strong>
</pre><p>
        MySQL データディレクトリへのパスにワイルドカードを指定することで、すべてのデータベースのすべてのテーブルをチェックすることもできます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>myisamchk <em class="replaceable"><code>/path/to/datadir/*/*</code></em>.MYI</code></strong>
</pre><p>
        すべての <code class="literal">MyISAM</code> テーブルをチェックするお勧めの方法は:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>myisamchk --silent --fast <em class="replaceable"><code>/path/to/datadir/*/*</code></em>.MYI</code></strong>
</pre><p>
        すべての <code class="literal">MyISAM</code> テーブルをチェックし、破損しているものを修復する場合は、次のコマンドを使用できます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>myisamchk --silent --force --fast --update-state \</code></strong>
          <strong class="userinput"><code>--key_buffer_size=64M --myisam_sort_buffer_size=64M \</code></strong>
          <strong class="userinput"><code>--read_buffer_size=1M --write_buffer_size=1M \</code></strong>
          <strong class="userinput"><code><em class="replaceable"><code>/path/to/datadir/*/*</code></em>.MYI</code></strong>
</pre><p>
        このコマンドは 64M バイト以上の空きがあることが前提です。<span class="command"><strong>myisamchk</strong></span> とメモリーの割り当ての詳細は、<a class="xref" href="programs.html#myisamchk-memory" title="4.6.3.6 myisamchk メモリー使用量">セクション4.6.3.6「myisamchk メモリー使用量」</a>を参照してください。
      </p><p>
        <span class="command"><strong>myisamchk</strong></span> の使用に関する詳細は、<a class="xref" href="backup-and-recovery.html#myisam-table-maintenance" title="7.6 MyISAM テーブルの保守とクラッシュリカバリ">セクション7.6「MyISAM テーブルの保守とクラッシュリカバリ」</a>を参照してください。
      </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
          <span class="emphasis"><em><span class="command"><strong>myisamchk</strong></span> の実行中にほかのプログラムがテーブルを使用しないことを、保証する必要があります</em></span>。そのためのもっとも効果的な方法は、<span class="command"><strong>myisamchk</strong></span> の実行中に MySQL サーバーをシャットダウンするか、または <span class="command"><strong>myisamchk</strong></span> が対象とするすべてのテーブルをロックする方法です。
        </p><p>
          そうしないと、<span class="command"><strong>myisamchk</strong></span> を起動したとき、次のエラーが表示されることがあります。
        </p><pre class="programlisting">
warning: clients are using or haven't closed the table properly
</pre><p>
          これは、別のプログラム (<span class="command"><strong>mysqld</strong></span> サーバーなど) がテーブルを更新し、そのファイルをまだ閉じていないか、ファイルを適切に閉じずに異常終了したテーブルをチェックしようとしていることを意味します。この場合、1 つまたは複数の <code class="literal">MyISAM</code> テーブルが破損することがあります。
        </p><p>
          <span class="command"><strong>mysqld</strong></span> が稼働している場合、<code class="literal">FLUSH TABLES</code> を使用して、メモリーにバッファリングされているテーブルに加えられた変更があれば、それをフラッシュするように命令する必要があります。そのあと、<span class="command"><strong>myisamchk</strong></span> の実行中にほかのプログラムがテーブルを使用しないことを、保証する必要があります。
        </p><p>
          ただし、この問題を回避するもっとも簡単な方法は、<span class="command"><strong>myisamchk</strong></span> ではなく <code class="literal">CHECK TABLE</code> を使用してテーブルをチェックする方法です。<a class="xref" href="sql-syntax.html#check-table" title="13.7.2.2 CHECK TABLE 構文">セクション13.7.2.2「CHECK TABLE 構文」</a>を参照してください。
        </p></div><p>
        <span class="command"><strong>myisamchk</strong></span> は次のオプションをサポートします。これらはコマンド行または任意のオプションファイルの <code class="literal">[myisamchk]</code> グループで指定できます。MySQL プログラムによって使用されるオプションファイルの詳細については、<a class="xref" href="programs.html#option-files" title="4.2.6 オプションファイルの使用">セクション4.2.6「オプションファイルの使用」</a>を参照してください。
      </p><div class="table"><a name="idm139979151169712"></a><p class="title"><b>表 4.12 <code class="literal">myisamchk</code> のオプション</b></p><div class="table-contents"><table summary="myisamchk のオプション" border="1"><colgroup><col class="format"><col class="description"><col class="introduced"><col class="deprecated"></colgroup><thead><tr><th scope="col">形式</th><th scope="col">説明</th><th scope="col">導入</th><th scope="col">非推奨</th></tr></thead><tbody><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_analyze">--analyze</a></td><td>キー値の分布を分析</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_backup">--backup</a></td><td>.MYD ファイルのバックアップを file_name-time.BAK として作成</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_block-search">--block-search</a></td><td>指定されたオフセットのブロックが属するレコードを検索</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_check">--check</a></td><td>テーブルにエラーがないか確認</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_check-only-changed">--check-only-changed</a></td><td>最後に行われた検査以降に変更されたテーブルのみをチェック</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_correct-checksum">--correct-checksum</a></td><td>テーブルのチェックサム情報を修正</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_data-file-length">--data-file-length</a></td><td>データファイルの最大長 (データファイルがいっぱいになったとき再作成する場合)</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_debug">--debug</a></td><td>デバッグのログを書き込み</td><td> </td><td> </td></tr><tr><td scope="row">--decode_bits</td><td>Decode_bits</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_defaults-extra-file">--defaults-extra-file</a></td><td>通常のオプションファイルに加えてオプションファイルを読み取る</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_defaults-file">--defaults-file</a></td><td>指名されたオプションファイルのみを読み取る</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_defaults-group-suffix">--defaults-group-suffix</a></td><td>オプショングループのサフィクス値</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_description">--description</a></td><td>テーブルの説明情報を出力</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_extend-check">--extend-check</a></td><td>データファイルからすべての行をリカバリする修復を試みる、非常に徹底したテーブルチェックを実行または修復を実行</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_fast">--fast</a></td><td>正しく閉じられていないテーブルのみをチェック</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_force">--force</a></td><td>myisamchk がエラーをテーブル内で発見した場合、自動的に修復オペレーションを実行する。</td><td> </td><td> </td></tr><tr><td scope="row">--force</td><td>古い一時ファイルを上書き。-r オプションまたは -o オプションとともに使用</td><td> </td><td> </td></tr><tr><td scope="row">--ft_max_word_len</td><td>FULLTEXT インデックスの単語の最大長</td><td> </td><td> </td></tr><tr><td scope="row">--ft_min_word_len</td><td>FULLTEXT インデックスの単語の最小長</td><td> </td><td> </td></tr><tr><td scope="row">--ft_stopword_file</td><td>組み込みのリストではなくこのファイルからのストップワードを使用</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_HELP">--HELP</a></td><td>ヘルプメッセージを表示して終了</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_help">--help</a></td><td>ヘルプメッセージを表示して終了</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_information">--information</a></td><td>チェックされたテーブルの統計を出力</td><td> </td><td> </td></tr><tr><td scope="row">--key_buffer_size</td><td>MyISAM テーブルのインデックスブロックに使用するバッファーのサイズ</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_keys-used">--keys-used</a></td><td>どのインデックスを更新するかを示すビット値</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_max-record-length">--max-record-length</a></td><td>myisamchk が記憶するためのメモリーを確保できない場合、指定された長さを超える行をスキップ</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_medium-check">--medium-check</a></td><td>--extend-check 操作よりも速いチェックを実行</td><td> </td><td> </td></tr><tr><td scope="row">--myisam_block_size</td><td>MyISAM インデックスページに使用するブロックサイズ。</td><td> </td><td> </td></tr><tr><td scope="row">--myisam_sort_buffer_size</td><td>REPAIR 実行時のインデックスのソート、または CREATE INDEX か ALTER TABLE によるインデックスの作成の際に割り当てられるバッファー</td><td>5.6.9</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_no-defaults">--no-defaults</a></td><td>オプションファイルを読み取らない</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_parallel-recover">--parallel-recover</a></td><td>-r および -n と同じテクニックを使用するが、異なるスレッドを使用してすべてのキーを並行して作成 (β)</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_print-defaults">--print-defaults</a></td><td>デフォルトを出力</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_quick">--quick</a></td><td>データファイルを変更しないことで、修復のスピードを向上。</td><td> </td><td> </td></tr><tr><td scope="row">--read_buffer_size</td><td>順次スキャンを実行する各スレッドは、スキャンする各テーブルについてこのサイズのバッファーを割り当て</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_read-only">--read-only</a></td><td>テーブルを検査済みとマークしない</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_recover">--recover</a></td><td>一意ではない一意なキー以外のすべてを修復できる修復を実行</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_safe-recover">--safe-recover</a></td><td>すべての行を順に読み取り、検出された行に基づいてすべてのインデックスツリーを更新する古いリカバリ方法を使用して修復</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_set-auto-increment">--set-auto-increment</a></td><td>新しいレコードが指定された値で開始するように AUTO_INCREMENT ナンバリングを強制</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_set-collation">--set-collation</a></td><td>テーブルインデックスのソートに使用する照合順序を指定</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_silent">--silent</a></td><td>サイレントモード</td><td> </td><td> </td></tr><tr><td scope="row">--sort_buffer_size</td><td>REPAIR 実行時のインデックスのソート、または CREATE INDEX か ALTER TABLE によるインデックスの作成の際に割り当てられるバッファー</td><td> </td><td>5.6.9</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_sort-index">--sort-index</a></td><td>インデックスツリーブロックを高いものから低いものへの順にソート</td><td> </td><td> </td></tr><tr><td scope="row">--sort_key_blocks</td><td>sort_key_blocks</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_sort-records">--sort-records</a></td><td>特定のインデックスに基づいてレコードをソート</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_sort-recover">--sort-recover</a></td><td>一時ファイルのサイズが非常に大きくなっても、キーの解決にソートを使用することを myisamchk に強制</td><td> </td><td> </td></tr><tr><td scope="row">--stats_method</td><td>MyISAM インデックス統計コレクションコードでの NULL の取り扱い方法を指定</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_tmpdir">--tmpdir</a></td><td>一時ファイルのソートに使用するディレクトリのパス</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_unpack">--unpack</a></td><td>myisampack でパックされたテーブルをアンパック</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_update-state">--update-state</a></td><td>情報を .MYI ファイルに保存し、いつテーブルがチェックされたか、およびテーブルがクラッシュしたかどうかをチェックします。</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_verbose">--verbose</a></td><td>冗長モード</td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_myisamchk_version">--version</a></td><td>バージョン情報を表示して終了</td><td> </td><td> </td></tr><tr><td scope="row">--write_buffer_size</td><td>書き込みバッファーサイズ</td><td> </td><td> </td></tr></tbody></table></div></div><br class="table-break"><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="myisamchk-general-options"></a>4.6.3.1 myisamchk の一般オプション</h4></div></div></div><a class="indexterm" name="idm139979151053984"></a><a class="indexterm" name="idm139979151051952"></a><p>
        このセクションで紹介されているオプションは <span class="command"><strong>myisamchk</strong></span> によって実行されるすべてのテーブルメンテナンス操作に使用できます。このセクション以降のセクションは、テーブルのチェックまたは修復などの特定の操作のみに関するオプションを説明します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_myisamchk_help"></a>
            <a class="indexterm" name="idm139979151046880"></a> <a class="indexterm" name="idm139979151044736"></a> <code class="option">--help</code>, <code class="option">-?</code>
          </p><p>
            ヘルプメッセージを表示して終了します。オプションは操作の種類によってグループ化されています。
          </p></li><li class="listitem"><p><a name="option_myisamchk_HELP"></a>
            <a class="indexterm" name="idm139979151039856"></a> <a class="indexterm" name="idm139979151037712"></a> <code class="option">--HELP</code>, <code class="option">-H</code>
          </p><p>
            ヘルプメッセージを表示して終了します。オプションは単独のリストに提示されます。
          </p></li><li class="listitem"><p><a name="option_myisamchk_debug"></a>
            <a class="indexterm" name="idm139979151032832"></a> <a class="indexterm" name="idm139979151030688"></a> <code class="option">--debug=<em class="replaceable"><code>debug_options</code></em></code>, <code class="option">-# <em class="replaceable"><code>debug_options</code></em></code>
          </p><p>
            デバッグのログを書き込みます。一般的な <em class="replaceable"><code>debug_options</code></em> 文字列は <code class="literal">d:t:o,<em class="replaceable"><code>file_name</code></em></code> です。デフォルトは <code class="literal">d:t:o,/tmp/myisamchk.trace</code> です。
          </p></li><li class="listitem"><p><a name="option_myisamchk_defaults-extra-file"></a>
            <a class="indexterm" name="idm139979151022976"></a> <a class="indexterm" name="idm139979151020816"></a> <code class="option">--defaults-extra-file=<em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            このオプションファイルは、グローバルオプションファイルのあとに読み取りますが、(UNIX では) ユーザーオプションファイルの前に読み取るようにしてください。ファイルが存在しないかアクセスできない場合、エラーが発生します。<em class="replaceable"><code>file_name</code></em> は、フルパス名でなく相対パス名として指定された場合、現行ディレクトリを基準にして解釈されます。
          </p></li><li class="listitem"><p><a name="option_myisamchk_defaults-file"></a>
            <a class="indexterm" name="idm139979151014816"></a> <a class="indexterm" name="idm139979151012656"></a> <code class="option">--defaults-file=<em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            指定されたオプションファイルのみ使用します。ファイルが存在しないかアクセスできない場合、エラーが発生します。<em class="replaceable"><code>file_name</code></em> は、フルパス名でなく相対パス名として指定された場合、現行ディレクトリを基準にして解釈されます。
          </p></li><li class="listitem"><p><a name="option_myisamchk_defaults-group-suffix"></a>
            <a class="indexterm" name="idm139979151006992"></a> <a class="indexterm" name="idm139979151004752"></a> <code class="option">--defaults-group-suffix=<em class="replaceable"><code>str</code></em></code>
          </p><p>
            通常のオプショングループだけでなく、通常の名前に <em class="replaceable"><code>str</code></em> のサフィクスが付いたグループも読み取ります。たとえば、<span class="command"><strong>myisamchk</strong></span> は通常 <code class="literal">[myisamchk]</code> グループを読み取ります。<code class="option">--defaults-group-suffix=_other</code> オプションを指定した場合、<span class="command"><strong>myisamchk</strong></span> は <code class="literal">[myisamchk_other]</code> グループも読み取ります。
          </p></li><li class="listitem"><p><a name="option_myisamchk_no-defaults"></a>
            <a class="indexterm" name="idm139979150995584"></a> <a class="indexterm" name="idm139979150993440"></a> <code class="option">--no-defaults</code>
          </p><p>
            オプションファイルを読み取りません。オプションファイルから不明のオプションを読み取ることが原因でプログラムの起動に失敗する場合、<code class="option">--no-defaults</code> を使用して、オプションを読み取らないようにできます。
          </p><p>
            例外として、<code class="filename">.mylogin.cnf</code> ファイルは、存在する場合はすべての場合に読み取られます。これにより、<code class="option">--no-defaults</code> が使用された場合にも、コマンド行よりも安全な方法でパスワードを指定できます。(<code class="filename">.mylogin.cnf</code> は <span class="command"><strong>mysql_config_editor</strong></span> ユーティリティーによって作成されます。<a class="xref" href="programs.html#mysql-config-editor" title="4.6.6 mysql_config_editor — MySQL 構成ユーティリティー">セクション4.6.6「<span class="command"><strong>mysql_config_editor</strong></span> — MySQL 構成ユーティリティー」</a>を参照してください)。
          </p></li><li class="listitem"><p><a name="option_myisamchk_print-defaults"></a>
            <a class="indexterm" name="idm139979150983216"></a> <a class="indexterm" name="idm139979150981088"></a> <code class="option">--print-defaults</code>
          </p><p>
            プログラム名と、オプションファイルから受け取るすべてのオプションを出力します。
          </p></li><li class="listitem"><p><a name="option_myisamchk_silent"></a>
            <a class="indexterm" name="idm139979150976496"></a> <a class="indexterm" name="idm139979150974352"></a> <code class="option">--silent</code>, <code class="option">-s</code>
          </p><p>
            サイレントモード。エラーが発生したときのみ出力を書き出します。<code class="option">-s</code> は <span class="command"><strong>myisamchk</strong></span> を非常にサイレントにするために 2 回 (<code class="option">-ss</code>) 使用できます。
          </p></li><li class="listitem"><p><a name="option_myisamchk_verbose"></a>
            <a class="indexterm" name="idm139979150967808"></a> <a class="indexterm" name="idm139979150965632"></a> <code class="option">--verbose</code>, <code class="option">-v</code>
          </p><p>
            冗長モード。プログラムの動作についてより多くの情報を出力します。これは <code class="option">-d</code> と <code class="option">-e</code> とともに使用できます。さらに多くの出力を得るためには、<code class="option">-v</code> を複数回 (<code class="option">-vv</code>、<code class="option">-vvv</code>) 使用します。
          </p></li><li class="listitem"><p><a name="option_myisamchk_version"></a>
            <a class="indexterm" name="idm139979150958368"></a> <a class="indexterm" name="idm139979150956192"></a> <code class="option">--version</code>, <code class="option">-V</code>
          </p><p>
            バージョン情報を表示して終了します。
          </p></li><li class="listitem"><p><a name="option_myisamchk_wait"></a>
            <a class="indexterm" name="idm139979150951376"></a> <a class="indexterm" name="idm139979150949232"></a> <code class="option">--wait</code>, <code class="option">-w</code>
          </p><p>
            テーブルがロックされている場合に、エラーで終了する代わりに、テーブルがロック解除されるまで待機してから続行します。外部ロックを無効にした状態で <span class="command"><strong>mysqld</strong></span> を実行している場合、テーブルをロックできるのはもう 1 つの <span class="command"><strong>myisamchk</strong></span> コマンドのみです。
          </p></li></ul></div><p>
        <code class="option">--<em class="replaceable"><code>var_name</code></em>=<em class="replaceable"><code>value</code></em></code> 構文を使用すれば、次の変数も設定できます。
      </p><a class="indexterm" name="idm139979150941680"></a><a class="indexterm" name="idm139979150940160"></a><a class="indexterm" name="idm139979150938736"></a><a class="indexterm" name="idm139979150937312"></a><a class="indexterm" name="idm139979150935888"></a><a class="indexterm" name="idm139979150934464"></a><a class="indexterm" name="idm139979150933040"></a><a class="indexterm" name="idm139979150931616"></a><a class="indexterm" name="idm139979150930192"></a><a class="indexterm" name="idm139979150928752"></a><a class="indexterm" name="idm139979150927328"></a><a class="indexterm" name="idm139979150925920"></a><div class="informaltable"><table summary="この表は、--var_name=value 構文を使用して設定できる myisamchk 変数をリストしています。表には各変数のデフォルト値も提供されています。" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">変数</th><th scope="col">デフォルト値</th></tr></thead><tbody><tr><td scope="row"><code class="literal">decode_bits</code></td><td>9</td></tr><tr><td scope="row"><code class="literal">ft_max_word_len</code></td><td>バージョンに依存</td></tr><tr><td scope="row"><code class="literal">ft_min_word_len</code></td><td>4</td></tr><tr><td scope="row"><code class="literal">ft_stopword_file</code></td><td>組み込みのリスト</td></tr><tr><td scope="row"><code class="literal">key_buffer_size</code></td><td>523264</td></tr><tr><td scope="row"><code class="literal">myisam_block_size</code></td><td>1024</td></tr><tr><td scope="row"><code class="literal">myisam_sort_key_blocks</code></td><td>16</td></tr><tr><td scope="row"><code class="literal">read_buffer_size</code></td><td>262136</td></tr><tr><td scope="row"><code class="literal">sort_buffer_size</code></td><td>2097144</td></tr><tr><td scope="row"><code class="literal">sort_key_blocks</code></td><td>16</td></tr><tr><td scope="row"><code class="literal">stats_method</code></td><td>nulls_unequal</td></tr><tr><td scope="row"><code class="literal">write_buffer_size</code></td><td>262136</td></tr></tbody></table></div><p>
        可能な <span class="command"><strong>myisamchk</strong></span> 変数とデフォルト値は <span class="command"><strong>myisamchk --help</strong></span> で確認できます。
      </p><p>
        <code class="literal">sort_buffer_size</code> はキーをソートすることでキーが修復される場合に使用されます。<code class="option">--recover</code> を使用した場合はこれが通常です。MySQL 5.6.9 では、<code class="literal">myisam_sort_buffer_size</code> は <code class="literal">sort_buffer_size</code> の別名として使用できます。<code class="literal">myisam_sort_buffer_size</code> は、その名前が同様の意味を持つ <code class="literal">myisam_sort_buffer_size</code> サーバーシステム変数に対応するため、<code class="literal">sort_buffer_size</code> より推奨されます。<code class="literal">sort_buffer_size</code> は非推奨とみなすようにしてください。
      </p><p>
        <code class="literal">key_buffer_size</code> は <code class="option">--extend-check</code> でテーブルをチェックするとき、またはテーブルに (通常の挿入を実行する場合のように) 1 行ずつキーを入力することでキーを修復する際に使用されます。キーバッファーを通しての修復は次の場合に使用されます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="option">--safe-recover</code> を使用する。
          </p></li><li class="listitem"><p>
            キーのソートに必要な一時ファイルが、直接キーファイルを作成する場合と比較して倍以上の大きさとなる。これは <code class="literal">CHAR</code>、<code class="literal">VARCHAR</code>、または <code class="literal">TEXT</code> カラムに大きなキー値が与えられている場合によくあります。これは、ソート操作では処理中に完全なキー値を保存する必要があるからです。一時スペースに余裕があり、ソートによって修復することを <span class="command"><strong>myisamchk</strong></span> に強制できる場合、<code class="option">--sort-recover</code> オプションを使用できます。
          </p></li></ul></div><p>
        キーバッファーを使用する修復はソートを使用するよりもはるかにディスクの使用量が少ないですが、速度も落ちます。
      </p><p>
        より高速に修復を行いたい場合は、<code class="literal">key_buffer_size</code> 変数および <code class="literal">myisam_sort_buffer_size</code> 変数を、使用可能なメモリーの約 25% に設定します。両方の変数が同時に使用されることはないので、両方の変数に大きい値を設定できます。
      </p><p>
        <code class="literal">myisam_block_size</code> はインデックスブロックに使用されるサイズです。
      </p><p>
        <code class="literal">stats_method</code> は、<code class="option">--analyze</code> オプションを指定した場合に、インデックス統計の集計で <code class="literal">NULL</code> 値がどう扱われるかに影響します。<code class="literal">myisam_stats_method</code> システム変数のような働きをします。詳細は、<a class="xref" href="server-administration.html#server-system-variables" title="5.1.4 サーバーシステム変数">セクション5.1.4「サーバーシステム変数」</a>と<a class="xref" href="optimization.html#myisam-index-statistics" title="8.3.7 InnoDB および MyISAM インデックス統計コレクション">セクション8.3.7「InnoDB および MyISAM インデックス統計コレクション」</a>に含まれる <code class="literal">myisam_stats_method</code> の説明を参照してください。
      </p><p>
        <code class="literal">ft_min_word_len</code> および <code class="literal">ft_max_word_len</code> は、<code class="literal">MyISAM</code> テーブルの <code class="literal">FULLTEXT</code> インデックスの語長を示します。<code class="literal">ft_stopword_file</code> はストップワードファイルを指名します。次の状況ではこれらをセットする必要があります。
      </p><p>
        <span class="command"><strong>myisamchk</strong></span> を使用してテーブルインデックスを変更する操作を実行する場合 (たとえば修復や分析)、特に指定しなければ、<code class="literal">FULLTEXT</code> インデックスは、最小および最大の語長とストップワードファイルにデフォルトの全文パラメータ値を使用して再構築されます。これにより、クエリーに失敗する可能性があります。
      </p><p>
        この問題は、これらのパラメータがサーバーでのみ認識されていることが原因で発生します。<code class="literal">MyISAM</code> インデックスファイルには格納されていません。サーバー内の最小および最大の語長またはストップワードファイルを変更した場合に問題を回避するには、<span class="command"><strong>mysqld</strong></span> で使用するのと同じ <code class="literal">ft_min_word_len</code>、<code class="literal">ft_max_word_len</code> と <code class="literal">ft_stopword_file</code> の値を <span class="command"><strong>myisamchk</strong></span> に指定してください。たとえば、単語の最小長を 3 に設定した場合は、次のように <span class="command"><strong>myisamchk</strong></span> を使用してテーブルを修復できます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>myisamchk --recover --ft_min_word_len=3 <em class="replaceable"><code>tbl_name</code></em>.MYI</code></strong>
</pre><p>
        <span class="command"><strong>myisamchk</strong></span> とサーバーが全文パラメータに同じ値を確実に使用するには、オプションファイルの <code class="literal">[mysqld]</code> と<code class="literal">[myisamchk]</code> セクションの両方にそれぞれを置いてください。
      </p><pre class="programlisting">
[mysqld]
ft_min_word_len=3

[myisamchk]
ft_min_word_len=3
</pre><p>
        <span class="command"><strong>myisamchk</strong></span> を使用する代わりに、<code class="literal">REPAIR TABLE</code>、<code class="literal">ANALYZE TABLE</code>、<code class="literal">OPTIMIZE TABLE</code>、または <code class="literal">ALTER TABLE</code> を使用できます。これらのステートメントは、適切に使用される全文パラメータ値が認識されているサーバーで実行されます。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="myisamchk-check-options"></a>4.6.3.2 myisamchk のチェックオプション</h4></div></div></div><a class="indexterm" name="idm139979150842992"></a><a class="indexterm" name="idm139979150840960"></a><p>
        <span class="command"><strong>myisamchk</strong></span> はテーブルチェック操作用に次のオプションをサポートします。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_myisamchk_check"></a>
            <a class="indexterm" name="idm139979150836416"></a> <a class="indexterm" name="idm139979150834272"></a> <code class="option">--check</code>, <code class="option">-c</code>
          </p><p>
            テーブルにエラーがないか確認します。明示的に操作のタイプを選択しない場合、これがデフォルトの操作です。
          </p></li><li class="listitem"><p><a name="option_myisamchk_check-only-changed"></a>
            <a class="indexterm" name="idm139979150829280"></a> <a class="indexterm" name="idm139979150827120"></a> <code class="option">--check-only-changed</code>, <code class="option">-C</code>
          </p><p>
            最後に行われた検査以降に変更されたテーブルのみをチェックします。
          </p></li><li class="listitem"><p><a name="option_myisamchk_extend-check"></a>
            <a class="indexterm" name="idm139979150822208"></a> <a class="indexterm" name="idm139979150820048"></a> <code class="option">--extend-check</code>, <code class="option">-e</code>
          </p><p>
            テーブルチェックを非常に詳細に行います。テーブルにインデックスが多数ある場合、これには非常に時間がかかります。このオプションは極端な場合のみに使用するべきです。通常、<span class="command"><strong>myisamchk</strong></span> または <span class="command"><strong>myisamchk --medium-check</strong></span> を使用してテーブル内のエラーの有無を確認できます。
          </p><p>
            <code class="option">--extend-check</code> を使用し、メモリー容量が十分な場合、<code class="literal">key_buffer_size</code> 値を大きくセットすれば、修復操作のスピードを上げることができます。
          </p><p>
            このオプションの説明は、テーブル修復オプションも参照してください。
          </p><p>
            出力形式の説明は、<a class="xref" href="programs.html#myisamchk-table-info" title="4.6.3.5 myisamchk によるテーブル情報の取得">セクション4.6.3.5「myisamchk によるテーブル情報の取得」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_myisamchk_fast"></a>
            <a class="indexterm" name="idm139979150809152"></a> <a class="indexterm" name="idm139979150807008"></a> <code class="option">--fast</code>, <code class="option">-F</code>
          </p><p>
            正しく閉じられていないテーブルのみを検査します。
          </p></li><li class="listitem"><p><a name="option_myisamchk_force"></a>
            <a class="indexterm" name="idm139979150802224"></a> <a class="indexterm" name="idm139979150800080"></a> <code class="option">--force</code>, <code class="option">-f</code>
          </p><p>
            <span class="command"><strong>myisamchk</strong></span> がテーブル内にエラーを発見した場合、自動的に修復操作を実行します。修復タイプは <code class="option">--recover</code> または <code class="option">-r</code> オプションで指定されるものと同じです。
          </p></li><li class="listitem"><p><a name="option_myisamchk_information"></a>
            <a class="indexterm" name="idm139979150793248"></a> <a class="indexterm" name="idm139979150791104"></a> <code class="option">--information</code>, <code class="option">-i</code>
          </p><p>
            チェックされたテーブルの統計を出力します。
          </p></li><li class="listitem"><p><a name="option_myisamchk_medium-check"></a>
            <a class="indexterm" name="idm139979150786208"></a> <a class="indexterm" name="idm139979150784048"></a> <code class="option">--medium-check</code>, <code class="option">-m</code>
          </p><p>
            <code class="option">--extend-check</code> 操作よりも高速なチェックを実行します。これはすべてのエラーの 99.99% のみを確認し、ほとんどの場合はこれで十分でしょう。
          </p></li><li class="listitem"><p><a name="option_myisamchk_read-only"></a>
            <a class="indexterm" name="idm139979150778256"></a> <a class="indexterm" name="idm139979150776112"></a> <code class="option">--read-only</code>, <code class="option">-T</code>
          </p><p>
            テーブルを検査済みとマークしません。これは、<span class="command"><strong>mysqld</strong></span> が外部ロックが無効の状態で稼働している場合など、ロックを使用しないほかのアプリケーションが使用しているテーブルをチェックするために <span class="command"><strong>myisamchk</strong></span> を使用する場合に便利です。
          </p></li><li class="listitem"><p><a name="option_myisamchk_update-state"></a>
            <a class="indexterm" name="idm139979150769392"></a> <a class="indexterm" name="idm139979150767232"></a> <code class="option">--update-state</code>, <code class="option">-U</code>
          </p><p>
            情報を <code class="filename">.MYI</code> ファイルに保存して、テーブルがチェックされた時期およびテーブルがクラッシュしたかどうかを示します。<code class="option">--check-only-changed</code> オプションの利便性を最大限に引き出すためにはこれを使用するべきですが、<span class="command"><strong>mysqld</strong></span> サーバーがテーブルを使用し、かつ外部ロックを無効にした状態で起動している場合は、このオプションを使用しないでください。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="myisamchk-repair-options"></a>4.6.3.3 myisamchk の修復オプション</h4></div></div></div><a class="indexterm" name="idm139979150759168"></a><a class="indexterm" name="idm139979150757168"></a><p>
        <span class="command"><strong>myisamchk</strong></span> は、テーブルの修復操作 (<code class="option">--recover</code> オプションまたは <code class="option">--safe-recover</code> オプションなどのオプションが指定された場合に実行される操作) のために次のオプションをサポートします。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_myisamchk_backup"></a>
            <a class="indexterm" name="idm139979150750960"></a> <a class="indexterm" name="idm139979150748816"></a> <code class="option">--backup</code>, <code class="option">-B</code>
          </p><p>
            <code class="filename">.MYD</code> ファイルのバックアップを <code class="filename"><em class="replaceable"><code>file_name</code></em>-<em class="replaceable"><code>time</code></em>.BAK</code> として作成します。
          </p></li><li class="listitem"><p><a name="option_myisamchk_character-sets-dir"></a>
            <a class="indexterm" name="idm139979150741920"></a> <a class="indexterm" name="idm139979150739760"></a> <code class="option">--character-sets-dir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            文字セットがインストールされているディレクトリ。<a class="xref" href="globalization.html#charset-configuration" title="10.5 文字セットの構成">セクション10.5「文字セットの構成」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_myisamchk_correct-checksum"></a>
            <a class="indexterm" name="idm139979150734208"></a> <a class="indexterm" name="idm139979150732080"></a> <code class="option">--correct-checksum</code>
          </p><p>
            テーブルのチェックサム情報を修正します。
          </p></li><li class="listitem"><p><a name="option_myisamchk_data-file-length"></a>
            <a class="indexterm" name="idm139979150727552"></a> <a class="indexterm" name="idm139979150725392"></a> <code class="option">--data-file-length=<em class="replaceable"><code>len</code></em></code>, <code class="option">-D <em class="replaceable"><code>len</code></em></code>
          </p><p>
            データファイルの最大長 (データファイルが<span class="quote">「<span class="quote">いっぱい</span>」</span>になったとき再作成する場合)。
          </p></li><li class="listitem"><p>


            <a class="indexterm" name="idm139979150720032"></a> <a class="indexterm" name="idm139979150717824"></a> <code class="option">--extend-check</code>, <code class="option">-e</code>
          </p><p>
            データファイルからできるかぎりの行をリカバリしようとする修復を実行します。これは通常、ガベージ行も大量に検出します。このオプションは、切羽詰まった状況でなければ使用しないでください。
          </p><p>
            このオプションの説明は、テーブルチェックオプションも参照してください。
          </p><p>
            出力形式の説明は、<a class="xref" href="programs.html#myisamchk-table-info" title="4.6.3.5 myisamchk によるテーブル情報の取得">セクション4.6.3.5「myisamchk によるテーブル情報の取得」</a>を参照してください。
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm139979150711136"></a> <a class="indexterm" name="idm139979150708992"></a> <code class="option">--force</code>, <code class="option">-f</code>
          </p><p>
            中止せず、古い中間ファイル (<code class="filename"><em class="replaceable"><code>tbl_name</code></em>.TMD</code> のような名前のファイル) を上書きします。
          </p></li><li class="listitem"><p><a name="option_myisamchk_keys-used"></a>
            <a class="indexterm" name="idm139979150703040"></a> <a class="indexterm" name="idm139979150700896"></a> <code class="option">--keys-used=<em class="replaceable"><code>val</code></em></code>, <code class="option">-k <em class="replaceable"><code>val</code></em></code>
          </p><p>
            <span class="command"><strong>myisamchk</strong></span> では、オプション値はどのインデックスを更新するかを示すビット値です。オプション値の各バイナリビットがテーブルインデックスに対応します。最初のインデックスはビット 0 です。オプション値が 0 の場合、すべてのインデックスの更新が無効になります。より高速な挿入を行うために使用できます。無効化されたインデックスは <span class="command"><strong>myisamchk -r</strong></span> を使用して再度有効化できます。
          </p></li><li class="listitem"><p><a name="option_myisamchk_no-symlinks"></a>
            <a class="indexterm" name="idm139979150693568"></a> <a class="indexterm" name="idm139979150691424"></a> <code class="option">--no-symlinks</code>, <code class="option">-l</code>
          </p><p>
            シンボリックリンクをたどりません。通常、<span class="command"><strong>myisamchk</strong></span> はシンボリックリンクが示すテーブルを修復します。MySQL 4.0 以降のバージョンでは修復操作中にシンボリックリンクを削除しないため、このオプションは 4.0 には存在しません。
          </p></li><li class="listitem"><p><a name="option_myisamchk_max-record-length"></a>
            <a class="indexterm" name="idm139979150685408"></a> <a class="indexterm" name="idm139979150683248"></a> <code class="option">--max-record-length=<em class="replaceable"><code>len</code></em></code>
          </p><p>
            <span class="command"><strong>myisamchk</strong></span> が指定された長さより大きい行を保存するためにメモリーを割り当てられない場合、行をスキップします。
          </p></li><li class="listitem"><p><a name="option_myisamchk_parallel-recover"></a>
            <a class="indexterm" name="idm139979150677696"></a> <a class="indexterm" name="idm139979150675536"></a> <code class="option">--parallel-recover</code>, <code class="option">-p</code>
          </p><p>
            <code class="option">-r</code> および <code class="option">-n</code> と同じテクニックを使用しますが、異なるスレッドを使用してすべてのキーを並行して作成します。<span class="emphasis"><em>これはベータ品質のコードです。自己責任でご使用ください。</em></span>
          </p></li><li class="listitem"><p><a name="option_myisamchk_quick"></a>
            <a class="indexterm" name="idm139979150669360"></a> <a class="indexterm" name="idm139979150667216"></a> <code class="option">--quick</code>, <code class="option">-q</code>
          </p><p>
            データファイルではなくインデックスファイルのみを変更することで、より高速な修復を実現します。このオプションを 2 回指定することで、重複キーの場合に <span class="command"><strong>myisamchk</strong></span> を使用して強制的に元のデータファイルを変更させることができます。
          </p></li><li class="listitem"><p><a name="option_myisamchk_recover"></a>
            <a class="indexterm" name="idm139979150661120"></a> <a class="indexterm" name="idm139979150658944"></a> <code class="option">--recover</code>, <code class="option">-r</code>
          </p><p>
            一意ではない一意なキー以外のすべてを修復できる修復を実行します (これは <code class="literal">MyISAM</code> テーブルではきわめてまれなエラーです)。テーブルをリカバリするには、このオプションをまず試してください。<code class="option">--safe-recover</code> は、<span class="command"><strong>myisamchk</strong></span> が、<code class="option">--recover</code> を使用してテーブルをリカバリできないとレポートする場合のみ使用するようにしてください。(非常にまれではありますが、<code class="option">--recover</code> が失敗した場合、データファイルはそのままです。)
          </p><p>
            メモリー容量に余裕がある場合、<code class="literal">myisam_sort_buffer_size</code> の値を増やすようにしてください。
          </p></li><li class="listitem"><p><a name="option_myisamchk_safe-recover"></a>
            <a class="indexterm" name="idm139979150648416"></a> <a class="indexterm" name="idm139979150646256"></a> <code class="option">--safe-recover</code>, <code class="option">-o</code>
          </p><p>
            すべての行を順に読み取り、検出された行に基づいてすべてのインデックスツリーを更新する古いリカバリ方法を使用して修復します。この方法は <code class="option">--recover</code> よりも格段に遅くなりますが、<code class="option">--recover</code> では対応できないいくつかのまれなケースに対応できます。また、このリカバリ方法は <code class="option">--recover</code> よりもはるかに少ないディスクスペースを使用します。通常、まず <code class="option">--recover</code> を使用して修復し、<code class="option">--recover</code> が失敗した場合にかぎって <code class="option">--safe-recover</code> を使用するようにしてください。
          </p><p>
            メモリー容量に余裕がある場合、<code class="literal">key_buffer_size</code> の値を増やすとよいでしょう。
          </p></li><li class="listitem"><p><a name="option_myisamchk_set-character-set"></a>
            <a class="indexterm" name="idm139979150634784"></a> <a class="indexterm" name="idm139979150632624"></a> <code class="option">--set-character-set=<em class="replaceable"><code>name</code></em></code>
          </p><p>
            テーブルインデックスで使用する文字セットを変更します。このオプションは、MySQL 5.0.3 で <code class="option">--set-collation</code> に置換されました。
          </p></li><li class="listitem"><p><a name="option_myisamchk_set-collation"></a>
            <a class="indexterm" name="idm139979150626992"></a> <a class="indexterm" name="idm139979150624832"></a> <code class="option">--set-collation=<em class="replaceable"><code>name</code></em></code>
          </p><p>
            テーブルインデックスのソートに使用する照合順序を指定します。照合順序名の初めの部位が文字セット名を示しています。
          </p></li><li class="listitem"><p><a name="option_myisamchk_sort-recover"></a>
            <a class="indexterm" name="idm139979150619872"></a> <a class="indexterm" name="idm139979150617712"></a> <code class="option">--sort-recover</code>, <code class="option">-n</code>
          </p><p>
            一時ファイルのサイズが非常に大きくなっても、キーの解決にソートを使用することを <span class="command"><strong>myisamchk</strong></span> に強制します。
          </p></li><li class="listitem"><p><a name="option_myisamchk_tmpdir"></a>
            <a class="indexterm" name="idm139979150612064"></a> <a class="indexterm" name="idm139979150609920"></a> <code class="option">--tmpdir=<em class="replaceable"><code>path</code></em></code>, <code class="option">-t <em class="replaceable"><code>path</code></em></code>
          </p><p>
            一時ファイルの保存に使用するディレクトリのパス。設定しない場合、<span class="command"><strong>myisamchk</strong></span> は <code class="literal">TMPDIR</code> 環境変数の値を使用します。<code class="option">--tmpdir</code> に、一時ファイルの作成にラウンドロビン方式で順に使用する、ディレクトリパスのリストを設定できます。ディレクトリ名の間の区切り文字は、Unix ではコロン (<span class="quote">「<span class="quote"><code class="literal">:</code></span>」</span>)、Windows ではセミコロン (<span class="quote">「<span class="quote"><code class="literal">;</code></span>」</span>) です。
          </p></li><li class="listitem"><p><a name="option_myisamchk_unpack"></a>
            <a class="indexterm" name="idm139979150600160"></a> <a class="indexterm" name="idm139979150598016"></a> <code class="option">--unpack</code>, <code class="option">-u</code>
          </p><p>
            <span class="command"><strong>myisampack</strong></span> でパックされたテーブルをアンパックします。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="myisamchk-other-options"></a>4.6.3.4 その他の myisamchk オプション</h4></div></div></div><p>
        <span class="command"><strong>myisamchk</strong></span> はテーブルチェックおよび修復以外のアクションのために、次のオプションをサポートします。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_myisamchk_analyze"></a>
            <a class="indexterm" name="idm139979150589696"></a> <a class="indexterm" name="idm139979150587520"></a> <code class="option">--analyze</code>, <code class="option">-a</code>
          </p><p>
            キー値の分布を分析します。これは、結合オプティマイザが、テーブルを結合する順番と、それが使用するインデックスをより適切に選択できるようにすることで、結合パフォーマンスを向上させます。キー分布に関する情報を取得するには、<span class="command"><strong>myisamchk --description --verbose <em class="replaceable"><code>tbl_name</code></em></strong></span> コマンドまたは <code class="literal">SHOW INDEX FROM <em class="replaceable"><code>tbl_name</code></em></code> ステートメントを使用します。
          </p></li><li class="listitem"><p><a name="option_myisamchk_block-search"></a>
            <a class="indexterm" name="idm139979150580080"></a> <a class="indexterm" name="idm139979150577920"></a> <code class="option">--block-search=<em class="replaceable"><code>offset</code></em></code>, <code class="option">-b <em class="replaceable"><code>offset</code></em></code>
          </p><p>
            指定されたオフセットのブロックが属するレコードを検索します。
          </p></li><li class="listitem"><p><a name="option_myisamchk_description"></a>
            <a class="indexterm" name="idm139979150572384"></a> <a class="indexterm" name="idm139979150570240"></a> <code class="option">--description</code>, <code class="option">-d</code>
          </p><p>
            テーブルの説明情報を出力します。<code class="option">--verbose</code> オプションを一回または二回使用すると、追加情報が生成されます。<a class="xref" href="programs.html#myisamchk-table-info" title="4.6.3.5 myisamchk によるテーブル情報の取得">セクション4.6.3.5「myisamchk によるテーブル情報の取得」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_myisamchk_set-auto-increment"></a>
            <a class="indexterm" name="idm139979150563824"></a> <a class="indexterm" name="idm139979150561696"></a> <code class="option">--set-auto-increment[=<em class="replaceable"><code>value</code></em>]</code>, <code class="option">-A[<em class="replaceable"><code>value</code></em>]</code>
          </p><p>
            新しい行に対する <code class="literal">AUTO_INCREMENT</code> の番号付けを、指定した値 (または、<code class="literal">AUTO_INCREMENT</code> 値がこの値と同じであるレコードが存在する場合は、それより大きい値) で開始するように強制します。<em class="replaceable"><code>value</code></em> が指定されていない場合は、新しいレコードの <code class="literal">AUTO_INCREMENT</code> の数字は現在テーブル内にあるもっとも大きい値 +1 で開始します。
          </p></li><li class="listitem"><p><a name="option_myisamchk_sort-index"></a>
            <a class="indexterm" name="idm139979150552800"></a> <a class="indexterm" name="idm139979150550656"></a> <code class="option">--sort-index</code>, <code class="option">-S</code>
          </p><p>
            インデックスツリーブロックを降順でソートします。これはシークを最適化し、インデックスを使用するテーブルスキャンを高速化します。
          </p></li><li class="listitem"><p><a name="option_myisamchk_sort-records"></a>
            <a class="indexterm" name="idm139979150545568"></a> <a class="indexterm" name="idm139979150543408"></a> <code class="option">--sort-records=<em class="replaceable"><code>N</code></em></code>, <code class="option">-R <em class="replaceable"><code>N</code></em></code>
          </p><p>
            特定のインデックスに基づいてレコードをソートします。これにより、データが大幅に局所に集中化されるため、このインデックスを使用する、範囲に基づいた <code class="literal">SELECT</code> または <code class="literal">ORDER BY</code> 操作が高速化する可能性があります。(テーブルのソートにはじめてこのオプションを使用する場合、かなり遅い場合があります。)テーブルのインデックス番号を決定するには、<span class="command"><strong>myisamchk</strong></span> が認識するのと同じ順序でテーブルのインデックスを表示する <code class="literal">SHOW INDEX</code> を使用してください。インデックスの番号は 1 から始まります。
          </p><p>
            キーがパックされていない場合 (<code class="literal">PACK_KEYS=0</code>)、長さが同じであるため、<span class="command"><strong>myisamchk</strong></span> がレコードをソートして移動する際、インデックスのレコードオフセットを上書きするだけです。キーがパックされている場合 (<code class="literal">PACK_KEYS=1</code>)、<span class="command"><strong>myisamchk</strong></span> はまずキーブロックをアンパックし、次にインデックスを再作成してキーブロックをパックする必要があります。(この場合、各インデックスのオフセットを更新するよりも、インデックスを再作成する方が早くなります。)
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="myisamchk-table-info"></a>4.6.3.5 myisamchk によるテーブル情報の取得</h4></div></div></div><a class="indexterm" name="idm139979150528832"></a><a class="indexterm" name="idm139979150526816"></a><a class="indexterm" name="idm139979150524672"></a><a class="indexterm" name="idm139979150522608"></a><p>
        <code class="literal">MyISAM</code> テーブル情報またはそれに関する統計を取得するには、次に示すコマンドを使用します。これらのコマンドの出力は、このセクションのあとの方で説明します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="command"><strong>myisamchk -d <em class="replaceable"><code>tbl_name</code></em></strong></span>
          </p><p>
            <span class="command"><strong>myisamchk</strong></span> を <span class="quote">「<span class="quote">describe モード</span>」</span> で実行し、テーブル情報を生成します。外部ロックが無効になっている MySQL サーバーを起動した場合には、<span class="command"><strong>myisamchk</strong></span> は、実行中に更新があったテーブルに対してエラーをレポートすることがあります。ただし、describe モードでは <span class="command"><strong>myisamchk</strong></span> はテーブルを変更しないため、データが破損される危険はありません。
          </p></li><li class="listitem"><p>
            <span class="command"><strong>myisamchk -dv <em class="replaceable"><code>tbl_name</code></em></strong></span>
          </p><p>
            <code class="option">-v</code> を追加すると、<span class="command"><strong>myisamchk</strong></span> は詳細モードで実行され、テーブルについてより多くの情報を生成します。<code class="option">-v</code> をもう一度使用するとさらに多くの情報が生成されます。
          </p></li><li class="listitem"><p>
            <span class="command"><strong>myisamchk -eis <em class="replaceable"><code>tbl_name</code></em></strong></span>
          </p><p>
            テーブルからのもっとも重要な情報のみを表示します。この操作はテーブル全体を読み取る必要があるため、時間がかかります。
          </p></li><li class="listitem"><p>
            <span class="command"><strong>myisamchk -eiv <em class="replaceable"><code>tbl_name</code></em></strong></span>
          </p><p>
            これは <code class="option">-eis</code> と同様ですが、進行中の処理が表示されます。
          </p></li></ul></div><p>
        <em class="replaceable"><code>tbl_name</code></em> 引数は、<a class="xref" href="programs.html#myisamchk" title="4.6.3 myisamchk — MyISAM テーブルメンテナンスユーティリティー">セクション4.6.3「<span class="command"><strong>myisamchk</strong></span> — MyISAM テーブルメンテナンスユーティリティー」</a>で説明するように、<code class="literal">MyISAM</code> テーブルの名前か、またはそのインデックスファイル名のいずれかです。複数の <em class="replaceable"><code>tbl_name</code></em> 引数を指定できます。
      </p><p>
        <code class="literal">person</code> という名前のテーブルの構造が、次のようになっているとします。(あとに示す <span class="command"><strong>myisamchk</strong></span> からの出力例で、一部の値がより小さく、出力形式に適合しやすいように、<code class="literal">MAX_ROWS</code> テーブルオプションが含まれます。)
      </p><pre class="programlisting">
CREATE TABLE person
(
  id         INT NOT NULL AUTO_INCREMENT,
  last_name  VARCHAR(20) NOT NULL,
  first_name VARCHAR(20) NOT NULL,
  birth      DATE,
  death      DATE,
  PRIMARY KEY (id),
  INDEX (last_name, first_name),
  INDEX (birth)
) MAX_ROWS = 1000000;
</pre><p>
        また、テーブルのデータファイルおよびインデックスファイルのサイズは次のようになっているとします。
      </p><pre class="programlisting">
-rw-rw----  1 mysql  mysql  9347072 Aug 19 11:47 person.MYD
-rw-rw----  1 mysql  mysql  6066176 Aug 19 11:47 person.MYI
</pre><p>
        <span class="command"><strong>myisamchk -dvv</strong></span> の出力例:
      </p><pre class="programlisting">
MyISAM file:         person
Record format:       Packed
Character set:       latin1_swedish_ci (8)
File-version:        1
Creation time:       2009-08-19 16:47:41
Recover time:        2009-08-19 16:47:56
Status:              checked,analyzed,optimized keys
Auto increment key:              1  Last value:                306688
Data records:               306688  Deleted blocks:                 0
Datafile parts:             306688  Deleted data:                   0
Datafile pointer (bytes):        4  Keyfile pointer (bytes):        3
Datafile length:           9347072  Keyfile length:           6066176
Max datafile length:    4294967294  Max keyfile length:   17179868159
Recordlength:                   54

table description:
Key Start Len Index   Type                 Rec/key         Root  Blocksize
1   2     4   unique  long                       1        99328       1024
2   6     20  multip. varchar prefix           512      3563520       1024
    27    20          varchar                  512
3   48    3   multip. uint24 NULL           306688      6065152       1024

Field Start Length Nullpos Nullbit Type
1     1     1
2     2     4                      no zeros
3     6     21                     varchar
4     27    21                     varchar
5     48    3      1       1       no zeros
6     51    3      1       2       no zeros
</pre><p>
        <span class="command"><strong>myisamchk</strong></span> が生成する情報のタイプについて次に説明します。<span class="quote">「<span class="quote">Keyfile</span>」</span> とはインデックスファイルのことです。<span class="quote">「<span class="quote">レコード</span>」</span>と<span class="quote">「<span class="quote">行</span>」</span>、<span class="quote">「<span class="quote">フィールド</span>」</span>と <span class="quote">「<span class="quote">カラム</span>」</span>は、それぞれシノニムです。
      </p><p>
        テーブル情報の最初の部分には次の値が含まれます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">MyISAM file</code>
          </p><p>
            <code class="literal">MyISAM</code> (インデックス) ファイルの名前。
          </p></li><li class="listitem"><p>
            <code class="literal">Record format</code>
          </p><p>
            テーブルの行を保存するために使用される形式。前述の例では <code class="literal">Fixed length</code> を使用しています。ほかの値には、<code class="literal">Compressed</code> および <code class="literal">Packed</code> があります。(<code class="literal">Packed</code> は <code class="literal">SHOW TABLE STATUS</code> レポートで <code class="literal">Dynamic</code> とレポートされるものに対応します。)
          </p></li><li class="listitem"><p>
            <code class="literal">Chararacter set</code>
          </p><p>
            テーブルのデフォルト文字セット。
          </p></li><li class="listitem"><p>
            <code class="literal">File-version</code>
          </p><p>
            <code class="literal">MyISAM</code> 形式のバージョン。現在、常に 1 です。
          </p></li><li class="listitem"><p>
            <code class="literal">Creation time</code>
          </p><p>
            いつデータファイルが作成されたか。
          </p></li><li class="listitem"><p>
            <code class="literal">Recover time</code>
          </p><p>
            インデックスファイル/データファイルが最後にいつ再構成されたか。
          </p></li><li class="listitem"><p>
            <code class="literal">Status</code>
          </p><p>
            テーブルのステータスフラグ。可能な値は <code class="literal">crashed</code>、<code class="literal">open</code>、<code class="literal">changed</code>、<code class="literal">analyzed</code>、<code class="literal">optimized keys</code>、および <code class="literal">sorted index pages</code> です。
          </p></li><li class="listitem"><p>
            <code class="literal">Auto increment key</code>、<code class="literal">Last value</code>
          </p><p>
            テーブルの <code class="literal">AUTO_INCREMENT</code> カラムに関連付けられたキー番号、およびこのカラムに対して直近に生成された値。そのようなカラムがない場合はこのフィールドは表示されません。
          </p></li><li class="listitem"><p>
            <code class="literal">Data records</code>
          </p><p>
            テーブル内の行数。
          </p></li><li class="listitem"><p>
            <code class="literal">Deleted blocks</code>
          </p><p>
            削除されたブロックで、スペースがまだ予約されているものの数。テーブルを最適化してこのスペースを最小化できます。<a class="xref" href="backup-and-recovery.html#myisam-optimization" title="7.6.4 MyISAM テーブルの最適化">セクション7.6.4「MyISAM テーブルの最適化」</a>を参照してください。
          </p></li><li class="listitem"><p>
            <code class="literal">Datafile parts</code>
          </p><p>
            動的行フォーマットでは、これはデータブロックの数を示します。断片化レコードがない最適化されたテーブルでは、これは<code class="literal">データレコード</code>と同じです。
          </p></li><li class="listitem"><p>
            <code class="literal">Deleted data</code>
          </p><p>
            未使用の削除されたデータのバイト数。テーブルを最適化してこのスペースを最小化できます。<a class="xref" href="backup-and-recovery.html#myisam-optimization" title="7.6.4 MyISAM テーブルの最適化">セクション7.6.4「MyISAM テーブルの最適化」</a>を参照してください。
          </p></li><li class="listitem"><p>
            <code class="literal">Datafile pointer</code>
          </p><p>
            データファイルポインタのサイズ (バイト単位)。通常は、2、3、4、または 5 バイトです。ほとんどのテーブルは 2 バイトで対応できますが、これはまだ MySQL では制御できません。固定テーブルでは、これは行のアドレスです。動的テーブルでは、これはバイトアドレスです。
          </p></li><li class="listitem"><p>
            <code class="literal">Keyfile pointer</code>
          </p><p>
            インデックスファイルポインタのサイズ (バイト単位)。通常は、1、2、または 3 バイトです。ほとんどのテーブルは 2 バイトで対応できますが、これは MySQL によって自動的に計算されます。常にブロックアドレスです。
          </p></li><li class="listitem"><p>
            <code class="literal">Max datafile length</code>
          </p><p>
            テーブルデータファイルがどこまで長くなれるか (バイト単位)。
          </p></li><li class="listitem"><p>
            <code class="literal">Max keyfile length</code>
          </p><p>
            テーブルインデックスファイルがどこまで長くなれるか (バイト単位)。
          </p></li><li class="listitem"><p>
            <code class="literal">Recordlength</code>
          </p><p>
            各行が使用するスペース (バイト単位)。
          </p></li></ul></div><p>
        出力の <code class="literal">table description</code> の部分にはテーブルのすべてのキーのリストが含まれます。<span class="command"><strong>myisamchk</strong></span> は、それぞれのキーについて低レベル情報を表示します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">Key</code>
          </p><p>
            このキーの番号。この値は、キーの最初のカラムに関してのみ表示されます。この値が欠落している場合、行は複数カラムキーの 2 番目以降のカラムに対応します。例に示したテーブルでは、2 番目のインデックスについて 2 つの <code class="literal">table description</code> 行があります。これは、2 つの部分で構成されるマルチパートインデックスであることを示しています。
          </p></li><li class="listitem"><p>
            <code class="literal">Start</code>
          </p><p>
            インデックスのこの部分が行の中のどこで始まるか。
          </p></li><li class="listitem"><p>
            <code class="literal">Len</code>
          </p><p>
            インデックスのこの部分の長さ。パックされた番号では、これは常にカラム全体の長さであるはずです。文字列では、文字列カラムのプリフィクスにインデックスを付けることができるため、インデックスされるカラム全体の長さより短い場合があります。マルチパートキーの合計の長さは、すべてのキーパートの <code class="literal">Len</code> 値の合計です。
          </p></li><li class="listitem"><p>
            <code class="literal">Index</code>
          </p><p>
            キー値がインデックス内に複数回存在できるかどうか。可能な値は <code class="literal">unique</code> または <code class="literal">multip</code> (multiple) です。
          </p></li><li class="listitem"><p>
            <code class="literal">Type</code>
          </p><p>
            インデックスのこの部分のデータ型。<code class="literal">packed</code>、<code class="literal">stripped</code>、または <code class="literal">empty</code> のいずれかの値の <code class="literal">MyISAM</code> データ型です。
          </p></li><li class="listitem"><p>
            <code class="literal">Root</code>
          </p><p>
            ルートインデックスブロックのアドレス。
          </p></li><li class="listitem"><p>
            <code class="literal">Blocksize</code>
          </p><p>
            各インデックスブロックのサイズ。デフォルトでは 1024 ですが、この値は MySQL がソースからビルドされる場合はコンパイル時に変更できます。
          </p></li><li class="listitem"><p>
            <code class="literal">Rec/key</code>
          </p><p>
            これはオプティマイザによって使用される統計値です。このインデックスで、値当たりにいくつの行があるかを示します。一意のインデックスでは値は常に 1 です。これは、テーブルのロード (または大きな変更) のあとに <span class="command"><strong>myisamchk -a</strong></span> で更新される場合があります。まったく更新されない場合はデフォルト値の 30 が指定されます。
          </p></li></ul></div><p>
        出力の最後の部分は、各カラムの情報を示します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">Field</code>
          </p><p>
            カラム番号。
          </p></li><li class="listitem"><p>
            <code class="literal">Start</code>
          </p><p>
            テーブルの行の中でのカラムのバイト位置。
          </p></li><li class="listitem"><p>
            <code class="literal">Length</code>
          </p><p>
            カラムの長さ (バイト単位)。
          </p></li><li class="listitem"><p>
            <code class="literal">Nullpos</code>、<code class="literal">Nullbit</code>
          </p><p>
            <code class="literal">NULL</code> を取れるカラムでは、<code class="literal">MyISAM</code> は <code class="literal">NULL</code> 値をバイト内のフラグとして保存します。Null にできるカラムがいくつあるかによって、このために使用されるバイトが 1 またはそれ以上ある場合があります。<code class="literal">Nullpos</code> 値および <code class="literal">Nullbit</code> 値が空でない場合は、カラムが <code class="literal">NULL</code> かどうかを示すフラグが、どのバイトおよびビットに含まれるかを示します。
          </p><p>
            <code class="literal">NULL</code> フラグを保存するために使用される位置とバイト数は、フィールド 1 の行に示されます。<code class="literal">person</code> テーブルには 5 つのカラムしかないのに <code class="literal">Field</code> 行が 6 個あるのはこのためです。
          </p></li><li class="listitem"><p>
            <code class="literal">Type</code>
          </p><p>
            データ型。この値は次のいずれかのディスクリプタを含むことがあります。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">constant</code>
              </p><p>
                すべての行は同じ値を持っています。
              </p></li><li class="listitem"><p>
                <code class="literal">no endspace</code>
              </p><p>
                エンドスペースを保存しません。
              </p></li><li class="listitem"><p>
                <code class="literal">no endspace, not_always</code>
              </p><p>
                エンドスペースを保存せず、またすべての値にエンドスペース圧縮を行いません。
              </p></li><li class="listitem"><p>
                <code class="literal">no endspace, no empty</code>
              </p><p>
                エンドスペースを保存しません。空の値を保存しません。
              </p></li><li class="listitem"><p>
                <code class="literal">table-lookup</code>
              </p><p>
                カラムは <code class="literal">ENUM</code> に変換されました。
              </p></li><li class="listitem"><p>
                <code class="literal">zerofill(<em class="replaceable"><code>N</code></em>)</code>
              </p><p>
                値の中の最上位の <em class="replaceable"><code>N</code></em> バイトは常に 0 であり、保存されません。
              </p></li><li class="listitem"><p>
                <code class="literal">no zeros</code>
              </p><p>
                ゼロを保存しません。
              </p></li><li class="listitem"><p>
                <code class="literal">always zero</code>
              </p><p>
                ゼロ値は 1 ビットを使用して保存されます。
              </p></li></ul></div></li><li class="listitem"><p>
            <code class="literal">Huff tree</code>
          </p><p>
            カラムに関連しているハフマンツリーの数。
          </p></li><li class="listitem"><p>
            <code class="literal">Bits</code>
          </p><p>
            ハフマンツリーで使用されているビット数。
          </p></li></ul></div><p>
        <code class="literal">Huff tree</code> フィールドおよび <code class="literal">Bits</code> フィールドは、テーブルが <span class="command"><strong>myisampack</strong></span> で圧縮されている場合に表示されます。この情報の例は、<a class="xref" href="programs.html#myisampack" title="4.6.5 myisampack — 圧縮された読み取り専用の MyISAM テーブルの生成">セクション4.6.5「<span class="command"><strong>myisampack</strong></span> — 圧縮された読み取り専用の MyISAM テーブルの生成」</a>を参照してください。
      </p><p>
        <span class="command"><strong>myisamchk -eiv</strong></span> の出力例
      </p><pre class="programlisting">
Checking MyISAM file: person
Data records:  306688   Deleted blocks:       0
- check file-size
- check record delete-chain
No recordlinks
- check key delete-chain
block_size 1024:
- check index reference
- check data record references index: 1
Key:  1:  Keyblocks used:  98%  Packed:    0%  Max levels:  3
- check data record references index: 2
Key:  2:  Keyblocks used:  99%  Packed:   97%  Max levels:  3
- check data record references index: 3
Key:  3:  Keyblocks used:  98%  Packed:  -14%  Max levels:  3
Total:    Keyblocks used:  98%  Packed:   89%

- check records and index references
<em class="replaceable"><code>*** LOTS OF ROW NUMBERS DELETED ***</code></em>

Records:            306688  M.recordlength:       25  Packed:            83%
Recordspace used:       97% Empty space:           2% Blocks/Record:   1.00
Record blocks:      306688  Delete blocks:         0
Record data:       7934464  Deleted data:          0
Lost space:         256512  Linkdata:        1156096

User time 43.08, System time 1.68
Maximum resident set size 0, Integral resident set size 0
Non-physical pagefaults 0, Physical pagefaults 0, Swaps 0
Blocks in 0 out 7, Messages in 0 out 0, Signals 0
Voluntary context switches 0, Involuntary context switches 0
Maximum memory usage: 1046926 bytes (1023k)
</pre><p>
        <span class="command"><strong>myisamchk -eiv</strong></span> の出力には、次の情報が含まれます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">Data records</code>
          </p><p>
            テーブル内の行数。
          </p></li><li class="listitem"><p>
            <code class="literal">Deleted blocks</code>
          </p><p>
            削除されたブロックで、スペースがまだ予約されているものの数。テーブルを最適化してこのスペースを最小化できます。<a class="xref" href="backup-and-recovery.html#myisam-optimization" title="7.6.4 MyISAM テーブルの最適化">セクション7.6.4「MyISAM テーブルの最適化」</a>を参照してください。
          </p></li><li class="listitem"><p>
            <code class="literal">Key</code>
          </p><p>
            キー番号。
          </p></li><li class="listitem"><p>
            <code class="literal">Keyblocks used</code>
          </p><p>
            キーブロックの何パーセントが使用されているか。テーブルが <span class="command"><strong>myisamchk</strong></span> で再構成されたばかりの場合は、値が非常に高く (理論上の最大値に非常に近く) なります。
          </p></li><li class="listitem"><p>
            <code class="literal">Packed</code>
          </p><p>
            MySQL は、共通のサフィクスを持つキー値のパックを試行します。これは、<code class="literal">CHAR</code> カラムおよび <code class="literal">VARCHAR</code> カラムのインデックスにのみ使用できます。左端に同様の部分を持つインデックス付きの長い文字列では、使用されるスペースをこれによって大幅に削減できる場合があります。前記の例では 2 番目のキーは長さが 40 バイトで、97% のスペース削減が実現されています。
          </p></li><li class="listitem"><p>
            <code class="literal">Max levels</code>
          </p><p>
            このキーの B ツリーの深さ。キー値の長い大規模なテーブルでは値が大きくなります。
          </p></li><li class="listitem"><p>
            <code class="literal">Records</code>
          </p><p>
            テーブル内の行数。
          </p></li><li class="listitem"><p>
            <code class="literal">M.recordlength</code>
          </p><p>
            平均行長。固定長の行を持つテーブルではすべての行が同じ長さであるため、これは正確な行の長さです。
          </p></li><li class="listitem"><p>
            <code class="literal">Packed</code>
          </p><p>
            MySQL は文字列の最後からスペースを削除します。<code class="literal">Packed</code> 値は、これを行うことによって達成された削減のパーセンテージを示します。
          </p></li><li class="listitem"><p>
            <code class="literal">Recordspace used</code>
          </p><p>
            データファイルの何パーセントが使用されているか。
          </p></li><li class="listitem"><p>
            <code class="literal">Empty space</code>
          </p><p>
            データファイルの何パーセントが未使用か。
          </p></li><li class="listitem"><p>
            <code class="literal">Blocks/Record</code>
          </p><p>
            行当たりの平均ブロック数 (すなわち、断片化された行がいくつのリンクで構成されるか)。固定形式のテーブルではこの値は常に 1.0 です。この値はできるだけ 1.0 に近くなるようにしてください。大きくなりすぎた場合は、テーブルを再構成できます。<a class="xref" href="backup-and-recovery.html#myisam-optimization" title="7.6.4 MyISAM テーブルの最適化">セクション7.6.4「MyISAM テーブルの最適化」</a>を参照してください。
          </p></li><li class="listitem"><p>
            <code class="literal">Recordblocks</code>
          </p><p>
            使用されているブロック (リンク) の数。固定形式のテーブルでは、これは行数と同じです。
          </p></li><li class="listitem"><p>
            <code class="literal">Deleteblocks</code>
          </p><p>
            削除されたブロック (リンク) の数。
          </p></li><li class="listitem"><p>
            <code class="literal">Recorddata</code>
          </p><p>
            データファイル内の使用されているバイト数。
          </p></li><li class="listitem"><p>
            <code class="literal">Deleted data</code>
          </p><p>
            データファイル内の削除された (未使用の) バイト数。
          </p></li><li class="listitem"><p>
            <code class="literal">Lost space</code>
          </p><p>
            行がより短い長さに更新されると、一部のスペースが失われます。これは、そのような損失の合計 (バイト単位) です。
          </p></li><li class="listitem"><p>
            <code class="literal">Linkdata</code>
          </p><p>
            動的テーブル形式が使用される場合、行の断片はポインタ (それぞれ 4 から 7 バイト) でリンクされます。<code class="literal">Linkdata</code> は、このようなポインタすべてが使用しているストレージ量の合計です。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="myisamchk-memory"></a>4.6.3.6 myisamchk メモリー使用量</h4></div></div></div><a class="indexterm" name="idm139979150313552"></a><p>
        <span class="command"><strong>myisamchk</strong></span> を実行する際、メモリー割り当ては重要です。<span class="command"><strong>myisamchk</strong></span> はメモリー関係の変数の設定を超えてメモリーを使用することはありません。<span class="command"><strong>myisamchk</strong></span> を非常に大きなテーブルで使用する場合、まずどのくらいのメモリーを使用するか決定する必要があります。デフォルトでは、修復に 3M バイト程度しか使用しないように設定されています。より大きな値を使用することで、<span class="command"><strong>myisamchk</strong></span> の動作速度を上げることができます。たとえば、512M バイトを超える RAM が使用可能な場合は、(ほかに指定するオプションに加えて) 次のようなオプションを使用できます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>myisamchk --myisam_sort_buffer_size=256M \</code></strong>
           <strong class="userinput"><code>--key_buffer_size=512M \</code></strong>
           <strong class="userinput"><code>--read_buffer_size=64M \</code></strong>
           <strong class="userinput"><code>--write_buffer_size=64M ...</code></strong>
</pre><p>
        おそらくほとんどの場合には <code class="option">--myisam_sort_buffer_size=16M</code> を使用すれば十分です。
      </p><p>
        <span class="command"><strong>myisamchk</strong></span> は <code class="literal">TMPDIR</code> 内の一時ファイルを使用することに注意してください。<code class="literal">TMPDIR</code> がメモリーファイルシステムを指している場合、メモリー不足エラーが容易におきる可能性があります。この場合は、<code class="option">--tmpdir=<em class="replaceable"><code>path</code></em></code> オプションを指定してより多くのスペースを持つファイルシステムにあるディレクトリを指定して、<span class="command"><strong>myisamchk</strong></span> を実行します。
      </p><p>
        修復操作を実行する場合、<span class="command"><strong>myisamchk</strong></span> はディスクスペースも大量に必要とします。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            データファイルのサイズの 2 倍 (元のファイルとコピー)。<code class="option">--quick</code> で修復を行う場合、スペースは必要ありません。この場合、再作成されるのはインデックスファイルのみです。コピーはオリジナルと同じディレクトリ内に作成されるため、<span class="emphasis"><em>このスペースはオリジナルのデータファイルと同じファイルシステム上で使用可能でなければなりません</em></span>。
          </p></li><li class="listitem"><p>
            古いインデックスファイルを置換する新しいもの用のスペース。古いインデックスファイルは修復操作の最初に切り捨てられるため、通常このスペースは無視します。このスペースは、オリジナルのデータファイルと同じファイルシステム上で使用可能でなければなりません。
          </p></li><li class="listitem"><p>
            <code class="option">--recover</code> または <code class="option">--sort-recover</code> を使用する場合 (ただし <code class="option">--safe-recover</code> を使用する場合を除く)、ソートのためのスペースがディスク上に必要です。このスペースは一時ディレクトリ (<code class="literal">TMPDIR</code> または <code class="option">--tmpdir=<em class="replaceable"><code>path</code></em></code> で指定されます) 上に割り当てられます。次の式は必要なスペースの量を求めます。
          </p><pre class="programlisting">
(<em class="replaceable"><code>largest_key</code></em> + <em class="replaceable"><code>row_pointer_length</code></em>) * <em class="replaceable"><code>number_of_rows</code></em> * 2
</pre><p>
            キー長および <em class="replaceable"><code>row_pointer_length</code></em> は <span class="command"><strong>myisamchk -dv <em class="replaceable"><code>tbl_name</code></em></strong></span> で確認できます (<a class="xref" href="programs.html#myisamchk-table-info" title="4.6.3.5 myisamchk によるテーブル情報の取得">セクション4.6.3.5「myisamchk によるテーブル情報の取得」</a>を参照してください)。<em class="replaceable"><code>row_pointer_length</code></em> 値および <em class="replaceable"><code>number_of_rows</code></em> 値は、テーブル情報内の <code class="literal">Datafile pointer</code> 値および <code class="literal">Data records</code> 値です。<em class="replaceable"><code>largest_key</code></em> 値を判断するには、テーブル情報内の <code class="literal">Key</code> 行を確認します。<code class="literal">Len</code> カラムは各キーパートのバイト数を示します。マルチカラムインデックスでは、キーサイズはすべてのキーパートの <code class="literal">Len</code> 値の合計です。
          </p></li></ul></div><p>
        修復中にディスクスペースの問題がある場合は、<code class="option">--recover</code> の代わりに <code class="option">--safe-recover</code> を使用してみてください。
      </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="myisamlog"></a>4.6.4 <span class="command"><strong>myisamlog</strong></span> — MyISAM ログファイルの内容の表示</h3></div></div></div><a class="indexterm" name="idm139979150272432"></a><p>
        <span class="command"><strong>myisamlog</strong></span> は <code class="literal">MyISAM</code> ログファイルの内容を処理します。このようなファイルを作成するには、サーバーを <code class="option">--log-isam=<code class="filename">log_file</code></code> オプションで起動します。
      </p><p>
        <span class="command"><strong>myisamlog</strong></span> は次のように起動します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>myisamlog [<em class="replaceable"><code>options</code></em>] [<em class="replaceable"><code>file_name</code></em> [<em class="replaceable"><code>tbl_name</code></em>] ...]</code></strong>
</pre><p>
        デフォルトの操作は更新 (<code class="option">-u</code>) です。リカバリが実行された場合 (<code class="option">-r</code>)、すべての書き込み、および更新や削除が実行され、エラーは数えられるだけです。<em class="replaceable"><code>log_file</code></em> 引数が指定されない場合は、デフォルトのログファイル名は <code class="filename">myisam.log</code> です。コマンド行でテーブルが指名された場合は、そのテーブルのみが更新されます。
      </p><p>
        <span class="command"><strong>myisamlog</strong></span> は次のオプションをサポートします。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_myisamlog_help"></a>
            <code class="option">-?</code>、<code class="option">-I</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_myisamlog_commands"></a>
            <code class="option">-c <em class="replaceable"><code>N</code></em></code>
          </p><p>
            <em class="replaceable"><code>N</code></em> 個のコマンドのみ実行します。
          </p></li><li class="listitem"><p><a name="option_myisamlog_files"></a>
            <code class="option">-f <em class="replaceable"><code>N</code></em></code>
          </p><p>
            開かれているファイルの最大数を指定します。
          </p></li><li class="listitem"><p><a name="option_myisamlog_information"></a>
            <code class="option">-i</code>
          </p><p>
            終了する前に追加情報を表示します。
          </p></li><li class="listitem"><p><a name="option_myisamlog_offset"></a>
            <code class="option">-o <em class="replaceable"><code>offset</code></em></code>
          </p><p>
            開始オフセットを指定します。
          </p></li><li class="listitem"><p><a name="option_myisamlog_path"></a>
            <code class="option">-p <em class="replaceable"><code>N</code></em></code>
          </p><p>
            パスから <em class="replaceable"><code>N</code></em> 個のコンポーネントを取り除きます。
          </p></li><li class="listitem"><p><a name="option_myisamlog_recovery"></a>
            <code class="option">-r</code>
          </p><p>
            リカバリ操作を実行します。
          </p></li><li class="listitem"><p><a name="option_myisamlog_record-position"></a>
            <code class="option">-R <em class="replaceable"><code>record_pos_file record_pos</code></em></code>
          </p><p>
            レコード位置ファイルとレコード位置を指定します。
          </p></li><li class="listitem"><p><a name="option_myisamlog_update"></a>
            <code class="option">-u</code>
          </p><p>
            更新操作を実行します。
          </p></li><li class="listitem"><p><a name="option_myisamlog_verbose"></a>
            <code class="option">-v</code>
          </p><p>
            冗長モード。プログラムの動作についてより多くの情報を出力します。このオプションを複数回指定して、さらに多くの出力を生成できます。
          </p></li><li class="listitem"><p><a name="option_myisamlog_write"></a>
            <code class="option">-w <em class="replaceable"><code>write_file</code></em></code>
          </p><p>
            書き込みファイルを指定します。
          </p></li><li class="listitem"><p><a name="option_myisamlog_version"></a>
            <code class="option">-V</code>
          </p><p>
            バージョン情報を表示します。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="myisampack"></a>4.6.5 <span class="command"><strong>myisampack</strong></span> — 圧縮された読み取り専用の MyISAM テーブルの生成</h3></div></div></div><a class="indexterm" name="idm139979150228192"></a><a class="indexterm" name="idm139979150226976"></a><a class="indexterm" name="idm139979150225680"></a><a class="indexterm" name="idm139979150223776"></a><p>
        <span class="command"><strong>myisampack</strong></span> ユーティリティーは <code class="literal">MyISAM</code> テーブルを圧縮します。<span class="command"><strong>myisampack</strong></span> は、テーブルの各カラムを独立して圧縮することによって機能します。通常、<span class="command"><strong>myisampack</strong></span> はデータファイルを 40% から 70% パックします。
      </p><p>
        テーブルがあとで使用される場合、カラムの解凍に必要な情報をサーバーがメモリー内に読み取ります。これにより、個々の行をアクセスする際のパフォーマンスが大幅に向上します。これは、圧縮解除しなければならないのは 1 つの行のみであるためです。
      </p><p>
        MySQL は、圧縮されたテーブルでメモリーのマッピングを行う場合に、可能であれば <code class="literal">mmap()</code> を使用します。<code class="literal">mmap()</code> が機能しない場合、MySQL は普通のファイル読み取り/書き込み操作に戻ります。
      </p><p>
        次の点に注意してください。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="command"><strong>mysqld</strong></span> サーバーが外部ロックが無効化された状態で起動された場合、パック処理の最中にサーバーによってテーブルが更新される可能性がある場合は、<span class="command"><strong>myisampack</strong></span> の起動は推奨されません。サーバーが停止している状態でテーブルを圧縮するのがもっとも安全です。
          </p></li><li class="listitem"><p>
            テーブルは、パック後に読み取り専用になります。通常これは意図されたものです (CD 内のパックされたテーブルにアクセスする場合など)。
          </p></li><li class="listitem"><p>
            <span class="command"><strong>myisampack</strong></span> はパーティション化されたテーブルをサポートしません。
          </p></li></ul></div><p>
        <span class="command"><strong>myisampack</strong></span> は次のように起動します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>myisampack [<em class="replaceable"><code>options</code></em>] <em class="replaceable"><code>file_name</code></em> ...</code></strong>
</pre><p>
        各ファイル名引数はインデックス (<code class="filename">.MYI</code>) ファイルの名前にしてください。データベースディレクトリ内にいない場合、ファイルへのパスを指定するようにしてください。<code class="filename">.MYI</code> 拡張子は省略可能です。
      </p><p>
        <span class="command"><strong>myisampack</strong></span> でテーブルを圧縮したら、<span class="command"><strong>myisamchk -rq</strong></span> を使用してインデックスを再構築するようにしてください。<a class="xref" href="programs.html#myisamchk" title="4.6.3 myisamchk — MyISAM テーブルメンテナンスユーティリティー">セクション4.6.3「<span class="command"><strong>myisamchk</strong></span> — MyISAM テーブルメンテナンスユーティリティー」</a>。
      </p><p>
        <span class="command"><strong>myisampack</strong></span> は次のオプションをサポートします。また、オプションファイルを読み取り、<a class="xref" href="programs.html#option-file-options" title="4.2.7 オプションファイルの処理に影響するコマンド行オプション">セクション4.2.7「オプションファイルの処理に影響するコマンド行オプション」</a>に説明されている、それらを処理するためのオプションもサポートします。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_myisampack_help"></a>
            <a class="indexterm" name="idm139979150196352"></a> <a class="indexterm" name="idm139979150194208"></a> <code class="option">--help</code>, <code class="option">-?</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_myisampack_backup"></a>
            <a class="indexterm" name="idm139979150189360"></a> <a class="indexterm" name="idm139979150187184"></a> <code class="option">--backup</code>, <code class="option">-b</code>
          </p><p>
            <code class="filename"><em class="replaceable"><code>tbl_name</code></em>.OLD</code> という名前を使用して、各テーブルのデータファイルのバックアップを作成します。
          </p></li><li class="listitem"><p><a name="option_myisampack_character-sets-dir"></a>
            <a class="indexterm" name="idm139979150181312"></a> <a class="indexterm" name="idm139979150179152"></a> <code class="option">--character-sets-dir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            文字セットがインストールされているディレクトリ。<a class="xref" href="globalization.html#charset-configuration" title="10.5 文字セットの構成">セクション10.5「文字セットの構成」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_myisampack_debug"></a>
            <a class="indexterm" name="idm139979150173696"></a> <a class="indexterm" name="idm139979150171552"></a> <code class="option">--debug[=<em class="replaceable"><code>debug_options</code></em>]</code>, <code class="option">-# [<em class="replaceable"><code>debug_options</code></em>]</code>
          </p><p>
            デバッグのログを書き込みます。一般的な <em class="replaceable"><code>debug_options</code></em> 文字列は <code class="literal">d:t:o,<em class="replaceable"><code>file_name</code></em></code> です。デフォルトは <code class="literal">d:t:o</code> です。
          </p></li><li class="listitem"><p><a name="option_myisampack_force"></a>
            <a class="indexterm" name="idm139979150163632"></a> <a class="indexterm" name="idm139979150161488"></a> <code class="option">--force</code>, <code class="option">-f</code>
          </p><p>
            パックされたテーブルが元のテーブルより大きくなる場合や、以前に <span class="command"><strong>myisampack</strong></span> を呼び出した際の中間ファイルが存在する場合でも、パックされたテーブルを生成します (<span class="command"><strong>myisampack</strong></span> はテーブルの圧縮中に、 <code class="filename"><em class="replaceable"><code>tbl_name</code></em>.TMD</code> という名前の中間ファイルをデータベースディレクトリに作成します。<span class="command"><strong>myisampack</strong></span> を強制終了した場合、<code class="filename">.TMD</code> ファイルは削除されないことがあります。)通常、<span class="command"><strong>myisampack</strong></span> は <code class="filename"><em class="replaceable"><code>tbl_name</code></em>.TMD</code> が存在することを検出すると、エラーで終了します。<code class="option">--force</code> を使用すると、<span class="command"><strong>myisampack</strong></span> は必ずテーブルをパックします。
          </p></li><li class="listitem"><p><a name="option_myisampack_join"></a>
            <a class="indexterm" name="idm139979150148640"></a> <a class="indexterm" name="idm139979150146496"></a> <code class="option">--join=<em class="replaceable"><code>big_tbl_name</code></em></code>, <code class="option">-j <em class="replaceable"><code>big_tbl_name</code></em></code>
          </p><p>
            コマンド行で指名されたすべてのテーブルを、単一のパックされたテーブル <em class="replaceable"><code>big_tbl_name</code></em> に結合します。結合されるすべてのテーブルは、<span class="emphasis"><em>必ず</em></span>まったく同一の構造でなければなりません (同一カラム名、型、同一インデックスなど)。
          </p><p>
            結合操作の前に、<em class="replaceable"><code>big_tbl_name</code></em> が存在していなければなりません。コマンド行で指名され <em class="replaceable"><code>big_tbl_name</code></em> にマージされるすべてのソーステーブルが存在していなければなりません。ソースのテーブルは結合のために読み取られますが、変更はされません。この結合操作では、<em class="replaceable"><code>big_tbl_name</code></em> の <code class="filename">.frm</code> ファイルは作成されないので、結合操作の完了後、<code class="filename">.frm</code> ファイルをソーステーブルの 1 つからコピーして <code class="filename"><em class="replaceable"><code>big_tbl_name</code></em>.frm</code> と名付けます。
          </p></li><li class="listitem"><p><a name="option_myisampack_silent"></a>
            <a class="indexterm" name="idm139979150134704"></a> <a class="indexterm" name="idm139979150132528"></a> <code class="option">--silent</code>, <code class="option">-s</code>
          </p><p>
            サイレントモード。エラーが発生したときのみ出力を書き出します。
          </p></li><li class="listitem"><p><a name="option_myisampack_test"></a>
            <a class="indexterm" name="idm139979150127696"></a> <a class="indexterm" name="idm139979150125552"></a> <code class="option">--test</code>, <code class="option">-t</code>
          </p><p>
            実際にテーブルをパックせず、パックのテストのみを実行します。
          </p></li><li class="listitem"><p><a name="option_myisampack_tmpdir"></a>
            <a class="indexterm" name="idm139979150120576"></a> <a class="indexterm" name="idm139979150118400"></a> <code class="option">--tmpdir=<em class="replaceable"><code>path</code></em></code>, <code class="option">-T <em class="replaceable"><code>path</code></em></code>
          </p><p>
            指名されたディレクトリを、<span class="command"><strong>myisampack</strong></span> が一時ファイルを作成する場所として使用します。
          </p></li><li class="listitem"><p><a name="option_myisampack_verbose"></a>
            <a class="indexterm" name="idm139979150112144"></a> <a class="indexterm" name="idm139979150109968"></a> <code class="option">--verbose</code>, <code class="option">-v</code>
          </p><p>
            冗長モード。パック操作の進行状況とその結果に関する情報を書き込みます。
          </p></li><li class="listitem"><p><a name="option_myisampack_version"></a>
            <a class="indexterm" name="idm139979150105008"></a> <a class="indexterm" name="idm139979150102832"></a> <code class="option">--version</code>, <code class="option">-V</code>
          </p><p>
            バージョン情報を表示して終了します。
          </p></li><li class="listitem"><p><a name="option_myisampack_wait"></a>
            <a class="indexterm" name="idm139979150098048"></a> <a class="indexterm" name="idm139979150095904"></a> <code class="option">--wait</code>, <code class="option">-w</code>
          </p><p>
            テーブルが使用中の場合、待機してから再度試みます。<span class="command"><strong>mysqld</strong></span> サーバーが外部ロックが無効化された状態で起動された場合、パック処理の最中にサーバーによってテーブルが更新される可能性がある場合は、<span class="command"><strong>myisampack</strong></span> の起動は推奨されません。
          </p></li></ul></div><a class="indexterm" name="idm139979150090016"></a><p>
        次のコマンドシーケンスは典型的なテーブル圧縮セッションを表しています。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ls -l station.*</code></strong>
-rw-rw-r--   1 monty    my         994128 Apr 17 19:00 station.MYD
-rw-rw-r--   1 monty    my          53248 Apr 17 19:00 station.MYI
-rw-rw-r--   1 monty    my           5767 Apr 17 19:00 station.frm

shell&gt; <strong class="userinput"><code>myisamchk -dvv station</code></strong>

MyISAM file:     station
Isam-version:  2
Creation time: 1996-03-13 10:08:58
Recover time:  1997-02-02  3:06:43
Data records:              1192  Deleted blocks:              0
Datafile parts:            1192  Deleted data:                0
Datafile pointer (bytes):     2  Keyfile pointer (bytes):     2
Max datafile length:   54657023  Max keyfile length:   33554431
Recordlength:               834
Record format: Fixed length

table description:
Key Start Len Index   Type                 Root  Blocksize    Rec/key
1   2     4   unique  unsigned long        1024       1024          1
2   32    30  multip. text                10240       1024          1

Field Start Length Type
1     1     1
2     2     4
3     6     4
4     10    1
5     11    20
6     31    1
7     32    30
8     62    35
9     97    35
10    132   35
11    167   4
12    171   16
13    187   35
14    222   4
15    226   16
16    242   20
17    262   20
18    282   20
19    302   30
20    332   4
21    336   4
22    340   1
23    341   8
24    349   8
25    357   8
26    365   2
27    367   2
28    369   4
29    373   4
30    377   1
31    378   2
32    380   8
33    388   4
34    392   4
35    396   4
36    400   4
37    404   1
38    405   4
39    409   4
40    413   4
41    417   4
42    421   4
43    425   4
44    429   20
45    449   30
46    479   1
47    480   1
48    481   79
49    560   79
50    639   79
51    718   79
52    797   8
53    805   1
54    806   1
55    807   20
56    827   4
57    831   4

shell&gt; <strong class="userinput"><code>myisampack station.MYI</code></strong>
Compressing station.MYI: (1192 records)
- Calculating statistics

normal:     20  empty-space:   16  empty-zero:     12  empty-fill:  11
pre-space:   0  end-space:     12  table-lookups:   5  zero:         7
Original trees:  57  After join: 17
- Compressing file
87.14%
Remember to run myisamchk -rq on compressed tables

shell&gt; <strong class="userinput"><code>ls -l station.*</code></strong>
-rw-rw-r--   1 monty    my         127874 Apr 17 19:00 station.MYD
-rw-rw-r--   1 monty    my          55296 Apr 17 19:04 station.MYI
-rw-rw-r--   1 monty    my           5767 Apr 17 19:00 station.frm

shell&gt; <strong class="userinput"><code>myisamchk -dvv station</code></strong>

MyISAM file:     station
Isam-version:  2
Creation time: 1996-03-13 10:08:58
Recover time:  1997-04-17 19:04:26
Data records:               1192  Deleted blocks:              0
Datafile parts:             1192  Deleted data:                0
Datafile pointer (bytes):      3  Keyfile pointer (bytes):     1
Max datafile length:    16777215  Max keyfile length:     131071
Recordlength:                834
Record format: Compressed

table description:
Key Start Len Index   Type                 Root  Blocksize    Rec/key
1   2     4   unique  unsigned long       10240       1024          1
2   32    30  multip. text                54272       1024          1

Field Start Length Type                         Huff tree  Bits
1     1     1      constant                             1     0
2     2     4      zerofill(1)                          2     9
3     6     4      no zeros, zerofill(1)                2     9
4     10    1                                           3     9
5     11    20     table-lookup                         4     0
6     31    1                                           3     9
7     32    30     no endspace, not_always              5     9
8     62    35     no endspace, not_always, no empty    6     9
9     97    35     no empty                             7     9
10    132   35     no endspace, not_always, no empty    6     9
11    167   4      zerofill(1)                          2     9
12    171   16     no endspace, not_always, no empty    5     9
13    187   35     no endspace, not_always, no empty    6     9
14    222   4      zerofill(1)                          2     9
15    226   16     no endspace, not_always, no empty    5     9
16    242   20     no endspace, not_always              8     9
17    262   20     no endspace, no empty                8     9
18    282   20     no endspace, no empty                5     9
19    302   30     no endspace, no empty                6     9
20    332   4      always zero                          2     9
21    336   4      always zero                          2     9
22    340   1                                           3     9
23    341   8      table-lookup                         9     0
24    349   8      table-lookup                        10     0
25    357   8      always zero                          2     9
26    365   2                                           2     9
27    367   2      no zeros, zerofill(1)                2     9
28    369   4      no zeros, zerofill(1)                2     9
29    373   4      table-lookup                        11     0
30    377   1                                           3     9
31    378   2      no zeros, zerofill(1)                2     9
32    380   8      no zeros                             2     9
33    388   4      always zero                          2     9
34    392   4      table-lookup                        12     0
35    396   4      no zeros, zerofill(1)               13     9
36    400   4      no zeros, zerofill(1)                2     9
37    404   1                                           2     9
38    405   4      no zeros                             2     9
39    409   4      always zero                          2     9
40    413   4      no zeros                             2     9
41    417   4      always zero                          2     9
42    421   4      no zeros                             2     9
43    425   4      always zero                          2     9
44    429   20     no empty                             3     9
45    449   30     no empty                             3     9
46    479   1                                          14     4
47    480   1                                          14     4
48    481   79     no endspace, no empty               15     9
49    560   79     no empty                             2     9
50    639   79     no empty                             2     9
51    718   79     no endspace                         16     9
52    797   8      no empty                             2     9
53    805   1                                          17     1
54    806   1                                           3     9
55    807   20     no empty                             3     9
56    827   4      no zeros, zerofill(2)                2     9
57    831   4      no zeros, zerofill(1)                2     9
</pre><p>
        <span class="command"><strong>myisampack</strong></span> は次の種類の情報を表示します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">normal</code>
          </p><p>
            追加のパックが使用されていないカラムの数。
          </p></li><li class="listitem"><p>
            <code class="literal">empty-space</code>
          </p><p>
            スペースのみの値を含むカラムの数。これらは 1 ビットを占めます。
          </p></li><li class="listitem"><p>
            <code class="literal">empty-zero</code>
          </p><p>
            バイナリのゼロのみの値を含むカラムの数。これらは 1 ビットを占めます。
          </p></li><li class="listitem"><p>
            <code class="literal">empty-fill</code>
          </p><p>
            それぞれの型のバイト範囲をすべて占領しない整数カラムの数。これらはより小さい型に変更されます。たとえば、<code class="literal">BIGINT</code> カラム (8 バイト) のすべての値が <code class="literal">-128</code> から <code class="literal">127</code> の範囲内にある場合は、このカラムを <code class="literal">TINYINT</code> カラム (1 バイト) として格納できます。
          </p></li><li class="listitem"><p>
            <code class="literal">pre-space</code>
          </p><p>
            先頭にスペースが付いて保存されている 10 進数カラムの数。この場合、各値は先頭のスペースの数のカウントを含んでいます。
          </p></li><li class="listitem"><p>
            <code class="literal">end-space</code>
          </p><p>
            後続のスペースを多く含むカラムの数。この場合、各値は後続のスペースの数のカウントを含んでいます。
          </p></li><li class="listitem"><p>
            <code class="literal">table-lookup</code>
          </p><p>
            カラムには少数の異なる値のみがあり、ハフマン圧縮の前に <code class="literal">ENUM</code> に変換されました。
          </p></li><li class="listitem"><p>
            <code class="literal">zero</code>
          </p><p>
            すべての値がゼロのカラムの数。
          </p></li><li class="listitem"><p>
            <code class="literal">Original trees</code>
          </p><p>
            もともとのハフマンツリーの数です。
          </p></li><li class="listitem"><p>
            <code class="literal">After join</code>
          </p><p>
            ヘッダースペースを節約するため、ツリーの結合のあとに残った異なるハフマンツリーの数。
          </p></li></ul></div><p>
        テーブルの圧縮後、<span class="command"><strong>myisamchk -dvv</strong></span> が表示する <code class="literal">Field</code> 行には、各カラムに関する追加情報が含まれます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">Type</code>
          </p><p>
            データ型。この値は次のいずれかのディスクリプタを含むことがあります。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">constant</code>
              </p><p>
                すべての行は同じ値を持っています。
              </p></li><li class="listitem"><p>
                <code class="literal">no endspace</code>
              </p><p>
                エンドスペースを保存しません。
              </p></li><li class="listitem"><p>
                <code class="literal">no endspace, not_always</code>
              </p><p>
                エンドスペースを保存せず、またすべての値にエンドスペース圧縮を行いません。
              </p></li><li class="listitem"><p>
                <code class="literal">no endspace, no empty</code>
              </p><p>
                エンドスペースを保存しません。空の値を保存しません。
              </p></li><li class="listitem"><p>
                <code class="literal">table-lookup</code>
              </p><p>
                カラムは <code class="literal">ENUM</code> に変換されました。
              </p></li><li class="listitem"><p>
                <code class="literal">zerofill(<em class="replaceable"><code>N</code></em>)</code>
              </p><p>
                値の中の最上位の <em class="replaceable"><code>N</code></em> バイトは常に 0 であり、保存されません。
              </p></li><li class="listitem"><p>
                <code class="literal">no zeros</code>
              </p><p>
                ゼロを保存しません。
              </p></li><li class="listitem"><p>
                <code class="literal">always zero</code>
              </p><p>
                ゼロ値は 1 ビットを使用して保存されます。
              </p></li></ul></div></li><li class="listitem"><p>
            <code class="literal">Huff tree</code>
          </p><p>
            カラムに関連しているハフマンツリーの数。
          </p></li><li class="listitem"><p>
            <code class="literal">Bits</code>
          </p><p>
            ハフマンツリーで使用されているビット数。
          </p></li></ul></div><p>
        <span class="command"><strong>myisampack</strong></span> の起動後、インデックスを再作成するには<span class="command"><strong>myisamchk</strong></span> を起動しなければいけません。このとき、MySQL オプティマイザの動作効率化を図るために、インデックスブロックのソートと統計の作成を行うことができます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>myisamchk -rq --sort-index --analyze <em class="replaceable"><code>tbl_name</code></em>.MYI</code></strong>
</pre><p>
        パックされたテーブルを MySQL データベースディレクトリにインストールしたあと、<span class="command"><strong>mysqld</strong></span> が新しいテーブルを使用することを強制するため、<span class="command"><strong>mysqladmin flush-tables</strong></span> を実行するようにしてください。
      </p><p>
        パックされたテーブルをアンパックするには、<span class="command"><strong>myisamchk</strong></span> に対して <code class="option">--unpack</code> オプションを使用してください。
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-config-editor"></a>4.6.6 <span class="command"><strong>mysql_config_editor</strong></span> — MySQL 構成ユーティリティー</h3></div></div></div><a class="indexterm" name="idm139979150004928"></a><a class="indexterm" name="idm139979150003712"></a><p>
        <span class="command"><strong>mysql_config_editor</strong></span> ユーティリティー (MySQL 5.6.6 で使用可能です) を使用すると、<code class="filename">.mylogin.cnf</code> という名前の暗号化されたログインファイルに認証情報を保存できます。ファイルの場所は、Windows では <code class="filename">%APPDATA%\MySQL</code> ディレクトリ、非 Windows システムでは現在のユーザーのホームディレクトリです。このファイルは、MySQL Server に接続するための認証情報を取得するために、MySQL クライアントプログラムによってあとで読み取ることができます。
      </p><p>
        別のファイル名を指定するには、<code class="literal">MYSQL_TEST_LOGIN_FILE</code> 環境変数を設定します。この変数は <span class="command"><strong>mysql-test-run.pl</strong></span> テストユーティリティーが使用しますが、<code class="literal">mysql_config_editor</code> および <span class="command"><strong>mysql</strong></span>、<span class="command"><strong>mysqladmin</strong></span>、などの MySQL クライアントによっても認識されます。
      </p><p>
        <span class="command"><strong>mysql_config_editor</strong></span> は <code class="filename">.mylogin.cnf</code> ファイルを暗号化するため平文として読み取ることはできず、クライアントプログラムによって復号化された場合、その内容はメモリー内でのみ使用されます。これにより、パスワードを平文ではない形式のファイルに保存して、コマンド行または環境変数にさらされる必要もまったくなく、あとで使用できます。<span class="command"><strong>mysql_config_editor</strong></span> は、ユーザーがファイルの内容を表示できるようにする <code class="literal">print</code> コマンドを提供しますが、この場合でもパスワード値はマスクされるため、ほかのユーザーが見られるような方法では決して表示されません。
      </p><p>
        <span class="command"><strong>mysql_config_editor</strong></span> が使用する暗号化は、パスワードが <code class="filename">.mylogin.cnf</code> に平文として現れることを防ぎ、パスワードが意図せずにさらされることを防ぐセキュリティー手段を提供します。たとえば、通常の暗号化されていない <code class="filename">my.cnf</code> オプションファイルを画面に表示すると、そこに含まれるパスワードはだれでも見ることができます。<code class="filename">.mylogin.cnf</code> では、そうではありません。しかし、使用される暗号化は、強力な攻撃者を阻止することはなく、解読されることがないとは考えないようにしてください。マシン上であなたのファイルにアクセスするためにシステム管理者権限を取得できるユーザーなら、少しの作業で <code class="filename">.mylogin.cnf</code> ファイルを復号化できます。
      </p><p>
        ログインファイルは現在のユーザーが読み取りおよび書き込み可能で、ほかのユーザーからはアクセス不能でなければなりません。そうでないと、<span class="command"><strong>mysql_config_editor</strong></span> はそれを無視し、ファイルはクライアントプログラムでも使用されません。Windows では、この制約は適用されません。代わりに、ユーザーは <code class="filename">%APPDATA%\MySQL</code> ディレクトリにアクセスできなければなりません。
      </p><p>
        暗号化されていない形式の <code class="filename">.mylogin.cnf</code> ログインファイルは、ほかのオプションファイルと同様にオプショングループで構成されます。<code class="filename">.mylogin.cnf</code> 内の各オプショングループは<span class="quote">「<span class="quote">ログインパス</span>」</span>と呼ばれ、<code class="option">host</code>、<code class="option">user</code>、および <code class="option">password</code> という限定されたオプションのセットのみを許可するグループです。ログインパスは、サーバーホストおよびそのサーバーで認証するための認証情報を示す値のセットであると考えてください。次に例を示します。
      </p><pre class="programlisting">
[myloginpath]
user = myname
password = mypass
host = 127.0.0.1
</pre><p>
        サーバーに接続するためにクライアントプログラムを起動すると、ほかのオプションファイルとともに <code class="filename">.mylogin.cnf</code> が使用されます。その優先順位はほかのオプションファイルより高くなりますが、クライアントのコマンド行で明示的に指定されたオプションよりは低くなります。オプションファイルが使用される順序の詳細は、<a class="xref" href="programs.html#option-files" title="4.2.6 オプションファイルの使用">セクション4.2.6「オプションファイルの使用」</a>を参照してください。
      </p><p>
        <code class="literal">mysql_config_editor</code> は次のように起動します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql_config_editor [<em class="replaceable"><code>program_options</code></em>] <em class="replaceable"><code>command</code></em> [<em class="replaceable"><code>command_options</code></em>]</code></strong>
</pre><p>
        <em class="replaceable"><code>program_options</code></em> は一般的な <span class="command"><strong>mysql_config_editor</strong></span> オプションで構成されます。<code class="literal">command</code> は実行するコマンドを示し、<em class="replaceable"><code>command_options</code></em> はコマンドが必要とする追加のオプションを示します。
      </p><p>
        コマンドは、<code class="filename">.mylogin.cnf</code> login ファイルに対して実行するアクションを示します。たとえば、<code class="literal">set</code> はログインパスをファイルに書き出し、<code class="literal">remove</code> はログインパスを削除し、<code class="literal">print</code> はログインパスの内容を表示します。オプションが指定された場合は、ログインパス名およびログインパスで使用する値など、コマンドに対して情報を提供します。
      </p><p>
        プログラム引数のセット内でのコマンド名の位置は重要です。たとえば、次のコマンド行は同じ引数を持ちますが、結果は異なります。
      </p><pre class="programlisting">
mysql_config_editor --help set
mysql_config_editor set --help
</pre><p>
        最初のコマンド行は一般的な <span class="command"><strong>mysql_config_editor</strong></span> ヘルプを表示し、<code class="literal">set</code> コマンドは無視されます。2 番目のコマンド行は <code class="literal">set</code> コマンドのヘルプを表示します。
      </p><p>
        ローカル MySQL サーバーおよびホスト <code class="literal">remote.example.com</code> に接続するために<code class="literal">local</code> および <code class="literal">remote</code> という名前の 2 つのログインパスを確立するとします。ローカルサーバーには <code class="literal">localuser</code> および <code class="literal">localpass</code> というユーザー名とパスワードで認証を行い、リモートサーバーには <code class="literal">remoteuser</code> および <code class="literal">remotepass</code> というユーザー名とパスワードで認証を実行します。<code class="filename">.mylogin.cnf</code> ファイルにログインパスを設定するには、次の <code class="literal">set</code> コマンドを使用します。コマンドは 1 行に 1 つずつ入力し、次に要求されたら適切なパスワードを入力します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql_config_editor set --login-path=local
         --host=localhost --user=localuser --password</code></strong>
Enter password: <em class="replaceable"><code>enter password "localpass" here</code></em>
shell&gt; <strong class="userinput"><code>mysql_config_editor set --login-path=remote
         --host=remote.example.com --user=remoteuser --password</code></strong>
Enter password: <em class="replaceable"><code>enter password "remotepass" here</code></em>
</pre><p>
        <span class="command"><strong>mysql_config_editor</strong></span> が <code class="filename">.mylogin.cnf</code> ファイルに書き出す内容を表示するには、<code class="literal">print</code> コマンドを使用します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql_config_editor print --all</code></strong>
[local]
user = localuser
password = *****
host = localhost
[remote]
user = remoteuser
password = *****
host = remote.example.com
</pre><p>
        <code class="literal">print</code> コマンドは、各ログインパスを行のセットとして表示します。各セットには最初にグループヘッダー (角かっこ内にログインパス名を示します) があり、ログインパスのオプション値がそれに続きます。パスワード値はマスクされ、平文としては表示されません。
      </p><p>
        前の例に示されるように、<code class="filename">.mylogin.cnf</code> ファイルには複数のログインパスを含めることができます。これにより、<span class="command"><strong>mysql_config_editor</strong></span> で、異なる MySQL サーバーに接続するために複数の<span class="quote">「<span class="quote">人物</span>」</span>を設定するのが容易になります。これらはすべて、あとでクライアントプログラムを起動するときに <code class="option">--login-path</code> オプションを使用して名前で選択できます。たとえば、ローカルサーバーに接続するには次のコマンドを使用します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql --login-path=local</code></strong>
</pre><p>
        リモートサーバーに接続するには次のコマンドを使用します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql --login-path=remote</code></strong>
</pre><p>
        <code class="literal">set</code> コマンドを <span class="command"><strong>mysql_config_editor</strong></span> で使用してログインパスを作成する場合、可能な 3 つのオプション値 (ホスト名、ユーザー名、およびパスワード) をすべて指定する必要はありません。指定した値のみがパスに書き出されます。欠落している値があとで必要になった場合は、クライアントパスを起動して MySQL サーバーに接続するときに、オプションファイルまたはコマンド行で指定できます。また、コマンド行で指定されたオプションは、<code class="filename">.mylogin.cnf</code> ファイルを含めたオプションファイルのオプションをオーバーライドします。たとえば、<code class="literal">remote</code> ログインパスの認証情報がホスト <code class="literal">remote2.example.com</code> にも適用される場合、そのホストのサーバーに次のように接続できます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql --login-path=remote --host=remote2.example.com</code></strong>
</pre><p>
        <code class="filename">.mylogin.cnf</code> ファイルが存在する場合は、<code class="option">--no-defaults</code> オプションが使用された場合でも、必ず読み取られます。これにより、<code class="option">--no-defaults</code> が存在する場合でも、コマンド行よりも安全な方法でパスワードを指定できます。
      </p><h4><a name="mysql-config-editor-commands"></a>mysql_config_editor のコマンド</h4><p>
        このセクションでは、許可される <span class="command"><strong>mysql_config_editor</strong></span> コマンド、およびコマンド固有の意味を持つオプションの解釈について説明します。また、<span class="command"><strong>mysql_config_editor</strong></span> は、<span class="command"><strong>mysql_config_editor</strong></span> の実行中により多くの情報を生成するための <code class="option">--verbose</code> のように、任意のコマンドに使用できるその他のオプションも取ります。このオプションは、操作が期待する効果を生じない場合に、問題を診断するのに役立ちます。サポートされるオプションのリストは、<a class="link" href="programs.html#mysql-config-editor-command-options" title="mysql_config_editor のオプション"><span class="command"><strong>mysql_config_editor</strong></span> のオプション</a>を参照してください。
      </p><p>
        <span class="command"><strong>mysql_config_editor</strong></span> は次のコマンドをサポートします。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">help</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p>
            <code class="literal">print [<em class="replaceable"><code>options</code></em>]</code>
          </p><p>
            <code class="filename">.mylogin.cnf</code> の内容を暗号化されていない形式で出力します。パスワードは <code class="literal">*****</code> として表示されます。
          </p><p>
            <code class="literal">print</code> コマンドは次のオプションを取ります。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="option">--all</code>
              </p><p>
                すべてのログインパスを出力します。
              </p></li><li class="listitem"><p>
                <code class="option">--login-path=<em class="replaceable"><code>name</code></em></code>
              </p><p>
                指名されたログインパスを出力します。
              </p></li></ul></div><p>
            ログインパスが指定されていない場合のデフォルトパス名は <code class="literal">client</code> です。<code class="option">--all</code> および <code class="option">--login-path</code> の両方が指定されている場合、<code class="option">--all</code> が優先されます。
          </p></li><li class="listitem"><p>
            <code class="literal">remove [<em class="replaceable"><code>options</code></em>]</code>
          </p><p>
            ログインパスを <code class="filename">.mylogin.cnf</code> ファイルから削除します。
          </p><p>
            <code class="literal">remove</code> コマンドは次のオプションを取ります。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="option">--host</code>
              </p><p>
                ホスト名をログインパスから削除します。
              </p></li><li class="listitem"><p>
                <code class="option">--login-path=<em class="replaceable"><code>name</code></em></code>
              </p><p>
                削除するログインパス。このオプションが指定されていない場合のデフォルトパス名は <code class="literal">client</code> です。
              </p></li><li class="listitem"><p>
                <code class="option">--password</code>
              </p><p>
                パスワードをログインパスから削除します。
              </p></li><li class="listitem"><p>
                <code class="option">--port</code>
              </p><p>
                TCP/IP ポート番号をログインパスから削除します。
              </p></li><li class="listitem"><p>
                <code class="option">--socket</code>
              </p><p>
                Unix ソケットファイル名をログインパスから削除します。
              </p></li><li class="listitem"><p>
                <code class="option">--user</code>
              </p><p>
                ユーザー名をログインパスから削除します。
              </p></li></ul></div><p>
            <code class="literal">remove</code> コマンドに対する <code class="option">--host</code>、<code class="option">--user</code>、および <code class="option">--password</code> オプションは、MySQL 5.6.9 でサポートされます。<code class="literal">remove</code> コマンドに対する <code class="option">--port</code> および <code class="option">--socket</code> オプションは、MySQL 5.6.11 でサポートされます。
          </p><p>
            <code class="literal">remove</code> コマンドは、<code class="option">--host</code>、<code class="option">--password</code>、<code class="option">--port</code>、<code class="option">--socket</code>、および <code class="option">--user</code> の各オプションで指定された値のみをログインパスから削除します。これらがどれも指定されていない場合、<code class="literal">remove</code> はログインパス全体を削除します。たとえば次のコマンドは、<code class="literal">client</code> ログインパス全体ではなく、<code class="literal">client</code> ログインパスから <code class="option">user</code> の値のみを削除します。
          </p><pre class="programlisting">
mysql_config_editor remove --login-path=client --user
</pre></li><li class="listitem"><p>
            <code class="literal">reset</code>
          </p><p>
            <code class="filename">.mylogin.cnf</code> ファイルの内容を空にします。ファイルが存在しない場合は作成されます。
          </p></li><li class="listitem"><p>
            <code class="literal">set [<em class="replaceable"><code>options</code></em>]</code>
          </p><p>
            ログインパスを <code class="filename">.mylogin.cnf</code> ファイルに書き出します。
          </p><p>
            <code class="literal">set</code> コマンドは次のオプションを取ります。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="option">--host=<em class="replaceable"><code>host_name</code></em></code>
              </p><p>
                ログインパスに書き出すホスト名。
              </p></li><li class="listitem"><p>
                <code class="option">--login-path=<em class="replaceable"><code>name</code></em></code>
              </p><p>
                作成するログインパス。このオプションが指定されていない場合のデフォルトパス名は <code class="literal">client</code> です。
              </p></li><li class="listitem"><p>
                <code class="option">--password</code>
              </p><p>
                ログインパスに書き出すパスワードを要求します。
              </p></li><li class="listitem"><p>
                <code class="option">--port=<em class="replaceable"><code>port_num</code></em></code>
              </p><p>
                ログインパスに書き出す TCP/IP ポート番号。
              </p></li><li class="listitem"><p>
                <code class="option">--socket=<em class="replaceable"><code>file_name</code></em></code>
              </p><p>
                ログインパスに書き出す Unix ソケットファイル名。
              </p></li><li class="listitem"><p>
                <code class="option">--user=<em class="replaceable"><code>user_name</code></em></code>
              </p><p>
                ログインパスに書き出すユーザー名。
              </p></li></ul></div><p>
            <code class="literal">set</code> コマンドに対する <code class="option">--port</code> および <code class="option">--socket</code> オプションは、MySQL 5.6.11 でサポートされます。
          </p><p>
            <code class="literal">set</code> コマンドは、<code class="option">--host</code>、<code class="option">--password</code>、<code class="option">--port</code>、<code class="option">--socket</code>、および <code class="option">--user</code> の各オプションで指定された値のみをログインパスに書き出します。これらのオプションがいずれも指定されない場合は、<span class="command"><strong>mysql_config_editor</strong></span> はログインパスを空のグループとして書き出します。
          </p><p>
            空のパスワードを指定するには、<code class="literal">set</code> コマンドを <code class="option">--password</code> オプションとともに使用し、次にパスワードプロンプトで Enter を押します。その結果 <code class="filename">.mylogin.cnf</code> に書き出されるログインパスは、次のような行を含みます。
          </p><pre class="programlisting">
password =
</pre><p>
            <code class="filename">.mylogin.cnf</code> にログインパスがすでに存在する場合は、<code class="literal">set</code> コマンドはそれを置換します。これがユーザーが意図したものであることを確認するために、<span class="command"><strong>mysql_config_editor</strong></span> は警告を出力して確認を要求します。警告とプロンプトを抑制するには、<code class="option">--skip-warn</code> オプションを使用します。
          </p></li></ul></div><h4><a name="mysql-config-editor-command-options"></a>mysql_config_editor のオプション</h4><p>
        <span class="command"><strong>mysql_config_editor</strong></span> は次のオプションをサポートします。
      </p><div class="table"><a name="idm139979149828592"></a><p class="title"><b>表 4.13 <code class="literal">mysql_config_editor</code> のオプション</b></p><div class="table-contents"><table summary="mysql_config_editor のオプション" border="1"><colgroup><col class="format"><col class="description"><col class="introduced"></colgroup><thead><tr><th scope="col">形式</th><th scope="col">説明</th><th scope="col">導入</th></tr></thead><tbody><tr><td scope="row"><a class="link" href="programs.html#option_mysql_config_editor_all">--all</a></td><td>すべてのログインパスを出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_config_editor_debug">--debug</a></td><td>デバッグのログを書き込み</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_config_editor_help">--help</a></td><td>ヘルプメッセージを表示して終了</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_config_editor_host">--host</a></td><td>ログインファイルを書き出すホスト</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_config_editor_login-path">--login-path</a></td><td>ログインパス名</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_config_editor_password">--password</a></td><td>ログインファイルに書き出すパスワードを要求</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_config_editor_port">--port</a></td><td>ログインファイルに書き出す TCP/IP ポート番号</td><td>5.6.11</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_config_editor_socket">--socket</a></td><td>ログインファイルに書き出す Unix ソケットファイル名</td><td>5.6.11</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_config_editor_user">--user</a></td><td>ログインファイルを書き出すユーザー名</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_config_editor_verbose">--verbose</a></td><td>冗長モード</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_config_editor_version">--version</a></td><td>バージョン情報を表示して終了</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysql_config_editor_warn">--warn</a></td><td>ログインパスの上書きについて警告し、確認を要求</td><td> </td></tr></tbody></table></div></div><br class="table-break"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysql_config_editor_help"></a>
            <a class="indexterm" name="idm139979149797760"></a> <a class="indexterm" name="idm139979149795584"></a> <code class="option">--help</code>, <code class="option">-?</code>
          </p><p>
            ヘルプメッセージを表示して終了します。<code class="literal">set</code> または <code class="literal">remove</code> などのコマンド名が前にある場合は、そのコマンドに関する情報を表示します。
          </p></li><li class="listitem"><p><a name="option_mysql_config_editor_all"></a>
            <a class="indexterm" name="idm139979149789216"></a> <a class="indexterm" name="idm139979149787056"></a> <code class="option">--all</code>
          </p><p>
            <code class="literal">print</code> コマンドに対して、ログインファイル内のすべてのログインパスを出力します。
          </p></li><li class="listitem"><p><a name="option_mysql_config_editor_debug"></a>
            <a class="indexterm" name="idm139979149781936"></a> <a class="indexterm" name="idm139979149779760"></a> <code class="option">--debug[=<em class="replaceable"><code>debug_options</code></em>]</code>, <code class="option">-# <em class="replaceable"><code>debug_options</code></em></code>
          </p><p>
            デバッグのログを書き込みます。一般的な <em class="replaceable"><code>debug_options</code></em> 文字列は <code class="literal">d:t:o,<em class="replaceable"><code>file_name</code></em></code> です。デフォルトは <code class="literal">d:t:o</code> です。
          </p></li><li class="listitem"><p><a name="option_mysql_config_editor_host"></a>
            <a class="indexterm" name="idm139979149772048"></a> <a class="indexterm" name="idm139979149769872"></a> <code class="option">--host=<em class="replaceable"><code>host_name</code></em></code>, <code class="option">-h <em class="replaceable"><code>host_name</code></em></code>
          </p><p>
            <code class="literal">set</code> コマンドに対しては、ログインパスに書き出すホスト名。<code class="literal">remove</code> コマンドに対しては、ログインパスからホスト名を削除します。
          </p></li><li class="listitem"><p><a name="option_mysql_config_editor_login-path"></a>
            <a class="indexterm" name="idm139979149762992"></a> <a class="indexterm" name="idm139979149760848"></a> <code class="option">--login-path=<em class="replaceable"><code>name</code></em></code>, <code class="option">-G <em class="replaceable"><code>name</code></em></code>
          </p><p>
            <code class="literal">print</code>、<code class="literal">remove</code>、および <code class="literal">set</code> コマンドに対して、<code class="filename">.mylogin.cnf</code> ログインファイル内で使用するログインパス。
          </p><p>
            ユーザーが MySQL サーバーへの接続に使用するログインパスを指定できるように、クライアントプログラムも <code class="option">--login-path</code> オプションをサポートします。クライアントプログラムでは、<code class="option">--login-path</code> は指定する最初のオプションでなければなりません。これは <span class="command"><strong>mysql_config_editor</strong></span> には該当しません。<a class="xref" href="programs.html#option-file-options" title="4.2.7 オプションファイルの処理に影響するコマンド行オプション">セクション4.2.7「オプションファイルの処理に影響するコマンド行オプション」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysql_config_editor_password"></a>
            <a class="indexterm" name="idm139979149749136"></a> <a class="indexterm" name="idm139979149746992"></a> <code class="option">--password</code>, <code class="option">-p</code>
          </p><p>
            <code class="literal">set</code> コマンドに対して、<span class="command"><strong>mysql_config_editor</strong></span> がパスワードを要求し、ユーザーが入力した値をログインパスに書き出すようになります。<span class="command"><strong>mysql_config_editor</strong></span> が起動してプロンプトを表示したあと、ユーザーはパスワードを入力して Enter を押すようにしてください。ほかのユーザーがパスワードを見るのを防ぐため、<span class="command"><strong>mysql_config_editor</strong></span> はエコーしません。
          </p><p>
            このオプションでは、オプション名のあとにパスワード値を指定することはできません。つまり <span class="command"><strong>mysql_config_editor</strong></span> では、ほかのユーザーに見られる可能性のあるコマンド行にパスワードを入力することは決してありません。これは、ほかのほとんどの MySQL プログラムとは異なります。ほかのプログラムでは <code class="option">--password=<em class="replaceable"><code>pass_val</code></em></code> または <code class="option">-p<em class="replaceable"><code>pass_val</code></em></code> としてコマンド行でパスワードを指定できます。(ただし、この方法はセキュアではなく、避けるべきです。)
          </p><p>
            <code class="literal">remove</code> コマンドに対しては、ログインパスからパスワードを削除します。
          </p></li><li class="listitem"><p><a name="option_mysql_config_editor_port"></a>
            <a class="indexterm" name="idm139979149733840"></a> <a class="indexterm" name="idm139979149731664"></a> <code class="option">--port=<em class="replaceable"><code>port_num</code></em></code>, <code class="option">-P <em class="replaceable"><code>port_num</code></em></code>
          </p><p>
            <code class="literal">set</code> コマンドに対しては、ログインパスに書き出す TCP/IP ポート番号。<code class="literal">remove</code> コマンドに対しては、ログインパスからポート番号を削除します。
          </p></li><li class="listitem"><p><a name="option_mysql_config_editor_socket"></a>
            <a class="indexterm" name="idm139979149724752"></a> <a class="indexterm" name="idm139979149722576"></a> <code class="option">--socket=<em class="replaceable"><code>file_name</code></em></code>, <code class="option">-S <em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            <code class="literal">set</code> コマンドに対しては、ログインパスに書き出す Unix ソケットファイル名。<code class="literal">remove</code> コマンドに対しては、ログインパスからソケットファイルを削除します。
          </p></li><li class="listitem"><p><a name="option_mysql_config_editor_user"></a>
            <a class="indexterm" name="idm139979149715552"></a> <a class="indexterm" name="idm139979149713376"></a> <code class="option">--user=<em class="replaceable"><code>user_name</code></em></code>, <code class="option">-u <em class="replaceable"><code>user_name</code></em></code>
          </p><p>
            <code class="literal">set</code> コマンドに対しては、ログインパスに書き出すユーザー名。<code class="literal">remove</code> コマンドに対しては、ログインパスからユーザー名を削除します。
          </p></li><li class="listitem"><p><a name="option_mysql_config_editor_verbose"></a>
            <a class="indexterm" name="idm139979149706480"></a> <a class="indexterm" name="idm139979149704304"></a> <code class="option">--verbose</code>, <code class="option">-v</code>
          </p><p>
            冗長モード。プログラムの動作についてより多くの情報を出力します。
          </p></li><li class="listitem"><p><a name="option_mysql_config_editor_version"></a>
            <a class="indexterm" name="idm139979149699472"></a> <a class="indexterm" name="idm139979149697296"></a> <code class="option">--version</code>, <code class="option">-V</code>
          </p><p>
            バージョン情報を表示して終了します。
          </p></li><li class="listitem"><p><a name="option_mysql_config_editor_warn"></a>
            <a class="indexterm" name="idm139979149692544"></a> <a class="indexterm" name="idm139979149690368"></a> <code class="option">--warn</code>, <code class="option">-w</code>
          </p><p>
            <code class="literal">set</code> コマンドに対して、コマンドが既存のログインパスを上書きしようとする場合に、ユーザーに警告して確認を求めます。このオプションはデフォルトで有効です。無効にするには、<code class="option">--skip-warn</code> を使用します。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysqlaccess"></a>4.6.7 <span class="command"><strong>mysqlaccess</strong></span> — アクセス権限をチェックするクライアント</h3></div></div></div><a class="indexterm" name="idm139979149682592"></a><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          このユーティリティーは MySQL 5.6.17 で非推奨で、MySQL 5.7 で削除されます。
        </p></div><p>
        <span class="command"><strong>mysqlaccess</strong></span> は MySQL 配布のために Yves Carlier が提供した診断ツールです。ホスト名、ユーザー名、およびデータベースの組み合わせに対してアクセス権限をチェックします。<span class="command"><strong>mysqlaccess</strong></span> は <code class="literal">user</code> テーブルおよび <code class="literal">db</code> テーブルのみを使用してアクセスをチェックすることに注意してください。<code class="literal">tables_priv</code>、<code class="literal">columns_priv</code>、および <code class="literal">procs_priv</code> の各テーブルで指定されるテーブル、カラム、そしてルーチンの権限はチェックしません。
      </p><p>
        <span class="command"><strong>mysqlaccess</strong></span> は次のように起動します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqlaccess [<em class="replaceable"><code>host_name</code></em> [<em class="replaceable"><code>user_name</code></em> [<em class="replaceable"><code>db_name</code></em>]]] [<em class="replaceable"><code>options</code></em>]</code></strong>
</pre><p>
        <span class="command"><strong>mysqlaccess</strong></span> は次のオプションをサポートします。
      </p><div class="table"><a name="idm139979149668496"></a><p class="title"><b>表 4.14 <code class="literal">mysqlaccess</code> のオプション</b></p><div class="table-contents"><table summary="mysqlaccess のオプション" border="1"><colgroup><col class="format"><col class="description"></colgroup><thead><tr><th scope="col">形式</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><a class="link" href="programs.html#option_mysqlaccess_brief">--brief</a></td><td>1 行の表形式でレポートを生成</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlaccess_commit">--commit</a></td><td>一時テーブルから元の付与テーブルへ新しいアクセス権限をコピー</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlaccess_copy">--copy</a></td><td>元の付与テーブルから一時付与テーブルをリロード</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlaccess_db">--db</a></td><td>データベース名を指定</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlaccess_debug">--debug</a></td><td>デバッグレベルを指定</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlaccess_help">--help</a></td><td>ヘルプメッセージを表示して終了</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlaccess_host">--host</a></td><td>指定されたホスト上で MySQL サーバーに接続</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlaccess_howto">--howto</a></td><td>mysqlaccess の使用方法を示す例を表示</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlaccess_old_server">--old_server</a></td><td>サーバーが古い MySQL サーバーであるとみなす (MySQL 3.21 より前)</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlaccess_password">--password</a></td><td>サーバーに接続する際に使用するパスワード</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlaccess_plan">--plan</a></td><td>将来のリリースのためのアイデアや提案を表示</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlaccess_preview">--preview</a></td><td>一時付与テーブルに変更を加えたあと、権限の差異を表示</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlaccess_relnotes">--relnotes</a></td><td>リリースノートを表示</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlaccess_rhost">--rhost</a></td><td>指定されたホスト上で MySQL サーバーに接続</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlaccess_rollback">--rollback</a></td><td>一時付与テーブルへの直近の変更を取り消し。</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlaccess_spassword">--spassword</a></td><td>スーパーユーザーとしてサーバーに接続する際に使用するパスワード</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlaccess_superuser">--superuser</a></td><td>スーパーユーザーとして接続するためのユーザー名を指定</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlaccess_table">--table</a></td><td>表形式でレポートを生成</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlaccess_user">--user</a></td><td>サーバーへの接続時に使用する MySQL ユーザー名</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlaccess_version">--version</a></td><td>バージョン情報を表示して終了</td></tr></tbody></table></div></div><br class="table-break"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysqlaccess_help"></a>
            <a class="indexterm" name="idm139979149628496"></a> <a class="indexterm" name="idm139979149626352"></a> <code class="option">--help</code>, <code class="option">-?</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_mysqlaccess_brief"></a>
            <a class="indexterm" name="idm139979149621600"></a> <a class="indexterm" name="idm139979149619424"></a> <code class="option">--brief</code>, <code class="option">-b</code>
          </p><p>
            1 行の表形式でレポートを生成します。
          </p></li><li class="listitem"><p><a name="option_mysqlaccess_commit"></a>
            <a class="indexterm" name="idm139979149614672"></a> <a class="indexterm" name="idm139979149612496"></a> <code class="option">--commit</code>
          </p><p>
            一時テーブルから元の付与テーブルへ新しいアクセス権限をコピーします。新しい権限が有効になるには、付与テーブルをフラッシュする必要があります。(たとえば、<span class="command"><strong>mysqladmin reload</strong></span> コマンドを実行します。)
          </p></li><li class="listitem"><p><a name="option_mysqlaccess_copy"></a>
            <a class="indexterm" name="idm139979149607008"></a> <a class="indexterm" name="idm139979149604864"></a> <code class="option">--copy</code>
          </p><p>
            元の付与テーブルから一時付与テーブルをリロードします。
          </p></li><li class="listitem"><p><a name="option_mysqlaccess_db"></a>
            <a class="indexterm" name="idm139979149600384"></a> <a class="indexterm" name="idm139979149598256"></a> <code class="option">--db=<em class="replaceable"><code>db_name</code></em></code>, <code class="option">-d <em class="replaceable"><code>db_name</code></em></code>
          </p><p>
            データベース名を指定します。
          </p></li><li class="listitem"><p><a name="option_mysqlaccess_debug"></a>
            <a class="indexterm" name="idm139979149592976"></a> <a class="indexterm" name="idm139979149590800"></a> <code class="option">--debug=<em class="replaceable"><code>N</code></em></code>
          </p><p>
            デバッグレベルを指定します。<em class="replaceable"><code>N</code></em> は 0 から 3 までの整数です。
          </p></li><li class="listitem"><p><a name="option_mysqlaccess_host"></a>
            <a class="indexterm" name="idm139979149585664"></a> <a class="indexterm" name="idm139979149583520"></a> <code class="option">--host=<em class="replaceable"><code>host_name</code></em></code>, <code class="option">-h <em class="replaceable"><code>host_name</code></em></code>
          </p><p>
            アクセス権限で使用するホスト名。
          </p></li><li class="listitem"><p><a name="option_mysqlaccess_howto"></a>
            <a class="indexterm" name="idm139979149578144"></a> <a class="indexterm" name="idm139979149575968"></a> <code class="option">--howto</code>
          </p><p>
            <span class="command"><strong>mysqlaccess</strong></span> の使用方法を示す例を表示します。
          </p></li><li class="listitem"><p><a name="option_mysqlaccess_old_server"></a>
            <a class="indexterm" name="idm139979149570880"></a> <a class="indexterm" name="idm139979149568736"></a> <code class="option">--old_server</code>
          </p><p>
            サーバーが、完全な <code class="literal">WHERE</code> 句の処理方法を理解していない古い (MySQL 3.21 より前の) MySQL サーバーであるとみなします。
          </p></li><li class="listitem"><p><a name="option_mysqlaccess_password"></a>
            <a class="indexterm" name="idm139979149563408"></a> <a class="indexterm" name="idm139979149561232"></a> <code class="option">--password[=<em class="replaceable"><code>password</code></em>]</code>, <code class="option">-p[<em class="replaceable"><code>password</code></em>]</code>
          </p><p>
            サーバーに接続する際に使用するパスワードです。コマンド行で、<code class="option">--password</code> オプションまたは <code class="option">-p</code> オプションに続けて <em class="replaceable"><code>password</code></em> の値を指定しなかった場合、<span class="command"><strong>mysqlaccess</strong></span> はそれを要求します。
          </p><p>
            コマンド行でパスワードを指定することはセキュアでないとみなすべきです。<a class="xref" href="security.html#password-security-user" title="6.1.2.1 パスワードセキュリティーのためのエンドユーザーガイドライン">セクション6.1.2.1「パスワードセキュリティーのためのエンドユーザーガイドライン」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqlaccess_plan"></a>
            <a class="indexterm" name="idm139979149551776"></a> <a class="indexterm" name="idm139979149549632"></a> <code class="option">--plan</code>
          </p><p>
            将来のリリースのためのアイデアや提案を表示します。
          </p></li><li class="listitem"><p><a name="option_mysqlaccess_preview"></a>
            <a class="indexterm" name="idm139979149545184"></a> <a class="indexterm" name="idm139979149543008"></a> <code class="option">--preview</code>
          </p><p>
            一時付与テーブルに変更を加えたあと、権限の差異を表示します。
          </p></li><li class="listitem"><p><a name="option_mysqlaccess_relnotes"></a>
            <a class="indexterm" name="idm139979149538512"></a> <a class="indexterm" name="idm139979149536336"></a> <code class="option">--relnotes</code>
          </p><p>
            リリースノートを表示します。
          </p></li><li class="listitem"><p><a name="option_mysqlaccess_rhost"></a>
            <a class="indexterm" name="idm139979149531936"></a> <a class="indexterm" name="idm139979149529760"></a> <code class="option">--rhost=<em class="replaceable"><code>host_name</code></em></code>, <code class="option">-H <em class="replaceable"><code>host_name</code></em></code>
          </p><p>
            指定されたホストの MySQL サーバーに接続します。
          </p></li><li class="listitem"><p><a name="option_mysqlaccess_rollback"></a>
            <a class="indexterm" name="idm139979149524352"></a> <a class="indexterm" name="idm139979149522176"></a> <code class="option">--rollback</code>
          </p><p>
            一時付与テーブルへの直近の変更を取り消し。
          </p></li><li class="listitem"><p><a name="option_mysqlaccess_spassword"></a>
            <a class="indexterm" name="idm139979149517792"></a> <a class="indexterm" name="idm139979149515648"></a> <code class="option">--spassword[=<em class="replaceable"><code>password</code></em>]</code>, <code class="option">-P[<em class="replaceable"><code>password</code></em>]</code>
          </p><p>
            スーパーユーザーとしてサーバーに接続する際に使用するパスワード。コマンド行で、<code class="option">--spassword</code> オプションまたは <code class="option">-p</code> オプションに続けて <em class="replaceable"><code>password</code></em> の値を指定しなかった場合、<span class="command"><strong>mysqlaccess</strong></span> はそれを要求します。
          </p><p>
            コマンド行でパスワードを指定することはセキュアでないとみなすべきです。<a class="xref" href="security.html#password-security-user" title="6.1.2.1 パスワードセキュリティーのためのエンドユーザーガイドライン">セクション6.1.2.1「パスワードセキュリティーのためのエンドユーザーガイドライン」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqlaccess_superuser"></a>
            <a class="indexterm" name="idm139979149505968"></a> <a class="indexterm" name="idm139979149503856"></a> <code class="option">--superuser=<em class="replaceable"><code>user_name</code></em></code>, <code class="option">-U <em class="replaceable"><code>user_name</code></em></code>
          </p><p>
            スーパーユーザーとして接続するためのユーザー名を指定します。
          </p></li><li class="listitem"><p><a name="option_mysqlaccess_table"></a>
            <a class="indexterm" name="idm139979149498352"></a> <a class="indexterm" name="idm139979149496176"></a> <code class="option">--table</code>, <code class="option">-t</code>
          </p><p>
            表形式でレポートを生成します。
          </p></li><li class="listitem"><p><a name="option_mysqlaccess_user"></a>
            <a class="indexterm" name="idm139979149491376"></a> <a class="indexterm" name="idm139979149489232"></a> <code class="option">--user=<em class="replaceable"><code>user_name</code></em></code>, <code class="option">-u <em class="replaceable"><code>user_name</code></em></code>
          </p><p>
            アクセス権限で使用するユーザー名。
          </p></li><li class="listitem"><p><a name="option_mysqlaccess_version"></a>
            <a class="indexterm" name="idm139979149483856"></a> <a class="indexterm" name="idm139979149481680"></a> <code class="option">--version</code>, <code class="option">-v</code>
          </p><p>
            バージョン情報を表示して終了します。
          </p></li></ul></div><p>
        MySQL 配布が標準以外の場所にインストールされている場合は、<span class="command"><strong>mysqlaccess</strong></span> が <span class="command"><strong>mysql</strong></span> クライアントを検出することを想定する場所を変更する必要があります。<code class="filename">mysqlaccess</code> スクリプトの約 18 行目を編集します。次のような行を検索します。
      </p><pre class="programlisting">
$MYSQL     = '/usr/local/bin/mysql';    # path to mysql executable
</pre><p>
        ユーザーのシステムで <span class="command"><strong>mysql</strong></span> が実際に保存されている場所を反映するように、パスを変更します。これを実行しないと、<span class="command"><strong>mysqlaccess</strong></span> を起動したときに <code class="literal">Broken pipe</code> エラーが発生します。
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysqlbinlog"></a>4.6.8 <span class="command"><strong>mysqlbinlog</strong></span> — バイナリログファイルを処理するためのユーティリティー</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="programs.html#mysqlbinlog-hexdump">4.6.8.1 mysqlbinlog 16 進ダンプ形式</a></span></dt><dt><span class="section"><a href="programs.html#mysqlbinlog-row-events">4.6.8.2 mysqlbinlog 行イベントの表示</a></span></dt><dt><span class="section"><a href="programs.html#mysqlbinlog-backup">4.6.8.3 バイナリログファイルのバックアップのための mysqlbinlog の使用</a></span></dt><dt><span class="section"><a href="programs.html#mysqlbinlog-server-id">4.6.8.4 mysqlbinlog サーバー ID の指定</a></span></dt></dl></div><a class="indexterm" name="idm139979149469136"></a><p>
        サーバーのバイナリログは、データベースの内容に対する変更を記述する<span class="quote">「<span class="quote">イベント</span>」</span>を含むファイルで構成されます。サーバーはこれらのファイルをバイナリ形式で書き出します。内容をテキスト形式で表示するには、<span class="command"><strong>mysqlbinlog</strong></span> ユーティリティーを使用します。レプリケーションセットアップで、<span class="command"><strong>mysqlbinlog</strong></span> を使用して、スレーブサーバーが書き出したリレーログファイルの内容を表示することもできます。リレーログはバイナリログと同じ形式を持つからです。バイナリログおよびリレーログは、<a class="xref" href="server-administration.html#binary-log" title="5.2.4 バイナリログ">セクション5.2.4「バイナリログ」</a>および<a class="xref" href="replication.html#slave-logs" title="17.2.2 レプリケーションリレーおよびステータスログ">セクション17.2.2「レプリケーションリレーおよびステータスログ」</a>でさらに説明します。
      </p><p>
        <span class="command"><strong>mysqlbinlog</strong></span> は次のように起動します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqlbinlog [<em class="replaceable"><code>options</code></em>] <em class="replaceable"><code>log_file</code></em> ...</code></strong>
</pre><p>
        たとえば <code class="filename">binlog.000003</code> という名前のバイナリログファイルの内容を表示するには、このコマンドを使用してください。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqlbinlog binlog.0000003</code></strong>
</pre><p>
        出力には、<code class="filename">binlog.000003</code> に含まれるイベントが含まれます。ステートメントベースのロギングでは、イベント情報には SQL ステートメント、それが実行されたサーバーの ID、ステートメントが実行されたタイムスタンプ、かかった時間などが含まれます。行ベースのロギングでは、イベントは SQL ステートメントではなく行の変更を示します。ロギングモードの詳細は<a class="xref" href="replication.html#replication-formats" title="17.1.2 レプリケーション形式">セクション17.1.2「レプリケーション形式」</a>を参照してください。
      </p><p>
        イベントには、その前に追加情報を提供するヘッダーコメントがあります。例:
      </p><pre class="programlisting">
# at 141
#100309  9:28:36 server id 123  end_log_pos 245
  Query thread_id=3350  exec_time=11  error_code=0
</pre><p>
        最初の行で、<code class="literal">at</code> に続く数字はバイナリログファイル内でのイベントのファイルオフセット、つまり開始位置を示します。
      </p><p>
        2 行目は、イベントが発生したサーバー上でステートメントがいつ開始されたかを示す日付と時間で始まります。レプリケーションに関しては、このタイムスタンプがスレーブサーバーに伝播されます。<code class="literal">server id</code> はイベントが発生したサーバーの <code class="literal">server_id</code> 値です。<code class="literal">end_log_pos</code> は次のイベントが始まる場所 (すなわび、現在のイベントの終了位置 + 1) を示します。<code class="literal">thread_id</code> はイベントを実行したスレッドを示します。<code class="literal">exec_time</code> は、マスターサーバーではイベントの実行にかかった時間です。スレーブでは、これはスレーブでの実行終了時間からマスターでの実行開始時間を引いた差分です。この差は、レプリケーションがマスターからどの程度遅れているかを示します。<code class="literal">error_code</code> はイベントの実行結果を示します。ゼロはエラーが発生しなかったことを意味します。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          イベントグループを使用する場合は、イベントのファイルオフセットのグループ化およびイベントのコメントのグループ化ができます。これらのグループ化イベントをブランクファイルオフセットと間違えないでください。
        </p></div><p>
        <span class="command"><strong>mysqlbinlog</strong></span> からの出力は、(たとえばそれを <span class="command"><strong>mysql</strong></span> への入力として使用することによって) 再実行し、ログ内のステートメントをやり直せます。これはサーバーがクラッシュした際のリカバリ操作として便利です。ほかの使用例は、このセクションのあとの方の説明および<a class="xref" href="backup-and-recovery.html#point-in-time-recovery" title="7.5 バイナリログを使用したポイントインタイム (増分) リカバリ">セクション7.5「バイナリログを使用したポイントインタイム (増分) リカバリ」</a>を参照してください。
      </p><p>
        通常、<span class="command"><strong>mysqlbinlog</strong></span> を使用してバイナリログファイルを直接読み取り、ローカル MySQL サーバーに適用します。<code class="option">--read-from-remote-server</code> オプションを使用してリモートサーバーからバイナリログを読み取ることも可能です。リモートバイナリログを読み取るために、接続パラメータオプションを指定してサーバーへの接続方法を示すことができます。これらのオプションは、<code class="option">--host</code>、<code class="option">--password</code>、<code class="option">--port</code>、<code class="option">--protocol</code>, <code class="option">--socket</code>、および <code class="option">--user</code> です。<code class="option">--read-from-remote-server</code> オプションも使用した場合以外は無視されます。
      </p><p>
        <span class="command"><strong>mysqlbinlog</strong></span> を大規模なバイナリログに対して実行する場合は、結果のファイルのためにファイルシステムに十分なスペースがあるように注意してください。<span class="command"><strong>mysqlbinlog</strong></span> が一時ファイル用に使用するディレクトリを構成するには、<code class="literal">TMPDIR</code> 環境変数を使用します。
      </p><p>
        <span class="command"><strong>mysqlbinlog</strong></span> は次のオプションをサポートします。これらはコマンド行またはオプションファイルの <code class="literal">[mysqlbinlog]</code> グループおよび <code class="literal">[client]</code> グループで指定できます。MySQL プログラムによって使用されるオプションファイルの詳細については、<a class="xref" href="programs.html#option-files" title="4.2.6 オプションファイルの使用">セクション4.2.6「オプションファイルの使用」</a>を参照してください。
      </p><div class="table"><a name="idm139979149425088"></a><p class="title"><b>表 4.15 <code class="literal">mysqlbinlog</code> のオプション</b></p><div class="table-contents"><table summary="mysqlbinlog のオプション" border="1"><colgroup><col class="format"><col class="description"><col class="introduced"></colgroup><thead><tr><th scope="col">形式</th><th scope="col">説明</th><th scope="col">導入</th></tr></thead><tbody><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_base64-output">--base64-output</a></td><td>バイナリログのエントリを base-64 エンコードで出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_bind-address">--bind-address</a></td><td>指定されたネットワークインタフェースを使用して MySQL サーバーに接続</td><td>5.6.1</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_binlog-row-event-max-size">--binlog-row-event-max-size</a></td><td>バイナリログの最大イベントサイズ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_character-sets-dir">--character-sets-dir</a></td><td>文字セットがインストールされているディレクトリ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_connection-server-id">--connection-server-id</a></td><td>テストとデバッグに使用。適用されるデフォルト値およびその他の事項については、テキストを参照してください。</td><td>5.6.20</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_database">--database</a></td><td>このデータベースのみのエントリをリスト</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_debug">--debug</a></td><td>デバッグのログを書き込み</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_debug-check">--debug-check</a></td><td>プログラムの終了時にデバッグ情報を出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_debug-info">--debug-info</a></td><td>プログラムの終了時に、デバッグ情報、メモリー、および CPU の統計を出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_default-auth">--default-auth</a></td><td>使用する認証プラグイン</td><td>5.6.2</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_defaults-extra-file">--defaults-extra-file</a></td><td>通常のオプションファイルに加えてオプションファイルを読み取る</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_defaults-file">--defaults-file</a></td><td>指名されたオプションファイルのみを読み取る</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_defaults-group-suffix">--defaults-group-suffix</a></td><td>オプショングループのサフィクス値</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_disable-log-bin">--disable-log-bin</a></td><td>バイナリロギングを無効化</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_exclude-gtids">--exclude-gtids</a></td><td>提供された GTID セットのグループを表示しない</td><td>5.6.5</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_force-if-open">--force-if-open</a></td><td>バイナリログファイルが開いているか適切にクローズしていない場合でも読み取る</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_force-read">--force-read</a></td><td>mysqlbinlog が認識しないバイナリログイベントを読み取った場合、警告を出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_help">--help</a></td><td>ヘルプメッセージを表示して終了</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_hexdump">--hexdump</a></td><td>コメント内にログの 16 進ダンプを表示</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_host">--host</a></td><td>指定されたホスト上で MySQL サーバーに接続</td><td> </td></tr><tr><td scope="row">--idempotent</td><td>サーバーが、このセッションからのバイナリログの更新を処理する間のみ、べき乗モードを使用</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_include-gtids">--include-gtids</a></td><td>提供された GTID セットのグループのみを表示</td><td>5.6.5</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_local-load">--local-load</a></td><td>指定されたディレクトリ内に LOAD DATA INFILE のローカル一時ファイルを準備</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_login-path">--login-path</a></td><td>ログインパスオプションを .mylogin.cnf から読み取り</td><td>5.6.6</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_no-defaults">--no-defaults</a></td><td>オプションファイルを読み取らない</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_offset">--offset</a></td><td>ログの最初の N エントリをスキップ</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_password">--password</a></td><td>サーバーに接続する際に使用するパスワード</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_plugin-dir">--plugin-dir</a></td><td>プラグインがインストールされているディレクトリ</td><td>5.6.2</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_port">--port</a></td><td>接続に使用する TCP/IP ポート番号</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_print-defaults">--print-defaults</a></td><td>デフォルトを出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_protocol">--protocol</a></td><td>使用する接続プロトコル</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_raw">--raw</a></td><td>イベントを生の (バイナリ) 形式で出力ファイルに書き込み</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_read-from-remote-master">--read-from-remote-master</a></td><td>バイナリログをローカルログファイルからではなく MySQL マスターから読み取り</td><td>5.6.5</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_read-from-remote-server">--read-from-remote-server</a></td><td>バイナリログをローカルログファイルからではなく MySQL サーバーから読み取り</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_result-file">--result-file</a></td><td>指定されたファイルに出力を送信</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_secure-auth">--secure-auth</a></td><td>古い (4.1.1 より前の) 形式でサーバーにパスワードを送信しない</td><td>5.6.17</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_server-id">--server-id</a></td><td>指定されたサーバー ID を持つサーバーによって作成されたイベントのみを抽出</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_server-id-bits">--server-id-bits</a></td><td>サーバー ID ビットが最大値未満に設定されている mysqld によってログが書き込まれた場合に、バイナリログのサーバー ID を解釈する方法を、mysqlbinlog に対して指定。MySQL Cluster バージョンの mysqlbinlog でのみサポート</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_set-charset">--set-charset</a></td><td>SET NAMES charset_name ステートメントを出力に追加</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_shared-memory-base-name">--shared-memory-base-name</a></td><td>共有メモリー接続に使用する共有メモリーの名前</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_short-form">--short-form</a></td><td>ログに含まれるステートメントのみを表示</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_skip-gtids">--skip-gtids</a></td><td>GTID を出力しない。これは、GTID を含むバイナリログからのダンプファイルを書き込む場合に使用します。</td><td>5.6.5</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_socket">--socket</a></td><td>ローカルホストへの接続で、使用する Unix ソケットファイル</td><td> </td></tr><tr><td scope="row">--ssl-crl</td><td>証明書失効リストを含むファイルのパス</td><td>5.6.3</td></tr><tr><td scope="row">--ssl-crlpath</td><td>証明書失効リストファイルを含むディレクトリのパス</td><td>5.6.3</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_start-datetime">--start-datetime</a></td><td>タイムスタンプが datetime 引数と同じかそれよりあとの最初のイベントからバイナリログを読み取り</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_start-position">--start-position</a></td><td>位置が引数と同じかそれより大きい最初のイベントからバイナリログを読み取り</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_stop-datetime">--stop-datetime</a></td><td>タイムスタンプが datetime 引数と同じかそれより大きい最初のイベントでバイナリログの読み取りを停止</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_stop-never">--stop-never</a></td><td>最後のバイナリログファイルの読み取り後、サーバーとの接続を維持</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_stop-never-slave-server-id">--stop-never-slave-server-id</a></td><td>サーバーへの接続時にレポートするスレーブサーバー ID</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_stop-position">--stop-position</a></td><td>位置が引数と同じかそれより大きい最初のイベントでバイナリログの読み取りを停止</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_to-last-log">--to-last-log</a></td><td>MySQL サーバーから要求されたバイナリログの最後で停止せず、最後のバイナリログまで続けて出力</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_user">--user</a></td><td>サーバーへの接続時に使用する MySQL ユーザー名</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_verbose">--verbose</a></td><td>行イベントを SQL ステートメントとして再構築</td><td> </td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_verify-binlog-checksum">--verify-binlog-checksum</a></td><td>バイナリログのチェックサムを検証</td><td>5.6.1</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlbinlog_version">--version</a></td><td>バージョン情報を表示して終了</td><td> </td></tr></tbody></table></div></div><br class="table-break"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysqlbinlog_help"></a>
            <a class="indexterm" name="idm139979149307488"></a> <a class="indexterm" name="idm139979149305344"></a> <code class="option">--help</code>, <code class="option">-?</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_base64-output"></a>
            <a class="indexterm" name="idm139979149300528"></a> <a class="indexterm" name="idm139979149298368"></a> <code class="option">--base64-output=<em class="replaceable"><code>value</code></em></code>
          </p><p>
            このオプションは、イベントをいつ <code class="literal">BINLOG</code> ステートメントを使用して、base-64 文字列としてエンコードして表示するべきかを決定します。このオプションには次の可能な値があります (大文字小文字は区別されません)。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">AUTO</code> (「自動」) または <code class="literal">UNSPEC</code> (「未指定」) では、必要なときに (すなわち、形式記述イベントおよび行イベント) 自動的に <code class="literal">BINLOG</code> ステートメントを表示します。<code class="option">--base64-output</code> オプションが指定されない場合は、効果は <code class="option">--base64-output=AUTO</code> と同じです。
              </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
                  自動的な <code class="literal">BINLOG</code> 表示は、<span class="command"><strong>mysqlbinlog</strong></span> の出力を使用してバイナリログファイルの内容を再実行する場合には、唯一の安全な動作です。その他のオプション値はデバッグまたはテスト専用です。これらのオプションで生成される出力には、すべてのイベントが実行可能な形式で含まれるわけではないからです。
                </p></div></li><li class="listitem"><p>
                <code class="literal">NEVER</code> を使用すると <code class="literal">BINLOG</code> ステートメントは表示されなくなります。<span class="command"><strong>mysqlbinlog</strong></span> は、<code class="literal">BINLOG</code> を使用して表示しなければならない行イベントが検出された場合にはエラーで終了します。
              </p></li><li class="listitem"><p>
                <code class="literal">DECODE-ROWS</code> は、<code class="option">--verbose</code> オプションも指定することによって、行イベントをコメント付きの SQL ステートメントとしてデコードおよび表示することをユーザーが意図していることを、<span class="command"><strong>mysqlbinlog</strong></span> に指定します。<code class="literal">NEVER</code> と同様に、<code class="literal">DECODE-ROWS</code> は <code class="literal">BINLOG</code> ステートメントの表示を抑制しますが、<code class="literal">NEVER</code> とは異なり、行イベントが検出されてもエラーで終了しません。
              </p></li></ul></div><p>
            <code class="option">--base64-output</code> および <code class="option">--verbose</code> の行イベント出力への影響を示す例は、<a class="xref" href="programs.html#mysqlbinlog-row-events" title="4.6.8.2 mysqlbinlog 行イベントの表示">セクション4.6.8.2「mysqlbinlog 行イベントの表示」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_bind-address"></a>
            <a class="indexterm" name="idm139979149269328"></a> <a class="indexterm" name="idm139979149267200"></a> <code class="option">--bind-address=<em class="replaceable"><code>ip_address</code></em></code>
          </p><p>
            複数のネットワークインタフェースを持つコンピュータで、このオプションを使用して、MySQL サーバーへの接続に使用するインタフェースを選択します。
          </p><p>
            このオプションは MySQL 5.6.1 からサポートされています。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_binlog-row-event-max-size"></a>
            <a class="indexterm" name="idm139979149261504"></a> <a class="indexterm" name="idm139979149259328"></a> <code class="option">--binlog-row-event-max-size=<em class="replaceable"><code>N</code></em></code>
          </p><div class="informaltable"><table summary="Options for binlog-row-event-max-size" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>コマンド行形式</strong></span></td><td colspan="3"><code class="literal">--binlog-row-event-max-size=#</code></td></tr><tr><td scope="row" rowspan="4"><span class="bold"><strong>許可されている値</strong></span> (64 ビットプラットフォーム)</td><td><span class="bold"><strong>型</strong></span></td><td colspan="2"><code class="literal">数値</code></td></tr><tr><td scope="row"><span class="bold"><strong>デフォルト</strong></span></td><td colspan="2"><code class="literal">4294967040</code></td></tr><tr><td scope="row"><span class="bold"><strong>最小値</strong></span></td><td colspan="2"><code class="literal">256</code></td></tr><tr><td scope="row"><span class="bold"><strong>最大値</strong></span></td><td colspan="2"><code class="literal">18446744073709547520</code></td></tr></tbody></table></div><p>
            行ベースのバイナリログイベントの最大サイズをバイト単位で指定します。可能であれば、行はこのサイズより小さいイベントにグループ化されます。値は 256 の倍数であるべきです。デフォルトは 4G バイトです。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_character-sets-dir"></a>
            <a class="indexterm" name="idm139979149237648"></a> <a class="indexterm" name="idm139979149235488"></a> <code class="option">--character-sets-dir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            文字セットがインストールされているディレクトリ。<a class="xref" href="globalization.html#charset-configuration" title="10.5 文字セットの構成">セクション10.5「文字セットの構成」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_connection-server-id"></a>
            <a class="indexterm" name="idm139979149229936"></a> <a class="indexterm" name="idm139979149227792"></a> <code class="option">--connection-server-id=<em class="replaceable"><code>server_id</code></em></code>
          </p><p>
            このオプションは、MySQL サーバーが <code class="literal">BINLOG_DUMP_NON_BLOCK</code> 接続フラグをサポートするかどうかをテストするために使用されます。このフラグは何らかの都合で MySQL 5.6.5 で削除され、MySQL 5.6.20 でリストアされました (Bug #18000079、Bug #71178)。通常の操作では不要です。
          </p><p>
            このオプションの実質的なデフォルトと最小値は、<span class="command"><strong>mysqlbinlog</strong></span> がブロッキングモードで実行されているか非ブロッキングモードで実行されているかによって異なります。<span class="command"><strong>mysqlbinlog</strong></span> がブロッキングモードで実行されている場合は、デフォルト (および最小) 値は 1 です。非ブロッキングモードで実行されている場合は、デフォルト (および最小) 値は 0 です。
          </p><p>
            このオプションは MySQL 5.6.20 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_database"></a>
            <a class="indexterm" name="idm139979149218400"></a> <a class="indexterm" name="idm139979149216224"></a> <code class="option">--database=<em class="replaceable"><code>db_name</code></em></code>, <code class="option">-d <em class="replaceable"><code>db_name</code></em></code>
          </p><p>
            このオプションを使用すると、<span class="command"><strong>mysqlbinlog</strong></span> は、<code class="literal">USE</code> によって <em class="replaceable"><code>db_name</code></em> がデフォルトデータベースとして選択されている間に発生するバイナリログ (ローカルログのみ) からのエントリを出力するようになります。
          </p><p>
            <span class="command"><strong>mysqlbinlog</strong></span> の <code class="option">--database</code> オプションは、<span class="command"><strong>mysqld</strong></span> の <code class="option">--binlog-do-db</code> オプションと同様ですが、指定できるのは 1 つのデータベースのみです。<code class="option">--database</code> を複数回指定すると、最後のインスタンスのみが使用されます。
          </p><p>
            このオプションの影響は、ステートメントベースまたは行ベースのロギング形式のどちらが使用されているかによって異なります。これは、<code class="option">--binlog-do-db</code> の影響がステートメントベースまたは行ベースのいずれのロギングが使用されているかによって異なるのと同じです。
          </p><p><b>ステートメントベースのロギング </b>
              <code class="option">--database</code> オプションは次のように機能します。
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <em class="replaceable"><code>db_name</code></em> がデフォルトデータベースである間、ステートメントは <em class="replaceable"><code>db_name</code></em> または別のデータベースのテーブルを修正する場合でも出力されます。
              </p></li><li class="listitem"><p>
                <em class="replaceable"><code>db_name</code></em> がデフォルトデータベースとして選択されていない場合は、<em class="replaceable"><code>db_name</code></em> のテーブルを修正する場合でもステートメントは出力されません。
              </p></li><li class="listitem"><p>
                <code class="literal">CREATE DATABASE</code>、<code class="literal">ALTER DATABASE</code>、および <code class="literal">DROP DATABASE</code> は例外です。ステートメントを出力するかどうかを判断するときには、<span class="emphasis"><em>作成、変更、または削除された</em></span>データベースがデフォルトのデータベースであるとみなされます。
              </p></li></ul></div><p>
            これらのステートメントを実行することによって、ステートメントベースのロギングを使用してバイナリログが作成されたとします。
          </p><pre class="programlisting">
INSERT INTO test.t1 (i) VALUES(100);
INSERT INTO db2.t2 (j)  VALUES(200);
USE test;
INSERT INTO test.t1 (i) VALUES(101);
INSERT INTO t1 (i)      VALUES(102);
INSERT INTO db2.t2 (j)  VALUES(201);
USE db2;
INSERT INTO test.t1 (i) VALUES(103);
INSERT INTO db2.t2 (j)  VALUES(202);
INSERT INTO t2 (j)      VALUES(203);
</pre><p>
            デフォルトデータベースがないため、<span class="command"><strong>mysqlbinlog --database=test</strong></span> は最初の 2 つの <code class="literal">INSERT</code> ステートメントを出力しません。<code class="literal">USE test</code> に続く 3 つの <code class="literal">INSERT</code> ステートメントは出力しますが、<code class="literal">USE db2</code> に続く 3 つの <code class="literal">INSERT</code> ステートメントは出力しません。
          </p><p>
            デフォルトデータベースがないため、<span class="command"><strong>mysqlbinlog --database=db2</strong></span> は最初の 2 つの <code class="literal">INSERT</code> ステートメントを出力しません。<code class="literal">USE test</code> に続く 3 つの <code class="literal">INSERT</code> ステートメントは出力しませんが、<code class="literal">USE db2</code> に続く 3 つの <code class="literal">INSERT</code> ステートメントは出力します。
          </p><p><b>行ベースのロギング </b>
              <span class="command"><strong>mysqlbinlog</strong></span> は、<em class="replaceable"><code>db_name</code></em> に属するテーブルを変更するエントリのみを出力します。これにはデフォルトのデータベースには影響しません。今説明したバイナリログが、ステートメントベースのロギングではなく行ベースのロギングを使用して作成されたとします。<span class="command"><strong>mysqlbinlog --database=test</strong></span> は、<code class="literal">USE</code> が発行されたか、またはデフォルトのデータベースが何かにかかわらず、テストデータベースの <code class="literal">t1</code> を変更するエントリのみを出力します。
            </p><p>
            サーバーが、<code class="literal">binlog_format</code> が <code class="literal">MIXED</code> に設定された状態で稼働していて、<span class="command"><strong>mysqlbinlog</strong></span> を <code class="option">--database</code> オプションで使用できるようにする場合、変更されるテーブルが <code class="literal">USE</code> で選択されたデータベースであることを保証する必要があります。(特に、クロスデータベースの更新は使用しないようにしてください。)
          </p><p>
            MySQL 5.6.10 より前では、GTID が有効な MySQL サーバーによって書き出されたログでは、<code class="option">--database</code> オプションは正しく機能しませんでした。(Bug#15912728)
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_debug"></a>
            <a class="indexterm" name="idm139979149163168"></a> <a class="indexterm" name="idm139979149160992"></a> <code class="option">--debug[=<em class="replaceable"><code>debug_options</code></em>]</code>, <code class="option">-# [<em class="replaceable"><code>debug_options</code></em>]</code>
          </p><p>
            デバッグのログを書き込みます。一般的な <em class="replaceable"><code>debug_options</code></em> 文字列は <code class="literal">d:t:o,<em class="replaceable"><code>file_name</code></em></code> です。デフォルトは <code class="literal">d:t:o,/tmp/mysqlbinlog.trace</code> です。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_debug-check"></a>
            <a class="indexterm" name="idm139979149153040"></a> <a class="indexterm" name="idm139979149150880"></a> <code class="option">--debug-check</code>
          </p><p>
            プログラムの終了時に、デバッグ情報を出力します。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_debug-info"></a>
            <a class="indexterm" name="idm139979149146416"></a> <a class="indexterm" name="idm139979149144272"></a> <code class="option">--debug-info</code>
          </p><p>
            プログラムの終了時に、デバッグ情報とメモリーおよび CPU 使用率の統計を出力します。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_default-auth"></a>
            <a class="indexterm" name="idm139979149139712"></a> <a class="indexterm" name="idm139979149137552"></a> <code class="option">--default-auth=<em class="replaceable"><code>plugin</code></em></code>
          </p><p>
            使用するクライアント側の認証プラグイン。<a class="xref" href="security.html#pluggable-authentication" title="6.3.7 プラガブル認証">セクション6.3.7「プラガブル認証」</a>を参照してください。
          </p><p>
            このオプションは MySQL 5.6.2 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_defaults-extra-file"></a>
            <a class="indexterm" name="idm139979149131456"></a> <a class="indexterm" name="idm139979149129296"></a> <code class="option">--defaults-extra-file=<em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            このオプションファイルは、グローバルオプションファイルのあとに読み取りますが、(UNIX では) ユーザーオプションファイルの前に読み取るようにしてください。ファイルが存在しないかアクセスできない場合、エラーが発生します。<em class="replaceable"><code>file_name</code></em> は、フルパス名でなく相対パス名として指定された場合、現行ディレクトリを基準にして解釈されます。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_defaults-file"></a>
            <a class="indexterm" name="idm139979149123296"></a> <a class="indexterm" name="idm139979149121136"></a> <code class="option">--defaults-file=<em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            指定されたオプションファイルのみ使用します。ファイルが存在しないかアクセスできない場合、エラーが発生します。<em class="replaceable"><code>file_name</code></em> は、フルパス名でなく相対パス名として指定された場合、現行ディレクトリを基準にして解釈されます。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_defaults-group-suffix"></a>
            <a class="indexterm" name="idm139979149115424"></a> <a class="indexterm" name="idm139979149113248"></a> <code class="option">--defaults-group-suffix=<em class="replaceable"><code>str</code></em></code>
          </p><p>
            通常のオプショングループだけでなく、通常の名前に <em class="replaceable"><code>str</code></em> のサフィクスが付いたグループも読み取ります。たとえば、<span class="command"><strong>mysqlbinlog</strong></span> は通常 <code class="literal">[client]</code> グループおよび <code class="literal">[mysqlbinlog]</code> グループを読み取ります。<code class="option">--defaults-group-suffix=_other</code> オプションを指定した場合、<span class="command"><strong>mysqlbinlog</strong></span> は <code class="literal">[client_other]</code> グループおよび <code class="literal">[mysqlbinlog_other]</code> グループも読み取ります。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_disable-log-bin"></a>
            <a class="indexterm" name="idm139979149102592"></a> <a class="indexterm" name="idm139979149100432"></a> <code class="option">--disable-log-bin</code>, <code class="option">-D</code>
          </p><p>
            バイナリロギングを無効化します。これは、<code class="option">--to-last-log</code> オプションを使用して同じ MySQL サーバーに対して出力を送信している場合、無限ループを回避するのに便利です。このオプションは、クラッシュ後、すでにログに記録したステートメントの重複を回避するのにも便利です。
          </p><p>
            このオプションには <code class="literal">SUPER</code> 権限を保持していることが必要です。<span class="command"><strong>mysqlbinlog</strong></span> が、出力に <code class="literal">SET sql_log_bin = 0</code> ステートメントを含め、そのあとの出力のバイナリロギングを無効にするようになります。<code class="literal">SET</code> ステートメントは、<code class="literal">SUPER</code> 権限がない場合は効果がありません。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_exclude-gtids"></a>
            <a class="indexterm" name="idm139979149088656"></a> <a class="indexterm" name="idm139979149086496"></a> <code class="option">--exclude-gtids=<em class="replaceable"><code>gtid_set</code></em></code>
          </p><p>
            <em class="replaceable"><code>gtid_set</code></em> にリストされたグループを表示しません。MySQL 5.6.5 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_force-if-open"></a>
            <a class="indexterm" name="idm139979149081216"></a> <a class="indexterm" name="idm139979149079056"></a> <code class="option">--force-if-open</code>, <code class="option">-F</code>
          </p><p>
            バイナリログファイルが開いているか適切に閉じられていない場合でも読み取ります。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_force-read"></a>
            <a class="indexterm" name="idm139979149074032"></a> <a class="indexterm" name="idm139979149071888"></a> <code class="option">--force-read</code>, <code class="option">-f</code>
          </p><p>
            このオプションでは、<span class="command"><strong>mysqlbinlog</strong></span> が認識できないバイナリログイベントを読み取った場合に、警告を出力し、イベントを無視して続行します。このオプションを使用しない場合は、<span class="command"><strong>mysqlbinlog</strong></span> はそのようなイベントを読み取ると停止します。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_hexdump"></a>
            <a class="indexterm" name="idm139979149065184"></a> <a class="indexterm" name="idm139979149063008"></a> <code class="option">--hexdump</code>, <code class="option">-H</code>
          </p><p>
            <a class="xref" href="programs.html#mysqlbinlog-hexdump" title="4.6.8.1 mysqlbinlog 16 進ダンプ形式">セクション4.6.8.1「mysqlbinlog 16 進ダンプ形式」</a>に説明されているように、ログの 16 進ダンプをコメントに表示します。16 進出力はレプリケーションのデバッグに便利な場合があります。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_host"></a>
            <a class="indexterm" name="idm139979149057520"></a> <a class="indexterm" name="idm139979149055376"></a> <code class="option">--host=<em class="replaceable"><code>host_name</code></em></code>, <code class="option">-h <em class="replaceable"><code>host_name</code></em></code>
          </p><p>
            指定されたホストの MySQL サーバーからバイナリログを取得します。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_include-gtids"></a>
            <a class="indexterm" name="idm139979149049872"></a> <a class="indexterm" name="idm139979149047712"></a> <code class="option">--include-gtids=<em class="replaceable"><code>gtid_set</code></em></code>
          </p><p>
            <em class="replaceable"><code>gtid_set</code></em> にリストされたグループのみを表示します。MySQL 5.6.5 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_local-load"></a>
            <a class="indexterm" name="idm139979149042432"></a> <a class="indexterm" name="idm139979149040288"></a> <code class="option">--local-load=<em class="replaceable"><code>path</code></em></code>, <code class="option">-l <em class="replaceable"><code>path</code></em></code>
          </p><p>
            指定されたディレクトリに <code class="literal">LOAD DATA INFILE</code> 用のローカル一時ファイルを準備します。
          </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
              これらの一時ファイルは、<span class="command"><strong>mysqlbinlog</strong></span> およびその他のどの MySQL プログラムによっても自動的に削除されません。
            </p></div></li><li class="listitem"><p><a name="option_mysqlbinlog_login-path"></a>
            <a class="indexterm" name="idm139979149031648"></a> <a class="indexterm" name="idm139979149029504"></a> <code class="option">--login-path=<em class="replaceable"><code>name</code></em></code>
          </p><p>
            指名されたログインパスから <code class="filename">.mylogin.cnf</code> ログインファイルのオプションを読み取ります。<span class="quote">「<span class="quote">ログインパス</span>」</span>は、<code class="option">host</code>、<code class="option">user</code>、および <code class="option">password</code> という限定されたオプションのセットのみを許可するオプショングループです。ログインパスは、サーバーホストおよびそのサーバーで認証するための認証情報を示す値のセットであると考えてください。ログインパスファイルを作成するには、<span class="command"><strong>mysql_config_editor</strong></span> ユーティリティーを使用します。<a class="xref" href="programs.html#mysql-config-editor" title="4.6.6 mysql_config_editor — MySQL 構成ユーティリティー">セクション4.6.6「<span class="command"><strong>mysql_config_editor</strong></span> — MySQL 構成ユーティリティー」</a>を参照してください。このオプションは MySQL 5.6.6 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_no-defaults"></a>
            <a class="indexterm" name="idm139979149020016"></a> <a class="indexterm" name="idm139979149017904"></a> <code class="option">--no-defaults</code>
          </p><p>
            オプションファイルを読み取りません。オプションファイルから不明のオプションを読み取ることが原因でプログラムの起動に失敗する場合、<code class="option">--no-defaults</code> を使用して、オプションを読み取らないようにできます。
          </p><p>
            例外として、<code class="filename">.mylogin.cnf</code> ファイルは、存在する場合はすべての場合に読み取られます。これにより、<code class="option">--no-defaults</code> が使用された場合にも、コマンド行よりも安全な方法でパスワードを指定できます。(<code class="filename">.mylogin.cnf</code> は <span class="command"><strong>mysql_config_editor</strong></span> ユーティリティーによって作成されます。<a class="xref" href="programs.html#mysql-config-editor" title="4.6.6 mysql_config_editor — MySQL 構成ユーティリティー">セクション4.6.6「<span class="command"><strong>mysql_config_editor</strong></span> — MySQL 構成ユーティリティー」</a>を参照してください)。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_offset"></a>
            <a class="indexterm" name="idm139979149007680"></a> <a class="indexterm" name="idm139979149005536"></a> <code class="option">--offset=<em class="replaceable"><code>N</code></em></code>, <code class="option">-o <em class="replaceable"><code>N</code></em></code>
          </p><p>
            ログの最初の <em class="replaceable"><code>N</code></em> 個のエントリをスキップします。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_password"></a>
            <a class="indexterm" name="idm139979148999856"></a> <a class="indexterm" name="idm139979148997680"></a> <code class="option">--password[=<em class="replaceable"><code>password</code></em>]</code>, <code class="option">-p[<em class="replaceable"><code>password</code></em>]</code>
          </p><p>
            サーバーに接続する際に使用するパスワードです。短いオプション形式 (<code class="option">-p</code>) を使用した場合は、オプションとパスワードの間にスペースを置くことは<span class="emphasis"><em>できません</em></span>。コマンド行で、<code class="option">--password</code> オプションまたは <code class="option">-p</code> オプションに続けて <em class="replaceable"><code>password</code></em> の値を指定しなかった場合、<span class="command"><strong>mysqlbinlog</strong></span> はそれを要求します。
          </p><p>
            コマンド行でパスワードを指定することはセキュアでないとみなすべきです。<a class="xref" href="security.html#password-security-user" title="6.1.2.1 パスワードセキュリティーのためのエンドユーザーガイドライン">セクション6.1.2.1「パスワードセキュリティーのためのエンドユーザーガイドライン」</a>を参照してください。オプションファイルを使用すれば、コマンド行でパスワードを指定することを回避できます。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_plugin-dir"></a>
            <a class="indexterm" name="idm139979148986960"></a> <a class="indexterm" name="idm139979148984848"></a> <code class="option">--plugin-dir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            プラグインを検索するディレクトリ。<code class="option">--default-auth</code> オプションを使用して認証プラグインを指定したが、<span class="command"><strong>mysqlbinlog</strong></span> がそれを検出できない場合は、このオプションを指定しなければならない可能性があります。<a class="xref" href="security.html#pluggable-authentication" title="6.3.7 プラガブル認証">セクション6.3.7「プラガブル認証」</a>を参照してください。
          </p><p>
            このオプションは MySQL 5.6.2 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_port"></a>
            <a class="indexterm" name="idm139979148977040"></a> <a class="indexterm" name="idm139979148974896"></a> <a class="indexterm" name="idm139979148972944"></a> <a class="indexterm" name="idm139979148971600"></a> <code class="option">--port=<em class="replaceable"><code>port_num</code></em></code>, <code class="option">-P <em class="replaceable"><code>port_num</code></em></code>
          </p><p>
            リモートサーバーへの接続に使用する TCP/IP ポート番号。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_print-defaults"></a>
            <a class="indexterm" name="idm139979148966832"></a> <a class="indexterm" name="idm139979148964672"></a> <code class="option">--print-defaults</code>
          </p><p>
            プログラム名と、オプションファイルから受け取るすべてのオプションを出力します。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_protocol"></a>
            <a class="indexterm" name="idm139979148960032"></a> <a class="indexterm" name="idm139979148957856"></a> <code class="option">--protocol={TCP|SOCKET|PIPE|MEMORY}</code>
          </p><p>
            サーバーへの接続に使用する接続プロトコル。このオプションは、ほかの接続パラメータによって、必要なプロトコル以外のものが通常使用される場合に役立ちます。許可される値の詳細は、<a class="xref" href="programs.html#connecting" title="4.2.2 MySQL サーバーへの接続">セクション4.2.2「MySQL サーバーへの接続」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_raw"></a>
            <a class="indexterm" name="idm139979148952432"></a> <a class="indexterm" name="idm139979148950304"></a> <code class="option">--raw</code>
          </p><p>
            デフォルトでは、<span class="command"><strong>mysqlbinlog</strong></span> はバイナリログファイルを読み取り、イベントをテキスト形式で書き出します。<code class="option">--raw</code> オプションは <span class="command"><strong>mysqlbinlog</strong></span> に対して、元のバイナリ形式で書き出すことを指示します。ファイルはサーバーから要求されるため、これを使用するには、<code class="option">--read-from-remote-server</code> も使用する必要があります。<span class="command"><strong>mysqlbinlog</strong></span> はサーバーから読み取った各ファイルに対して 1 つの出力ファイルを書き出します。<code class="option">--raw</code> オプションは、サーバーのバイナリログのバックアップを作成するために使用できます。<code class="option">--stop-never</code> オプションを使用すると、<span class="command"><strong>mysqlbinlog</strong></span> はサーバーに接続されたままになるため、バックアップは<span class="quote">「<span class="quote">ライブ</span>」</span>です。デフォルトでは、出力ファイルは現在のディレクトリに元のログファイルと同じ名前で書き出されます。出力ファイル名は <code class="option">--result-file</code> オプションを使用して変更できます。詳細は、<a class="xref" href="programs.html#mysqlbinlog-backup" title="4.6.8.3 バイナリログファイルのバックアップのための mysqlbinlog の使用">セクション4.6.8.3「バイナリログファイルのバックアップのための mysqlbinlog の使用」</a>を参照してください。
          </p><p>
            このオプションは MySQL 5.6.0 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_read-from-remote-master"></a>
            <a class="indexterm" name="idm139979148936080"></a> <a class="indexterm" name="idm139979148933936"></a> <code class="option">--read-from-remote-master=<em class="replaceable"><code>type</code></em></code>
          </p><p>
            <code class="literal">COM_BINLOG_DUMP</code> コマンドまたは <code class="literal">COM_BINLOG_DUMP_GTID</code> コマンドで、オプション値をそれぞれ <code class="literal">BINLOG-DUMP-NON-GTIDS</code> または <code class="literal">BINLOG-DUMP-GTIDS</code> に設定して、MySQL サーバーからバイナリログを読み取ります。<code class="option">--read-from-remote-master=BINLOG-DUMP-GTIDS</code> が <code class="option">--exclude-gtids</code> と組み合わされると、トランザクションをマスターでフィルタでき、不要なネットワークトラフィックを防ぐことができます。
          </p><p>
            <code class="option">--read-from-remote-server</code> の説明も参照してください。
          </p><p>
            このオプションは MySQL 5.6.5 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_read-from-remote-server"></a>
            <a class="indexterm" name="idm139979148922448"></a> <a class="indexterm" name="idm139979148920272"></a> <code class="option">--read-from-remote-server</code>, <code class="option">-R</code>
          </p><p>
            バイナリログをローカルログファイルからではなく MySQL サーバーから読み取ります。次のオプションも指定されていないかぎり、接続パラメータオプションはすべて無視されます。これらのオプションは <code class="option">--host</code>、<code class="option">--password</code>、<code class="option">--port</code>、<code class="option">--protocol</code>、<code class="option">--socket</code>、および <code class="option">--user</code> です。
          </p><p>
            このオプションでは、リモートサーバーが稼働していることが必要です。リモートサーバー上のバイナリログファイルに対してのみ機能します。リレーログファイルには機能しません。
          </p><p>
            MySQL 5.6.5 では、このオプションは <code class="option">--read-from-remote-master=BINLOG-DUMP-NON-GTIDS</code> と同様です。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_result-file"></a>
            <a class="indexterm" name="idm139979148908368"></a> <a class="indexterm" name="idm139979148906224"></a> <code class="option">--result-file=<em class="replaceable"><code>name</code></em></code>, <code class="option">-r <em class="replaceable"><code>name</code></em></code>
          </p><p>
            <code class="option">--raw</code> オプションがない場合は、このオプションは <span class="command"><strong>mysqlbinlog</strong></span> がテキスト出力を書き出すファイルを示します。<code class="option">--raw</code> がある場合は、<span class="command"><strong>mysqlbinlog</strong></span> はサーバーから転送される各ログファイルに対して 1 つのバイナリ出力ファイルを、デフォルトでは現在のディレクトリに元のログファイルと同じ名前で書き出します。この場合、<code class="option">--result-file</code> オプションの値は出力ファイル名を変更するプリフィクスとして処理されます。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_secure-auth"></a>
            <a class="indexterm" name="idm139979148896448"></a> <a class="indexterm" name="idm139979148894304"></a> <code class="option">--secure-auth</code>
          </p><p>
            古い (4.1 より前の) 形式でサーバーにパスワードを送信しません。これにより、新しいパスワード形式を使用するサーバー以外への接続を防ぎます。このオプションはデフォルトで有効です。無効にするには <code class="option">--skip-secure-auth</code> を使用します。このオプションは MySQL 5.6.17 で追加されました。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              4.1 以前のハッシュ方式を使用するパスワードはネイティブのパスワードハッシュ方式を使用するパスワードよりもセキュアでないため、使用しないようにしてください。4.1 よりも前のパスワードは非推奨であり、これらのサポートは今後の MySQL リリースで削除される予定です。アカウントのアップグレード手順については、<a class="xref" href="security.html#account-upgrades" title="6.3.8.3 4.1 よりも前のパスワードハッシュ方式と mysql_old_password プラグインからの移行">セクション6.3.8.3「4.1 よりも前のパスワードハッシュ方式と mysql_old_password プラグインからの移行」</a>を参照してください。
            </p></div></li><li class="listitem"><p><a name="option_mysqlbinlog_server-id"></a>
            <a class="indexterm" name="idm139979148886112"></a> <a class="indexterm" name="idm139979148884000"></a> <code class="option">--server-id=<em class="replaceable"><code>id</code></em></code>
          </p><p>
            指定されたサーバー ID を持つサーバーによって作成されたイベントのみを表示します。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_server-id-bits"></a>
            <a class="indexterm" name="idm139979148879184"></a> <a class="indexterm" name="idm139979148877024"></a> <code class="option">--server-id-bits=<em class="replaceable"><code>N</code></em></code>
          </p><p>
            サーバーを特定するために、<code class="literal">server_id</code> の最初の <em class="replaceable"><code>N</code></em> ビットのみを使用します。server-id-bits が 32 未満にセットされ、ユーザーデータが最上位ビットに保存される <span class="command"><strong>mysqld</strong></span> によってバイナリログが書き出された場合、<code class="option">--server-id-bits</code> を 32 にセットして <span class="command"><strong>mysqlbinlog</strong></span> を実行するとこのデータを表示できます。
          </p><p>
            このオプションは、MySQL Cluster 配布で提供されるバージョン、または MySQL Cluster ソースからビルドされた <span class="command"><strong>mysqlbinlog</strong></span> によってのみサポートされます。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_set-charset"></a>
            <a class="indexterm" name="idm139979148866992"></a> <a class="indexterm" name="idm139979148864848"></a> <code class="option">--set-charset=<em class="replaceable"><code>charset_name</code></em></code>
          </p><p>
            <code class="literal">SET NAMES <em class="replaceable"><code>charset_name</code></em></code> ステートメントを出力に追加して、ログファイルの処理に使用される文字セットを指定します。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_shared-memory-base-name"></a>
            <a class="indexterm" name="idm139979148858912"></a> <a class="indexterm" name="idm139979148856736"></a> <code class="option">--shared-memory-base-name=<em class="replaceable"><code>name</code></em></code>
          </p><p>
            Windows で、共有メモリーを使用して作成されるローカルサーバーへの接続の共有メモリー名。デフォルト値は <code class="literal">MYSQL</code> です。共有メモリー名では大文字と小文字を区別します。
          </p><p>
            共有メモリー接続を可能にするには、サーバーは <code class="option">--shared-memory</code> オプションで起動する必要があります。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_short-form"></a>
            <a class="indexterm" name="idm139979148849456"></a> <a class="indexterm" name="idm139979148847312"></a> <code class="option">--short-form</code>, <code class="option">-s</code>
          </p><p>
            追加情報および行ベースのイベントなしで、ログに含まれるステートメントのみを表示します。これはテスト専用で、本番環境のシステムで使用するべきではありません。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_skip-gtids"></a>
            <a class="indexterm" name="idm139979148842144"></a> <a class="indexterm" name="idm139979148840000"></a> <code class="option">--skip-gtids[=(true|false)]</code>
          </p><p>
            出力に GTID を表示しません。これは、次の例に示すように GTID を含む 1 つまたは複数のバイナリログからダンプファイルに書き出す場合に必要です。
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqlbinlog --skip-gtids binlog.000001 &gt;  /tmp/dump.sql</code></strong>
shell&gt; <strong class="userinput"><code>mysqlbinlog --skip-gtids binlog.000002 &gt;&gt; /tmp/dump.sql</code></strong>
shell&gt; <strong class="userinput"><code>mysql -u root -p -e "source /tmp/dump.sql"</code></strong>
</pre><p>
            そうでない場合には、このオプションを本番環境で使用することは、通常推奨されません。
          </p><p>
            このオプションは MySQL 5.6.5 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_socket"></a>
            <a class="indexterm" name="idm139979148831024"></a> <a class="indexterm" name="idm139979148828848"></a> <code class="option">--socket=<em class="replaceable"><code>path</code></em></code>, <code class="option">-S <em class="replaceable"><code>path</code></em></code>
          </p><p>
            <code class="literal">localhost</code> への接続用に使用する、Unix ソケットファイル、または Windows では使用する名前付きパイプの名前。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_start-datetime"></a>
            <a class="indexterm" name="idm139979148822704"></a> <a class="indexterm" name="idm139979148820544"></a> <code class="option">--start-datetime=<em class="replaceable"><code>datetime</code></em></code>
          </p><p>
            <em class="replaceable"><code>datetime</code></em> 引数と同じかそれより遅いタイムスタンプを持つ最初のイベントから、バイナリログの読み取りを始めます。<em class="replaceable"><code>datetime</code></em> 値は、<span class="command"><strong>mysqlbinlog</strong></span> を実行するマシンのローカルタイムゾーンに相対的です。値は <code class="literal">DATETIME</code> または <code class="literal">TIMESTAMP</code> データ型に受け付けられる形式にしてください。例:
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqlbinlog --start-datetime="2005-12-25 11:25:56" binlog.000003</code></strong>
</pre><p>
            このオプションはポイントインタイムリカバリに便利です。<a class="xref" href="backup-and-recovery.html#backup-strategy-example" title="7.3 バックアップおよびリカバリ戦略の例">セクション7.3「バックアップおよびリカバリ戦略の例」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_start-position"></a>
            <a class="indexterm" name="idm139979148808976"></a> <a class="indexterm" name="idm139979148806848"></a> <code class="option">--start-position=<em class="replaceable"><code>N</code></em></code>, <code class="option">-j <em class="replaceable"><code>N</code></em></code>
          </p><p>
            <em class="replaceable"><code>N</code></em> 以上の位置を持つ最初のイベントから、バイナリログの読み取りを始めます。このオプションはコマンド行で最初に指名されたログファイルに適用されます。
          </p><p>
            このオプションはポイントインタイムリカバリに便利です。<a class="xref" href="backup-and-recovery.html#backup-strategy-example" title="7.3 バックアップおよびリカバリ戦略の例">セクション7.3「バックアップおよびリカバリ戦略の例」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_stop-datetime"></a>
            <a class="indexterm" name="idm139979148799440"></a> <a class="indexterm" name="idm139979148797312"></a> <code class="option">--stop-datetime=<em class="replaceable"><code>datetime</code></em></code>
          </p><p>
            <em class="replaceable"><code>datetime</code></em> 引数と同じかそれより遅いタイムスタンプを持つ最初のイベントで、バイナリログの読み取りを終了します。このオプションはポイントインタイムリカバリに便利です。<em class="replaceable"><code>datetime</code></em> 値の詳細については、<code class="option">--start-datetime</code> オプションの説明を参照してください。
          </p><p>
            このオプションはポイントインタイムリカバリに便利です。<a class="xref" href="backup-and-recovery.html#backup-strategy-example" title="7.3 バックアップおよびリカバリ戦略の例">セクション7.3「バックアップおよびリカバリ戦略の例」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_stop-never"></a>
            <a class="indexterm" name="idm139979148789200"></a> <a class="indexterm" name="idm139979148787088"></a> <code class="option">--stop-never</code>
          </p><p>
            このオプションは <code class="option">--read-from-remote-server</code> とともに使用されます。<span class="command"><strong>mysqlbinlog</strong></span> に対して、サーバーに接続したままの状態を保つことを指示します。そうしないと、<span class="command"><strong>mysqlbinlog</strong></span> は最後のログファイルがサーバーから転送された時点で終了します。<code class="option">--stop-never</code> は暗黙的に <code class="option">--to-last-log</code> を指定するため、コマンド行で指名する必要があるのは転送される最初のログファイルのみです。
          </p><p>
            <code class="option">--stop-never</code> は一般的に、ライブバイナリログバックアップを作成するために <code class="option">--raw</code> とともに使用されますが、<code class="option">--raw</code> なしで使用して、サーバーがログイベントを生成するに従ってそれらを継続的にテキスト表示することも可能です。
          </p><p>
            このオプションは MySQL 5.6.0 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_stop-never-slave-server-id"></a>
            <a class="indexterm" name="idm139979148774688"></a> <a class="indexterm" name="idm139979148772512"></a> <code class="option">--stop-never-slave-server-id=<em class="replaceable"><code>id</code></em></code>
          </p><p>
            <code class="option">--stop-never</code> を使用すると、<span class="command"><strong>mysqlbinlog</strong></span> はサーバーに接続する際にサーバー ID の 65535 をレポートします。<code class="option">--stop-never-slave-server-id</code> はレポートするサーバー ID を明示的に指定します。スレーブサーバーまたは別の <span class="command"><strong>mysqlbinlog</strong></span> プロセスの ID との競合を避けるために使用できます。<a class="xref" href="programs.html#mysqlbinlog-server-id" title="4.6.8.4 mysqlbinlog サーバー ID の指定">セクション4.6.8.4「mysqlbinlog サーバー ID の指定」</a>を参照してください。
          </p><p>
            このオプションは MySQL 5.6.0 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_stop-position"></a>
            <a class="indexterm" name="idm139979148763136"></a> <a class="indexterm" name="idm139979148761008"></a> <code class="option">--stop-position=<em class="replaceable"><code>N</code></em></code>
          </p><p>
            <em class="replaceable"><code>N</code></em> 以上の位置を持つ最初のイベントで、バイナリログの読み取りを終了します。このオプションは、コマンド行で最後に指名されたログファイルに適用されます。
          </p><p>
            このオプションはポイントインタイムリカバリに便利です。<a class="xref" href="backup-and-recovery.html#backup-strategy-example" title="7.3 バックアップおよびリカバリ戦略の例">セクション7.3「バックアップおよびリカバリ戦略の例」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_to-last-log"></a>
            <a class="indexterm" name="idm139979148754288"></a> <a class="indexterm" name="idm139979148752176"></a> <code class="option">--to-last-log</code>, <code class="option">-t</code>
          </p><p>
            MySQL サーバーから要求されたバイナリログの最後で終了せず、最後のバイナリログの最後まで続けて出力します。同じ MySQL サーバーに出力を送信した場合、無限ループになる場合があります。このオプションには <code class="option">--read-from-remote-server</code> が必要です。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_user"></a>
            <a class="indexterm" name="idm139979148746176"></a> <a class="indexterm" name="idm139979148744032"></a> <code class="option">--user=<em class="replaceable"><code>user_name</code></em></code>, <code class="option">-u <em class="replaceable"><code>user_name</code></em></code>
          </p><p>
            リモートサーバーへの接続時に使用する MySQL ユーザー名。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_verbose"></a>
            <a class="indexterm" name="idm139979148738544"></a> <a class="indexterm" name="idm139979148736368"></a> <code class="option">--verbose</code>, <code class="option">-v</code>
          </p><p>
            行イベントを再構築し、コメント化された SQL ステートメントとして表示します。このオプションを 2 回指定すると、出力にはカラムデータ型と一部のメタデータを示すコメントが含まれます。
          </p><p>
            <code class="option">--base64-output</code> および <code class="option">--verbose</code> の行イベント出力への影響を示す例は、<a class="xref" href="programs.html#mysqlbinlog-row-events" title="4.6.8.2 mysqlbinlog 行イベントの表示">セクション4.6.8.2「mysqlbinlog 行イベントの表示」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_verify-binlog-checksum"></a>
            <a class="indexterm" name="idm139979148728496"></a> <a class="indexterm" name="idm139979148726352"></a> <code class="option">--verify-binlog-checksum</code>, <code class="option">-c</code>
          </p><p>
            バイナリログファイルのチェックサムを検証します。このオプションは MySQL 5.6.1 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysqlbinlog_version"></a>
            <a class="indexterm" name="idm139979148721312"></a> <a class="indexterm" name="idm139979148719136"></a> <code class="option">--version</code>, <code class="option">-V</code>
          </p><p>
            バージョン情報を表示して終了します。
          </p><p>
            MySQL 5.6.11 より前では、表示される <span class="command"><strong>mysqlbinlog</strong></span> のバージョン番号は 3.3 でした。MySQL 5.6.11 以降では 3.4 です。(Bug #15894381、Bug #67643)
          </p></li></ul></div><p>
        <code class="option">--<em class="replaceable"><code>var_name</code></em>=<em class="replaceable"><code>value</code></em></code> 構文を使用して、次の変数を設定することもできます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysqlbinlog_open_files_limit"></a>
            <a class="indexterm" name="idm139979148710768"></a> <code class="literal">open_files_limit</code>
          </p><p>
            予約するオープンファイルディスクリプタの数を指定します。
          </p></li></ul></div><p>
        <span class="command"><strong>mysqlbinlog</strong></span> の出力を <span class="command"><strong>mysql</strong></span> クライアントにパイプして、バイナリログに含まれるイベントを実行できます。このテクニックは、古いバックアップがある場合にクラッシュからリカバリするために使用されます (<a class="xref" href="backup-and-recovery.html#point-in-time-recovery" title="7.5 バイナリログを使用したポイントインタイム (増分) リカバリ">セクション7.5「バイナリログを使用したポイントインタイム (増分) リカバリ」</a>を参照してください)。例:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqlbinlog binlog.000001 | mysql -u root -p</code></strong>
</pre><p>
        または:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqlbinlog binlog.[0-9]* | mysql -u root -p</code></strong>
</pre><p>
        <span class="command"><strong>mysqlbinlog</strong></span> が生成したステートメントに <code class="literal">BLOB</code> 値が含まれる可能性がある場合、<span class="command"><strong>mysql</strong></span> がそれらを処理するときに問題が生じることがあります。この場合は、<span class="command"><strong>mysql</strong></span> を <code class="option">--binary-mode</code> オプションで起動します。
      </p><p>
        ステートメントログをまず変更する必要がある場合 (たとえば、何らかの理由で実行しないステートメントを削除するなど) は、代わりに <span class="command"><strong>mysqlbinlog</strong></span> の出力をテキストファイルにリダイレクトすることもできます。ファイルの編集後、<span class="command"><strong>mysql</strong></span> プログラムへの入力として使用することによって、そこに含まれるステートメントを実行します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqlbinlog binlog.000001 &gt; tmpfile</code></strong>
shell&gt; ... <em class="replaceable"><code>edit tmpfile</code></em> ...
shell&gt; <strong class="userinput"><code>mysql -u root -p &lt; tmpfile</code></strong>
</pre><p>
        <span class="command"><strong>mysqlbinlog</strong></span> は、<code class="option">--start-position</code> オプションで起動された場合、バイナリログ内のオフセットが指定された位置以上のイベントのみを表示します (指定された位置は 1 つのイベントの開始位置に一致していなければなりません)。指定された日付と時間を持つイベントを検出したときに停止および起動するオプションもあります。これにより、<code class="option">--stop-datetime</code> オプションを使用してポイントインタイムリカバリが実行できます (たとえば、<span class="quote">「<span class="quote">データベースを今日の 10:30 am 現在の状態までロールバックする</span>」</span>といったことが可能になります)。
      </p><p>
        MySQL サーバーに実行する複数のバイナリログがある場合、安全な方法は、サーバーへの 1 つの接続を使用して、それらすべてを処理することです。これは、<span class="emphasis"><em>安全でない</em></span>可能性があることを示す例です。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqlbinlog binlog.000001 | mysql -u root -p # DANGER!!</code></strong>
shell&gt; <strong class="userinput"><code>mysqlbinlog binlog.000002 | mysql -u root -p # DANGER!!</code></strong>
</pre><p>
        サーバーに対してこのように複数の接続を使用してバイナリログを処理する場合、最初のログファイルに <code class="literal">CREATE TEMPORARY TABLE</code> ステートメントが含まれており、2 番目のログには一時テーブルを使用するステートメントが含まれていると、問題が発生します。最初の <span class="command"><strong>mysql</strong></span> プロセスが終了すると、サーバーは一時テーブルを削除します。2 番目の <span class="command"><strong>mysql</strong></span> プロセスでテーブルの使用を試みると、サーバーは<span class="quote">「<span class="quote">不明なテーブル</span>」</span>と報告します。
      </p><p>
        このような問題を回避するには、<span class="emphasis"><em>1 つ</em></span>の <span class="command"><strong>mysql</strong></span> プロセスを使用して、処理するすべてのバイナリログの内容を実行します。これはそれを実行する 1 つの方法です。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqlbinlog binlog.000001 binlog.000002 | mysql -u root -p</code></strong>
</pre><p>
        もう 1 つのアプローチは、すべてのログを 1 つのファイルに書き込み、次にそのファイルを処理することです。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqlbinlog binlog.000001 &gt;  /tmp/statements.sql</code></strong>
shell&gt; <strong class="userinput"><code>mysqlbinlog binlog.000002 &gt;&gt; /tmp/statements.sql</code></strong>
shell&gt; <strong class="userinput"><code>mysql -u root -p -e "source /tmp/statements.sql"</code></strong>
</pre><p>
        <span class="command"><strong>mysqlbinlog</strong></span> は、元のデータファイルなしで <code class="literal">LOAD DATA INFILE</code> 操作を再現する出力を生成できます。<span class="command"><strong>mysqlbinlog</strong></span> はデータを一時ファイルにコピーし、そのファイルを参照する <code class="literal">LOAD DATA LOCAL INFILE</code> ステートメントを書き出します。これらのファイルが書き出されるディレクトリのデフォルトの場所はシステムごとに異なります。ディレクトリを明示的に指定するには、<code class="option">--local-load</code> オプションを使用します。
      </p><p>
        <span class="command"><strong>mysqlbinlog</strong></span> は <code class="literal">LOAD DATA INFILE</code> ステートメントを <code class="literal">LOAD DATA LOCAL INFILE</code> ステートメントに変換するため (つまり、<code class="literal">LOCAL</code> を追加します)、ステートメントの処理に使用するクライアントとサーバーの両方が、<code class="literal">LOCAL</code> 機能を有効にして構成されていなければなりません。<a class="xref" href="security.html#load-data-local" title="6.1.6 LOAD DATA LOCAL のセキュリティーの問題">セクション6.1.6「LOAD DATA LOCAL のセキュリティーの問題」</a>を参照してください。
      </p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">警告</div><p>
          <code class="literal">LOAD DATA LOCAL</code> ステートメント用に作成された一時ファイルは、これらのステートメントをユーザーが実際に実行するまで必要なため、自動的には削除され<span class="emphasis"><em>ません</em></span>。ステートメントログが必要なくなった時点で、ユーザーが一時ファイルを削除するようにしてください。これらのファイルは一時ファイルディレクトリに存在し、<em class="replaceable"><code>original_file_name-#-#</code></em> といった名前が付いています。
        </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysqlbinlog-hexdump"></a>4.6.8.1 mysqlbinlog 16 進ダンプ形式</h4></div></div></div><p>
        <code class="option">--hexdump</code> オプションを使用すると、<span class="command"><strong>mysqlbinlog</strong></span> はバイナリログの内容の 16 進ダンプを生成するようになります。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqlbinlog --hexdump master-bin.000001</code></strong>
</pre><p>
        16 進出力は、<code class="literal">#</code> で始まるコメント行で構成され、前のコマンドの出力は次のようになります。
      </p><pre class="programlisting">
/*!40019 SET @@session.max_insert_delayed_threads=0*/;
/*!50003 SET @OLD_COMPLETION_TYPE=@@COMPLETION_TYPE,COMPLETION_TYPE=0*/;
# at 4
#051024 17:24:13 server id 1  end_log_pos 98
# Position  Timestamp   Type   Master ID        Size      Master Pos    Flags
# 00000004 9d fc 5c 43   0f   01 00 00 00   5e 00 00 00   62 00 00 00   00 00
# 00000017 04 00 35 2e 30 2e 31 35  2d 64 65 62 75 67 2d 6c |..5.0.15.debug.l|
# 00000027 6f 67 00 00 00 00 00 00  00 00 00 00 00 00 00 00 |og..............|
# 00000037 00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 |................|
# 00000047 00 00 00 00 9d fc 5c 43  13 38 0d 00 08 00 12 00 |.......C.8......|
# 00000057 04 04 04 04 12 00 00 4b  00 04 1a                |.......K...|
#       Start: binlog v 4, server v 5.0.15-debug-log created 051024 17:24:13
#       at startup
ROLLBACK;
</pre><p>
        現在、16 進出力には次のリストの要素が含まれます。この形式は変更される場合があります。(バイナリログの形式の詳細は、「<a class="ulink" href="http://dev.mysql.com/doc/internals/en/binary-log.html" target="_top">MySQL Internals: The Binary Log</a>」を参照してください。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">Position</code>: ログファイル内のバイト位置。
          </p></li><li class="listitem"><p>
            <code class="literal">Timestamp</code>: イベントのタイムスタンプ。示した例では、<code class="literal">'9d fc 5c 43'</code> は <code class="literal">'051024 17:24:13'</code> の 16 進表現です。
          </p></li><li class="listitem"><p>
            <code class="literal">Type</code>: イベントタイプコード。示した例では、<code class="literal">'0f'</code> は <code class="literal">FORMAT_DESCRIPTION_EVENT</code> を示します。次のテーブルは可能なタイプコードのリストです。
          </p><div class="informaltable"><table summary="この表は mysqlbinlog --hexdump の出力に見られるイベントタイプコードをリストします。この表には、各イベントコードタイプに対応する名前と意味もリストされています。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">型</th><th scope="col">名前</th><th scope="col">意味</th></tr></thead><tbody><tr><td scope="row"><code class="literal">00</code></td><td><code class="literal">UNKNOWN_EVENT</code></td><td>このイベントはログ内に存在するべきではありません。</td></tr><tr><td scope="row"><code class="literal">01</code></td><td><code class="literal">START_EVENT_V3</code></td><td>MySQL 4 より前のバージョンによって書き出されたログファイルの始めを示しています。</td></tr><tr><td scope="row"><code class="literal">02</code></td><td><code class="literal">QUERY_EVENT</code></td><td>もっとも一般的なイベントのタイプ。これらはマスターで実行されるステートメントを含んでいます。</td></tr><tr><td scope="row"><code class="literal">03</code></td><td><code class="literal">STOP_EVENT</code></td><td>マスターが停止したことを示します。</td></tr><tr><td scope="row"><code class="literal">04</code></td><td><code class="literal">ROTATE_EVENT</code></td><td>マスターが新しいログファイルにスイッチした際に書き出されます。</td></tr><tr><td scope="row"><code class="literal">05</code></td><td><code class="literal">INTVAR_EVENT</code></td><td><code class="literal">AUTO_INCREMENT</code> 値、またはステートメントで <code class="literal">LAST_INSERT_ID()</code> 関数が使用される場合に使用されます。</td></tr><tr><td scope="row"><code class="literal">06</code></td><td><code class="literal">LOAD_EVENT</code></td><td>MySQL 3.23 で <code class="literal">LOAD DATA INFILE</code> 用に使用されます。</td></tr><tr><td scope="row"><code class="literal">07</code></td><td><code class="literal">SLAVE_EVENT</code></td><td>将来使用するために予約されています。</td></tr><tr><td scope="row"><code class="literal">08</code></td><td><code class="literal">CREATE_FILE_EVENT</code></td><td><code class="literal">LOAD DATA INFILE</code> ステートメントに使用されます。これはそのようなステートメントの実行の始まりを示しています。スレーブ上で一時ファイルが作成されます。MySQL 4 でのみ使用されます。</td></tr><tr><td scope="row"><code class="literal">09</code></td><td><code class="literal">APPEND_BLOCK_EVENT</code></td><td><code class="literal">LOAD DATA INFILE</code> ステートメントで使用されるデータを含んでいます。データはスレーブ上の一時ファイル内に保存されます。</td></tr><tr><td scope="row"><code class="literal">0a</code></td><td><code class="literal">EXEC_LOAD_EVENT</code></td><td><code class="literal">LOAD DATA INFILE</code> ステートメントに使用されます。一時ファイルの内容はスレーブ上のテーブルに保存されます。MySQL 4 でのみ使用されます。</td></tr><tr><td scope="row"><code class="literal">0b</code></td><td><code class="literal">DELETE_FILE_EVENT</code></td><td><code class="literal">LOAD DATA INFILE</code> ステートメントのロールバック。一時ファイルはスレーブ上で削除されるはずです。</td></tr><tr><td scope="row"><code class="literal">0c</code></td><td><code class="literal">NEW_LOAD_EVENT</code></td><td>MySQL 4 以前のバージョンで <code class="literal">LOAD DATA INFILE</code> に使用されます。</td></tr><tr><td scope="row"><code class="literal">0d</code></td><td><code class="literal">RAND_EVENT</code></td><td><code class="literal">RAND()</code> 関数がステートメントで使用されている場合、ランダム値の情報を送信するのに使用されます。</td></tr><tr><td scope="row"><code class="literal">0e</code></td><td><code class="literal">USER_VAR_EVENT</code></td><td>ユーザー変数のレプリケーションに使用されます。</td></tr><tr><td scope="row"><code class="literal">0f</code></td><td><code class="literal">FORMAT_DESCRIPTION_EVENT</code></td><td>MySQL 5 以降のバージョンで書き出されたログファイルの始まりを示します。</td></tr><tr><td scope="row"><code class="literal">10</code></td><td><code class="literal">XID_EVENT</code></td><td>XA トランザクションのコミットを示すイベント。</td></tr><tr><td scope="row"><code class="literal">11</code></td><td><code class="literal">BEGIN_LOAD_QUERY_EVENT</code></td><td>MySQL 5 以降で <code class="literal">LOAD DATA INFILE</code> ステートメントに使用されます。</td></tr><tr><td scope="row"><code class="literal">12</code></td><td><code class="literal">EXECUTE_LOAD_QUERY_EVENT</code></td><td>MySQL 5 以降で <code class="literal">LOAD DATA INFILE</code> ステートメントに使用されます。</td></tr><tr><td scope="row"><code class="literal">13</code></td><td><code class="literal">TABLE_MAP_EVENT</code></td><td>テーブル定義の情報。MySQL 5.1.5 以降で使用されます。</td></tr><tr><td scope="row"><code class="literal">14</code></td><td><code class="literal">PRE_GA_WRITE_ROWS_EVENT</code></td><td>作成されるべき単一のテーブルの行データ。MySQL 5.1.5 から 5.1.17 で使用されます。</td></tr><tr><td scope="row"><code class="literal">15</code></td><td><code class="literal">PRE_GA_UPDATE_ROWS_EVENT</code></td><td>更新が必要な単一テーブルの行データ。MySQL 5.1.5 から 5.1.17 で使用されます。</td></tr><tr><td scope="row"><code class="literal">16</code></td><td><code class="literal">PRE_GA_DELETE_ROWS_EVENT</code></td><td>削除されるべき単一テーブルの行データ。MySQL 5.1.5 から 5.1.17 で使用されます。</td></tr><tr><td scope="row"><code class="literal">17</code></td><td><code class="literal">WRITE_ROWS_EVENT</code></td><td>作成されるべき単一のテーブルの行データ。MySQL 5.1.18 以降で使用されます。</td></tr><tr><td scope="row"><code class="literal">18</code></td><td><code class="literal">UPDATE_ROWS_EVENT</code></td><td>更新が必要な単一テーブルの行データ。MySQL 5.1.18 以降で使用されます。</td></tr><tr><td scope="row"><code class="literal">19</code></td><td><code class="literal">DELETE_ROWS_EVENT</code></td><td>削除されるべき単一テーブルの行データ。MySQL 5.1.18 以降で使用されます。</td></tr><tr><td scope="row"><code class="literal">1a</code></td><td><code class="literal">INCIDENT_EVENT</code></td><td>通常ではないことが何か起こりました。MySQL 5.1.18 で追加されました。</td></tr></tbody></table></div></li><li class="listitem"><p>
            <code class="literal">Master ID</code>: イベントを作成したマスターのサーバー ID。
          </p></li><li class="listitem"><p>
            <code class="literal">Size</code>:イベントのサイズをバイトで表しています。
          </p></li><li class="listitem"><p>
            <code class="literal">Master Pos</code>: 元のマスターログファイル内での次のイベントの位置。
          </p></li><li class="listitem"><p>
            <code class="literal">Flags</code>: 16 フラグ。現在、次のフラグが使用されています。ほかのものは将来のために予約されています。
          </p><div class="informaltable"><table summary="この表は mysqlbinlog --hexdump の出力に見られるフラグ値をリストします。この表には、各フラグ値に対応する名前と意味も説明されています。" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">フラグ</th><th scope="col">名前</th><th scope="col">意味</th></tr></thead><tbody><tr><td scope="row"><code class="literal">01</code></td><td><code class="literal">LOG_EVENT_BINLOG_IN_USE_F</code></td><td>ログファイルは正しく閉じられました。(<code class="literal">FORMAT_DESCRIPTION_EVENT</code> でのみ使用されます。)<code class="literal">FORMAT_DESCRIPTION_EVENT</code> 内でこのフラグがセットされている場合 (フラグがたとえば <code class="literal">'01 00'</code> の場合)、ログファイルは適切に閉じられていません。マスターが (たとえば、停電などにより) クラッシュしたことによる場合がもっとも可能性が高くなります。</td></tr><tr><td scope="row"><code class="literal">02</code></td><td> </td><td>将来使用するために予約されています。</td></tr><tr><td scope="row"><code class="literal">04</code></td><td><code class="literal">LOG_EVENT_THREAD_SPECIFIC_F</code></td><td>たとえばイベントが一時テーブルを使用する場合のように、イベントが実行される接続に依存する場合にセットします (たとえば <code class="literal">'04 00'</code>)。</td></tr><tr><td scope="row"><code class="literal">08</code></td><td><code class="literal">LOG_EVENT_SUPPRESS_USE_F</code></td><td>イベントがデフォルトデータベースに依存していない一部の状況でセットします。</td></tr></tbody></table></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysqlbinlog-row-events"></a>4.6.8.2 mysqlbinlog 行イベントの表示</h4></div></div></div><a class="indexterm" name="idm139979148522832"></a><p>
        次の例は、データの変更を指定する行イベントを <span class="command"><strong>mysqlbinlog</strong></span> が表示する方法を説明しています。これらは <code class="literal">WRITE_ROWS_EVENT</code>、<code class="literal">UPDATE_ROWS_EVENT</code>、および <code class="literal">DELETE_ROWS_EVENT</code> タイプコードを持つイベントに対応します。<code class="option">--base64-output=DECODE-ROWS</code> オプションおよび <code class="option">--verbose</code> オプションを、行イベント出力に影響を与えるために使用できます。
      </p><p>
        サーバーが行ベースのバイナリロギングを使用しており、次のステートメントのシーケンスを実行するとします。
      </p><pre class="programlisting">
CREATE TABLE t
(
  id   INT NOT NULL,
  name VARCHAR(20) NOT NULL,
  date DATE NULL
) ENGINE = InnoDB;

START TRANSACTION;
INSERT INTO t VALUES(1, 'apple', NULL);
UPDATE t SET name = 'pear', date = '2009-01-01' WHERE id = 1;
DELETE FROM t WHERE id = 1;
COMMIT;
</pre><p>
        デフォルトでは、<span class="command"><strong>mysqlbinlog</strong></span> は行イベントを、<code class="literal">BINLOG</code> ステートメントを使用して base-64 文字列としてエンコードして表示します。無関係な行を省略すると、前のステートメントシーケンスによって生成される行イベントの出力は次のようになります。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqlbinlog <em class="replaceable"><code>log_file</code></em></code></strong>
...
# at 218
#080828 15:03:08 server id 1  end_log_pos 258   Write_rows: table id 17 flags: STMT_END_F

BINLOG '
fAS3SBMBAAAALAAAANoAAAAAABEAAAAAAAAABHRlc3QAAXQAAwMPCgIUAAQ=
fAS3SBcBAAAAKAAAAAIBAAAQABEAAAAAAAEAA//8AQAAAAVhcHBsZQ==
'/*!*/;
...
# at 302
#080828 15:03:08 server id 1  end_log_pos 356   Update_rows: table id 17 flags: STMT_END_F

BINLOG '
fAS3SBMBAAAALAAAAC4BAAAAABEAAAAAAAAABHRlc3QAAXQAAwMPCgIUAAQ=
fAS3SBgBAAAANgAAAGQBAAAQABEAAAAAAAEAA////AEAAAAFYXBwbGX4AQAAAARwZWFyIbIP
'/*!*/;
...
# at 400
#080828 15:03:08 server id 1  end_log_pos 442   Delete_rows: table id 17 flags: STMT_END_F

BINLOG '
fAS3SBMBAAAALAAAAJABAAAAABEAAAAAAAAABHRlc3QAAXQAAwMPCgIUAAQ=
fAS3SBkBAAAAKgAAALoBAAAQABEAAAAAAAEAA//4AQAAAARwZWFyIbIP
'/*!*/;
</pre><p>
        行イベントを<span class="quote">「<span class="quote">擬似 SQL</span>」</span> ステートメントの形式のコメントして表示するには、<span class="command"><strong>mysqlbinlog</strong></span> を <code class="option">--verbose</code> オプションまたは <code class="option">-v</code> オプションで実行します。出力には <code class="literal">###</code> で始まる行が含まれます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqlbinlog -v <em class="replaceable"><code>log_file</code></em></code></strong>
...
# at 218
#080828 15:03:08 server id 1  end_log_pos 258   Write_rows: table id 17 flags: STMT_END_F

BINLOG '
fAS3SBMBAAAALAAAANoAAAAAABEAAAAAAAAABHRlc3QAAXQAAwMPCgIUAAQ=
fAS3SBcBAAAAKAAAAAIBAAAQABEAAAAAAAEAA//8AQAAAAVhcHBsZQ==
'/*!*/;
### INSERT INTO test.t
### SET
###   @1=1
###   @2='apple'
###   @3=NULL
...
# at 302
#080828 15:03:08 server id 1  end_log_pos 356   Update_rows: table id 17 flags: STMT_END_F

BINLOG '
fAS3SBMBAAAALAAAAC4BAAAAABEAAAAAAAAABHRlc3QAAXQAAwMPCgIUAAQ=
fAS3SBgBAAAANgAAAGQBAAAQABEAAAAAAAEAA////AEAAAAFYXBwbGX4AQAAAARwZWFyIbIP
'/*!*/;
### UPDATE test.t
### WHERE
###   @1=1
###   @2='apple'
###   @3=NULL
### SET
###   @1=1
###   @2='pear'
###   @3='2009:01:01'
...
# at 400
#080828 15:03:08 server id 1  end_log_pos 442   Delete_rows: table id 17 flags: STMT_END_F

BINLOG '
fAS3SBMBAAAALAAAAJABAAAAABEAAAAAAAAABHRlc3QAAXQAAwMPCgIUAAQ=
fAS3SBkBAAAAKgAAALoBAAAQABEAAAAAAAEAA//4AQAAAARwZWFyIbIP
'/*!*/;
### DELETE FROM test.t
### WHERE
###   @1=1
###   @2='pear'
###   @3='2009:01:01'
</pre><p>
        <code class="option">--verbose</code> または <code class="option">-v</code> を 2 回指定すると、各カラムのデータ型および一部のメタデータも表示されます。出力には、各カラムの変更に続いて追加のコメントが含まれます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqlbinlog -vv <em class="replaceable"><code>log_file</code></em></code></strong>
...
# at 218
#080828 15:03:08 server id 1  end_log_pos 258   Write_rows: table id 17 flags: STMT_END_F

BINLOG '
fAS3SBMBAAAALAAAANoAAAAAABEAAAAAAAAABHRlc3QAAXQAAwMPCgIUAAQ=
fAS3SBcBAAAAKAAAAAIBAAAQABEAAAAAAAEAA//8AQAAAAVhcHBsZQ==
'/*!*/;
### INSERT INTO test.t
### SET
###   @1=1 /* INT meta=0 nullable=0 is_null=0 */
###   @2='apple' /* VARSTRING(20) meta=20 nullable=0 is_null=0 */
###   @3=NULL /* VARSTRING(20) meta=0 nullable=1 is_null=1 */
...
# at 302
#080828 15:03:08 server id 1  end_log_pos 356   Update_rows: table id 17 flags: STMT_END_F

BINLOG '
fAS3SBMBAAAALAAAAC4BAAAAABEAAAAAAAAABHRlc3QAAXQAAwMPCgIUAAQ=
fAS3SBgBAAAANgAAAGQBAAAQABEAAAAAAAEAA////AEAAAAFYXBwbGX4AQAAAARwZWFyIbIP
'/*!*/;
### UPDATE test.t
### WHERE
###   @1=1 /* INT meta=0 nullable=0 is_null=0 */
###   @2='apple' /* VARSTRING(20) meta=20 nullable=0 is_null=0 */
###   @3=NULL /* VARSTRING(20) meta=0 nullable=1 is_null=1 */
### SET
###   @1=1 /* INT meta=0 nullable=0 is_null=0 */
###   @2='pear' /* VARSTRING(20) meta=20 nullable=0 is_null=0 */
###   @3='2009:01:01' /* DATE meta=0 nullable=1 is_null=0 */
...
# at 400
#080828 15:03:08 server id 1  end_log_pos 442   Delete_rows: table id 17 flags: STMT_END_F

BINLOG '
fAS3SBMBAAAALAAAAJABAAAAABEAAAAAAAAABHRlc3QAAXQAAwMPCgIUAAQ=
fAS3SBkBAAAAKgAAALoBAAAQABEAAAAAAAEAA//4AQAAAARwZWFyIbIP
'/*!*/;
### DELETE FROM test.t
### WHERE
###   @1=1 /* INT meta=0 nullable=0 is_null=0 */
###   @2='pear' /* VARSTRING(20) meta=20 nullable=0 is_null=0 */
###   @3='2009:01:01' /* DATE meta=0 nullable=1 is_null=0 */
</pre><p>
        <code class="option">--base64-output=DECODE-ROWS</code> オプションを使用して、行イベントに対する <code class="literal">BINLOG</code> ステートメントを抑制するように <span class="command"><strong>mysqlbinlog</strong></span> に指示できます。これは <code class="option">--base64-output=NEVER</code> と同様ですが、行イベントが検出された場合にエラーで終了しません。<code class="option">--base64-output=DECODE-ROWS</code> および <code class="option">--verbose</code> の組み合わせにより、行イベントを SQL ステートメントとしてのみ表示する便利な方法が提供されます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqlbinlog -v --base64-output=DECODE-ROWS <em class="replaceable"><code>log_file</code></em></code></strong>
...
# at 218
#080828 15:03:08 server id 1  end_log_pos 258   Write_rows: table id 17 flags: STMT_END_F
### INSERT INTO test.t
### SET
###   @1=1
###   @2='apple'
###   @3=NULL
...
# at 302
#080828 15:03:08 server id 1  end_log_pos 356   Update_rows: table id 17 flags: STMT_END_F
### UPDATE test.t
### WHERE
###   @1=1
###   @2='apple'
###   @3=NULL
### SET
###   @1=1
###   @2='pear'
###   @3='2009:01:01'
...
# at 400
#080828 15:03:08 server id 1  end_log_pos 442   Delete_rows: table id 17 flags: STMT_END_F
### DELETE FROM test.t
### WHERE
###   @1=1
###   @2='pear'
###   @3='2009:01:01'
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          <span class="command"><strong>mysqlbinlog</strong></span> の出力を再実行する予定である場合は、<code class="literal">BINLOG</code> ステートメントを抑制するべきではありません。
        </p></div><p>
        <code class="option">--verbose</code> が行イベントに関して生成した SQL ステートメントは、対応する <code class="literal">BINLOG</code> ステートメントよりもはるかに読みやすくなります。ただし、イベントを生成した元の SQL ステートメントと正確には対応しません。次の制約が適用されます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            元のカラム名は失われて <code class="literal">@<em class="replaceable"><code>N</code></em></code> に置換されます。<em class="replaceable"><code>N</code></em> はカラム番号です。
          </p></li><li class="listitem"><p>
            バイナリログでは文字セット情報は利用できません。これは文字列カラムの表示に影響します。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                対応するバイナリ文字列型と非バイナリ文字列型の間に区別はありません (<code class="literal">BINARY</code> と <code class="literal">CHAR</code>、<code class="literal">VARBINARY</code> と <code class="literal">VARCHAR</code>、<code class="literal">BLOB</code> と <code class="literal">TEXT</code>)。出力では固定長文字列に対して <code class="literal">STRING</code>、可変長文字列に対して <code class="literal">VARSTRING</code> データ型が使用されます。
              </p></li><li class="listitem"><p>
                マルチバイト文字セットでは、文字当たりの最大のバイト数はバイナリログには現れないため、文字列型の長さは文字数ではなくバイト数で表示されます。たとえば、<code class="literal">STRING(4)</code> は次のカラム型のいずれかからの値のデータ型として使用されます。
              </p><pre class="programlisting">
CHAR(4) CHARACTER SET latin1
CHAR(2) CHARACTER SET ucs2
</pre></li><li class="listitem"><p>
                <code class="literal">UPDATE_ROWS_EVENT</code> 型のイベントのストレージフォーマットのため、<code class="literal">UPDATE</code> ステートメントは <code class="literal">WHERE</code> 句が <code class="literal">SET</code> 句の前に表示されます。
              </p></li></ul></div></li></ul></div><p>
        行イベントを適切に解釈するには、バイナリログの最初にある形式の記述の情報が必要です。<span class="command"><strong>mysqlbinlog</strong></span> はログの残りの部分に行イベントが含まれるかどうかは前もってわからないため、デフォルトでは出力の最初の部分に <code class="literal">BINLOG</code> ステートメントを使用して形式記述イベントを表示します。
      </p><p>
        バイナリログに <code class="literal">BINLOG</code> ステートメントを必要とするイベントが含まれないことがわかっている (つまり行イベントがない) 場合は、<code class="option">--base64-output=NEVER</code> オプションを使用してこのヘッダーが書き込まれるのを回避できます。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysqlbinlog-backup"></a>4.6.8.3 バイナリログファイルのバックアップのための mysqlbinlog の使用</h4></div></div></div><p>
        デフォルトでは、<span class="command"><strong>mysqlbinlog</strong></span> はバイナリログファイルを読み取り、その内容をテキスト形式で表示します。これにより、ファイル内のイベントが調べやすくなり、(たとえば出力を <span class="command"><strong>mysql</strong></span> への入力として使用して) それらを再実行できます。<span class="command"><strong>mysqlbinlog</strong></span> はローカルファイルシステムから直接ログファイルを読み取るか、または <code class="option">--read-from-remote-server</code> オプションで、サーバーに接続してそのサーバーからバイナリログの内容を要求できます。<span class="command"><strong>mysqlbinlog</strong></span> はテキスト出力を標準出力、または <code class="option">--result-file=<em class="replaceable"><code>file_name</code></em></code> オプションが指定された場合はその値で指名されるファイルに書き出すことができます。
      </p><p>
        MySQL 5.6 では、<span class="command"><strong>mysqlbinlog</strong></span> はバイナリログファイルを読み取って、同じ内容、つまりテキスト形式ではなくバイナリ形式の内容を含む新しいファイルに書き出すことができます。この機能により、バイナリログを容易に元の形式でバックアップできます。<span class="command"><strong>mysqlbinlog</strong></span> は、ログファイルのセットのバックアップを実行して最後のファイルの最後に到達したときに停止して、静的バックアップを作成できます。また、最後のログファイルの最後に到達したときにサーバーとの接続を保ち、新しいイベントが生成されるたびにコピーを継続して、連続的な (<span class="quote">「<span class="quote">ライブ</span>」</span>) バックアップを作成することもできます。連続的なバックアップ操作では、<span class="command"><strong>mysqlbinlog</strong></span> は接続が終了するまで (たとえばサーバーが終了するときなど)、または <span class="command"><strong>mysqlbinlog</strong></span> が強制的に終了させられるまで実行されます。接続が終了する際、スレーブレプリケーションサーバーとは異なり、<span class="command"><strong>mysqlbinlog</strong></span> は待機して再接続を試みません。サーバーの再起動後にライブバックアップを続行するには、<span class="command"><strong>mysqlbinlog</strong></span> も再起動する必要があります。
      </p><p>
        バイナリログバックアップには、<span class="command"><strong>mysqlbinlog</strong></span> を少なくとも 2 つのオプションを使用して起動する必要があります。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="option">--read-from-remote-server</code> (または <code class="option">-R</code>) オプションは <span class="command"><strong>mysqlbinlog</strong></span> に、サーバーに接続してバイナリログを要求するよう指示します。(これは、マスターサーバーに接続するスレーブレプリケーションサーバーと同様です。)
          </p></li><li class="listitem"><p>
            <code class="option">--raw</code> オプションは <span class="command"><strong>mysqlbinlog</strong></span> に、テキスト出力ではなく生の (バイナリ) 出力を書き出すように指示します。
          </p></li></ul></div><p>
        <code class="option">--read-from-remote-server</code> オプションに加えて、次のオプションを指定するのが一般的です。<code class="option">--host</code> はサーバーが稼働している場所を示し、<code class="option">--user</code> および <code class="option">--password</code> などの接続オプションも必要な場合があります。
      </p><p>
        <code class="option">--raw</code> とともに使用すると便利なオプションがほかにいくつかあります。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="option">--stop-never</code>: 最後のログファイルの最後に到達したあと、サーバーとの接続を維持して新しいイベントの読み取りを続行します。
          </p></li><li class="listitem"><p>
            <code class="option">--stop-never-slave-server-id=<em class="replaceable"><code>id</code></em></code>: <code class="option">--stop-never</code> が使用される場合に <span class="command"><strong>mysqlbinlog</strong></span> がレポートするサーバー ID。デフォルトは 65535 です。これは、スレーブサーバーまたは別の <span class="command"><strong>mysqlbinlog</strong></span> プロセスの ID との競合を避けるために使用できます。<a class="xref" href="programs.html#mysqlbinlog-server-id" title="4.6.8.4 mysqlbinlog サーバー ID の指定">セクション4.6.8.4「mysqlbinlog サーバー ID の指定」</a>を参照してください。
          </p></li><li class="listitem"><p>
            <code class="option">--result-file</code>: あとで説明するように、出力ファイル名のプリフィクス。
          </p></li></ul></div><p>
        <span class="command"><strong>mysqlbinlog</strong></span> でサーバーのバイナリログファイルのバックアップを行うには、サーバーに実際に存在するファイル名を指定する必要があります。名前がわからない場合は、サーバーに接続して <code class="literal">SHOW BINARY LOGS</code> ステートメントを使用して現在の名前を表示します。このステートメントによって次の出力が生成されるとします。
      </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SHOW BINARY LOGS;</code></strong>
+---------------+-----------+
| Log_name      | File_size |
+---------------+-----------+
| binlog.000130 |     27459 |
| binlog.000131 |     13719 |
| binlog.000132 |     43268 |
+---------------+-----------+
</pre><p>
        この情報により、<span class="command"><strong>mysqlbinlog</strong></span> を使用して次のようにバイナリログを現在のディレクトリにバックアップできます (コマンドは 1 行に 1 つずつ入力します)。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="filename">binlog.000130</code> から <code class="filename">binlog.000132</code> までの静的バックアップを行うには、次のいずれかのコマンドを使用します。
          </p><pre class="programlisting">
mysqlbinlog --read-from-remote-server --host=<em class="replaceable"><code>host_name</code></em> --raw
  binlog.000130 binlog.000131 binlog.000132

mysqlbinlog --read-from-remote-server --host=<em class="replaceable"><code>host_name</code></em> --raw
  --to-last-log binlog.000130
</pre><p>
            最初のコマンドはすべてのファイル名を明示的に指定します。2 番目は最初のファイルのみを指名し、<code class="option">--to-last-log</code> を使用して最後まで読み取ります。これらのコマンド間の違いは、<span class="command"><strong>mysqlbinlog</strong></span> が <code class="filename">binlog.000132</code> の最後に到達する前にサーバーが <code class="filename">binlog.000133</code> を開いた場合に、最初のコマンドはそれを読み取りませんが、2 番目のコマンドは読み取るという点です。
          </p></li><li class="listitem"><p>
            <span class="command"><strong>mysqlbinlog</strong></span> が <code class="filename">binlog.000130</code> から既存のログファイルのコピーを開始し、その後接続を維持してサーバーが新しいイベントを生成するにつれてそれらをコピーするライブバックアップを行うには:
          </p><pre class="programlisting">
mysqlbinlog --read-from-remote-server --host=<em class="replaceable"><code>host_name</code></em> --raw
  --stop-never binlog.000130
</pre><p>
            <code class="option">--stop-never</code> を使用すると、<code class="option">--to-last-log</code> オプションは暗示されているため、最後のログファイルまで読み取るようにこのオプションを指定する必要はありません。
          </p></li></ul></div><h5><a name="idm139979148399040"></a>出力ファイルの命名</h5><p>
        <code class="option">--raw</code> を使用しないと、<span class="command"><strong>mysqlbinlog</strong></span> はテキスト出力を生成し、<code class="option">--result-file</code> オプションが与えられた場合は、すべての出力が書き出される単一のファイルの名前を指定します。<code class="option">--raw</code> を使用すると、<span class="command"><strong>mysqlbinlog</strong></span> はサーバーから転送される各ログファイルに対して 1 つのバイナリ出力ファイルを書き出します。デフォルトでは、<span class="command"><strong>mysqlbinlog</strong></span> はファイルを現在のディレクトリに元のログファイルと同じ名前で書き出します。出力ファイル名を変更するには、<code class="option">--result-file</code> オプションを使用します。<code class="option">--raw</code> も指定されている場合、<code class="option">--result-file</code> オプション値は出力ファイル名を変更するプリフィクスとして処理されます。
      </p><p>
        サーバーに現在 <code class="filename">binlog.000999</code> 以上の名前のバイナリログファイルがあるとします。<span class="command"><strong>mysqlbinlog --raw</strong></span> を使用してファイルのバックアップを行う場合、<code class="option">--result-file</code> オプションは次の表に示すように出力ファイル名を生成します。<code class="option">--result-file</code> の値をディレクトリパスで始まるようにすることで、ファイルを特定のディレクトリに書き出すことができます。<code class="option">--result-file</code> の値がディレクトリ名のみで構成されている場合は、その値はパス名区切り文字で終わっていなければなりません。出力ファイルが存在する場合は上書きされます。
      </p><div class="informaltable"><table summary="前の文章の例で説明したように、この表は mysqlbinlog --result-file オプションと対応する出力ファイル名をリストします。" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col"><code class="option">--result-file</code> オプション</th><th scope="col">出力ファイル名</th></tr></thead><tbody><tr><td scope="row"><code class="option">--result-file=x</code></td><td><code class="filename">xbinlog.000999</code> 以上</td></tr><tr><td scope="row"><code class="option">--result-file=/tmp/</code></td><td><code class="filename">/tmp/binlog.000999</code> 以上</td></tr><tr><td scope="row"><code class="option">--result-file=/tmp/x</code></td><td><code class="filename">/tmp/xbinlog.000999</code> 以上</td></tr></tbody></table></div><h5><a name="idm139979148371456"></a>例: mysqldump と mysqlbinlog を合わせてバックアップとリストアを行う</h5><p>
        次の例は、<span class="command"><strong>mysqldump</strong></span> と <span class="command"><strong>mysqlbinlog</strong></span> を一緒に使用してサーバーのデータおよびバイナリログのバックアップを取る方法、およびデータの損失が生じた場合にバックアップを使用してサーバーのリストアを行う方法を示す簡単なシナリオを説明しています。例では、サーバーはホスト <em class="replaceable"><code>host_name</code></em> 上で稼働し、最初のバイナリログファイルの名前は <code class="filename">binlog.000999</code> であるとします。コマンドは 1 行に 1 つずつ入力します。
      </p><p>
        <span class="command"><strong>mysqlbinlog</strong></span> を使用してバイナリログのバックアップを継続的に作成します。
      </p><pre class="programlisting">
mysqlbinlog --read-from-remote-server --host=<em class="replaceable"><code>host_name</code></em> --raw
  --stop-never binlog.000999
</pre><p>
        <span class="command"><strong>mysqldump</strong></span> を使用してサーバーのデータのスナップショットとしてダンプファイルを作成します。<code class="option">--all-databases</code>、<code class="option">--events</code>、および <code class="option">--routines</code> を使用してすべてのデータのバックアップを行い、<code class="option">--master-data=2</code> を使用して現在のバイナリログ座標をダンプファイルに含めます。
      </p><pre class="programlisting">
mysqldump --host=<em class="replaceable"><code>host_name</code></em> --all-databases --events --routines --master-data=2&gt; <em class="replaceable"><code>dump_file</code></em>
</pre><p>
        必要に応じて <span class="command"><strong>mysqldump</strong></span> コマンドを定期的に実行して、新しいスナップショットを作成します。
      </p><p>
        データ損失が生じた場合 (たとえばサーバーのクラッシュなど)、直近のダンプファイルを使用してデータをリストアします。
      </p><pre class="programlisting">
mysql --host=<em class="replaceable"><code>host_name</code></em> -u root -p &lt; <em class="replaceable"><code>dump_file</code></em>
</pre><p>
        次にバイナリログバックアップを使用して、ダンプファイル内にリストされている座標よりあとで書き出されたイベントを再実行します。ファイル内の座標が次のようになっているとします。
      </p><pre class="programlisting">
-- CHANGE MASTER TO MASTER_LOG_FILE='binlog.001002', MASTER_LOG_POS=27284;
</pre><p>
        直近にバックアップされたログファイルが <code class="filename">binlog.001004</code> という名前の場合、次のようにログイベントを再実行します。
      </p><pre class="programlisting">
mysqlbinlog --start-position=27284 binlog.001002 binlog.001003 binlog.001004
  | mysql --host=<em class="replaceable"><code>host_name</code></em> -u root -p
</pre><p>
        リストア操作をより容易に実行するために、または MySQL でリモート <code class="literal">root</code> アクセスが許可されない場合は、バックアップファイル (ダンプファイルおよびバイナリログファイル) をサーバーホストにコピーする方が簡単な場合もあります。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysqlbinlog-server-id"></a>4.6.8.4 mysqlbinlog サーバー ID の指定</h4></div></div></div><p>
        <span class="command"><strong>mysqlbinlog</strong></span> は、<code class="option">--read-from-remote-server</code> オプションで呼び出された場合、MySQL サーバーに接続し、自分を証明するためにサーバー ID を指定し、サーバーからバイナリログファイルを要求します。<span class="command"><strong>mysqlbinlog</strong></span> を使用してサーバーからログファイルを要求するには、いくつかの方法があります。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            一連のファイルを名前を明示的に示して指定します。<span class="command"><strong>mysqlbinlog</strong></span> は、各ファイルに接続して <code class="literal">Binlog dump</code> コマンドを発行します。サーバーはファイルを送信して切断します。ファイルごとに 1 つの接続があります。
          </p></li><li class="listitem"><p>
            開始ファイルと <code class="option">--to-last-log</code> を指定します。<span class="command"><strong>mysqlbinlog</strong></span> はすべてのファイルに接続して <code class="literal">Binlog dump</code> コマンドを発行します。サーバーはすべてのファイルを送信して切断します。
          </p></li><li class="listitem"><p>
            開始ファイルと <code class="option">--stop-never</code> を指定します (これは暗黙的に <code class="option">--to-last-log</code> を示します)。<span class="command"><strong>mysqlbinlog</strong></span> はすべてのファイルに対して接続して <code class="literal">Binlog dump</code> コマンドを発行します。サーバーはすべてのファイルを送信しますが、最後のファイルの送信後に切断しません。
          </p></li></ul></div><p>
        <code class="option">--read-from-remote-server</code> のみを使用すると、<span class="command"><strong>mysqlbinlog</strong></span> は 0 をサーバー ID として使用します。これは、要求された最後のログファイルの送信後に切断することをサーバーに指示します。
      </p><p>
        <code class="option">--read-from-remote-server</code> および <code class="option">--stop-never</code> を使用すると、<span class="command"><strong>mysqlbinlog</strong></span> はゼロ以外のサーバー ID を使用して接続するため、サーバーは最後のログファイルの送信後に切断しません。デフォルトではサーバー ID は 65535 ですが、<code class="option">--stop-never-slave-server-id</code> で変更できます。
      </p><p>
        したがって、ファイルを要求する最初の 2 つの方法では、<span class="command"><strong>mysqlbinlog</strong></span> がサーバー ID の 0 を指定するためサーバーは切断します。<code class="option">--stop-never</code> が指定された場合は、<span class="command"><strong>mysqlbinlog</strong></span> はゼロ以外のサーバー ID を指定するため切断しません。
      </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysqldumpslow"></a>4.6.9 <span class="command"><strong>mysqldumpslow</strong></span> — スロークエリーログファイルの要約</h3></div></div></div><a class="indexterm" name="idm139979148322784"></a><p>
        MySQL スロークエリーログは、実行に長い時間のかかるクエリーに関する情報を含みます (<a class="xref" href="server-administration.html#slow-query-log" title="5.2.5 スロークエリーログ">セクション5.2.5「スロークエリーログ」</a>を参照してください)。<span class="command"><strong>mysqldumpslow</strong></span> は MySQL スロークエリーログファイルを解析して内容のサマリーを出力します。
      </p><p>
        通常、<span class="command"><strong>mysqldumpslow</strong></span> は数字の特定の値および文字列データ値以外が同様のクエリーをグループ化します。サマリーの出力を表示する際、これらの値を <code class="literal">N</code> および <code class="literal">'S'</code> に<span class="quote">「<span class="quote">抽象化</span>」</span>します。<code class="option">-a</code> オプションおよび <code class="option">-n</code> オプションを使用して、値の抽象化の動作を変更できます。
      </p><p>
        <span class="command"><strong>mysqldumpslow</strong></span> は次のように起動します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqldumpslow [<em class="replaceable"><code>options</code></em>] [<em class="replaceable"><code>log_file</code></em> ...]</code></strong>
</pre><p>
        <span class="command"><strong>mysqldumpslow</strong></span> は次のオプションをサポートします。
      </p><div class="table"><a name="idm139979148310160"></a><p class="title"><b>表 4.16 <code class="literal">mysqldumpslow</code> のオプション</b></p><div class="table-contents"><table summary="mysqldumpslow のオプション" border="1"><colgroup><col class="format"><col class="description"></colgroup><thead><tr><th scope="col">形式</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><a class="link" href="programs.html#option_mysqldumpslow_abstract">-a</a></td><td>すべての数字を N に、文字列を S に抽象化しない</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldumpslow_abstract-numbers">-n</a></td><td>少なくとも指定された桁数の数字を抽象化</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldumpslow_debug">--debug</a></td><td>デバッグ情報を書き込み</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldumpslow_grep">-g</a></td><td>パターンに一致するステートメントのみを考慮</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldumpslow_help">--help</a></td><td>ヘルプメッセージを表示して終了</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldumpslow_host">-h</a></td><td>ログファイル名内のサーバーのホスト名</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldumpslow_instance">-i</a></td><td>サーバーインスタンスの名前</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldumpslow_lock">-l</a></td><td>合計時間からロック時間を減算しない</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldumpslow_reverse">-r</a></td><td>ソート順序を逆転</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldumpslow_sort">-s</a></td><td>出力のソート方法</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldumpslow_top">-t</a></td><td>最初から指定された数だけのクエリーのみ表示</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqldumpslow_verbose">--verbose</a></td><td>冗長モード</td></tr></tbody></table></div></div><br class="table-break"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysqldumpslow_help"></a>
            <a class="indexterm" name="idm139979148283792"></a> <a class="indexterm" name="idm139979148281616"></a> <code class="option">--help</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_mysqldumpslow_abstract"></a>
            <code class="option">-a</code>
          </p><p>
            すべての数字を <code class="literal">N</code> に、文字列を <code class="literal">'S'</code> に抽象化しません。
          </p></li><li class="listitem"><p><a name="option_mysqldumpslow_debug"></a>
            <a class="indexterm" name="idm139979148273632"></a> <a class="indexterm" name="idm139979148271456"></a> <code class="option">--debug</code>, <code class="option">-d</code>
          </p><p>
            デバッグモードで実行します。
          </p></li><li class="listitem"><p><a name="option_mysqldumpslow_grep"></a>
            <code class="option">-g <em class="replaceable"><code>pattern</code></em></code>
          </p><p>
            (<span class="command"><strong>grep</strong></span> 形式の) パターンに一致するクエリーのみを考慮します。
          </p></li><li class="listitem"><p><a name="option_mysqldumpslow_host"></a>
            <code class="option">-h <em class="replaceable"><code>host_name</code></em></code>
          </p><p>
            <code class="filename">*-slow.log</code> ファイル名の MySQL サーバーのホスト名。値にはワイルドカードを含めることができます。デフォルトは <code class="literal">*</code> (すべて一致) です。
          </p></li><li class="listitem"><p><a name="option_mysqldumpslow_instance"></a>
            <code class="option">-i <em class="replaceable"><code>name</code></em></code>
          </p><p>
            サーバーインスタンス名 (<span class="command"><strong>mysql.server</strong></span> 起動スクリプトを使用している場合)。
          </p></li><li class="listitem"><p><a name="option_mysqldumpslow_lock"></a>
            <code class="option">-l</code>
          </p><p>
            合計時間からロック時間を減算しません。
          </p></li><li class="listitem"><p><a name="option_mysqldumpslow_abstract-numbers"></a>
            <code class="option">-n <em class="replaceable"><code>N</code></em></code>
          </p><p>
            少なくとも <em class="replaceable"><code>N</code></em> 桁の数字を名前に抽象化します。
          </p></li><li class="listitem"><p><a name="option_mysqldumpslow_reverse"></a>
            <code class="option">-r</code>
          </p><p>
            ソート順序を逆転します。
          </p></li><li class="listitem"><p><a name="option_mysqldumpslow_sort"></a>
            <code class="option">-s <em class="replaceable"><code>sort_type</code></em></code>
          </p><p>
            出力のソート方法。<em class="replaceable"><code>sort_type</code></em> の値は次のリストから選択するようにしてください。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">t</code>、<code class="literal">at</code>: クエリー時間または平均クエリー時間でソート
              </p></li><li class="listitem"><p>
                <code class="literal">l</code>、<code class="literal">al</code>: ロック時間または平均ロック時間でソート
              </p></li><li class="listitem"><p>
                <code class="literal">r</code>、<code class="literal">ar</code>: 送信行数または平均送信行数でソート
              </p></li><li class="listitem"><p>
                <code class="literal">c</code>: カウントでソート
              </p></li></ul></div><p>
            デフォルトでは、<span class="command"><strong>mysqldumpslow</strong></span> は平均クエリー時間でソートします (<code class="option">-s at</code> と同等)。
          </p></li><li class="listitem"><p><a name="option_mysqldumpslow_top"></a>
            <code class="option">-t <em class="replaceable"><code>N</code></em></code>
          </p><p>
            出力内の最初の <em class="replaceable"><code>N</code></em> 個のクエリーのみを表示します。
          </p></li><li class="listitem"><p><a name="option_mysqldumpslow_verbose"></a>
            <a class="indexterm" name="idm139979148232944"></a> <a class="indexterm" name="idm139979148230768"></a> <code class="option">--verbose</code>, <code class="option">-v</code>
          </p><p>
            冗長モード。プログラムの動作についてより多くの情報を出力します。
          </p></li></ul></div><p>
        使用例:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqldumpslow</code></strong>

Reading mysql slow query log from /usr/local/mysql/data/mysqld51-apple-slow.log
Count: 1  Time=4.32s (4s)  Lock=0.00s (0s)  Rows=0.0 (0), root[root]@localhost
 insert into t2 select * from t1

Count: 3  Time=2.53s (7s)  Lock=0.00s (0s)  Rows=0.0 (0), root[root]@localhost
 insert into t2 select * from t1 limit N

Count: 3  Time=2.13s (6s)  Lock=0.00s (0s)  Rows=0.0 (0), root[root]@localhost
 insert into t1 select * from t1
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysqlhotcopy"></a>4.6.10 <span class="command"><strong>mysqlhotcopy</strong></span> — データベースバックアッププログラム</h3></div></div></div><a class="indexterm" name="idm139979148222688"></a><a class="indexterm" name="idm139979148221472"></a><a class="indexterm" name="idm139979148219472"></a><a class="indexterm" name="idm139979148217536"></a><a class="indexterm" name="idm139979148215632"></a><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          このユーティリティーは MySQL 5.6.20 で非推奨で、MySQL 5.7 で削除されます。
        </p></div><p>
        <span class="command"><strong>mysqlhotcopy</strong></span> はもともと Tim Bunce によって書かれ、提供された Perl スクリプトです。<code class="literal">FLUSH TABLES</code>、<code class="literal">LOCK TABLES</code>、および <code class="literal">cp</code> または <code class="literal">scp</code> を使用してデータベースのバックアップを作成します。データベースまたは単一のテーブルのバックアップを作成するための高速な方法ですが、データベースディレクトリが置かれているのと同じマシンでしか実行できません。<span class="command"><strong>mysqlhotcopy</strong></span> は <code class="literal">MyISAM</code> テーブルおよび<code class="literal">ARCHIVE</code> テーブルのみに機能します。Unix で実行されます。
      </p><p>
        <span class="command"><strong>mysqlhotcopy</strong></span> を使用するには、バックアップを行うテーブルのファイルへの読み取りアクセス、これらのテーブルの <code class="literal">SELECT</code> 権限、<code class="literal">RELOAD</code> 権限 (<code class="literal">FLUSH TABLES</code> を実行できるように)、および <code class="literal">LOCK TABLES</code> 権限 (テーブルをロックできるように) を持っていなければなりません。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqlhotcopy <em class="replaceable"><code>db_name</code></em> [<em class="replaceable"><code>/path/to/new_directory</code></em>]</code></strong>
</pre><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqlhotcopy <em class="replaceable"><code>db_name_1</code></em> ... <em class="replaceable"><code>db_name_n</code></em> <em class="replaceable"><code>/path/to/new_directory</code></em></code></strong>
</pre><p>
        指定されたデータベース内で正規表現と一致するテーブルをバックアップします。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqlhotcopy <em class="replaceable"><code>db_name</code></em>./<em class="replaceable"><code>regex</code></em>/</code></strong>
</pre><p>
        テーブル名の正規表現は、チルダ (<span class="quote">「<span class="quote"><code class="literal">~</code></span>」</span>) をプリフィクスとして使用することで否定できます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqlhotcopy <em class="replaceable"><code>db_name</code></em>./~<em class="replaceable"><code>regex</code></em>/</code></strong>
</pre><p>
        <span class="command"><strong>mysqlhotcopy</strong></span> は次のオプションをサポートします。これらはコマンド行またはオプションファイルの <code class="literal">[mysqlhotcopy]</code> グループおよび <code class="literal">[client]</code> グループで指定できます。MySQL プログラムによって使用されるオプションファイルの詳細については、<a class="xref" href="programs.html#option-files" title="4.2.6 オプションファイルの使用">セクション4.2.6「オプションファイルの使用」</a>を参照してください。
      </p><div class="table"><a name="idm139979148183824"></a><p class="title"><b>表 4.17 <code class="literal">mysqlhotcopy</code> のオプション</b></p><div class="table-contents"><table summary="mysqlhotcopy のオプション" border="1"><colgroup><col class="format"><col class="description"></colgroup><thead><tr><th scope="col">形式</th><th scope="col">説明</th></tr></thead><tbody><tr><td scope="row"><a class="link" href="programs.html#option_mysqlhotcopy_addtodest">--addtodest</a></td><td>ターゲットディレクトリの名前変更をせず (存在する場合)、単にファイルを追加</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlhotcopy_allowold">--allowold</a></td><td>ターゲットが存在する場合中止せず、_old サフィクスを追加することで名前変更</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlhotcopy_checkpoint">--checkpoint</a></td><td>チェックポイントエントリを挿入</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlhotcopy_chroot">--chroot</a></td><td>mysqld が動作する chroot ジェイルのベースディレクトリ</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlhotcopy_debug">--debug</a></td><td>デバッグのログを書き込み</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlhotcopy_dryrun">--dryrun</a></td><td>アクションを実行せずにレポート</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlhotcopy_flushlog">--flushlog</a></td><td>すべてのテーブルがロックされたあとにログをフラッシュ</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlhotcopy_help">--help</a></td><td>ヘルプメッセージを表示して終了</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlhotcopy_host">--host</a></td><td>指定されたホスト上で MySQL サーバーに接続</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlhotcopy_keepold">--keepold</a></td><td>終了後に以前の (名前変更された) ターゲットを消去しない</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlhotcopy_method">--method</a></td><td>ファイルをコピーする方法</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlhotcopy_noindices">--noindices</a></td><td>フルインデックスファイルをバックアップに含めない</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlhotcopy_old_server">--old_server</a></td><td>FLUSH TABLES tbl_list WITH READ LOCK をサポートしないサーバーに接続しない</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlhotcopy_password">--password</a></td><td>サーバーに接続する際に使用するパスワード</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlhotcopy_port">--port</a></td><td>接続に使用する TCP/IP ポート番号</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlhotcopy_quiet">--quiet</a></td><td>エラー発生時以外サイレント</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlhotcopy_regexp">--regexp</a></td><td>与えられた正規表現と一致する名前を持つデータベースをすべてコピー</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlhotcopy_resetmaster">--resetmaster</a></td><td>テーブルをすべてロックしたあとにバイナリログをリセット</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlhotcopy_resetslave">--resetslave</a></td><td>テーブルをすべてロックしたあとに master.info ファイルをリセット</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlhotcopy_socket">--socket</a></td><td>ローカルホストへの接続で、使用する Unix ソケットファイル</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlhotcopy_tmpdir">--tmpdir</a></td><td>一時ディレクトリ</td></tr><tr><td scope="row"><a class="link" href="programs.html#option_mysqlhotcopy_user">--user</a></td><td>サーバーへの接続時に使用する MySQL ユーザー名</td></tr></tbody></table></div></div><br class="table-break"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysqlhotcopy_help"></a>
            <a class="indexterm" name="idm139979148140160"></a> <a class="indexterm" name="idm139979148137984"></a> <code class="option">--help</code>, <code class="option">-?</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_mysqlhotcopy_addtodest"></a>
            <a class="indexterm" name="idm139979148133232"></a> <a class="indexterm" name="idm139979148131088"></a> <code class="option">--addtodest</code>
          </p><p>
            ターゲットディレクトリの名前変更をせず (存在する場合)、単にファイルを追加します。
          </p></li><li class="listitem"><p><a name="option_mysqlhotcopy_allowold"></a>
            <a class="indexterm" name="idm139979148126528"></a> <a class="indexterm" name="idm139979148124352"></a> <code class="option">--allowold</code>
          </p><p>
            ターゲットが存在する場合、中止せず <code class="literal">_old</code> サフィクスを追加することで名前変更します。
          </p></li><li class="listitem"><p><a name="option_mysqlhotcopy_checkpoint"></a>
            <a class="indexterm" name="idm139979148119168"></a> <a class="indexterm" name="idm139979148117024"></a> <code class="option">--checkpoint=<em class="replaceable"><code>db_name</code></em>.<em class="replaceable"><code>tbl_name</code></em></code>
          </p><p>
            指定されたデータベース <em class="replaceable"><code>db_name</code></em> とテーブル <em class="replaceable"><code>tbl_name</code></em> にチェックポイントエントリを挿入します。
          </p></li><li class="listitem"><p><a name="option_mysqlhotcopy_chroot"></a>
            <a class="indexterm" name="idm139979148110912"></a> <a class="indexterm" name="idm139979148108736"></a> <code class="option">--chroot=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            <span class="command"><strong>mysqld</strong></span> が稼働している <span class="command"><strong>chroot</strong></span> jail のベースディレクトリ。<em class="replaceable"><code>path</code></em> 値は <span class="command"><strong>mysqld</strong></span> に与えられる <code class="option">--chroot</code> オプションと一致するようにしてください。
          </p></li><li class="listitem"><p><a name="option_mysqlhotcopy_debug"></a>
            <a class="indexterm" name="idm139979148100672"></a> <a class="indexterm" name="idm139979148098496"></a> <code class="option">--debug</code>
          </p><p>
            デバッグ出力を有効化します。
          </p></li><li class="listitem"><p><a name="option_mysqlhotcopy_dryrun"></a>
            <a class="indexterm" name="idm139979148094096"></a> <a class="indexterm" name="idm139979148091920"></a> <code class="option">--dryrun</code>, <code class="option">-n</code>
          </p><p>
            アクションを実行せずにレポートします。
          </p></li><li class="listitem"><p><a name="option_mysqlhotcopy_flushlog"></a>
            <a class="indexterm" name="idm139979148087168"></a> <a class="indexterm" name="idm139979148084992"></a> <code class="option">--flushlog</code>
          </p><p>
            すべてのテーブルがロックされたあとにログをフラッシュします。
          </p></li><li class="listitem"><p><a name="option_mysqlhotcopy_host"></a>
            <a class="indexterm" name="idm139979148080560"></a> <a class="indexterm" name="idm139979148078384"></a> <code class="option">--host=<em class="replaceable"><code>host_name</code></em></code>, <code class="option">-h <em class="replaceable"><code>host_name</code></em></code>
          </p><p>
            ローカルサーバーへの TCP/IP 接続を行うために使用するローカルホストのホスト名。デフォルトでは、Unix ソケットファイルを使用して <code class="literal">localhost</code> に接続します。
          </p></li><li class="listitem"><p><a name="option_mysqlhotcopy_keepold"></a>
            <a class="indexterm" name="idm139979148072064"></a> <a class="indexterm" name="idm139979148069920"></a> <code class="option">--keepold</code>
          </p><p>
            終了後に以前の (名前変更された) ターゲットを削除しません。
          </p></li><li class="listitem"><p><a name="option_mysqlhotcopy_method"></a>
            <a class="indexterm" name="idm139979148065440"></a> <a class="indexterm" name="idm139979148063264"></a> <code class="option">--method=<em class="replaceable"><code>command</code></em></code>
          </p><p>
            ファイルのコピー方法 (<code class="literal">cp</code> または <code class="literal">scp</code>)。デフォルトは <code class="literal">cp</code> です。
          </p></li><li class="listitem"><p><a name="option_mysqlhotcopy_noindices"></a>
            <a class="indexterm" name="idm139979148056480"></a> <a class="indexterm" name="idm139979148054336"></a> <code class="option">--noindices</code>
          </p><p>
            <code class="literal">MyISAM</code> テーブルのフルインデックスファイルをバックアップに含めません。これによりバックアップを小さく、高速にできます。リロードされたテーブルのインデックスはあとで <span class="command"><strong>myisamchk -rq</strong></span> を使用して再構築できます。
          </p></li><li class="listitem"><p><a name="option_mysqlhotcopy_password"></a>
            <a class="indexterm" name="idm139979148047872"></a> <a class="indexterm" name="idm139979148045696"></a> <code class="option">--password=<em class="replaceable"><code>password</code></em></code>, <code class="option">-p<em class="replaceable"><code>password</code></em></code>
          </p><p>
            サーバーに接続する際に使用するパスワードです。ほかの MySQL プログラムとは異なり、このオプションではパスワード値はオプションではありません。
          </p><p>
            コマンド行でパスワードを指定することはセキュアでないとみなすべきです。<a class="xref" href="security.html#password-security-user" title="6.1.2.1 パスワードセキュリティーのためのエンドユーザーガイドライン">セクション6.1.2.1「パスワードセキュリティーのためのエンドユーザーガイドライン」</a>を参照してください。オプションファイルを使用すれば、コマンド行でパスワードを指定することを回避できます。
          </p></li><li class="listitem"><p><a name="option_mysqlhotcopy_port"></a>
            <a class="indexterm" name="idm139979148038576"></a> <a class="indexterm" name="idm139979148036432"></a> <code class="option">--port=<em class="replaceable"><code>port_num</code></em></code>, <code class="option">-P <em class="replaceable"><code>port_num</code></em></code>
          </p><p>
            ローカルサーバーへの接続時に使用する TCP/IP ポート番号。
          </p></li><li class="listitem"><p><a name="option_mysqlhotcopy_old_server"></a>
            <a class="indexterm" name="idm139979148031056"></a> <a class="indexterm" name="idm139979148028912"></a> <code class="option">--old_server</code>
          </p><p>
            MySQL 5.6 では、<span class="command"><strong>mysqlhotcopy</strong></span> は <code class="literal">FLUSH TABLES <em class="replaceable"><code>tbl_list</code></em> WITH READ LOCK</code> を使用してテーブルのフラッシュおよびロックを実行します。サーバーが、このステートメントが導入された 5.5.3 より古い場合は、<code class="option">--old_server</code> オプションを使用します。
          </p></li><li class="listitem"><p><a name="option_mysqlhotcopy_quiet"></a>
            <a class="indexterm" name="idm139979148021008"></a> <a class="indexterm" name="idm139979148018832"></a> <code class="option">--quiet</code>, <code class="option">-q</code>
          </p><p>
            エラー発生時以外サイレントにします。
          </p></li><li class="listitem"><p><a name="option_mysqlhotcopy_record_log_pos"></a>
            <a class="indexterm" name="idm139979148013968"></a> <a class="indexterm" name="idm139979148011808"></a> <code class="option">--record_log_pos=<em class="replaceable"><code>db_name</code></em>.<em class="replaceable"><code>tbl_name</code></em></code>
          </p><p>
            指定されたデータベース <em class="replaceable"><code>db_name</code></em> およびテーブル <em class="replaceable"><code>tbl_name</code></em> に、マスターとスレーブのステータスを記録します。
          </p></li><li class="listitem"><p><a name="option_mysqlhotcopy_regexp"></a>
            <a class="indexterm" name="idm139979148005568"></a> <a class="indexterm" name="idm139979148003392"></a> <code class="option">--regexp=<em class="replaceable"><code>expr</code></em></code>
          </p><p>
            与えられた正規表現と一致する名前を持つデータベースをすべてコピーします。
          </p></li><li class="listitem"><p><a name="option_mysqlhotcopy_resetmaster"></a>
            <a class="indexterm" name="idm139979147998624"></a> <a class="indexterm" name="idm139979147996480"></a> <code class="option">--resetmaster</code>
          </p><p>
            テーブルをすべてロックしたあとにバイナリログをリセットします。
          </p></li><li class="listitem"><p><a name="option_mysqlhotcopy_resetslave"></a>
            <a class="indexterm" name="idm139979147991968"></a> <a class="indexterm" name="idm139979147989824"></a> <code class="option">--resetslave</code>
          </p><p>
            テーブルをすべてロックしたあとに、マスター情報リポジトリファイルまたはテーブルをリセットします。
          </p></li><li class="listitem"><p><a name="option_mysqlhotcopy_socket"></a>
            <a class="indexterm" name="idm139979147985216"></a> <a class="indexterm" name="idm139979147983040"></a> <code class="option">--socket=<em class="replaceable"><code>path</code></em></code>, <code class="option">-S <em class="replaceable"><code>path</code></em></code>
          </p><p>
            <code class="literal">localhost</code> への接続に使用される Unix ソケットファイル。
          </p></li><li class="listitem"><p><a name="option_mysqlhotcopy_suffix"></a>
            <a class="indexterm" name="idm139979147976992"></a> <a class="indexterm" name="idm139979147974816"></a> <code class="option">--suffix=<em class="replaceable"><code>str</code></em></code>
          </p><p>
            コピーされたデータベースの名前に使用するサフィクス。
          </p></li><li class="listitem"><p><a name="option_mysqlhotcopy_tmpdir"></a>
            <a class="indexterm" name="idm139979147970144"></a> <a class="indexterm" name="idm139979147967968"></a> <code class="option">--tmpdir=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            一時ディレクトリ。デフォルトは <code class="filename">/tmp</code> です。
          </p></li><li class="listitem"><p><a name="option_mysqlhotcopy_user"></a>
            <a class="indexterm" name="idm139979147962544"></a> <a class="indexterm" name="idm139979147960368"></a> <code class="option">--user=<em class="replaceable"><code>user_name</code></em></code>, <code class="option">-u <em class="replaceable"><code>user_name</code></em></code>
          </p><p>
            サーバーへの接続時に使用する MySQL ユーザー名。
          </p></li></ul></div><p>
        <code class="option">--checkpoint</code> オプションおよび <code class="option">--record_log_pos</code> オプションに必要なテーブルの構造に関する情報を含めて、追加の <span class="command"><strong>mysqlhotcopy</strong></span> ドキュメントに関しては、<code class="literal">perldoc</code> を使用してください。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>perldoc mysqlhotcopy</code></strong>
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-convert-table-format"></a>4.6.11 <span class="command"><strong>mysql_convert_table_format</strong></span> — 指定されたストレージエンジンを使用するためのテーブルの変換</h3></div></div></div><a class="indexterm" name="idm139979147949056"></a><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          このユーティリティーは MySQL 5.6.17 で非推奨で、MySQL 5.7 で削除されます。
        </p></div><p>
        <span class="command"><strong>mysql_convert_table_format</strong></span> は、データベース内のテーブルを、特定のストレージエンジン (デフォルトでは <code class="literal">MyISAM</code>) を使用するように変換します。<span class="command"><strong>mysql_convert_table_format</strong></span> は Perl で作成されており、<code class="literal">DBI</code> および <code class="literal">DBD::mysql</code> Perl モジュールがインストールされている必要があります (<a class="xref" href="installing.html#perl-support" title="2.13 Perl のインストールに関する注釈">セクション2.13「Perl のインストールに関する注釈」</a>を参照してください)。
      </p><p>
        <span class="command"><strong>mysql_convert_table_format</strong></span> は次のように起動します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql_convert_table_format [<em class="replaceable"><code>options</code></em>]<em class="replaceable"><code>db_name</code></em></code></strong>
</pre><p>
        <em class="replaceable"><code>db_name</code></em> 引数は変換されるテーブルを含むデータベースを示します。
      </p><p>
        <span class="command"><strong>mysql_convert_table_format</strong></span> は次のリストで説明するオプションをサポートします。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysql_convert_table_format_help"></a>
            <a class="indexterm" name="idm139979147934672"></a> <a class="indexterm" name="idm139979147932512"></a> <code class="option">--help</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_mysql_convert_table_format_force"></a>
            <a class="indexterm" name="idm139979147927936"></a> <a class="indexterm" name="idm139979147925776"></a> <code class="option">--force</code>
          </p><p>
            エラーが発生しても続行します。
          </p></li><li class="listitem"><p><a name="option_mysql_convert_table_format_host"></a>
            <a class="indexterm" name="idm139979147921280"></a> <a class="indexterm" name="idm139979147919120"></a> <code class="option">--host=<em class="replaceable"><code>host_name</code></em></code>
          </p><p>
            指定されたホストの MySQL サーバーに接続します。
          </p></li><li class="listitem"><p><a name="option_mysql_convert_table_format_password"></a>
            <a class="indexterm" name="idm139979147914192"></a> <a class="indexterm" name="idm139979147911984"></a> <code class="option">--password=<em class="replaceable"><code>password</code></em></code>
          </p><p>
            サーバーに接続する際に使用するパスワードです。ほかの MySQL プログラムとは異なり、このオプションではパスワード値はオプションではありません。
          </p><p>
            コマンド行でパスワードを指定することはセキュアでないとみなすべきです。<a class="xref" href="security.html#password-security-user" title="6.1.2.1 パスワードセキュリティーのためのエンドユーザーガイドライン">セクション6.1.2.1「パスワードセキュリティーのためのエンドユーザーガイドライン」</a>を参照してください。オプションファイルを使用すれば、コマンド行でパスワードを指定することを回避できます。
          </p></li><li class="listitem"><p><a name="option_mysql_convert_table_format_port"></a>
            <a class="indexterm" name="idm139979147905456"></a> <a class="indexterm" name="idm139979147903328"></a> <code class="option">--port=<em class="replaceable"><code>port_num</code></em></code>
          </p><p>
            接続に使用する TCP/IP ポート番号。
          </p></li><li class="listitem"><p><a name="option_mysql_convert_table_format_socket"></a>
            <a class="indexterm" name="idm139979147898432"></a> <a class="indexterm" name="idm139979147896224"></a> <code class="option">--socket=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            <code class="literal">localhost</code> への接続で使用する Unix ソケットファイル。
          </p></li><li class="listitem"><p><a name="option_mysql_convert_table_format_type"></a>
            <a class="indexterm" name="idm139979147890864"></a> <a class="indexterm" name="idm139979147888704"></a> <code class="option">--type=<em class="replaceable"><code>engine_name</code></em></code>
          </p><p>
            テーブルを変換して使用するようにするべきストレージエンジンを指定します。このオプションが指定されていない場合、デフォルトは <code class="literal">MyISAM</code> です。
          </p></li><li class="listitem"><p><a name="option_mysql_convert_table_format_user"></a>
            <a class="indexterm" name="idm139979147882912"></a> <a class="indexterm" name="idm139979147880752"></a> <code class="option">--user=<em class="replaceable"><code>user_name</code></em></code>
          </p><p>
            サーバーへの接続時に使用する MySQL ユーザー名。
          </p></li><li class="listitem"><p><a name="option_mysql_convert_table_format_verbose"></a>
            <a class="indexterm" name="idm139979147875824"></a> <a class="indexterm" name="idm139979147873616"></a> <code class="option">--verbose</code>
          </p><p>
            冗長モード。プログラムの動作についてより多くの情報を出力します。
          </p></li><li class="listitem"><p><a name="option_mysql_convert_table_format_version"></a>
            <a class="indexterm" name="idm139979147869040"></a> <a class="indexterm" name="idm139979147866832"></a> <code class="option">--version</code>
          </p><p>
            バージョン情報を表示して終了します。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-find-rows"></a>4.6.12 <span class="command"><strong>mysql_find_rows</strong></span> — ファイルからの SQL ステートメントの抽出</h3></div></div></div><a class="indexterm" name="idm139979147861488"></a><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          このユーティリティーは MySQL 5.6.17 で非推奨で、MySQL 5.7 で削除されます。
        </p></div><p>
        <span class="command"><strong>mysql_find_rows</strong></span> は、SQL ステートメントを含むファイルを読み取り、指定された正規表現に一致するステートメント、または <code class="literal">USE <em class="replaceable"><code>db_name</code></em></code> か <code class="literal">SET</code> ステートメントを含むステートメントを抽出します。このユーティリティーは、ステートメントがセミコロン (<code class="literal">;</code>) 文字で終了することを想定しています。
      </p><p>
        <span class="command"><strong>mysql_find_rows</strong></span> は次のように起動します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql_find_rows [<em class="replaceable"><code>options</code></em>] [<em class="replaceable"><code>file_name</code></em> ...]</code></strong>
</pre><p>
        各<em class="replaceable"><code>file_name</code></em> 引数は SQL ステートメントを含むファイル名であるべきです。ファイル名が指定されない場合、<span class="command"><strong>mysql_find_rows</strong></span> は標準入力を読み取ります。
      </p><p>
        例:
      </p><pre class="programlisting">
mysql_find_rows --regexp=problem_table --rows=20 &lt; update.log
mysql_find_rows --regexp=problem_table  update-log.1 update-log.2
</pre><p>
        <span class="command"><strong>mysql_find_rows</strong></span> は次のオプションをサポートします。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysql_find_rows_help"></a>
            <a class="indexterm" name="idm139979147845168"></a> <a class="indexterm" name="idm139979147842992"></a> <code class="option">--help</code>, <code class="option">--Information</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_mysql_find_rows_regexp"></a>
            <a class="indexterm" name="idm139979147837616"></a> <a class="indexterm" name="idm139979147835440"></a> <code class="option">--regexp=<em class="replaceable"><code>pattern</code></em></code>
          </p><p>
            パターンに一致するクエリーを表示します。
          </p></li><li class="listitem"><p><a name="option_mysql_find_rows_rows"></a>
            <a class="indexterm" name="idm139979147830768"></a> <a class="indexterm" name="idm139979147828592"></a> <code class="option">--rows=<em class="replaceable"><code>N</code></em></code>
          </p><p>
            <em class="replaceable"><code>N</code></em> 個のクエリーを表示したあと終了します。
          </p></li><li class="listitem"><p><a name="option_mysql_find_rows_skip-use-db"></a>
            <a class="indexterm" name="idm139979147823552"></a> <a class="indexterm" name="idm139979147821408"></a> <code class="option">--skip-use-db</code>
          </p><p>
            出力に <code class="literal">USE <em class="replaceable"><code>db_name</code></em></code> ステートメントを含めません。
          </p></li><li class="listitem"><p><a name="option_mysql_find_rows_start_row"></a>
            <a class="indexterm" name="idm139979147815936"></a> <a class="indexterm" name="idm139979147813792"></a> <code class="option">--start_row=<em class="replaceable"><code>N</code></em></code>
          </p><p>
            この行から出力を開始します。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-fix-extensions"></a>4.6.13 <span class="command"><strong>mysql_fix_extensions</strong></span> — テーブルファイル名の拡張子の正規化</h3></div></div></div><a class="indexterm" name="idm139979147808208"></a><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          このユーティリティーは MySQL 5.6.17 で非推奨で、MySQL 5.7 で削除されます。
        </p></div><p>
        <span class="command"><strong>mysql_fix_extensions</strong></span> は、<code class="literal">MyISAM</code> (または <code class="literal">ISAM</code>) テーブルファイルの拡張子を標準形式に変換します。<code class="filename">.frm</code>、<code class="filename">.myd</code>、<code class="filename">.myi</code>、<code class="filename">.isd</code>、および <code class="filename">.ism</code> (大文字小文字を区別しません) に一致する拡張子を持つファイルを検索し、それぞれ <code class="filename">.frm</code>、<code class="filename">.MYD</code>、<code class="filename">.MYI</code>、<code class="filename">.ISD</code>、および <code class="filename">.ISM</code> に名前変更します。これは、(Windows などの) ファイル名の大文字と小文字を区別しないシステムから、ファイル名の大文字と小文字を区別するシステムにファイルを転送したあとで便利です。
      </p><p>
        <span class="command"><strong>mysql_fix_extensions</strong></span> は次のように起動します。ここで <em class="replaceable"><code>data_dir</code></em> は MySQL データディレクトリへのパス名です。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql_fix_extensions <em class="replaceable"><code>data_dir</code></em></code></strong>
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-setpermission"></a>4.6.14 <span class="command"><strong>mysql_setpermission</strong></span> — 付与テーブルに許可をインタラクティブに設定</h3></div></div></div><a class="indexterm" name="idm139979147789984"></a><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          このユーティリティーは MySQL 5.6.17 で非推奨で、MySQL 5.7 で削除されます。
        </p></div><p>
        <span class="command"><strong>mysql_setpermission</strong></span> はもともと Luuk de Boer によって作成および提供された Perl スクリプトです。それは MySQL 付与テーブルに許可をインタラクティブに設定します。<span class="command"><strong>mysql_setpermission</strong></span> は Perl で記述され、<code class="literal">DBI</code> および <code class="literal">DBD::mysql</code> Perl モジュールがインストールされていることを必要とします (<a class="xref" href="installing.html#perl-support" title="2.13 Perl のインストールに関する注釈">セクション2.13「Perl のインストールに関する注釈」</a>を参照してください)。
      </p><p>
        <span class="command"><strong>mysql_setpermission</strong></span> は次のように起動します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql_setpermission [<em class="replaceable"><code>options</code></em>]</code></strong>
</pre><p>
        <em class="replaceable"><code>options</code></em> は、ヘルプメッセージを表示するための <code class="option">--help</code>、または MySQL サーバーへの接続方法を示すオプションにしてください。付与テーブル内の既存の許可を変更する場合は、接続するときに使用されるアカウントによって、保有している許可が決定されます。
      </p><p>
        <span class="command"><strong>mysql_setpermissions</strong></span> は、ユーザーのホームディレクトリに <code class="filename">.my.cnf</code> ファイルが存在する場合は、そこから <code class="literal">[client]</code> グループおよび <code class="literal">[perl]</code> グループのオプションも読み取ります。
      </p><p>
        <span class="command"><strong>mysql_setpermission</strong></span> は次のオプションをサポートします。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysql_setpermission_help"></a>
            <a class="indexterm" name="idm139979147772160"></a> <a class="indexterm" name="idm139979147769984"></a> <code class="option">--help</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_mysql_setpermission_host"></a>
            <a class="indexterm" name="idm139979147765568"></a> <a class="indexterm" name="idm139979147763392"></a> <code class="option">--host=<em class="replaceable"><code>host_name</code></em></code>
          </p><p>
            指定されたホストの MySQL サーバーに接続します。
          </p></li><li class="listitem"><p><a name="option_mysql_setpermission_password"></a>
            <a class="indexterm" name="idm139979147758672"></a> <a class="indexterm" name="idm139979147756496"></a> <code class="option">--password=<em class="replaceable"><code>password</code></em></code>
          </p><p>
            サーバーに接続する際に使用するパスワードです。ほかの MySQL プログラムとは異なり、このオプションではパスワード値はオプションではありません。
          </p><p>
            コマンド行でパスワードを指定することはセキュアでないとみなすべきです。<a class="xref" href="security.html#password-security-user" title="6.1.2.1 パスワードセキュリティーのためのエンドユーザーガイドライン">セクション6.1.2.1「パスワードセキュリティーのためのエンドユーザーガイドライン」</a>を参照してください。オプションファイルを使用すれば、コマンド行でパスワードを指定することを回避できます。
          </p></li><li class="listitem"><p><a name="option_mysql_setpermission_port"></a>
            <a class="indexterm" name="idm139979147749936"></a> <a class="indexterm" name="idm139979147747792"></a> <code class="option">--port=<em class="replaceable"><code>port_num</code></em></code>
          </p><p>
            接続に使用する TCP/IP ポート番号。
          </p></li><li class="listitem"><p><a name="option_mysql_setpermission_socket"></a>
            <a class="indexterm" name="idm139979147743104"></a> <a class="indexterm" name="idm139979147740928"></a> <code class="option">--socket=<em class="replaceable"><code>path</code></em></code>
          </p><p>
            <code class="literal">localhost</code> への接続で使用する Unix ソケットファイル。
          </p></li><li class="listitem"><p><a name="option_mysql_setpermission_user"></a>
            <a class="indexterm" name="idm139979147735488"></a> <a class="indexterm" name="idm139979147733312"></a> <code class="option">--user=<em class="replaceable"><code>user_name</code></em></code>
          </p><p>
            サーバーへの接続時に使用する MySQL ユーザー名。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-waitpid"></a>4.6.15 <span class="command"><strong>mysql_waitpid</strong></span> — プロセスを強制終了して終了を待機</h3></div></div></div><a class="indexterm" name="idm139979147727728"></a><p>
        <span class="command"><strong>mysql_waitpid</strong></span> はプロセスに対して終了するように信号を送信して、そのプロセスの終了を待機します。<code class="literal">kill()</code> システムコールおよび Unix シグナルを使用するため、Unix および Unix 類似のシステムで動作します。
      </p><p>
        このプログラムは MySQL 5.6.19 で非推奨となり、MySQL 5.7 で削除されています。
      </p><p>
        <span class="command"><strong>mysql_waitpid</strong></span> は次のように起動します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql_waitpid [<em class="replaceable"><code>options</code></em>] <em class="replaceable"><code>pid</code></em> <em class="replaceable"><code>wait_time</code></em></code></strong>
</pre><p>
        <span class="command"><strong>mysql_waitpid</strong></span> は <em class="replaceable"><code>pid</code></em> で特定されるプロセスにシグナル 0 を送信し、プロセスの終了を最大 <em class="replaceable"><code>wait_time</code></em> 秒まで待機します。<em class="replaceable"><code>pid</code></em> および <em class="replaceable"><code>wait_time</code></em> は正の整数でなければなりません。
      </p><p>
        プロセスが待機時間内に終了するか、プロセスが存在しない場合は、<span class="command"><strong>mysql_waitpid</strong></span> は 0 を返します。そうでない場合は 1 を返します。
      </p><p>
        <code class="literal">kill()</code> システムコールでシグナル 0 を処理できない場合、<span class="command"><strong>mysql_waitpid()</strong></span> は代わりにシグナル 1 を使用します。
      </p><p>
        <span class="command"><strong>mysql_waitpid</strong></span> は次のオプションをサポートします。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysql_waitpid_help"></a>
            <a class="indexterm" name="idm139979147710576"></a> <a class="indexterm" name="idm139979147708400"></a> <code class="option">--help</code>, <code class="option">-?</code>, <code class="option">-I</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_mysql_waitpid_verbose"></a>
            <a class="indexterm" name="idm139979147703216"></a> <a class="indexterm" name="idm139979147701040"></a> <code class="option">--verbose</code>, <code class="option">-v</code>
          </p><p>
            冗長モード。シグナル 0 を使用できず、代わりにシグナル 1 を使用した場合に警告を表示します。
          </p></li><li class="listitem"><p><a name="option_mysql_waitpid_version"></a>
            <a class="indexterm" name="idm139979147696128"></a> <a class="indexterm" name="idm139979147693952"></a> <code class="option">--version</code>, <code class="option">-V</code>
          </p><p>
            バージョン情報を表示して終了します。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-zap"></a>4.6.16 <span class="command"><strong>mysql_zap</strong></span> — パターンに一致するプロセスを強制終了</h3></div></div></div><a class="indexterm" name="idm139979147688224"></a><p>
        <span class="command"><strong>mysql_zap</strong></span> は、パターンに一致するプロセスを強制終了します。<span class="command"><strong>ps</strong></span> コマンドおよび Unix シグナルを使用するため、Unix および Unix 類似のシステムで動作します。
      </p><p>
        このプログラムは MySQL 5.6.19 で非推奨となり、MySQL 5.7 で削除されています。
      </p><p>
        <span class="command"><strong>mysql_zap</strong></span> は次のように起動します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql_zap [-<em class="replaceable"><code>signal</code></em>] [-?Ift] <em class="replaceable"><code>pattern</code></em></code></strong>
</pre><p>
        プロセスは <span class="command"><strong>ps</strong></span> コマンドからの出力行にパターンが含まれている場合に一致します。デフォルトでは、<span class="command"><strong>mysql_zap</strong></span> は各プロセスに対して確認を要求します。プロセスを強制終了するには <code class="literal">y</code>、<span class="command"><strong>mysql_zap</strong></span> を終了するには <code class="literal">q</code> で応答します。その他の応答に対しては、<span class="command"><strong>mysql_zap</strong></span> はプロセスの強制終了を試みません。
      </p><p>
        <code class="option">-<em class="replaceable"><code>signal</code></em></code> オプションが指定された場合は、各プロセスに送信するシグナルの名前または数字を指定します。そうでない場合は、<span class="command"><strong>mysql_zap</strong></span> はまず <code class="literal">TERM</code> (シグナル 15)、次に <code class="literal">KILL</code> (シグナル 9)を試します。
      </p><p>
        <span class="command"><strong>mysql_zap</strong></span> は次の追加オプションをサポートします。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysql_zap_help"></a>
            <code class="option">--help</code>, <code class="option">-?</code>, <code class="option">-I</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_mysql_zap_force"></a>
            <code class="option">-f</code>
          </p><p>
            強制モード。<span class="command"><strong>mysql_zap</strong></span> は各プロセスを確認なしで強制終了しようとします。
          </p></li><li class="listitem"><p><a name="option_mysql_zap_test"></a>
            <code class="option">-t</code>
          </p><p>
            テストモード。各プロセスの情報を表示しますが強制終了はしません。
          </p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="programs-development"></a>4.7 MySQL プログラム開発ユーティリティー</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="programs.html#msql2mysql">4.7.1 <span class="command"><strong>msql2mysql</strong></span> — mSQL プログラムを MySQL で使用するために変換</a></span></dt><dt><span class="section"><a href="programs.html#mysql-config">4.7.2 <span class="command"><strong>mysql_config</strong></span> — クライアントのコンパイル用オプションの表示</a></span></dt><dt><span class="section"><a href="programs.html#my-print-defaults">4.7.3 <span class="command"><strong>my_print_defaults</strong></span> — オプションファイルからのオプションの表示</a></span></dt><dt><span class="section"><a href="programs.html#resolve-stack-dump">4.7.4 <span class="command"><strong>resolve_stack_dump</strong></span> — 数値スタックトレースダンプをシンボルに解決</a></span></dt></dl></div><p>
    このセクションでは、MySQL プログラムを開発する際に有用であると思われるいくつかのユーティリティーについて説明します。
  </p><p>
    シェルスクリプトで <span class="command"><strong>my_print_defaults</strong></span> プログラムを使用して、オプションファイルを解析し、所定のプログラムがどのオプションを使用するかを表示できます。次の例は、<code class="literal">[client]</code> グループおよび <code class="literal">[mysql]</code> グループで検出されたオプションを表示するように指示された場合に、<span class="command"><strong>my_print_defaults</strong></span> が生成するであろう出力を示しています。
  </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>my_print_defaults client mysql</code></strong>
--port=3306
--socket=/tmp/mysql.sock
--no-auto-rehash
</pre><p>
    開発者へのメモ: オプションファイルの処理は、単にコマンド行引数の前に適切なグループ内のすべてのオプションを処理することによって、C クライアントライブラリに実装されています。これは、複数回指定されたオプションの最後のインスタンスを使用するプログラムではうまく機能します。複数指定されたオプションをこの方法で処理するが、オプションファイルを読み取らない C プログラムまたは C++ プログラムがある場合は、その機能を与えるために 2 行のみを追加する必要があります。標準 MySQL クライアントの任意のソースコードをチェックして、その方法を確認します。
  </p><p>
    MySQL へのほかのいくつかの言語インタフェースは C クライアントライブラリに基づいており、そのうちのいくつかはオプションファイルの内容にアクセスする方法を提供します。これらには、Perl および Python が含まれます。詳細は、使用するインタフェースのドキュメントを参照してください。
  </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="msql2mysql"></a>4.7.1 <span class="command"><strong>msql2mysql</strong></span> — mSQL プログラムを MySQL で使用するために変換</h3></div></div></div><a class="indexterm" name="idm139979147649328"></a><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          このユーティリティーは MySQL 5.6.17 で非推奨で、MySQL 5.7 で削除されます。
        </p></div><p>
        MySQL C API は最初、mSQL データベースシステムのものに非常に類似するように開発されました。このため mSQL プログラムは、C API 関数の名前を変えることによって MySQL と一緒に使用するために比較的容易に変換できることが多くあります。
      </p><p>
        <span class="command"><strong>msql2mysql</strong></span> ユーティリティーは、mSQL C API 関数呼び出しを MySQL の同等の関数呼び出しに変換します。<span class="command"><strong>msql2mysql</strong></span> は入力ファイルを直接変換するため、変換する前にオリジナルのコピーを作成してください。たとえば、<span class="command"><strong>msql2mysql</strong></span> は次のように使用します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cp client-prog.c client-prog.c.orig</code></strong>
shell&gt; <strong class="userinput"><code>msql2mysql client-prog.c</code></strong>
client-prog.c converted
</pre><p>
        そのあと <code class="filename">client-prog.c</code> を調べ、必要に応じて変換後の修正を行なってください。
      </p><p>
        <span class="command"><strong>msql2mysql</strong></span> は関数名の置換を実行するために <span class="command"><strong>replace</strong></span> ユーティリティーを使います。<a class="xref" href="programs.html#replace-utility" title="4.8.2 replace — 文字列置換ユーティリティー">セクション4.8.2「<span class="command"><strong>replace</strong></span> — 文字列置換ユーティリティー」</a>を参照してください。
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-config"></a>4.7.2 <span class="command"><strong>mysql_config</strong></span> — クライアントのコンパイル用オプションの表示</h3></div></div></div><a class="indexterm" name="idm139979147634912"></a><p>
        <span class="command"><strong>mysql_config</strong></span> は、MySQ クライアントをコンパイルして MySQL に接続するのに有用な情報を提供します。シェルスクリプトであるため、Unix および Unix 類似システムでのみ使用可能です。
      </p><p>
        <span class="command"><strong>mysql_config</strong></span> は次のオプションをサポートします。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysql_config_cflags"></a>
            <a class="indexterm" name="idm139979147629552"></a> <a class="indexterm" name="idm139979147627376"></a> <code class="option">--cflags</code>
          </p><p>
            <code class="literal">libmysqlclient</code> ライブラリのコンパイルに使用される、インクルードファイルを検索するための C コンパイラフラグおよび重要なコンパイラフラグおよび定義。返されるオプションは、ライブラリが作成されたときに使用された特定のコンパイラに結びついており、ユーザー自身のコンパイラ設定ではクラッシュする場合があります。インクルードパスのみを含むより移植性の高いオプションには、<code class="option">--include</code> を使用します。
          </p></li><li class="listitem"><p><a name="option_mysql_config_cxxflags"></a>
            <a class="indexterm" name="idm139979147620992"></a> <a class="indexterm" name="idm139979147618816"></a> <code class="option">--cxxflags</code>
          </p><p>
            <code class="option">--cflags</code> と同様ですが、C++ コンパイラフラグ用です。このオプションは MySQL 5.6.4 で追加されました。
          </p></li><li class="listitem"><p><a name="option_mysql_config_include"></a>
            <a class="indexterm" name="idm139979147613536"></a> <a class="indexterm" name="idm139979147611360"></a> <code class="option">--include</code>
          </p><p>
            MySQL インクルードファイルを検出するためのコンパイラオプション。
          </p></li><li class="listitem"><p><a name="option_mysql_config_libmysqld-libs"></a>
            <a class="indexterm" name="idm139979147606912"></a> <a class="indexterm" name="idm139979147604752"></a> <a class="indexterm" name="idm139979147602768"></a> <a class="indexterm" name="idm139979147600592"></a> <code class="option">--libmysqld-libs</code>, <code class="option">--embedded</code>
          </p><p>
            MySQL 組み込みサーバーにリンクするために必要なライブラリおよびオプション。
          </p></li><li class="listitem"><p><a name="option_mysql_config_libs"></a>
            <a class="indexterm" name="idm139979147595104"></a> <a class="indexterm" name="idm139979147592928"></a> <code class="option">--libs</code>
          </p><p>
            MySQL クライアントライブラリにリンクするために必要なライブラリおよびオプション。
          </p></li><li class="listitem"><p><a name="option_mysql_config_libs_r"></a>
            <a class="indexterm" name="idm139979147588384"></a> <a class="indexterm" name="idm139979147586208"></a> <code class="option">--libs_r</code>
          </p><p>
            スレッドセーフな MySQL クライアントライブラリにリンクするために必要なライブラリおよびオプション。In MySQL 5.6 ではすべてのクライアントライブラリはスレッドセーフであるため、このオプションを使用する必要はありません。すべての場合に <code class="option">--libs</code> オプションを使用できます。
          </p></li><li class="listitem"><p><a name="option_mysql_config_plugindir"></a>
            <a class="indexterm" name="idm139979147580512"></a> <a class="indexterm" name="idm139979147578368"></a> <code class="option">--plugindir</code>
          </p><p>
            MySQL の構成時に定義される、デフォルトのプラグインディレクトリパス名。
          </p></li><li class="listitem"><p><a name="option_mysql_config_port"></a>
            <a class="indexterm" name="idm139979147573728"></a> <a class="indexterm" name="idm139979147571552"></a> <a class="indexterm" name="idm139979147569600"></a> <code class="option">--port</code>
          </p><p>
            MySQL の構成時に定義される、デフォルトの TCP/IP ポート番号。
          </p></li><li class="listitem"><p><a name="option_mysql_config_socket"></a>
            <a class="indexterm" name="idm139979147565680"></a> <a class="indexterm" name="idm139979147563504"></a> <code class="option">--socket</code>
          </p><p>
            MySQL の構成時に定義される、デフォルトの Unix ソケットファイル。
          </p></li><li class="listitem"><p><a name="option_mysql_config_version"></a>
            <a class="indexterm" name="idm139979147559072"></a> <a class="indexterm" name="idm139979147556896"></a> <code class="option">--version</code>
          </p><p>
            MySQL 配布のバージョン番号。
          </p></li></ul></div><p>
        <span class="command"><strong>mysql_config</strong></span> をオプションなしで呼び出すと、サポートされるすべてのオプションおよびそれらの値のリストが表示されます。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql_config</code></strong>
Usage: /usr/local/mysql/bin/mysql_config [options]
Options:
  --cflags         [-I/usr/local/mysql/include/mysql -mcpu=pentiumpro]
  --include        [-I/usr/local/mysql/include/mysql]
  --libs           [-L/usr/local/mysql/lib/mysql -lmysqlclient
                    -lpthread -lm -lrt -lssl -lcrypto -ldl]
  --libs_r         [-L/usr/local/mysql/lib/mysql -lmysqlclient_r
                    -lpthread -lm -lrt -lssl -lcrypto -ldl]
  --socket         [/tmp/mysql.sock]
  --port           [3306]
  --version        [5.6.11]
  --libmysqld-libs [-L/usr/local/mysql/lib/mysql -lmysqld
                    -lpthread -lm -lrt -lssl -lcrypto -ldl -lcrypt]
</pre><p>
        コマンド行で、逆引用符を使用して <span class="command"><strong>mysql_config</strong></span> を使用して、特定のオプションに対して生成される出力を含めることができます。たとえば。MySQL クライアントプログラムのコンパイルおよびリンクを行うには、<span class="command"><strong>mysql_config</strong></span> を次のように使用します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>gcc -c `mysql_config --cflags` progname.c</code></strong>
shell&gt; <strong class="userinput"><code>gcc -o progname progname.o `mysql_config --libs`</code></strong>
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="my-print-defaults"></a>4.7.3 <span class="command"><strong>my_print_defaults</strong></span> — オプションファイルからのオプションの表示</h3></div></div></div><a class="indexterm" name="idm139979147543552"></a><p>
        <span class="command"><strong>my_print_defaults</strong></span> はオプションファイルのオプショングループ内にあるオプションを表示します。出力は指定されたオプショングループを読み取るプログラムによって使用されるオプションを示します。たとえば、<span class="command"><strong>mysqlcheck</strong></span> プログラムは <code class="literal">[mysqlcheck]</code> および <code class="literal">[client]</code> のオプショングループを読み取ります。標準オプションファイル内のこれらのグループに存在するオプションを確認するには、<span class="command"><strong>my_print_defaults</strong></span> を次のように起動します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>my_print_defaults mysqlcheck client</code></strong>
--user=myusername
--password=secret
--host=localhost
</pre><p>
        出力には、コマンド行で指定される形式のオプションが 1 行につき 1 つ含まれます。
      </p><p>
        <span class="command"><strong>my_print_defaults</strong></span> は次のオプションをサポートします。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_my_print_defaults_help"></a>
            <a class="indexterm" name="idm139979147532784"></a> <a class="indexterm" name="idm139979147530608"></a> <code class="option">--help</code>, <code class="option">-?</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_my_print_defaults_config-file"></a>
            <a class="indexterm" name="idm139979147525728"></a> <a class="indexterm" name="idm139979147523584"></a> <code class="option">--config-file=<em class="replaceable"><code>file_name</code></em></code>, <a class="indexterm" name="idm139979147520640"></a> <a class="indexterm" name="idm139979147518432"></a> <code class="option">--defaults-file=<em class="replaceable"><code>file_name</code></em></code>, <code class="option">-c <em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            指定されたオプションファイルのみを読み取ります。
          </p></li><li class="listitem"><p><a name="option_my_print_defaults_debug"></a>
            <a class="indexterm" name="idm139979147512608"></a> <a class="indexterm" name="idm139979147510432"></a> <code class="option">--debug=<em class="replaceable"><code>debug_options</code></em></code>, <code class="option">-# <em class="replaceable"><code>debug_options</code></em></code>
          </p><p>
            デバッグのログを書き込みます。一般的な <em class="replaceable"><code>debug_options</code></em> 文字列は <code class="literal">d:t:o,<em class="replaceable"><code>file_name</code></em></code> です。デフォルトは <code class="literal">d:t:o,/tmp/my_print_defaults.trace</code> です。
          </p></li><li class="listitem"><p><a name="option_my_print_defaults_defaults-extra-file"></a>
            <a class="indexterm" name="idm139979147502736"></a> <a class="indexterm" name="idm139979147500528"></a> <code class="option">--defaults-extra-file=<em class="replaceable"><code>file_name</code></em></code>, <a class="indexterm" name="idm139979147497568"></a> <a class="indexterm" name="idm139979147495376"></a> <code class="option">--extra-file=<em class="replaceable"><code>file_name</code></em></code>, <code class="option">-e <em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            このオプションファイルは、グローバルオプションファイルのあとに読み取りますが、(UNIX では) ユーザーオプションファイルの前に読み取るようにしてください。
          </p></li><li class="listitem"><p><a name="option_my_print_defaults_defaults-group-suffix"></a>
            <a class="indexterm" name="idm139979147489344"></a> <a class="indexterm" name="idm139979147487168"></a> <code class="option">--defaults-group-suffix=<em class="replaceable"><code>suffix</code></em></code>, <code class="option">-g <em class="replaceable"><code>suffix</code></em></code>
          </p><p>
            コマンド行で指名されたグループのほかに、指定されたサフィクスのあるグループを読み取ります。
          </p></li><li class="listitem"><p><a name="option_my_print_defaults_login-path"></a>
            <a class="indexterm" name="idm139979147481440"></a> <code class="option">--login-path=<em class="replaceable"><code>name</code></em></code>, <code class="option">-l <em class="replaceable"><code>name</code></em></code>
          </p><p>
            指名されたログインパスから <code class="filename">.mylogin.cnf</code> ログインファイルのオプションを読み取ります。<span class="quote">「<span class="quote">ログインパス</span>」</span>は、<code class="option">host</code>、<code class="option">user</code>、および <code class="option">password</code> という限定されたオプションのセットのみを許可するオプショングループです。ログインパスは、サーバーホストおよびそのサーバーで認証するための認証情報を示す値のセットであると考えてください。ログインパスファイルを作成するには、<span class="command"><strong>mysql_config_editor</strong></span> ユーティリティーを使用します。<a class="xref" href="programs.html#mysql-config-editor" title="4.6.6 mysql_config_editor — MySQL 構成ユーティリティー">セクション4.6.6「<span class="command"><strong>mysql_config_editor</strong></span> — MySQL 構成ユーティリティー」</a>を参照してください。このオプションは MySQL 5.6.6 で追加されました。
          </p></li><li class="listitem"><p><a name="option_my_print_defaults_no-defaults"></a>
            <a class="indexterm" name="idm139979147471904"></a> <a class="indexterm" name="idm139979147469792"></a> <code class="option">--no-defaults</code>, <code class="option">-n</code>
          </p><p>
            空の文字列を返します。
          </p></li><li class="listitem"><p><a name="option_my_print_defaults_verbose"></a>
            <a class="indexterm" name="idm139979147464976"></a> <a class="indexterm" name="idm139979147462800"></a> <code class="option">--verbose</code>, <code class="option">-v</code>
          </p><p>
            冗長モード。プログラムの動作についてより多くの情報を出力します。
          </p></li><li class="listitem"><p><a name="option_my_print_defaults_version"></a>
            <a class="indexterm" name="idm139979147457920"></a> <a class="indexterm" name="idm139979147455744"></a> <code class="option">--version</code>, <code class="option">-V</code>
          </p><p>
            バージョン情報を表示して終了します。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="resolve-stack-dump"></a>4.7.4 <span class="command"><strong>resolve_stack_dump</strong></span> — 数値スタックトレースダンプをシンボルに解決</h3></div></div></div><a class="indexterm" name="idm139979147449984"></a><p>
        <span class="command"><strong>resolve_stack_dump</strong></span> は、数値スタックトレースダンプをシンボルに解決します。
      </p><p>
        <span class="command"><strong>resolve_stack_dump</strong></span> は次のように起動します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>resolve_stack_dump [<em class="replaceable"><code>options</code></em>] <em class="replaceable"><code>symbols_file</code></em> [<em class="replaceable"><code>numeric_dump_file</code></em>]</code></strong>
</pre><p>
        シンボルファイルは <span class="command"><strong>nm --numeric-sort mysqld</strong></span> コマンドからの出力を含むようにしてください。数値ダンプファイルは <span class="command"><strong>mysqld</strong></span> からの数値スタックトラックを含むようにしてください。コマンド行で数値ダンプファイルが指名されていない場合は、スタックトレースは標準入力から読み取られます。
      </p><p>
        <span class="command"><strong>resolve_stack_dump</strong></span> は次のオプションをサポートします。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_resolve_stack_dump_help"></a>
            <a class="indexterm" name="idm139979147438624"></a> <a class="indexterm" name="idm139979147436448"></a> <code class="option">--help</code>, <code class="option">-h</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_resolve_stack_dump_numeric-dump-file"></a>
            <a class="indexterm" name="idm139979147431536"></a> <a class="indexterm" name="idm139979147429376"></a> <code class="option">--numeric-dump-file=<em class="replaceable"><code>file_name</code></em></code>, <code class="option">-n <em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            指定されたファイルからスタックトレースを読み取ります。
          </p></li><li class="listitem"><p><a name="option_resolve_stack_dump_symbols-file"></a>
            <a class="indexterm" name="idm139979147423936"></a> <a class="indexterm" name="idm139979147421776"></a> <code class="option">--symbols-file=<em class="replaceable"><code>file_name</code></em></code>, <code class="option">-s <em class="replaceable"><code>file_name</code></em></code>
          </p><p>
            指定されたシンボルファイルを使用します。
          </p></li><li class="listitem"><p><a name="option_resolve_stack_dump_version"></a>
            <a class="indexterm" name="idm139979147416304"></a> <a class="indexterm" name="idm139979147414128"></a> <code class="option">--version</code>, <code class="option">-V</code>
          </p><p>
            バージョン情報を表示して終了します。
          </p></li></ul></div><p>
        詳細は<a class="xref" href="extending-mysql.html#using-stack-trace" title="24.4.1.5 スタックトレースの使用">セクション24.4.1.5「スタックトレースの使用」</a>を参照してください。
      </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="programs-miscellaneous"></a>4.8 その他のプログラム</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="programs.html#perror">4.8.1 <span class="command"><strong>perror</strong></span> — エラーコードの説明</a></span></dt><dt><span class="section"><a href="programs.html#replace-utility">4.8.2 <span class="command"><strong>replace</strong></span> — 文字列置換ユーティリティー</a></span></dt><dt><span class="section"><a href="programs.html#resolveip">4.8.3 <span class="command"><strong>resolveip</strong></span> — ホスト名と IP アドレスの解決</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="perror"></a>4.8.1 <span class="command"><strong>perror</strong></span> — エラーコードの説明</h3></div></div></div><a class="indexterm" name="idm139979147406096"></a><a class="indexterm" name="idm139979147404880"></a><a class="indexterm" name="idm139979147402832"></a><a class="indexterm" name="idm139979147401616"></a><p>
        ほとんどのシステムエラーでは、MySQL は内部テキストメッセージに加えて、次のスタイルのいずれかでシステムエラーコードを表示します。
      </p><pre class="programlisting">
message ... (errno: #)
message ... (Errcode: #)
</pre><p>
        システムのドキュメントを確認するか <span class="command"><strong>perror</strong></span> ユーティリティーを使用することで、エラーコードの意味がわかります。
      </p><p>
        <span class="command"><strong>perror</strong></span> は、システムエラーコードまたはストレージエンジン (テーブルハンドラ) エラーコードの説明を出力します。
      </p><p>
        <span class="command"><strong>perror</strong></span> は次のように起動します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>perror [<em class="replaceable"><code>options</code></em>] <em class="replaceable"><code>errorcode</code></em> ...</code></strong>
</pre><p>
        例:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>perror 13 64</code></strong>
OS error code  13:  Permission denied
OS error code  64:  Machine is not on the network
</pre><p>
        MySQL Cluster エラーコードのエラーメッセージを取得するには、<span class="command"><strong>perror</strong></span> を <code class="option">--ndb</code> オプションで呼び出します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>perror --ndb <em class="replaceable"><code>errorcode</code></em></code></strong>
</pre><p>
        システムエラーメッセージの意味はユーザーのオペレーティングシステムによって異なる場合があります。異なるオペレーティングシステムでは、所定のエラーコードの意味が異なる場合があります。
      </p><p>
        <span class="command"><strong>perror</strong></span> は次のオプションをサポートします。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_perror_help"></a>
            <a class="indexterm" name="idm139979147383472"></a> <a class="indexterm" name="idm139979147381328"></a> <code class="option">--help</code>, <code class="option">--info</code>, <code class="option">-I</code>, <code class="option">-?</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_perror_ndb"></a>
            <a class="indexterm" name="idm139979147375184"></a> <a class="indexterm" name="idm139979147373056"></a> <code class="option">--ndb</code>
          </p><p>
            MySQL Cluster エラーコードのエラーメッセージを出力します。
          </p></li><li class="listitem"><p><a name="option_perror_silent"></a>
            <a class="indexterm" name="idm139979147368608"></a> <a class="indexterm" name="idm139979147366464"></a> <code class="option">--silent</code>, <code class="option">-s</code>
          </p><p>
            サイレントモード。エラーメッセージのみ出力します。
          </p></li><li class="listitem"><p><a name="option_perror_verbose"></a>
            <a class="indexterm" name="idm139979147361568"></a> <a class="indexterm" name="idm139979147359424"></a> <code class="option">--verbose</code>, <code class="option">-v</code>
          </p><p>
            冗長モード。エラーコードおよびメッセージを出力します。これはデフォルトの動作です。
          </p></li><li class="listitem"><p><a name="option_perror_version"></a>
            <a class="indexterm" name="idm139979147354496"></a> <a class="indexterm" name="idm139979147352352"></a> <code class="option">--version</code>, <code class="option">-V</code>
          </p><p>
            バージョン情報を表示して終了します。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="replace-utility"></a>4.8.2 <span class="command"><strong>replace</strong></span> — 文字列置換ユーティリティー</h3></div></div></div><a class="indexterm" name="idm139979147346704"></a><a class="indexterm" name="idm139979147345312"></a><p>
        <span class="command"><strong>replace</strong></span> ユーティリティープログラムは、ファイルまたは標準入力の文字列を変更します。
      </p><p>
        <span class="command"><strong>replace</strong></span> は次のいずれかの方法で起動します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>replace <em class="replaceable"><code>from</code></em> <em class="replaceable"><code>to</code></em> [<em class="replaceable"><code>from</code></em> <em class="replaceable"><code>to</code></em>] ... -- <em class="replaceable"><code>file_name</code></em> [<em class="replaceable"><code>file_name</code></em>] ...</code></strong>
shell&gt; <strong class="userinput"><code>replace <em class="replaceable"><code>from</code></em> <em class="replaceable"><code>to</code></em> [<em class="replaceable"><code>from</code></em> <em class="replaceable"><code>to</code></em>] ... &lt; <em class="replaceable"><code>file_name</code></em></code></strong>
</pre><p>
        <em class="replaceable"><code>from</code></em> は検索する文字列を表し、<em class="replaceable"><code>to</code></em> は変更後の文字列を表しています。文字列のペアは 1 つまたは複数指定できます。
      </p><p>
        <code class="option">--</code> オプションを使用して、文字列置換リストが終了しファイル名が開始する位置を示します。この場合、コマンド行で指定されたファイルは直接変更されるため、変換する前にオリジナルのコピーを作成するとよいでしょう。<em class="replaceable"><code>replace</code></em> は、どの入力ファイルが実際に変更されたを示すメッセージを出力します。
      </p><p>
        <code class="option">--</code> オプションが与えられていない場合、<span class="command"><strong>replace</strong></span> は標準入力を読み取って標準出力に書き出します。
      </p><p>
        <span class="command"><strong>replace</strong></span> は有限状態マシンを使用して長い文字列から先に一致します。これは文字列の交換に使用できます。たとえば次のコマンドは、指定されたファイル <code class="filename">file1</code> および <code class="filename">file2</code> 内の <code class="literal">a</code> と <code class="literal">b</code> を交換します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>replace a b b a -- file1 file2 ...</code></strong>
</pre><p>
        <span class="command"><strong>replace</strong></span> プログラムは <span class="command"><strong>msql2mysql</strong></span> に使用されています。<a class="xref" href="programs.html#msql2mysql" title="4.7.1 msql2mysql — mSQL プログラムを MySQL で使用するために変換">セクション4.7.1「<span class="command"><strong>msql2mysql</strong></span> — mSQL プログラムを MySQL で使用するために変換」</a>を参照してください。
      </p><p>
        <span class="command"><strong>replace</strong></span> は次のオプションをサポートします。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_replace_help"></a>
            <code class="option">-?</code>、<code class="option">-I</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_replace_debug"></a>
            <code class="option">-#<em class="replaceable"><code>debug_options</code></em></code>
          </p><p>
            デバッグを有効にします。
          </p></li><li class="listitem"><p><a name="option_replace_silent"></a>
            <code class="option">-s</code>
          </p><p>
            サイレントモード。プログラムの動作についてより少ない情報を出力します。
          </p></li><li class="listitem"><p><a name="option_replace_verbose"></a>
            <code class="option">-v</code>
          </p><p>
            冗長モード。プログラムの動作についてより多くの情報を出力します。
          </p></li><li class="listitem"><p><a name="option_replace_version"></a>
            <code class="option">-V</code>
          </p><p>
            バージョン情報を表示して終了します。
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="resolveip"></a>4.8.3 <span class="command"><strong>resolveip</strong></span> — ホスト名と IP アドレスの解決</h3></div></div></div><a class="indexterm" name="idm139979147305712"></a><p>
        <span class="command"><strong>resolveip</strong></span> ユーティリティーはホスト名を IP アドレスに、IP アドレスをホスト名に解決します。
      </p><p>
        <span class="command"><strong>resolveip</strong></span> は次のように起動します。
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>resolveip [<em class="replaceable"><code>options</code></em>] {<em class="replaceable"><code>host_name</code></em>|<em class="replaceable"><code>ip-addr</code></em>} ...</code></strong>
</pre><p>
        <span class="command"><strong>resolveip</strong></span> は次のオプションをサポートします。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_resolveip_help"></a>
            <a class="indexterm" name="idm139979147296720"></a> <a class="indexterm" name="idm139979147294576"></a> <code class="option">--help</code>, <code class="option">--info</code>, <code class="option">-?</code>, <code class="option">-I</code>
          </p><p>
            ヘルプメッセージを表示して終了します。
          </p></li><li class="listitem"><p><a name="option_resolveip_silent"></a>
            <a class="indexterm" name="idm139979147288368"></a> <a class="indexterm" name="idm139979147286224"></a> <code class="option">--silent</code>, <code class="option">-s</code>
          </p><p>
            サイレントモード。出力の生成を少なくします。
          </p></li><li class="listitem"><p><a name="option_resolveip_version"></a>
            <a class="indexterm" name="idm139979147281360"></a> <a class="indexterm" name="idm139979147279184"></a> <code class="option">--version</code>, <code class="option">-V</code>
          </p><p>
            バージョン情報を表示して終了します。
          </p></li></ul></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tutorial.html">前</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="server-administration.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">第 3 章 チュートリアル </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> 第 5 章 MySQL サーバーの管理</td></tr></table></div><div class="copyright-footer"></div></body></html>
